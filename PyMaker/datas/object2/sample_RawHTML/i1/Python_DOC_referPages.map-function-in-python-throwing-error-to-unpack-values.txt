<div class="post-text" itemprop="text">
<p>I am trying to run the following speed of code </p>
<pre><code>punctDict = {'(':' ( ',')':' ) ','\t':'','\n':''}

for keys,value in map(re.escape, punctDict.keys(  )):
    print(keys,value)
</code></pre>
<p>It works fine and gives me an expected output</p>
<p>But if I try with <code>punctDict = {'(':' ( ',')':' ) ','t':'','n':''}</code></p>
<p>The above for loop throws an exception as </p>
<pre><code>ValueError: not enough values to unpack (expected 2, got 1)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is that you're using <code>for keys,value</code> to unpack a string with only one character in it. Observe the difference in output between this:</p>
<pre><code>&gt;&gt;&gt; punctDict = {'(':' ( ',')':' ) ','\t':'','\n':''}
&gt;&gt;&gt; map(re.escape, punctDict.keys())
['\\)', '\\(', '\\\t', '\\\n']
</code></pre>
<p>and this:</p>
<pre><code>&gt;&gt;&gt; punctDict = {'(':' ( ',')':' ) ','t':'','n':''}
&gt;&gt;&gt; map(re.escape, punctDict.keys())
['\\)', '\\(', 't', 'n']
</code></pre>
<p>Notice that in the second example, 't' and 'n' just become 't' and 'n', and single-character strings cannot be unpacked using the comma notation. Since you're only <code>re.escape()</code>-ing the keys of your <code>punctDict</code>, you should not expect to get both keys and values in your for loop. </p>
<p>The <code>keys,value</code> that you are running here isn't actually accessing the keys and values of <code>punctDict</code> both <code>re.escape()</code>-d, but rather only escaping the keys and trying to split the string (and succeeding because the string has only 2 characters. </p>
<p>You can see the same behaviour if you compare this:</p>
<pre><code>&gt;&gt;&gt; firstPart, secondPart = 'xy'
&gt;&gt;&gt; firstPart
'x'
&gt;&gt;&gt; secondPart
'y'
</code></pre>
<p>with this:</p>
<pre><code>&gt;&gt;&gt; firstPart, secondPart = 'x'

Traceback (most recent call last):
  File "&lt;pyshell#60&gt;", line 1, in &lt;module&gt;
    firstPart, secondPart = 'x'
ValueError: need more than 1 value to unpack
</code></pre>
<p>and even this:</p>
<pre><code>&gt;&gt;&gt; firstPart, secondPart = 'xyz'

Traceback (most recent call last):
  File "&lt;pyshell#61&gt;", line 1, in &lt;module&gt;
    firstPart, secondPart = 'xyz'
ValueError: too many values to unpack
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow noreferrer">map() function</a> outputs an iterator, which cannot unpack to a key and value tuple.</p>
<p>For going around that you can use a <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">dictionary comprehension</a> to map your dictionary keys to escape it.</p>
<p>Here's a sample:</p>
<hr/>
<pre><code>import re

punctDict = {
    '(': ' ( ',
    ')':' ) ',
    '\t':'',
    '\n':''
}

escaped_punct_dict = { re.escape(key) : value for (key,value) in punctDict.items() }

for keys, value in escaped_punct_dict.items():
    print(keys,value)
</code></pre>
</div>
<span class="comment-copy"><i>map() function outputs an iterator, which cannot unpack to a key and value tuple.</i> - In general yes, but OP's first input is one example of a situation in which unpacking does work on the values in an iterator. It depends on what the iterator is outputting :)</span>
