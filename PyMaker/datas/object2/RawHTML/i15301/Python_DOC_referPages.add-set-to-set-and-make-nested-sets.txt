<div class="post-text" itemprop="text">
<p>In Python I want to make sets consisting of sets, so I get a set of sets (nested sets).</p>
<p>Example:</p>
<pre><code>{{1,2}, {2,3}, {4,5}}
</code></pre>
<p>However when I try the following:</p>
<pre><code>s = set()
s.add(set((1,2)))
</code></pre>
<p>I get an error:</p>
<pre><code>Traceback (most recent call last):
  File "&lt;pyshell#26&gt;", line 1, in &lt;module&gt;
    s.add(set((1,2)))
TypeError: unhashable type: 'set'
</code></pre>
<p>Can anyone tell me where my mistake is and how I achieve my goal please?</p>
</div>
<div class="post-text" itemprop="text">
<p>Your issue is that sets can only contain <a href="https://docs.python.org/2/glossary.html#term-hashable" rel="noreferrer">hashable</a> objects, and a <code>set</code> is not hashable.</p>
<p>You should use the <a href="https://docs.python.org/2/library/stdtypes.html#frozenset" rel="noreferrer"><code>frozenset</code></a> type, which <em>is</em> hashable, for the elements of the outer set.</p>
<pre><code>In [3]: s = set([frozenset([1,2]), frozenset([3,4])])

In [4]: s
Out[4]: {frozenset({1, 2}), frozenset({3, 4})}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You cannot have a set of sets because sets are unhashable objects; they can be mutated by adding or removing items from them.</p>
<p>You will need to use a set of <a href="https://docs.python.org/3/library/functions.html#func-frozenset" rel="nofollow">frozensets</a> instead:</p>
<pre><code>s = set()
s.add(frozenset((1,2)))
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; s = set()
&gt;&gt;&gt; s.add(frozenset((1,2)))
&gt;&gt;&gt; s.add(frozenset((2,3)))
&gt;&gt;&gt; s.add(frozenset((4,5)))
&gt;&gt;&gt; s
{frozenset({1, 2}), frozenset({2, 3}), frozenset({4, 5})}
&gt;&gt;&gt;
</code></pre>
<p>Frozensets are like normal sets in every respect except that they cannot be mutated.  This feature makes them <a href="https://docs.python.org/3/glossary.html#term-hashable" rel="nofollow">hashable</a> and allows you to use them as items of a set or keys of a dictionary.</p>
</div>
<span class="comment-copy">Thank you both for your quick response :)  Okey, now I understand it. However I get involved with a further issue:  <code>set()</code> and <code>frozenset()</code> both create a (frozen)set with multiple elements if you give them a string parameter, like this:  <code>&gt;&gt;&gt; set('ab') {'a', 'b'}</code> <code>&gt;&gt;&gt; frozenset('ab') frozenset({'a', 'b'})</code>  Why they split the string in to separate elements? I wanted to get <code>{'ab'}</code> resp. <code>frozenset({'ab'})</code>  Could you please help me once again?</span>
<span class="comment-copy">@John - <code>frozenset</code> is iterating over the string and collecting its characters into a new frozenset.  You would need to do <code>frozenset(['ab'])</code> to keep the string intact.</span>
<span class="comment-copy">@iCodez - thank you once again for your help - now it works fine :)</span>
