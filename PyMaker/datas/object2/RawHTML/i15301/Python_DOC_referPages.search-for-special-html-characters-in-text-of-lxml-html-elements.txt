<div class="post-text" itemprop="text">
<p>Given an (un)ordered list I have to check if special HTML arrows are being used (and replace them with Latex arrows). lxml.html is a requirement.</p>
<p>I was tinkering around but then I couldn't get past the following:</p>
<pre><code>import lxml.html

my_string = "&lt;li&gt;I have a dream &amp;#8594; Hello!&lt;/li&gt;"
elem = lxml.html.fromstring(my_string)

if "&amp;#8594;" in my_string:    # True
    print("foo")

if "&amp;#8594;" in elem.text:    # False
    print("bar")
</code></pre>
<p>I am unable to understand why the second if-condition evaluates to False.
How can I check if (&amp; #8594;) "→" exists in elem.text?</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to search for a unicode representation of the <code>→</code>:</p>
<pre><code>&gt;&gt;&gt; s = u"→"
&gt;&gt;&gt; s
u'\u2192'

&gt;&gt;&gt; import lxml.html
&gt;&gt;&gt; 
&gt;&gt;&gt; my_string = "&lt;li&gt;I have a dream &amp;#8594; Hello!&lt;/li&gt;"
&gt;&gt;&gt; elem = lxml.html.fromstring(my_string)
&gt;&gt;&gt; 
&gt;&gt;&gt; if u'\u2192' in elem.text:
...     print("bar")
... 
bar
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>...and if you're looking to replace the character, import "re" like this:</p>
<pre><code>import re
re.sub(u'\u2192', '&amp;rarr;', my_string)
</code></pre>
</div>
<span class="comment-copy">Thanks! And I came across this: <a href="https://docs.python.org/3/library/html.entities.html" rel="nofollow noreferrer">docs.python.org/3/library/html.entities.html</a></span>
