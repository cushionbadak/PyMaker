<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/26902359/best-way-to-check-if-an-item-is-present-in-a-list-of-lists">Best way to check if an item is present in a list of lists? [duplicate]</a>
<span class="question-originals-answer-count">
                    5 answers
                </span>
</li>
</ul>
</div>
<p>I have a nested list of Python strings, like this one:</p>
<pre><code>l = [['a', 'b', 'c'], ['d', 'e', 'f']]
</code></pre>
<p>I would like to quickly test if a given string is equal to any of the strings in any of the sublists. I could write a function to flatten the list, but the test needs to happen in a time-critical portion of my program. Is there a faster or more elegant way to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can't avoid having to loop and scan through elements here; but you can at least avoid having to scan all lists, and delegate the task of scanning each sublist to Python C code.</p>
<p>Use the <a href="https://docs.python.org/3/library/functions.html#any"><code>any()</code> function</a> to test each sublist in a generator expression:</p>
<pre><code>any(search in sublist for sublist in l)
</code></pre>
<p><code>any()</code> will stop iterating over the generator expression the moment if finds a <code>True</code> value (e.g. when <code>search in sublist</code> found a match).</p>
</div>
<span class="comment-copy">Iterate over the lists?</span>
<span class="comment-copy">@AshwiniChaudhary: Should I delete?</span>
<span class="comment-copy">This is the best solution because it short-circuits. It will at worst be O(N), but it must be by definition of the problem. At best you will hit the short circuit and bail earlier.</span>
