<div class="post-text" itemprop="text">
<p>How should I remove the first line of a big CSV file in python?
I looked into the previous solutions in here, one was:</p>
<pre><code>with open("test.csv",'r') as f:
    with open("updated_test.csv",'w') as f1:
        f.next() # skip header line
        for line in f:
            f1.write(line)
</code></pre>
<p>which gave me this error:</p>
<pre class="lang-none prettyprint-override"><code>f.next() # skip header line
AttributeError: '_io.TextIOWrapper' object has no attribute 'next'
</code></pre>
<p>the other solution was:</p>
<pre><code>with open('file.txt', 'r') as fin:
    data = fin.read().splitlines(True)
with open('file.txt', 'w') as fout:
    fout.writelines(data[1:])
</code></pre>
<p>Which brings memory issue!</p>
</div>
<div class="post-text" itemprop="text">
<p>Replace <code>f.next()</code> to <code>next(f)</code></p>
<pre><code>with open("test.csv",'r') as f, open("updated_test.csv",'w') as f1:
    next(f) # skip header line
    for line in f:
        f1.write(line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>use the <strong>f.__next__()</strong> instead of f.next()</p>
<p>documentation here:
<a href="https://docs.python.org/3/library/stdtypes.html#iterator.__next__" rel="nofollow">https://docs.python.org/3/library/stdtypes.html#iterator.<strong>next</strong></a></p>
</div>
<span class="comment-copy">Why do you want to do this?</span>
<span class="comment-copy">Because I want to remove the header line, Later these data will be merged and editing them will make more problem.</span>
<span class="comment-copy">Why waste your time skipping the header row when you can defer doing so to when you merge your files?</span>
<span class="comment-copy">Is this optimal for very large CSV files (with hundreds of thousands of rows)?</span>
<span class="comment-copy">@jsc123 yes it is</span>
<span class="comment-copy">No, don't do this. This method is used like this: <code>for x in myIter: ...</code>.</span>
<span class="comment-copy">Downvoted because a direct call to a double-underscore method is unpythonic here (they are ugly for a reason). Instead, prefer <code>next(f)</code>.</span>
<span class="comment-copy">thank you for pointing it out. I am here to learn too, the method worked for me and I did not evaluate the unpythonic way</span>
<span class="comment-copy">@LutzHorn:  <code>next(f)</code> is preferable. Straight-up iteration fails in the stated goal of skipping the first line.</span>
<span class="comment-copy">That's not my point. I stated that <code>__next__()</code> is used behind the scene by the code in my comment. I did not post my comment as an <i>answer</i> but as a <i>comment</i> for a bad answer.</span>
