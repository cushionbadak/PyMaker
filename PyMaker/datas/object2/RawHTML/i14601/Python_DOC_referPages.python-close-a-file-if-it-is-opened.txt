<div class="post-text" itemprop="text">
<p>I would like to insert the following function into a Python script, concerning a file, and I haven't found how to write it yet:</p>
<p>if the file is opened, close it
if it is already closed, do nothing</p>
<p>Any help will be really much appreciated. Thank you in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>You write this as <code>f.close()</code>.</p>
<p>In Python 3.x, <a href="https://docs.python.org/3/library/io.html#io.IOBase.close" rel="nofollow"><code>IOBase.close</code></a> says:</p>
<blockquote>
<p>Flush and close this stream. This method has no effect if the file is already closed.</p>
</blockquote>
<p>Likewise, in Python 2.x, <a href="https://docs.python.org/2/library/stdtypes.html#file.close" rel="nofollow"><code>file.close</code></a> says:</p>
<blockquote>
<p>Close the file … Calling close() more than once is allowed.</p>
</blockquote>
<hr/>
<p>Of course if you read the docs, you'll notice that files (whether 3.x <code>IOBase</code> or 2.x <code>file</code>) also have a <code>closed</code> attribute, so if you really wanted to write what you were asking for explicitly, you could:</p>
<pre><code>if not f.closed:
    f.close()
</code></pre>
<p>But that has no benefit over just calling <code>f.close()</code>. Unless you want to make sure that some file-like objects that aren't 100% file-like raise an inscrutable <code>AttributeError</code> instead of just working as you'd like, but I doubt you want that.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>f.close()</code> is the way to close a file. Python details how to use file operations <a href="https://docs.python.org/2/tutorial/inputoutput.html" rel="nofollow noreferrer">Here</a> in python 2 and <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer">here</a> in Python3</p>
</div>
<span class="comment-copy">What have you tried so far? <a href="https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">docs.python.org/2/tutorial/…</a></span>
<span class="comment-copy"><a href="https://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer">The docs</a> are invaluable.</span>
<span class="comment-copy">Does it mean it needs to close file <i>opened by another process</i>?</span>
