<div class="post-text" itemprop="text">
<p>I want to extract a substring from a string, which is conform to a certain regex. The regex is:</p>
<p><code>(\[\s*(\d)+ byte(s)?\s*\](\s*|\d|[A-F]|[a-f])+)</code></p>
<p>Which effectively means that all of these strings get accepted:</p>
<pre><code>[4 bytes] 66 74 79 70 33 67 70 35
[ 4 bytes ] 66 74 79 70 33 67 70 35
[1 byte] 66 74 79 70 33 67 70 35
</code></pre>
<p>I want to extract only the amount of bytes (just the number) from this string. I thought of doing this with <code>re.search</code>, but I'm not sure if that will work. What would be the cleanest and most performant way of doing this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/re.html#re.match.group" rel="nofollow"><code>match.group</code></a> to get the groups your regular expression defines:</p>
<pre><code>import re

s = """[4 bytes] 66 74 79 70 33 67 70 35
[ 4 bytes ] 66 74 79 70 33 67 70 35
[1 byte] 66 74 79 70 33 67 70 35"""
r = re.compile(r"(\[\s*(\d)+ byte(s)?\s*\](\s*|\d|[A-F]|[a-f])+)")

for line in s.split("\n"):
    m = r.match(line)
    if m:
        print(m.group(2))
</code></pre>
<p>The first group matches <code>[4 bytes]</code>, the second only <code>4</code>.</p>
<p>Output:</p>
<pre><code>4
4
1
</code></pre>
</div>
<span class="comment-copy">OP only wants the number of bytes!</span>
<span class="comment-copy">@Docteur changed that.</span>
<span class="comment-copy">@Tichodroma Thanks a lot!</span>
<span class="comment-copy">@pidgey <code>(\s*|\d|[A-F]|[a-f])+</code> should be rewritten as <code>[\s\dA-Fa-f]+</code> seeing as you don't care about what it captures.</span>
<span class="comment-copy">@Tichodroma: I leave it here so that you can consider to include it in your answer. You can leave it alone if you don't want to. I have already pinged the OP in my comment.</span>
