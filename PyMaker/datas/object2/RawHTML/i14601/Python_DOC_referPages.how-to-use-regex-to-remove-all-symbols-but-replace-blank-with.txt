<div class="post-text" itemprop="text">
<p>I know that with regex, for example</p>
<pre><code>re.sub(r'[^\w]', '', string)
</code></pre>
<p>I can remove symbols from the string. But what I want now is to remove all other symbols but replace blank with '-'. Is there any way to do that?</p>
<p>For example, </p>
<pre><code>string = "Felix's 3D's"
# I want it as "Felixs-3D"
</code></pre>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to replace spaces with <code>-</code> then ignore and str.replace:</p>
<pre><code>print(re.sub(r'[^\w\s]', '',string).replace(" ","-"))
Felixs-3Ds
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can specify a function to do the replacing:</p>
<pre><code>def replace(match):
    return '-' if match.group().isspace() else ''

re.sub(r'[^\w]', replace, string)
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; def replace(match):
...     return '-' if match.group().isspace() else ''
... 
&gt;&gt;&gt; string = "Felix's 3D's"
&gt;&gt;&gt; re.sub(r'[^\w]', replace, string)
'Felixs-3Ds'
</code></pre>
<p>From the <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow">docs</a>:</p>
<blockquote>
<p><code>re.sub(pattern, repl, string, count=0, flags=0)</code></p>
<p>...</p>
<p>If <code>repl</code> is a function, it is called for every non-overlapping
  occurrence of pattern. The function takes a single match object
  argument, and returns the replacement string.</p>
</blockquote>
<p>So, <code>replace</code> will receive each match and return <code>'-'</code> if it is whitespace or <code>''</code> otherwise.</p>
</div>
<div class="post-text" itemprop="text">
<p>Like so:</p>
<pre><code>&gt;&gt;&gt; st= "Felix's 3D's"
&gt;&gt;&gt; re.sub(r'(\s)|[^a-zA-Z]', lambda m: '-' if m.group(0).isspace() else '', st)
'Felixs-Ds'
</code></pre>
<p>You can also do this without a regex:</p>
<pre><code>&gt;&gt;&gt; st.translate(None,"'").replace(' ','-')
'Felixs-3Ds'
</code></pre>
<p>And you can place all the target 'special' characters in the second argument to translate.  </p>
</div>
