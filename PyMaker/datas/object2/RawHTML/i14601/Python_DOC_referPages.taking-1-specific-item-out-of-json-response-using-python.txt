<div class="post-text" itemprop="text">
<p>I am trying to get "id" number and use it in program afterwards. Response is .json if that matters</p>
<pre><code>{"run_at":1818086502,"quantity":295092,"queue":"units","original_duration":388900193,"duration":388900193,"unit_type":"Harrier","city_id":1102142875,"id":3720348749},"success":true}}
</code></pre>
<p>This is part of response where "id" is. </p>
<p>And this is what i have so far:</p>
<pre class="lang-python prettyprint-override"><code>cadena= "Draoumculiasis" + params + "LandCrocodile" + url + "Bevar-Asp" 
cadenau=cadena.encode('utf8')
m=hashlib.sha1(cadenau)
xs3=m.hexdigest()
headers= { 'Host': realm , 'Connection': 'keep-alive', 'Content-Length': len(params), 'Origin': 'http://castlemania-production.s3.amazonaws.com', 'x-s3-aws': xs3, 'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.79 Safari/535.11', 'content-type': 'application/x-www-form-urlencoded', 'Accept': '*/*', 'Accept-Encoding': 'gzip,deflate,sdch', 'Accept-Language': 'es-ES,es;q=0.8', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3', 'DNT': 1, 'Cookie': cookie }
conn=http.client.HTTPConnection(realm,80)
conn.request("POST",url,params, headers)
response=conn.getresponse() 
</code></pre>
<p>Id changes every time.</p>
<p>I have made part that makes id and that uses id, i need to connect those two without typing it manually.
Sadly i'm not programmer so i'm looking for complete solution if possible. I've done some research but could not figure it out. </p>
<p><strong>Update 1</strong></p>
<p>As suggested in Gord's answer I use </p>
<pre class="lang-python prettyprint-override"><code>responseData = response.read().decode('utf-8')
items = json.loads(responseData)
</code></pre>
<p>and now I get the error</p>
<pre class="lang-none prettyprint-override"><code>Traceback (most recent call last):
  File "N:\Files\doa\Py's\testinggettingid.py", line 54, in &lt;module&gt;
    items = json.loads(responseData)
  File "C:\Python34\lib\json\__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "C:\Python34\lib\json\decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "C:\Python34\lib\json\decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line1 column 1 (char 0)
</code></pre>
<p>Update 2 
I've removed the error by </p>
<pre><code>    response=conn.getresponse() 
responseData = response.read().decode('utf-8')
print(responseData)
items = json.loads(responseData)
idValue = items['id']
print(idValue)
</code></pre>
<p>But it shows my player id instead of a job id. </p>
<p>Update 3</p>
<p>print(response.getheaders()) as per request</p>
<p><img alt="enter image description here" src="https://i.stack.imgur.com/NyDv8.png"/></p>
</div>
<div class="post-text" itemprop="text">
<p>Consider a simplified example where your line of code</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; response=conn.getresponse()
</code></pre>
<p>has retrieved the response from the server and saved it as an <a href="https://docs.python.org/3/library/http.client.html" rel="nofollow">HTTPResponse object</a>, and when you <code>.read()</code> the response you see a JSON string like this</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; responseData = response.read().decode('utf-8')
&gt;&gt;&gt; responseData
'{"day": "Thursday", "id": 3720348749}'
</code></pre>
<p>You can use Python's built-in JSON decoder to convert that into a Dictionary object named <code>items</code></p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; items = json.loads(responseData)
</code></pre>
<p>Now you can extract the <code>id</code> value by referring to the Dictionary entry whose key is 'id'</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; idValue = items['id']
&gt;&gt;&gt; print(idValue)
3720348749
</code></pre>
<p>If you run the same code tomorrow and the <code>response</code> object that is returned contains</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; responseData = response.read().decode('utf-8')
&gt;&gt;&gt; responseData
'{"day": "Friday", "id": 4567890123}'
</code></pre>
<p>then the same set of steps will extract the new value for <code>id</code></p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; items = json.loads(responseData)
&gt;&gt;&gt; idValue = items['id']
&gt;&gt;&gt; print(idValue)
4567890123
</code></pre>
<p><strong>Update</strong></p>
<p>If your actual JSON data contains nested elements then you may need to use several "key" values to identify the item you want. For example if the "id" you want to retrieve is actually</p>
<pre class="lang-python prettyprint-override"><code>result
    job
        id
</code></pre>
<p>i.e., the JSON looks like</p>
<pre class="lang-python prettyprint-override"><code>'{"result": {"job": {"id": 12345678}}}'
</code></pre>
<p>then you will need to use</p>
<pre class="lang-python prettyprint-override"><code>idValue = items['result']['job']['id']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If I understand you correctly, you have a JSON response and you want to extract the value of a field named "id". From your question it appears that you are unfamiliar with JSON syntax. Please consult <a href="http://www.w3schools.com/json/json_syntax.asp" rel="nofollow">W3schools' JSON syntax manual</a> and/or <a href="https://docs.python.org/2/library/json.html" rel="nofollow">the documentation for Python's JSON library</a> if this is the case.</p>
<pre><code>import json
response = json.loads("{\"msg\": {\"run_at\":1818086502,\"quantity\":295092,\"queue\":\"units\",\"original_duration\":388900193,\"duration\":388900193,\"unit_type\":\"Harrier\",\"city_id\":1102142875,\"id\":3720348749},\"success\": true}")
print response["msg"]["id"]
</code></pre>
<p>The above code prints the value of the field "id" in the object "msg". </p>
</div>
<span class="comment-copy"><i>"i'm not programmer so i'm looking for complete solution if possible"</i> - this isn't a code-writing service; if you need a developer, hire one. Do note, though, that both code and JSON data are text - why on earth have you provided them as off-site screenshots?!</span>
<span class="comment-copy">I see no <code>id</code> in the URLs. Please don't link to screenshots. Include images or code.</span>
<span class="comment-copy">Please <a href="https://stackoverflow.com/posts/29674717/edit">edit</a> your question to include the code and/or sample data <i>as text</i>. Screenshots are not very helpful (especially when they are posted on ad-laden sites that apparently require Flash).</span>
<span class="comment-copy">My apologies, 1st time posting. Edited and if i knew developer i would hire it ^^ I doubt it is hard for someone with experience but it is for me.</span>
<span class="comment-copy">Your JSON format is invalid</span>
<span class="comment-copy">I feel really stupid now.  I get: Typeerror: the json object must be str, not 'HTTPresponse'.   Does this means it is not json? :/</span>
<span class="comment-copy">@Jacob I have updated my answer.</span>
<span class="comment-copy"><a href="http://prntscr.com/6vbsko" rel="nofollow noreferrer">prntscr.com/6vbsko</a> apologize for link, have no idea how to post code here.  This is error i am facing now. Thank you very much for your help</span>
<span class="comment-copy">@Jacob For help on posting code when you edit your question, look <a href="http://stackoverflow.com/editing-help#code">here</a>. As for the error, it appears that <code>responseData</code> contains stuff that the JSON decoder does not understand. Have your script <code>print(responseData)</code> and then show us what it looks like. If it is quite large then please post it to a site like <a href="http://pastebin.com/" rel="nofollow noreferrer">pastebin</a> and then post the link here. Please include the <i>entire</i> <code>responseData</code>, not just what you think may be relevant. (If some data is confidential then obfuscate it as XXXXX or similar, but don't just remove it.)</span>
<span class="comment-copy"><a href="http://pastebin.com/LrXLFxGj" rel="nofollow noreferrer">pastebin.com/LrXLFxGj</a> This is full response. I can get this through my script too (when i decode it too) but the minute i add instructions for getting "id" i get error from before.</span>
<span class="comment-copy">Yeah you understood me. But, i don't know how to get id when it different in every response.</span>
<span class="comment-copy">But the structure of the JSON object is surely the same every time, yes?</span>
<span class="comment-copy">Yes it is always the same.</span>
<span class="comment-copy">Can you please post the entire JSON response?</span>
<span class="comment-copy">It is kinda too long. Not sure how to post it whole. Has over 3k characters.</span>
