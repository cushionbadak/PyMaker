<div class="post-text" itemprop="text">
<p>I'm relatively new to python and I'm trying my hand at a weekend project. I want to navigate through my music directories and get the artist name of each music file and export that to a csv so that I can upgrade my music collection (a lot of it is from when I was younger and didn't care about quality). </p>
<p>Anyway, I'm trying to get the path of each music file in its respective directory, so I can pass it to id3 tag reading module to get the artist name.</p>
<p>Here is what I'm trying:</p>
<pre><code>import os

def main():
    for subdir, dirs, files in os.walk(dir):
        for file in files:
            if file.endswith(".mp3") or file.endswith(".m4a"):
                print(os.path.abspath(file))
</code></pre>
<p>However, .abspath() doesn't do what I think it should. If I have a directory like this:</p>
<pre><code>music
--1.mp3
--2.mp3
--folder
----a.mp3
----b.mp3
----c.mp3
----d.m4a
----e.m4a
</code></pre>
<p>and I run my code, I get this output:</p>
<pre><code>C:\Users\User\Documents\python_music\1.mp3
C:\Users\User\Documents\python_music\2.mp3
C:\Users\User\Documents\python_music\a.mp3
C:\Users\User\Documents\python_music\b.mp3
C:\Users\User\Documents\python_music\c.mp3
C:\Users\User\Documents\python_music\d.m4a
C:\Users\User\Documents\python_music\e.m4a
</code></pre>
<p>I'm confused why it doesn't show the 5 files being inside of a folder. 
Aside from that, am I even going about this in the easiest or best way? Again, I'm new to python so any help is appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>You are passing <em>just</em> the filename to <code>os.path.abspath()</code>, which has no context but your current working directory.</p>
<p>Join the path with the <code>subdir</code> parameter:</p>
<pre><code>print(os.path.join(subdir, file))
</code></pre>
<p>From the <a href="https://docs.python.org/3/library/os.path.html#os.path.abspath" rel="nofollow"><code>os.path.abspath()</code> documentation</a>:</p>
<blockquote>
<p>On most platforms, this is equivalent to calling the function <code>normpath()</code> as follows: <code>normpath(join(os.getcwd(), path))</code>.</p>
</blockquote>
<p>so if your current working directory is <code>C:\Users\User\Documents\python_music</code> all your files are joined relative to that.</p>
<p>But <code>os.walk</code> gives you the correct location to base filenames off instead; from <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow">the documentation</a>:</p>
<blockquote>
<p>For each directory in the tree rooted at directory <em>top</em> (including <em>top</em> itself), it yields a 3-tuple <code>(dirpath, dirnames, filenames)</code>.</p>
<p><em>dirpath</em> is a string, the path to the directory. <em>[...]</em> <em>filenames</em> is a list of the names of the non-directory files in <em>dirpath</em>. <strong>Note that the names in the lists contain no path components. To get a full path (which begins with <em>top</em>) to a file or directory in <em>dirpath</em>, do <code>os.path.join(dirpath, name)</code>.</strong></p>
</blockquote>
<p>Emphasis mine.</p>
</div>
<span class="comment-copy">You should add some prints and it will make it pretty obvious what is happening.</span>
