<div class="post-text" itemprop="text">
<p>I want to know if it's possible to rename file in folder from a text file
..?</p>
<p><strong><em>I explain:</em></strong></p>
<p>I have a text file in which we find for each line a name and path (and checksum).
I would like to rename the name of EVERY photo file ( path).</p>
<p><strong><em>Extract from text file:</em></strong></p>
<blockquote>
<p>...</p>
<p>15554615_05_hd.jpg    /photos/FRYW-1555-16752.jpg de9da252fa1e36dc0f96a6213c0c73a3
  15554615_06_hd.jpg    /photos/FRYW-1555-16753.jpg 04de10fa29b2e6210d4f8159b8c3c2a8</p>
<p>...</p>
</blockquote>
<p><strong><em>My /photos folder:</em></strong></p>
<p><img alt="My /photos folder" src="https://i.stack.imgur.com/1v5EA.png"/></p>
<p><strong><em>Example:</em></strong></p>
<p>Rename the file FRYW-1555-16752.jpg to 15554615_05_hd.jpg</p>
<p><strong><em>My script (just a beginning):</em></strong></p>
<pre><code>for line in open("myfile.txt") :
    print line.rstrip('\n') # .rstrip('\n') removes the line breaks
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import os

with open('file.txt') as f:
    for line in f:
        newname, file, checksum = line.split()
        if os.path.exists(file):
            try:
                os.rename(file, os.sep.join([os.path.dirname(file), newname]))
            except OSError:
                print "Got a problem with file {}. Failed to rename it to {}.".format(file, newname)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Something like this ought to work. Replace the <code>txt</code> with reading from a file and for the file names use something like <a href="https://docs.python.org/2/library/os.html#os.walk" rel="nofollow">os.walk</a></p>
<pre><code>import os
import shutil

txt = """
15554615_05_hd.jpg /photos/FRYW-1555-16752.jpg de9da252fa1e36dc0f96a6213c0c73a3
15554615_06_hd.jpg /photos/FRYW-1555-16753.jpg 04de10fa29b2e6210d4f8159b8c3c2a8
"""

filenames = 'FRYW-1555-16752', 'FRYW-1555-16753.jpg'

new_names = []
old_names = []
hashes = []
for line in txt.splitlines():
    if not line:
        continue

    new_name, old_name, hsh = line.split()
    new_names.append(new_name)
    old_names.append(old_name)
    hashes.append(hsh)

dump_folder = os.path.expanduser('~/Desktop/dump')  # or some other folder ...
if not os.path.exists(dump_folder):
    os.makedirs(dump_folder)
for old_name, new_name in zip(old_names, new_names):
    if os.path.exists(old_name):
        base = os.path.basename(old_name)
        dst = os.path.join(dump_folder, base)
        shutil.copyfile(old_name, dst)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem can be solved by: </p>
<ul>
<li>Looping through all files using <a href="https://docs.python.org/2/library/os.html#os.listdir" rel="nofollow">os.listdir()</a>. listdir will help you get all file name, with current directory, use os.listdir(".")</li>
<li>Then using <a href="https://docs.python.org/2/library/os.html#os.rename" rel="nofollow">os.rename()</a> to rename the file: os.rename(old_name, new_name)</li>
</ul>
<p>Sample code: assuming you're dealing with *.jpg</p>
<pre><code>added = "NEW"

for image in os.listdir("."):
    new_image = image[:len(image)-4] + added + image[len(image)-4:]
    os.rename(image, new_image)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Yes it can be done.</p>
<p>You can divide your problem in sub-problems:</p>
<ol>
<li>Open txt-file</li>
<li>Use line from txt-file to identify the image you want to rename and the new name you want to give to it</li>
<li>Open the image copy content and write it in a new file with the new name, save new file</li>
<li>Delete old file</li>
</ol>
<p>I am sure there will be a faster/better/more efficient way of doing this but it all comes to dividing and conquering your problem and its sub-problems. </p>
<p>Can be done in python using a loop, file open in read/write modes and "os" module to access the file system.</p>
</div>
<span class="comment-copy">Why do you think this would not be possible?</span>
<span class="comment-copy">@EdChum i don't know how i can do that in python i want some help to start</span>
<span class="comment-copy">Have a look at <a href="https://docs.python.org/3/library/shutil.html#shutil.move" rel="nofollow noreferrer">shutils.move</a></span>
<span class="comment-copy">@skyline75489 i just open my file and read them line by line</span>
<span class="comment-copy">@wonderb0lt my files (jpg) already exist i just want rename via my txt file</span>
