<div class="post-text" itemprop="text">
<p>I have 2 daemons, which should access the same Variable. 
I've created a 3rd file for global variables and each daemon can access the variable. But when one changes the variable the other one still sees the default value. </p>
<p>example:</p>
<p>glob.py</p>
<pre><code>time = 0
</code></pre>
<p>daemon a:</p>
<pre><code>import datetime
import time
import glob

while(True):
    glob.time = datetime.datetime.now()
    time.sleep(30)
</code></pre>
<p>daemon b:</p>
<pre><code>import glob

while(True):
    print(glob.time)
</code></pre>
<p>it would print 0 everytime
I hope I've made my problem clear, and someone can help me.
If you need some more information please feel free to ask.</p>
</div>
<div class="post-text" itemprop="text">
<p>It looks like (although you don't tell explicitly that) you are running your  programs in a completely independent way: two different invocations of the Python interpreter. </p>
<p>There is no such magic as you are hoping would exist: just as if you have two instances of the same program  running, each one will have its instance  of variables (global or otherwise).</p>
<p>If you are performing some simple task, the easier way to go is to have one text file as output for each process, and the other process trying to read information from the file generated by each  process it wants to know about - (you could even use named pipes in Unixes).</p>
<p>The other way is to have a Python script to coordinate the starting of your daemons using the <code>multiprocessing</code> stdlib module, and then create a multiprocessing.Manager object to share variables directly between process.
This can be more complicated to set up at first, but it is the clean thing to do. Check the docs on the Manager class here:
<a href="https://docs.python.org/3/library/multiprocessing.html" rel="nofollow">https://docs.python.org/3/library/multiprocessing.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/2/faq/programming.html#how-do-i-share-global-variables-across-modules" rel="nofollow">How do I share global variables across modules?</a> </p>
<blockquote>
<p>The canonical way to share information across modules within a single program is to create a special module (often called config or cfg). Just import the config module in all modules of your application; the module then becomes available as a global name. Because there is only one instance of each module, any changes made to the module object get reflected everywhere.:</p>
</blockquote>
<pre><code>import time
import glb

while(True):
    glb.t +=  1
    time.sleep(3)
    print glb.t 
</code></pre>
<p>b.py:</p>
<pre><code>import glb
import a
while(True):
    print(glb.t)
</code></pre>
<p>glb.py:</p>
<pre><code>t = 0
</code></pre>
<p>Output after starting a.py:</p>
<pre><code>python b.py
1
2
3
4
5
6
</code></pre>
</div>
<span class="comment-copy">if your daemons are processes, then they have separate dataspaces. If they are threads, they share the same dataspace (variables). Please clarify how you create/spawn them.</span>
<span class="comment-copy">Also, you should avoid naming a file "glob.py" as it will shadow with the stdlib module "glob" - which can lead to unexpected bugs.</span>
<span class="comment-copy">If you were using <code>threading</code> this would work as expected.  So I'm going to assume you are using <code>multiprocessing</code>.  See <a href="https://docs.python.org/2/library/multiprocessing.html#sharing-state-between-processes" rel="nofollow noreferrer">sharing state between processes</a>.</span>
<span class="comment-copy">Yes - this looks like what the O.P. was trying to do - but it looks like the other modules are being run as independent processes. (I guessed that from he naming them as "daemons")</span>
<span class="comment-copy">@jsbueno, based on the title and what the OP's code looks like I will leave the answer. It is the correct way to use a global variable in multiple files.</span>
<span class="comment-copy">I 'd not asked for you to remove the answer. It looks like it is not the correct thing the OP is in need - but it might be (and probably will be) the case for other people hitting this question.</span>
