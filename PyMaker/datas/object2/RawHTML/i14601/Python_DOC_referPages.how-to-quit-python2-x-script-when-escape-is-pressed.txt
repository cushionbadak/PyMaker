<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/510357/python-read-a-single-character-from-the-user">Python read a single character from the user</a>
<span class="question-originals-answer-count">
                    20 answers
                </span>
</li>
</ul>
</div>
<p>I'm new to python and I have a python2.x script that asks a user to enter a choice between answers A, B or C in bash. How can I make the script to quit immediately when only escape key is pressed at that time while waiting for user input? </p>
<p>For now, I have this function. However, after escape key I have to press enter too.</p>
<pre><code>def choice(prompt):
    """
    Choose A, B or C
    ESC exits script
    """
    while True:
        char = raw_input(prompt)
        if char.encode() == '\x1B': # ESC is pressed
            sys.exit("Quitting ...")
        elif char.lower() not in ('a', 'b', 'c'):
            print("Wrong input. Please try again.")
            continue
        else:
            break
    return char

user_choice = choice("\nChoose between A - C: ")
print("You chose %s.") % user_choice.upper()
</code></pre>
<p>The code is in UTF-8 and escape key in bash terminal gives me ^[. As I understand msvcrt doesn't work in Linux. Can this be done, so the script works in Windows and Linux?</p>
</div>
<div class="post-text" itemprop="text">
<p>To read and input without the user having to press enter you could use the <code>msvcrt</code> module. You can find more information about it <a href="http://effbot.org/librarybook/msvcrt.htm" rel="nofollow">here</a>.</p>
</div>
<span class="comment-copy">You can use <code>curses</code> module <a href="https://docs.python.org/3/library/curses.html" rel="nofollow noreferrer">docs.python.org/3/library/curses.html</a></span>
<span class="comment-copy"><code>curses</code> is (as far as possible) OS independent, and supplies the <code>getch()</code> function for a <code>Windows</code> object. It returns a single keystroke, with or without waiting, even ESC or CTRL-x. You can suppress the Ctrl-Break function etc. The package is called ncurses.</span>
<span class="comment-copy">@HansThen Thank you, that solved my issue. I added that classes and then getch = _Getch() char = getch.impl()</span>
<span class="comment-copy">@HansThen How can I recognize if enter key is pressed? I covered ESC with u'001b' but don't know unicode for enter if there is one?</span>
<span class="comment-copy">Thank you for your answer, but bash is Linux terminal  and I think 'msvcrt' is for Windows/DOS only.</span>
