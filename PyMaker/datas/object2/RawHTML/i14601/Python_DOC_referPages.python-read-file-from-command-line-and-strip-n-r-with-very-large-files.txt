<div class="post-text" itemprop="text">
<p>I am learning python for the first time and I've just learned that readlines() is incredibly slow and taxing on memory. This would be fine, but as I am programming for a data structures class with up to 10^6 inputs, I believe that runtime is very important.</p>
<p>This is what I have so far that works. I did not strip the '\r' yet.</p>
<pre><code>def generateListOfPoints(stuff):
    List = open(stuff).readlines()

    a = []

    for i in range(len(List)):
        a.append(List[i].rstrip('\n').split(","))

    return a
</code></pre>
<p>This is what I tried to do with a for loop (which I heard was better), but all I'm getting is errors and I don't know what is going on.</p>
<pre><code>def generateListOfPoints(stuff):

    a = []
    with open(stuff) as f:
        for line in f:
            a.append(stuff.rstrip('\n').rstrip('\r').split(","))
    return a
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Replace <code>stuff</code> with <code>line</code>. <code>stuff</code> is simply the filepath, the actual content is in <code>line</code> -- the variable used for iterating over the generator <code>f</code></p>
<pre><code>a.append(line.rstrip('\n').split(","))
</code></pre>
<p>You might like to store the list formed after using <code>split</code> on <code>line</code>, as a tuple instead, such that <code>a</code> would be a list of tuples, where each tuple would correspond to a <code>line</code> in the file. You can do that using:</p>
<pre><code>a.append(tuple(line.rstrip('\n').split(",")))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Make sure to name your variables so they make sense.  Naming something <code>stuff</code> is convenient but obviously leads to errors.  The example below renames this to <code>filename</code> and fixes appending <code>line</code> to the list instead of the filename.</p>
<p>Also, the <a href="https://docs.python.org/3/library/stdtypes.html#str.rstrip" rel="nofollow noreferrer"><code>rstrip</code></a> function takes a set of characters to strip, so you can strip both <code>\r</code> and <code>\n</code> in one function call.  So you would have:</p>
<pre><code>def generateListOfPoints(filename):
    a = []
    with open(filename) as f:
        for line in f:
            a.append(line.rstrip('\r\n').split(","))
    return a
</code></pre>
<p>This will create a list of lists.  If you want to flatten out the inner list in your solution, you will want to use <a href="https://stackoverflow.com/questions/252703/python-append-vs-extend">extend instead of append</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>I suggest you experiment using the command line interpreter. This
makes it easy to learn how rstring and split work. Assuming you
start using the line variable as suggested, You probably are not
appending to the a list what you want. Also you can strip both \n
and \r with one call to rstrip.</p>
<pre><code>python
&gt;&gt;&gt; a = []
&gt;&gt;&gt; line = "this,is,a,test\n\r"
&gt;&gt;&gt; line.rstrip('\n\r')
'this,is,a,test'
&gt;&gt;&gt; line.rstrip('\n\r').split(',')
['this', 'is', 'a', 'test']
&gt;&gt;&gt; a.append(line.rstrip('\n\r').split(','))
&gt;&gt;&gt; a
[['this', 'is', 'a', 'test']]
</code></pre>
</div>
<span class="comment-copy"><code>a.append(line.rstrip('\n').lstrip('\r').split(",")</code> is what you need.</span>
<span class="comment-copy">This is <b>wrong</b> because as Python will split the line on <code>\n</code> and due to that the <code>\r</code> will end up at the start of the next line(unless they are using old Mac OS which will consider <code>\r</code> as newline with universal newline support).</span>
<span class="comment-copy">Copying @krock's answer is not going to help as their solution is also incorrect.</span>
<span class="comment-copy">@AshwiniChaudhary The latest edit seems to work just fine.</span>
<span class="comment-copy">No, this is not correct either. Now you're simply using OP's first code.</span>
<span class="comment-copy">I did not see '\r' ending up at the start of the next line, on my python which is on Ubuntu, so I don't see what has to be fixed.</span>
<span class="comment-copy"><a href="http://stackoverflow.com/questions/29725941/python-read-file-from-command-line-and-strip-n-r-with-very-large-files#comment47586816_29725976" title="python read file from command line and strip n r with very large files%23comment47586816_29725976">stackoverflow.com/questions/29725941/â€¦</a></span>
