<div class="post-text" itemprop="text">
<p>I have appended excel sheet values to a list using xlrd. I called the list a_master. I have a text file with words that I want to count the occurrences of that appear in this list (I called this file dictionary and theirs 1 word per line). Here is the code:</p>
<pre><code>with open("dictionary.txt","r") as f:
for line in f:
    print "Count " + line + str((a_master).count(line)) 
</code></pre>
<p>For some reason though, the count comes back with zero for every count word that exists in the text file. If I write out the count for one of these words myself: </p>
<pre><code> print str((a_master).count("server"))
</code></pre>
<p>It counts the occurrences no problem.I have also tried </p>
<pre><code>print line
</code></pre>
<p>in order to see if it is seeing the words in the dictionary.txt file correctly and it is. </p>
</div>
<div class="post-text" itemprop="text">
<p>Lines read from the file is terminated by newline character. There may also be white space at the end. It is better to strip out any whitespace before doing a lookup</p>
<pre><code>with open("dictionary.txt","r") as f:
    for line in f:
        print "Count " + line + str((a_master).count(line.strip())) 
</code></pre>
<p><strong>Note</strong> Ideally, searching a list is linear and may not be optimal in most cases. I think <a href="https://docs.python.org/2/library/collections.html#collections.Counter" rel="nofollow">collections.Counter</a> is suitable for situation as you depicted. </p>
<p>Re-interpret your list as a dictionary where the key is the item and the value is the occurrence by passing it through <code>collections.Counter</code> as shown below</p>
<pre><code>a_master = collections.Counter(a_master)
</code></pre>
<p>and you can re-write your code as</p>
<pre><code>from itertools import imap
with open("dictionary.txt","r") as f:
    for line in imap(str.strip, f):
        print "Count {} {}".format(line, a_master[line])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow">collections.Counter()</a>:</p>
<pre><code>import re
import collections
words = re.findall(r'\w+', open('dictionary.txt').read().lower())
collections.Counter(words)
</code></pre>
<p>Why is this question tagged xlrd by the way?</p>
</div>
<span class="comment-copy">Could you provide the example of the file?</span>
<span class="comment-copy">This is a duplicate of <a href="http://stackoverflow.com/questions/8742732/python-number-of-word-occurrences" title="python number of word occurrences">stackoverflow.com/questions/8742732/â€¦</a></span>
<span class="comment-copy">@tommy.carstensen: Not an exact duplicate. Please read my answer.</span>
<span class="comment-copy">That works perfectly, thank you very much!</span>
<span class="comment-copy">@Danny: If this answers your question, please consider accepting it.</span>
<span class="comment-copy">One more question actually. In order to count occurrences of words in the list, I split up each word in the list. But what if i wanted to count the occurrences of "software defined networking". How would i go about doing this? Would i need to rewrite how that sentence appears in the dictionary.txt file? My txt file has a mixture of both single words as well as sentences.</span>
<span class="comment-copy">@Danny: Your second question is too complex to be answered in the comment box. I would suggest you to post a new question and someone may want to answer it. Just to brief you here, search for trie and prefix tree. That might be the solution to your problem.</span>
<span class="comment-copy">Ok thank you for your help</span>
