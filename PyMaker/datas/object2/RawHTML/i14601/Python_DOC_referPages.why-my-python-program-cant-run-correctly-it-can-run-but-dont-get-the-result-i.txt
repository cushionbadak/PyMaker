<div class="post-text" itemprop="text">
<p>The function of the program is to compress two folders and then save them to one folder. The program can run but I get an error message exactly as follows:</p>
<pre class="lang-none prettyprint-override"><code>C:\Python34\python.exe D:/Python/backup_ver1.py
'zip' �����ڲ����ⲿ���Ҳ���ǿ����еĳ���
���������ļ���

Failed backup
</code></pre>
<p>Yes, it's just as you see. I can't get more information from that.</p>
<p>The code is as follow:</p>
<pre><code>import os
import time
source = ['E:\\source1','E:\\source2']
target_dir = 'E:\\target'
target = target_dir + os.sep + time.strftime("%Y%m%d%H%M%S") +'.zip'
zip_command = 'zip -qr {0} {1}'.format(target,' '.join(source))

if os.system(zip_command) == 0:
    print("Successful bakup to",target)
else:
    print("Failed backup")
</code></pre>
<p>I have "source1", "source2" and "target" in my computer.</p>
</div>
<div class="post-text" itemprop="text">
<p>I use 7zip on my system, so my syntax is a little different than yours.
Try this:</p>
<pre><code>import os
import time
source = ['d:\\source1','d:\\source2']
target_dir = 'd:\\target'
target = target_dir + os.sep + time.strftime("%Y%m%d%H%M%S") +'.zip'
zip_command = '"C:\\Program Files\\7-Zip\\7z.exe" a {0} {1}'.format(target,' '.join(source))
if os.system(zip_command) == 0:
    print("Successful bakup to",target)
else:
    print("Failed backup")
</code></pre>
</div>
<span class="comment-copy">Why are you using a system call rather than using the built in zip api? <a href="https://docs.python.org/3/library/zipfile.html" rel="nofollow noreferrer">docs.python.org/3/library/zipfile.html</a></span>
<span class="comment-copy">Print out <code>zip_command</code> and run it in a shell. Does it work?</span>
<span class="comment-copy">This code looks familiar - how many other people in your class are asking about this on SO today?</span>
<span class="comment-copy">Is this Windows? What zip utility are you using?</span>
<span class="comment-copy">You should use op.path for manipulating (e.g. joining) paths. The output looks like some control codes or a confused console. Where did you ran this program from (IDE, console, IDLE, ...)?</span>
<span class="comment-copy">Thanks a lot.So friendly you are.</span>
