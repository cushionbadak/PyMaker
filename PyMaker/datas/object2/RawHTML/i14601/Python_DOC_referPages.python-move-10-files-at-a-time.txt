<div class="post-text" itemprop="text">
<p>Hi I am very new to programming, please excuse my ignorance.
I am trying to move 10 files from dir A to B at any instance, how ever the program should be flexible enough that when there is less than 10 files in the source directory it should not give an error whereas most the rest of it.</p>
<p>the loop I am using is. This work well when there is more than 10 files in the directory</p>
<pre><code>w =0
while w &lt; 10:
    w =w+1
    apple = random.choice(os.listdir("/home/prabh00b/dakoat_wb_script/2"))
    o = ''.join(["/home/prabh00b/dakoat_wb_script/2/", apple])
    shutil.move(o,"/home/prabh00b/dakoat_wb_script/")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Instead of using <code>random.choice</code>, use <a href="https://docs.python.org/3/library/random.html#random.sample" rel="noreferrer"><code>random.sample</code></a> to get 10 elements from the directory listing. This has the benefit that you only need to call <code>os.listdir</code> once, and don’t need to loop 10 times just to pick a new random element. It will also always give you distinct elements, so you won’t end up trying to move the same file twice.</p>
<p>To handle the case where there are less than 10 files, you can just check the length of the directory listing first. We can do this nicely by just getting the minimum of 10 or the length of the list (so you get at most 10 elements).</p>
<pre><code>files = os.listdir('/home/prabh00b/dakoat_wb_script/2')
for fileName in random.sample(files, min(len(files), 10)):
    path = os.path.join('/home/prabh00b/dakoat_wb_script/2', fileName)
    shutil.move(path, '/home/prabh00b/dakoat_wb_script/')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>poke's answer is surely the best in this case. I'd like to propose an alternative for learning purposes.</p>
<p><code>random.choice</code> will raise an IndexError exception when given an empty sequence (i.e. when there are no more files to move). To make your code work, you could catch IndexError and stop the loop as follows:</p>
<pre><code>w =0
while w &lt; 10:
    w =w+1
    try:
        apple = random.choice(os.listdir("/home/prabh00b/dakoat_wb_script/2"))
    except IndexError:
        # There are no more files to move. Exit the while loop.
        break
    o = ''.join(["/home/prabh00b/dakoat_wb_script/2/", apple])
    shutil.move(o,"/home/prabh00b/dakoat_wb_script/")
</code></pre>
</div>
