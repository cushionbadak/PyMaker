<div class="post-text" itemprop="text">
<p>I have a file named phone.py which give me output as(in terminal):</p>
<pre><code>+911234567890
+910123321423
</code></pre>
<p>There can be more number of outputs. </p>
<p>Another file named email.py which produces(in terminal):</p>
<pre><code>and@abc.com
bcd@cdc.com
</code></pre>
<p>or more.</p>
<p>And I have a JSON File whose structure is as follows:</p>
<pre><code>{"One":"Some data",
 "two":"Some more data",
 "three":"Even more data"}
</code></pre>
<p>There can be a many more sections like this.</p>
<p>Now I want the capture the terminal output and also load the existing JSON and finally, have an output as follows (as a JSON file):</p>
<pre><code>{Phone:"+911234567890,+910123321423", "Email":"and@abc.com,bcd@cdc.com","Sections":"{"One":"Some data",
 "two":"Some more data",
 "three":Even more data"}"}
</code></pre>
<p>I tried to capture the output using subprocess module in python and now it is stored in a variable</p>
<pre><code>subprocess.run(['python','email.py','filename.txt'], stdout= subprocess.PIPE)
</code></pre>
<p>output:</p>
<pre><code>CompletedProcess(args=['python', 'email_txt.py', 'upload/filename.txt'], returncode=0, stdout=b'abc@xyz.com\nbcd@dcd.com\n')
</code></pre>
<p>I have a string in which data is stored not I want the desired output through these components.
What can I do or refer to tackle this problem ? </p>
</div>
<div class="post-text" itemprop="text">
<p>You can obtain the stdout from <code>subprocess.run</code> simply by <code>resp.stdout</code>, where <code>resp</code> is the returned object.</p>
</div>
<div class="post-text" itemprop="text">
<p>As already mentioned by Rishav, you need to assign the output to a variable &amp; then use it to get the related attributes.</p>
<p><a href="https://docs.python.org/3/library/subprocess.html#subprocess.CompletedProcess" rel="nofollow noreferrer">Sample usage</a> -</p>
<pre><code>&gt;&gt;&gt; import subprocess
&gt;&gt;&gt; out = subprocess.run(["ls", "-l", "/dev/null"], stdout=subprocess.PIPE)
&gt;&gt;&gt; out.stdout
b'crw-rw-rw- 1 root root 1, 3 Apr  6  2017 /dev/null\n'
</code></pre>
</div>
<span class="comment-copy">Include your attempt at capturing the output.</span>
<span class="comment-copy">@AshishNitinPatil- Did</span>
<span class="comment-copy">Removing the <code>bash</code> tag as it is not an efficient way to construct the required <code>JSON</code></span>
<span class="comment-copy">Producing <code>"email": ["abc@xyz.com", "bcd@dcd.com"]</code> would seem like a better way to encode this in JSON.</span>
<span class="comment-copy">Why would you run Python in a subprocess? <code>import</code> the script and call its main function from within your own script.  This improves cohesion as well as performance.</span>
<span class="comment-copy">Maybe also mention that the optional argument <code>universal_newlines=True</code> will also take care of decoding any output according to the default terminal encoding.</span>
<span class="comment-copy">This is returned as type "bytes", how do i get it as a string ?</span>
<span class="comment-copy">You could use <code>out.stdout.decode('utf-8')</code>, as mentioned in <a href="http://stackoverflow.com/a/606199/2689986">stackoverflow.com/a/606199/2689986</a></span>
