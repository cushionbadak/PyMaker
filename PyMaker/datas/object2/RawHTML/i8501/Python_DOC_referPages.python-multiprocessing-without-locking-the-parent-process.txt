<div class="post-text" itemprop="text">
<p>OS:- Mac OSX
<br/>Python</p>
<p>I'm new to Multiprocessing with python. For my application, I want to open a new process from main and run it without locking the main process. for eg. I'm running process A and now i need to open a new application from A, lets call it process B. I want to open B in such a way that it does not blocks process A and still from Process i should be able to stop the process whenever i wish to.</p>
<p>Till now whatever code i have tried are basic and they lock the process A. and hence i'm unable to achieve it. Is there any workaround to do this ?</p>
<p>I read about fork and spawn but couldn't understand how can i use it to open an application. And i have tried threading also. But with no success. Can anyone tell me how can i do that ?</p>
<p>Currently I'm using subprocess.call() to open Mac Applications through Python.
It would be really helpful.</p>
<p><b>EDIT :- </b></p>
<p><a href="https://stackoverflow.com/questions/19308415/execute-terminal-command-from-python-in-new-terminal-window">I tried the accepted answer of this link</a>
but to no avail. Because it would block the terminal and once we close the app manually it exits with output 0. </p>
<p>Also I have tried this <a href="https://stackoverflow.com/questions/28845242/how-to-open-an-application-in-mac-os-using-python">solution</a>. It would do the same. I want to make the the calling process not to be blocked by the called process.</p>
<p>while doing the same task in windows with os.system() gives me exactly what i want. But i don't know how can i do this in Mac. </p>
<p>EDIT 2: CODE</p>
<p>module 1:</p>
<pre><code>import subprocess


def openCmd(name):

    subprocess.call(["/usr/bin/open", "-W", "-n", "-a", "/Applications/"+name+".app"])

def closeCmd(name):
    subprocess.call(['osascript', '-e', 'tell "'+name+'" to quit'])
</code></pre>
<p>main module:</p>
<pre><code>import speech_recognition as sr
import pyttsx
import opCl


speech_engine = pyttsx.init('nsss')
speech_engine.setProperty('rate', 150)

OPEN_COGNATES=['open']
CLOSE_COGNATES=['close']

def speak(text):
    speech_engine.say(text)
    speech_engine.runAndWait()

re = sr.Recognizer()  

def listen():
    with sr.Microphone() as source:
        re.adjust_for_ambient_noise(source)


        while True:
            speak("Say something!")
            print "&gt;&gt;",
            audio = re.listen(source)

            try:
                speak("now to recognise it,")
                value=re.recognize_google(audio)
                print  (value)
                speak("I heard you say {}".format(value))
                value=value.strip().split()
                name=" ".join(value[1:])
                if value[0] in OPEN_COGNATES:
                    speak("opening "+name)
                    opCl.openCmd(name)
                    pass
                elif value[0] in CLOSE_COGNATES:
                    speak("opening "+name)
                    opCl.closeCmd(name)
                    pass
                else:
                    pass


            except sr.UnknownValueError as e:
                speak("Could not understand audio")
                print ('Could not understand audio')
            except sr.RequestError as e:
                speak("can't recognise what you said.")
                print ("can't recognise what you said")


if __name__=='__main__':
    listen()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p><strong>Comment</strong>: it gave a traceback. FileNotFoundError: [Errno 2] No such file or directory: 'leafpad'  </p>
</blockquote>
<p>As i wrote, <strong>I can't</strong> us <code>"/usr/bin/open"</code> and <code>osascript</code>, so my example uses <code>'leafpad'</code>.</p>
<p>Have you tried replacing <code>Popen([name])</code> with your<br/>
<code>Popen(["/usr/bin/open", "-W", "-n", "-a", "/Applications/"+name+".app"])</code>?</p>
<p>You must pass the same <code>command args</code> as you start it from the <code>command line</code>.<br/>
Read this: <a href="https://stackoverflow.com/questions/1308755/launch-an-app-on-os-x-with-command-line">launch-an-app-on-os-x-with-command-line</a> </p>
<blockquote>
<p>Reread <strong><a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" rel="nofollow noreferrer">From Python » 3.6.1 Documentation subprocess.Popen  </a></strong><br/>
<strong>Note</strong>
  shlex.split() can be useful when determining the correct tokenization for args, especially in complex cases:</p>
</blockquote>
<hr/>
<blockquote>
<p><strong>Python » 3.6.1 Documentation</strong>:<br/>
  subprocess.call(args, *, stdin=None, stdout=None, stderr=None, shell=False, timeout=None)<br/>
  Run the command described by args. <strong>Wait for command to complete</strong>, then return the returncode attribute</p>
</blockquote>
<p>Your given <code>"/usr/bin/open"</code> and <code>osascript</code> didn't work for me.</p>
<p><a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" rel="nofollow noreferrer">From Python » 3.6.1 Documentation subprocess.Popen  </a><br/>
<strong>NOWAIT example</strong>, for instance:</p>
<pre><code>import subprocess

def openCmd(name):
    subprocess.Popen([name])

def closeCmd(name):
    subprocess.Popen(['killall', name])

if __name__ == '__main__':
    while True:
        key = input('input 1=open, 0=cloes, q=quit:')
        if key == '1':
            openCmd(('leafpad'))
        if key == '0':
            closeCmd('leafpad')
        if key == 'q':
            break
</code></pre>
<p><strong>Note</strong>: Killing a <code>process</code> can lead to data loos and or other problems.  </p>
<p><strong><em>Tested with Python:3.4.2</em></strong><br/>
I'm</p>
</div>
<span class="comment-copy">@stovfl I edited the question. I hope now it helps.</span>
<span class="comment-copy">i hope now it works @stovfl</span>
<span class="comment-copy">it gave a traceback.  <code>FileNotFoundError: [Errno 2] No such file or directory: 'leafpad'</code> event trying with safari didn't opened the application. i'm trying on python 3.6.1 <code>FileNotFoundError: [Errno 2] No such file or directory: 'safari'</code></span>
<span class="comment-copy">Thanx man. It worked now. But idk killall didn't worked. Instead <code>['osascript', '-e', 'tell application"'+name+'" to quit']</code> this worked. Thank you so much.</span>
