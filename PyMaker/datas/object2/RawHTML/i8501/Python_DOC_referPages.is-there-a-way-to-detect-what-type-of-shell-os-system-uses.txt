<div class="post-text" itemprop="text">
<p>How do you detect what shell <code>os.system</code> will call?</p>
<p>I am not sure if <code>os.name</code> or <code>sys.platform</code> will work, since the system might be configured to use a non-standard shell, like cygwin's shell on windows.</p>
<p>If my script is to run on windows and linux, I need to know the shell the system is using to know what syntax build commands with</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/os.html#os.system" rel="nofollow noreferrer">os.system(<em>command</em>) docs</a> state (summarized &amp; accentuated by me):</p>
<blockquote>
<p><strong>Execute the command (a string) in a subshell. This is implemented by
  calling the Standard C function system()</strong>, and has the same
  limitations.</p>
</blockquote>
<p><strong>WINDOWS</strong>:</p>
<p>For windows, we can read this from the mentioned os.system() docs:</p>
<blockquote>
<p>On Windows, the return value is that returned by the system shell
  after running command. <strong>The shell is given by the Windows environment
  variable COMSPEC</strong>: it is usually cmd.exe, which returns the exit status
  of the command run; on systems using a non-native shell, consult your
  shell documentation.</p>
</blockquote>
<p><strong>UNIX</strong>:</p>
<p>For Unix, the mentioned os.system() docs read:</p>
<blockquote>
<p>On Unix, the return value is the exit status of the process encoded in
  the format specified for wait(). Note that POSIX does not specify the
  <strong>meaning of the return value of the C system() function</strong>.</p>
</blockquote>
<p>And the <a href="https://linux.die.net/man/3/system" rel="nofollow noreferrer">Linux docs</a> appear to state that regarding the mentioned C function:</p>
<blockquote>
<p><strong>system()</strong> executes a command specified in command <strong>by calling /bin/sh -c</strong> command, and returns after the command has been
  completed.</p>
</blockquote>
<p>So, I guess it save to say that on most (though not necessarily all) Unix system a os.system() call from python will be executed via a <a href="https://en.wikipedia.org/wiki/Bourne_shell" rel="nofollow noreferrer">Bourne shell</a> command, c.q. <code>/bin/sh -c</code>.</p>
</div>
<span class="comment-copy">If I got your question right, maybe this can help: <a href="http://stackoverflow.com/a/1492667/5386668">stackoverflow.com/a/1492667/5386668</a></span>
<span class="comment-copy">If I got your question right, maybe this can help: <a href="http://stackoverflow.com/a/1492667/5386668">stackoverflow.com/a/1492667/5386668</a></span>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/1492508/python-can-you-tell-the-name-of-the-calling-shell">Python: can you tell the name of the calling shell?</a></span>
<span class="comment-copy">@GurupadHegde I am not sure it is a duplicate of that question, since that question asks how to retrieve the parent-shell of a script from within the script, this question asks how to find what shell is being called when it executes os.system(), so how to find the child-shell</span>
