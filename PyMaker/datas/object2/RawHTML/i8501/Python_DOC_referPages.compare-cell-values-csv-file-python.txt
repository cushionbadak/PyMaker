<div class="post-text" itemprop="text">
<p>I have the following dataset in a CSV file</p>
<p>[1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 1, 1, 2]</p>
<p>Now I want to count each value by comparing them and store it in an array, but I don't want the frequency. So my output should be like this:</p>
<p>[3, 4, 3, 2, 1]</p>
<p>My code is as follows:</p>
<pre><code>import csv

with open("c:/Users/Niels/Desktop/test.csv", 'rb') as f:
    reader = csv.reader(f, delimiter=';')
    data = []

    for column in reader:
        data.append(column[0])

    results = data
    results = [int(i) for i in results]
    print results

    dataFiltered = []
    for i in results:
        if i == (i+1):
            counter = counter + 1
            dataFiltered.append(counter)
            counter = 0
    print dataFiltered
</code></pre>
<p>My idea was by comparing the cell values. I know something is wrong in the for loop of results, but I can't figure out where my mistake is. My idea was by comparing the cell values. Maybe </p>
</div>
<div class="post-text" itemprop="text">
<p>I won't go into the details of your loop which is <em>very</em> wrong, <code>if i==(i+1):</code> just cannot be <code>True</code> for starters.</p>
<p>Next, you'd be better off with <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer"><code>itertools.groupby</code></a> and sum the length of the groups:</p>
<pre><code>import itertools

results = [1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 1, 1, 2]

freq = [len(list(v)) for _,v in itertools.groupby(results)]

print(freq)
</code></pre>
<p><code>len(list(v))</code> uses <code>list</code> to force the iteration on the grouped items so we can compute the length (maybe <code>sum(1 for x in v)</code> would more performant/appropriate, I haven't benched both approaches)</p>
<p>I get:</p>
<pre><code>[3, 4, 3, 2, 1]
</code></pre>
<p>Aside: reading the first column of a csv file and convert the result to integer can be simply acheived by:</p>
<pre><code>results = [int(row[0]) for row in reader]
</code></pre>
</div>
<span class="comment-copy"><code>if i == (i+1):</code> that cannot happen ! do you want to check if previous element is the same as the next one?</span>
<span class="comment-copy">Why are you doing <code>results = data; results = [int(i) for i in results]</code>? Why not just do <code>results = [int(i) for i in data]</code>?</span>
