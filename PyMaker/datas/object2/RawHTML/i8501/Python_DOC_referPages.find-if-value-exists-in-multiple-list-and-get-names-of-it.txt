<div class="post-text" itemprop="text">
<p>I found similar question, but I'm not able to convert answer to match my needs.
(<a href="https://stackoverflow.com/questions/34783084/find-if-value-exists-in-multiple-lists">Find if value exists in multiple lists</a>)</p>
<p>So, basicly, I have multiple lists, and I want to list all of them, which contain current user username. </p>
<pre><code>import getpass


value = getpass.getuser()
rep_WOHTEL = ['user1','user2','user3']
rep_REPDAY = ['user4','user1','user3']
rep_ZARKGL = ['user3','user1','user2']
rep_WOHOPL = ['user3','user2','user5']


#No idea how code below works
w = next(n for n,v in filter(lambda t: isinstance(t[1],list) and t[0].startswith('rep_'), globals().items()) if value in v)
print(w)
</code></pre>
<p>If current user is user1, I want it to print <code>rep_WOHTEL</code>, <code>rep_REPDAY</code> and <code>rep_ZARKGL</code>. Code above print only ony of them.</p>
<p>How should I change this part of script, to print all I want?</p>
</div>
<div class="post-text" itemprop="text">
<p>Checking if value is in all global lists, and if true, print which list(s) contains the required value.</p>
<p><strong>Code:</strong></p>
<pre><code>rep_WOHTEL = ['user1','user2','user3']
rep_REPDAY = ['user4','user1','user3']
rep_ZARKGL = ['user3','user1','user2']
rep_WOHOPL = ['user3','user2','user5']

value = 'user1'
x = globals().items()
for n,v in filter(lambda t: isinstance(t[1],list) and t[0].startswith('rep_'), x):
    if value in v:
        print(n)
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>rep_REPDAY
rep_ZARKGL
rep_WOHTEL
</code></pre>
<p><strong>More info about the used functions:</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/functions.html#globals" rel="nofollow noreferrer">globals()</a></li>
<li><a href="https://docs.python.org/3/tutorial/datastructures.html#looping-techniques" rel="nofollow noreferrer">dict.items()</a></li>
<li><a href="https://docs.python.org/3/library/functions.html#filter" rel="nofollow noreferrer">filter()</a></li>
<li><a href="https://docs.python.org/3/library/functions.html#isinstance" rel="nofollow noreferrer">isinstance()</a></li>
<li><a href="https://docs.python.org/3/library/stdtypes.html#str.startswith" rel="nofollow noreferrer">startswith()</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Like I commented in the linked question, iterating through all of <code>globals()</code> or <code>locals()</code> is a bad idea. Store your lists together in a single dictionary or list, and iterate through that instead.</p>
<pre><code>value = "user1"
named_lists = {
    "WOHTEL": ['user1','user2','user3'],
    "REPDAY": ['user4','user1','user3'],
    "ZARKGL": ['user3','user1','user2'],
    "WOHOPL": ['user3','user2','user5']
}

names = [name for name, seq in named_lists.items() if value in seq]
print(names)
</code></pre>
<p>Result:</p>
<pre><code>['REPDAY', 'ZARKGL', 'WOHTEL']
</code></pre>
</div>
<span class="comment-copy">You managed to make something that sounded simple from reading the title completely confusing with your description. Why do you want to print three lists if the user is <code>'user1'</code>, what does that have to do with the question and who wrote that abomination of a generator expression at the end?</span>
<span class="comment-copy">Don't do this; make a dictionary like <code>{'rep_WOHTEL': ['user1','user2','user3'], 'rep_REPDAY':['user4','user1','user3']}</code></span>
<span class="comment-copy">All of the solutions in that linked question are using questionable techniques to achieve a questionable goal. Please don't assume that any of them are the "right" way to do this kind of thing.</span>
<span class="comment-copy">Thank you. And sorry for the way i asked question if it wasn't clear.</span>
<span class="comment-copy">As I commented, this is definitely the right way for nearly all use cases</span>
