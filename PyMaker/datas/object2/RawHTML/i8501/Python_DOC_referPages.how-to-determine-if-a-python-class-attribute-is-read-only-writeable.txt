<div class="post-text" itemprop="text">
<p>I'm trying to use <code>inspect.getmembers()</code> to list all the writeable attributes of a class. Is there a way to query if a class attribute is readonly or writeable?</p>
<p>Edit: I'm using the first solution from <a href="https://stackoverflow.com/a/3818861/2746401">https://stackoverflow.com/a/3818861/2746401</a> and get an error when trying to copy read-only attributes (e.g. <code>__doc__</code>). I want to filter our these read-only properties and only copy the writeable ones</p>
</div>
<div class="post-text" itemprop="text">
<p>Most names will be settable by default. The exceptions are the <a href="https://docs.python.org/3/howto/descriptor.html" rel="nofollow noreferrer"><em>data descriptor objects</em></a> and classes that define the <a href="https://docs.python.org/3/reference/datamodel.html#object.__setattr__" rel="nofollow noreferrer"><code>__setattr__</code> hook</a>.</p>
<p>A data descriptor is any attribute of the class that has a <a href="https://docs.python.org/3/reference/datamodel.html#object.__get__" rel="nofollow noreferrer"><code>__get__</code> method</a> and at least either a <a href="https://docs.python.org/3/reference/datamodel.html#object.__set__" rel="nofollow noreferrer"><code>__set__</code></a> or a <a href="https://docs.python.org/3/reference/datamodel.html#object.__delete__" rel="nofollow noreferrer"><code>__delete__</code></a> method. These methods are used when you try to set or delete the attribute on an <em>instance</em> of the class.</p>
<p>Data descriptors with a <code>__set__</code> method <strong>may</strong> not be writeable, and it'll depend on the exact descriptor implementation what they'll allow. A <a href="https://docs.python.org/3/library/functions.html#property" rel="nofollow noreferrer"><code>property</code> object</a> is such a data descriptor; if the <code>property</code> has a <code>fset</code> attribute set to <code>None</code> it won't be writeable. If <code>property().fset</code> is not set to <code>None</code> but to a callable, then that callable determines if the attribute is writeable.</p>
<p>In addition, any data descriptor with only a <code>__delete__</code> method can't be written either, the lack of a <code>__set__</code> method results in a <code>AttributeError</code> when you try to set the attribute name on the instance.</p>
<p>A <code>__setattr__</code> hook intercepts all attribute setting, and can prevent any such action to fail. There is a corresponding <code>__delattr__</code> hook too, which matters if you want to count deleting attributes as writing.</p>
<p>In other words, this is <em>really hard to determine</em>, not in a generic way, once descriptors or a <code>__setattr__</code> hook are involved.</p>
</div>
<span class="comment-copy">What are you going to do with that information? What does it mean to you to be read only or writable (are you talking about descriptors like <code>@property</code>? What about interference via <code>__getattr[ibute]__</code>/<code>__setattr__</code>?)</span>
<span class="comment-copy">I'm using the first solution from <a href="http://stackoverflow.com/a/3818861/2746401">stackoverflow.com/a/3818861/2746401</a> and get an error when read-only attributes (e.g. <b>doc</b>) are copied. I want to filer our these read-only properties and only copy the writeable ones.</span>
<span class="comment-copy">Please <a href="https://stackoverflow.com/posts/43139110/edit">edit</a> to include the context in the question.</span>
