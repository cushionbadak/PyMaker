<div class="post-text" itemprop="text">
<p>I want to return the list that comes out with the print function into a CSV list.</p>
<pre><code>import re

import requests
from bs4 import BeautifulSoup

for i in range(146):
    r = requests.get(("http://www.yellowpages.com/atlanta-ga/trends/{}").format(i))
    soup = BeautifulSoup(r.content , "html.parser")
    for link in soup.find_all("a",href=re.compile('/atlanta-ga/')):
        if 'trends' not in link.get('href'):
            link = (link.get('href'))
            results = (("http://www.yellowpages.com{}?page=").format(link))
            import csv

            with open('Catagories', 'w') as myfile:
                wr = csv.writer(myfile)
                wr.writerow([results])

            print(results)
</code></pre>
<p>The purpose of this should be very apparent</p>
</div>
<div class="post-text" itemprop="text">
<p>@tdelaney is right: every time you open the file with "w", you're overwritting the previous text.</p>
<p>The fix is to use "a" instead:</p>
<pre><code>with open('Catagories', 'a') as myfile:
    ...
</code></pre>
<p>Check out the docs: <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">https://docs.python.org/3/library/functions.html#open</a></p>
</div>
<span class="comment-copy">You should open the file and create <code>csv.writer</code> just once, not every time through the loop. Then you call <code>writerow</code> in the loop.</span>
<span class="comment-copy">Every time you do <code>open('Catagories', 'w')</code> you overwrite everything that was in the file. Since its inside the loop, you end up with only the last row processed in the file.</span>
