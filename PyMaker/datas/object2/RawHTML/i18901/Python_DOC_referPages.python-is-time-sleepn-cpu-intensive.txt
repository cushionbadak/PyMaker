<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/529034/python-pass-or-sleep-for-long-running-processes">Python: Pass or Sleep for long running processes?</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I've been toying with the idea of using <code>time.sleep(n)</code> in a python script to make it execute jobs at different intervals. The pseudocode would look like:</p>
<pre><code>total_jobs = [...]

next_jobs_to_run = next_closest(total_jobs)
min_time_to_wait = closestTime(nextJobsToRun)

wait until min_time_to_wait
run them all 
get next jobs
</code></pre>
<p>To summarize, the program sleeps until the next job needs to be performed. It runs the job, finds its next job to run, and sleeps until it needs to run the next job (continues to infinity). I am planning on running this on a linux machine - using a cron job is a possibility. Anyone have opinions on either?</p>
</div>
<div class="post-text" itemprop="text">
<p>No, it isn't CPU intensive.</p>
<p><a href="http://docs.python.org/3/library/time.html#time.sleep">The documentation</a> says:</p>
<blockquote>
<p>Suspend execution for the given number of seconds.</p>
</blockquote>
<p>Python can't actually guarantee that in every possible implementation, this means the OS will never schedule your process during a sleep. But on each platform, Python tries to do something appropriate to block for the specified time without using any CPU. On some platforms, that may still mean a little bit of CPU, but it's going to be as little as reasonably possible.</p>
<p>In particular, since you asked about linux, and presumably CPython:</p>
<p>On linux, and most other POSIX platforms, it will generally use <code>select</code>. See <a href="http://hg.python.org/cpython/file/3.3/Modules/timemodule.c#l1523">the 3.3 source</a>.</p>
<p>The <a href="http://linux.die.net/man/2/select">man page</a> makes it pretty clear that <code>select</code> suspends until signal, timeout, or ready I/O (and in this case, there are no fds, so the latter is impossible).</p>
<p>You can read the kernel source for full details, but basically, unless there are any unexpected signals, you won't be scheduled at all, except possibly a tiny amount of spinning at the very start of the <code>select</code> (as an optimization for the cases where <code>select</code> can return almost immediately).</p>
<hr/>
<p>In the middle of your summary, the question changes from "is <code>sleep</code> CPU-intensive" to "should I use <code>sleep</code>, or a cron job?"</p>
<p>Either way, you're not burning any CPU while waiting around. There are some pros and cons, but most of them are trivial. From (roughly, and subjectively) most important to least, a cron job:</p>
<ul>
<li>allows configuration—e.g., changing the schedule—without editing source code.</li>
<li>requires configuration to work.</li>
<li>means less code—meaning fewer bugs, and less for any future readers to understand.</li>
<li>will persist across system shutdown.</li>
<li>will fire again even if your script exits with an exception or a signal.</li>
<li>may fire either 0, 1 or N times if its scheduled interval is missed N times (this isn't specified, and different cron implementations do different things), instead of guaranteed 0.</li>
<li>has a better chance of handling system clock changes.</li>
<li>has to pay for process launch, interpreter startup, etc. each time it fires.</li>
<li>doesn't waste page table and process table space, because there is no process running and no memory mapped.</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>No, it is not processor intensive. It lets the processor idle.</p>
<p>According to <a href="http://docs.python.org/2/library/time.html#time.sleep" rel="nofollow">the documentation</a>, it suspends execution, so that means it is not processor intensive. A <a href="http://en.wikipedia.org/wiki/Busy_waiting" rel="nofollow">busy wait</a> would be processor intensive.</p>
</div>
<span class="comment-copy">The title and the question are unrelated?</span>
<span class="comment-copy">@Serdalis: They're not the same question, but they're definitely related. If <code>sleep</code> does busy-waiting, that pretty much settles the question of which one to use (in favor of "not <code>sleep</code>"); if it doesn't, that leaves the question open. (Of course, as it turns out, it doesn't.)</span>
