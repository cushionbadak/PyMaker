<div class="post-text" itemprop="text">
<p>I am currently biulding a project in the language python which can open text documents (.txt). However I have come across a problem. I tried to open the document by using the following code:</p>
<pre><code>f = open("music_data.txt","r")
print(f)
</code></pre>
<p>But it's not working. It just says:</p>
<pre><code>&lt;_io.TextIOWrapper name='music_data.txt' mode='r' encoding='cp1252'&gt;
</code></pre>
<p>Which seems to be the standared thing for printing a variable containing a document, but then it gives an error message:</p>
<pre><code>Traceback (most recent call last):
File "\\bcs\StudentRedir2010$\StudentFiles\MyName\MyDocuments\Computing\Programming\Python\Music Program\program.py", line 45, in &lt;module&gt;
mode()
File "\\bcs\StudentRedir2010$\StudentFiles\MyName\MyDocuments\Computing\Programming\Python\Music Program\program.py", line 43, in mode
mode()
TypeError: 'str' object is not callable
</code></pre>
<p>And I don't know why this is.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>f</code> is not the contents of the file - it is a <em>file object</em>. You can print the entire contents of the file using <code>print(f.read())</code>; you can also iterate through it line by line (much more memory efficient):</p>
<pre><code>for line in f:
    print(line)  # or do whatever else you want with the line...
</code></pre>
<p>You can find more at the <a href="http://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow">Python Tutorial page on files</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Check out the "with" pattern for working with files, as it handles closing the file nicely as well, even in cases where exceptions cause the halting of the script:</p>
<pre><code>with open("your-file.txt", "r") as my_file:
  file_contents = my_file.read()
  print(file_contents)
</code></pre>
<p>more info in the <a href="http://docs.python.org/3.3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow">python docs</a></p>
</div>
<div class="post-text" itemprop="text">
<p><code>f</code> is a <code>file object</code> <em>i.e</em> sort of a reference to the file that contains other information and not just the contents. There are several way to access the contents of the file.</p>
<h2>1. Iterate over contents</h2>
<pre><code>for line in f:
    # process line
</code></pre>
<p>The behaviour can sometimes not be what you want. If the file consists of more than one line it will iterate over the lines. If the file contains one line, it iterates over the characters</p>
<h2>2. Use readline()</h2>
<p>f is an instance of <code>io.TextWrapper</code> which has a readline method. It reads and returns chars until a newline is encountered. There is a <code>newline</code> argument for the <code>open</code> function. To read words from the document you could do this: <code>open(path/to/file, mode, newline=" ")</code></p>
<h2>3. Use read()</h2>
<p>Reads and returns chars until <code>EOF</code> is encountered.</p>
<h2>4. Use readlines()</h2>
<p>Read and returns a list of lines from the file</p>
</div>
<div class="post-text" itemprop="text">
<p>Try the following, it should work:</p>
<pre><code>f = open("music_data.txt","r")
print f.read()
</code></pre>
</div>
<span class="comment-copy">What code did you run after <code>print(f)</code> that resulted in the "error message"? You have not provided enough information for us to help you.</span>
<span class="comment-copy">take into account the reading line by line of @nrpeterson... that's a good tip too.. very efficient!</span>
<span class="comment-copy">What's the difference from other answers?</span>
