<div class="post-text" itemprop="text">
<p>When running a script to retrieve all blockquote tags with the class "FlatParagraph" I seem to cut off some child tags in the Blockquote tag. Is there a query that will include all child tags? The issue seems to be with a <code>&lt;blockquote&gt;&lt;i&gt;&lt;a&gt;text&lt;a/&gt;&lt;i/&gt;</code> set of tags. So not an issue with all children. </p>
<p>I am using the following code</p>
<pre><code>import urllib


from urllib.request import urlopen
from bs4 import BeautifulSoup

fhand = urllib.request.urlopen('https://www.legislation.qld.gov.au/view/whole/html/2018-07-01/sl-2006-0200').read()

soup = BeautifulSoup(fhand, 'html.parser')
fp = soup.select('blockquote[class="FlatParagraph"]')
for i in fp: 
    print(i.text)
    print('---------')
</code></pre>
<p>I then retrieve the text from each line using a for loop</p>
<pre><code>changedfplist = list()
for i in fp:
    changedfplist.append(i.text.replace(u'\xa0', ' ').encode('utf-8'))
</code></pre>
<p>Here is an example of what I am parsing - </p>
<pre><code>&lt;blockquote class="FlatParagraph"&gt;&lt;blockquote class="Paragraph"&gt;&lt;span class="ListNumber"&gt;(1)&lt;/span&gt;This section applies if—&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(a)&lt;/span&gt;before the commencement—&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(i)&lt;/span&gt;a person applied under &lt;a href="#sec.28"&gt;section&amp;nbsp;28&lt;/a&gt;(1) of the repealed regulation for approval of a proposed fire engineering design brief for stated building work; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(ii)&lt;/span&gt;an authorised representative of the service attended a former fire engineering brief meeting relating to the approval of the proposed fire engineering design brief; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(iii)&lt;/span&gt;the service had not decided whether or not to approve the proposed fire engineering design brief; and&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(b)&lt;/span&gt;the person has not paid the former fire engineering design brief meeting fee for the attendance of the representative of the service at the former fire engineering brief meeting.&lt;/blockquote&gt;
&lt;/blockquote&gt;&lt;blockquote class="Paragraph"&gt;&lt;span class="ListNumber"&gt;(2)&lt;/span&gt;For assessing the fire engineering design brief for the stated building work—&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(a)&lt;/span&gt;&lt;a href="#sec.61"&gt;section&amp;nbsp;61&lt;/a&gt; applies as if the reference to a fire engineering brief were a reference to the proposed fire engineering design brief; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(b)&lt;/span&gt;&lt;a href="#sec.62"&gt;section&amp;nbsp;62&lt;/a&gt;(1)(d) applies as if the reference to each fire engineering brief meeting included a reference to each former fire engineering brief meeting; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(c)&lt;/span&gt;&lt;a href="#sch.2"&gt;schedule&amp;nbsp;2&lt;/a&gt;, &lt;a href="#sch.2-pt.3"&gt;part&amp;nbsp;3&lt;/a&gt;, item 3 applies as if a reference to a meeting included a reference to a former fire engineering brief meeting.&lt;/blockquote&gt;
&lt;/blockquote&gt;&lt;blockquote class="Paragraph"&gt;&lt;span class="ListNumber"&gt;(3)&lt;/span&gt;In this section—&lt;blockquote class="Paragraph-No-Number"&gt;&lt;b&gt;&lt;i&gt;&lt;a name="sec.90-ssec.3-def.formerfireengineeringbriefmeeting"&gt;&lt;/a&gt;former fire engineering brief meeting&lt;/i&gt;&lt;/b&gt; means a fire engineering brief meeting under &lt;a href="#sec.28"&gt;section&amp;nbsp;28&lt;/a&gt;(2)(d) of the repealed regulation.&lt;/blockquote&gt;&lt;blockquote class="Paragraph-No-Number"&gt;&lt;b&gt;&lt;i&gt;&lt;a name="sec.90-ssec.3-def.formerfireengineeringdesignbriefmeetingfee"&gt;&lt;/a&gt;former fire engineering design brief meeting fee&lt;/i&gt;&lt;/b&gt; means the fire engineering design brief meeting fee stated in &lt;a href="#sch.3"&gt;schedule&amp;nbsp;3&lt;/a&gt; of the repealed regulation.&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;
</code></pre>
<p>and when I parse this, I get </p>
<blockquote>
<p>(1)This section applies if - (a)before the commencement - (i)a person
  applied under section 28(1) of the repealed regulation for approval of
  a proposed fire engineering design brief for stated building work; and</p>
<p>(ii)an authorised representative of the service attended a former fire
  engineering brief meeting relating to the approval of the proposed
  fire engineering design brief; and</p>
<p>(iii)the service had not decided whether or not to approve the
  proposed fire engineering design brief; and</p>
<p>(b)the person has not paid the former fire engineering design brief
  meeting fee for the attendance of the representative of the service at
  the former fire engineering brief meeting.</p>
<p>(2)For assessing the fire engineering design brief for the stated
  building work - (a)section 61 applies as if the reference to a fire
  engineering brief were a reference to the proposed fire engineering
  design brief; and</p>
<p>(b)section 62(1)(d) applies as if the reference to each fire
  engineering brief meeting included a reference to each former fire
  engineering brief meeting; and</p>
<p>(c)schedule 2, part 3, item 3 applies as if a reference to a meeting
  included a reference to a former fire engineering brief meeting.</p>
<p>(3)In this section - former fire engineering brief meeting</p>
</blockquote>
<p>There is text missing at the end of the final line. It has been cut off at </p>
<pre><code>&lt;blockquote class="Paragraph-No-Number"&gt;&lt;b&gt;&lt;i&gt;&lt;a name="sec.90-ssec.3-def.formerfireengineeringbriefmeeting"&gt;&lt;/a&gt;former fire engineering brief meeting&lt;/i&gt;&lt;/b&gt; 
</code></pre>
<p>UPDATE - there is a class that I am trying to avoid so using .FlatParagraph hasn't worked. I am trying to avoid class=FlatParagraph view-history-note. The FlatParagraph view-history-note is a class of the child tag of the FlatParagraph class tag. </p>
<p>I have tried the above code with the lxml and html.parser and I get all text wih the lxml, and the cut off text with html.parser. If anybody knows why, I'd love to hear it!</p>
</div>
<div class="post-text" itemprop="text">
<p>you can use <code>select()</code> or <code>find()</code> see the code below, i'm getting full text!</p>
<pre><code>html = '''
&lt;blockquote class="FlatParagraph"&gt;&lt;blockquote class="Paragraph"&gt;&lt;span class="ListNumber"&gt;(1)&lt;/span&gt;This section applies if—&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(a)&lt;/span&gt;before the commencement—&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(i)&lt;/span&gt;a person applied under &lt;a href="#sec.28"&gt;section&amp;nbsp;28&lt;/a&gt;(1) of the repealed regulation for approval of a proposed fire engineering design brief for stated building work; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(ii)&lt;/span&gt;an authorised representative of the service attended a former fire engineering brief meeting relating to the approval of the proposed fire engineering design brief; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(iii)&lt;/span&gt;the service had not decided whether or not to approve the proposed fire engineering design brief; and&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(b)&lt;/span&gt;the person has not paid the former fire engineering design brief meeting fee for the attendance of the representative of the service at the former fire engineering brief meeting.&lt;/blockquote&gt;
&lt;/blockquote&gt;&lt;blockquote class="Paragraph"&gt;&lt;span class="ListNumber"&gt;(2)&lt;/span&gt;For assessing the fire engineering design brief for the stated building work—&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(a)&lt;/span&gt;&lt;a href="#sec.61"&gt;section&amp;nbsp;61&lt;/a&gt; applies as if the reference to a fire engineering brief were a reference to the proposed fire engineering design brief; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(b)&lt;/span&gt;&lt;a href="#sec.62"&gt;section&amp;nbsp;62&lt;/a&gt;(1)(d) applies as if the reference to each fire engineering brief meeting included a reference to each former fire engineering brief meeting; and&lt;/blockquote&gt;
&lt;blockquote class="Paragraph List"&gt;&lt;span class="ListNumber"&gt;(c)&lt;/span&gt;&lt;a href="#sch.2"&gt;schedule&amp;nbsp;2&lt;/a&gt;, &lt;a href="#sch.2-pt.3"&gt;part&amp;nbsp;3&lt;/a&gt;, item 3 applies as if a reference to a meeting included a reference to a former fire engineering brief meeting.&lt;/blockquote&gt;
&lt;/blockquote&gt;&lt;blockquote class="Paragraph"&gt;&lt;span class="ListNumber"&gt;(3)&lt;/span&gt;In this section—&lt;blockquote class="Paragraph-No-Number"&gt;&lt;b&gt;&lt;i&gt;&lt;a name="sec.90-ssec.3-def.formerfireengineeringbriefmeeting"&gt;&lt;/a&gt;former fire engineering brief meeting&lt;/i&gt;&lt;/b&gt; means a fire engineering brief meeting under &lt;a href="#sec.28"&gt;section&amp;nbsp;28&lt;/a&gt;(2)(d) of the repealed regulation.&lt;/blockquote&gt;&lt;blockquote class="Paragraph-No-Number"&gt;&lt;b&gt;&lt;i&gt;&lt;a name="sec.90-ssec.3-def.formerfireengineeringdesignbriefmeetingfee"&gt;&lt;/a&gt;former fire engineering design brief meeting fee&lt;/i&gt;&lt;/b&gt; means the fire engineering design brief meeting fee stated in &lt;a href="#sch.3"&gt;schedule&amp;nbsp;3&lt;/a&gt; of the repealed regulation.&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;
'''
soup = BeautifulSoup(html,'lxml')
fp = soup.select('.FlatParagraph')
for i in fp:
    print(i.text)
</code></pre>
<p>or</p>
<pre><code>fp = soup.find('blockquote',attrs={'class':'FlatParagraph'})
print(fp.text)
</code></pre>
<p>Output:</p>
<pre><code>(1)This section applies if—(a)before the commencement—(i)a person applied under section 28(1) of the repealed regulation for approval of a proposed fire engineering design brief for stated building work; and
(ii)an authorised representative of the service attended a former fire engineering brief meeting relating to the approval of the proposed fire engineering design brief; and
(iii)the service had not decided whether or not to approve the proposed fire engineering design brief; and

(b)the person has not paid the former fire engineering design brief meeting fee for the attendance of the representative of the service at the former fire engineering brief meeting.
(2)For assessing the fire engineering design brief for the stated building work—(a)section 61 applies as if the reference to a fire engineering brief were a reference to the proposed fire engineering design brief; and
(b)section 62(1)(d) applies as if the reference to each fire engineering brief meeting included a reference to each former fire engineering brief meeting; and
(c)schedule 2, part 3, item 3 applies as if a reference to a meeting included a reference to a former fire engineering brief meeting.
(3)In this section—former fire engineering brief meeting means a fire engineering brief meeting under section 28(2)(d) of the repealed regulation.former fire engineering design brief meeting fee means the fire engineering design brief meeting fee stated in schedule 3 of the repealed regulation.
</code></pre>
</div>
<span class="comment-copy">Done, sorry, hit post too early</span>
<span class="comment-copy">what parser are you using ? i tried with <code>soup1 = soup(html, 'lxml')</code>, sounds ok</span>
<span class="comment-copy">The class name for the cut-off text is different than the rest. Your searching for FlatParagraph wheres the class in your missing test is Paragraph-No-Number.   Have a look at <a href="https://stackoverflow.com/questions/18725760/beautifulsoup-findall-given-multiple-classes" title="beautifulsoup findall given multiple classes">stackoverflow.com/questions/18725760/…</a></span>
<span class="comment-copy">@PRMoureu, I am using 'html-parser' fhand1 = urllib.urlopen(link).read() soup1 = BeautifulSoup(fhand1, 'html.parser')</span>
<span class="comment-copy">i get all the text too with <code>print(BeautifulSoup(html, 'html.parser').text)</code>.  Maybe you should complete the code you are using</span>
<span class="comment-copy">I am currently using select() and it's not working, as above, and find() only returns the first item, not the list of all Flat Paragraph. There is also another tag that I want to avoid (FlatParagraph view-history-note). I have tried using find_all and as I want to avoid the above tag I get too many items appeneded to the list. I'll add more comments to this affect above.</span>
<span class="comment-copy">you are doing something wrong in your code, please show your full code!</span>
<span class="comment-copy">I think it was the parser, I tried the above with 'lxml' and it works</span>
