<div class="post-text" itemprop="text">
<p>So i wanted to make a function that takes positive integer <strong><code>n</code></strong> and returns bunch of <strong><code>n-tuples</code></strong>, filled with all possible combinations of <code>True/False (1/0)</code>, for example:</p>
<pre><code>f(1) = (0,),(1,)


f(2) = (0, 0), (0, 1), (1, 0), (1, 1)
</code></pre>
<p>My code was:</p>
<pre><code>def fill(n: int) -&gt; Tuple[Tuple[int]]:
    if n == 1:
        return (0,),(1,)
    return tuple((i + j) for i in fill(n-1) for j in fill(1))
</code></pre>
<p>I've heard python isn't very good with recursion, and generally feel this isn't effective solution.</p>
<p>It seemed like using powerset of a range of a given number (recipe for powerset is from the <code>itertools</code> module) and then using some kind of <a href="https://en.wikipedia.org/wiki/Indicator_function" rel="nofollow">Indicator function</a> would do the thing.</p>
<pre><code>from itertools import chain, combinations

def range_powerset(n: int):
    s = list(range(n))
    return chain.from_iterable(combinations(s, r) for r in range(len(s)+1))

def indicator(A: Iterable, B: Iterable):
    return tuple(i in A for i in B)

def fill2(n: int):
    return (indicator(i, range(n)) for i in range_powerset(n))
</code></pre>
<p>Yet it seems like too much work for a pretty basic thing.
Is there a better way to do it?</p>
</div>
<div class="post-text" itemprop="text">
<p>What you describe is not a powerset but a Descartes product with repetition. Use <a href="https://docs.python.org/2.7/library/itertools.html#itertools.product"><code>itertools.product</code></a>:</p>
<pre><code>import itertools
def fill(n):
    return itertools.product((0,1), repeat=n)

print(list(fill(3)))

# [(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1), (1, 0, 0), (1, 0, 1), (1, 1, 0), (1, 1, 1)]
</code></pre>
</div>
<span class="comment-copy">Did you read <a href="https://docs.python.org/3/library/itertools.html#itertools-recipes" rel="nofollow noreferrer">docs.python.org/3/library/itertools.html#itertools-recipes</a></span>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/18826571/python-powerset-of-a-given-set-with-generators">Python: powerset of a given set with generators</a></span>
<span class="comment-copy">This question is probably best suited for <a href="http://codereview.stackexchange.com/">Code Review</a>.</span>
<span class="comment-copy">To knelwood: what exactly is not a powerset? if you mean the name of topic, i chose it for lack of a better name, id be glad if you can suggest something else. if you mean function i defined range_powerset, what it returns is basically a powerset, no mistake here.      To  jonrsharpe: thanks for reminder, did i miss something there? i took powerset recipe there but it wasnt exactly a solution for my task</span>
<span class="comment-copy">One more possible duplicate <a href="http://stackoverflow.com/questions/1482308/whats-a-good-way-to-combinate-through-a-set" title="whats a good way to combinate through a set">stackoverflow.com/questions/1482308/â€¦</a></span>
<span class="comment-copy">thanks, if no one minds im renaming question accordingly</span>
<span class="comment-copy">@Rob sure, go on</span>
