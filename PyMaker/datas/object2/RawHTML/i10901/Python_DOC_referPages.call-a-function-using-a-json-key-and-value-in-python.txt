<div class="post-text" itemprop="text">
<p>I have run a websocket on Linux server to serve connected clients using a local network. my aim is to let the client to control some configurations.</p>
<p>A Web Application (compounded of PHP and HTML pages) play a roll as an interface,
when the home page is loaded it connects to the websocket using pure Javascript <code>var socket = new WebSocket("ws://SERVER_NAME:90/");</code>
an HTML element = input['text'] should send a JSON object that has a key and value like the following: </p>
<blockquote>
<p>var data = {}; <br/>
  data.key = input_value; <br/>
  socket.send(JSON.stringify(data));</p>
</blockquote>
<p>To be more clear: let's say that <code>key</code> is Greeting and <code>value</code> is Hello, So after JSON encoding, the string <code>{"Greeting":"Hello"}</code> will be sent to Server using web socket as mentioned, where the Server stores it in the buffer STDIN until the web socket script read it.</p>
<p>Python Script of Web Socket:<br/></p>
<pre><code>data = json.loads(stdin.readline());
for x in data:
    # the code that run the function Greeting
    pass
</code></pre>
<p>in one word:</p>
<blockquote>
<p>How to call function (Greeting) <code>which is the JSON-KEY</code> and pass the argument Hello as input parameter <code>which is JSON-VALUE</code></p>
</blockquote>
<p>My Web socket is OK, and I can receive the any string from any client,</p>
<blockquote>
<p><strong>NOTE:</strong> I know that I can make a if/else to check the key if it's contained in the array then call the matched function, but it's useless because I have a lot of functions and For..Loop spent undesired time.</p>
</blockquote>
<p>Sorry for this long question but it's so necessary to solve that problem.
I'm grateful for every help or suggestion.</p>
</div>
<div class="post-text" itemprop="text">
<p>Normally, you'd pack the functions into a dict:</p>
<pre><code>def greeting(value):
    print "Hello " + str(value)

FUNC_MAP = {
    'Greeting': greeting,
}
</code></pre>
<p>And then to call the function,</p>
<pre><code>data = json.loads(stdin.readline());
for func_name, value in data.items():
    FUNC_MAP[func_name](value)
</code></pre>
<p>Of course, there might be some improvements that you could make here (e.g. error handling for functions that aren't present, etc).</p>
</div>
<span class="comment-copy">Thank you so much ... that's what I need ... but please there is a tiny error which (can't concatenate integer value to "Hello") .. but all is done correctly</span>
<span class="comment-copy">@AbdulkaderKhateeb -- I updated so the error should be gone if you update too.  (e.g. <code>'Hello ' + str(value)</code> rather than <code>'Hello ' + value</code> )</span>
<span class="comment-copy">Mr, @mgilson, could you please tell me how to throw an exception when to call a function that is not in dictionary ... I totally new for Python ,.. thank a lot :)</span>
<span class="comment-copy">@AbdulkaderKhateeb -- An exception will be thrown already (<code>KeyError</code>).  If you want to <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">handle that exception</a>, then you need to decide what you want the code to do.</span>
<span class="comment-copy">Mr. @mgilson, please I'm improving some thing in code so I need you o help me How I can pass more than one parameter to the function Greeting (e.g. the output should be "Hello " + id + "&gt;&gt;&gt;&gt;" + value</span>
