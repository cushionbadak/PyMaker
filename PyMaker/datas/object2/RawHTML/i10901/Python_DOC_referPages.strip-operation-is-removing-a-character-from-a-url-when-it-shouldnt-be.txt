<div class="post-text" itemprop="text">
<p>I have a strange problem here. I have a list of Youtube urls in a txt file, these aren't normal YT urls though as I believe they were saved from a mobile device and thus they are all like this</p>
<p><a href="https://youtu.be/A6RXqx_QtKQ" rel="nofollow">https://youtu.be/A6RXqx_QtKQ</a></p>
<p>I want to download the audio from all these urls with youtube-dl for Python so all I need is the 11 digit id so to obtain that I have stripped out everything else from the urls like so:</p>
<pre><code>playlist_url = []

f = open('my_songs.txt', 'r')

for line in f:
    playlist_url.append(line.strip('https://youtu.be/'))
</code></pre>
<p>this works fine for nearly all the urls apart from any that start with 'o' in the 11 digit id e.g. this one</p>
<p><a href="https://youtu.be/o5kO4y87Gew" rel="nofollow">https://youtu.be/o5kO4y87Gew</a></p>
<p>the 'o' at the start of the digit would not be there and then youtube-dl would stop working saying it couldn't find the proper url or 11 digit id needed to continue. So I went back and printed out all the urls in 'playlist_url' and for the two urls with an 'o' at the start the 'o' is stripped out leaving them with just 10 digits. All other urls are stripped just fine though.</p>
<p>why is this happening?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>strip</code> is working correctly. It removes any of the characters in the argument from the beginning or end of the string. There is an "o" in the argument so if there is an "o" at the beginning of the code, of course it's going to be removed.</p>
<p>Try this instead:</p>
<pre><code>if line.startswih("https://youtu.be/"):
    playlist_url.append(line[17:])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>youtube-dl deals with whole URLs just fine. You can check that on the command line with <code>youtube-dl https://youtu.be/A6RXqx_QtKQ --list-extractor</code>, which shows that the correct extractor <code>youtube</code> will be used. There is no need for any stripping of URLs that are already present.</p>
</div>
<div class="post-text" itemprop="text">
<p>According to the <a href="https://docs.python.org/3/library/stdtypes.html#str.strip" rel="nofollow">documentation</a>, <code>strip()</code> removes the <em>combination</em> of all the characters specified as parameter. Because there's an <code>o</code> in <code>youtu.be</code> that also gets removed.</p>
<p>Hence <code>strip()</code> is not the right tool for the job; given that we know the length of the prefix, just remove an appropriate number of characters from the start of the string:</p>
<pre><code>line = 'https://youtu.be/o5kO4y87Gew'
line[17:]
=&gt; 'o5kO4y87Gew'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Gonna throw out another solution, this is a good place for <code>str.rpartition</code>.</p>
<pre><code>'https://youtu.be/o5kO4y87Gew'.rpartition('/')
# ('https://youtu.be', '/', 'o5kO4y87Gew')

'https://youtu.be/o5kO4y87Gew'.rpartition('/')[-1]
# 'o5kO4y87Gew'
</code></pre>
</div>
<span class="comment-copy">To get the last 11 characters, Just use <code>url[-11:]</code></span>
<span class="comment-copy">I always thought it just stripped out the entire string, thank you!</span>
<span class="comment-copy">OK thanks, I will try that, I was getting errors before which I thought was related to the urls</span>
