<div class="post-text" itemprop="text">
<p>So I keep receiving this error:</p>
<blockquote>
<p>ValueError: Mixing iteration and read methods would lose data</p>
</blockquote>
<p>And 1) I don't quite understand why I'm receiving it, and 2) people with similar problems seem to be doing things with their code which are much more complex than a beginner (like myself) can adapt with.</p>
<p>The idea of my code is to read a data_file.txt and convert each line into its own individual array.</p>
<p>so far I have this:</p>
<pre><code>    array = [] #declaring a list with name '**array**' 
    with open('file.txt','r') as input_file:
    for line in input_file:
        line = input_file.readlines()
        array.append(line)
        print('done 1') #for test purposes
        return array
</code></pre>
<p>And I keep recieving an error.</p>
<p><a href="https://stackoverflow.com/questions/32916769/value-error-mixing-iteration-and-read-methods-would-lose-data-message-while-e">"Value error: Mixing iteration and read methods would lose data "message while extracting numbers from a string from a .txt file using python</a></p>
<p>The above question seemed to be doing something similar, calling in items for an array, however his code was skipping lines and using a range to call in certain parts of it, I don't need that. All I need is to call in all the lines and have them be made into an array.</p>
<p><a href="https://stackoverflow.com/questions/826493/python-mixing-files-and-loops">Python: Mixing files and loops</a></p>
<p>In this question, once again, something much more than I can understand was being asked. From what I understood, he just wanted a code that would restart after an error and continue, and the answers were about that part. Once again not what I'm looking for. </p>
</div>
<div class="post-text" itemprop="text">
<p>The error is pretty much self-explanatory (once you know what it is about), so here goes.</p>
<p>You start with the loop <code>for line in input_file:</code>. File objects are iterable in Python. They iterate over the lines in the file. This means that for each iteration of the loop, <code>line</code> will contain the next line in your file.</p>
<p>Next you read a line manually <code>line = input_file.readlines()</code>. This attempts to read a line from the file, but you are already iterating over the lines in the for loop.</p>
<p>Files are usually read sequentially, with no going backwards. What you end up with is a conflict. If you read a line using <code>readline</code>, the iterator in the loop will be forced to return the line after next since it can not go back. However, it is promising to return the next line. The error is telling you that <code>readline</code> knows that there is an active iterator and that calling it would interfere with the loop.</p>
<p>If you take out <code>line = input_file.readlines()</code>, the loop will do what you expect it to.</p>
</div>
<div class="post-text" itemprop="text">
<p>To make an array of the lines of the file, with one line per array element:</p>
<pre><code>with open('file.txt','r') as input_file:
    array = input_file.readlines()
return array
</code></pre>
<p>since <code>readlines</code> will give you the whole file in one shot.  Alternatively,  </p>
<pre><code>return list(open('file.txt','r'))
</code></pre>
<p>will do the same per <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow">the docs</a>.</p>
</div>
<span class="comment-copy">Why are you both <code>for</code>-looping over the file and calling <code>readlines</code> inside the loop?</span>
<span class="comment-copy">Do you want to contain a list of <i>n</i> copies of the entire contents of the file, where <i>n</i> is the number of lines in the file? Because based on your code, that seems to be what you're trying to do.</span>
<span class="comment-copy">OP is probably new to it. So what you are doing op translates roughly to: for each <code>line</code> I want that each line to be the whole file. Your code doesnt really make sense since you are grabbing each line with your loop and then doing something sily with each of the lines.</span>
<span class="comment-copy">Let's backtrack a second here. You say that you want to "convert each line into its own individual array." What should the contents of those arrays be?</span>
<span class="comment-copy">In each array of the file (or what would be) is 46 lines of binary, which would be ran through a converter so I could have decimal answers. (000001010000000000000000000000000000000000000000000000000000, and so)</span>
<span class="comment-copy">How do you know that this is what the OP wants? I think the OP's question is too vague at the moment for anyone to give an accurate answer.</span>
<span class="comment-copy">Even when I use this, I still get the same error.</span>
<span class="comment-copy">@JMalone Even when using only these, <i>instead of</i> the code block in your question?  (Edited to add the <code>return</code> statements)</span>
<span class="comment-copy">@cxw yes, I have commented out my original block and used the one provided instead.</span>
<span class="comment-copy">@JMalone Strange.  I must be missing something.  Would you please <a href="http://stackoverflow.com/posts/38402148/edit">edit your question</a> to fix up the indentation in your code block?  It is not currently correct (should be an indent or <code>pass</code> after the<code>with</code>), and I may be making an incorrect assumption about what it actually is.  Thanks!</span>
