<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/20832112/addition-overloading-in-python-behaviour-xy-vs-yx">Addition overloading in Python behaviour x+y vs y+x</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I've defined a new modulus 7 class:</p>
<pre><code>class mod7:

    def __init__(self, n):
        self.val = n % 7

    def __repr__(self):
        return str(self.val)
</code></pre>
<p>Then </p>
<pre><code>In [2]: a = mod7(18)

In [3]: a
Out[3]: 4   
</code></pre>
<p>I wanted to allow additions of not just mod7 objects but also of integers to the new class. So under the class I've added</p>
<pre><code>    def __add__(self, other):
        if type(other) is int:
            return mod7(self.val + other)
        if type(other) is mod7:
            return mod7(self.val + other.val)
</code></pre>
<p>and</p>
<pre><code>In [11]: a + mod7(5)
Out[11]: 2

In [12]: a + 5
Out[12]: 2
</code></pre>
<p>However</p>
<pre><code>In [13]: 5 + a
Traceback (most recent call last):

  File "&lt;ipython-input-13-14fd8adcbf4d&gt;", line 1, in &lt;module&gt;
    5+a

TypeError: unsupported operand type(s) for +: 'int' and 'mod7'
</code></pre>
<p>I understand why - The addition function is called by the class of the 1st argument. My question: Is there any way to override <code>5 + a</code> according to the class of 2nd argument, i.e. <code>a</code>?</p>
</div>
<div class="post-text" itemprop="text">
<p>You'll want to also define <a href="https://docs.python.org/3/reference/datamodel.html#object.__radd__" rel="nofollow"><code>__radd__</code></a>. This would be called automatically <em>if</em> the left operand did not support <code>+</code>, but ints do, so you have to define it specifically to handle this situation. You can just define it to call your <code>__add__</code> function so you don't have to rewrite anything.</p>
</div>
<span class="comment-copy">You can add a <code>__radd__</code> method to your class. However, it should be noted that usually the modulus is usually defined on the operator. Otherwise, should the result have the modulus of the first or the second argument?</span>
<span class="comment-copy">@JaredGoguen - Can you explain what do you mean by "define the modulus on the operator"? Can it be implemented in a class?</span>
<span class="comment-copy">What is (5 % 7) + (7 % 8)? An equation like 5 (+ % 4) 6 = 11 % 4 = 3 makes more sense.</span>
