<div class="post-text" itemprop="text">
<p>I need to do the same analysis on 2000 data files which has a name like abc_0.dat, abc_1.dat .... abc_1999.dat. I wonder is there anyway to make a loop for this kind of problem in python. Here is the script I was working on. </p>
<pre><code>from scipy import stats
import numpy as np
import scipy as sp
import matplotlib
import matplotlib.pyplot as plt
import sys
import math

for x in xrange(2000):

gps_time = 932170000 + x*1000
i = str(x)

a_file =$(gps_time).0-$(i).dat

b_file =$(gps_time).0.dat

x = np.loadtxt(a_file, skiprows=1, usecols=[18])
y = np.loadtxt(a_file, skiprows=1, usecols=[17])
z = np.loadtxt(b_file, skiprows=1, usecols=[1])
</code></pre>
<p>Most of the script are just draft to illustrate the concept of the script</p>
</div>
<div class="post-text" itemprop="text">
<p>Your question is really badly phrased, but if i get the gist of what you're saying, here's a better way.</p>
<p>(Ensure all the files are in the same directory).</p>
<pre><code>import glob
directory = 'path/to/directory' + '*.dat'

files = glob.glob(directory)

for currFile in files:
    function1(currFile)
    function2(currFile)
    # insert whatever else you want to do with currFile here.
</code></pre>
<p>etc.</p>
</div>
<div class="post-text" itemprop="text">
<p>I have solved the problem with for loop and combining string. </p>
<pre><code>for x in xrange (0,2000):
     gps_time = 932170000 + x*1000
     a_file =str(int(gps_time)) + ".0-" + str(x) + ".dat"
     b_file =str(int(gps_time)) + ".0.dat"
</code></pre>
</div>
<span class="comment-copy">I don't understand the question. Please clarify...</span>
<span class="comment-copy">Even for illustration, you should use actual Python syntax, which <code>$(gps_time).0-$(i).dat</code> isn't.</span>
<span class="comment-copy">Also, you should indent your <code>for</code> loop in the above code.</span>
<span class="comment-copy">How did you miss the built-in function <a href="https://docs.python.org/3/library/functions.html#func-str" rel="nofollow noreferrer"><code>str()</code></a>?</span>
<span class="comment-copy">I am really sorry about that. What I mean is that I want the script to do the same analysis on different data file. But there are 2000 of them and I wonder is there anyway to make a loop for this type of problem.</span>
<span class="comment-copy"><code>file</code> is a bad name for a variable since in Python 2 it masks the alternative name for <code>open()</code>.    <code>fname</code>?</span>
<span class="comment-copy">It's not meant to be copy pasted as usable code, it was intended as a reference, but i'll update the example. thank you :)</span>
