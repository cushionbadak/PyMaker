<div class="post-text" itemprop="text">
<p>I have tried all the recommendations on similar posts, but have had no luck. I have a list of items that I'm using to create values for a list of dictionaries. That list ultimately becomes a JSON object, so I can't have the single quotes around each list item that I add to it.</p>
<pre><code>metrics = ["test_met_1","test_met_2","test_met_3","test_met_4","test_met_5"]
data = {
    "reportDescription":{
        "reportSuiteID":"some_suite",
        "dateFrom":"yesterday",
        "dateTo":"today",
        "dateGranularity": "day",
        "metrics":[]
        }
    }

if len(metrics) &gt; 0:
    for metric in metrics:
    new_met = "{\"id\""+":"+"\""+metric+"\"}"
    data["reportDescription"]["metrics"].append(new_met)

if len(elements) &gt; 0:
    for element in elements:
        new_elm = "{\"id\""+":"+"\""+element+"\",\"top\""+":"+"\"50000\""+"}"
    data["reportDescription"]["elements"].append(new_elm)

log_file = open('test.JSON','a')
log_file.write('\n\n'+str(datetime.now())+'\n'+str(data))
log_file.close()
</code></pre>
<p>My Results:</p>
<pre><code>{'reportDescription':'dateGranularity': 'day', 'dateTo': 'today', 'dateFrom': 'yesterday', 'metrics': ['{"id":"test_met_1"}', '{"id":"test_met_2"}', '{"id":"test_met_3"}', '{"id":"test_met_4"}', '{"id":"test_met_5"}'], 'reportSuiteID': 'some_suite'}
</code></pre>
<p>What I actually need:</p>
<pre><code>{"reportDescription":"dateGranularity": "day", "dateTo": "today", "dateFrom": "yesterday", "metrics": [{"id":"test_met_1"}, {"id":"test_met_2"}, {"id":"test_met_3"}, {"id":"test_met_4"}, {"id":"test_met_5"}], "reportSuiteID": "some_suite"}
</code></pre>
<p>Any ideas on how to remove those single quotes around each list item? I've tried a couple variations of join() and/or replace(). No luck though.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to create a JSON string (or file), use the <a href="https://docs.python.org/3/library/json.html" rel="nofollow"><code>json</code></a> module.</p>
<pre><code>&gt;&gt;&gt; data["reportDescription"]["metrics"] = [{"id": m} for m in metrics]
&gt;&gt;&gt; json.dumps(data)
'{"reportDescription": {"metrics": [{"id": "test_met_1"}, {"id": "test_met_2"}, {"id": "test_met_3"}, {"id": "test_met_4"}, {"id": "test_met_5"}], "dateFrom": "yesterday", "dateGranularity": "day", "reportSuiteID": "some_suite", "dateTo": "today"}}'
</code></pre>
<p>To write to file directly, use <code>json.dump(data, log_file)</code>. The <code>json</code> module will take care of properly escaping strings and using the correct JSON quotes etc.</p>
</div>
<div class="post-text" itemprop="text">
<p>Once you have resultant dictionary, convert it to json object using json.dumps(yourdict)</p>
<p>Don't forget import json</p>
<p>Make sure your dictionary is a good.</p>
</div>
<span class="comment-copy">Is there a reason why you don't use a JSON encoder to encode your JSON structure?</span>
<span class="comment-copy">Yes, because I didn't know such a thing existed. I'll research that now. Thanks!</span>
<span class="comment-copy">why do you want <code>id</code> key repeated several times inside <code>metrics</code>? Would not be difficult if you need pull out an specific id from it?</span>
<span class="comment-copy">The API I'm connecting to requires the key in each dictionary to be "id".</span>
<span class="comment-copy">string.strip("'")</span>
<span class="comment-copy">that did the trick. Thanks so much for your help!</span>
