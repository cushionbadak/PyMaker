<div class="post-text" itemprop="text">
<p>I want to print all the running processes in my computer. One of my processes is called <code>哈哈.exe</code>.
This is my code:</p>
<pre><code># -*- coding: utf-8 -*-
import psutil
for proc in psutil.process_iter():
        print proc.name().encode('utf-8')
</code></pre>
<p>I get the output <code>??.exe</code> for the Chinese process. Does someone know how to display the process name correctly?</p>
</div>
<div class="post-text" itemprop="text">
<p>Maybe try doing a format like this?</p>
<pre><code>import psutil

for proc in psutil.process_iter():
    try:
        pinfo = proc.as_dict(attrs=['name'])
    except psutil.NoSuchProcess:
        pass
    else:
        print pinfo
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/stdtypes.html#str.encode" rel="nofollow"><code>encode</code></a> is the wrong method for this: The result of encoding is a binary value, ready to be output to file. What you are thinking of is the  <a href="https://docs.python.org/3/library/stdtypes.html#bytes.decode" rel="nofollow"><em>decode</em></a> function, which converts a binary value (back) to a string.</p>
<p>If the string doesn't display properly without encoding (or decoding), then you'll need to figure out which encoding is used, convert the name to a bytestring, and then decode it from the correct type.</p>
<hr/>
<p>Like many languages, Python is starting to conceptualize string handling the right way: </p>
<ul>
<li>textual data has no (true) encoding, or byte-semantics. The interpreter uses whatever encoding it wishes, and presents the user with characters. You have to encode it to send it to file (But, there is a default encoding: UTF-8 or locale would both makes sense, and I believe Python chooses UTF-8 for this.)</li>
<li>binary data has no textual representation: You have to explicitly decode it in order to treat it as text, and that forces you to think about which encoding it is in.</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Your os is Chinese and run the script in cmd window? You could <code>proc.name().encode('gbk')</code></p>
</div>
<span class="comment-copy"><a href="http://stackoverflow.com/questions/2688020/how-to-print-chinese-word-in-my-code-using-python" title="how to print chinese word in my code using python">stackoverflow.com/questions/2688020/…</a>  Please refer to this, looks same to me</span>
<span class="comment-copy">I get the same output even when I write proc.name().decode('utf-8')</span>
<span class="comment-copy">It doesn't work as well</span>
<span class="comment-copy">My OS is not Chinese...</span>
<span class="comment-copy">What is your local encoding? Where run your script?</span>
<span class="comment-copy">I tried to run it in cmd and also in the Pycharm ide. My OS is in English.</span>
<span class="comment-copy">Try to open pycharm -&gt; Perferences, find <code>File encoding</code>, change IDE and Project encoding as UTF-8, then run your script.</span>
<span class="comment-copy">I get the same output...</span>
