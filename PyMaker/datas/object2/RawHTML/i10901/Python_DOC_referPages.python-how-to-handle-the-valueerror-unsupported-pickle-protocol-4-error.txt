<div class="post-text" itemprop="text">
<p>I'm new to Python.
I've to run this <a href="https://github.com/shwhalen/targetfinder#custom-analyses" rel="noreferrer">TargetFinder script ("Custom Analyses")</a>.</p>
<p>I installed all the required python packages, and copied the code into a script I named <code>main.py</code>, and ran it.
I got this error:</p>
<pre><code>[davide@laptop]$ python main.py 
Traceback (most recent call last):
  File "main.py", line 8, in &lt;module&gt;
    training_df = pd.read_hdf('./paper/targetfinder/K562/output-epw/training.h5', 'training').set_index(['enhancer_name', 'promoter_name'])
  File "/usr/lib64/python2.7/site-packages/pandas/io/pytables.py", line 330, in read_hdf
    return store.select(key, auto_close=auto_close, **kwargs)
  File "/usr/lib64/python2.7/site-packages/pandas/io/pytables.py", line 680, in select
    return it.get_result()
  File "/usr/lib64/python2.7/site-packages/pandas/io/pytables.py", line 1364, in get_result
    results = self.func(self.start, self.stop, where)
  File "/usr/lib64/python2.7/site-packages/pandas/io/pytables.py", line 673, in func
    columns=columns, **kwargs)
  File "/usr/lib64/python2.7/site-packages/pandas/io/pytables.py", line 2786, in read
    values = self.read_array('block%d_values' % i)
  File "/usr/lib64/python2.7/site-packages/pandas/io/pytables.py", line 2327, in read_array
    data = node[:]
  File "/usr/lib64/python2.7/site-packages/tables/vlarray.py", line 677, in __getitem__
    return self.read(start, stop, step)
  File "/usr/lib64/python2.7/site-packages/tables/vlarray.py", line 817, in read
    outlistarr = [atom.fromarray(arr) for arr in listarr]
  File "/usr/lib64/python2.7/site-packages/tables/atom.py", line 1211, in fromarray
    return cPickle.loads(array.tostring())
ValueError: unsupported pickle protocol: 4
</code></pre>
<p>I've no idea about what this pickle protocol means, and also my colleagues know nothing about it.</p>
<p><strong>How can I solve this problem?</strong></p>
<p>I'm using Python 2.7.5 on a CentOS Linux release 7.2.1511 (Core) operating system</p>
</div>
<div class="post-text" itemprop="text">
<p>The Pickle protocol is basically the file format.  From the <a href="https://docs.python.org/3/library/pickle.html#pickle-protocols" rel="noreferrer">documentation</a>,
<em>The higher the protocol used, the more recent the version of Python needed to read the pickle produced.</em> ... <em>Pickle protocol version 4 was added in Python 3.4</em>, your python version (2.7.5) does not support this.</p>
<p>Either upgrade to Python 3.4 or later (current is 3.5) or create the pickle using a lower protocol (2) in the third parameter to <code>pickle.dump()</code>.</p>
</div>
<span class="comment-copy">How was the <code>training.h5</code> file produced?</span>
<span class="comment-copy">I don't know: the TargetFinder script developers provided it among all the files</span>
<span class="comment-copy">In that case, you need python 3.4 or later.</span>
