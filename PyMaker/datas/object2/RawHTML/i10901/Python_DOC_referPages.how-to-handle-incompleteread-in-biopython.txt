<div class="post-text" itemprop="text">
<p>I am trying to fetch fasta sequence for accession numbers from NCBI using Biopython module. Usually the sequences were successfully downloaded. But once in a while i get the below error</p>
<blockquote>
<p>http.client.IncompleteRead: IncompleteRead(61808640 bytes read)</p>
</blockquote>
<p>I have searched the answers <a href="https://stackoverflow.com/questions/14442222/how-to-handle-incompleteread-in-python">How to handle IncompleteRead: in python</a></p>
<p>I have tried top answer <a href="https://stackoverflow.com/a/14442358/4037275">https://stackoverflow.com/a/14442358/4037275</a>. It is working. However, the problem is, it downloads partial sequences. Are there any other way. Can any one point me in right direction.</p>
<p>Thank you for your time.</p>
<pre><code>from Bio import Entrez
from Bio import SeqIO
Entrez.email = "my email id"


def extract_fasta_sequence(NC_accession):
    "This takes the NC_accession number and fetches their fasta sequence"
    print("Extracting the fasta sequence for the NC_accession:", NC_accession)
    handle = Entrez.efetch(db="nucleotide", id=NC_accession, rettype="fasta", retmode="text")
    record = handle.read()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You will need to add a try/except to catch common network errors like this. Note that exception httplib.IncompleteRead is a subclass of the more general HTTPException, see: <a href="https://docs.python.org/3/library/http.client.html#http.client.IncompleteRead" rel="nofollow">https://docs.python.org/3/library/http.client.html#http.client.IncompleteRead</a></p>
<p>e.g. <a href="http://lists.open-bio.org/pipermail/biopython/2011-October/013735.html" rel="nofollow">http://lists.open-bio.org/pipermail/biopython/2011-October/013735.html</a></p>
<p>See also <a href="https://github.com/biopython/biopython/pull/590" rel="nofollow">https://github.com/biopython/biopython/pull/590</a> would catch some of the other errors you can get with the NCBI Entrez API (errors the NCBI ought to deal with but don't).</p>
</div>
