<div class="post-text" itemprop="text">
<p>I am new to API i followed the documentaion on that site "Flickr" and reached this point where the output is almost a dictionary that i can loop through using keys and values but I am getting and error after trying to <em>json.loads()</em> </p>
<pre><code>import json
import requests
headers = {'User-Agent': 'Mozilla/5.0'}
query = "Hello World".lower().replace(" ", "+")
url = 'https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;tag={}'.format(query)
res = requests.get(url, headers=headers)
#di = json.loads(res.text)
</code></pre>
<p>what I want is to basically convert output into a dictionary that i can loop through.</p>
<p>Here is the output i am getting</p>
<pre><code>&gt;&gt;&gt;res.text
'jsonFlickrFeed({\n\t\t"title": "Uploads from everyone",\n\t\t"link": "https:\\/\\/www.flickr.com\\/photos\\/",\n\t\t"description": "",\n\t\t"modified": "2019-03-16T20:51:09Z",\n\t\t"generator": "https:\\/\\/www.flickr.com",\n\t\t"items": [\n\t   {\n\t\t\t"title": "ffxiv_dx11_2019-03-16_23-51-10",\n\t\t\t"link": "https:\\/\\/www.flickr.com\\/photos\\/146658428@N07\\/32455392917\\/",\n\t\t\t"media"
</code></pre>
<p>...</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>If you just want the raw JSON, with no function wrapper, add the parameter nojsoncallback with a value of 1 to your request.</p>
</blockquote>
<p><a href="https://www.flickr.com/services/api/response.json.html" rel="nofollow noreferrer">https://www.flickr.com/services/api/response.json.html</a></p>
<p>So use:</p>
<pre><code>url = 'https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;nojsoncallback=1&amp;tag={}'.format(query)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In general you can just remove the JavaScript function call manually:</p>
<pre><code>prefix = 'jsonFlickrFeed('
assert text.startswith(prefix) and text.endswith(')')
text = text([len(prefix):-1])
</code></pre>
</div>
<span class="comment-copy">what will my link look like in the case of  query is "hello world"</span>
<span class="comment-copy">@zijizijia edited to clarify.</span>
<span class="comment-copy">this works as charm, I have to ask does this method of searching return all the pictures on query ?</span>
<span class="comment-copy">@zijizijia I don't know anything about the flickr API. It's just stripping a few characters, not any of the data.</span>
