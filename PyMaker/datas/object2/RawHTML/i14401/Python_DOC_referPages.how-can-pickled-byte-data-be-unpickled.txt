<div class="post-text" itemprop="text">
<p>How can pickled data be written and read back from a BytesIO object?</p>
<p>I tried:</p>
<pre><code>import io
import cPickle as pickle

s1 = "foo"
bytes_io = io.BytesIO()
pickle.dump(s1, bytes_io, pickle.HIGHEST_PROTOCOL)
s2 = pickle.load(bytes_io)
</code></pre>
<p>which gives for the pickle.load line:</p>
<pre><code>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
EOFError
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You just did not rewind your buffer: <a href="https://docs.python.org/3/library/io.html#io.IOBase.seek" rel="nofollow"><code>bytes_io.seek(0)</code></a> before <code>pickle.load</code>.</p>
<p>Possibly you don't want to rewind to the front of the buffer, but just to the start of your pickled data. Then read out the stream position with <a href="https://docs.python.org/3/library/io.html#io.IOBase.tell" rel="nofollow"><code>bytes_io.tell()</code></a> before pickling and seek to that position instead of <code>0</code>.</p>
</div>
