<div class="post-text" itemprop="text">
<p>I have a XML form with parameters in the following way:</p>
<pre><code>&lt;Text&gt;Answer the Question&lt;/Text&gt;
&lt;Text&gt;Q${ID}: ${Text}:&lt;/Text&gt;
</code></pre>
<p>With this xml text file, I want to replace the parameters in <code>${ }</code> with corresponding values. For example, if I have the following values:</p>
<pre><code>ID = '1', Text = 'Capital of Michigan is'
</code></pre>
<p>then I want the result to be:</p>
<pre><code>&lt;Text&gt;Answer the Question&lt;/Text&gt;
&lt;Text&gt;Q1: Capital of Michigan is:&lt;/Text&gt;
</code></pre>
<p>Other than this feature, the program imports a csv file and then writes new files. So I am trying to write it in Python. What is the best way to do the above functionality in Python?</p>
</div>
<div class="post-text" itemprop="text">
<p>You really need to know what template format was <em>intended</em> here, so you can use the right templating engine.</p>
<p>This example <em>does</em> happen to match the format of <a href="https://docs.python.org/3/library/string.html#template-strings" rel="nofollow"><code>string.Template</code></a> in the standard library. Whether that actually exactly matches the intended format, or just happens to be close enough for this example, is hard to say. If you don't have anything more complicated than <code>${identifier}</code> anywhere, it will work.</p>
<p>So:</p>
<pre><code>&gt;&gt;&gt; xml_template = '''&lt;Text&gt;Answer the Question&lt;/Text&gt;
&lt;Text&gt;Q${ID}: ${Text}:&lt;/Text&gt;'''
&gt;&gt;&gt; ID = '1'
&gt;&gt;&gt; Text = 'Capital of Michigan is'
&gt;&gt;&gt; xml = string.Template(xml_template).substitute(ID=ID, Text=Text)
&gt;&gt;&gt; xml
'&lt;Text&gt;Answer the Question&lt;/Text&gt;\n&lt;Text&gt;Q1: Capital of Michigan is:&lt;/Text&gt;'
</code></pre>
<p>You may also want to use <code>safe_substitute</code>, or to pass <code>**locals()</code> instead of passing explicit arguments, or to actually store your variables in a dict instead of as a bunch of separate variables, etc. Read the docs for further details and examples.</p>
<p>If your pattern format is more complicated, you <em>can</em> customize <code>string.Template</code> (again, see the docs), but you have to understand the complex template dialect you're trying to customize for… and that makes it even more of a good idea to figure out what template engine the patterns were written for and use something compatible.</p>
</div>
<div class="post-text" itemprop="text">
<p>Since you are copying a template format the easiest way is to use a templating language which has already implemented those constructs. One option is mako and the syntax is as follows (From mako webpage):</p>
<pre><code>from mako.template import Template
print(Template("hello ${data}!").render(data="world"))
</code></pre>
</div>
<span class="comment-copy">Python has built-in support for this style in <a href="https://docs.python.org/3/library/string.html#template-strings" rel="nofollow noreferrer"><code>string.Template</code></a>, so there's no need to go grab a third-party library just for this.</span>
