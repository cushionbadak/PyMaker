<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/594266/equation-parsing-in-python">Equation parsing in Python</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I want to use a string of a polynomial in a lambda expression, but I couldn't figure out how to do it. It may not be possible, but if it is I'd love some help!</p>
<p>An example of what I'm trying to do is:</p>
<pre><code>f = lambda x: '3*x^3 + 2*x^2 -4*x +8'
</code></pre>
<p>Assume that I only have access to the polynomial in type str.</p>
<p>Is there something that removes the quotes or a version of eval that works with variables?</p>
</div>
<div class="post-text" itemprop="text">
<p>Do you want to avoid using eval? Otherwise you can just do:</p>
<pre><code>x = 2
eq = '3*x^3 + 2*x^2 -4^x +8'
eval(eq.replace('x',str(x)).replace('^','**'))
</code></pre>
<p>In Python <code>^</code> is a <a href="https://wiki.python.org/moin/BitwiseOperators" rel="nofollow">bitwise operator</a>, so it needs to be replaced by the <code>**</code> <a href="https://docs.python.org/3/library/operator.html" rel="nofollow">operator</a>.</p>
<p>Also check out the <a href="http://www.sympy.org/en/index.html" rel="nofollow">SymPy</a> package.</p>
</div>
<div class="post-text" itemprop="text">
<p>Instead of a <code>lambda</code> you can use <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.polyval.html" rel="nofollow">np.polyval</a> from <code>numpy</code></p>
<pre><code>In [19]: import numpy as np

In [20]: np.polyval([3,2,-4,8],2)
Out[20]: 32
</code></pre>
<p>If you meant <code>4^x</code> then a quick fix</p>
<pre><code>In [21]: np.polyval([3,2,0,-pow(4,2)+8],2)
Out[21]: 24
</code></pre>
<p>or with lambda</p>
<pre><code>f=lambda mylist,x: sum((x**power) * coeff for power, coeff in enumerate(reversed(mylist)))

print f([3,2,-4,8],2)
</code></pre>
</div>
<span class="comment-copy">Is it -4^x or -4*x ??</span>
<span class="comment-copy">As a one-liner: <code>f = lambda x: eval('3*x^3 + 2*x^2 -4^x +8'.replace('x', str(x)).replace('^', '**'))</code></span>
<span class="comment-copy">Thanks, this was great!</span>
<span class="comment-copy">my bad thanks I'll edit my answer</span>
