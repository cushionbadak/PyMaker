<div class="post-text" itemprop="text">
<p>I am hoping to use Version Bookkeeping in some python scripts I commit to Mercurial.</p>
<p>I intend to follow the instruction in <a href="https://www.python.org/dev/peps/pep-0008/#version-bookkeeping" rel="nofollow">https://www.python.org/dev/peps/pep-0008/#version-bookkeeping</a> but I am not sure if </p>
<blockquote>
<p>before any other code, separated by a blank line above and below.</p>
</blockquote>
<p>means before imports. Does it? I am asking because some imports seem to have to be placed at the very beginning, for example:</p>
<pre><code>from __future__ import print_function, division, absolute_import, unicode_literals
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>These lines should be included after the module's docstring, before <strong>any</strong> other code, separated by a blank line above and below. </p>
</blockquote>
<p><code>import</code> statements are code.  You can put them inside of <code>try</code>/<code>except</code> statements in order to catch <code>ImportError</code>, and less commonly they can be used inside functions and class statements.  So this goes after the module docstring and before the imports.</p>
<blockquote>
<p>I am asking because some imports seem to have to be placed at the very beginning[...]</p>
</blockquote>
<p><code>__future__</code> statements are not (just) ordinary code.  They are understood by the compiler (as opposed to the interpreter), and <a href="https://docs.python.org/3/reference/simple_stmts.html#future" rel="nofollow"><em>have</em> to come before you start assigning variables or importing other modules</a>:</p>
<blockquote>
<p>A future statement must appear near the top of the module. The only
  lines that can appear before a future statement are:</p>
<ul>
<li>the module docstring (if any),</li>
<li>comments,</li>
<li>blank lines, and</li>
<li>other future statements.</li>
</ul>
</blockquote>
<p>So, if your version control crud is a comment, you can put it before the future statements.  But if it's a real variable, it has to go after.</p>
</div>
<span class="comment-copy">I don't know, but if you put <code>__version__</code> in the package's <code>__init__.py</code> module you're unlikely to have any <code>__future__</code> imports in there.</span>
