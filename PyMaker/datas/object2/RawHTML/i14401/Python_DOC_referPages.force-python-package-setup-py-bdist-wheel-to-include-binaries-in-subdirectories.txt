<div class="post-text" itemprop="text">
<p>I have a Python package that includes <code>bin_win32</code>, <code>bin_win64</code>, <code>bin_osx</code>, <code>bin_lnx32</code>, and <code>bin_lnx64</code> subdirectories with binaries for the appropriate platforms, which I call through the Python file <code>steamcloud.py</code>. When I run <code>python setup.py bdist_wheel --universal</code>, the generated wheel does not include the files in those subdirectories, only the Python file. How can I get these included in the wheel?</p>
<p>Note: I'm aware 1) that the <code>--universal</code> flag is meant for Python-only packages and 2) that I should be creating separate wheels for each platform. However, I don't have access to Windows or Linux computers for development, and there is no naming convention for Linux-specific wheels.</p>
<p>The contents of <code>setup.py</code> can be found <a href="https://github.com/aarzee/airship/blob/master/airship.steamcloud/setup.py">here</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Well, the first issue is that your project doesn't follow the expected layout, so you need to call <code>setup()</code> with the <code>package_dir</code> argument in addition to the <code>packages</code> and <code>package_data</code> arguments (See <a href="https://docs.python.org/3/distutils/setupscript.html#distutils-installing-package-data" rel="nofollow noreferrer">installing package data</a>).</p>
<pre><code>package_dir={'airship': '&lt;path_to_package&gt;/airship'}
</code></pre>
<p>However, the files you're trying to include aren't really package data, so you probably don't want to add them to <code>package_data</code> like you currently are. <code>package_data</code> interprets paths relative to your packages, not relative to the project root. Instead, use <a href="https://docs.python.org/3/distutils/setupscript.html#installing-additional-files" rel="nofollow noreferrer"><code>data_files</code></a> so you can provide paths relative to your setup.py file.</p>
</div>
