<div class="post-text" itemprop="text">
<p>I'm having issues converting some numbers from strings to integers. Here is the function in question:</p>
<pre><code>def read_discounts():
  myFile = open('discount.txt', 'r')
  discountValues = {}

  #read and split first line
  firstLine = myFile.readline()
  firstLine = re.sub(r'\$','',firstLine)
  firstLine = re.sub(r'\%','',firstLine)
  firstLine = firstLine.split()

  #add values to dictionary
  discountValues['UpperLimit1'] = {firstLine[2]}
  int(discountValues['UpperLimit1'])
  discountValues['PercentDiscount1'] = {firstLine[4]}
</code></pre>
<p>And traceback:</p>
<pre><code>Traceback (most recent call last):
File "C:\Users\Sam\Desktop\test.py", line 94, in &lt;module&gt;
main()
File "C:\Users\Sam\Desktop\test.py", line 6, in main
discounts = read_discounts()
File "C:\Users\Sam\Desktop\test.py", line 33, in read_discounts
int(discountValues['UpperLimit1'])
TypeError: int() argument must be a string or a number, not 'set'
</code></pre>
<p>I'm slightly out of my depth, however I know that <code>discountValues['UpperLimit']</code> is a value that should be able to be converted to an integer (<code>100</code>)</p>
<p><strong>What I've tried:</strong> I've tried converting the value in the list of strings before its added to the dictionary and I've had the same result. I've also tried using dict comprehension but that seems to cause issues when I use the value later.</p>
<p>Any advice would be greatly appreciated, thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You are assigning dictinary values in the wrong way. It should be</p>
<pre><code>discountValues['UpperLimit1'] = firstLine[2] # Droped the { and } from assignment
int(discountValues['UpperLimit1'])
discountValues['PercentDiscount1'] = firstLine[4]
</code></pre>
<p>Wraping up things in <code>{}</code> will creates <a href="https://docs.python.org/3/tutorial/datastructures.html#sets" rel="nofollow">sets in python3</a></p>
<p><strong>Test</strong></p>
<pre><code>&gt;&gt;&gt; a_dict = {}
&gt;&gt;&gt; a_dict["set"] = {"1"} # creates a set and assign it to a_dict["set"]
&gt;&gt;&gt; type(a_dict["set"])
&lt;class 'set'&gt;
&gt;&gt;&gt; a_dict["string"] = "1" # Here a string value is assigned to a_dict["string"]

&gt;&gt;&gt; type(a_dict["string"])
&lt;class 'str'&gt;

&gt;&gt;&gt; int(a_dict["string"])
1
&gt;&gt;&gt; int(a_dict["set"])
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: int() argument must be a string, a bytes-like object or a number, not 'set'
</code></pre>
<hr/>
<p><strong>Edit</strong></p>
<p>If you are trying to assign integer values to the dictionary keys, it must be done at the time of assignment like</p>
<pre><code>discountValues['UpperLimit1'] = int(firstLine[2]) # int() converts string to int
discountValues['PercentDiscount1'] = int(firstLine[4])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Because you added <code>{}</code> around your <code>firstLine[2]</code> it makes it a set. If you remove the <code>{}</code>s it should work.</p>
<p>Also as stated one of the comments above you actually need to save the value after you turn it to an int. Just calling <code>int(discountValues['UpperLimit1'])</code> won't actually save the number. Try something like <code>discountValues['UpperLimit1'] = int(firstLine[2])</code> if you want your dictionary to have integers instead of strings.</p>
</div>
<span class="comment-copy">Take out the { and } around your firstLine[]</span>
<span class="comment-copy">Once you get the error sorted out, it's probably worth noting that <code>int(discountValues['UpperLimit1'])</code> doesn't do anything. <code>int(somevalue)</code> doesn't convert <code>somevalue</code> to an int in-place; you need <code>somevalue = int(somevalue)</code> for that.</span>
<span class="comment-copy">Thankyou both. Particularly Kevin, that really saved me.</span>
<span class="comment-copy">It would be greatly helpful if the downvoter would point out what is wrong with the answer. Thank you</span>
<span class="comment-copy">Thanks for replying. I rectified the assigning of the dictionary values. There is no error now, but the dictionary value still seems to be a string. Any idea what I'm doing wrong here?</span>
<span class="comment-copy">It's because you only said <code>int(discountValues['UpperLimit1'])</code> instead of <code>discountValues['UpperLimit1'] = int(discountValues['UpperLimit1'])</code>. The <code>int()</code> call returns a value - it does not modify the passed object in-place.</span>
<span class="comment-copy">@c3066521 Please see the edit. I think that is what you are looking for</span>
<span class="comment-copy">Never mind I have it sorted, I was using int() incorrectly as indicated by kevin above. Thanks again.</span>
