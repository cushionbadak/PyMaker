<div class="post-text" itemprop="text">
<p>I am trying to take a list that has IP address and port numbers and print the data out to be in this format <code>127.0.0.1:21,80,443</code>. Here is a sample of dummy data.</p>
<pre><code>127.0.0.1
80
127.0.0.1
443
192.168.1.1
21
192.168.1.2
22
192.168.1.2
3389
192.168.1.2
5900
</code></pre>
<p>I would like this data to output as stated above. Right now, I have the data in a list and am looking to associate the ports with the IP addresses so it is not repeating the IP address to each port. This data should output to:</p>
<pre><code>127.0.0.1:80,443
192.168.1.1:21
192.168.1.2:22,3389,5900
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using a <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer">defaultdict</a> you can collect the ports for each address, and the print them out all at once like:</p>
<pre><code>from collections import defaultdict
address_to_ports = defaultdict(list)
with open('file1') as f:
    for address in f:
        address_to_ports[address.strip()].append(next(f).strip())

print(address_to_ports)

print(['{}:{}'.format(a, ','.join(p)) for a, p in address_to_ports.items()])
</code></pre>
<h3>Results:</h3>
<pre><code>defaultdict(&lt;class 'list'&gt;, {'127.0.0.1': ['80', '443'], '192.168.1.1': ['21'], '192.168.1.2': ['22', '3389', '5900']})

['127.0.0.1:80,443', '192.168.1.1:21', '192.168.1.2:22,3389,5900']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use format - instead of just printing every element of the list do the following:</p>
<pre><code>print "{0} : {1}".format(list[0], list[1])
</code></pre>
<p>You haven't specified what the input is, though. You should add it next time.</p>
</div>
<div class="post-text" itemprop="text">
<p>Let us suppose your list is in a file called 'ip_list.txt'
The code</p>
<pre><code>f = open("ip_list.txt","r")
count = 2
dict_of_ip = {}
ip = ''
for i in f:
    if count%2 == 0:
        if i.strip() not in dict_of_ip.keys():
            ip = i.strip()
            dict_of_ip[ip] = []
    else:
        dict_of_ip[ip].append(i.strip())
    count = count + 1
print(dict_of_ip)
</code></pre>
<p>Output:</p>
<pre><code>{'192.168.1.1': ['21'], '127.0.0.1': ['80', '443']}
</code></pre>
</div>
<span class="comment-copy"><i>"I have the data in a list"</i> The sample data you posted doesn't look like a list. So how is the data formatted? Can you show us what the input list looks like?</span>
<span class="comment-copy">What have you tried for this problem, and just where are you stuck? Show us some attempted code.</span>
<span class="comment-copy">are the ip adresses sorted?</span>
<span class="comment-copy">Also, you used the dictionary tag. Are you by chance trying to convert data from a list to a dictionary?</span>
