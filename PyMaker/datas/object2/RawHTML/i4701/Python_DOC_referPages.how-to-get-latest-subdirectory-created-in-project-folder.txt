<div class="post-text" itemprop="text">
<p>I am trying to get the last modified directory of a folder in the project directory. With the code below, I can get the last modified directory only for the scripts saved in the directory, but I want to get the last modified <code>subdir</code> of a folder, which is in project directory. </p>
<p>And I only want to fetch the folder name, not the whole path, because I will increment the folder name <code>+1</code> and create new one when the file limit is reached for the mentioned folder.</p>
<p>And my code is:</p>
<pre><code>import os
import glob


all_subdirs = [d for d in os.listdir('/root/visual-
studio/testfolder/testsubdir/') if os.path.isdir(d)]
latest_subdir = max(all_subdirs, key=os.path.getmtime)

print(latest_subdir) 
</code></pre>
<p>The script is saved to <code>testfolder</code> and when I run the script it only gives <code>testfolders</code> last modified directory. But I want to get the <code>testsubdirs</code> latest directory.</p>
<p>When I run the script below for <code>testsubdirs</code> I get this error:</p>
<pre><code>Traceback (most recent call last):
  File "/root/visual-studio/testfolder/test.py", line 40, in &lt;module&gt;
    latest_subdir = max(all_subdirs, key=os.path.getmtime)
ValueError: max() arg is an empty sequence
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>T think the problem is <code>os.path.listdir()</code> is return just the file or subdirectory name, not the full path to them. This simplest fix is to use <a href="https://docs.python.org/3/library/glob.html#glob.glob" rel="nofollow noreferrer"><code>glob.glob()</code></a> which returns the full path of matching entries (if there's one in the search pattern, that is):</p>
<pre><code>import os
import glob

all_subdirs = [d for d in glob.glob('/root/visual-studio/testfolder/testsubdir/*') 
                if os.path.isdir(d)]

latest_subdir = max(all_subdirs, key=os.path.getmtime)
print(latest_subdir)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>@martineau 's gave me clue and I made some digging into library files and found this solution. As I mentioned before I wasn't able to receive the last directory name of the path and not the full path.</p>
<p>So here is the code :</p>
<pre><code>import os
import glob

all_subdirs = [d for d in glob.glob('/root/testfolder/testsubdir/*') 
            if os.path.isdir(d)]

latest_subdir = max(all_subdirs, key=os.path.getmtime)
r = os.path.basename(os.path.normpath(latest_subdir))
print(r)
</code></pre>
</div>
<span class="comment-copy">d is just a filename not a path, you need to concat basedir and filename in your os.path.isdir.  And I don't know why visual-studio is in the root directory :-/</span>
<span class="comment-copy">I am using visual studio for writing scripts. Thatâ€™s why. :)</span>
<span class="comment-copy">Can you give more detail about d is just a filename not a path section of your comment. @brodeur</span>
<span class="comment-copy">thank you for the answer. but I need last created directory name not the full path to the directory last modified.</span>
<span class="comment-copy">Just use <code>os.path.basename(latest_subdir)</code> to remove all but the path name.</span>
