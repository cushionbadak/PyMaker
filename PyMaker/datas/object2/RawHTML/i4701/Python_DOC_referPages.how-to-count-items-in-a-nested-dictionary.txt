<div class="post-text" itemprop="text">
<p>I want to collect results for each date.</p>
<p>For each date increment pass fail results and add date in dict if not there.
Should I go with dict in dict or defaultdict?</p>
<p>e.g. <code>dates= {'2018-03-20': [{'pass': 2}, {'fail': 3}]}</code></p>
<p>And I want to add new date if not in dates and updates 'pass'/ 'fail' value for specific date.</p>
</div>
<div class="post-text" itemprop="text">
<p>Simplest, as @Jean-Fran√ßoisFabre points out, is to use a <code>defaultdict</code> of <code>Counter</code> objects.</p>
<p>The <code>collections</code> <a href="https://docs.python.org/3/library/collections.html" rel="nofollow noreferrer">documentation</a> contains detailed information on these tools.</p>
<pre><code>from collections import defaultdict, Counter

d = defaultdict(Counter)

d['2018-03-20']['pass'] += 1
d['2018-03-20']['fail'] += 1
d['2018-03-20']['pass'] += 1
d['2018-04-20']['pass'] += 1
d['2018-05-20']['pass'] += 1
d['2018-04-20']['fail'] += 1
</code></pre>
<p>Result:</p>
<pre><code>defaultdict(collections.Counter,
            {'2018-03-20': Counter({'fail': 1, 'pass': 2}),
             '2018-04-20': Counter({'fail': 1, 'pass': 1}),
             '2018-05-20': Counter({'pass': 1})})
</code></pre>
</div>
<span class="comment-copy">use <code>collections.defaultdict(lambda : [{'pass':0},{'fail':0}])</code> ?, then do <code>c["12-01-2012"][0]["pass"] += 1</code> to create / append to an existing date. But the structure you chose is strange. Why a list with dicts containing just 1 key? (pass or fail)?</span>
<span class="comment-copy">Probably better than the superfluous list:  <code>{'pass': 2,'fail': 3}</code></span>
<span class="comment-copy">yeah: <code>collections.defaultdict(lambda : {'pass':0},{'fail':0})</code> then <code>dates['2018-04-20']['pass'] += 1</code></span>
<span class="comment-copy">simpler: <code>collections.defaultdict(collections.Counter)</code>.</span>
