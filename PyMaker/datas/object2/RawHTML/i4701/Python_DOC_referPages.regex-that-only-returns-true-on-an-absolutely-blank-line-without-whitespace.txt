<div class="post-text" itemprop="text">
<p>I want to use <code>regex</code> to test if a string is either a <code>-</code> followed by some intentional note, or is completely blank without whitespace of any kind.</p>
<p>I tested it on <a href="http://www.regex101.com" rel="nofollow noreferrer">regex101.com</a> but I don't understand how the <code>$</code> symbol doesn't singlehandedly prevent the <code>\n</code> character from being a match. </p>
<p>How can I adjust my statement to match my expectations? Thank you in advanced.</p>
<pre><code>match(r"^(-.*|)$", "\n") is not None
#returns True

match(r"(^-.*$|^$)", "\n") is not None
#returns True
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is your use of the <code>$</code> anchor. From <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="nofollow noreferrer">the docs</a>:</p>
<blockquote>
<p>'$'</p>
<p>Matches the end of the string <strong>or just before the newline at the end of the string</strong>, and in MULTILINE mode also matches before a
  newline.</p>
</blockquote>
<p>You have to use <code>\Z</code> instead, which matches only at the end of the string:</p>
<pre><code>&gt;&gt;&gt; re.match(r'^(-.*)?\Z', '\n') is None
True
</code></pre>
<p>Or, alternatively, you could drop the anchors and use <a href="https://docs.python.org/3/library/re.html#re.fullmatch" rel="nofollow noreferrer"><code>re.fullmatch</code></a>:</p>
<pre><code>&gt;&gt;&gt; re.fullmatch(r'(-.*)?', '\n') is None
True
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can try matching non-space character after <code>-</code></p>
<p>Regex <code>^\-\S+</code> will</p>
<pre><code>-a         &lt;-- match
-          &lt;-- no match
-9ddd      &lt;-- match
</code></pre>
<p>See <a href="https://regex101.com/r/56iMem/1" rel="nofollow noreferrer">https://regex101.com/r/56iMem/1</a></p>
</div>
<span class="comment-copy">In terms of why the implementation is designed as it is -- <code>\n</code> isn't considered whitespace within a line. Instead, it's the thing that separates that line from the next one.</span>
<span class="comment-copy">Oh yes, I definitely misread the question.</span>
<span class="comment-copy">How would my results be affected if I used <code>\z</code> instead of <code>\Z</code>?</span>
<span class="comment-copy">@democidist <code>\z</code> isn't a valid regex escape sequence, so it'd throw an error if you tried to use it in a pattern.</span>
