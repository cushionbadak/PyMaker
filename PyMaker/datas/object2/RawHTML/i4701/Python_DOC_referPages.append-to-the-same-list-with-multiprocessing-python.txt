<div class="post-text" itemprop="text">
<p>I'd like different processes to append to the same list:</p>
<pre><code>import multiprocessing as mp

def foo(n,L):
    a
    L.append(n)

pool = mp.Pool(processes=2)
manager = mp.Manager()

L= manager.list()

l=[[1,2],[3,4],[5,6],[7,8]]

[pool.apply_async(foo, args=[n,L]) for n in l]
</code></pre>
<p>However,</p>
<pre><code>&gt;&gt; print L
[]
</code></pre>
<p>What am I doing wrong?</p>
<p>EDIT: The problem was that there was traceback in my original code which wasn't printed on the screen. For example if I run the code above and <code>a</code> doesn't exist, the rest of the code isn't evaluated, but there is no exception raised. Is there a way to make multiprocessing print tracebacks so that I can debug the code?</p>
</div>
<div class="post-text" itemprop="text">
<p>Because you haven't waited tasks to finish.</p>
<pre><code>import multiprocessing as mp

def foo(n,L):
    L.append(n)

pool = mp.Pool(processes=2)
manager = mp.Manager()

L= manager.list()

l=[[1,2],[3,4],[5,6],[7,8]]

[pool.apply_async(foo, args=[n,L]) for n in l]
pool.close()
pool.join()
print(L)
</code></pre>
</div>
<span class="comment-copy"><code>[pool.apply_async(foo, args=[n,L]) for n in l]</code> got <code>[&lt;multiprocessing.pool.ApplyResult at 0x7ff72859c150&gt;,  &lt;multiprocessing.pool.ApplyResult at 0x7ff72859c410&gt;,  &lt;multiprocessing.pool.ApplyResult at 0x7ff72859c510&gt;,  &lt;multiprocessing.pool.ApplyResult at 0x7ff72859c590&gt;]</code>, <code>print L</code> got <code>[[1, 2], [3, 4], [5, 6], [7, 8]]</code> `,</span>
<span class="comment-copy">Multiprocessing works more dependably, on more systems, if you put the multiprocessing code in a 'main' clause, as in all examples in the doc.  <a href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" rel="nofollow noreferrer">docs.python.org/3/library/â€¦</a></span>
<span class="comment-copy">It seems the issue was that there was an error in my code but no traceback printed. I've edited my question</span>
<span class="comment-copy">@Straw: It seems the issue was that there was an error in my code, but no traceback printed. I've edited my question</span>
<span class="comment-copy">you can debug your code by <code>pool.apply(...)</code>. This will run your code in blocking mode, and traceback will be printed.</span>
