<div class="post-text" itemprop="text">
<pre><code>def classify(self):        
    for i in self.tweets:
        tw = self.tweets[i]
        count = 0
        res = {}
        for t in tw:
            label = self.classifier.classify(self.helper.extract_features(t.split()))
            if(label == 'positive'):
                self.pos_count[i] += 1
            elif(label == 'negative'):                
                self.neg_count[i] += 1
            elif(label == 'neutral'):                
                self.neut_count[i] += 1
            result = {'text': t, 'tweet': self.origTweets[i][count], 'label': label}
            res[count] = result
            count += 1
        #end inner loop
        self.results[i] = res
</code></pre>
<p><img alt="this is the screenshot of my csv file" src="https://i.stack.imgur.com/YcMza.png"/> </p>
<pre><code> def writeOutput(self,filename, writeOption='wb'):
    fp = open(filename, writeOption)
    if(fp):
        for i in self.results:
            res = self.results[i]
            for j in res:[enter image description here][1]
                item = res[j]
                text = item['text'].strip()
                label = item['label']
                writeStr = label+" , "+text+"\n"
                pickle.dump(writeStr,fp) 
</code></pre>
<p>I am writing 'label' and 'text' in csv "filename", but the text is getting divided in multiple columns which causing further error in my work.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to use Python's CSV library. This takes a list of values and writes it to a file, automatically adding suitable delimiters and quoting to make it a proper comma separated file. In your case, your text contains commas, as such these items will automatically have <code>"</code> correctly added around them. This can be done roughly as follows:</p>
<pre><code>import csv


def writeOutput(self, filename, writeOption='wb'):
    with open(filename, writeOption) as f_output:
        csv_output = csv.writer(f_output)

        for i in self.results:
            res = self.results[i]
            for j in res:
                item = res[j]
                csv_output.writerow([item['label'], item['text'].strip()])
</code></pre>
</div>
<span class="comment-copy">I have to ask: Where in the world did you get the idea to use <code>pickle.dump</code> to write a csv file?</span>
<span class="comment-copy">Are you sure the <code>text </code> variable doesn't have any commas in it ? I usually use <code>text.replace(",", " ")</code> to make sure there aren't any when writing csv.</span>
<span class="comment-copy">Why don't you use the actual <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv</a> module?</span>
<span class="comment-copy">@roganjosh can you please elaborate with my code? thank you!</span>
<span class="comment-copy">@Aran-Fey please elaborate !thank you!</span>
