<div class="post-text" itemprop="text">
<p>I've been testing a regex of mine. The goal is getting a concrete and named url parameter from a website for replacing it.</p>
<p>Now I almost achieved to get the parameter with this regex:</p>
<pre><code>.website.com.+tag=(?P&lt;tagvalue&gt;.+&amp;|.+\s)
</code></pre>
<p>This works fine when the tag is at the end but it gets the value for 'tag' with a trailing '&amp;' like 'value&amp;' when it's in the middle.</p>
<p>I want to get the value but not capturing the ampersand. I tried to extract the termination characters out of the named group like this:</p>
<pre><code>.website.com.+tag=(?P&lt;tagvalue&gt;.+)&amp;|\s
</code></pre>
<p>but this regex doesn't work. It always gets until end of line. I want:</p>
<ol>
<li>Check if there is a '&amp;' character . If it is, capturing the parameter value without '&amp;'</li>
<li>If 1 is not true and there is <strong>not</strong> a '&amp;' character, then capture the value until end of line (I think this until a \s, because I'm processing text and the url comes inside it).  </li>
</ol>
<p>You can test the regex with some test text here:</p>
<p><a href="https://regex101.com/r/mWetmI/1" rel="nofollow noreferrer">https://regex101.com/r/mWetmI/1</a></p>
</div>
<div class="post-text" itemprop="text">
<p>You can accomplish that with the following regex:</p>
<pre><code>.website.com.+tag=(?P&lt;tagvalue&gt;[^&amp;\s]+)
</code></pre>
<p>This will capture the values for the tag up to but not including the next <code>&amp;</code> or whitespace</p>
</div>
<div class="post-text" itemprop="text">
<p>Try with lazy repetition:</p>
<pre><code>.website.com.+tag=(?P&lt;tagvalue&gt;.+?)(:?\s|&amp;)
</code></pre>
<p><a href="https://regex101.com/r/mWetmI/2" rel="nofollow noreferrer">https://regex101.com/r/mWetmI/2</a></p>
</div>
<span class="comment-copy">Why don't you simply use <code>[^&amp;]+</code>?</span>
<span class="comment-copy">Does it have to be regex? Python has <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse" rel="nofollow noreferrer">urlparse</a></span>
<span class="comment-copy">Try <code>.website.com.+tag=(?P&lt;tagvalue&gt;[^&amp;\s]+)</code>. But like Mike said, you're better off using the <code>urlparse</code> library</span>
<span class="comment-copy">in python 3 its called <a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow noreferrer">urllib.parse</a></span>
<span class="comment-copy">@MikeScotty With a regex I can make the replacement in one line and I'm familiar with them. Also I don't import more modules.</span>
