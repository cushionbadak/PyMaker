<div class="post-text" itemprop="text">
<p>I'm trying to collect real-time data with <code>hdf5</code>, but it doesn't support <code>datetime</code> for now, so I thought <code>np.float64(timestamp)</code> would be a better option than simple strings, from the standpoint of storage efficiency(8bits vs more than 8 bits). I want to record event times with microsecond precision.</p>
<p>From these web pages(<a href="https://docs.python.org/3/library/time.html" rel="nofollow noreferrer">https://docs.python.org/3/library/time.html</a>, <a href="https://pymotw.com/2/time/index.html" rel="nofollow noreferrer">https://pymotw.com/2/time/index.html</a>), I read that timestamps that I get by <code>time.time()</code> is calculated in UTC, but now I think something's different from what I read.</p>
<pre><code>from datetime import datetime
import time

print( datetime.utcnow() )

print( datetime.fromtimestamp( time.time() ) )

&gt;&gt;&gt; (executing file "&lt;tmp 2&gt;")
2018-03-16 21:28:34.716853
2018-03-17 06:28:34.716854
</code></pre>
<p>I don't understand why they are different. If timestamps are calculated in UTC, I think they should be the same. </p>
<p>I have another question. I'd like to know how to add some amount of time to timestamps. For example, I want to know how to do this with timestamps. </p>
<pre><code>datetime.utcnow() + timedelta(hours=3)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>datetime.utcnow()</code> is the utc time, <a href="https://docs.python.org/3/library/datetime.html#datetime.date.fromtimestamp" rel="nofollow noreferrer"><code>datetime.fromtimestamp()</code></a> is the local time, which depends on your time zone.</p>
<p>To add to timestamp, you just need to convert the <code>timedelta</code> to seconds:</p>
<pre><code>time.time() + timedelta(hours=3).total_seconds()
</code></pre>
</div>
<span class="comment-copy">Thank you for your answer! Is there any way to convert <code>timestamp</code> to <code>datetime in UTC </code>?</span>
<span class="comment-copy">@maynull <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.utcfromtimestamp" rel="nofollow noreferrer">docs.python.org/3/library/â€¦</a></span>
