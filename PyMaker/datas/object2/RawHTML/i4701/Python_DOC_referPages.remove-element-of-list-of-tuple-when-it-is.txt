<div class="post-text" itemprop="text">
<p>I have huge list of tuples that looks like:</p>
<pre><code>data =[
    ('-0.167969896634', '0.475981802514', ''), 
    ('-0.186100643368', '0.47510168705', ''), 
    ('-0.205064369305', '0.476225633961', ''),
...]
</code></pre>
<p>I need to remove the ' ' and convert them all to floats, but I am not sure how to do it. I tried this:</p>
<pre><code>[tuple(float(x) for x in t) for t in data]
</code></pre>
<p>It however will tell me that a <code>str</code> cannot be converted to type <code>float</code> and I suspect it may be the <code>''</code> part?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can convert using a try/except block like:</p>
<h3>Code:</h3>
<pre><code>def convert(a_float):
    try:
        return float(a_float)
    except ValueError:
        return 0
</code></pre>
<h3>Test Code:</h3>
<pre><code>data = [('-0.167969896634', '0.475981802514', ''),
        ('-0.186100643368', '0.47510168705', ''),
        ('-0.205064369305', '0.476225633961', '')
        ]


new_data = [tuple(convert(f) for f in t) for t in data]
print(new_data)
</code></pre>
<h3>Results:</h3>
<pre><code>[(-0.167969896634, 0.475981802514, 0), 
 (-0.186100643368, 0.47510168705, 0), 
 (-0.205064369305, 0.476225633961, 0)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If empty strings are the only non-numeric values in your floats, then simply filter them out:</p>
<pre><code>&gt;&gt;&gt; tuple(map(float, filter(lambda s: s, ('1.23', '3.14', ''))))
(1.23, 3.14)
</code></pre>
<p>Or simply <code>None</code> for identity function:</p>
<pre><code>&gt;&gt;&gt; tuple(map(float, filter(None, ('1.23', '3.14', ''))))
(1.23, 3.14)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>A simple list comprehension will do the job along with <a href="https://docs.python.org/3/library/functions.html#filter" rel="nofollow noreferrer"><code>filter</code></a> and <a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow noreferrer"><code>map</code></a>. <code>filter</code> will be used to filter out <code>None</code> values and <code>map</code> will be used to cast the filtered string to <code>float</code></p>
<pre><code>&gt;&gt;&gt; [tuple(map(float,filter(None, a))) for a in data]
&gt;&gt;&gt; [
      (-0.167969896634, 0.475981802514), 
      (-0.186100643368, 0.47510168705), 
      (-0.205064369305, 0.476225633961)
    ]
</code></pre>
</div>
<span class="comment-copy">Yes, you're getting this error because the empty string <code>''</code> can't be properly converted to a float.</span>
<span class="comment-copy">How can I get rid of the ' ' part?</span>
<span class="comment-copy">Just look at the answers</span>
<span class="comment-copy">Does "convert them all to floats" mean you want to convert the <code>''</code> to 0.0, or that you want to convert everything <i>except</i> the <code>''</code> to floats? You've got answers telling you how to do both of those, because your question is ambiguous.</span>
<span class="comment-copy">Also… are all of your tuples 3 elements, with the last one always an empty string and the first two never? If so, it's probably a lot simpler to just remove the last element than to check the values of all elements. If not… are you sure you want to do this? If some tuples have no blank strings, some have 1, some have 3, you'll end up with a list of tuples of different lengths—which is perfectly legal, but not all that common (usually the position within a tuple means something).</span>
<span class="comment-copy">This will definitely work for my application! Thanks!</span>
<span class="comment-copy">Change <code>lambda s: s</code> to <code>None</code>; when <code>filter</code> is passed <code>None</code>, <a href="https://docs.python.org/2/library/functions.html#filter" rel="nofollow noreferrer">it already uses the truthiness of the items directly as if the identity function were passed.</a></span>
<span class="comment-copy">I tried: tuple(map(float, filter(None, data))) and it still said I cannot convert str ' ' to float</span>
<span class="comment-copy">@ShadowRanger thanks!</span>
<span class="comment-copy">I see! Sorry, my screen seems to not be updating faster than I am responding. Thanks for your help!</span>
<span class="comment-copy">@ColinRunnion: Looks like your strings aren't empty, they have spaces in them. Change the <code>filter</code> function to <code>str.strip</code> instead of <code>None</code> and it should work properly.</span>
