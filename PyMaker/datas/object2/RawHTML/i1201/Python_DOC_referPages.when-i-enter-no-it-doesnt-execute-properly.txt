<div class="post-text" itemprop="text">
<pre><code>import webbrowser
import time
import sys
import urllib.request


def con():
    cont = input("Do you want to continue? ")
    if (cont.lower() == "yes" or cont.lower() == "y"):
        main()
    elif (cont.lower() == "no" or cont.lower() == "n"):
        sys.exit()
    else:
        print("Invalid answer. Please try again")
        time.sleep(1)
        con()


def main():
    try:
        website = input("What website do you want to go to? (ex. Example.com) ")
        fWebsite = "http://{}".format(website)
        time.sleep(1)
        if (urllib.request.urlopen(fWebsite).getcode() == 200):
            webbrowser.open(fWebsite)
        time.sleep(1)

    except:
        print("Invalid website. Please enter another one")
        time.sleep(1)
        main()
    con()


main()
</code></pre>
<p>when the code runs con(), when ever I try to enter no, it always says invalid website. Please enter another one. How do I fix it to exit the program? everything else works it is just this one part.</p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>sys.exit</code> function works by raising an <code>SystemExit</code> exception. Your code has a bare <code>except</code> block which is catching that exception and suppressing its normal purpose (that is, to exit quietly).</p>
<p>The best fix for this issue is to make your <code>except</code> clause more specific to the kinds of exceptions you expect to catch. It is <em>almost always</em> a bad idea to catch everything (the only exception to that is when you're catching all exceptions, but logging and re-raising most of them).</p>
<p>Since your specific code is trying to deal with exceptions from <code>urllib</code>, catching <a href="https://docs.python.org/3/library/urllib.error.html#urllib.error.URLError" rel="nofollow noreferrer"><code>urllib.error.URLError</code></a> is probably your best bet.</p>
</div>
<span class="comment-copy">it gives me a syntax error saying break is outside the loop</span>
<span class="comment-copy">Are you per chance married to your code ? Wife doesn't execute properly either if I say no.</span>
<span class="comment-copy">Never mind. I have found that exit() works.</span>
<span class="comment-copy">While it doesn't look like it's the problem in the code you posted, you should generally avoid naked except clauses. One good reason to do so is that <code>sys.exit</code> raises a <code>SystemExit</code> exception, which should bubble all the way up to the top level, where it causes the program to exit. This is facilitated by the fact that it isn't a subclass of <code>Exception</code> so you can do <code>except Exception</code> without catching it. But a naked except catches anything, which prevents the <code>SystemExit</code> from doing its job.</span>
<span class="comment-copy">Joking aside, using try...except without being specific about which exception you want to capture is dangerous. Basically any exception caught will trigger the same condition (here "Invalid website"). This potentially obfuscates other errors.</span>
