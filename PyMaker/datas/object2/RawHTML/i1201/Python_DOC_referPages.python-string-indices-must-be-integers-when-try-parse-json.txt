<div class="post-text" itemprop="text">
<p>When i try to read json file </p>
<pre><code>for index, js in enumerate(json_files):
    with open(os.path.join(path_to_json, js)) as json_file:
        json_text = json.load(json_file)
        t_id = json_text["id"]
        created_at = json_text["created_at"]
        text = json_text["text"]
        user_name = json_text["user"]["name"]
        location = json_text["user"]["location"]
        jsons_data.loc[index] = [t_id,created_at,text,user_name,location]
</code></pre>
<p>i got this error </p>
<p>TypeError: string indices must be integers</p>
<p>this are in my json file</p>
<pre><code>"{\"created_at\":\"Wed Nov 07 06:01:26 +0000 2018\",\"id\":1060049570195853312,\"id_str\":\"1060049570195853312\",\"text\":\"RT @maulinaantika: Tempe Khot News:\\nDiduga pertemuan kontrak politik antara Polri &amp;amp; timses jokowi tahun 2014\\n\\nDalam foto tersebut terlihat\\u2026\",\"source\":\"\\u003ca href=\\\"https:\\/\\/mobile.twitter.com\\\" rel=\\\"nofollow\\\"\\u003eTwitter Lite\\u003c\\/a\\u003e\",\"truncated\"
</code></pre>
<p>when i try like this</p>
<pre><code>with open('tm.json', 'r') as f:
    for line in f:
        text = line.encode("utf-8")
        json_text = json.loads(text)

print(json_text)
</code></pre>
<p>i got this result</p>
<pre><code>{"created_at":"Sat Dec 08 12:58:14 +0000 2018","id":1071388484609413120,...
</code></pre>
<p>can someone guide me how to solve this problem?</p>
</div>
<div class="post-text" itemprop="text">
<p>The easiest explanation for <em>Why do I get this error</em> considering your code is:</p>
<blockquote>
<pre><code>json_text = json.load(json_file)
</code></pre>
</blockquote>
<p>is providing you with a string. Which you try to use like a dictionary:</p>
<blockquote>
<pre><code> t_id = json_text["id"]
 created_at = json_text["created_at"]
 text = json_text["text"]
 user_name = json_text["user"]["name"]
 location = json_text["user"]["location"] 
</code></pre>
</blockquote>
<p>You can use <code>try: ... except Exception as e: ...</code> to avoid this and get the name of your json that is the culprit. Then you can fix your json data:</p>
<pre><code>for index, js in enumerate(json_files):
    with open(os.path.join(path_to_json, js)) as json_file:
        json_text = json.load(json_file)
        try:
            t_id = json_text["id"]
            created_at = json_text["created_at"]
            text = json_text["text"]
            user_name = json_text["user"]["name"]
            location = json_text["user"]["location"]
            jsons_data.loc[index] = [t_id,created_at,text,user_name,location]
        except TypeError as te:
            print("Bad json - not a dict: ", os.path.join(path_to_json, js))
            print("Json was deserialized into a : ", type(json_text) )
            break # exit while, fix your data, do until it works
</code></pre>
<hr/>
<p>See:</p>
<ul>
<li><a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">PyTut: Handling exceptions</a></li>
</ul>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/6077675/why-am-i-seeing-typeerror-string-indices-must-be-integers">Why am I seeing "TypeError: string indices must be integers"?</a></span>
<span class="comment-copy">@Dinari cant find my answer there</span>
<span class="comment-copy">Always include the complete error traceback in your question. Also, see how to create a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a></span>
