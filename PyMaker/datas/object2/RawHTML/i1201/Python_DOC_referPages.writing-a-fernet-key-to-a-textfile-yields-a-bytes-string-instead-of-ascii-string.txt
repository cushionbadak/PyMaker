<div class="post-text" itemprop="text">
<p>I am trying to write a Fernet Key generated by using the python cryptography module(<a href="https://cryptography.io/en/latest/" rel="nofollow noreferrer">https://cryptography.io/en/latest/</a>) into a .txt file. This .txt file is then read to retrieve the Key.</p>
<pre><code>from cryptography.fernet import Fernet
import csv
#Creates textfile if textfile has not been created
with open("Keys.txt", "w+") as csvfile:
    csvfile.close()
with open("Keys.txt","rU") as csvfile:
    reader=csv.reader(csvfile)
    KeyFound=0
    for row in reader:
        if len(row)&gt;0:
            KeyFound=1
            Key=row
            print(Key)
        else:
            pass
    if KeyFound==0:
        Key = Fernet.generate_key()
        print(Key)
        print("Created Key")
        csvfile.close()
#Writing Key to textfile
if KeyFound==0:
    with open("Keys.txt", "w+") as csvfile:
        writer=csv.writer(csvfile)
        writer.writerow(Key)
        csvfile.close()
</code></pre>
<p>However when I run this code it yields a <code>bytes</code> string instead of the key.</p>
<p>Example: 
A Fernet Key : <code>b'jDyzNLo3aPD6-zFGVRnzMyBdyy93wQhemJ8QR4VH2I0='</code>
Is written as:
<code>106,68,121,122,78,76,111,51,97,80,68,54,45,122,70,71,86,82,110,122,77,121,66,100,121,121,57,51,119,81,104,101,109,74,56,81,82,52,86,72,50,73,48,61</code></p>
<p>I would like the .txt file to contain the key: <code>b'jDyzNLo3aPD6-zFGVRnzMyBdyy93wQhemJ8QR4VH2I0='</code></p>
<p>I have done some research in to this matter and I know that the <code>b'</code> denotes a bytes string, but I still do not know why it is represented as a list of byte numbers instead of  <code>b'jDyzNLo3aPD6-zFGVRnzMyBdyy93wQhemJ8QR4VH2I0='</code></p>
<p>I know saving the Key to a .txt file may not be the most secure method of doing this, so any other methods are welcome.</p>
</div>
<div class="post-text" itemprop="text">
<p>That happens because it is the intended behaviour. From Python csv <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">official docs</a> </p>
<blockquote>
<p>Writer Objects</p>
<p>Writer objects (DictWriter instances and objects returned by the
  writer() function) have the following public methods. <strong>A row must be an
  iterable of strings or numbers for Writer objects</strong> and a dictionary
  mapping fieldnames to strings or numbers (by passing them through
  str() first) for DictWriter objects.</p>
</blockquote>
<p>Try using a DictWriter (and DictReader)</p>
<pre><code>with open("Keys.txt", "w+") as csvfile:
    headers = ['key']
    writer=csv.DictWriter(csvfile, fieldnames=headers)
    writer.writeheader()
    writer.writerow({'key': b'jDyzNLo3aPD6-zFGVRnzMyBdyy93wQhemJ8QR4VH2I0='})
    csvfile.close()
</code></pre>
</div>
<span class="comment-copy">Welcome to SO. See my edit.</span>
<span class="comment-copy">Remember that the key is being generated using <code>Key = Fernet.generate_key()</code> so write statement cannot be hardcoded.</span>
<span class="comment-copy">@LyraOrwell I just don't have paramiko installed so I tested like that.</span>
<span class="comment-copy">Just store your <code>Key</code> in a dict and pass the dict. Then <code>Key</code> becomes an unfortunate name because of dict keys but...</span>
