<div class="post-text" itemprop="text">
<p>I am trying to get my rows as a list or a pandas data frame from a Query.all() function in SqlAlchemy.</p>
<pre><code>    users = session.query(User).filter_by(name='steve').all();
</code></pre>
<p>the results came out as an array of models object.I need the values and columns to be shown as : </p>
<pre><code>   id|name|age
</code></pre>
<p>All other solutions proposed to do a for loop through the result and to extract each value (which it make no sense).</p>
<p>I am using python3.6</p>
<pre><code>Class User(Base):
    __tablename__ = 'users'

    id = Column(Integer, primary_key=True)
    name = Column(Integer)
    age = Column(Integer);
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The result code is :</p>
<pre><code>users = session.query(User); #Query object
statement = users.statement;#Getting the statment
df = pd.read_sql(statement,db.engine);#binding it to a dataframe
</code></pre>
</div>
<span class="comment-copy"><code>pandas.read_sql</code>?</span>
<span class="comment-copy">If you need to display the data in a specific way, you'll either have to a) loop over it and print in your desired format or b) format a string in the database and then loop over the results and print... Also, <code>Query.all()</code> returns a list. Not an <a href="https://docs.python.org/3/library/array.html" rel="nofollow noreferrer">array</a>.</span>
<span class="comment-copy">@Primusa pandas.read_sql will take 2 parameters the SQL query and the connection, and in this way, I will lose the usage of the SQL alchemy ORM. is there another way?</span>
<span class="comment-copy">@IljaEverilä so there is no alternate way to get the data in pandas without looping ?</span>
<span class="comment-copy">Getting data is rather different from showing, @Primusa hinted at what you could do. Here is a Q/A about using <code>Query.statement</code> with <code>pandas.read_sql()</code>: <a href="https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe" title="sqlalchemy orm conversion to pandas dataframe">stackoverflow.com/questions/29525808/…</a></span>
