<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/52941953/python-delete-from-list-while-iterating">Python delete from list while iterating</a>
<span class="question-originals-answer-count">
                    3 answers
                </span>
</li>
</ul>
</div>
<p>I have 2 lists</p>
<pre><code>list_links = ['google/order', 'google/faq', 'google/404']
prefixes = ['order', '404']
</code></pre>
<p>I need to delete all elements from <strong>list_links</strong> which contains <strong>prefixes</strong></p>
<p>result must be </p>
<pre><code>list_clean = ['google/faq']
</code></pre>
<p>I am trying to do something like this</p>
<pre><code>for link in list_links:
    for pre in prefixes:
        if pre in link:
            list_links.remove(link)
            break
</code></pre>
<p>But it skips some elemets, I think its because i cant remove elemts from list which i am looping at the moment
I have googled a lot examples, but it all with numbers and haven`t worked for me </p>
</div>
<div class="post-text" itemprop="text">
<p>You should never iterate and delete at the same time, instead use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="noreferrer">list comprehension</a>:</p>
<pre><code>list_links = ['google/order', 'google/faq', 'google/404']
prefixes = ['order', '404']

result = [e for e in list_links if not any(prefix in e for prefix in prefixes)]

print(result)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>all</code> with <code>endswith</code>:</p>
<pre><code>list_links = ['google/order', 'google/faq', 'google/404']
prefixes = ['order', '404']
new_result = [i for i in list_links if all(not i.endswith(c) for c in prefixes)]
</code></pre>
<p>Output:</p>
<pre><code>['google/faq']
</code></pre>
</div>
<span class="comment-copy">Could you show us some examples that didn't work?</span>
<span class="comment-copy">@Prune I'm not too keen on the dupe here because it's too general, while this is comparing against a second list. I also don't think the given answers are the most efficient possible</span>
<span class="comment-copy"><code>prefixes = set(prefixes)</code> and then  <code>result = [item for item in list_links if item.split('/')[1] not in prefixes]</code> is probably faster</span>
<span class="comment-copy">Beat me to the same solution, but I think the time complexity can be improved?</span>
<span class="comment-copy">not sure if <code>endswith</code> qualifies as a "prefix"</span>
<span class="comment-copy">@andreihondrari I think the OP's terminology is incorrect, the elements of <code>prefixes</code> are really suffixes of <code>"google/"</code></span>
