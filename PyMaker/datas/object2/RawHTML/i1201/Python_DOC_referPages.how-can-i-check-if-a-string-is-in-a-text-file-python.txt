<div class="post-text" itemprop="text">
<p>I am doing a project for school - and as part of it, I need to check if their username is already stored within a text file:</p>
<pre><code>def checkUsername():
    userName = str(input("WHAT IS YOUR NAME?"))
    if userName in usernames.read():
        print("WELCOME BACK" + userName)
        print("LET\'S GET STARTED")
        return False
    else:
        usernames.write(userName)
        print("WELCOME TO THE SYSTEM!")
        return False
</code></pre>
<p>Despite my efforts to resolve this issue, I cannot seem to figure it out. Can anyone help?</p>
</div>
<div class="post-text" itemprop="text">
<p>What you are missing is first opening the file for reading:</p>
<pre><code>def checkUsername():
    userName = str(input("WHAT IS YOUR NAME?"))
    with open("usernames.txt", 'r') as usernames:    
        if userName in usernames.read():
            print("WELCOME BACK" + userName)
            print("LET\'S GET STARTED")
            return False
        else:
            usernames.write(userName)
            print("WELCOME TO THE SYSTEM!")
            return False
</code></pre>
<p><em>with open</em> opens the file at the specified path (change usernames.txt to the full path of the file) and 'r' signifies that the file is to be opened with reading permissions. This is usually advantageous to using python's open() method, which requires you close() the file when you are finished reading it.</p>
<p>Side note: notice you have returned False under both conditions of your function.</p>
</div>
<div class="post-text" itemprop="text">
<p>One issue with this function is that <code>usernames</code> is not defined, and the other is that both ends of the <code>if</code> block will return <code>False</code>.</p>
<p>One way you could solve these would be </p>
<pre><code>def checkUsername(usernames_file):
    fp = open(usernames_file, 'r')  # the default mode is 'r', but it's explicit here
    usernames = fp.read()

    userName = str(input("WHAT IS YOUR NAME?"))
    if userName in usernames:
        print("WELCOME BACK" + userName)
        print("LET\'S GET STARTED")
        fp.close()
        return True  # note, not False
    else:
        fp.write(userName)
        print("WELCOME TO THE SYSTEM!")
        fp.close()
        return False
</code></pre>
<p>That snippet above is different in a few ways, but it also ignores two likely errors you might also be facing: case sensitivity in inputs (the <code>input(...)</code> line could be whatever the user wants), and line separation in <code>usernames_file</code>. Hopefully this pushes you in the right direction though.</p>
</div>
<div class="post-text" itemprop="text">
<ul>
<li>You need to <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">open()</a> the file <strong>before</strong> calling the <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer">read()</a> method. </li>
<li>Check if username isn't empty after using <a href="https://www.tutorialspoint.com/python/string_strip.htm" rel="nofollow noreferrer">strip()</a></li>
<li>You can use the <a href="http://book.pythontips.com/en/latest/ternary_operators.html" rel="nofollow noreferrer">ternary conditional operator</a> (<code>a if condition else b</code>)</li>
</ul>
<hr/>
<p><strong>i.e.:</strong></p>
<pre><code>def checkUsername(user):
    if user.strip():
        with open("myfile") as users:
            print(f"WELCOME BACK {user}\nLET'S GET STARTED") if user in users.read() else print(f"WELCOME TO THE SYSTEM!")
    else:
        print("Error: empty username")

user = input("WHAT IS YOUR NAME?")
checkUsername(user)
</code></pre>
</div>
<span class="comment-copy">why text file ?  better to use database</span>
<span class="comment-copy">because the homework assignment says it's a text file. He's not making design decisions here.</span>
<span class="comment-copy">@prashantrana He mentioned this is for school, so he likely hasn't be taught about databases.</span>
<span class="comment-copy">Why do both <code>if</code> and <code>else</code> branches <code>return False</code>?</span>
<span class="comment-copy">Also welcome KingJC to SO. Would you be able to post your whole code, it seems like you are fairly close to figuring this out.</span>
<span class="comment-copy">Thanks. I thought it was enough to add it as a list before the function but clearly not.</span>
<span class="comment-copy">Happy to help :) Before reading from any file, the file has to be opened at its path. Whether you open the file inside the function or outside doesn't make a difference - it will work either way. You were on the right path!</span>
<span class="comment-copy">Thank you for showing me how to do it properly.</span>
<span class="comment-copy">Thank you for your insight.</span>
<span class="comment-copy">You're welcome. If my answer helped you please consider accepting it as the correct answer. Thank you.</span>
