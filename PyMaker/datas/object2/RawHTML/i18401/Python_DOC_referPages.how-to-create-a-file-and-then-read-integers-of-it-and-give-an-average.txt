<div class="post-text" itemprop="text">
<p>I have to write a program that reads a list of numbers from a file then outputs the average.
If my file contained
3
45
83
21
My program would output: 38
I know how to create the file:</p>
<pre><code>myFile = open('average', 'wt')
myFile.write('3\n')
myFile.write('45\n')
myFile.write('83\n')
myFile.write('21\n')
myFile.close()
</code></pre>
<p>This bit works but I don't know how to do the second part.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>with open('average', 'wt') as myFile:
    myFile.write('3\n')
    myFile.write('45\n')
    myFile.write('83\n')
    myFile.write('21\n')
</code></pre>
<p>Split number string using <a href="http://docs.python.org/2/library/stdtypes#str.split" rel="nofollow"><code>str.split</code></a>, then convert to int. <a href="http://docs.python.org/2/library/functions.html#sum" rel="nofollow">Sum</a> all number, divide it:</p>
<pre><code>with open('average', 'rt') as myFile:
    numbers = map(int, myFile.read().split())
    print(sum(numbers, 0.0) / len(numbers))
</code></pre>
<p>If file is huge, above will cause problem (taking too many memory). In such case, use following (process line by line):</p>
<pre><code>with open('average', 'rt') as myFile:
    total, n = 0, 0
    for line in myFile:
        total += int(line)
        n += 1
    print(float(total) / n)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This code should do what you want.</p>
<pre><code>numbers = [int(f.strip()) for f in open("average").readlines()]
print(sum(numbers)/float(len(numbers)))
</code></pre>
<p>It uses <a href="http://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow">list comprehension</a> in order to build a list of all the numbers in the file, it uses <code>strip()</code> to remove the newline character <code>\n</code> from the line, then it uses <code>int()</code> to convert the number to an integer (at this point, the number was still a string). The file itself is read using <code>readlines()</code> which outputs a list of all the lines in the file.</p>
<p>Finally, it prints the sum of all the numbers in the list divided by the length of the list (which gives the average of all the numbers).</p>
</div>
<span class="comment-copy">The <code>t</code> in the file modes is totally superfluous; as is giving an explicit mode to <code>open</code> when you only want to read the file. I'd recommend omitting them for clarity.</span>
