<div class="post-text" itemprop="text">
<p>I am looking to extract all the information from this page:</p>
<p><a href="ftp://ftp.cmegroup.com/pub/settle/stleqt" rel="nofollow noreferrer">Text data in FTP</a></p>
<p>I understand that requests lib wouldn't work for ftp, so I have resorted to using ftplib. </p>
<p>However, documentation seems to only explore the downloading of files in directories. How do I download this file without a "file type"</p>
<p><a href="https://i.stack.imgur.com/fMl9t.png" rel="nofollow noreferrer"><img alt="FTP server" src="https://i.stack.imgur.com/fMl9t.png"/></a></p>
<p>Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to download a text file contents to memory, without using any temporary file, use <a href="https://docs.python.org/3/library/ftplib.html#ftplib.FTP.retrlines" rel="nofollow noreferrer"><code>retrlines</code> like</a>:</p>
<pre><code>contents = ""
def collectLines(s):
    global contents
    contents += s + "\n"

ftp.retrlines("RETR " + filename, collectLines)
</code></pre>
<hr/>
<p>Or use an array:</p>
<pre><code>lines = []
ftp.retrlines("RETR " + filename, lines.append)
</code></pre>
<hr/>
<p>For binary files, see <a href="https://stackoverflow.com/q/18772703/850848">Read a file in buffer from FTP python</a>.</p>
</div>
<span class="comment-copy">what text ? ftp can give you only files or list of files in directores - if you see something more in browser or other program then it is extra information added by this program. Maybe add screenshot in question to show text which you heed</span>
<span class="comment-copy">added a screenshot. sorry if i was being unclear.</span>
<span class="comment-copy">it is list of files in directory - you can get it using <code>ftp.retrlines('LIST')</code>  see first <a href="https://docs.python.org/3.6/library/ftplib.html" rel="nofollow noreferrer">example in documentation</a> Web browser only reformat it in differen way. But you can't get the same result with ftplib. You could only use Selenium to control webb browser and then you could get text from browser.</span>
<span class="comment-copy">If you want to download <a href="ftp://ftp.cmegroup.com/pub/settle/stleqt" rel="nofollow noreferrer">ftp.cmegroup.com/pub/settle/stleqt</a> you download it with FTP. You don't really need Python or scraping for this.  It's not clear what you mean with "file type" or why you think you need to know the file type, but this looks like just a text file.</span>
<span class="comment-copy">it doesn't matter if file has extension or not. You can download it with Python using ftplib as any other file (maybe you should use binary mode instead of text mode).</span>
