<div class="post-text" itemprop="text">
<p>I'm trying to check a simple flag to be true or false, but my IF statement fails and it doesn't give me the correct result, Hope someone can help!</p>
<p>I'm using (in python3.6) this url</p>
<pre><code>    https://bittrex.com/api/v1.1/public/getticker?market=usdt-btc
</code></pre>
<p>for a get request and the data it should return looks like this (from URL in browser):</p>
<pre><code>    {"success":true,"message":"","result":{"Bid":18362.00000000,"Ask":18399.00000000,"Last":18362.00000000}}
</code></pre>
<p>Here is my program:</p>
<pre><code>    import sys
    import time
    import requests
    import json
    import os

    BTCtick = 'https://bittrex.com/api/v1.1/public/getticker?market=usdt-btc'
    reqBTC = requests.get('https://bittrex.com/api/v1.1/public/getticker?        market=usdt-btc').text
    BTCdata = json.loads(reqBTC)

    testResult = BTCdata['success']
    print("=============================")
    print("success content: ", BTCdata['success'])
    if (testResult == 'True'):
        print("IF: success flag is TRUE")
    else:
        print("IF: success flag is FALSE")
    print("=============================")

    print("result content: ", BTCdata['result'])
    print("Bid: ", BTCdata['result'] ['Bid'], sep='')
    print("Ask: ", BTCdata['result'] ['Ask'], sep='')
    print("Last: ", BTCdata['result'] ['Last'], sep='')
    print("=============================")
    exit()
</code></pre>
<p>Output in the console looks like this:</p>
<pre><code>    =============================
    success content:  True
    IF: success flag is FALSE
    =============================
    result content:  {'Bid': 18420.0, 'Ask': 18439.99999999, 'Last': 18439.99999999}
    Bid: 18420.0
    Ask: 18439.99999999
    Last: 18439.99999999
    =============================
</code></pre>
<p>Any idea what I'm missing here? I'm sure it is simple
Please please help me, I'm somewhat new to python and kind find out what's wrong, I have been reading a lot the last two days, but could not find the issue!</p>
</div>
<div class="post-text" itemprop="text">
<p><code>json.loads()</code> would convert the <code>true</code> to the Python's boolean <code>True</code> (<a href="https://docs.python.org/3/library/json.html#encoders-and-decoders" rel="nofollow noreferrer">conversion table for the reference</a>).  You just need to check for the truthiness of the <code>testResult</code> value instead of comparing it with a string <code>'True'</code>:</p>
<pre><code>if testResult:
    print("IF: success flag is TRUE")
else:
    print("IF: success flag is FALSE")
</code></pre>
<p>In other words, here is what happened when you compared <code>testResult</code> to a <code>'True'</code> string:</p>
<pre><code>In [1]: testResult = True

In [2]: testResult == 'True'
Out[2]: False
</code></pre>
</div>
<span class="comment-copy">you use text <code>"True"</code> but maybe it should be boolean value <code>True</code></span>
<span class="comment-copy">Just noticed, thanks @chris</span>
<span class="comment-copy"><code>True</code> != <code>'True'</code> != <code>'true'</code></span>
<span class="comment-copy">Thank you @alecxe, that saved my day :-D. Much appreciated and very informative, I didn't know I could check it like that. I guess another approach could be to define TRUE and FALSE and then check against that, but it looks like it's already part of python and pre-defined?</span>
<span class="comment-copy">@ForumStudiologe yeah, right, don't overcomplicate and follow the documentation. Thanks.</span>
