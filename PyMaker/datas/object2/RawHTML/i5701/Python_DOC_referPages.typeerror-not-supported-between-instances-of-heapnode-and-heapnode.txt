<div class="post-text" itemprop="text">
<p>When I try to push a node onto heap for the huffman tree I get this error:</p>
<p>TypeError: '&lt;' not supported between instances of 'HeapNode' and 'HeapNode'</p>
<pre><code>    class HuffmanCoding:
        def __init__(self, path):
            self.path = path
            self.heap = []
            self.codes = {}
            self.reverse_mapping = {}

        def make_heap(self, frequency):
            for key in frequency:
                node = HeapNode(key, frequency[key])
                heapq.heappush(self.heap, node)
</code></pre>
<p>Node class:</p>
<pre><code>    class HeapNode:
        def __init__(self, char, freq):
            self.char = char
            self.freq = freq
            self.left = None
            self.right = None

        def __cmp__(self, other):
            if(other == None):
                return -1
            if(not isinstance(other, HeapNode)):
                return -1
            return self.freq &gt; other.freq
</code></pre>
<p>The error is being caused by:</p>
<pre><code>    heapq.heappush(self.heap, node)
</code></pre>
<p><a href="https://github.com/bhrigu123/huffman-coding/blob/master/huffman.py" rel="nofollow noreferrer">Full code by github.com/bhrigu123</a></p>
</div>
<div class="post-text" itemprop="text">
<p>The current version of the program here works. I tested. <a href="https://github.com/bhrigu123/huffman-coding/blob/master/huffman.py" rel="nofollow noreferrer">https://github.com/bhrigu123/huffman-coding/blob/master/huffman.py</a></p>
<pre><code>#Modified code here for reference
class HeapNode:
    def __init__(self, char, freq):
        self.char = char
        self.freq = freq
        self.left = None
        self.right = None

    # defining comparators less_than and equals
    def __lt__(self, other):
        return self.freq &lt; other.freq

    def __eq__(self, other):
        if(other == None):
            return False
        if(not isinstance(other, HeapNode)):
            return False
        return self.freq == other.freq
</code></pre>
</div>
<span class="comment-copy">It looks like <code>HeapNode</code> doesn't support ordering (it doesn't have a <code>__lt__</code> or <code>__eq__</code>, etc methods)</span>
<span class="comment-copy">I believe @mgilson is correct. You need to overload comparison operators. Also, nice name.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/reference/datamodel.html#object.__lt__" rel="nofollow noreferrer">docs.python.org/3/reference/datamodel.html#object.__lt__</a></span>
<span class="comment-copy">You try to call operator <code>&lt;</code> on two heap nodes, but you never defined such a method.</span>
<span class="comment-copy">While links can be good, try to quote the most important parts, just in case the link is down or something alike.</span>
<span class="comment-copy">Thank you for the suggestion, @Mangu</span>
