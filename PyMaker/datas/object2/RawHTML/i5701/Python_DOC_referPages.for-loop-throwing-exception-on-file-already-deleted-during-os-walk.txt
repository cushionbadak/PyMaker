<div class="post-text" itemprop="text">
<p>I'm writing a script that walks through a directory and looks for files with the typical Windows installer extensions and deletes them.  When I run this with a list (vs say checking for .msi or .exe), it breaks when going through the nested loop again.  It seems as if it runs though my list, deletes one type of extension then runs through the loop again and attemtps to find the same extension then throws an exception.  Here is the output when I simply print, but not remove a file:</p>
<pre><code>&gt; C:\Users\User\Documents\Python Scripts&gt;python test.py &lt; test_run.txt
&gt; Found directory: . Found directory: .\test_files
&gt;          Deleting test.cub
&gt;          Deleting test.idt
&gt;          Deleting test.idt
&gt;          Deleting test.msi
&gt;          Deleting test.msm
&gt;          Deleting test.msp
&gt;          Deleting test.mst
&gt;          Deleting test.pcp
&gt;          Deleting test1.exe
</code></pre>
<p>When I attempt to run it with os.remove it gives the following:</p>
<pre><code>Found directory: .
Found directory: .\test_files
         Deleting test.cub
Traceback (most recent call last):
  File "test.py", line 13, in &lt;module&gt;
    os.remove(fileName)
FileNotFoundError: [WinError 2] The system cannot find the file specified: 'test.cub'
</code></pre>
<p>I read up on os walk and that seems to be working properly, I can't seem to figure out where this script is going wrong.  The code is below:</p>
<pre><code>import os

myList = [".msi", ".msm", ".msp", ".mst", ".idt", ".idt", ".cub", ".pcp", ".exe"]


rootDir = '.'
for dirName, subdrList, fileList in os.walk(rootDir):
    print('Found directory: %s' %dirName)
    for fileName in fileList:
        for extName in myList:
            if(fileName.endswith(extName)):
                    print('\t Deleting %s' % fileName)
                    os.remove(fileName)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The correct relative name of the file <code>test.cub</code> is <code>.\test_files\test.cub</code>.</p>
<p>The relative name you are supplying is <code>.\test.cub</code>.</p>
<p>As it says in the <a href="https://docs.python.org/3/library/os.html" rel="nofollow noreferrer">os.walk documentation</a>:</p>
<blockquote>
<p>To get a full path (which begins with <em>top</em>) to a file or directory in
   <em>dirpath</em>, do <code>os.path.join(dirpath, name)</code>.</p>
</blockquote>
</div>
<span class="comment-copy">Yup that was it...and I needed a break in the nested loop</span>
