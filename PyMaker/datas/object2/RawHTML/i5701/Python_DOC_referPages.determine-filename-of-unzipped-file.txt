<div class="post-text" itemprop="text">
<p>Say you unzip a file called <code>file123.zip</code> with <code>zipfile.ZipFile</code>, which yields an unzipped file saved to a known path. However, this unzipped file has a completely random name. How do you determine this completely random filename? Or is there some way to control what the name of the unzipped file is?
I am trying to implement this in python.</p>
</div>
<div class="post-text" itemprop="text">
<p>By <em>"random"</em> I assume that you mean that the files are named arbitrarily.</p>
<p>You can use <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.read" rel="nofollow noreferrer"><code>ZipFile.read()</code></a> which unzips the file and returns its contents as a string of bytes. You can then write that string to a named file of your choice.</p>
<pre><code>from zipfile import ZipFile

with ZipFile('file123.zip') as zf:
    for i, name in enumerate(zf.namelist()):
        with open('outfile_{}'.format(i), 'wb') as f:
            f.write(zf.read(name))
</code></pre>
<p>This will write each file from the archive to a file named <code>output_n</code> in the current directory. The names of the files contained in the archive are obtained with <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.namelist" rel="nofollow noreferrer"><code>ZipFile.namelist()</code></a>. I've used <code>enumerate()</code> as a simple method of generating the file names, however, you could substitute that with whatever naming scheme you require.</p>
</div>
<div class="post-text" itemprop="text">
<p>If the filename is completely random you can first check for all filenames in a particular directory using <a href="https://docs.python.org/2/library/os.html#os.listdir" rel="nofollow noreferrer">os.listdir()</a>. Now you know the filename and can do whatever you want with it :)</p>
<p>See <a href="https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory">this</a> topic for more information.</p>
</div>
<span class="comment-copy">Doesn't the unzipped file have the same name as the zipped one?</span>
<span class="comment-copy">No, it does not. And what I meant to say was that the unzipped file name is completely arbitrary and not random, as @mhawke said below</span>
<span class="comment-copy">@iknowfrench: in that case, is there something about my answer that doesn't solve your problem? You can choose your own file name, and the file names are available in <code>namelist()</code>.</span>
<span class="comment-copy">@mhawke absolutely not, your code solved my problem perfectly!</span>
