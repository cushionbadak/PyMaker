<div class="post-text" itemprop="text">
<p>I have python method defined as follows. I try to match dictionary elements which matches to   <strong>clientname</strong> parameter</p>
<pre><code>def loadSites(self, fpath, clientname):

            keylist = [re.findall(clientname,k) for k in self.cacheDictionary.keys()]
            for items in keylist:
                print(items)
</code></pre>
<p>When I print the list I get;</p>
<pre><code>['testClient']
['testClient']
[]
[]
[]
[]
</code></pre>
<p>I expect to get only two elements. What Im doing wrong here?</p>
<p>Also, how Can I delete that item from my dictionary?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/re.html#re.findall" rel="nofollow noreferrer"><code>re.findall</code></a> returns an empty <code>list</code> if the pattern is not found. You can simply <a href="https://docs.python.org/3/library/functions.html#filter" rel="nofollow noreferrer"><code>filter</code></a> these out. Note that when you iterate a <code>dict</code>, you automatically iterate the keys:</p>
<pre><code>keylist = filter(None, (re.findall(clientname,k) for k in self.cacheDictionary))
# Python3: if you want to persist a list
# keylist = list(filter(None, (re.findall(clientname,k) for k in self.cacheDictionary)))

for items in keylist:
    print(items)
</code></pre>
<h3>Update:</h3>
<p>If you want to delete all keys from the dict that match your pattern and in fact contain the string, there are many options tat do not require regular expressions, e.g.:</p>
<pre><code>ks = [k for k in self.cacheDictionary if clientName in k]
for k in ks:
    self.cacheDictionary.pop(k)
    # del self.cacheDictionary[k]
</code></pre>
<p>Or just comprehend a new <code>dict</code> form scratch in one iteration:</p>
<pre><code>self.cd = {k: v for k, v in self.cd.items() if clientName not in  k}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you want only two elements return only when there is a match.</p>
<pre><code>keylist = [re.findall(clientname,k) if(re.findall(clientname,k)) else None for k in self.cacheDictionary.keys()]
        for items in keylist:
            print(items)
</code></pre>
</div>
<span class="comment-copy">And where is the dictionary it's list of list right ?</span>
<span class="comment-copy">@RahulKP Yes..I fill  dictionary like //key = clientname + str(i)                     self.cacheDictionary[key] = {'date_populated': str(datetime.datetime.utcnow().strftime("%Y-%m-%d %H:%M:%S")),'date_updated' :str(datetime.datetime.utcnow().strftime("%Y-%m-%d %H:%M:%S")),'machine':'null'}//</span>
<span class="comment-copy">So It prints now  ['testcleint'] but when I try to delete I get   error//unhashable type: 'list'//     del self.cacheDictionary[items] . What is the right way to delete?</span>
<span class="comment-copy">That's another question and if that's what you are trying to achieve, you shuold collect the keys themselves and not the results of <code>re.findall</code></span>
<span class="comment-copy">So How can I  get keys from this list returned from re.findall ?</span>
<span class="comment-copy">Is <code>clientName</code> a regex pattern or just a simple string?</span>
<span class="comment-copy">It is a string. My keys are populated like                       key = clientname + str(i)</span>
<span class="comment-copy">I think your if condition should come after for loop.</span>
<span class="comment-copy">This code block is not compiling</span>
<span class="comment-copy">@Ratha.you are right. my bad. forgot else part.</span>
<span class="comment-copy">How to delete from the dictionary this key list? del self.cacheDictionary[items] gives //unhashable type: 'list'// error</span>
<span class="comment-copy">try  <code>self.cacheDictionar.pop(items, None)</code></span>
