<div class="post-text" itemprop="text">
<p>I've written some code in python to download files from a webpage. As i do not have any idea how to download files from any site so i could only scrape the file links from that site. If someone could help me achieve that I would be very grateful to him. Thanks a lot in advance.</p>
<p>Link to that site: <a href="http://usda.mannlib.cornell.edu/MannUsda/viewDocumentInfo.do?documentID=1194" rel="nofollow noreferrer">web_link</a></p>
<p>Here is my try:</p>
<pre><code>from bs4 import BeautifulSoup
import requests

response = requests.get("http://usda.mannlib.cornell.edu/MannUsda/viewDocumentInfo.do?documentID=1194")
soup = BeautifulSoup(response.text,"lxml")
for item in soup.select("#latest a"):
    print(item['href'])
</code></pre>
<p>Upon execution, the above script produces four different urls to those files.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can go with a standard library's <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.urlretrieve" rel="nofollow noreferrer"><code>urllib.request.urlretrieve()</code></a>, but, since you are already using <code>requests</code>, you can re-use the session here (<code>download_file</code> was largely taken from <a href="https://stackoverflow.com/a/16696317/771848">this answer</a>):</p>
<pre><code>from bs4 import BeautifulSoup
import requests


def download_file(session, url):
    local_filename = url.split('/')[-1]

    r = session.get(url, stream=True)
    with open(local_filename, 'wb') as f:
        for chunk in r.iter_content(chunk_size=1024):
            if chunk: # filter out keep-alive new chunks
                f.write(chunk)

    return local_filename


with requests.Session() as session:
    response = session.get("http://usda.mannlib.cornell.edu/MannUsda/viewDocumentInfo.do?documentID=1194")
    soup = BeautifulSoup(response.text,"lxml")
    for item in soup.select("#latest a"):
        local_filename = download_file(session, item['href'])
        print(f"Downloaded {local_filename}")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>request.get</code>:</p>
<pre><code>import requests
from bs4 import BeautifulSoup

response = requests.get("http://usda.mannlib.cornell.edu/MannUsda/"
                        "viewDocumentInfo.do?documentID=1194")
soup = BeautifulSoup(response.text, "lxml")
for item in soup.select("#latest a"):
    filename = item['href'].split('/')[-1]
    with open(filename, 'wb') as f:
        f.write(requests.get(item['href']).content)
</code></pre>
</div>
<span class="comment-copy">Lucky to have you sir alecxe. It has been a while.  However, a little issue I'm facing when it hits the <code>print</code> line. It breaks there.</span>
<span class="comment-copy">@Topto you have to use Python 3.6 to use string with prefix <code>f</code> as in example - but you can use old <code>print("Downloaded",  local_filename)</code></span>
