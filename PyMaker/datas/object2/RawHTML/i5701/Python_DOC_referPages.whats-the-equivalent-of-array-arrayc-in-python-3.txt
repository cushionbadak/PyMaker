<div class="post-text" itemprop="text">
<p>My old code with python 2 has</p>
<pre><code>import array

buf = array.array('c')
</code></pre>
<p>In python 3, this chunk of code gives error </p>
<blockquote>
<p>E   ValueError: bad typecode (must be b, B, u, h, H, i, I, l, L, q, Q, f or d)</p>
</blockquote>
<p>What would be the equivalent in python 3? How to make the code work for both python 2 and 3?</p>
</div>
<div class="post-text" itemprop="text">
<p>Just check the manual: <a href="https://docs.python.org/3/library/array.html" rel="nofollow noreferrer">https://docs.python.org/3/library/array.html</a></p>
<pre><code>'b' signed char
'B' unsigned char
</code></pre>
<p>So you'll probably need <code>B</code> (but we can't be sure - it depends on the rest of your code, I guess). This is also compatible with Python 2.x.</p>
</div>
<span class="comment-copy">Are you looking for this: <a href="https://stackoverflow.com/questions/37142319/array-of-characters-in-python-3" title="array of characters in python 3">stackoverflow.com/questions/37142319/â€¦</a> ? Also, have you tried <a href="https://docs.python.org/3/library/2to3.html" rel="nofollow noreferrer">2to3</a>?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/37142319/array-of-characters-in-python-3">Array of characters in python 3?</a></span>
<span class="comment-copy">Probably worth noting that the C char can be either signed or unsigned (the standard doesn't specify). I imagine <code>c</code> matches whatever the C compiler used to build Python was. Therefore it could match either <code>b</code> or <code>B</code>. It's probably better to specify it anyway.</span>
