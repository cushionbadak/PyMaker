<div class="post-text" itemprop="text">
<p>My app engine app receives emails and adds the sender's email address to my datastore, but it does so in this format:</p>
<p><code>John Smith &lt;jsmith@email.com&gt;</code></p>
<p>Is there anyway to strip the name and brackets from this string so it just reads <code>jsmith@email.com</code>?</p>
<p>This is my incoming mail handler if it helps:</p>
<pre><code>import webapp2
import logging
from google.appengine.ext.webapp import mail_handlers
from google.appengine.api import mail
import os
from main import WorkRequest


class IncomingMailHandler(mail_handlers.InboundMailHandler):
    def receive(self, message):
        (encoding, payload) = list(message.bodies(content_type='text/plain'))[0]
        body_text = payload.decode()
        logging.info('Received email message from %s, subject "%s": %s' %
                     (message.sender, message.subject, body_text))

        logging.info (message.sender)
        logging.info(message.subject)
        logging.info(body_text)

        wr = WorkRequest()

        wr.email = message.sender
        wr.userId = None
        wr.title = message.subject
        wr.content = body_text
        wr.status = "OPEN"
        wr.submission_type = "EMAIL"
        wr.assigned_to = "UNASSIGNED"
        wr.put()

application = webapp2.WSGIApplication([('/_ah/mail/.+', IncomingMailHandler)],debug=True)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Please try to add this code:</p>
<pre><code>email= "John Smith &lt;jsmith@email.com&gt;"
def changeEmail(email):
    """
   A vary simple method to modify a email to the wanted email address.
        input "John Smith &lt;jsmith@email.com&gt;" -&gt; output "jsmith@email.com"
    """

    email=email.split("&lt;")  #email= ['John Smith ', 'jsmith@email.com&gt;'
    email=email[1]          # email=jsmith@email.com&gt; .  need to remove &gt;
    email=email[:-1]        # email= jsmith@email.com
    return  email

email= changeEmail(email) #email= jsmith@email.com
</code></pre>
<p>this method will bring you this result
input:<code>"John Smith &lt;jsmith@email.com&gt;"</code>
output: <code>jsmith@email.com</code></p>
</div>
<span class="comment-copy">Try to check if the incoming string has this format and if it does just extract the part between &lt; and &gt;.  You can use regular expressions for that: <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">docs.python.org/3/library/re.html</a></span>
<span class="comment-copy">Thanks I'll give that a read. Also why was my question downvoted? Why does this website make beginners feel like they have asked a stupid question when I am just trying to learn?</span>
<span class="comment-copy">I did not downvote, but I think whoever did wanted to tell you that A) you have not shown any effort to solving your problem and B) the code you provided has nothing to do with your problem. You are trying to extract a string from another string, how your mail handler works is irrelevant in this context.</span>
