<div class="post-text" itemprop="text">
<p>I've got the following data in a CSV format:</p>
<pre><code>Date    Name    Color
12/11   Thomas  Blue
12/31   Andy    Black
12/21   Luise   Red
12/41   Mark    Blue
12/11   Ronda   Black
12/11   Thomas  Blue
12/21   Mark    Green
12/11   Ronda   Black
12/31   Luise   Red
12/41   Luise   Green
</code></pre>
<p>And I would like to create a count based on pairs, sort of pivot table out of it as below. Ideally as a CSV file as well</p>
<pre><code>        Blue    Black   Red Green
Thomas   2          
Andy             1      
Luise                    2    1
Mark     1                    1
Ronda            1            1
</code></pre>
<p>I'm not entirely sure how to get around the problem. Can't use pandas either. :(</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use a <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer"><code>defaultdict</code></a> of <code>defaultdict</code> of <code>int</code> to store the color counts.</p>
<pre><code>import csv, collections

counts = collections.defaultdict(lambda: collections.defaultdict(int))
colors = set()
with open("data.csv") as f:
    reader = csv.reader(f, delimiter="\t")
    next(reader) # skip first line
    for date, name, color in reader:
        counts[name][color] += 1
        colors.add(color)
</code></pre>
<p>Then, print the counts for the different colors (or write to CSV):</p>
<pre><code>colors = list(colors)
print(colors)
for name in counts:
    print(name + "\t" + "\t".join(str(counts[name][color]) for color in colors))
</code></pre>
<p>Result (I'll leave the fine-tuning to you):</p>
<pre><code>['Red', 'Blue', 'Green', 'Black']
Ronda   0   0   0   2
Thomas  0   2   0   0
Andy    0   0   0   1
Luise   2   0   1   0
Mark    0   1   1   0
</code></pre>
</div>
<span class="comment-copy">Thank you, works just fine! I'll have to study the code to understand it (because I'm a nooblet), but it did it!</span>
