<div class="post-text" itemprop="text">
<p>I recently received a ZODB file (.fs) which contain a <a href="http://www.erp5.org/" rel="nofollow">erp5</a> database. I need to retrieve the data stored but I don't know the database structure. </p>
<p>What I need is some lines of code (if possible) to gather the "tables" and the "records" stored in the DB. </p>
<p>This is how I get connected to the database.</p>
<pre><code>from ZODB import FileStorage, DB

storage = FileStorage.FileStorage('D:\slappart88\srv\zodb\main.fs')

db = DB(storage)
conn = db.open()
root = conn.root()
fsi = storage.iterator()

print db
print conn
print root
print fsi

db.close()
</code></pre>
<p>Getting this output:</p>
<pre><code>&lt;ZODB.DB.DB object at 0x00000000028395C0&gt;
&lt;Connection at 02978128&gt;
{'Application': &lt;persistent broken OFS.Application.Application instance     '\x00\x00\x00\x00\x00\x00\x00\x01'&gt;}
&lt;ZODB.FileStorage.FileStorage.FileIterator object at 0x0000000002978198&gt;
</code></pre>
<p>I'll appreciate any help.</p>
<p>Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>ZODB is an "object" storage file format.  It doesn't really have "records" and "tables"; it <em>does</em> have a collection of <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow">pickled</a> objects, and it's really meant to be used by the particular application that knows about those objects. </p>
<p>If your primary goal is just inspecting the contents of the ZODB, you can try <a href="http://glicksoftware.com/blog/inspect-your-zodb-with-eye" rel="nofollow">eye</a>, which gives you a browser-based interface to the database contents.</p>
<p>Looking at the code for <code>eye</code> may offer some ideas on how to extract information yourself, although there's an excellent chance you won't be able to get anything useful without using the originating application.</p>
<p>There's a longer discussion of this topic <a href="https://bytes.com/topic/python/answers/45764-how-export-data-zodb-text-files" rel="nofollow">here</a>.</p>
</div>
<span class="comment-copy">Thank you @larsks ! I tried <i>eye</i> and it was kinda what I was looking for. But as you said, I've got nothing really useful. I think I need to dive into the ERP5 code. I need to export the data to a readable, human friendly format.</span>
