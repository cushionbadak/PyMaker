<div class="post-text" itemprop="text">
<p>This represents a simple class, that I have made to try and practice OOP.</p>
<pre><code>import csv
import logging


class LoaderCSV:

    def __init__(self, file):
        self.file = file

        if file is None:
            logging.warning('Missing input file.')

    def load(self):
        with open(self.file) as f:
            holder = csv.reader(f)
            file_data = list(holder)

        return file_data
</code></pre>
<p>What happens is when I call this class with:</p>
<pre><code>data = LoaderCSV.load(input_file)
</code></pre>
<p>I get </p>
<pre><code>line 14, in load 
with open(self.file) as f:
AttributeError: 'str' object has no attribute 'file'
</code></pre>
<p>I must be messing something up, but can't understand what. My previous attempt worked just fine this way. I just don't understand why</p>
<pre><code>self.file
</code></pre>
<p>does not pass the value, assigned to the argument, when it is defined under <code>__init__</code></p>
</div>
<div class="post-text" itemprop="text">
<p>The problem is you're calling an instance method as a static method, so your filename is being passed in instead of <code>self</code>. The proper way to do this would be like:</p>
<pre><code>loader = LoaderCSV(input_file)
data = loader.load()
</code></pre>
<p>This will pass in <code>loader</code> as the <code>self</code> parameter, allowing you to access the file name in the object's <code>file</code> field.</p>
<p>Check out the Python documentation on <a href="https://docs.python.org/3/tutorial/classes.html" rel="nofollow">classes</a> for more information.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to create the <code>LoaderCSV</code> object first, then call the <code>load</code> method on that object.</p>
<pre><code>loader = LoaderCSV(input_file)
data = loader.load()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The way to use the instance method <code>load</code> is to make an instance of your class, and then call the method on that class. Like this:</p>
<pre><code>myloader = LoaderCSV(input_file)
data = myloader.load()
</code></pre>
<p>or succinctly:</p>
<pre><code>data = LoaderCSV(input_file).load()
</code></pre>
</div>
<span class="comment-copy">So is that caused by the <b>init</b> function? I mean if there is init I must pass the arguments to the class itself first and then call the method just to fire it up? Can this work without init? Thanks all for answering :)</span>
