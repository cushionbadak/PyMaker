<div class="post-text" itemprop="text">
<p>I am trying to create a program that removes only the "r" and "b" of an image's rgb values, leaving an image of varying shades of green. Here is my code:</p>
<pre><code>import matplotlib.pyplot as plt
from PIL import Image

im = Image.open('Image.jpg')
rgb_im = im.convert('RGB')
width, height = rgb_im.size
for x in range(width):
    for y in range(height):
        r, g, b = rgb_im.getpixel((x, y))
        im[x][y] = [0, g, 0, 255]

fig, ax = plt.subplots(1, 1)
ax.imshow(im, interpolation='none')
fig.show()
</code></pre>
<p>I am very new to programming and don't understand why my code is throwing this error: </p>
<blockquote>
<p>AttributeError: __getitem__</p>
</blockquote>
<p>Could anyone explain how to fix this or recommend a better solution?
<code>AttributeError: __getitem__</code></p>
</div>
<div class="post-text" itemprop="text">
<p>I'm going to guess that the error is on line:</p>
<pre><code>im[x][y] = ...
</code></pre>
<p>which would be a problem if an <code>Image.open()</code> object does not support <code>[]</code> syntax (which is implemented by <code>__getitem__</code>).</p>
<p>If this is true, then the fix is probably:</p>
<pre><code>rgb_im.setpixel(...)
</code></pre>
</div>
<span class="comment-copy">Can you give some more info? What is the full error? What line does it show on?</span>
<span class="comment-copy">Have you done any research on this? There are no doubt thousands of questions on stackoverflow pertaining to <code>AttributeError: __getitem__</code>.</span>
<span class="comment-copy">Without a line number I'm not sure what in your code is throwing this error, but <code>__getitem__</code> is a builtin function that is called when you use square brackets to get an item (like in a list or dict). <a href="https://docs.python.org/2/reference/datamodel.html#object.__getitem__" rel="nofollow noreferrer">Python 2 Reference</a>, <a href="https://docs.python.org/3/reference/datamodel.html#object.__getitem__" rel="nofollow noreferrer">Python 3 Reference</a></span>
<span class="comment-copy">You need to create an array, im is a <code>PIL.JpegImagePlugin.JpegImageFile</code> object, what are you trying to do?</span>
