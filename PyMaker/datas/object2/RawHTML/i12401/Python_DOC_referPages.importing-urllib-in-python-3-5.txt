<div class="post-text" itemprop="text">
<p>I have the following code: </p>
<pre><code>import urllib
import wget as wget
request = urllib.request.Request(url)
</code></pre>
<p>For the last line PyCharm shows a warning: </p>
<blockquote>
<p>Cannot find reference 'request' in '__init__.py'</p>
</blockquote>
<p>The code works finde though, I receive a reply from the server I query. </p>
<p>The import <code>import wget as wget</code> is being shown as unused. When I remove that import, I get the following exception at runtime: </p>
<blockquote>
<p>AttributeError: module 'urllib' has no attribute 'request'</p>
</blockquote>
<p>Can somebody explain to me </p>
<ol>
<li>How these two things are connected</li>
<li>Why <code>urllib.request.Request</code> is obviously wrong(?) despite being <a href="https://docs.python.org/3/library/urllib.request.html" rel="nofollow">documented here</a>?</li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p><code>urllib</code> itself does not import <code>urllib.request</code>. Module <code>wget</code> probably does an <code>import urllib.request</code>. From there on, <code>urllib.request</code> actually is referenceable.</p>
<p>Suggested solution: write <code>import urllib.request</code>, and then it should work without the <code>import wget</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Because request is a submodule, you have to write its name so Python will also import it</p>
<p><code>import urllib.request</code></p>
<hr/>
<p>Reasoning:</p>
<p>If you have a module with many submodules, loading all of them might be an expensive thing to do and might create problems with things that are unrelated to your program.</p>
<p>Imagine there's a module called <code>urllib.foo</code> that only works on Windows and you are working on Linux. If the import system were to import all submodules, it could crash on your system even if you don't want to use it.</p>
<p>The <code>wget</code> module you are using imports the <code>urllib.request</code> to use for itself, so python will cache its import and it will be part of the <code>urllib</code> object.</p>
</div>
