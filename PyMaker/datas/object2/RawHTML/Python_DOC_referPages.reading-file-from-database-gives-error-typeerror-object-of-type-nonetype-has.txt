<div class="post-text" itemprop="text">
<p>I am trying to read data from a table(which I have stored in a database). When I am trying to run the module its giving me the error "TypeError: object of type 'NoneType' has no len()". Can anyone please help me ?</p>
<p>The code is as below :</p>
<pre><code>import sqlite3
conn = sqlite3.connect('data.db')
c = conn.cursor()    
import pika
connection = pika.BlockingConnection(pika.ConnectionParameters('localhost'))
channel = connection.channel()

def read_from_db():
    c.execute('SELECT * FROM DATA1')
    data = c.fetchall()
channel.queue_declare(queue = 'hello')
channel.basic_publish(exchange='',
                      routing_key ='hello',
                      body = read_from_db())

print("[x] Sent 'Data'")
connection.close()
c.close()
conn.close()
</code></pre>
<p>Also I have attached the image of table which I am trying to read.<a href="https://i.stack.imgur.com/0AK4Z.png" rel="nofollow noreferrer">enter image description here</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Your <code>read_from_db</code> function doesn't explicitly return anything, so when you call it, the caller gets <code>None</code> as the result. You're passing that <code>None</code> value to some other library code where the exception presumably happens (it would be easier to be sure if you included the full traceback in the question).</p>
<p>Try adding <code>return data</code> to the end of your function. That way you won't be passing <code>None</code> around where you expect something else.</p>
</div>
