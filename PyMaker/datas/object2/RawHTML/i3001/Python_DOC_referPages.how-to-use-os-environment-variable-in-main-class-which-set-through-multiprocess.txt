<div class="post-text" itemprop="text">
<p>I am working on application where multiprocessing is used.</p>
<pre><code># Main class
# some code...

def executor():
  os.environ['test_count'] = "setting this os. I want to use this os variable in main class"

def run():
  # Some code ..........
  process = Process(target=executor, args=(...))  # executer method gets call from here


  # Some code ..........
  # want to use 'test_count' here somewhere
</code></pre>
<p>in executor method I am setting one os variable. I want to use that variable in main class.</p>
<p>Any help is appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use process shared <a href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue" rel="nofollow noreferrer">queue</a> from <em>multiprocessing</em> module. The code may look something like this:</p>
<pre><code>from multiprocessing import Process, Queue

def executor(queue):
    queue.put({"key": "value"})

def run(queue):
    process = Process(target=executor, args=(queue,))
    process.start()
    process.join()
    print(queue.get())

if __name__ == '__main__':
    run(Queue())
</code></pre>
<p>Output:</p>
<pre><code>&gt;&gt;&gt; {'key': 'value'}
</code></pre>
<p>There are also <a href="https://docs.python.org/3/library/multiprocessing.html#proxy-objects" rel="nofollow noreferrer">proxy objects</a> for sharing data between multiple processes.</p>
</div>
<span class="comment-copy">You cannot change the environment of a parent process. Either return the value and deal with it in the main process or use some of the <a href="https://docs.python.org/3/library/multiprocessing.html#sharing-state-between-processes" rel="nofollow noreferrer">shareable structures</a> to exchange values between your processes.</span>
<span class="comment-copy">I am not changing the environment of parent process. I am setting os variable for the first time in child process. and I want to use that variable in parent process.</span>
<span class="comment-copy">Is it possible to set some global variable??</span>
<span class="comment-copy">Implemented with shareable structure</span>
