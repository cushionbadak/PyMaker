<div class="post-text" itemprop="text">
<p>I am now 3 days old with Python so excuse the noob.</p>
<p>I am writing a program that will take variables within a template for configurations and effectively do Find and Replace. Only difference being I want it to be graphical for users (which will come later) and I want it to be dynamic so variables can change between templates, ie a template will start with:</p>
<pre><code>@hostname
@username
@password
</code></pre>
<p>The configuration below will contain @hostname etc where needed.</p>
<pre><code>hostname @hostname
login @username privilege 15 @password enc sha256
</code></pre>
<p>I have the find and replace working well - however as the program loops between each @variable it will copy my template each time it does it. So in this case I would end up with 3 templates stacked in a txt file.</p>
<pre><code>## OPEN TEMPLATE
with open("TestTemplate.txt", "rt") as fin:
    with open("out.txt", "w") as fout:
    ## PULLING VARIABLE NAMES
        for line in fin:
            if line.startswith("@"):
                trimmedLine = line.rstrip()
            ## USER ENTRY ie Please Enter @username: 
                entry = input("Please Enter " + trimmedLine + ": ")
                ## Open file again to start line loop from the top without affecting the above loop
                with open("TestTemplate.txt", "r+") as checkfin:
                    for line in checkfin:
                        if trimmedLine in line:
                            fout.write(line.replace(trimmedLine, entry))
                        else:
                        ## ENSURE ALL LINES UNAFFECTED ARE WRITTEN
                            fout.write(line)
</code></pre>
<p>As you can see when it writes all lines, whether unaffected or not, it will do this for each iteration in the loop. I need it to only overwrite affected lines whilst preserving all other unaffected lines. The only way I can get them to output is to output each line with <code>fout.write(line)</code> but this is meaning I am getting 3x the output.</p>
<p>I hope that is clear.</p>
<p>Thank You</p>
</div>
<div class="post-text" itemprop="text">
<p>An example from IDLE:</p>
<pre><code>&gt;&gt;&gt; fmtstr = "hostname {} login {} privilege 15 {} enc sha256"
&gt;&gt;&gt; print (fmtstr.format("legitHost", "notahacker", "hunter2"))
hostname legitHost login notahacker privilege 15 hunter2 enc sha256
</code></pre>
<p>Once you have all the data you need (host, user, password) you can use the <code>.format( )</code> operation on a string to replace the <code>{}</code>s inside said string. If there are multiple curly-brace pairs in the string, you use multiple comma-separated arguments in the method as shown above, in the order they should appear.</p>
</div>
<div class="post-text" itemprop="text">
<p>I'm not quite clear on what you're trying to do, so this perhaps is more appropriate for a comment, but if you can explain why you're not doing the following, that will help give you advice on how to do what you're trying to do.</p>
<pre><code>variable_names = #list variables here

variable_values={}
for variable_name in variable_names:
    variable_values[variable_name] = input("Please Enter " + variable_name + ": ")
with open("out.txt", "w") as fout:
    with open("TestTemplate.txt", "r+") as checkfin:
        for line in checkfin:
            for variable_name in variable_names:
                if variable_name in line:
                    line = line.replace(variable_name,variable_values[variable_name])
            fout.write(line)
</code></pre>
</div>
<span class="comment-copy">Can you use python 3.6 or newer?  If so, <a href="https://docs.python.org/3/whatsnew/3.6.html#whatsnew36-pep498" rel="nofollow noreferrer">f-strings</a> might do what you're looking for.  Otherwise, <a href="https://docs.python.org/3/library/stdtypes.html#str.format" rel="nofollow noreferrer">str.format()</a> does pretty similar stuff.</span>
