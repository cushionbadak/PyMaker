<div class="post-text" itemprop="text">
<p>Exercise 2: Write a program to look for lines of the form:</p>
<pre><code>New Revision: 39772
</code></pre>
<p>Extract the number from each of the lines using a regular expression and the <code>findall()</code> method.</p>
<p>Compute the average of the numbers and print out the average.</p>
<p>The input file is "mbox-short.txt".</p>
<pre><code>import re
fname=input("enter the file name:")
fhandle=open(fname)
total=0
count=0
for x in fhandle:
    y=re.findall("^New Revision:(\s [0-9]*) ",x)         
    total=total+y
    count=count+1
print(y)
print("total and average is:",total,total/count)
</code></pre>
<p>Also can anyone suggest that how to convert all the elements in the list to float</p>
</div>
<div class="post-text" itemprop="text">
<p>Your regex had a <code>' '</code> too much at its end, thats why it did never find something.</p>
<p><code>findall()</code> with the pattern you startet will ever only return 1 hit (or 0 hits) - due to starting with <code>^</code>.  </p>
<pre><code>import re

fname=input("enter the file name:")
fhandle=open(fname)
total=0.0
count=0
for x in fhandle:
    y=re.findall(r"^New Revision:(\s*[0-9]*)",x)    # 0 or 1 hit  
    if y:  
        total += float(y [0] )               # to float if found 
        count += 1                           
print("total and average is:",total,total/count)
</code></pre>
<p>Example using a text:</p>
<pre><code>t = """New Revision: 129
New Revision: 129
New Revision: 129
New Revision: 129
New Revision: 129
"""

import re 
total=0.0
count=0
for x in t.splitlines():
    y=re.findall("^New Revision:(\s*[0-9]*)",x)
    if y:
        total += float(y [0] )
        count += 1
print(y)
print("total and average is:",total,total/count)
</code></pre>
<p>Output:</p>
<pre><code>total and average is: 645.0 129.0
</code></pre>
</div>
<span class="comment-copy">fyi there is a special character <code>\d</code> for <code>[0-9]</code>, more info at <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">the docs</a></span>
<span class="comment-copy">BTW, you should add the generic <code>python</code> tag to Python questions that don't have it. It makes the question more visible, so the question &amp; answer are more likely to get voted on. And you'll get your gold Python badge faster that way. ;)</span>
<span class="comment-copy">@PM lol - forgot it, he unedited my first edit.Thanks for the pointer.</span>
<span class="comment-copy">why if y: is used like I am confused about the role its playing in the script @PatrickArtner</span>
<span class="comment-copy"><code>if y:</code> see <a href="https://docs.python.org/3/library/stdtypes.html#truth-value-testing" rel="nofollow noreferrer">docs.python.org/3/library/stdtypes.html#truth-value-testing</a>       -  empty lists, strings, tuples etc evaluate to <code>False</code> - if nomatch <code>findall()</code> returns empy list</span>
<span class="comment-copy">thank you @PatrickArtner</span>
