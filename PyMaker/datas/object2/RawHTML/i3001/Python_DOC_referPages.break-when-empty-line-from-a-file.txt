<div class="post-text" itemprop="text">
<p>I have file contains text like <code>Hello:World</code></p>
<pre><code>#!/usr/bin/python
f = open('m.txt')
while True:
    line = f.readline()
    if not line :
          break
    first  = line.split(':')[0]
    second = line.split(':')[1] 
f.close()
</code></pre>
<p>I want to put the string after splitting it into 2 variables</p>
<p>On the second iteration i get error</p>
<blockquote>
<p>List index out of range</p>
</blockquote>
<p>it doesn't break when the line is empty , i searched the answer on related topics and the solution was </p>
<pre><code>if not line:
           print break
</code></pre>
<p>But it does not work </p>
</div>
<div class="post-text" itemprop="text">
<p>If there's lines after an empty line (or your text editor inserted an empty line at the end of the file), it's not actually empty. It has a new line character and/or carriage return </p>
<p>You need to strip it off </p>
<pre><code>with open('m.txt') as f:
    for line in f:
        if not line.strip(): 
            break

        first, second = line.split(':')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can do this relatively easily by utilizing an optional feature of the built-in <a href="https://docs.python.org/3/library/functions.html#iter" rel="nofollow noreferrer"><code>iter()</code></a> function by passing it a second argument (called <em><code>sentinel</code></em> in the docs) that will cause it to stop if the value is encountered while iterating.</p>
<p>Here's what how use it to make the line processing loop terminate if  an empty line is encountered:</p>
<pre><code>with open('m.txt') as fp:
    for line in iter(fp.readline, ''):
        first, second  = line.rstrip().split(':')
        print(first, second)
</code></pre>
<p>Note the <code>rstrip()</code> which removes the newline at the end of each line read.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your code is fine, I can't put a picture in a comment.  It all works, here:</p>
<p><a href="https://i.stack.imgur.com/nIm5C.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/nIm5C.png"/></a></p>
</div>
<span class="comment-copy">I ran your code, no errors for me :/  Are you sure you have <code>m.txt</code> in the same folder?</span>
<span class="comment-copy">there is no line after the empty line</span>
<span class="comment-copy">Well, still, <code>if not line</code> isn't checking what you think is. Plus, make sure you've saved your file before running that code</span>
<span class="comment-copy">Ohhh i cannot understand how !</span>
<span class="comment-copy">I wonder why this got voted down, pretty sure this will help the OP</span>
<span class="comment-copy">Please don't upload images. And answers with "that works" aren't very useful because then the question doesn't make sense</span>
<span class="comment-copy">I can put it in as text however I'm simply illustrating his exact code works, perhaps it will point him in the right direction?</span>
