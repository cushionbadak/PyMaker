<div class="post-text" itemprop="text">
<p>Is there any other code form, that one can both use a function in if statement and get the value of function without executing the function twice?</p>
<p>For example, </p>
<p>There exists a function, <code>fun1(arg)</code>, which takes an hour to return its result (The result value can be either <code>None</code> or some int)</p>
<p>and I want to do some further calculation(for example get its squared value) only if the result from <code>fun1 is not None</code>.</p>
<p>This will be done by:</p>
<pre><code>result = fun1(arg) 
if result: 
    result = result * result
</code></pre>
<p>Is there any shorter form such as</p>
<pre><code>if (result = fun1(arg)):
    result = result * result
</code></pre>
<p>in python?</p>
</div>
<div class="post-text" itemprop="text">
<p>It may be more "clean" in a code manner, it is possible in C/C++ to do the 2nd one. Not in Python to the best of my knowledge. Moreover, the two examples you gave have the <strong>exact</strong> same needs in term of memory and computation. So it would be totally equivalent to use any of these two.</p>
<p>The two are absolutely identical. So my answer would be, go with your first method that you already know how to code üëç. </p>
<p>Do not over complicate when it is not necessary, it is a good piece of advice in general. </p>
</div>
<div class="post-text" itemprop="text">
<p>This is coming in a future version of python. See the following PEP</p>
<p><a href="https://www.python.org/dev/peps/pep-0572/" rel="nofollow noreferrer">https://www.python.org/dev/peps/pep-0572/</a></p>
<p>It'll be known as an assignment expression. The proposed syntax is like;</p>
<pre><code># Handle a matched regex
if (match := pattern.search(data)) is not None:
    # Do something with match
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>No you can't do this. Statements in Python not work as expressions in C with <code>;</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Well the second <em>possible</em> solution you wrote is incorrect since the 'result' variable in the if statement has no preassigned value. I would simply go with the first one...</p>
</div>
<div class="post-text" itemprop="text">
<p>What you are trying to do in your 2nd code is <code>assignment inside expressions</code>, which can't be done in Python.</p>
<p>From the official <a href="https://docs.python.org/3/tutorial/datastructures.html#more-on-conditions" rel="nofollow noreferrer">docs</a></p>
<blockquote>
<p>Note that in Python, unlike C, assignment cannot occur inside expressions. C programmers may grumble about this, but it avoids a common class of problems encountered in C programs: typing = in an expression when == was intended.</p>
</blockquote>
<p>also, see:</p>
<p><a href="http://effbot.org/pyfaq/why-can-t-i-use-an-assignment-in-an-expression.htm" rel="nofollow noreferrer">http://effbot.org/pyfaq/why-can-t-i-use-an-assignment-in-an-expression.htm</a></p>
</div>
<span class="comment-copy">The first way is the standard way to do this, and doesn‚Äôt result in any more memory overhead.</span>
