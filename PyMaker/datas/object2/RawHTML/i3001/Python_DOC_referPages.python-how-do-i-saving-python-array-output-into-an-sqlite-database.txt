<div class="post-text" itemprop="text">
<p>Hi i am doing a rasbery project. I am new to this and new with python. I have a python code taking  luminaire lux levels reading from a light sensor. I Want to take these lux levels readings and save them into an Sqlite database table. the code i have for reading the lux is below </p>
<pre><code>import smbus

import time

# Get I2C bus

bus = smbus.SMBus(1)

# BH1715 address, 0x23(35)

# Send power on command

#       0x01(01)    Power On

bus.write_byte(0x23, 0x01)

# BH1715 address, 0x23(35)

# Send continuous measurement command

#       0x10(16)    Set Continuous high resolution mode, 1 lux resolution, Time = 120ms

bus.write_byte(0x23, 0x10)

time.sleep(0.5)

# BH1715 address, 0x23(35)

# Read data back, 2 bytes using General Calling

# luminance MSB, luminance LSB

data = bus.read_i2c_block_data (0x23, 2)

# Convert the data

luminance = (data[0] * 256 + data[1]) / 1.2

# Output data to screen

print "Ambient Light luminance : %.2f lux" %luminance
</code></pre>
<p>i want to save the Luminance values as they come in into an Sqlite database table</p>
</div>
<div class="post-text" itemprop="text">
<p>I recommend following this tutorial on sqllite3 in Python:</p>
<p><a href="https://www.pythoncentral.io/introduction-to-sqlite-in-python/" rel="nofollow noreferrer">https://www.pythoncentral.io/introduction-to-sqlite-in-python/</a></p>
<p>Once you've read through that and tried it, you can start working on your specific problem again:</p>
<p>First you'll want to initialise a database by creating the tables you're going to be filling with data. This can be done by creating a 'schema' and having the code in the schema be executed when you want to initialise the database. An example schema may look like this:</p>
<pre><code>DROP TABLE IF EXISTS user;
DROP TABLE IF EXISTS post;

CREATE TABLE user(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL
);

CREATE TABLE post(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    author_id INTEGER NOT NULL,
    created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    title TEXT NOT NULL,
    body TEXT NOT NULL,
    FOREIGN KEY(author_id) REFERENCES user(id)
);
</code></pre>
<p>(Obviously your tables will not be the same as these as they will be for holding the light sensor data. You may even only need one table, depending on what exactly you want to store)</p>
<p>NOTE: You may  want to look into something like Python's click module (which allows you to create command line commands associated with python code) so that the database can be initialised independantly from the program running. Alternatively, you can just have some code in your program that checks whether it already exists and only initialises it if it doesn't</p>
<p>The final step is then just to use sqllite code to store the data in the tables (See: the previously linked tutorial)</p>
</div>
<span class="comment-copy">What have you tried regarding Sqlite?</span>
<span class="comment-copy">You can find the documentation of the <code>sqlite3</code> module <a href="https://docs.python.org/3/library/sqlite3.html" rel="nofollow noreferrer">here</a>.</span>
<span class="comment-copy">Come up with a database schema - the tables and columns to hold your data - and then insert data into the table(s). Start by making a list of what information you want to record in the database.</span>
