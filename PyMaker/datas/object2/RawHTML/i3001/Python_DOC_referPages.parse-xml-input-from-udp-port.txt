<div class="post-text" itemprop="text">
<p>I'm a newbie in python, just done only a couple of scripts.</p>
<p>Now I need to listen and process a xml text that is being received from a udp socket.</p>
<p>By the moment I have the first part but i don't know how to proceed.</p>
<pre><code>import socket
import lxml.etree


port = 7059
s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
s.bind(("", port))
print "waiting on port:", port
while 1:
    data, addr = s.recvfrom(1024)
    print data
</code></pre>
<p>I'm receiving the data ok, and it's printed on the screen:</p>
<pre><code>&lt;electricity id='4437190066CD'&gt;&lt;timestamp&gt;1532728995&lt;/timestamp&gt;&lt;signal rssi='-78' lqi='94'/&gt;&lt;battery level='10%'/&gt;&lt;chan id='0'&gt;&lt;curr units='w'&gt;609.00&lt;/curr&gt;&lt;day units='wh'&gt;34.64&lt;/day&gt;&lt;/chan&gt;&lt;chan id='1'&gt;&lt;curr units='w'&gt;42.00&lt;/curr&gt;&lt;day units='wh'&gt;2.38&lt;/day&gt;&lt;/chan&gt;&lt;chan id='2'&gt;&lt;curr units='w'&gt;538.00&lt;/curr&gt;&lt;day units='wh'&gt;30.43&lt;/day&gt;&lt;/chan&gt;&lt;/electricity&gt;
</code></pre>
<p>But I need to get or parse de values in bold:</p>
<pre><code>&lt;chan id='0'&gt;&lt;curr units='w'&gt;609.00&lt;/curr&gt;
&lt;chan id='1'&gt;&lt;curr units='w'&gt;42.00&lt;/curr&gt;
&lt;chan id='2'&gt;&lt;curr units='w'&gt;538.00&lt;/curr&gt;
</code></pre>
<p>and asign to something like a var with it's sub objects:</p>
<p>power.ch0 = 609.00</p>
<p>power.ch1 = 42.00</p>
<p>power.ch2 = 538.00</p>
<p>with that variable, then I will do a request to my porwer monitoring system api to send these values.</p>
<p>I usually use bash for scripting, and I'm pretty happy with it, but I think that this time not rich enough and python seems to be my solution</p>
<p>Thanks in advance for your help!!</p>
</div>
<div class="post-text" itemprop="text">
<p>There are several ways to do this.  First, I do not see where you are using the xml.etree module.  Take a look at the docs real fast: <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">https://docs.python.org/3/library/xml.etree.elementtree.html</a> </p>
<p>Also, you can achieve this with BeautifulSoup as well: <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="nofollow noreferrer">https://www.crummy.com/software/BeautifulSoup/bs4/doc/</a></p>
<p>Lastly, you can achieve this with the .replace() and .strip() functions as well</p>
</div>
