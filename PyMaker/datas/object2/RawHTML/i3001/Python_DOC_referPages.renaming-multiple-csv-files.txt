<div class="post-text" itemprop="text">
<p>I have the following problem: in my directories I have numerous folders which all contain csv files with names in the following format:</p>
<pre><code>00000562834-2018-07-27-file-8.csv
</code></pre>
<p>In order to make these files available on scale in python, I have to insert the name in the form of a formula ("xxxxxxxxxxxx-year-month-day-file-hour"). However, the first digits (in this case 00000562834) are random, so I cannot create a code that uses all files automatically. </p>
<p>Hence my question: Does anybody know how I can remove these first 12 digits in all my csv.files? Changing all manually would not scale, unfortunately.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's a solution using pathlib and the <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.rglob" rel="nofollow noreferrer"><code>rglob</code></a> method.</p>
<pre><code>from pathlib import Path
rootfolder = '/home/nicolaso/foo/bar/'  # example

for f in Path(rootfolder).rglob('*-file-*.csv'):
  new_name = f.name.split('-', 1)[1]
  f.rename(f.with_name(new_name))
</code></pre>
<p>If you don't actually want to rename the files, you can just process them in the for loop anyway.</p>
</div>
<div class="post-text" itemprop="text">
<p>Using Regex. <code>re.sub</code></p>
<pre><code>import re
s = "00000562834-2018-07-27-file-8.csv"
print( re.sub(r"\d{11}-", "", s) )
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>2018-07-27-file-8.csv
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import os
import glob
import re

for file in glob.glob("*.csv"):
    os.rename(file, re.sub(r"\d+-", "", file))
</code></pre>
</div>
<span class="comment-copy">Is there just one file per date / hour? If you remove the first part of the file names, wouldn't you get name collisions?</span>
<span class="comment-copy">Thanks a lot! That's exactly what I was looking for.</span>
