<div class="post-text" itemprop="text">
<pre><code>def encryption_process(startpath=None):
    for filename in glob.iglob(os.path.join(startpath, '**'), recursive=True):
        if(os.path.isfile(filename)):
            print('Encrypting&gt; ' + filename)
            encrypt_file(key, filename)
            os.remove(filename)
</code></pre>
<p>Occasionally I'll get a Windows permission error from this, is there a way I can make it continue with the list when an error is raised and just skip the file giving the error?</p>
</div>
<div class="post-text" itemprop="text">
<p>Start by reading the <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">"Handling Exceptions"</a> section in the official docs.</p>
<p>You are looking for a <a href="https://docs.python.org/3/reference/compound_stmts.html#the-try-statement" rel="nofollow noreferrer"><code>try</code></a> block around the offending code:</p>
<pre><code>try:
    print('Encrypting&gt;', filename)
    encrypt_file(key, filename)
except OSError as e:
    print('Failed due to', str(e))
else:
    os.remove(filename)
</code></pre>
<p>If <code>encrypt_file</code> does not allow directories (i.e., raises an error), you can get rid of the enclosing <code>if os.path.isfile(filename):</code>. Instead, just catch that error too, since a <code>try</code> can have as many <code>except</code> blocks as you like:</p>
<pre><code>try:
    print('Encrypting&gt;', filename)
    encrypt_file(key, filename)
except OSError as e:
    print('Failed due to', str(e))
except SomeOtherError:
    print('Failed:', filename, 'is a directory!')
else:
    os.remove(filename)
</code></pre>
</div>
<span class="comment-copy">You mean <code>try...except</code>?</span>
<span class="comment-copy">When I used try and except it just went to the next part of my program, not continue down the glob list. And it isn't failing because it's a directory, it's failing because of a windows permission error that I can't fix, which is why I want it to skip a file it doesn't have permission for and go to the next.</span>
<span class="comment-copy">The code I presented in the first snippet goes in the conditional. The second snippet replaces the conditional under the right circumstances and with the proper modifications. You still have to read carefully and think about it. If something remains unclear, I'd be happy to discuss and fix.</span>
