<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/5218895/python-nested-functions-variable-scoping">Python nested functions variable scoping [duplicate]</a>
<span class="question-originals-answer-count">
                    10 answers
                </span>
</li>
</ul>
</div>
<p>I have a two nested python functions, which look like this:</p>
<pre><code>def outer():
  t = 0
  def inner():
    t += 1
    print(t)
  inner()
</code></pre>
<p>Trying to call <code>outer</code> results in the following error:</p>
<pre><code>&gt;&gt;&gt; outer()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "sally.py", line 6, in outer
    inner()
  File "sally.py", line 4, in inner
    t += 1
UnboundLocalError: local variable 't' referenced before assignment
</code></pre>
<p>I thought adding the line <code>global t</code> before <code>t += 1</code> would help, except it didn't.</p>
<p>Why is this happening? How do I get around this problem, other than passing t to <code>inner</code> everytime I call it?</p>
</div>
<div class="post-text" itemprop="text">
<p>If using python 3, then using the nonlocal keyword would let the interpreter know to use the <code>outer()</code> function's scope for t:</p>
<pre><code>def outer():
  t = 0
  def inner():
    nonlocal t
    t += 1
    print(t)
  inner()
</code></pre>
<p><br/>
If using python 2, then you can't directly assign to the variable, or it will make the interpreter create a new variable t which will hide the outer variable. You could pass in a mutable collection and update the first item:</p>
<pre><code>def outer():
  t = [0]
  def inner():
    t[0] += 1
    print(t[0])
  inner()
</code></pre>
</div>
<span class="comment-copy"><code>t</code> isn't a global variable, you're looking for <a href="https://docs.python.org/3/reference/simple_stmts.html#nonlocal" rel="nofollow noreferrer"><code>nonlocal t</code></a>.</span>
<span class="comment-copy">This question (and the accepted answer) are much more concise and informative than the referenced original question.  Please keep this one.</span>
