<div class="post-text" itemprop="text">
<p>Here is my code and I want to use the number from the .csv file to control how many numbers will be generated.</p>
<pre><code>with open('number.csv','rb') as csvfile:
reader = csv.DictReader(csvfile)
num = [row['123'] for row in reader]
a = [randint(12, 20) for i in range(???)]
</code></pre>
<p>??? is the value in .csv file.so the question is how to write ???.</p>
<p>.csv is like(in my .csv only have one value. ['5']):</p>
<pre><code>123  --row1:name
5    --row2:value
</code></pre>
<p>So there is only 1 value in the CSV file.</p>
</div>
<div class="post-text" itemprop="text">
<p>First, don't use a list comprehension to read just one row. Use the <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next()</code> function</a> to get the only row you need.</p>
<p>Next, you'll have to convert the single value to an integer:</p>
<pre><code>with open('number.csv','rb') as csvfile:
    reader = csv.DictReader(csvfile)
    row = next(reader)
count = int(row['123'])
a = [randint(12, 20) for i in range(count)]
</code></pre>
</div>
<span class="comment-copy">You have a <i>list of strings</i> (<code>num</code> will be <code>['5', '...', '...']</code>). Which one did you want to use to determine the number of times <code>randint()</code> is called for <code>a</code>?</span>
<span class="comment-copy">in my .csv only have one value. ['5']</span>
<span class="comment-copy">Can you <a href="https://stackoverflow.com/posts/43019657/edit">edit</a> your question to add that? There is no need to use a list in that case.</span>
<span class="comment-copy">error happened.self._fieldnames = self.reader.next() ValueError: I/O operation on closed file. would you mind fix it?</span>
<span class="comment-copy">@zhou: your <code>csvfile</code> object is already closed. You need to take care you put the <code>next()</code> call <i>in the <code>with</code> block</i> so the file is not yet closed.</span>
<span class="comment-copy">ok!!Thanks~~it works</span>
