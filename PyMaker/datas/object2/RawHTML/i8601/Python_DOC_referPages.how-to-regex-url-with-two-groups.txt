<div class="post-text" itemprop="text">
<p>I got this url: <code>s3://dev-datalake-cluster-bucket-q37evqefmksl/raw/wfm/users.11315</code></p>
<p>I need to have the following values:</p>
<ol>
<li>dev-datalake-cluster-bucket-q37evqefmksl </li>
<li>/raw/wfm/users.11315</li>
</ol>
<p>I tried so far this code below, but it keeps throwing me errors -  </p>
<pre><code>pattern = re.compile('s3://(?)/(?)', response_content)
print ( re.match(pattern, response_content) )
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use a negated character class to grab this value using:</p>
<pre><code>^s3://([^/]+)/(.*)
</code></pre>
<p>Your value is returned by captured group #1</p>
<p><strong>Code:</strong></p>
<pre><code>&gt;&gt;&gt; s = 's3://dev-datalake-cluster-bucket-q37evqefmksl/raw/wfm/users.11315'

&gt;&gt;&gt; print re.findall(r'^s3://([^/]+)/(.*)', s)
[('dev-datalake-cluster-bucket-q37evqefmksl', 'raw/wfm/users.11315')]
</code></pre>
<p><a href="https://regex101.com/r/SU40ka/3" rel="nofollow noreferrer">RegEx Demo</a></p>
<p><strong>Regex Breakup:</strong></p>
<ul>
<li><code>^</code> - Line start</li>
<li><code>s3://</code> - Match literal <code>s3://</code></li>
<li><code>([^/]+)</code> - Match 1 or more of any character that is not <code>/</code></li>
<li><code>/</code> - Match literal <code>/</code></li>
<li><code>(.*)</code> - Match rest</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/re.html#re.match.groupdict" rel="nofollow noreferrer"><code>re.groupdict</code></a></p>
<pre><code>&gt;&gt;&gt; re_match = re.match(r's3://(?P&lt;bucket&gt;[^/]+)/(?P&lt;item_path&gt;.*)', s)
&gt;&gt;&gt; re_match.groupdict()
{'bucket': 'dev-datalake-cluster-bucket-q37evqefmksl', 'item_path': 'raw/wfm/users.11315'}
</code></pre>
<p><a href="https://pythex.org/" rel="nofollow noreferrer">Pythex</a> is a handy resource for regex.</p>
</div>
<span class="comment-copy">"?" is one character in regexp.</span>
<span class="comment-copy">See <a href="http://stackoverflow.com/a/449811/3832970">How can I split a url string up into separate parts in Python?</a>.</span>
<span class="comment-copy"><code>(?)</code> looks like you have vaguely guessed how regexes might work and now that your guess has failed you've given up and are asking for help. Read a tutorial or some documentation on regex.</span>
<span class="comment-copy">What about the second part?</span>
<span class="comment-copy">Sorry, I overlooked that part. It is updated now.</span>
