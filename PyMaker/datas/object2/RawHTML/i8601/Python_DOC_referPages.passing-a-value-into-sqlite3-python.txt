<div class="post-text" itemprop="text">
<p>I am trying to pass a method parameter into an sqlite command and I am having problems.</p>
<p>I have tried several different methods including:</p>
<pre><code>c.execute('''SELECT ?, count(*)
             FROM posts
             GROUP BY 1''', (var,))

c.execute('''SELECT :variable, count(*)
             FROM posts
             GROUP BY 1''', {"variable" : var})
</code></pre>
<p>I have looked at the <a href="https://docs.python.org/3/library/sqlite3.html#cursor-objects" rel="nofollow noreferrer">python docs</a> on this and believe I am following them.</p>
<p>Both these methods don't select the columns, but return </p>
<pre><code>[('lang', 3284469)]
</code></pre>
<p>Where lang is the name of the column and the value of the variable being passed. It should look more like</p>
<pre><code>[('en', 3289)]
[('es', 845)]
....
[('ze', 39)]
</code></pre>
<p>The only method I have been able to get working is:</p>
<pre><code>c.execute('''SELECT '''+var+''', count(*)
             FROM posts
             GROUP BY 1''')
</code></pre>
<p>I am not particularly happy with this, is there a better way to do this? What am I doing wrong? Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>That is not the way parameterized requests work. You should only use parameters for <em>values</em>, not for identifiers. That means that request parameters should not be column names, nor table names, and occur only in the where or having clause.</p>
<p>So if you want the column name or the table name to be variable, you must dynamically build the request string, and when you want values in the where clause to be dynamic, you use parameters:</p>
<pre><code>c.execute('''SELECT '''+var+''', count(*) as total
             FROM posts
             GROUP BY 1
             HAVING total &gt; ?''', (minval,))
</code></pre>
</div>
<span class="comment-copy">You can't use parameter substitution for column or table names. Concatenation or interpolation would be the only way of doing it.</span>
<span class="comment-copy">What do you mean by interpolation? Thanks</span>
<span class="comment-copy">Normal Python string methods, like <code>"SELECT {} FROM posts".format(var)</code>.</span>
<span class="comment-copy">Ah yes, thank you</span>
