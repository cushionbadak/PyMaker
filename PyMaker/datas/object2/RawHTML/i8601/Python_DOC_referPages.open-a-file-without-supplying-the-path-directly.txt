<div class="post-text" itemprop="text">
<p>let's say that I have the following class:</p>
<pre><code>class FileName(object):
 def __init__(self,pathName):
   self.pathName = pathName

 def __repr__(self):
   return self.pathName

someFile = FileName(r'c:\users\sarith\a.txt')
</code></pre>
<p>Now I am aware that I can get the details of this file using <code>os.stat(someFile.pathName)</code> or using <code>os.stat(str(someFile))</code>. Is there a way  through which I can get the details by just doing <code>os.stat(someFile)</code>. More specifically, I mean is there a function that I could override such that when the instance of <code>FileName</code> is called by functions such as <code>open</code>, it returns the <code>pathName</code> attribute?</p>
</div>
<div class="post-text" itemprop="text">
<p>This isn't the kind of thing you'd expect to exist, but many such functions actually do recognize an <a href="https://docs.python.org/3/library/os.html#os.PathLike" rel="nofollow noreferrer"><code>__fspath__</code> method</a>, at least on Python 3.6:</p>
<pre><code>class FileName(object):
    def __init__(self, path):
        self.path = path
    def __fspath__(self):
        return self.path

# Actually works!
os.stat(FileName('/whatever'))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>One option that may work is to just inherit from <code>str</code>:</p>
<pre><code>In [5]: class FileName(str):
   ...:  def __init__(self,pathName):
   ...:    self.pathName = pathName
   ...:
   ...:  def __repr__(self):
   ...:    return self.pathName
   ...:

In [6]: os.stat(FileName("./__init__.py"))
Out[6]: posix.stat_result(st_mode=33188, st_ino=26082240, st_dev=16777220, st_nlink=1, st_uid=501, st_gid=20, st_size=203, st_atime=1489773922, st_mtime=1487777486, st_ctime=1487777486)

In [7]: os.stat("./__init__.py")
Out[7]: posix.stat_result(st_mode=33188, st_ino=26082240, st_dev=16777220, st_nlink=1, st_uid=501, st_gid=20, st_size=203, st_atime=1489773922, st_mtime=1487777486, st_ctime=1487777486)
</code></pre>
</div>
<span class="comment-copy">.... Why is such functionality not already part of the class?</span>
<span class="comment-copy">Yes, add like a <code>getStat</code> method or something</span>
<span class="comment-copy">@IgnacioVazquez-Abrams I think my example overshadowed what I was trying to ask. I want to supply the instance as a parameter directly for any operation that might require access to the filepath. Right now, I get a "TypeError: coercing to Unicode: need string or buffer" error when I do that.</span>
<span class="comment-copy">This gets really confusing really fast when some things are using the inherited <code>str</code> structure and some things are using the <code>pathName</code> attribute you defined. For example, if you make <code>__init__</code> set <code>self.pathName = pathName + '.txt'</code>, things like <code>open</code> or <code>os.stat</code> won't see the <code>.txt</code>.</span>
