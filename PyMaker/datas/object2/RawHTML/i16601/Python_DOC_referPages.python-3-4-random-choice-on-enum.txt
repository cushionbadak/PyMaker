<div class="post-text" itemprop="text">
<p>I would like to use random.choice on an Enum.</p>
<p>I tried :</p>
<pre><code>class Foo(Enum):
    a = 0
    b = 1
    c = 2
bar = random.choice(Foo)
</code></pre>
<p>But this code is not working, how can I do that ?</p>
</div>
<div class="post-text" itemprop="text">
<p>An <code>Enum</code> is not a <em>sequence</em>, so you cannot pass it to <code>random.choice()</code>, which tries to pick an index between 0 and <code>len(Foo)</code>. Like a dictionary, index access to an <code>Enum</code> instead expects enumeration <em>names</em> to be passed in, so <code>Foo[&lt;integer&gt;]</code> fails here with a <code>KeyError</code>.</p>
<p>You can cast it to a list first:</p>
<pre><code>bar = random.choice(list(Foo))
</code></pre>
<p>This works because <code>Enum</code> <a href="https://docs.python.org/3/library/enum.html#iteration"><em>does</em> support iteration</a>.</p>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; from enum import Enum
&gt;&gt;&gt; import random
&gt;&gt;&gt; class Foo(Enum):
...     a = 0
...     b = 1
...     c = 2
... 
&gt;&gt;&gt; random.choice(list(Foo))
&lt;Foo.a: 0&gt;
</code></pre>
</div>
<span class="comment-copy">What do you expect this code to do?</span>
<span class="comment-copy">Have you read this: <a href="https://mail.python.org/pipermail/python-ideas/2013-October/023673.html" rel="nofollow noreferrer">mail.python.org/pipermail/python-ideas/2013-October/023673.html</a></span>
<span class="comment-copy">@jonrsharpe: that post misses that <code>random.choice()</code> is documented to take a <i>sequence</i>, not an iterable. <code>Enum</code> is iterable, but not a sequence. It doesn't support <i>indexing by integers</i>. Also see the <a href="https://mail.python.org/pipermail/python-ideas/2013-October/023675.html" rel="nofollow noreferrer">response by Nick</a>.</span>
<span class="comment-copy">Came here looking for a solution to the same error. Wanted to upvote. Realized I had already upvoted. Then realized I had applied the same cast elsewhere in the same Python file for the same need... Can only upvote once.</span>
