<div class="post-text" itemprop="text">
<p>I need to create a script to accept/reject some text based on whether a list of strings is present in it.</p>
<p>I have a list of keywords that should be used as a rejection mechanism:</p>
<pre><code>k_out = ['word1', 'word2', 'some larger text']
</code></pre>
<p>If any of those string elements is found in the list I present below, the list should be marked as <em>rejected</em>. This is the list that should be checked:</p>
<pre><code>c_lst = ['This is some text that contains no rejected word', 'This is some larger text which means this list should be rejected']
</code></pre>
<p>This is what I've got:</p>
<pre><code>flag_r = False
for text in k_out:
    for lst in c_lst:
        if text in lst:
            flag_r = True
</code></pre>
<p>is there a more <em>pythonic</em> way of going about this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/functions.html#any"><code>any</code></a> and a <a href="https://docs.python.org/3/reference/expressions.html#grammar-token-generator_expression">generator expression</a>:</p>
<pre><code>&gt;&gt;&gt; k_out = ['word1', 'word2', 'some larger text']
&gt;&gt;&gt; c_lst = ['This is some text that contains no rejected word', 'This is some larger text which means this list should be rejected']
&gt;&gt;&gt; any(keyword in string for string in c_lst for keyword in k_out)
True
&gt;&gt;&gt;
</code></pre>
</div>
<span class="comment-copy">This question appears to be off-topic because it belongs on <a href="http://codereview.stackexchange.com">codereview.stackexchange.com</a></span>
<span class="comment-copy">possible duplicate of <a href="http://stackoverflow.com/questions/21720199/python-remove-any-element-from-a-list-of-strings-that-is-a-substring-of-anothe">Python - Remove any element from a list of strings that is a substring of another element</a></span>
<span class="comment-copy">It may be a duplicate, but it got a better answer than the other question.</span>
<span class="comment-copy">When thinking about string containment, don't forget to ask yourself if you really want <i>string</i> containment or <i>word</i> containment: ask yourself whether <code>"name"</code> should reject <code>"enamel"</code>, etc.</span>
<span class="comment-copy">@DSM that's a very good point because in fact <i>it shouldn't</i>. Would you expand a bit on the difference please?</span>
<span class="comment-copy">Does this really answer the question? The OP wants the list to be rejected if any of the words in the <code>k_out</code> list is found in the <code>c_lst</code>. The above code should have returned false if designed correctly</span>
<span class="comment-copy">@Smac89 - It depends on how you interpret the question.  The OP said "If any of those <b>string elements</b> is found...the list should be marked as rejected".  I understood "string elements" to mean the substrings in <code>k_out</code>.   You'll notice too that my solution produces the same output as the OP's.  It is just a more compact way of doing it.</span>
<span class="comment-copy">whoops I didn't see the full list because I was viewing this on my phone. Ok I see why this works now</span>
