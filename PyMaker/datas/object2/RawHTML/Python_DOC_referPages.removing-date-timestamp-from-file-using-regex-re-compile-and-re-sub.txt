<div class="post-text" itemprop="text">
<p>first off, I'm new and just learning Python so thanks for entertaining my question. I'm attempting to compare a file with another file that should have the same content, other than the time stamp. I'm attempting to remove the time stamp from each line with regex and re.sub, but I'm obviously missing something. I've also researched and I havent been able to get anything to work quite how I want it. Ultimately I'd like to remove the date and timestamp but I wanted to try and get the date portion to work first. Here's how the log file looks:</p>
<pre><code>15/03/2019  18:25:35 0446: Successful Compile (Script file: C:\PodTools\Automation\TL000635 - Serial Interface Tool Gen2_Automation Script\Script_Pair.txt)
15/03/2019  18:25:35 0448: Pairing with the Pod
15/03/2019  18:25:35 0448: V 82 2952790016 10051
15/03/2019  18:25:35 0550: I  52 B0 00 00 00 00 00 27 43
15/03/2019  18:25:40 0974: O  3D 02
15/03/2019  18:25:40 0976: SCRIPT COMPLETE
</code></pre>
<p>Code in question:</p>
<pre><code>import re
import datetime

today = datetime.date.today()

with open('C:\\PodTools\\Automation\\TL000635 - Serial Interface Tool Gen2_Automation Script\\OutputFolder\\'+str(today)+'\\Output_'+str(today)+'.txt') as f:
    outputFile_contents = f.readlines()

newOutputFileContents = []

pat = re.compile(r'\d{2}[-/]\d{2}[-/]\d{4}')

for line in outputFile_contents:
    [re.sub(pat, '', line)]
    newOutputFileContents.append(line)
    print(newOutputFileContents)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For your purpose it's much easier to split each line into 3 columns and write only the third column to the new file:</p>
<pre><code>with open('file.txt') as f:
    for line in f:
        print(line.split(maxsplit=2)[2], end='')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To answer your specific question about what is the problem in the code you included in your question, let’s look at the line</p>
<pre><code>[re.sub(pat, '', line)]
</code></pre>
<p>I suspect this is the problem because it looks like the following lines assume that the value of <code>line</code> has changed - but the code above doesn’t do that. You should use e.g.:</p>
<pre><code>line = re.sub(pat, '', line)
</code></pre>
<p>However if every single line of your log file has the same format I’d recommend @blhsing’s answer as a simpler solution to the problem of stripping off the timestamp.</p>
</div>
<span class="comment-copy">Welcome to SO, wy_wash. It is certainly good to be able to use regexes. If you just want to cut to the chase, you could write out the <code>line</code> without the timestamp by using a slice like <code>line[28:]</code>.</span>
<span class="comment-copy">What are you trying to get the regex to do?</span>
