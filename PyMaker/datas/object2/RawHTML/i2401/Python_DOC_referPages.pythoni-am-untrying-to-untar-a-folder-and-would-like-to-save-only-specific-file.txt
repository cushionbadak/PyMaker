<div class="post-text" itemprop="text">
<p>Below is the folder structure: </p>
<p><a href="https://i.stack.imgur.com/K7g9A.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/K7g9A.png"/></a></p>
<p>I have tried the below code to just save report<code>.json</code> into output directory and also I would like to rename it as same as <code>untar</code> filename that is <code>3884b56e33d16dd68faa4f1f25c28200.json</code>.</p>
<p>below is the code:</p>
<pre><code>import tarfile
import os

outdir=os.mkdir("C:\\Users\\esrilka\\Documents\\Tar Files\\Untar Files3")
t = tarfile.open("C:\\Users\\esrilka\\Documents\\Tar Files\\3884b56e33d16dd68faa4f1f25c28200.tar.gz", 'r')
for member in t.getmembers():
    print(member)
    if "autodiscovery/report" in member.name:

        print("true")
        t.extract(member='autodiscovery\report.json',path='outdir')

print (os.listdir('outdir'))
</code></pre>
<p>How can I just save report<code>.json</code> into output directory and rename the file.</p>
</div>
<div class="post-text" itemprop="text">
<p>You should escape a backslash literal with a backslash:</p>
<pre><code>t.extract(member='autodiscovery\\report.json',path='outdir')
</code></pre>
<p>or you can use a raw string:</p>
<pre><code>t.extract(member=r'autodiscovery\report.json',path='outdir')
</code></pre>
<p>But then since you have this condition:</p>
<pre><code>if "autodiscovery/report" in member.name:
</code></pre>
<p>you should use a forward slash instead for extraction:</p>
<pre><code>t.extract(member='autodiscovery/report.json',path='outdir')
</code></pre>
<p>Also, <code>os.mkdir</code> does not return the directory name it made, so your <code>outdir</code> variable would be <code>None</code>. You should assign the path name to <code>outdir</code> directly:</p>
<pre><code>outdir="C:\\Users\\esrilka\\Documents\\Tar Files\\Untar Files3"
os.mkdir(outdir)
</code></pre>
<p>and then use it for <code>os.mkdir</code> and for extraction (note the lack of quotes around <code>outdir</code>):</p>
<pre><code>t.extract(member='autodiscovery/report.json',path=outdir)
</code></pre>
<p>EDIT: Now that you mentioned that you want to extract <code>report.json</code> without the <code>autodiscovery</code> directory that is part of its path in the tar file, you would have to use the <a href="https://docs.python.org/3/library/tarfile.html#tarfile.TarFile.extractfile" rel="nofollow noreferrer"><code>extractfile</code></a> method instead and write the content to the desired location yourself:</p>
<pre><code>with open(os.path.join(outdir, 'report.json'), 'w') as f:
    f.write(t.extractfile('autodiscovery/report.json').read())
</code></pre>
<p>If you want to rename <code>report.json</code> to the name of the tar file you can simply open the file different name:</p>
<pre><code>with open(os.path.join(outdir, '3884b56e33d16dd68faa4f1f25c28200.json'), 'w') as f:
</code></pre>
<p>and if you want that name to be the same as the tar file, use <code>os.path.splitext</code> twice to obtain it (since there are two extension names, <code>.tar</code> and <code>.gz</code>, for your tar file), so that in the beginning you should do this:</p>
<pre><code>archive = "C:\\Users\\esrilka\\Documents\\Tar Files\\3884b56e33d16dd68faa4f1f25c28200.tar.gz"
basename = os.path.basename(os.path.splitext(os.path.splitext(archive)[0])[0])
t = tarfile.open(archive, 'r')
</code></pre>
<p>and then when you open the json file for writing:</p>
<pre><code>with open(os.path.join(outdir, basename + '.json'), 'w') as f:
</code></pre>
</div>
<span class="comment-copy">what kind of error are you getting, and in what line?</span>
<span class="comment-copy">You can use a slash (<code>/</code>) instead of the escaped backslash (`\`). Python will understand it. :)</span>
<span class="comment-copy">I tried with forward slash,but nothing is getting saved in outdir.Its empty</span>
<span class="comment-copy">What's the output of your <code>print(member)</code>?</span>
<span class="comment-copy">Just updated my answer to address another issue with your code.</span>
<span class="comment-copy">Thanks now..i got the output in UNtar Files3\autodiscovery\report.json.But what i am trying to do is report.json file directly in untar files3.</span>
<span class="comment-copy">I see. I've updated my answer accordingly then.</span>
