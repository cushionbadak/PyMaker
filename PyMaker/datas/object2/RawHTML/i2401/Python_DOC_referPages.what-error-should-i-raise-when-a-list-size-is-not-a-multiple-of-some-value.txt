<div class="post-text" itemprop="text">
<p>What type of error should i raise if the the size of some list is not a multiple of some value?</p>
<p>Consider the following code snippet:</p>
<pre><code>def func(x: []):
    if ( len(x) % 2) != 0:
        raise WhatError("?")
    # ...
</code></pre>
<p>I have considered <code>TypeError</code>, <code>ValueError</code> and <code>IndexError</code> but I don't think any one of these fit my problem.
Are there an errortype for this type of problem or should I just bite the bullet and use one of these?</p>
</div>
<div class="post-text" itemprop="text">
<p>The number of elements of a list <em>is part of its value</em>, so, among the 3, <code>ValueError</code> is the most appropriate. <code>TypeError</code> would be appropriate if it was not a list/iterable, while <code>IndexError</code> as normally used when trying to access the <code>x[i]</code> element and the list has the wrong size for that. </p>
</div>
<div class="post-text" itemprop="text">
<p>From the <a href="https://docs.python.org/3/library/exceptions.html#ValueError" rel="nofollow noreferrer">documentation</a> of <code>ValueError</code>:</p>
<blockquote>
<p>exception <code>ValueError</code></p>
<p>Raised when an operation or function receives an argument that has the right type but an inappropriate value, and the situation is not described by a more precise exception such as IndexError.</p>
</blockquote>
<p>This seems appropriate in your case. It's also what's commonly used in Python libraries for invalid arguments, e.g. in the <code>math</code> module. Also remember that you can provide a more specific cause within the error, e.g.</p>
<pre><code>raise ValueError("List must have even number of elements")
</code></pre>
<p>About your other alternatives: A <code>TypeError</code> seems inappropriate, as the type is correct. An <code>IndexError</code> might have been raised further down the line if the length is not even, but as you do not pass anything that works as an index to the function itself, I would not use that one either.</p>
</div>
<span class="comment-copy">you could raise a <a href="https://stackoverflow.com/questions/1319615/proper-way-to-declare-custom-exceptions-in-modern-python">custom error</a>, otherwise <code>ValueError</code> would be valid</span>
<span class="comment-copy">If the documentation specifies that explicitly ("if the size is not divisible by 2 then <code>ValueError</code> will be thrown", for example) then it' snot much of a problem.</span>
<span class="comment-copy">By the way <code>len(x)</code> please.</span>
<span class="comment-copy"><code>ValueError</code> is typically used for this kind of thing.</span>
<span class="comment-copy">From <a href="https://docs.python.org/3/library/exceptions.html#ValueError" rel="nofollow noreferrer">the docs</a>: "Raised when an operation or function receives an argument that has the right type but an inappropriate value, and the situation is not described by a more precise exception such as IndexError." Seems appropriate. Also remember that you can specify a more detailled cause within the error, e.g. <code>ValueError("Must be divisible by 2")</code></span>
