<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/5658369/how-to-input-a-regex-in-string-replace">How to input a regex in string.replace?</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I'm using the following function to remove a specific string pattern from files in a directory:</p>
<pre><code>import os
for filename in os.listdir(path):
   os.rename(filename, filename.replace(r'^[A-Z]\d\d\s-\s[A-Z]\d\d\s-\s$', ''))
</code></pre>
<p>The pattern is as follows, where A is any capital letter, and # is any number between 0-9: </p>
<blockquote>
<p>A## - A## - </p>
</blockquote>
<p>My regex matches this format on regex101. When I run the above function, it completes without error, however no directory names change. Where am I going wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>replace</code> string method does not support regular expressions. </p>
<p>You need to import the <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer"><code>re</code> module</a> and use its <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer">sub</a> method.</p>
<p>So your code might look like this:</p>
<pre><code>import os
import re
for filename in os.listdir(path):
   os.rename(filename, re.sub(r'^[A-Z]\d\d\s-\s[A-Z]\d\d\s-\s', '', filename))
</code></pre>
<p>But don't forget about flags and such.</p>
<p>Edit: Removed <code>$</code> from the pattern as the filenames don't end there.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>import re
filename='A11 - A22 - '#A## - A## -
re.sub(filename,r'^[A-Z]\d\d\s-\s[A-Z]\d\d\s-\s', '')
</code></pre>
</div>
<span class="comment-copy">Odd, I've tried this but it's still not working for some reason, it completes without error however nothings changed.</span>
<span class="comment-copy">@LaurieBamber could you give us a couple sample filenames?</span>
<span class="comment-copy">File 1: 'S01 - E01 - Something Here', File 2: 'S01 - E02 - Something Different'.... File k: 'S07 - E06 - Something Different'</span>
<span class="comment-copy">@LaurieBamber You have the string end marker (<code>$</code>) in your pattern, but the file name does not end there, so it doesn't match. Just remove the <code>$</code> from your pattern.</span>
<span class="comment-copy">@LaurieBamber Happy to help. Don't forget to mark the question as solved (answer as accepted). =)</span>
<span class="comment-copy">Thanks, this still isn't working for some reason with my code though.</span>
<span class="comment-copy">can you print the output after executing the above code?</span>
<span class="comment-copy">My mistake, as pointed out by Chillie I was incorrectly using the $ symbol to finish the pattern. Thanks for the help anyway.</span>
