<div class="post-text" itemprop="text">
<p>I'm a python newbie and I need to read and manipulate elements from a json file, but I keep getting errors and I have no idea how to move forward. This is my code: </p>
<pre><code>import json 
with open('file.txt', 'r') as json_data:
    d = json.load(json_data)
</code></pre>
<p>An example of the dataset:</p>
<pre><code>[
    {
        'id': 1,
        'name': 'a',
        'city': 'Paris'
    },
    {
        'id': 2,
        'name': 'b',
        'city': 'Mons'
    },
    {
        'id': 3,
        'name': 'c.',
        'city': 'Leuven'
    }
]
</code></pre>
<p>When I try to get only <code>id</code> or <code>name</code>, I get this error:</p>
<pre><code>city = d['city']
</code></pre>
<blockquote>
<p>TypeError Traceback (most recent call last)</p>
<p> in ()</p>
<p>----&gt; 1 city = d['city']</p>
<p>TypeError: list indices must be integers or slices, not str</p>
</blockquote>
<p>Then I tried this:</p>
<pre><code>city = d[:]['city']
</code></pre>
<blockquote>
<p>TypeError Traceback (most recent call last)</p>
<p> in ()
  ----&gt; 1 city = d[:]['city']</p>
<p>TypeError: list indices must be integers or slices, not str</p>
</blockquote>
<p>Any ideas? Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You more likely don't want to know the array index of the element you are looking for.</p>
<p>With some pythonic flavor, you can create <a href="https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences" rel="nofollow noreferrer">tuples</a> with a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> like this:</p>
<pre><code>arr = [(dict['id'], dict['city']) for dict in d]
</code></pre>
<p>The output would be</p>
<pre><code>[(1, 'Paris'),
(2, 'Mons'),
(3, 'Leuven')]
</code></pre>
<p>Then, you have the possibility to get only specific items in your tuples if needed.</p>
<p>Ex:</p>
<pre><code>arr = [(dict['id'], dict['city']) for dict in d if 's' in dict['city']]
</code></pre>
<p>which would return <code>id</code> and <code>name</code> for every entry that contain 's' in the city property.</p>
</div>
<div class="post-text" itemprop="text">
<p>As this is a dictionary within a list you must provide a list index before calling value by the key. This should work:</p>
<pre><code>dict = d[0]
city = dict['city']
</code></pre>
<p>Or you can simply use:</p>
<pre><code>city = d[0]['city']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can write a loop to go through each object</p>
<pre><code>final=[]
for obj in d:
    final.append(obj['city'])
</code></pre>
<p>Or you can try using this</p>
<pre><code>final = [obj['city'] for obj in d]
</code></pre>
<p>Or if you only need the first value then  </p>
<pre><code>print(d[0]['city'])
</code></pre>
<p>Output</p>
<blockquote>
<p>'Paris'</p>
</blockquote>
<p>Since your data is a list of dictionaries, you'll have to use the index value to get the data in the dictionary</p>
</div>
<span class="comment-copy">How about <code>city = d[0]['city']</code>? Try looping instead</span>
<span class="comment-copy">It is a list so as Arvind pointed out you should try putting the list index before the dictionary key.</span>
<span class="comment-copy">Hari, thank you so much for your answer. One more thing, how can I save this output to another list? Again, thanks for your time and patience :)</span>
<span class="comment-copy">I've added the code for appending the city to a list</span>
<span class="comment-copy">Thanks Hari, I tried that before and I thought I wrote something wrong. I'm still getting the same error. I really don't get it :( <code>TypeError: list indices must be integers or slices, not str</code></span>
<span class="comment-copy">I've added another way to get a list of values. Please try that</span>
<span class="comment-copy">I get an empty list as the output <code>[]</code>. Is there a way to get the list as strings?</span>
