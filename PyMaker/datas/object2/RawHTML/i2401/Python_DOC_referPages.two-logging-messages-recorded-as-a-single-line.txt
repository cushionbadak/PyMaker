<div class="post-text" itemprop="text">
<p>I'm migrating from using <code>print()</code> statements everywhere in my scripts to  a more serious logging system. I'm using the <code>logging</code> module to manage the task. There's one thing I can't seem to achieve with it though:</p>
<p>In some cases, I want to create a log entry in two distinct steps, but recorded on the same line. Something that would classically look like this:</p>
<pre><code>Initiating procedure... OK
</code></pre>
<p>In this case, the <code>OK</code> part would be recorded only if the task is successful.</p>
<p>I used to achieve that with the following print commands:</p>
<pre><code>print('Initiating procedure... ', end="", flush=True)
...
print('OK')
</code></pre>
<p>Is there a way to achieve a similar thing with the <code>logging</code> module? Something like</p>
<pre><code>logging.info("First message", end="", flush=True)
...
logging.info("OK")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could use a <code>BufferingHandler</code> such as a <a href="https://docs.python.org/3/library/logging.handlers.html#memoryhandler" rel="nofollow noreferrer"><code>MemoryHandler</code></a> together with a custom formatter to achieve what you want. This approach buffers records in memory until flushed, and the flushing writes to a target handler and allows you to potentially merge two logging records into a single output event.</p>
</div>
<div class="post-text" itemprop="text">
<p>I am not sure it is a good idea. I don't think that logs are meant to be used this way. You will often see before your log message informations about date, time, nature of the log message.</p>
<p>Do you really want a line like this : </p>
<pre><code>INFO:ROOT 2018-09-01 22:12:13 Initiating procedure... INFO:ROOT 2018-09-01 22:12:17 OK
</code></pre>
<p>on the same line ?</p>
<p>Often you will parse your logs using other technologies (I often parse logs with awk) and I'm sure I would be very disturbed by that kind of logs.</p>
</div>
<span class="comment-copy">This should be a comment, not a suggested answer.</span>
<span class="comment-copy">Perhaps, but @corentin has a good point!</span>
<span class="comment-copy">Many log frameworks offer such functionality, including stdlib - for another example, there is a <a href="https://logbook.readthedocs.io/en/stable/api/handlers.html#logbook.FingersCrossedHandler" rel="nofollow noreferrer"><code>FingersCrossedHandler</code></a> in logbook. This answer makes the assumption that two log events are emitted, but that is not necessarily the case.</span>
