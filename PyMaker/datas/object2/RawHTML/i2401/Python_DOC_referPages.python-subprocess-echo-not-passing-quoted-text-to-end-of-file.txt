<div class="post-text" itemprop="text">
<p>I'm currently trying to append this line to the end of a file </p>
<pre><code>    zone_text = 'zone \"domain.com\" { type master; file \"/etc/bind/zones/domain.com\";};'
    add_zone_file = subprocess.Popen(
        ['ssh', NAMESERVERS[0], '/bin/echo', '"{}"'.format(zone_text), '&gt;&gt;', '/etc/bind/named.conf.local'],
        stdout=subprocess.PIPE
    )
</code></pre>
<p>But when I inspect the file it outputs this into it </p>
<pre><code>zone domain.com { type master; file /etc/bind/zones/domain.com;};
</code></pre>
<p>And I need it to output this</p>
<pre><code>zone "domain.com" { type master; file "/etc/bind/zones/domain.com";};
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Please consider using <a href="https://docs.python.org/3/library/shlex.html#shlex.quote" rel="nofollow noreferrer">shlex.quote()</a>. It should help. There's also an option to use <code>shell=True</code> to <code>Popen()</code>, but this one has some negative security aspects.</p>
</div>
