<div class="post-text" itemprop="text">
<p>I have a table "address_layer" set in the code. There I am trying to sum the column "Anzahl". 
The problem is that where the value is Empty (nothing in it) the code breaks. </p>
<pre><code>polygon_layer = arcpy.GetParameterAsText(0)
address_layer = arcpy.GetParameterAsText(1)

selected_oids = []
with arcpy.da.SearchCursor(polygon_layer, "OID@") as cursor:
    for row in  cursor:
        selected_oids.append(row[0])

workspace = arcpy.Describe(polygon_layer).path

anzahl_total = 0
try:
    edit = arcpy.da.Editor(workspace)
    edit.startEditing(False, True)
    for oid in selected_oids:
        arcpy.SelectLayerByAttribute_management(polygon_layer, "NEW_SELECTION", "OBJECTID = {0}".format(oid))
        arcpy.SelectLayerByLocation_management(address_layer, "WITHIN", polygon_layer)
        #address_count_within = int(arcpy.GetCount_management(address_layer).getOutput(0))
        #arcpy.AddMessage('Number of address points within Polygon (OBJECTID={0}): {1}'.format(oid, address_count_within))
        with arcpy.da.SearchCursor(address_layer, "Anzahl") as cursor:
            for row in cursor:
                anzahl_total = anzahl_total + row[0]
        #print anzahl_total
            #edit.startOperation()  
            with arcpy.da.UpdateCursor(polygon_layer, ["anzahl"]) as cursor:
                for row in cursor:
                    row[0] = anzahl_total
                    cursor.updateRow(row)
            #edit.stopOperation()
    edit.stopEditing(True)  


finally:
    pass
</code></pre>
<p>How can I set the empty value to "0" so that I can sum this?
It breaks at This part</p>
<pre><code>with arcpy.da.SearchCursor(address_layer, "Anzahl") as cursor:
                for row in cursor:
                    anzahl_total = anzahl_total + row[0]
</code></pre>
<p>This error comes:</p>
<pre><code> line 29, in &lt;module&gt;
        anzahl_total = anzahl_total + row[0]
    TypeError: unsupported operand type(s) for +: 'int' and 'NoneType'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To check if row is empty you can <a href="https://docs.python.org/3/library/stdtypes.html#truth-value-testing" rel="nofollow noreferrer">test for it</a> like:</p>
<pre><code>with arcpy.da.SearchCursor(address_layer, "Anzahl") as cursor:
    for row in cursor:
        if row[0] is not None:
            anzahl_total += row[0]
</code></pre>
<p>You can also use a <a href="https://docs.python.org/3/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expression</a> with <a href="https://docs.python.org/3/library/functions.html#sum" rel="nofollow noreferrer"><code>sum()</code></a> like:</p>
<pre><code>with arcpy.da.SearchCursor(address_layer, "Anzahl") as cursor:
    anzahl_total += sum(row[0] for row in cursor if row[0] is not None)
</code></pre>
</div>
<span class="comment-copy">See <a href="https://stackoverflow.com/questions/394809/does-python-have-a-ternary-conditional-operator" title="does python have a ternary conditional operator">stackoverflow.com/questions/394809/…</a>. That should help.</span>
<span class="comment-copy">Sorry, i forgot that I set anzahl_total to ‘0’</span>
<span class="comment-copy">What is in <code>row</code> when it gives the error?  <code>print(row)</code>? also show the complete stack trace for the error.</span>
<span class="comment-copy">Updated the error, the problem only comes if there are Empty / nothing in "Anzahl". If all have a value (0,1 or more) no problems</span>
<span class="comment-copy">I have tried both, keep giving the error. I have update the complete script. To see what’s in there</span>
<span class="comment-copy">@BjorntenBroeke, I updated the test to <code>is not None</code></span>
<span class="comment-copy">many thanks, works!</span>
