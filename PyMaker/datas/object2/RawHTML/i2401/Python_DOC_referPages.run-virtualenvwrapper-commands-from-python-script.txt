<div class="post-text" itemprop="text">
<p>When I'm trying to create a new Python 3 virtual environment by using <code>mkvirtualenv</code> (virtualenvwrapper command) and <code>os.system</code> like this</p>
<pre><code>import os
os.system('mkvirtualenv foo')
</code></pre>
<p>nothing happens. </p>
<pre><code>os.system("mate-terminal -e 'workon foo'")
</code></pre>
<p>doesn't work either.</p>
<p>The point is to quickly create a new virtual env and work on it later for each project (it's an automation script). <code>virtualenvwrapper</code> is the most convenient option.</p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>mkvirtualenv</code> and <code>workon</code> commands are shell functions, not executables in your <code>PATH</code>[0].
 To make them available in the shell you execute them in, you need to source the <code>virtualenvwrapper.sh</code> shell script defining them. You might be better off calling <code>virtualenv /path/to/foo</code> directly.</p>
<p>How to activate that virtualenv is another story, though, and will depend on the context you want to use it in. If you activate it in a subprocess, each process using it will have to be run in or under that child.</p>
<p>Hth,
dtk</p>
<p>PS In addition, you might look into the <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer"><code>subprocess</code></a> module (or even the third-party <a href="https://amoffat.github.io/sh/" rel="nofollow noreferrer"><code>sh</code></a>) for calling external programs. Happy coding :)</p>
<p>[0]: See <code>$ which workon</code> in a terminal vs <code>$ which bash</code></p>
</div>
<span class="comment-copy">Related: <a href="https://stackoverflow.com/questions/6943208/activate-a-virtualenv-with-a-python-script" title="activate a virtualenv with a python script">stackoverflow.com/questions/6943208/‚Ä¶</a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/18337767/subprocess-popen-mkvirtualenv-not-found">subprocess.Popen: mkvirtualenv not found</a></span>
<span class="comment-copy"><a href="https://stackoverflow.com/search?q=%5Bvirtualenvwrapper%5D+mkvirtualenv+subprocess">stackoverflow.com/‚Ä¶</a></span>
<span class="comment-copy">Unfortunately, neither subprocess nor sh doesn't help (can't find a perfect solution). However, os.system('python3 -m venv foo') works well, the only con is that it just can't activate it automatically. os.system("mate-terminal -e '. bin/activate'") fails (permission denied). In other words, everything is almost perfect for now, except I need to type 'workon foo' in the popped-out terminal window each time. Thank you for your suggestions.</span>
<span class="comment-copy"><code>subprocess</code> and <code>sh</code> don't solve the general problem, however they are nicer interfaces for calling external programs.</span>
<span class="comment-copy">The <code>permission denied</code> problem seems to be related to how you execute your command with <code>-e</code>/<code>-x</code> (and maybe <code>source</code>/<code>.</code> being shell built-ins instead of executables ;)). And since the terminal you spawned that way will close anyway after it finishes the provided command, you might wanna open a new question for this problem üëç</span>
