<div class="post-text" itemprop="text">
<p>if <code>print(list(ns))</code> is added, the result is <code>50</code>, while if <code>print(list(ns))</code> is deleted, the result is <code>0</code>, why?</p>
<pre><code>import itertools

def PI(N):
    natuals = itertools.count(1,2) #start=1,step=2
    ns = itertools.takewhile(lambda x: x &lt;= 2*N-1, natuals)
    #print(list(ns))
    na = map(lambda x: x/2, ns)#(-1)**(y//2)*4/y
    return sum(na)

if __name__ == '__main__':
    print(PI(10))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As mentioned in the comments, <code>itertools.takewhile</code> return an iterator, and when you apply <code>list</code> on <code>ns</code>, you iterate over the iterator and receive to end, then get nothing for the next statement (<code>na</code>), when you call the iterator again (<code>ns</code>).</p>
<p>Hence, it does not happen when you just print the <code>ns</code> instead of <code>list(ns)</code>.</p>
</div>
<span class="comment-copy">Because <a href="https://docs.python.org/3/library/itertools.html#itertools.takewhile" rel="nofollow noreferrer"><code>itertools.takewhile</code></a> makes an iterator.</span>
<span class="comment-copy">Check <a href="https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory/48393588#48393588" title="how do i list all files of a directory">stackoverflow.com/questions/3207219/â€¦</a> (the 1st part - that covers this particular aspect).</span>
