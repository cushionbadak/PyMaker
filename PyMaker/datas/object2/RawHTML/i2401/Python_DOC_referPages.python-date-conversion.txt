<div class="post-text" itemprop="text">
<p>I'm using Python and I want to convert a date from the following formats:</p>
<p><code>'30th Sep 2018'</code> or <code>'Mon 30th Sep 2018'</code></p>
<p>to the format:</p>
<p><code>'2018-09-30 00:00:00'</code></p>
<p>I already tried to use the strptime() and strftime() functions but I can't make this works with them. </p>
<p>Anyone know how to accomplish this in Python?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>datetime.strptime</code> and <code>datetime.strftime</code> for that like so:</p>
<pre><code>from datetime import datetime

def convert1(string):
    conversion = '%d' + string[2:4] + ' %b %Y'
    dt = datetime.strptime(string, conversion)
    return dt.strftime('%Y-%m-%d %H:%M:%S')

def convert2(string):
    conversion = '%a %d' + string[6:8] + ' %b %Y'
    dt = datetime.strptime(string, conversion)
    return dt.strftime('%Y-%m-%d %H:%M:%S')

print(convert1('30th Sep 2018'))
print(convert2('Mon 30th Sep 2018'))

print(convert1('01st Sep 2018'))
print(convert2('Sun 02nd Sep 2018'))
</code></pre>
<p>This is the output:</p>
<pre><code>2018-09-30 00:00:00
2018-09-30 00:00:00
2018-09-01 00:00:00
2018-09-02 00:00:00
</code></pre>
<p>I used the patterns as described <a href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior" rel="nofollow noreferrer">in the documentation for datetime</a>. I used <a href="https://www.digitalocean.com/community/tutorials/how-to-index-and-slice-strings-in-python-3" rel="nofollow noreferrer">sclicing</a> to extract the <code>th</code> part of the date-string. In doing so I ensure that the functions also work for <code>nd</code> and <code>st</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>The simplest way to convert from <code>30th Sep 2018</code> or <code>Mon 30th Sep 2018</code> to <code>2018-09-30 00:00:00</code> is using <a href="https://dateutil.readthedocs.io/en/stable/parser.html" rel="nofollow noreferrer"><code>dateutil.parser</code></a>, i.e.:</p>
<pre><code>from dateutil.parser import parse
d = "30th Sep 2018"
dd = "Mon 30th Sep 2018"
print parse(d)
print parse(dd)
# 2018-09-30 00:00:00
# 2018-09-30 00:00:00
</code></pre>
<hr/>
<p>For the opposite conversion, there's <a href="https://docs.python.org/2/library/datetime.html" rel="nofollow noreferrer"><code>datetime.strptime</code></a>, but I'm afraid it doesn't output ordinals (1st, 2nd) as you want, still, you can achieve the desired result using a <a href="http://germanylandofinnovation.com/questions/28893/python-format-datetime-mit-st-nd-rd-th-engl-ordinal-suffix-wie-php-s-s" rel="nofollow noreferrer">small function</a>, i.e.:</p>
<pre><code>def ord(n):
    return str(n)+("th" if 4&lt;=n%100&lt;=20 else {1:"st",2:"nd",3:"rd"}.get(n%10, "th"))
x = datetime.datetime.strptime("2018-09-30 00:00:00", '%Y-%m-%d %H:%M:%S')
print "{} {}".format(ord(int(x.strftime('%d'))), x.strftime('%b %Y'))
# 30th Sep 2018
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>print(datetime.strftime('%Y %m %d %X)
</code></pre>
<p>You can use <strong>strftime</strong> for change the style of date and time</p>
<p>Goto to </p>
<blockquote>
<p><a href="http://strftime.org/" rel="nofollow noreferrer">http://strftime.org/</a></p>
</blockquote>
<p>For more inforamtion</p>
</div>
<span class="comment-copy">What have you tried so far? please show us your code.</span>
<span class="comment-copy">@PedroLobito : I used strptime() and strftime() functions but it did not work out.</span>
<span class="comment-copy">HI @Debbie, I edited your question to make it clearer what you're trying to do. Try to put everything that you already and search a little more on the StackOverflow and documentations, that I really think that somebody already made a question similar to this question.</span>
<span class="comment-copy">@coderade : Thanks for the edit. I'll remember your suggestions next time onward.</span>
