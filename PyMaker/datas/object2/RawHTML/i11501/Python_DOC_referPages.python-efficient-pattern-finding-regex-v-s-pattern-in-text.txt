<div class="post-text" itemprop="text">
<p>I am working on a simple case where I need to check for existence of a string (let us say <code>xyz</code>) in a <code>given_text</code>.</p>
<p>What will be a more efficient way to do so:</p>
<pre><code>if 'xyz' in given_text:
    print 'found'
</code></pre>
<p>OR</p>
<pre><code>import re
if re.compile('xyz').search(given_text):
    print 'found'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As someone said, <code>in</code> is much faster</p>
<pre><code>&gt;&gt;&gt; timeit.timeit('"xyz" in "abcxyz"', number=10000000)
0.5210642332803808
&gt;&gt;&gt; timeit.timeit('re.search(p,"abcxyz")', number=10000000, setup='import re; p=re.compile("xyz")')
15.548494171928667
&gt;&gt;&gt; timeit.timeit('p.search("abcxyz")', number=10000000, setup='import re; p=re.compile("xyz")')
3.41808299957313
</code></pre>
<p>I think this is because <code>in</code> just have to look in the string. <code>regex</code> is a more complex tool that should be able to manage more complex cases so probably is slower because of the overhead to manage such complexity.</p>
</div>
<div class="post-text" itemprop="text">
<p>We can use python regular expression search module to get it done in efficient way.</p>
<pre><code>import re
matchobj = re.search(r"xyz",given_text)
if matchobj:
   print "Found"
else:
   print "Not Found"
</code></pre>
</div>
<span class="comment-copy">Use <a href="https://docs.python.org/3/library/timeit.html" rel="nofollow noreferrer">timeit</a>.</span>
<span class="comment-copy">1. It probably doesn't matter. 2. If you empirically determine that it does matter for your case, run some tests for real-world data. 3. <code>'xyz' in given_text</code> is probably much faster.</span>
<span class="comment-copy">Do you know why that is the case?</span>
<span class="comment-copy">And shouldn't it be <code>p.search("abcxyz")</code> or does <code>re.search(compiled_regex, string)</code> also reuse the compiled regex?</span>
<span class="comment-copy"><code>p.search</code> is faster and I added in the example, thank you for pointing that out. I also added some sort of explanation.</span>
