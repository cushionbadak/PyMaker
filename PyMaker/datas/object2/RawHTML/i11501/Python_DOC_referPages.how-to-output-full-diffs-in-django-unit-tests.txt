<div class="post-text" itemprop="text">
<p>When I use <a href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual" rel="nofollow"><code>assertEqual()</code></a> with two dictionaries in REPL, it shows me a diff, e.g.:</p>
<pre><code>&gt;&gt;&gt; import unittest
&gt;&gt;&gt; class A(unittest.TestCase):
...   pass
... 
&gt;&gt;&gt; a = A()
&gt;&gt;&gt; d1 = dict(zip(range(10), range(1000000, 1000010)))
&gt;&gt;&gt; d2 = dict(zip(range(3, 13), range(1000003, 1000013)))
&gt;&gt;&gt; a.assertEqual(d1, d2)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/usr/lib/python3.5/unittest/case.py", line 820, in assertEqual
    assertion_func(first, second, msg=msg)
  File "/usr/lib/python3.5/unittest/case.py", line 1111, in assertDictEqual
    self.fail(self._formatMessage(msg, standardMsg))
  File "/usr/lib/python3.5/unittest/case.py", line 665, in fail
    raise self.failureException(msg)
AssertionError: {0: 1000000, 1: 1000001, 2: 1000002, 3: 10[73 chars]0009} != {3: 1000003, 4: 1000004, 5: 1000005, 6: 10[76 chars]0012}
- {0: 1000000,
-  1: 1000001,
-  2: 1000002,
-  3: 1000003,
? ^

+ {3: 1000003,
? ^

   4: 1000004,
   5: 1000005,
   6: 1000006,
   7: 1000007,
   8: 1000008,
-  9: 1000009}
?            ^

+  9: 1000009,
?            ^

+  10: 1000010,
+  11: 1000011,
+  12: 1000012}
</code></pre>
<p>When I do the same in a Django unit test, sometimes it prints a diff and sometimes only the first shortened line. I wonder, how can I make it always print the diff.<br/>
I run Django tests with <code>./manage.py test -v 3</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you set <a href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.maxDiff" rel="nofollow"><code>maxDiff</code></a> to <code>None</code>, then the full diff will be shown.</p>
<pre><code>class A(unittest.TestCase):
    maxDiff = None
    ...
</code></pre>
</div>
<span class="comment-copy">I've tried setting this on the class and instance levels, still no diff :(</span>
<span class="comment-copy">Make sure you have the capitalization correct. Apart from that, I'm afraid I don't have any ideas why it wouldn't work.</span>
<span class="comment-copy">i've also tried setting <code>maxDiff = None</code> in a case derived from <code>unittest.TestCase</code> and nothing's changed</span>
