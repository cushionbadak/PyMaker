<div class="post-text" itemprop="text">
<p>I have a txt file open in python which data has been written to.
I need a way for only 3 parts of data to be inputted into this file before the oldest bit of data is deleted and replaced with the newer data.</p>
<p>For example:
A teacher has asked me to build a system in python that askes students 10 random maths questions, before talking this quiz the student must enter their name and class number.</p>
<p>When the quiz has been completed their name and score must be written to a certain file, class1.txt if they belong to class 1, class2.txt if they belong to class2 and so on.</p>
<p>This system is working correctly but the teacher has now asked me if it's possible for only the 3 most recent quiz results to be stored in the corresponding file. </p>
<p>Thanks a lot
A GCSE student who's bricking himself </p>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/3/library/collections.html#collections.deque" rel="nofollow"><code>collections.deque</code></a> like this:</p>
<pre><code>from collections import deque

with open("file.txt", "r+") as f:
    d = deque(f, 3)
    d.append(new_score)  # or use appendleft()
    f.seek(0)
    f.truncate()
    f.writelines(d)
</code></pre>
</div>
<span class="comment-copy"><a href="http://stackoverflow.com/help/how-to-ask">stackoverflow.com/help/how-to-ask</a></span>
<span class="comment-copy">Shame for are not using a database like Sqlite.  Text file "records" (lines) are usually variable length, so it is not practical to try to update a single file.  You need to create a new file each time and copy record by record to the new file, making changes, like discarding old records, as you go.</span>
<span class="comment-copy">the three most recent quiz results of all students in one class, or the three most recent results of every student? How does your file look? Do you have one line per student? Or one line per result, or what?</span>
