<div class="post-text" itemprop="text">
<p>Trying to add an insert(self, key) method that inserts the key into the appropriate position while linear probing for resolving collisions.
My current code, I'm just not 100% sure how to inset the str into the hash table. </p>
<p>Testing code: </p>
<pre><code>#Test
my_table  = HashTable(5)
my_table.insert('hello')
print("Hashtable:", my_table)   
</code></pre>
<p>result:</p>
<pre><code>Hashtable: [None, None, None, None, 'hello']
</code></pre>
<hr/>
<pre><code>class HashTable:

    def __init__(self, capacity): 
        self.capacity = capacity 
        self.slots = [None] * self.capacity

    def __str__(self): 
        return str(self.slots )

    def is_empty(self): 
        return self.slots.count(None) == len(self.slots)

    def hash(self, key):
        sum = 0
        for char in key: 
            sum += ord(char) 
            sum2 = "%04d" % (sum) 
            digits = int((sum2[2]) + (sum2[3])) 
            number = int(digits * digits) 
        return number % len(self.slots)


    def insert(self, key): 
        count = 0 
        position = key%self.capacity 
        if self.slots[key%self.capacity] == None: 
            self.slots[key%self.capacity] = key 
        else: 
            while self.slots[position] != None: 
                position +=1 
                if position &gt;= self.capacity: 
                    position = 0 
            self.slots[position%self.capacity] = key 
            return self.slots
</code></pre>
<p>Im currently getting a Type error</p>
<pre><code>&gt;&gt;&gt;TypeError: not all arguments converted during string formatting line 25, in insert
    position = key%self.capacity
</code></pre>
<p>I just need some advice on how to add the string into the hash table. </p>
</div>
<div class="post-text" itemprop="text">
<p><code>key</code> (<code>'hello'</code>) is a string object. You need to convert it to integer to do modulo. Otherwise it will perform <a href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting" rel="nofollow"><code>printf</code>-style string formatting</a>; causes error because there's no <code>%</code> in the string:</p>
<pre><code>position = key % self.capacity
</code></pre>
<p>Call <code>self.hash</code> to get hash value:</p>
<pre><code>def insert(self, key): 
    position = self.hash(key) % self.capacity 
    if self.slots[position] == None: 
        self.slots[position] = key 
    else: 
        while self.slots[position] != None:
            position += 1
            if position &gt;= self.capacity: 
                position = 0
        self.slots[position%self.capacity] = key
        return self.slots
</code></pre>
<p><strong>UPDATE</strong> <code>if</code> body can be merged into <code>else</code>:</p>
<pre><code>def insert(self, key): 
    position = self.hash(key) % self.capacity
    while self.slots[position] != None:
        position += 1
        if position &gt;= self.capacity:
            position = 0
    self.slots[position%self.capacity] = key
    return self.slots
</code></pre>
</div>
<span class="comment-copy">Which line gives the error? Please post the full error.</span>
<span class="comment-copy">I added it into the error statement, its the line which says position = key % self.capactiy</span>
<span class="comment-copy">When i tried to print it out I got this as the output for some reason..                  &gt;&gt;&gt; Hashtable: [None, 840651671246116861, None, None, None]</span>
<span class="comment-copy">instead of &gt;&gt;&gt; Hashtable: [None, None, None, None, 'hello']</span>
<span class="comment-copy">@M.Jones, Thank you for your feedback. I updated the code to address the issue you mentioned.</span>
<span class="comment-copy">any ideas why it prints on second position instead of last &gt;&gt;&gt;Hashtable: [None, 'hello', None, None, None]</span>
<span class="comment-copy">@M.Jones, I missed that there's <code>hash</code> method in the class. I updated the code to use <code>self.hash</code> instead of builtin <code>hash</code> function.</span>
