<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/14574518/how-does-using-the-try-statement-avoid-a-race-condition">How does using the try statement avoid a race condition?</a>
<span class="question-originals-answer-count">
                    3 answers
                </span>
</li>
</ul>
</div>
<p>I would like to know how I could check to see if a file exist based on user input and if it does not, then i would like to create one.</p>
<p>so I would have something like:</p>
<pre><code>file_name = input('what is the file name? ')
</code></pre>
<p>then I would like to check to see if file name exist.</p>
<p>If file name does exist, open file to  write or read, if file name does not exist, create the file based on user input.</p>
<p>I know the very basic about files but not how to use user input to check or create a file.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the os module:</p>
<p><strong>Like this By os.path.isfile():</strong></p>
<pre><code>import os.path
os.path.isfile(file_path)
</code></pre>
<p><strong>Or Using os.path.exists():</strong></p>
<pre><code>if os.path.exists(file_name): print("I get the file &gt;hubaa")
</code></pre>
<p>if the file doesn't exist :(return False)</p>
<pre><code>if not os.path.exists(file_name):
      print("The File s% it's not created "%file_name)
      os.touch(file_name)
      print("The file s% has been Created ..."%file_name)
</code></pre>
<p><strong>And you can write a simple code based on  (try,Except):</strong></p>
<pre><code>try:
    my_file = open(file_name)
except IOError:
    os.touch(file_name)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To do exactly what you asked:</p>
<p>You're going to want to look at the <a href="https://docs.python.org/3.1/library/os.path.html#os.path.isfile" rel="nofollow"><code>os.path.isfile()</code></a> function, and then the <code>open()</code> function (passing your variable as the argument).</p>
<hr/>
<p>However, as noted by @LukasGraf, this is generally considered less than ideal because it introduces a <a href="http://en.wikipedia.org/wiki/Race_condition" rel="nofollow">race condition</a> if something else were you create the file in the time between when you check to see if it exists and when you go to open it.</p>
<p>Instead, the usual preferred method is to just try and open it, and catch the exception that's generated if you can't:</p>
<pre><code>try:
    my_file = open(file_name)
except IOError:
    # file couldn't be opened, perhaps you need to create it
</code></pre>
</div>
<span class="comment-copy">What do you mean by "open it to write or read" - do you mean you want to do both, i.e. <code>r+</code> mode?</span>
<span class="comment-copy">I just meant that i needed to do it in a way that will allow me to do either.</span>
<span class="comment-copy">Well, you can always open a file for writing - if it exists, it will be cleared, if it doesn't exist, it will be created.</span>
<span class="comment-copy">What is os.touch? I can't find it at <a href="https://docs.python.org/3/library/os.html" rel="nofollow noreferrer">docs.python.org/3/library/os.html</a> or <a href="https://docs.python.org/2/library/os.html" rel="nofollow noreferrer">docs.python.org/2/library/os.html</a> .  Also "s%" should be "%s".</span>
<span class="comment-copy">Hmm, what if the user enters the name of a directory? Wouldn't <code>.exists()</code> return <code>True</code>, but opening would then fail?</span>
<span class="comment-copy">@TimPietzcker Good call; updated to <code>isfile()</code>.</span>
<span class="comment-copy">That's exactly what you should <b>not</b> do, because that introduces a <a href="http://stackoverflow.com/questions/14574518/how-does-using-the-try-statement-avoid-a-race-condition">race condition</a>.</span>
<span class="comment-copy">@LukasGraf <i>sigh</i> we're going down this again. Fine, I'll write up an entire explanation of exceptions as well for a user that is still figuring out how to use user input. Stand by...</span>
<span class="comment-copy">@Amber no, just mark it as a duplicate, since this has been answered over and over again.</span>
