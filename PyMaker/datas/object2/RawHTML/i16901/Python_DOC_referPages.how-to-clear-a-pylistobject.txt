<div class="post-text" itemprop="text">
<p>I have a question that how to clear a list that's formed by PyList_Append() ? Is there a document about Python/C extention API functions in detail?
Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>IIRC you have to use <a href="https://docs.python.org/2/c-api/list.html#PyList_SetSlice" rel="noreferrer"><code>PyList_SetSlice</code></a>:</p>
<pre><code>PyList_SetSlice(your_list, 0, PyList_Size(your_list), NULL);
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <a href="https://docs.python.org/3/c-api/sequence.html#c.PySequence_DelSlice" rel="nofollow">PySequence_DelSlice</a> function:</p>
<pre><code># The same as: del L[0:len(L)]
PySequence_DelSlice(L, 0, PySequence_Length(L));
</code></pre>
</div>
<span class="comment-copy">Thanks, but another question.  PyObject *newlist = PyList_New(0); PyObject *subList = PyList_New(0); PyList_Append(subList, PyString_FromString("first")); PyList_Append(subList, PyString_FromString("second")); PyList_Append(subList, PyString_FromString("third")); PyList_SetSlice(subList, 0, PyList_Size(subList), NULL); PyList_Append(subList, PyString_FromFormat("abcdef")); PyList_Append(newlist, subList); now I get [['abcdef'],['abcdef']]. The initial strings "first" and "second" are override. How to solve it? Sorry I don't know how to edit the format. Maybe I need a tutorial.</span>
