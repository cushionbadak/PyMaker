<div class="post-text" itemprop="text">
<p>I'm trying to pass a list of arguments with argparse but the only way that I've found involves rewriting the option for each argument that I want to pass:</p>
<p>What I currently use:</p>
<pre><code>main.py -t arg1 -a arg2
</code></pre>
<p>and I would like:</p>
<pre><code>main.py -t arg1 arg2 ...
</code></pre>
<p>Here is my code:</p>
<pre><code>parser.add_argument("-t", action='append', dest='table', default=[], help="")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/argparse.html#nargs" rel="noreferrer"><code>nargs</code></a>:</p>
<blockquote>
<p><em>ArgumentParser</em> objects usually associate a single command-line
  argument with a single action to be taken. The <em>nargs</em> keyword argument
  associates a different number of command-line arguments with a single
  action.</p>
</blockquote>
<p>For example, if <code>nargs</code> is set to <code>'+'</code></p>
<blockquote>
<p>Just like <code>'*'</code>, all command-line args present are gathered into a list.
  Additionally, an error message will be generated if there wasnâ€™t at
  least one command-line argument present.</p>
</blockquote>
<p>So, your code would look like</p>
<pre><code>parser.add_argument('-t', dest='table', help='', nargs='+')
</code></pre>
<p>That way <code>-t</code> arguments will be gathered into <code>list</code> automatically (you don't have to explicitly specify the <a href="https://docs.python.org/3/library/argparse.html#action" rel="noreferrer"><code>action</code></a>).</p>
</div>
<div class="post-text" itemprop="text">
<p>Being aware, you asked for argparse solution, I would like to present alternative solution using package <code>docopt</code></p>
<p>Install it first:</p>
<pre><code>$ pip install docopt
</code></pre>
<p>Write the code:</p>
<pre><code>"""Usage:
    main.py -a &lt;arg&gt;...
"""

if __name__ == "__main__":
    from docopt import docopt
    resargs = docopt(__doc__)
    print resargs
</code></pre>
<p>Run it to show usage instrucitons:</p>
<pre><code>$ python main.py
Usage:
    main.py -a &lt;arg&gt;...
</code></pre>
<p>Call it with your parameters:</p>
<pre><code>$ python main.py -a AA BB CC
{'-a': True,
 '&lt;arg&gt;': ['AA', 'BB', 'CC']}
</code></pre>
<p>Btw. if you do not need the <code>-a</code> option, you shall directly allow passing the arguments. It makes usage simpler to the user.</p>
</div>
<span class="comment-copy">perfect thank you, if i add nargs, i juste have to make action='store' and it works like a charm</span>
<span class="comment-copy">@CondaKan <code>store</code> is the default action, you don't have to specify it explicitly</span>
