<div class="post-text" itemprop="text">
<p>am new to Python , But i have text File like :</p>
<pre><code>12345 | 6789 | abcd | efgh 
</code></pre>
<p>i want my output be Like :</p>
<pre><code>12345
6789
abcd
efgh
</code></pre>
<p>=====================</p>
<p>i really don't know the script 
but i made a lot of scripts  by those function split() , strip() , blame blame blame </p>
<p>but i failed to do it 
so am asking for help is someone can .</p>
<p>i will appreciate any Help .</p>
<pre><code>with open('contacts_index1.txt') as f:
    lines = f.read().splitlines("|")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>From all of your comments, it looks like the issue has to do with the actual text in the file, and not the ability to parse it.  It looks like everyone's solution in here is on the right track, you just need to force the encoding.</p>
<p>The error you are describing is described <a href="https://stackoverflow.com/questions/9233027/unicodedecodeerror-charmap-codec-cant-decode-byte-x-in-position-y-character">in this other StackOverflow post</a>.</p>
<pre><code>with open('contacts_index1.txt', 'r') as f:
     lines = f.read().encode("utf-8").replace("|", "\n")
</code></pre>
<p>EDIT: The issue appears to be a nasty character that wasn't properly decoding. With <code>open</code> you can tell it to ignore characters it can't decode.</p>
<pre><code>import io 
with io.open("contacts_index1.txt", errors="ignore") as f:
    lines = f.read()replace("|", "\n")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You will have to use decode. The following code will work:</p>
<pre><code>def dataFunction(filename):
    with open(filename, encoding="utf8") as f:
        return f.read()
</code></pre>
<p>Call this function with filename as parameter:</p>
<pre><code>Contents = dataFunction(filename)
elements = Contents.split("|")
for element in elements:
         print(element)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Some problems with the code you posted:</p>
<ul>
<li><code>f.read</code> doesn't read the whole line. It should be <code>f.readline()</code>. </li>
<li>What is the function <code>splitlines</code>?</li>
</ul>
<p>Your question is pretty unclear in differnt aspects. Maybe this snippet could be of some help:</p>
<pre><code>for line in open('contacts_index1.txt'):
    elements = line.split('|')
    for element in elements:
        print element.strip()
</code></pre>
<p>Editted: I didn't know the function <code>splitlines</code>. Just looked it up. The way you used it in your code doesn't seem to be correct anyway.</p>
</div>
<div class="post-text" itemprop="text">
<p>I strongly suggest using csv module for this kind of task, as it seems like a csv-type file, using '|' as delimiter:</p>
<pre><code>import csv
with open('contacts_index1.txt','r') as f:
    reader=csv.reader(f,delimiter='|')
    for row in reader:
        #do things with each line
        print "\n".join(row)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Please do this line by line. There is no need to read the entire file at once.</p>
<p>Something like:</p>
<pre><code>with open(file_name) as f_in:
    for line in f_in:
        for word in line.split('|'):
            print word.strip()
</code></pre>
<hr/>
<p>If it is a unicode issue, most of the time it is automatic:</p>
<pre><code>$ cat /tmp/so.txt
12345 | 6789 | abcd | éfgh 
</code></pre>
<p>(note the <code>é</code> in the file)</p>
<p>The program above works. If it does NOT work, use a codec:</p>
<pre><code>with open(fn) as f_in:
    for line in f_in:
        line=line.decode('utf-8')  # or whatever codec is used for that file...
        for word in line.split('|'):
            print word.strip()
</code></pre>
<hr/>
<p>With Python3, just set the encoding when you open the file:</p>
<pre><code>with open(fn, encoding='utf-8') as f_in:   # &lt;= replace with the encoding of the file...
    for line in f_in:
        for word in line.split('|'):
            print(word.strip())
</code></pre>
</div>
<span class="comment-copy">What is the error you are getting the question exactly?</span>
<span class="comment-copy">The real code is: <code>f.readlines()</code> then loop over them all splitting on '|'</span>
<span class="comment-copy"><code>Traceback (most recent call last):   File "C:\Users\TOSHIBA\Desktop\findme.py", line 4, in &lt;module&gt;     r = f.read()   File "C:\Users\TOSHIBA\AppData\Local\Programs\Python\Python35-32\lib\encodings\cp1252.py", line 23, in decode     return codecs.charmap_decode(input,self.errors,decoding_table)[0] UnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 529: character maps to &lt;undefined&gt; </code></span>
<span class="comment-copy">u r right bro .  but it still gave me the same error , i don't have no idea . what can i do !</span>
<span class="comment-copy">i also saved the file as "UTF-8" and the error is still appear</span>
<span class="comment-copy">Try the solution in that link.  The error you show has it loading with encoding "CP1252".  So there has to be a way to force it to read with a different encoding (like utf-8).  <code>import io</code> <code>io.open('contacts_index1.txt', encoding="utf-8")</code> OR <code>io.open('contacts_index1.txt', encoding="latin-1")</code></span>
<span class="comment-copy">Another option is to tell Python to throw out the character if it can't decode it: <code>io.open("contacts_index1.txt", errors="ignore")</code> <a href="http://stackoverflow.com/questions/3284827/python-3-chokes-on-cp-1252-ansi-reading" title="python 3 chokes on cp 1252 ansi reading">stackoverflow.com/questions/3284827/…</a></span>
<span class="comment-copy">thank very much brooo &lt;3</span>
<span class="comment-copy">am sorry , i didn't understand what exactly suppose i do ?</span>
<span class="comment-copy">am sorry again , but it gave me that :   <code>Traceback (most recent call last):   File "C:\Users\TOSHIBA\Desktop\hope.py", line 4, in &lt;module&gt;     Contents = dataFunction("contacts_index1.txt")   File "C:\Users\TOSHIBA\Desktop\hope.py", line 3, in dataFunction     return f.read().decode('utf-8')   File "C:\Users\TOSHIBA\AppData\Local\Programs\Python\Python35-32\lib\encodings\cp1252.py", line 23, in decode     return codecs.charmap_decode(input,self.errors,decoding_table)[0] UnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 529: character maps to &lt;undefined&gt;</code></span>
<span class="comment-copy">Check out i have updated! If not works comment...! I would like to help you!</span>
<span class="comment-copy">If it not works check encoding="Latin-1"  event that also does not work check the encoding format using online tools and change the second argument it will work...! @SamehWeangy</span>
<span class="comment-copy">i already did , and the upper error which i commented back is  appeared , am really appreciate what u trying to do bro .</span>
<span class="comment-copy">and your code gave me that error   <code>Traceback (most recent call last):   File "C:\Users\TOSHIBA\Desktop\csvfind.py", line 1, in &lt;module&gt;     for line in open('contacts_index1.txt'):   File "C:\Users\TOSHIBA\AppData\Local\Programs\Python\Python35-32\lib\encodings\cp1252.py", line 23, in decode     return codecs.charmap_decode(input,self.errors,decoding_table)[0] UnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 529: character maps to &lt;undefined&gt;</code></span>
<span class="comment-copy">am sorry i meat line.split()</span>
<span class="comment-copy">i have tried the CSV also but here's the error    <code>Traceback (most recent call last):   File "C:\Users\TOSHIBA\Desktop\csvfind.py", line 4, in &lt;module&gt;     for row in reader:   File "C:\Users\TOSHIBA\AppData\Local\Programs\Python\Python35-32\lib\encodings\cp1252.py", line 23, in decode     return codecs.charmap_decode(input,self.errors,decoding_table)[0] UnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 529: character maps to &lt;undefined&gt;</code></span>
<span class="comment-copy">@dwg thanks , bro   it's worked with one . but the another  one have encoding problem . so am still stuck in this problem of decode .</span>
<span class="comment-copy">now it's your code is working bro . thank u</span>
<span class="comment-copy">If it is an encoding issue, just open with a proper codec.</span>
<span class="comment-copy">i made another solution for encoding  with ur script , and now it's worked . Thank you bro . but if i need to write the output into new file instead of  printing in the shell   what should i do , bro ?</span>
<span class="comment-copy">Python 2 or 3? Makes a difference. Python 2, use <code>encode</code> and <code>decode</code> on each end as <a href="http://stackoverflow.com/a/17246997/298607">here</a>. Python 3, use the encoder embedded in <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">open</a></span>
