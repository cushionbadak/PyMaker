<div class="post-text" itemprop="text">
<pre><code>from sys import argv
from os.path import exists

script, from_file, to_file = argv

print "Copying from %s to %s" % (from_file, to_file)


in_file = open(from_file)
indata = in_file.read()

print "The input file is %d bytes long" % len(indata)

print "Does the output file exist? %r" % exists(to_file)
#above is the original code. 
</code></pre>
<p>He closes the files above. But then in the- common student questions- there is this. </p>
<p>Q. When I try to make this script shorter I get an error when I close the     files at the end.</p>
<p>A.    You probably did something like this, indata = open(from_file).read(), which means you don't need to then do in_file.close() when you reach the end of the script. It should already be closed by Python once that one line runs.</p>
<p>so,how do you know when to close the file and when not to?</p>
<p>Thank you everyone,i got it! :)</p>
</div>
<div class="post-text" itemprop="text">
<p>From <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow">methods-of-file-objects</a>.  </p>
<blockquote>
<blockquote>
<blockquote>
<p>It is good practice to use the with keyword when dealing with file objects. This has the advantage that the file is properly closed after its suite 
      finishes, even if an exception is raised on the way. It is also much shorter than writing equivalent try-finally blocks:</p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>&gt;&gt;&gt; with open('workfile', 'r') as f:
...     read_data = f.read()
&gt;&gt;&gt; f.closed
True
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When to close a file? always - once you are finished working on it. Otherwise it will just hog memory.</p>
</div>
<span class="comment-copy">you can close the file right after <code>indata = in_file.read()</code></span>
<span class="comment-copy">You should be using the <code>with</code> construct anyway.</span>
<span class="comment-copy">You can close the file when you no longer need to read from it, write to it? Right?</span>
<span class="comment-copy">This sort of thing is <i>not</i> recommended: <code>indata = open(from_file).read()</code>. Please see <a href="http://stackoverflow.com/a/7409814/4014959">here</a> for details. As that answer says, you should be using <code>with</code> to open files, eg <code>with open(from_file) as indata:</code>.</span>
<span class="comment-copy">True, but the safest and cleanest way to do that is to use <code>with</code>, rather than explicitly calling the file's <code>.close</code> method yourself.</span>
