<div class="post-text" itemprop="text">
<p>I have a flask wtform. I am able to validate the form in a route where it is instantiated. But I want to validate it from another route. Without using session variable, Is there any other way by which I can access the form object from the other route?</p>
<p><strong>form_class.py</strong></p>
<pre><code>class Fruit ( Form):
    Fruit = SelectField ( choices = [ ( 0,"Select Fruit"), ( 1,'Apple'), (2,'Grape'), (3,'Orange') ], coerce = int, id="Fruit", validators = [Required()])  
</code></pre>
<p><strong>views.py</strong>: </p>
<pre><code>@app.route('/fruit',  methods = ['GET', 'POST'])
def fruit():
    form = Fruit()
    if form.validate_on_submit():
       return render_template("output.html")
    return render_template("name.html", form = form)
</code></pre>
<p><strong>name.html</strong></p>
<pre><code>&lt;form action="" method="POST"&gt;
      {{ form.hidden_tag() }}
      {{form.Fruit}}
      {{form.Fruit.errors}}
      &lt;input type = "submit"&gt;
&lt;/form&gt;
</code></pre>
<p>The above code works completely fine. But I want to do something like the below: </p>
<pre><code>@app.route('/fruit')
def fruit():
    form = Fruit()
    '''if form.validate_on_submit():
       return render_template("output.html")'''
    return render_template("name.html", form = form)

@app.route('/fruit_submit', methods = ['GET', 'POST'])
def fruit_submit():
    print request.form
    if form.validate_on_submit():
       return render_template("output.html")
</code></pre>
<p>I am getting the following error upon trying the above code.</p>
<pre><code>NameError: global name 'form' is not defined
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have to call the Fruit class with request.form</p>
<pre><code>@app.route('/fruit_submit', methods = ['GET', 'POST'])
def fruit_submit():
    print Fruit(request.form)
    if Fruit(request.form).validate_on_submit():
       return render_template("output.html")
</code></pre>
</div>
<span class="comment-copy">Each request is unique. A variable defined as part of one doesn't exist in another. Also, that isn't how scope works in Python. A variable defined in one function isn't available inside another, non-nested function. Simply add <code>form = Fruit()</code> to <code>fruit_submit</code> and you'll be all set.</span>
<span class="comment-copy"><code>form = Fruit()</code> redefine in <code>fruit_submit</code> ?? @dirn</span>
<span class="comment-copy">You aren't redefining anything. <code>form</code> isn't defined in <code>fruit_submit</code>. That's <a href="https://docs.python.org/3/library/exceptions.html#NameError" rel="nofollow noreferrer">what <code>NameError</code> means</a>. If you want to use something named <code>form</code> inside <code>fruit_submit</code>, you need to define it.</span>
<span class="comment-copy">It should be <code>Fruit(request.form).validate_on_submit()</code>. Please edit it. I will accept the answer. Thank you.</span>
<span class="comment-copy">ok..but see validate_on_submit() is already in next line.</span>
