<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/842598/find-in-files-using-ruby-or-python">find in files using ruby or python</a>
<span class="question-originals-answer-count">
                    2 answers
                </span>
</li>
</ul>
</div>
<p>I want to check if a file exists. So I use the following code :  </p>
<pre><code>if os.path.exists(filepath + "Piezometrie.xlsx"):
    try :
       # do something
    else:
        pass
</code></pre>
<p>When I want to check if a file contains some specific characters, I use :</p>
<pre><code>piezo = filepath + "Piezometrie.xlsx"
texte = "zom"

if re.search(texte, piezo):
    print "ok"
else:
    print "ko"
</code></pre>
<p>But how could I do to check <strong>if a file that contains specific characters</strong> (like "zom" in this example) exists (by using regex) ?</p>
<p>Thank you very much !<br/>
Julien</p>
</div>
<div class="post-text" itemprop="text">
<p>List all files in directory and check every one for text. For example: (pseudocode)</p>
<pre><code>files = os.get_files_in_directory('/home/user/')
files_with_sth_in_name = [filename for filename in files if re.search(texte, piezo)
</code></pre>
<p>Or use something made for such job: <a href="https://docs.python.org/3/library/glob.html" rel="nofollow">https://docs.python.org/3/library/glob.html</a></p>
</div>
<span class="comment-copy">But he is not searching in txt, he is searching in xlsx</span>
<span class="comment-copy">Use glob: <a href="https://docs.python.org/3/library/glob.html" rel="nofollow noreferrer">docs.python.org/3/library/glob.html</a></span>
<span class="comment-copy">Are you trying to check the file <i>name</i> or the file <i>contents</i>?</span>
<span class="comment-copy">@A_Elric, @jpmc26: Look at the wording used by @Julien to describe the second code snippet. Apparently, the phrase "if a file contains some specific character" is meant to refer to the file name. Hence, he's asking not about the file content. If so, sokoli's answer should do. Or <code>glob</code>, of course.</span>
<span class="comment-copy"><code>piezo</code> should read <code>filename</code>, and the second line needs a closing bracket.</span>
