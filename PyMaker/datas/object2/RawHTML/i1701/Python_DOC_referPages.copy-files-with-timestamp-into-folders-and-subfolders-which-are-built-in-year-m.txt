<div class="post-text" itemprop="text">
<p>I have a question. I have files in different folders and subfolders. I have created a new file system in a new environment by year, month and day. I want to save the files there, I would like to read the files according to their timestamps and store them automatically in the designated folders. How do you do that best?</p>
</div>
<div class="post-text" itemprop="text">
<p>Here is my solution:</p>
<pre><code>import os
from datetime import datetime

SRC_PATH = './src'
DST_PATH = './dst'

for dirpath, _, filenames in os.walk(SRC_PATH):
    for filename in filenames:
        src_filepath = os.path.join(dirpath, filename)
        last_edit = datetime.fromtimestamp(os.path.getmtime(src_filepath))

        dst_dirpath = os.path.join(DST_PATH, str(last_edit.year), str(last_edit.month), str(last_edit.day))
        dst_filepath = os.path.join(dst_dirpath, filename)

        os.makedirs(dst_dirpath, exist_ok=True)
        os.rename(src_filepath, dst_filepath)

        print(src_filepath, '-&gt;', dst_filepath)
</code></pre>
<p>It will walk recursively your directory structure and move all files to another directory named by <code>YEAR/MONTH/DAY</code> of file modification.</p>
<p>Docs:  </p>
<ul>
<li><a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer">os.walk()</a> </li>
<li><a href="https://docs.python.org/3/library/os.html#os.makedirs" rel="nofollow noreferrer">os.makedirs()</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>You can simply use datetime to format timestamp to string and then define you folder name</p>
<pre><code>from datetime import datetime
ts = 1514101485
folder_name = datetime.utcfromtimestamp(ts).strftime('%Y_%m_%d')
</code></pre>
</div>
<span class="comment-copy">What is the format of the files? Where are your attempts to solve this problem?</span>
<span class="comment-copy">See this link - <a href="https://stackoverflow.com/help/how-to-ask">stackoverflow.com/help/how-to-ask</a></span>
