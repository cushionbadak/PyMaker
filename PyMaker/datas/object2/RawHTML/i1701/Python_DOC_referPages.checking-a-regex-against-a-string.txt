<div class="post-text" itemprop="text">
<p>I have a below regex expression,</p>
<pre><code>/\A(\d{5}[A-Z]{2}[a-zA-Z0-9]{3,7}-TMP|\d{5}[A-Z]{2}\d{3,7}(\-?\d{2})*)\z/
</code></pre>
<p>I am checking against below strings. The first and third should return a match I guess and second a no match. But I am not getting a match on all 3. Is my regex wrong?</p>
<pre><code>99844RI1800001
99806CAAUSJ-TMP1
99844RI1800002
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Python <code>re</code> does not support <code>\z</code>, it supports <code>\Z</code> as equivalent pattern matching the very end of the string. Your pattern requires the literal <code>z</code> char to be there at the end of the pattern.</p>
<p>See <a href="https://www.rexegg.com/regex-anchors.html#Z" rel="nofollow noreferrer">Rexegg.com</a> reference:</p>
<blockquote>
<p>âœ½ In Python, the token <code>\Z</code> does what <code>\z</code> does in other engines: it only matches at the very end of the string. </p>
</blockquote>
<p>Thus you may use</p>
<pre><code>\A(\d{5}[A-Z]{2}[a-zA-Z0-9]{3,7}-TMP|\d{5}[A-Z]{2}\d{3,7}(-?\d{2})*)\Z
</code></pre>
<p>See the <a href="https://regex101.com/r/q1LKIf/1" rel="nofollow noreferrer">regex demo</a></p>
<p>Note that starting with Python 3.6 you would even get an exception:</p>
<pre><code>re.error: bad escape \z at position 68
</code></pre>
<p>See <a href="https://docs.python.org/3/library/re.html#index-34" rel="nofollow noreferrer">Python <code>re</code> docs</a>:</p>
<blockquote>
<p>Changed in version 3.6: Unknown escapes consisting of <code>'\'</code> and an ASCII letter now are errors.</p>
</blockquote>
</div>
<span class="comment-copy">Python <code>re</code> does not support <code>\z</code>, it supports <code>\Z</code> as equivalent pattern</span>
<span class="comment-copy"><code>if not &lt;string&gt;.endswith('-TMP1'):</code> ?</span>
<span class="comment-copy">Thanks.. was stuck in this for so long :)</span>
