<div class="post-text" itemprop="text">
<p>I have a situation to remove the previous text in a line by finding the specific string.</p>
<p>I have a huge file and wish to delete some unwanted text.</p>
<p>Ex: I have a line as follows:</p>
<pre class="lang-none prettyprint-override"><code>&amp;$GNDTM,W84,,0.0,N,0.0,E,0.0,W84*71
 He    /  [A j  }    .   D   V   Fd     Y       $GLGSV,4,1,13,65,02,318,26,70,06,099,28,71,30,054,35,72,26,356,32*64
</code></pre>
<p>Here, I need to find a string <code>$G</code> and remove the unwanted characters behind it. I need a file to be like this.</p>
<pre class="lang-none prettyprint-override"><code>$GNDTM,W84,,0.0,N,0.0,E,0.0,W84*71
$GLGSV,4,1,13,65,02,318,26,70,06,099,28,71,30,054,35,72,26,356,32*64
</code></pre>
<p>Can someone help me with a python script?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <a href="https://docs.python.org/3/library/re.html#module-re" rel="nofollow noreferrer">re - module</a> for this task:</p>
<pre><code># create demo file
t = """&amp;$GNDTM,W84,,0.0,N,0.0,E,0.0,W84*71
 He    /  [A j  }    .   D   V   Fd     Y       $GLGSV,4,1,13,65,02,318,26,70,06,099,28,71,30,054,35,72,26,356,32*64"""

with open("f.txt" ,"w") as f:
    f.write(t)


# process demo file
import re

cleaned = []
r = r"^.*?(\$G.*)$"
with open ("f.txt") as f, open ("r.txt","w") as w:
    for l in f:
        m = re.search(r,l)
        if m:
            w.write(m.group(1).rstrip("\n")+"\n")

with open ("r.txt") as r:
    print(r.read())
</code></pre>
<p>Outputfile:</p>
<pre><code>$GNDTM,W84,,0.0,N,0.0,E,0.0,W84*71
$GLGSV,4,1,13,65,02,318,26,70,06,099,28,71,30,054,35,72,26,356,32*64
</code></pre>
<p>The regex <a href="https://docs.python.org/3/library/re.html#re.search" rel="nofollow noreferrer">searches</a> for all matches in a line starting with <code>$G</code> till the end of the line. If a <a href="https://docs.python.org/3/library/re.html#match-objects" rel="nofollow noreferrer">match</a> is found, writes it into new file.</p>
<p>The regexstring <code>^.*?(\$G.*)$</code> means:</p>
<pre><code>^   start of line  
  .*? as few anythings as possible
    ( start of captured group
      \$G  literal $ followed by G
      .* anything greedy
    ) end of captured group
$ end of line
</code></pre>
<p>You might need to add a crlf after your last line or integrate \Z. </p>
<p>Probably better to use youre real data and f.e.  <a href="http://regex101.com" rel="nofollow noreferrer">http://regex101.com</a></p>
</div>
<span class="comment-copy">Please don't use language tags other than the one actually used in the question, it's confusing and it will most likely attract downvotes.</span>
<span class="comment-copy">does each line start with $G? and if not is there a $G following that should be the start ofthe line?</span>
<span class="comment-copy">Most of the lines start with $G and some with the ASCII characters following with $G. So I need to delete the ASCII Characters before $G print</span>
<span class="comment-copy">globally, Find <code>(?m)^.+?(\$G)</code> replace <code>$1</code> I believe Python uses the sub function for this.</span>
<span class="comment-copy">could you use something like <a href="https://github.com/Knio/pynmea2" rel="nofollow noreferrer">github.com/Knio/pynmea2</a> to take care of the parsing?</span>
<span class="comment-copy">With some modifications on the script for my requirement. This script worked OK. The same method I tried using to find the regex and replace with "space" on Notepad++ that did not work anyway. Thanks for the script which worked OK.</span>
