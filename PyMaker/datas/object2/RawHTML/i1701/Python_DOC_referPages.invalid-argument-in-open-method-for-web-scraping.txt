<div class="post-text" itemprop="text">
<p>I am trying to scrape some data from the ancestry, I have a .net background but thought i'd try a bit of python for a project.
I'm falling at the first step, Firstly i am trying to open this page and then just print out the rows.</p>
<pre><code>from requests import get
from requests.exceptions import RequestException
from contextlib import closing
from bs4 import BeautifulSoup

raw_html = open('https://www.ancestry.co.uk/search/collections/britisharmyservice/? 
birth=_merthyr+tydfil-wales-united+kingdom_1651442').read()
html = BeautifulSoup(raw_html, 'html.parser')
for p in html.select('tblrow record'):
    print(p)
</code></pre>
<p>I am getting an illegal argument on open. </p>
</div>
<div class="post-text" itemprop="text">
<p>According to documentation, <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer"><code>open</code></a> is used to:</p>
<blockquote>
<p>Open [a] file and return a corresponding file object.</p>
</blockquote>
<p>As such, you cannot use it for downloading the HTML contents of a webpage. You probably meant to use <a href="http://docs.python-requests.org/en/master/api/#requests.get" rel="nofollow noreferrer"><code>requests.get</code></a> as follows:</p>
<pre><code>raw_html = get('https://www.ancestry.co.uk/search/collections/britisharmyservice/? 
birth=_merthyr+tydfil-wales-united+kingdom_1651442').text
# .text gets the raw text of the response 
# (http://docs.python-requests.org/en/master/api/#requests.Response.text)
</code></pre>
<p>Here are a few recommendation to improve your code as well:</p>
<ol>
<li><code>requests.get</code> provides many useful parameters, one of them being <code>params</code>, which allows you to provide the URL parameters in the form of a Python dictionary. </li>
<li>If you need to verify whether the request was successful before accessing its text, then just check if the returned <code>response.status_code == requests.codes.ok</code>. This only covers status code 200, but if you need more codes, then <code>response.raise_for_status</code> should be helpful.</li>
</ol>
</div>
<span class="comment-copy"><code>open</code> is used for files, not webpages. You probably meant to use <code>requests.get</code>.</span>
<span class="comment-copy">Ah, the tutorial I was following has it wrong then.</span>
