<div class="post-text" itemprop="text">
<p>I have a program where I ask the user their username and password, and it checks a file to see if they have the correct username and password. Each username and password is stored on its own line.</p>
<p>this is what I have</p>
<pre><code>if username and password in open("logininfo").read():
    print("logged in succesfully")
else:
    print("Incorrect username or password")
</code></pre>
<p>the problem i'm having with this is that any username can be used with any password since it check the whole file. Is there any way to check if they're on the same line in the file?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can easily make this function checking the file line by line</p>
<pre><code>def check_password(username, password, lines):
     for line in lines:
         if username in line and password in line:
             return True
     return False
</code></pre>
<p>And you can use this function this way:</p>
<pre><code>check_password(username, password, open(file_name).readlines())
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Iterate over <code>open('logininfo').readlines()</code> and check whether the username is in a line AND the password is in a line.</p>
<p>In <code>if username and password in open("logininfo")</code>, it checks whether string <code>username</code> is not empty or <code>None</code>, which is not intended, so you need to check both the username and the password separately like this:</p>
<pre><code>if (username in line) and (password in line):
    ...
</code></pre>
<p>Resources:</p>
<ul>
<li><a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer">Python 3 docs</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Note that your code does not do what you think it does. It doesn't check the username at all it only checks if the username is not "False".</p>
<p>This does what you want:</p>
<pre><code>def checkpw():
    for line in open("foobar"):
        if line == (username + " " + password):
            print("logged in succesfully")
            return
    print("Incorrect username or password")
</code></pre>
<p>but I strongly recommend that you use some sort of library for a task like this. You should probably at least be hashing your passwords. This code is a terrible idea.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can check it reading line by line. Don't forget to close the file or open it in a <code>with</code> statement to free resources when you finish.</p>
<pre><code>def check_user(user, password):
    with open('loginfo', 'r') as file:
        for line in file:
            if user in line and password in line:
                return True

    return False
</code></pre>
</div>
<span class="comment-copy">You'll simply have to read the file a line at a time, check the value, and break out of the loop when you find a match.  <i>(Python code left as an exercise to the reader.)</i></span>
<span class="comment-copy">I recommend making a Username =&gt; Password dict. Check if the username given by the user is in the dict. If it is, check if the password matches the dict value.</span>
