<div class="post-text" itemprop="text">
<p>Starting with a nested dictionary like this:</p>
<pre><code>my_dict = {"North America" : { "USA" : { "Virginia" : ["Norfolk","Richmond","Charlottesville"], "New York": ["Albany"]}, "Canada" : {"Saskatchewan": ["Saskatoon"], "New Brunswick":["Moncton","Saint John"]}}}

print(my_dict)
North America
    USA
        Virginia
            ['Norfolk', 'Richmond', 'Charlottesville']
        New York
            ['Albany']
    Canada
        Saskatchewan
            ['Saskatoon']
        New Brunswick
            ['Moncton', 'Saint John']
</code></pre>
<p>How can I take a list of strings like <code>[key1, key2]</code> and programmatically return the nested object <code>my_dict[key1][key2]</code> when I don't know how many keys there will be?  Examples:</p>
<pre><code>keys = ['North America', 'USA']
print(my_dict.???)
    Virginia
        ['Norfolk', 'Richmond', 'Charlottesville']
    New York
        ['Albany']

keys = ['North America', 'Canada', 'Saskatchewan']
print(my_dict.???)
    ['Saskatoon']

keys = ['North America', 'Canada']
print(my_dict.???)
    Saskatchewan
        ['Saskatoon']
    New Brunswick
        ['Moncton', 'Saint John']
</code></pre>
<p>Assume the "path" to the keys exists, but don't assume anything about depth in the structure.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can throw <code>functools.reduce</code> onto it.</p>
<pre><code>&gt;&gt;&gt; from functools import reduce
&gt;&gt;&gt;
&gt;&gt;&gt; my_dict = {"North America" : { "USA" : { "Virginia" : ["Norfolk","Richmond","Charlottesville"], "New York": ["Albany"]}, "Canada" : {"Saskatchewan": ["Saskatoon"], "New Brunswick":["Moncton","Saint John"]}}}
&gt;&gt;&gt; keys = ['North America', 'Canada']
&gt;&gt;&gt; reduce(dict.get, keys, my_dict)
&gt;&gt;&gt; {'New Brunswick': ['Moncton', 'Saint John'], 'Saskatchewan': ['Saskatoon']}
</code></pre>
<p>... or write your own function.</p>
<pre><code>def nest_get(dic, keys):
    result = dic
    for k in keys:
        result = result[k]
    return result
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; nest_get(my_dict, keys)
&gt;&gt;&gt; {'New Brunswick': ['Moncton', 'Saint John'], 'Saskatchewan': ['Saskatoon']}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/functools.html#functools.reduce" rel="nofollow noreferrer">reduce</a>:</p>
<pre><code>from functools import reduce

my_dict = {"North America": {"USA": {"Virginia": ["Norfolk", "Richmond", "Charlottesville"], "New York": ["Albany"]},
                             "Canada": {"Saskatchewan": ["Saskatoon"], "New Brunswick": ["Moncton", "Saint John"]}}}

keys = ["North America", "USA", "Virginia"]

result = reduce(lambda x, y : x.get(y), [my_dict] + keys)
print(result)
</code></pre>
<p><strong>Output</strong></p>
<pre><code>['Norfolk', 'Richmond', 'Charlottesville']
</code></pre>
</div>
<span class="comment-copy"><i>Avoid answering questions in comments.</i></span>
