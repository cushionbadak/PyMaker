<div class="post-text" itemprop="text">
<p>How do I preserve line breaks, tab, ...etc from a text? Currently, I can take out extra white spaces in the text document, along with that it also removes \n, \t, unicodes, ...etc. </p>
<pre><code>text = 'Hello world \n I wrote some random    text    here \t \n\n. I am trying      to remove extra whitespace but keep line breaks, tabs, ...etc'
text = re.sub( '\s+', ' ', text).strip()
print(text)
print(type(text))
</code></pre>
<p>I tried this but doesn't help. </p>
<pre><code>import textwrap
textwrap.wrap(text,80,replace_whitespace=True)
</code></pre>
<p>Current Output: </p>
<pre><code>Hello world I wrote some random text here . I am trying to remove extra whitespace but keep line breaks, tabs, ...etc
&lt;class 'str'&gt;
</code></pre>
<p>Needed Output:</p>
<pre><code>Hello world \n I wrote some random text here \t \n\n. I am trying to remove extra whitespace but keep line breaks, tabs, ...etc
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You told the regular expression to match <em>all whitespace</em>, not just spaces. Don't use <code>\s</code> if you only want to match spaces, use an actual space:</p>
<pre><code>text = re.sub(' +', ' ', text).strip()
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; text = 'Hello world \n I wrote some random    text    here \t \n\n. I am trying      to remove extra whitespace but keep line breaks, tabs, ...etc'
&gt;&gt;&gt; re.sub(' +', ' ', text).strip()
'Hello world \n I wrote some random text here \t \n\n. I am trying to remove extra whitespace but keep line breaks, tabs, ...etc'
</code></pre>
<p>From the <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="noreferrer"><em>Regular Expression Syntax</em> section of the <code>re</code> module documenation</a>, on the <code>\s</code> sequence meaning:</p>
<blockquote>
<p><code>\s</code> </p>
<p>Matches Unicode whitespace characters (which includes <code>[ \t\n\r\f\v]</code>, and also many other characters, for example the non-breaking spaces mandated by typography rules in many languages). If the ASCII flag is used, only <code>[ \t\n\r\f\v]</code> is matched.</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>re.split</code> and <code>join</code>:</p>
<pre><code>&gt;&gt;&gt; ' '.join(re.split(r'[ ]{2,}', text))
'Hello world \n I wrote some random text here \t \n\n. I am trying to remove extra whitespace but keep line breaks, tabs, ...etc'
</code></pre>
<p>The key element is the regex <code>[ ]{2,}</code> that splits on runs of actual <code>' '</code> space characters longer than 2 spaces long. </p>
<p>You can use the same regex with <code>re.sub</code>:</p>
<pre><code>&gt;&gt;&gt; re.sub(r'[ ]{2,}', ' ', text)
'Hello world \n I wrote some random text here \t \n\n. I am trying to remove extra whitespace but keep line breaks, tabs, ...etc'
</code></pre>
</div>
