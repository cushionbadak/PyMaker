<div class="post-text" itemprop="text">
<p>I'm trying to export some arabic in a csv file after getting it from the translater. I Always run into a problem when trying to write it in the CSV. The problem is this one : </p>
<pre><code>return codecs.charmap_encode(input,self.errors,encoding_table)[0]
UnicodeEncodeError: 'charmap' codec can't encode characters in position 2-7: character maps to &lt;undefined&gt;
</code></pre>
<p>My code goes as follow (a bit of it, trying to be concise here) : </p>
<pre><code>from bs4 import BeautifulSoup
import requests
import csv
from yandex_translate import YandexTranslate


csv_file = open("syno.csv", "w", newline = '')
csv_writer = csv.writer(csv_file)

 #making the request to the translater and so on, not written here, tell me if you need it but I don't think so. 

traduction =(translate.translate('bonjour', 'fr-ar'))

csv_writer.writerow([traduction["text"]])
csv_file.close()
</code></pre>
<p>When I build it in SublimeText with a print instead of the csvwriter, I get the result without problem.
It's only when I want to write in the csv that I get the issue. Any ideas on how to fix this? </p>
<p>I've seen Something about encoding or decoding it in UTF-8, but I don't know where to add this possibility</p>
<p>Thanks! </p>
</div>
<div class="post-text" itemprop="text">
<p>you can use UTF-8 by declaring it at the top of your code : </p>
<pre><code># -*- coding: &lt;encoding name&gt; -*-
</code></pre>
<p>then you can use utf-8 encoding/decoding.<br/>
UPDATE: Based on these answers you should change the other environments Unicode like your console.<br/>
[answer-1][1]<br/>
[answer-2][2]</p>
<p>try opening your file with UTF-8 encoding : </p>
<pre><code>csv_file = open("syno.csv", "w", encoding='utf-8', newline = '')
</code></pre>
</div>
<span class="comment-copy">Write file encoding goes in the <code>open</code> statement for that file: <a href="https://docs.python.org/3/howto/unicode.html#reading-and-writing-unicode-data" rel="nofollow noreferrer">docs.python.org/3/howto/â€¦</a></span>
<span class="comment-copy">I think the problem is not in Python, since it's working fine when I build it without writing in the csv.</span>
<span class="comment-copy">It's working, i was setting encoding("utf-8") instead of the = sign. Thank you!</span>
