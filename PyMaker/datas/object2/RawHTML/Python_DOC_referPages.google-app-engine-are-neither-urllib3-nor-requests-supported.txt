<div class="post-text" itemprop="text">
<p>I keep getting the following error when I deploy my google app:</p>
<blockquote>
<p>ERROR: (gcloud.app.deploy) An error occurred while parsing file:
  [/Users/app.yaml]the library "requests" is not supported</p>
</blockquote>
<p>I have changed it to urllib3, but still get the same error. Following is the app.yaml:</p>
<pre><code># entrypoint: main.py
# env: flex
# runtime: python

runtime: python27
api_version: 1
threadsafe: true
handlers:
- url: /static
  static_dir: static
- url: /.*
  script: main.app

libraries:
  - name: ssl
    version: latest
  - name: lxml
    version: latest
  - name: urllib3
    version: latest
  - name: flask
    version: latest
</code></pre>
<p>And the invocation of the library:</p>
<pre><code># from requests import get as rget 
from urllib3 import PoolManager
http = PoolManager()
query = some_query
# page = rget(query)
page = http.request('GET',query)
</code></pre>
<p>I can't seem to figure out what the issue could be. I have seen previous stack overflow answers which ask me to pip install in the lib, and add it to requirement.txt too, but none of these seem to make a difference.</p>
<p>Is there any other library that does exactly the same but is natively supported by google app engine ?</p>
</div>
<div class="post-text" itemprop="text">
<p>App Engine supports third party libraries in two ways in the standard Python 2.7 environment.</p>
<ul>
<li><a href="https://cloud.google.com/appengine/docs/standard/python/tools/built-in-libraries-27" rel="nofollow noreferrer">Built-in libraries</a>: these are automatically enabled in the cloud if <a href="https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27#using_a_built-in_third-party_library_bundled_with_the_runtime" rel="nofollow noreferrer">declared</a> in your <code>app.yaml</code> file.  You may need to install them locally with <code>pip</code> <a href="https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27#local_development" rel="nofollow noreferrer">to make them available in the dev server</a>.</li>
<li>Other third party libraries: these libraries must be <code>pip</code> installed into a folder in your application and uploaded as part of your deployment. The folder must be <a href="https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27#copying_a_third-party_library" rel="nofollow noreferrer">declared</a> in your <code>appengine_config.py</code>.  These libraries <strong>must not</strong> be declared in <code>app.yaml</code>, or you get the error you're reporting.</li>
</ul>
<p><code>requests</code> and <code>urllib3</code> are not included in the built-in libraries so you will need to:</p>
<ol>
<li><a href="https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27#copying_a_third-party_library" rel="nofollow noreferrer">Set up vendored libraries folder</a> in appengine_config.py</li>
<li><code>pip install -t &lt;your-lib-folder&gt; requests</code> (<code>urllib3</code> is installed as part of requests I believe).</li>
<li>Ensure <code>&lt;your-lib-folder&gt;</code> is uploaded when you deploy to the cloud. </li>
</ol>
</div>
