<div class="post-text" itemprop="text">
<p>I have to implement bubble sort as a homework and my python script has to look for 2 command line parameters:</p>
<p>-f  that specifies the file path of the input file that contains a number on each line that I have to sort using bubble sort;</p>
<p>-p that, if specified, tells the script to print the sorted list of numbers in the command line.</p>
<p>Also, I have to implement the algorithm <em>in situ</em>, which means I have to only use one list/array/etc without allocating any other temporary list/array/etc or variable to hold one or a part of all the numbers to sort in the algorithm. So, in my script, I only use <em>unsortedList</em> and nothing else to hold the numbers to sort. I have taken the bubble sort algorithm from the following link: <a href="https://stackoverflow.com/questions/895371/bubble-sort-homework">Bubble Sort Homework</a> .</p>
<p>Here is my script:</p>
<pre><code>import sys, getopt

def main(argv):
    inputFilePath = ""
    printList = False

    # Traitement pour parser les arguments
    try:
        opts, args = getopt.getopt(argv, "f:p")
    except getopt.GetoptError:
        usage()
        sys.exit()
    for opt, arg in opts:
        if opt in ("-f"):
            inputFilePath = arg
        if opt in ("-p"):
            printList = True

    inputFile = open(inputFilePath, "r")
    unsortedList = [line.rstrip('\n') for line in inputFile]

    sortedList = bubble(unsortedList)
    if printList == True:
        print (sortedList)

def usage():
    print ("""
    Usage: bubble.py -f &lt;filepath&gt; -p
           -f &lt;filepath&gt; [REQUIRED]: specifies the filepath of the input file
           -p            [OPTIONAL]: specifies whether to print the sorted list or not
    """)

# Function found at https://stackoverflow.com/questions/895371/bubble-sort-homework
def bubble(unsortedList):
    length = len(unsortedList) - 1
    isSorted = False

    while not isSorted:
        isSorted = True
        for i in range(length):
            if unsortedList[i] &gt; unsortedList[i+1]:
                isSorted = False
                unsortedList[i], unsortedList[i+1] = unsortedList[i+1], unsortedList[i]

    return unsortedList

if __name__ == "__main__":
    main(sys.argv[1:])
</code></pre>
<p>I am having 2 problems with my script:</p>
<p>First, if I do not specify the -f parameter, the script never runs the usage() function, it only tells "No such file or directory: ''". Why isn't my script running the usage() function? </p>
<p>Also, the bubble sort algorithm doesn't seem to work properly. If I run the script, the numbers aren't sorted properly. I can, for example, see 3998 before 403 in the list. But, I have noticed that the numbers ARE sorted, but only from the left of the numbers. For example, I can see 2553, 256, 2562. 256 is clearly not bigger than 2553, but if you take the number from the left, the third character from the left, 6, is bigger than the third character from the left of 2553, which is 5.</p>
<p>How can I solve those two problems?</p>
<p>Thanks for your help.</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>First, if I do not specify the -f parameter, the script never runs the usage() function, it only tells "No such file or directory: ''". Why isn't my script running the usage() function?</p>
</blockquote>
<p>getopt() doesn't know which flags are required and which are optional. It merely checks that you don't pass unspecified flags or omit an argument if a flag requires one with <code>:</code>.</p>
<p>It's up to you to check that <code>-f</code> is passed in if you require it.</p>
<hr/>
<blockquote>
<p>Also, the bubble sort algorithm doesn't seem to work properly. If I run the script, the numbers aren't sorted properly. I can, for example, see 3998 before 403 in the list. But, I have noticed that the numbers ARE sorted, but only from the left of the numbers.</p>
</blockquote>
<p>That's because your code is actually sorting strings rather than numbers, so it's putting them in <a href="http://en.wikipedia.org/wiki/Lexicographical_order" rel="nofollow">lexicographic order</a>. Try converting them to numbers when you read the file in:</p>
<pre><code>unsortedList = [int(line.rstrip('\n')) for line in inputFile]
                ^^^^                 ^
</code></pre>
<hr/>
<blockquote>
<p>Also, I have to implement the algorithm <em>in situ</em>, which means I have to only use one list/array/etc without allocating any other temporary list/array/etc or variable to hold one or a part of all the numbers to sort in the algorithm.</p>
</blockquote>
<p>In that case, I'd recommend removing the return statement from the bubble sort function. The best way to show that you're only using one array is not to create a second variable called <code>sortedList</code>.</p>
<pre><code>bubble(unsortedList)
</code></pre>
<p>If your bubble sort call is simply that, without the assignment, then it's clear you must be modifying the original array.</p>
</div>
<span class="comment-copy">First, is there a reason you're using <code>getopt</code>? <a href="http://docs.python.org/3/library/getopt.html" rel="nofollow noreferrer">The docs</a> explicitly say that, "Users who are unfamiliar with the C <code>getopt()</code> function or who would like to write less code and get better help and error messages should consider using the <code>argparse</code> module instead." You're obviously not an old hand with C <code>getopt</code>, so why would you use this cryptic, C-style module in Python instead of the one it recommends?</span>
<span class="comment-copy">Second, don't put two completely separate problems together into a single question. Pick one and ask about just that. Or, even better, just post two separate questions. (You can add links between the two of them to make it obvious they're about the same code.) You'll get better answers, and twice the rep to boot.</span>
<span class="comment-copy">Finally, please try to reduce what you post to a <a href="http://stackoverflow.com/help/mcve">Minimal, Complete, Valid Example</a> that includes just enough code to show the problem you want fixed, not your entire program.</span>
<span class="comment-copy">The reason I am using getOpt is because that is what I have read about when looking online. I am new to Python and thought that was what I had to use to check for parameters and flags. Thanks for pointing the argparse module to me, I will take a look at that.</span>
<span class="comment-copy">In general, whenever you're using a Python standard library module, at least skim over the docs. They often have nice short explanations or good examplesâ€”and that's also how you find out when you're using something that has a better replacement.</span>
<span class="comment-copy">Thanks a lot for your help!</span>
<span class="comment-copy">+1 for the last section about returning <code>None</code> from an in-situ function, just like standard <code>list.sort</code>. (Well, not +1 because I already gave you +1 and can't give you more, but you know what I mean.)</span>
