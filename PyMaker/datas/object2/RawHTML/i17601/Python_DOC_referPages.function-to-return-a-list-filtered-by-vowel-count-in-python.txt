<div class="post-text" itemprop="text">
<p>I need to write a function for returning a list by filtering it by vowel count.</p>
<p>I tried this but output is incorrect:</p>
<pre><code>def filter_by_vowel_count(input, count):

    for words in input:
        for p in words:
            if p in 'aeiou':
                value +=1
                if value == count:
                    list1.append(words)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="http://docs.python.org/3/library/functions.html#sum" rel="nofollow"><code>sum</code></a> and generator expression:</p>
<pre><code>&gt;&gt;&gt; def filter_by_vowel_count(words, count):
...     result = []
...     for word in words:
...         if sum(p in 'aeiou' for p in word) == count:
...             result.append(word)
...     return result
...
&gt;&gt;&gt; fruits = ['banana', 'apple', 'lemon', 'pineapple', 'coconut']
&gt;&gt;&gt; filter_by_vowel_count(fruits, 2)
['apple', 'lemon']
&gt;&gt;&gt; filter_by_vowel_count(fruits, 3)
['banana', 'coconut']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>words = [] # list of strings
vowels = "aeiou"
filter(lambda x: sum(x.count(c) for c in vowels) == count, words )
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I can greatly simplify your life using the built-in <code>collections.Counter</code> class:</p>
<pre><code>from collections import Counter

def filter(fruits, num):
    num_of_vowels = [sum([c[k] for k in 'aeiou']) for c in [Counter(f) for f in fruits]] 
    return [f for i,f in enumerate(fruits) if num_of_vowels[i]==num]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using regex:</p>
<pre><code>import re
def filter( ls, c ):
    find = [ (s,len(re.findall("[aeiou]", s))) for s in ls ]
    return [ x for x in find if x[1] == c ]

fruits = ['banana', 'apple', 'lemon', 'pineapple', 'coconut']
print filter(fruits, 2)
print filter(fruits, 3)
</code></pre>
<p>Output:</p>
<pre><code>[('apple', 2), ('lemon', 2)]
[('banana', 3), ('coconut', 3)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your problems are with indentation, resetting and returning:</p>
<pre><code>for words in input:
    value = 0 # reset vowel count
    for p in words:
        if p in 'aeiou':
            value +=1
    if value == count: # should be outside for loop
        list1.append(words)
return list1 # return the new list
</code></pre>
<p>As others have pointed out, there are also neater ways to achieve what you want.</p>
</div>
<span class="comment-copy">Can you give an example input and desired outcome ?</span>
<span class="comment-copy">That regex should be <code>[aeiou]</code>. Pipes in a character class are interpreted as literal characters.</span>
<span class="comment-copy">thank you, edited.</span>
