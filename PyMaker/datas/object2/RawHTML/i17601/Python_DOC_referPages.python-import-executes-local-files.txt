<div class="post-text" itemprop="text">
<p>Hi i am new to python and i want to understand the following in detail:</p>
<p>I've written a script, say 'foo.py', which uses the python html parser, i.e.</p>
<pre><code>#!/usr/lib/python
from html.parser import HTMLParser    # &lt;-- executes ./tokenize.py ?!
...
</code></pre>
<p>Accidentally, in the current directory lies an other python script called 'tokenize.py'. By executing foo.py, the import line triggers tokenize.py to be executed as well. I guess the local directory has priority and the html.parser module has a tokenize.py as well...</p>
<p>But what exactly happens?</p>
<p>And what is a proper way to avoid such conflicts in the future?</p>
<p>thx</p>
<p>EDIT: I run python 3.3.2</p>
</div>
<div class="post-text" itemprop="text">
<p>You are right, <a href="http://docs.python.org/3/tutorial/modules.html#the-module-search-path" rel="nofollow">modules in the current directory are loaded first</a>.</p>
<p>The proper way to avoid this is always importing your modules by full name. In your case, in <code>html.parser</code> you should import <code>tokenize</code> like this:</p>
<pre><code>from html.parser import tokenize
</code></pre>
<p>Instead of:</p>
<pre><code>import tokenize
</code></pre>
<p>If <code>html.parser</code> is an external module which you don't control, just rename your <code>tokenize.py</code> to something else, e.g.:</p>
<pre><code>from html.parser import tokenize as ext_tokenize
</code></pre>
</div>
<span class="comment-copy">What version of Python are you running? Try this before your imports :<code>from __future__ import absolute_import</code></span>
<span class="comment-copy">I don't yet understand this relative and absolute import business, but <code>from __future__ import absolute_import</code> doesn't change anything.</span>
<span class="comment-copy">Sorry @gmoktop that was before you said python3.</span>
<span class="comment-copy">Ok, I see the point, but I don't import <code>tokenize</code> at all. How should I know what <code>HTMLParser</code> pulls in?</span>
<span class="comment-copy">@gmoktop If you got this error it means that <code>HTMLParser</code> indeed imports <code>tokenize</code>. You can always look at its source code and validate this.</span>
<span class="comment-copy">Ok, i did some search. The only solutions I found are  1) edit the module search sys.path 2) make sure that there are no name conflicts Both are not very satisfactory..</span>
