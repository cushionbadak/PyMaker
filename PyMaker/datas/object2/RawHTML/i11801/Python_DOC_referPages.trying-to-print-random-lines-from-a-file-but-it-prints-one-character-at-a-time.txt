<div class="post-text" itemprop="text">
<p>This is probably something so simple. I'm scripting something to print random lines from a file but it prints one character at a time. Here is the code.</p>
<pre><code>from twython import Twython, TwythonError
import random, time

filename = open('test.txt')
line = random.choice(filename.readlines())
filename.close()

for line in line:
print line
</code></pre>
<p>Any help is definitely appreciated. I'm a beginner so it honestly is probably something simple.</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem here is that <code>random.choice</code> will return a string. And in effect you are iterating over a string. What you should do is call <code>split()</code> after you call <code>random.choice</code> so you end up with a list of words instead of a string. Then your iteration will work as expected.</p>
<p>Also, you really should not iterate like this:</p>
<pre><code>for line in line
</code></pre>
<p>Change your iterator: </p>
<pre><code>for word in line
</code></pre>
<p>Also, it would be good practice to get used to using <a href="https://docs.python.org/3/library/contextlib.html" rel="nofollow">context managers</a> when handling files. e.g.:</p>
<pre><code>with open(some_file) as f:
    # do file actions here
</code></pre>
<p>So, your final solution would look like:</p>
<pre><code>import random

with open('new_file.txt') as f:
    line = random.choice(f.readlines()).split()

for word in line:
    print(word)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>random.choice</code> will return only on element at a time, you have to use <code>shuffle</code> instead:</p>
<pre><code>from twython import Twython, TwythonError
import random, time

filename = open('test.txt')
lines = filename.readlines()
filename.close()

random.shuffle(lines)

for line in lines:
    print line
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>A couple things, first thing is readability:</p>
<pre><code>for line in line
    print line #which line do you mean?
</code></pre>
<p>Now, </p>
<pre><code>line = random.choice(filename.readlines())
</code></pre>
<p>Will just give you a random line in the file, it won't give you all the lines in a random order.</p>
<p>You can shuffle the array with a simple call</p>
<pre><code>import random

filename = open('new_file.txt')

lines = filename.readlines()

random.shuffle(lines)

for line in lines:
    print line
</code></pre>
<p>You can also keep randomly taking items out of the array until it is empty</p>
<pre><code>import random

filename = open('new_file.txt')

lines = set( filename.readlines() )

while( len(lines) != 0 ):
    choice = random.choice(list(lines))
    print(choice)
    lines.remove(choice)
</code></pre>
<p>This answer may be helpful: <a href="https://stackoverflow.com/questions/306400/how-do-i-randomly-select-an-item-from-a-list-using-python">randomly selecting from array</a></p>
</div>
<span class="comment-copy">You're the best! Works like a charm. Thanks!</span>
<span class="comment-copy">You forgot to instruct the OP to use <code>with</code> for the file instead of <code>open</code>/<code>close</code> directly.</span>
<span class="comment-copy">@jpmc26 didn't forget, was just trying to focus on OP immediate issue, but it's a good suggestion. Thanks. Added.</span>
<span class="comment-copy">I went ahead and made these changes like you suggested. I am trying to make it loop infinitely but it does not seem like it's working.  while 1 == 1: 	Code 	time.sleep(10)  but it wont loop</span>
<span class="comment-copy">Why are you trying to make it run infinitely? Based on what you are trying to do, the corrections made, it should be all you need?</span>
<span class="comment-copy">good point, I'll fix it.</span>
