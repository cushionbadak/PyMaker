<div class="post-text" itemprop="text">
<p>I am dealing with weird problem. Consider this simple code: </p>
<pre><code>print(__file__)
print("***" + os.path.dirname(__file__) + "###")
</code></pre>
<p>now when I run this code on my laptop, where I have Fedora 23 OS, the output is: </p>
<pre><code>/home/.../ExperimentalSystem/BullshitSetupGenerator.py
***/home/.../ExperimentalSystem###
</code></pre>
<p>running the same code on Ubuntu 15.10:</p>
<pre><code>BullshitSetupGenerator_delete_me.py
***###
</code></pre>
<p>can anybody explain me why? Am I missing something? </p>
</div>
<div class="post-text" itemprop="text">
<p>You probably don't want to purely rely on the <code>__file__</code> attribute, but you ensure you have a full path <code>abspath</code>:</p>
<pre><code>os.path.dirname(os.path.abspath(__file__))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>__file__</code> is defined by the argument given to Python that tells it what your file is.  For example, let's say you are in a folder called <code>Here</code>.  You could say <code>python ../Here/here.py</code>, and <code>__file__</code> would be <code>../Here/here.py</code>.  If you ran the same file with just <code>python here.py</code>, <code>__file__</code> is <code>here.py</code>.  When you run the Python file in the same directory without using either an absolute path or a weird relative path, the file will not have any directories mentioned.  That means that <code>os.dirname(__file__)</code> will be blank.  If you want, you can get the absolute path with <a href="https://docs.python.org/3/library/os.path.html#os.path.abspath" rel="nofollow"><code>os.path.abspath()</code></a>.</p>
</div>
<span class="comment-copy">There is no inconsistency in the dirname function.  The inconsistency is in <code>__file__</code></span>
<span class="comment-copy">Is the inconsistency with <code>dirname</code> or with <code>__file__</code>?  My guess would be the latter.  Are you running the code with the same relative path in both places?  And finally, to get consistent behavior, I suppose you could use <code>os.path.dirname(os.path.abspath(__file__))</code></span>
<span class="comment-copy">it's with <b>file</b>, true.</span>
