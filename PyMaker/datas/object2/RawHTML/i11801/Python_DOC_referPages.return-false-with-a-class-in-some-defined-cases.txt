<div class="post-text" itemprop="text">
<p>I would like to know if there is a way to configure a class that return False in some specific cases. What makes empty strings and empty lists return False ? How to reproduce that pattern with my own conditions (for example, return False when an attribute of that class equal a defined value) ?</p>
<p>An example to illustrate what I'm looking for :</p>
<pre><code>class Foo():
  def__init__(self, value):
    self.value=value

# I would like that the class Foo return False if his value equal 0.

a = Foo(1)
b = Foo(0)

for each in [a,b]:
  if each : print( "The value isn't 0 :)" )
  else : print( "The value is 0..." )
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For Python 3, you need <a href="https://docs.python.org/3/reference/datamodel.html#object.__bool__" rel="nofollow"><code>__bool__</code></a> method. For Python 2, you need <a href="https://docs.python.org/2/reference/datamodel.html#object.__nonzero__" rel="nofollow"><code>__nonzero__</code></a>.</p>
<pre><code>class Foo():
  def __init__(self, value):
    self.value = value

  def __bool__(self):
    return self.value != 0

a = Foo(1)
b = Foo(0)

for each in [a,b]:
  if each : print( "The value isn't 0 :)" )
  else : print( "The value is 0..." )
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Implement the <code>__bool__</code> method like this.</p>
<pre><code>def __bool__(self):
    return flag
    # the flag is derived from the state of some attributes
    # which reflects the semantics of the object being truthy / falsy 
</code></pre>
</div>
<span class="comment-copy">Perfect ! Thank's !</span>
