<div class="post-text" itemprop="text">
<p>I am trying to read a file and convert the string to a <code>UTF-8</code> string, in order to remove some non <code>utf-8</code> chars in the file string,</p>
<pre><code>file_str = open(file_path, 'r').read()
file_str = file_str.decode('utf-8')
</code></pre>
<p>but I got the following error,</p>
<pre><code>AttributeError: 'str' object has no attribute 'decode'
</code></pre>
<p>Update: I tried the code as suggested by the answer,</p>
<pre><code>file_str = open(file_path, 'r', encoding='utf-8').read()
</code></pre>
<p>but it didn't eliminate the non <code>utf-8</code> chars, so how to remove them? </p>
</div>
<div class="post-text" itemprop="text">
<p>Remove the <code>.decode('utf8')</code> call. Your file data has <em>already</em> been decoded, because in Python 3 the <code>open()</code> call with text mode (the default) returned a file object that decodes the data to Unicode strings <em>for you</em>.</p>
<p>You probably <em>do</em> want to add the encoding to the <code>open()</code> call to make this explicit. Otherwise Python uses a system default, and that may not be UTF-8:</p>
<pre><code>file_str = open(file_path, 'r', encoding='utf8').read()
</code></pre>
<p>For example, on Windows, the default codec is almost certainly going to be wrong for UTF-8 data, but you won't see the problem until you try to read the text; you'd find your have a <a href="https://en.wikipedia.org/wiki/Mojibake" rel="noreferrer">Mojibake</a> as the UTF-8 data is decoded using CP1252 or a similar 8-bit codec.</p>
<p>See the <a href="https://docs.python.org/3/library/functions.html#open" rel="noreferrer"><code>open()</code> function documentation</a> for further details.</p>
</div>
<span class="comment-copy">are you using python 3? In which case all strings are already unicode objects. You don't need to decode.</span>
<span class="comment-copy">You are using Python 3; <code>open()</code> returned a file object that <i>already decoded to Unicode</i> for you. Python 3 <code>str</code> is the Unicode type, it has no <code>decode()</code> method because you can't decode Unicode any further.</span>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/26125141/str-object-has-no-attribute-decode-in-python3">'str' object has no attribute 'decode' in Python3</a></span>
<span class="comment-copy">For coding matters...Please do mention Python version or tag it accordingly ..</span>
