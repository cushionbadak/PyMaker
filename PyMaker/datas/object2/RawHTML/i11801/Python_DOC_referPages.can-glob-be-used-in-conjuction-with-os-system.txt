<div class="post-text" itemprop="text">
<p>I need to run a command prompt command on a few files in a folder (.apk's). I used glob successfully to print out multiple text files in a directory but when I use it with os.system nothing happens. I used the command line command I want to use via os.system on a single file (.apk) successfully as well. Any help? </p>
</div>
<div class="post-text" itemprop="text">
<pre><code>import os
import glob
for filename in glob.glob('*.apk'):
    os.system("java -Xmx4g -cp soot-trunk.jar;soot-infoflow.jar;soot-infoflow-android.jar;slf4j-api-1.7.5.jar;s‌​lf4j-simple-.7.5.jar;axml-2.0.jar soot.jimple.infoflow.android.TestApps.Test C:\\Users\\Admin\\Downloads\\DroidBench-master\\DroidBench-master\\apk\\nf\\%s C:\\Users\\Admin\\Downloads\\EnSoft\\EnSoft\\android-sdk\\platforms" % filename)
</code></pre>
<p>Try doing this. In your code the word "filename" in the os.system() argument does not get replaced with a filename found by glob. It should work by using string formatting syntax.</p>
</div>
<div class="post-text" itemprop="text">
<p>Why not just use the <a href="https://docs.python.org/3/library/glob.html" rel="nofollow">glob library</a>? and then use the output with os.system:</p>
<pre><code>import glob

for file in glob.glob("*.apk"):
    os.system("do_thing " + file)
</code></pre>
</div>
<span class="comment-copy">It is not very clear what might be wrong. Can you show us the code of what works and what not. Have you also tried using the subprocess.call() method? It is the 'newer' version of os.system().</span>
<span class="comment-copy">Working Glob: import glob for filename in glob.glob('*.txt'): 	txt=open(filename) 	print(txt.read())</span>
<span class="comment-copy">Working os.system: import os os.system("java -Xmx4g -cp soot-trunk.jar;soot-infoflow.jar;soot-infoflow-android.jar;slf4j-api-1.7.5.jar;slf4j-simple-.7.5.jar;axml-2.0.jar soot.jimple.infoflow.android.TestApps.Test C:\\Users\\Admin\\Downloads\\DroidBench-master\\DroidBench-master\\apk\\InterComponentCommunication\\ActivityCommunication1.apk C:\\Users\\Admin\\Downloads\\EnSoft\\EnSoft\\android-sdk\\platforms")</span>
<span class="comment-copy">The conjunction which does NOT work:  import os import glob for filename in glob.glob('*.apk'): 	os.system("java -Xmx4g -cp soot-trunk.jar;soot-infoflow.jar;soot-infoflow-android.jar;slf4j-api-1.7.5.jar;slf4j-simple-.7.5.jar;axml-2.0.jar soot.jimple.infoflow.android.TestApps.Test C:\\Users\\Admin\\Downloads\\DroidBench-master\\DroidBench-master\\apk\\nf\\filename C:\\Users\\Admin\\Downloads\\EnSoft\\EnSoft\\android-sdk\\platforms")</span>
<span class="comment-copy">Ok I see what went wrong. In the code that does not work the word "filename" in the os.system() call does not get replaced with the filename you want it to replace.</span>
<span class="comment-copy">Nah it isn't working. The command is for a tool that takes the path of an apk file as the first argument and the path to the platforms directory of android-sdks as the other argument. Having a %s  in the first argument causes problem here</span>
<span class="comment-copy">Oops I had the code set to search for *.py files (as a test on my computer) but I have now edited it to search for *.apk again so try copy pasting it again. The %s gets replaced with the filename found in glob before os.system is called.</span>
<span class="comment-copy">I had tried it already with .apk when you posted it first. Doesn't work</span>
<span class="comment-copy">Alright then the only thing that I can further add; make sure that the glob command finds any filenames (check it by printing the filename in python) and that the absolute path to the directory is correct.</span>
<span class="comment-copy">Made it work now:    import glob import os for filename in glob.glob('C:\\Users\\Admin\\Downloads\\DroidBench-master\\DroidBench-master\\apk\\AndroidSpecific\*.apk'): 	print(filename) 	os.system("java -Xmx4g -cp soot-trunk.jar;soot-infoflow.jar;soot-infoflow-android.jar;slf4j-api-1.7.5.jar;slf4j-simple-1.7.5.jar;axml-2.0.jar soot.jimple.infoflow.android.TestApps.Test %s C:\\Users\\Admin\\Downloads\\EnSoft\\EnSoft\\android-sdk\\platforms &gt;out1.txt 2&gt;&amp;1" %filename) 	 Path needed to be added in the glob check.</span>
<span class="comment-copy">Well the command I want to use has two arguments out of which only 1 is the filename (which would be 'file' as per your comment), so there is some problem using it that way. You can see my comment on the first comment to have a look at it</span>
