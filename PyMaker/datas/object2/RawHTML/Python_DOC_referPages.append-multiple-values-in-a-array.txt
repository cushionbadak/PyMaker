<div class="post-text" itemprop="text">
<p>'I am trying to fetch deals data from Hubspot, I am trying to fetch dealid and deal name in this example to simplify the question but later I will more properties. I have the following code that gives me an array of dealIds and one array of deal names. I could I make it that instead of multiple arrays I get the following instead:</p>
<p><code>{{12345,'deal1'}, {12346,'deal2'}, {12347,'deal3'}}</code></p>
<p>or something like:</p>
<p><code>{{'dealId': 12345, 'dealname' : 'deal1'}}</code></p>
<p>This is my code so far:</p>
<pre><code>deals = []
names = []

def getdeals():
    apikey = "demo"
    url = 'https://api.hubapi.com/deals/v1/deal/paged?hapikey='+apikey+'&amp;properties=dealname&amp;limit=250'
    response = requests.get(url)
    jsonDeals = response.json()

    for deal in jsonDeals['deals']:
       properties = deal['properties']
       deals.append(deal['dealId'])
       names.append(properties['dealname']['value'])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You already have the data in json. Its just how you want to map and store it.</p>
<pre><code>output={}
def getdeals():
    apikey = "demo"
    url = 'https://api.hubapi.com/deals/v1/deal/paged?hapikey='+apikey+'&amp;properties=dealname&amp;limit=250'
    response = requests.get(url)
    jsonDeals = response.json()

    for deal in jsonDeals['deals']:
       properties = deal['properties']
       output.update({deal['dealId']: properties['dealname']['value']})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This can be solved using list comprehension:</p>
<pre><code>[{'dealId':deal['dealId'],'dealname':deal['properties']['dealname']['value']} for deal in jsonDeals['deals']]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>AS E.Serra suggested deal_obj = {'dealname': properties['dealname']['value'], 'dealid':deal['dealId']} solved the issue.</p>
<p>here is the updated code:</p>
<pre><code>%%time
deals = []

def getdeals():
    apikey = "demo"
    url = 'https://api.hubapi.com/deals/v1/deal/paged?hapikey='+apikey+'&amp;properties=dealname&amp;limit=250'
    response = requests.get(url)
    jsonDeals = response.json()

    for deal in jsonDeals['deals']:
       properties = deal['properties']
       deal_obj = {'dealname': properties['dealname']['value'], 'dealid':deal['dealId']}
       deals.append(deal_obj)
</code></pre>
</div>
<span class="comment-copy">you already have those things in the json you are getting back. If you want dealname deal id just do deal_obj = {'dealname': properties['dealname']['value'], 'dealid':deal['dealId']}. But I don't see the opoint</span>
<span class="comment-copy">What does the <code>jsonDeals</code> look like? Should be worth adding them to the description so we can have a better idea of how we can help format the JSON response</span>
