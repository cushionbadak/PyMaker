<div class="post-text" itemprop="text">
<p>How do I write a string of bytes to a file, in byte mode, using python?</p>
<p>I have:</p>
<pre><code>['0x28', '0x0', '0x0', '0x0']
</code></pre>
<p>How do I write 0x28, 0x0, 0x0, 0x0 to a file? I don't know how to transform this string to a valid byte and write it.</p>
</div>
<div class="post-text" itemprop="text">
<p>Map to a <code>bytearray()</code> or <code>bytes()</code> object, then write that to the file:</p>
<pre><code>with open(outputfilename, 'wb') as output:
    output.write(bytearray(int(i, 16) for i in yoursequence))
</code></pre>
<p>Another option is to use the <a href="http://docs.python.org/3/library/binascii.html#binascii.unhexlify" rel="noreferrer"><code>binascii.unhexlify()</code> function</a> to turn your hex strings into a <code>bytes</code> value:</p>
<pre><code>from binascii import unhexlify

with open(outputfilename, 'wb') as output:
    output.write(unhexlify(''.join(format(i[2:], '&gt;02s') for i in b)))
</code></pre>
<p>Here we have to chop off the <code>0x</code> part first, then reformat the value to pad it with zeros and join the whole into one string.</p>
</div>
<div class="post-text" itemprop="text">
<p>In Python 3.X, <code>bytes()</code> will turn an integer sequence into a bytes sequence:</p>
<pre><code>&gt;&gt;&gt; bytes([1,65,2,255])
b'\x01A\x02\xff'
</code></pre>
<p>A generator expression can be used to convert your sequence into integers (note that <code>int(x,0)</code> converts a string to an integer according to its prefix.  <code>0x</code> selects hex):</p>
<pre><code>&gt;&gt;&gt; list(int(x,0) for x in ['0x28','0x0','0x0','0x0'])
[40, 0, 0, 0]
</code></pre>
<p>Combining them:</p>
<pre><code>&gt;&gt;&gt; bytes(int(x,0) for x in ['0x28','0x0','0x0','0x0'])
b'(\x00\x00\x00'
</code></pre>
<p>And writing them out:</p>
<pre><code>&gt;&gt;&gt; L = ['0x28','0x0','0x0','0x0']
&gt;&gt;&gt; with open('out.dat','wb') as f:
...  f.write(bytes(int(x,0) for x in L))
...
4
</code></pre>
</div>
