<div class="post-text" itemprop="text">
<p>I'm trying to write a Python code that will allow me to take in text, and read it line by line. In each line, the words just go into the dictionary as a key and the numbers should be the assigned values, as a list. 
 the file 'topics.txt' will be composed of hundreds of lines that have the same format as this:</p>
<pre><code>1~cocoa
2~
3~
4~
5~grain~wheat~corn~barley~oat~sorghum
6~veg-oil~linseed~lin-oil~soy-oil~sun-oil~soybean~oilseed~corn~sunseed~grain~sorghum~wheat
7~
8~
9~earn
10~acq
</code></pre>
<p>and so on..
i need to create dictionaries for each word
for ex:
Ideally, the name "grain" would be a key in the dictionary, and the values would be dict[grain]: [5,6,..].
similarly,
"cocoa" would be another key and values would be 
dict[cocoa]:[1,..]
Not much,but so far..</p>
<pre><code>with open("topics.txt", "r") as fi:  # Data read from a text file is a string
    d = {}
    for i in fi.readlines():
        temp = i.split()
        #i am lost here
        num = temp[0]
        d[name] = [map(int, num)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="http://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow">http://docs.python.org/3/library/collections.html#collections.defaultdict</a></p>
<pre><code>import collections

with open('topics.txt') as f:
    d = collections.defaultdict(list)
    for line in f:
        value, *keys = line.strip().split('~')
        for key in filter(None, keys):
            d[key].append(value)
</code></pre>
<p><code>value, *keys = ...</code> is <a href="http://www.python.org/dev/peps/pep-3132/" rel="nofollow">Extended Iterable Unpacking</a> which is only available in Python 3.x.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>with open("topics.txt", "r") as file:  # Data read from a text file is a string
    dict = {}
    for fullLine in file:
        splitLine = fullLine.split("~")
        num = splitLine[0]
        for name in splitLine[1:]:
            if name in dict:
                dict[name] = dict[name] + (num,)
            else
                dict[name] = (num,)
</code></pre>
</div>
<span class="comment-copy">You have explained your goal, but you don't seem to have asked any questions. What is your question?</span>
<span class="comment-copy">i am not able to create the dictionaries</span>
<span class="comment-copy">Note that the <code>value, *keys = ...</code> syntax works in Python 3 only.</span>
<span class="comment-copy">@nooodl, This question is tagged with <code>python-3.x</code>.</span>
<span class="comment-copy">It is, but I thought that'd be a useful little piece of information nonetheless (what if someone stumbled upon this question and wondered why this answer didn't work for them?)</span>
<span class="comment-copy">+1 for the use of <code>filter</code></span>
<span class="comment-copy">@nooodl, I added a link to  Extended Iterable Unpacking. Thank you for your advice.</span>
<span class="comment-copy">Look more carefully: The same word occurs on multiple lines. Your code doesn't handle that.</span>
<span class="comment-copy">@alexis Thanks, I didn't notice that.</span>
