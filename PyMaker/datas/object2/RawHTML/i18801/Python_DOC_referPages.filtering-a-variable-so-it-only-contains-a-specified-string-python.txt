<div class="post-text" itemprop="text">
<p>I am trying to make link crawler in python; I know about harvestman but that's not what I am looking for. Here is what I have so far:</p>
<pre><code>import httplib, sys

target=sys.argv[1]
subsite=sys.argv[2]
link = "http://"+target+subsite

def spider():
    while 1:
        conn = httplib.HTTPConnection(target)
        conn.request("GET", subsite)
        r2 = conn.getresponse()
        data = r2.read().split('\n')
        for x in data[:]:
            if link in x:
                print x
spider()
</code></pre>
<p>But I cant seem to find a way to filter x, so I can retrieve the links.</p>
</div>
<div class="post-text" itemprop="text">
<p>I think would work</p>
<pre><code>import re
re.findall("href=([^ &gt;]+)",x)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you're going down that route, then you can start with installing <code>requests</code> and <code>bs4</code> to make life easier - and start your own spider template based on:</p>
<pre><code>import requests
from bs4 import BeautifulSoup

page = requests.get('http://www.google.com')
soup = BeautifulSoup(page.text)
# Find all anchor tags that have an href attribute
print [a['href'] for a in soup.find_all('a', {'href': True})]
# ['http://www.google.co.uk/imghp?hl=en&amp;tab=wi', 'http://maps.google.co.uk/maps?hl=en&amp;tab=wl', 'https://play.google.com/?hl=en&amp;tab=w8', 'http://www.youtube.com/?gl=GB&amp;tab=w1', 'http://news.google.co.uk/nwshp?hl=en&amp;tab=wn', 'https://mail.google.com/mail/?tab=wm', 'https://drive.google.com/?tab=wo', 'http://www.google.co.uk/intl/en/options/', 'http://www.google.co.uk/history/optout?hl=en', '/preferences?hl=en', 'https://accounts.google.com/ServiceLogin?hl=en&amp;continue=http://www.google.co.uk/', '/advanced_search?hl=en-GB&amp;authuser=0', '/language_tools?hl=en-GB&amp;authuser=0', 'https://www.google.com/intl/en_uk/chrome/browser/promo/cubeslam/', '/intl/en/ads/', '/services/', 'https://plus.google.com/103583604759580854844', '/intl/en/about.html', 'http://www.google.co.uk/setprefdomain?prefdom=US&amp;sig=0_cYDPGyR7QbF1UxGCXNpHcrj09h4%3D', '/intl/en/policies/']
</code></pre>
</div>
<span class="comment-copy">You may want to use an <a href="http://docs.python.org/3/library/html.parser.html" rel="nofollow noreferrer">html parser</a> to locate anchor tags and extract their <code>href</code> attributes.</span>
<span class="comment-copy">What about: <a href="http://scrapy.org/" rel="nofollow noreferrer">scrapy.org</a> ?</span>
<span class="comment-copy">can you give me an example of an HTML parser? like most people I am not used to using HTML in python XD</span>
<span class="comment-copy">@JonClements I know about scrapy; I am having too many errors with it so far</span>
<span class="comment-copy">not really working; i get the HTML tag stuck at the end like this <code>['"http://www.thisislegal.com/user/Backbite"&gt;&lt;font']</code></span>
<span class="comment-copy">I edited the anser before you posted that ...</span>
<span class="comment-copy">working, now all I have to do is convert it to a string...</span>
<span class="comment-copy">cant import requests, anyways I am sticking with Joran Beasly's answer.</span>
