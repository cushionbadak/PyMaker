<div class="post-text" itemprop="text">
<p>I'd like to retrieve files' name of a directory and I use the method <code>ftplib.retrlines('NLST' + path)</code>.</p>
<p>It prints all files' names in the directory <code>path</code>. But I want to store those files' names in a container, e.g., a list, instead of printing them in the console. How to do that ?  </p>
</div>
<div class="post-text" itemprop="text">
<p>The second (optional) argument to the <a href="https://docs.python.org/3/library/ftplib.html#ftplib.FTP.retrlines" rel="nofollow noreferrer"><code>FTP.retrlines</code></a> is a <code>callback</code>.</p>
<pre><code>FTP.retrlines(command[, callback])
</code></pre>
<p>You can use it like:</p>
<pre><code>lines = []
sess.retrlines('NLST ' + path, lines.append)
</code></pre>
<p>See also <a href="https://stackoverflow.com/q/9969247/850848">Creating list from retrlines in Python</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use FTP.nlst() method. It returns the file names as a list.</p>
<pre><code>&gt;&gt;&gt; FTP.nlst('path')
['x','y','z']
</code></pre>
</div>
<span class="comment-copy">thank god for this answer</span>
