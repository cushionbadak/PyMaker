<div class="post-text" itemprop="text">
<p>I've got this bit of code for class I'm in but I can't figure out why I'm returning NaN.</p>
<p>I've never used the math module before.</p>
<p>Here is the code:</p>
<pre><code>import random as rndm
import math
# helper function to start and restart the game
def get_guesses(low, high):
    global guesses
    #x = low - high + 1
    #guesses = math.log(x, 2)
    guesses = math.log(low - high + 1, 2)
    return guesses

def new_game():
    global secret_number, guesses, first
    if first:
        first = False
        secret_number = rndm.randrange(0, 100)
        guesses = get_guesses(0, 99)
    print guesses
    print secret_number
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>math.log(low - high + 1, 2)
</code></pre>
<p>You pass <code>low = 0</code> and <code>high = 99</code> so the equation is lower than zero: <code>0 - 99 + 1 = -98</code>.</p>
<p>The logarithm of negative numbers is in the <a href="https://en.wikipedia.org/wiki/Complex_plane" rel="nofollow">complex number plane</a>, which is not supported by the <code>math</code> module (it deals with real numbers only).</p>
<p>So what you get is a value error:</p>
<pre><code>&gt;&gt;&gt; math.log(0 - 99 + 1, 2)
Traceback (most recent call last):
  File "&lt;pyshell#51&gt;", line 1, in &lt;module&gt;
    math.log(0 - 99 + 1, 2)
ValueError: math domain error
</code></pre>
<hr/>
<p>If you wanted to work with complex numbers, you could use the <a href="https://docs.python.org/3/library/cmath.html" rel="nofollow"><code>cmath</code></a> module:</p>
<pre><code>&gt;&gt;&gt; import cmath
&gt;&gt;&gt; cmath.log(0 - 99 + 1, 2)
(6.614709844115209+4.532360141827194j)
</code></pre>
<p>But I doubt that is really what you’re going for here ;)</p>
</div>
<span class="comment-copy">The <code>guesses</code>  value really shouldn't be both a global and a return value. Make up your mind. :)</span>
<span class="comment-copy">Good point!!! Thank you! (:</span>
<span class="comment-copy">Rule of thumb: if you are using the global keyword your program structure is wrong.</span>
<span class="comment-copy">You are calculating the logarithm of a negative number. Though I'd think that would throw ValueError rather than returning NaN.</span>
<span class="comment-copy">Ricky, I'm learning. I know I shouldn't be using them but I'm still trying to grasp most of the concepts!! I'm not doing it just to do it! lol</span>
<span class="comment-copy">How am I getting a negative when I don't subtract anything from high and add one?</span>
<span class="comment-copy">@acollection_ I think I explained that part? <code>low</code> is 0, and <code>high</code> is 99, and you are doing <code>low - high + 1</code> which is <code>0 - 99 + 1 = -98</code>. You probably meant to subtract <code>low</code> from <code>high</code> instead: <code>high - low + 1 = 99 - 0 + 1 = 100</code>.</span>
<span class="comment-copy">Yessss. I understand now. Sorry, it's been along night, hahaha. I reversed the numbers and once I realized what I had done, I came back and noticed that you actually told me what the problem was, hahaha. Thank you sir!!</span>
<span class="comment-copy">And now I understand the math module more! So thank you for that also (:</span>
<span class="comment-copy">You’re welcome, glad I could help :) Please remember to <a href="http://meta.stackexchange.com/a/5235/141542">accept the answer</a> if it solved your problem to mark the question as resolved.</span>
