<div class="post-text" itemprop="text">
<p>Why does the following <code>string1</code> regexp not match? I have tested it using <a href="https://regex101.com/" rel="nofollow" title="this">this</a> and it appears my regex-fu is accurate, so I figure I must be missing something in the python implementation:</p>
<pre><code>import re
pattern = r".*W([0-9]+(\.5)?)[^\.]?.*$"
string1 = '6013-SFR6W4.5'
string2 = '6013-SFR6W4.5L'
print(re.match(pattern, string1)) # the return value is None
print(re.match(pattern, string2)) # this returns a re.match object
</code></pre>
<p><a href="http://imgur.com/gWn1XnE" rel="nofollow" title="here">Here</a> is a screenshot of an interactive session showing this issue.</p>
<p><strong>EDIT</strong></p>
<p>sys.version outputs 3.4.3</p>
</div>
<div class="post-text" itemprop="text">
<p>In the code you posted, you have:</p>
<pre><code>pattern = r".*W([0-9]+(\.5)?)[^\.]?.*$"
</code></pre>
<p>But in the code from your screenshot, you have</p>
<pre><code>pattern = r".*W([0-9]+(\.5)?)[^\.]+.*$"
</code></pre>
<p>(Note the <code>?</code> near the end of the first pattern is replaced with a <code>+</code> in the second one)</p>
</div>
<div class="post-text" itemprop="text">
<p>When I run the code you provided, I get return values on both:</p>
<pre><code>$ python3 test.py
&lt;_sre.SRE_Match object at 0x6ffffedc3e8&gt;
&lt;_sre.SRE_Match object at 0x6ffffedc3e8&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I've tried the exact same code and I have a match for both cases:</p>
<p>python3.4:</p>
<pre><code>Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 23 2015, 02:52:03) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import re
&gt;&gt;&gt; pattern = r".*W([0-9]+(\.5)?)[^\.]?.*$"
&gt;&gt;&gt; string1 = '6013-SFR6W4.5'
&gt;&gt;&gt; print(re.match(pattern, string1))
&lt;_sre.SRE_Match object; span=(0, 13), match='6013-SFR6W4.5'&gt;
&gt;&gt;&gt; string2 = '6013-SFR6W4.5L'
&gt;&gt;&gt; print(re.match(pattern, string2))
&lt;_sre.SRE_Match object; span=(0, 14), match='6013-SFR6W4.5L'&gt;
</code></pre>
<p>python 2.7:</p>
<pre><code>Python 2.7.6 (default, Sep  9 2014, 15:04:36) 
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import re
&gt;&gt;&gt; pattern = r".*W([0-9]+(\.5)?)[^\.]?.*$"
&gt;&gt;&gt; string1 = '6013-SFR6W4.5'
&gt;&gt;&gt; print(re.match(pattern, string1))
&lt;_sre.SRE_Match object at 0x10abf83e8&gt;
&gt;&gt;&gt; string2 = '6013-SFR6W4.5L'
&gt;&gt;&gt; print(re.match(pattern, string2))
&lt;_sre.SRE_Match object at 0x10abf83e8&gt;
</code></pre>
<p>Try use <code>pattern = r"^.*W([0-9]+(\.5)?)[^\.]?.*$"</code>, with <code>^</code>at the beginning.</p>
</div>
<span class="comment-copy">I, too, get results on both strings. What is the output of <code>python --version</code>?</span>
<span class="comment-copy">Ok, the screenshot I uploaded shows a typo in my pattern, I had a "+" after the [^\.] should I delete this question?</span>
<span class="comment-copy">What if you use: <code>pattern = r"^.*W([0-9]+(\.5)?)[^\.]?.*$"</code> ? Do you still get <code>None</code>?</span>
<span class="comment-copy">Yes that works.</span>
<span class="comment-copy">Great! Going to update the answer, you're missing the <code>^</code> at the beginning of <code>pattern</code> definition.</span>
<span class="comment-copy">but it is followed by a "*" meaning that the "." must be matched "zero or more times".  According to <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">docs.python.org/3/library/re.html</a></span>
<span class="comment-copy">@wesanyer: Sorry, you're right. But now that I've tested it, it seems like your code works fine.</span>
