<div class="post-text" itemprop="text">
<p>I started creating an array, then i referenced its element with lists. Now I want to print the entire array (this is: all the lists on the array), i created a function "show" and "show array" but always print the last element of the array</p>
<p>IN:</p>
<pre><code>class Test:
    pass

def read(v, r):
    n = len(v)
    for i in range(0, n):
        v[i] = r
        v[i].number= 5+i
        v[i].name = i*2
        v[i].author = i+6
        v[i].genre = i*3
        v[i].quantity = i+2


def show_array(v):
    n = len(v)
    for i in range(0, n):
        show(v[i])


def show(reg):
    print(reg.number, end=' ; ')
    print(reg.name, end=' ; ')
    print(reg.author, end=' ; ')
    print(reg.genre, end=' ; ')
    print(reg.quantity)

def menu():

    v = 2 * [None]


    t= Test()
    read(v, t)

    show_array(v)


menu()
</code></pre>
<p>OUT:</p>
<pre><code>6 ; 2 ;  7 ;  3 ;  3
6 ; 2 ;  7 ;  3 ;  3
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>No, you are showing all elements of the array. They are all pointing to the <em>same object</em> so when you alter the object in your <code>read</code> loop, you change the object everywhere. You need to create a new <code>Test</code> object for each place in your array.</p>
</div>
<div class="post-text" itemprop="text">
<p>Because this is only one t.
First value is always coverd by last value.</p>
<p>You can write "print (v[i].name)" in "for" of "read()" and you can see the diffrence.
You should create a new t.</p>
</div>
<div class="post-text" itemprop="text">
<p>I am not a python expert but u can try to make use of isinstance() this may help you to print all the values of a specified list by comparing the array value with list.If it is a list then print that particular list elements.If it is not a list then print the normal array value.</p>
<p><a href="https://infohost.nmt.edu/tcc/help/pubs/python/web/isinstance-function.html" rel="nofollow">https://infohost.nmt.edu/tcc/help/pubs/python/web/isinstance-function.html</a></p>
</div>
<span class="comment-copy">FWIW, your "array" <code>v</code> is a list, so calling it an <a href="https://docs.python.org/3/library/array.html" rel="nofollow noreferrer">array</a> is a bit confusing.</span>
<span class="comment-copy">Pass <code>r=Test</code> and say <code>v[i] = r()</code> to create a new instance of <code>Test</code></span>
<span class="comment-copy">I did what you say Peter and worked. Thank you!</span>
<span class="comment-copy">You were right, I delete "t = Test()" and in "for" of "read" I put "v[i] = Test()" directly and worked :). Thanks!</span>
<span class="comment-copy">I added a print in "read()" but seems ok. OUT: 5; 0; 6; 0; 2 6; 2; 7; 3; 3</span>
