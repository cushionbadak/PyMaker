<div class="post-text" itemprop="text">
<p>How to get the correspondent currency symbol by a given currency alpha-3 code name using locale in python?</p>
<p>I am doing:</p>
<pre><code>import locale, re
def get_currency_symbol(alpha_3='USD'):
    locales_all = locale.locale_alias.values()
    for l in locales_all:
        try:
            try:
                locale.setlocale(locale.LC_ALL, l)
            except NameError:
                l = re.sub('\..*$','.utf8',l) # On Linux the file are normally
                                              # finished with '.utf8'.
                locale.setlocale(locale.LC_ALL, l)

            conv=locale.localeconv()
            if conv['int_curr_symbol'] == alpha_3.upper():
                return conv['currency_symbol']
        except:
            pass
    return None
</code></pre>
<p>But I am getting problem with the locale names:</p>
<blockquote>
<p>locale.Error: unsupported locale setting</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>The documentation of <code>setlocale()</code> says that if given a locale argument, it should either be the name of the locale or an iterable containing both parts of the alias.
So either change the line that fetches the locales to: </p>
<pre><code>locales_all = locale.locale_alias.keys()
</code></pre>
<p>or change the line that sets it to:</p>
<pre><code>locale.setlocale(locale.LC_ALL, l.split('_'))
</code></pre>
<p>(but don't do both of course :) )</p>
<p>The first approach is better, the second might need more refinement to work with all locale aliases.</p>
<p>More info in the <a href="https://docs.python.org/3/library/locale.html" rel="nofollow noreferrer">documentation</a></p>
</div>
<span class="comment-copy">Can you be more specific on what "problem" you're getting?</span>
<span class="comment-copy">locale.Error: unsupported locale setting every time, I can iterative search by the string.</span>
<span class="comment-copy">But I still not getting if a look for 'EUR' or 'BRL', just search by 'USD'. Is because my system haven't this location file infos?</span>
<span class="comment-copy">@hildogjr. after changing values() to keys() (first approach in my answer) your code produces the right answers to 'BRL' and 'EUR' on my system. If you are not sure about your system you can in your itteration print each locale and both its currency name and symbols without conditions just to see what you are gettings (or use a debugger and have a look while it's running)</span>
