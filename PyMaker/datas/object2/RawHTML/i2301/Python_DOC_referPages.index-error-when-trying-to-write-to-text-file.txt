<div class="post-text" itemprop="text">
<p>I'm writing a program to list the Fibonacci numbers up to <code>n=21</code> and to write them to  a txt file in the format:</p>
<pre><code>n  Fn  
0  0  
1  1  
2  1  etc
</code></pre>
<p>I have managed to print out all the numbers but i am having trouble writing them to the file.</p>
<p>My code is:</p>
<pre><code>import numpy as np

def fib(n):
    if n &lt;= 1:
       return n
    else:                      
       return fib(n-1) + fib(n-2)

n = 22

for i in range(n):   
    print(i, fib(i))

np.savetxt('fibonacci.txt',fib(i), header =" n Fn")
</code></pre>
<p>I am also aware that this code would only write the values of Fn but i dont know how to write to the file in the format i'm looking for</p>
<p>At the moment this code gives me the error:</p>
<blockquote>
<p>IndexError: tuple index out of range</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>You need to save array data to file, while using np.savetext function.
Try this one:</p>
<pre><code>import numpy as np

def fib(n):
    if n &lt;= 1:
       return n
    else:                      
       return fib(n-1) + fib(n-2)

n = 22

data = []
for i in range(n):
    row = []
    row.append(i)
    row.append(fib(i))
    data.append(row)

print(data)

np.savetxt('fibonacci.txt',data, header =" n Fn")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I'm going to pretend like this isn't a homework assignment.</p>
<p>In python, the more <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer">typical way to write text to a file</a> would be something along the lines of:</p>
<pre><code>with open('myfile.txt', 'w') as F:
    F.write('n\tFn\n')
    for i in range(n):
        F.write('{}\t{}\n'.format(i, fib(i)))
</code></pre>
<p>Also, your <code>fib</code> function should use <a href="https://en.wikipedia.org/wiki/Memoization" rel="nofollow noreferrer">memoization</a>, or if you want to totally side-step the assignment and learn nothing, use the <a href="https://en.wikipedia.org/wiki/Fibonacci_number#Closed-form_expression" rel="nofollow noreferrer">closed form</a>.</p>
</div>
<span class="comment-copy">You cannot use <code>np.savetxt</code> to save numbers to a file.</span>
<span class="comment-copy">I do not get your error running this code, instead I get <code>ValueError: Expected 1D or 2D array, got 0D array instead</code>, which makes sense given the fact that <code>np.savetxt</code> takes a <code>1D</code> or <code>2D</code> array as input.</span>
