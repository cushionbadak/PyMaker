<div class="post-text" itemprop="text">
<p>I need help manipulating values in an XML file with Python.</p>
<p>The XML looks like this, but with even more plants:</p>
<pre><code>&lt;CATALOG&gt;
    &lt;PLANT&gt;
        &lt;COMMON&gt;Bloodroot&lt;/COMMON&gt;
        &lt;BOTANICAL&gt;Sanguinaria canadensis&lt;/BOTANICAL&gt;
        &lt;ZONE&gt;4&lt;/ZONE&gt;
        &lt;LIGHT&gt;Mostly Shady&lt;/LIGHT&gt;
        &lt;PRICE&gt;2.44&lt;/PRICE&gt;
        &lt;AVAILABILITY&gt;031599&lt;/AVAILABILITY&gt;
    &lt;/PLANT&gt;
    &lt;PLANT&gt;
        &lt;COMMON&gt;Columbine&lt;/COMMON&gt;
        &lt;BOTANICAL&gt;Aquilegia canadensis&lt;/BOTANICAL&gt;
        &lt;ZONE&gt;3&lt;/ZONE&gt;
        &lt;LIGHT&gt;Mostly Shady&lt;/LIGHT&gt;
        &lt;PRICE&gt;9.37&lt;/PRICE&gt;
        &lt;AVAILABILITY&gt;030699&lt;/AVAILABILITY&gt;
    &lt;/PLANT&gt;
    &lt;PLANT&gt;
        &lt;COMMON&gt;Marsh Marigold&lt;/COMMON&gt;
        &lt;BOTANICAL&gt;Caltha palustris&lt;/BOTANICAL&gt;
        &lt;ZONE&gt;4&lt;/ZONE&gt;
        &lt;LIGHT&gt;Mostly Sunny&lt;/LIGHT&gt;
        &lt;PRICE&gt;6.81&lt;/PRICE&gt;
        &lt;AVAILABILITY&gt;051799&lt;/AVAILABILITY&gt;
    &lt;/PLANT&gt;
&lt;/CATALOG&gt;
</code></pre>
<p>I need to be able to change the  value based on the  value. </p>
<p>I have this so far:</p>
<pre><code>    if tree.find('.//COMMON').text == 'Bloodroot':
    tree.find('.//PRICE').text = '3.50'
</code></pre>
<p>This code works, but that's only because it's the first block. If I do this nothing happens:</p>
<pre><code>if tree.find('.//COMMON').text == 'Columbine':
    tree.find('.//PRICE').text = '3.50'
</code></pre>
<p>Can someone point me the right direction here? How do I change the price values for all the plants based on the 'COMMON' value. I've also tried some different things with looping through the xml file with no luck.</p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>As the <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.find" rel="nofollow noreferrer">documentation for find</a> says, it stops at the first node it finds. You need to iterate over the parent node to find all of them, and check the value. Here is an example.</p>
<pre><code>from xml.etree import ElementTree

with open("data.xml", "rb") as fo:
    root = ElementTree.parse(fo)

for plantnode in root.findall("PLANT"):
    if plantnode.find("COMMON").text == "Columbine":
        pricenode = plantnode.find("PRICE")
        print(pricenode.text)
        pricenode.text = '3.50'
        print(pricenode.text)
</code></pre>
</div>
