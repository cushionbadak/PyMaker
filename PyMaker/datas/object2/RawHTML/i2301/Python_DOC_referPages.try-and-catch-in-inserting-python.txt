<div class="post-text" itemprop="text">
<p>I am just thinking how to do try and catch with it, what i am trying to achieve is like this:</p>
<pre><code>try:
dbSession.execute(
        "INSERT INTO users (username, email, password) VALUES (:username, :email, :password)",
        {"username": reg_form.username.data, "email":  reg_form.email.data, "password": hashed_password}
    )
    dbSession.commit()

    return jsonify({'success': 'OK'})
except e:
    return jsonify({'error': e})
</code></pre>
<p>in js, error is passed automatically, but in python i see samples like this,</p>
<pre><code>except ValueError:
</code></pre>
<p>is it possible to pass the e automatically in python?</p>
</div>
<div class="post-text" itemprop="text">
<p>you do <code>except ValueError:</code> if you want to differentiate your <code>catches</code> based on the <code>Error</code> you are getting. Here, you catch a <code>ValueError</code> if you expect an <code>int</code>, but get a <code>str</code> for example.</p>
<p>But you can just keep it generic if you want by doing <code>except:</code>.</p>
<p>As pointed out in Maor Refaeli's comment, you can name your exception <code>as e</code> if you like.</p>
<p>you can read more about python exceptions on <a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">this link right here</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to catch that Exception First. So here you need to catch the exception <code>ValueError</code> and you can write the error return message to the variable <code>e</code>.</p>
<pre><code>except ValueError as e:
    return jsonify({'error': e})
</code></pre>
<p>Which is what this code does. Or if you donot want to catch a specific Exception you could just.</p>
<pre><code>except Exception as e:
    return jsonify({'error': e})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can print or return the Value error as below:</p>
<pre><code> except ValueError as err:
        print(f"Failed - {err}")
</code></pre>
<p>OR</p>
<pre><code> except ValueError as err:
        return jsonify({'error': err})
</code></pre>
</div>
<span class="comment-copy">Do you mean <code>except ValueError as e</code>? Also, <a href="https://docs.python.org/2/howto/doanddont.html#except" rel="nofollow noreferrer">you should not use bare exception</a>. use <code>except Exception</code> or <code>except BaseException</code> if you aware of what you try to catch.</span>
