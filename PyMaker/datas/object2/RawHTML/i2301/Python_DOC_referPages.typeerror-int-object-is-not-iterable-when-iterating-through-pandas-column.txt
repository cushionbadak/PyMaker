<div class="post-text" itemprop="text">
<p>I have a simple use case. I want to read a text file into a pandas file and iterate through the unique <strong><em>id</em></strong> s to plot a <strong><em>x-y graph</em></strong>.
Worked for me fine at many other projects but now i get the <code>TypeError: 'int' object is not iterable</code>. 
At first I got <code>TypeError: 'numpy.float64' object is not iterable</code>that is why I changed the type of <em>id</em> to <em>int</em> (see code). But that does not work either. I do not see why. Any ideas?</p>
<pre><code>f = open(file,"r+")
with open(file,"r+") as f1:
    data10 = f1.read()
    TESTDATA = StringIO(data11)
df = pd.read_table(TESTDATA, sep=" ")
df.columns = ["x", "y", "id"]

#Astype because i got the error TypeError: 'numpy.float64' object is not iterable
df.id = df.id.astype(int)

#get unique values of column id
list1=df['id'].tolist()
list1=list(set(list1))
fig, ax = plt.subplots()
for i ,g in list1:
    x = df[df.id==i]['x']
    y = df[df.id==i]['y']
    g.plot(x='x',y='x', marker='o', ax=ax, title="Evaluation")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>IMHO, your code reduces to</p>
<pre><code>df = pd.read_table(file, sep=" ")

fig, ax = plt.subplots()
grpd = df.groupby('id')
for i, g in grpd:
    g.plot(x='x',y='y', marker='o', ax=ax, title="Evaluation")
</code></pre>
<p><strong><em>Explanation:</em></strong><br/>
I'll step through the code step by step:</p>
<pre><code>f = open(file,"r+")
</code></pre>
<p><strong>can be deleted</strong> you don't need to open a file before you open it in a <code>with</code>-block<br/>
But <em>if</em> you open it this  way, do not forget to <em>close</em> it after you don't need it anymore.</p>
<pre><code>with open(file,"r+") as f1:
    data10 = f1.read()
    TESTDATA = StringIO(data11)
</code></pre>
<p><strong>can be deleted</strong><br/>
1. weird usage of data10, data11 (it will not work) and StringIO (way too complicated)<br/>
2. see next code line</p>
<pre><code>df = pd.read_table(file, sep=" ") 
</code></pre>
<p><strong>OK</strong> if you replace <code>TESTDATA</code> simply by <code>file</code>, pandas is very powerful at importing files of different flavours...</p>
<pre><code>df.columns = ["x", "y", "id"]
</code></pre>
<p><strong>OK</strong> if your file doesn't have already it's own header which would fit your needs, which I'd recommend to check perhaps ...</p>
<pre><code>#Astype because i got the error TypeError: 'numpy.float64' object is not iterable
df.id = df.id.astype(int)
</code></pre>
<p><strong>can be deleted</strong>  because your error has nothing to do with that, as I stated in my comment yesterday</p>
<pre><code>#get unique values of column id
list1=df['id'].tolist()
list1=list(set(list1))
</code></pre>
<p><strong>can be deleted</strong>  if you want unique values of a column in pandas, use <code>df['id'].unique()</code>, but you don't need to do everything manually here, as for the target you want to achieve there is <code>groupby</code>:</p>
<pre><code>grpd = df.groupby('id')  
</code></pre>
<p>This returns a groupby-object, which indeed provides you with groupname <em>and</em> group data when you iterate over it, so your loop with two variables would work here:  </p>
<pre><code>fig, ax = plt.subplots()
for i, g in grpd:
    g.plot(x='x',y='x', marker='o', ax=ax, title="Evaluation")
</code></pre>
<p>and to be complete: your extra</p>
<pre><code>x = df[df.id==i]['x']
y = df[df.id==i]['y']
</code></pre>
<p><strong>can be deleted</strong>, too, because this is also included in the idea behind grouping. (And btw, you didn't even use it in your code...)</p>
<p><strong>In the end</strong> I'd recommend you to read the very basics of Python and pandas, especially file io <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files</a> and pandas grouping <a href="https://pandas.pydata.org/pandas-docs/stable/groupby.html" rel="nofollow noreferrer">https://pandas.pydata.org/pandas-docs/stable/groupby.html</a></p>
</div>
<span class="comment-copy">Can you tell me what data10 and data11 are?</span>
<span class="comment-copy">what are you expecting g will contain in for i,g in list1: .. ?</span>
<span class="comment-copy">Sorry, but this code never ever worked fine anywhere. I have to be as clear as that, because I really thought about how to answer your question and realized, that I didn't even know where to start... You can get help here, but two things from your side please: be honest and show some effort by yourself.</span>
<span class="comment-copy">That said, your error message is thrown because you try to use two variables in a for-loop over a simple list. But a simple list provides only one whatever per iteration, so this is wrong. Throw away the <code>, g</code> in the for loop.</span>
<span class="comment-copy">However, the next error will come soon... Use <code>ax.plot()</code> instead of <code>g.plot()</code>. And why do you plot only your x data, but thst over <code>x</code> <i>and</i> <code>y</code>?</span>
