<div class="post-text" itemprop="text">
<pre><code>import os 

import sys

import numpy as np

from proteinss import ProteinSS

map_dssp_3_alphabet = {"H":1,"I":1,"G":1,"E":2,"B":2,"T":3,"S":3, "_":3, "?":3}
map_dssp_8_alphabet = {"H":1,"I":2,"G":3,"E":4,"B":5,"T":6,"S":7, "_":8, "?":8}

def extract_file(ss_file):
    print ("Extracting :"), ss_file

fi = open(ss_file, 'rU')
seq_string = ""
ss_string  = ""
alignments = []
for line in fi:
    if line.startswith("RES:"):
       seq_string = line.split(":")[1].rstrip('\n')

    if line.startswith("DSSP:"):
       ss_string = line.split(":")[1].rstrip('\n')

    if line.startswith("align"):
       alignment = line.split(":")[1].rstrip('\n')
       alignments.append( alignment.split(",")[0:-1] )

seq_l = seq_string.split(",")[0:-1]
ss_l  = ss_string.split(",")[0:-1]

prot = ProteinSS(seq_l, ss_l)

for al_ in alignments:
    prot.add_alignment(al_)

return prot


def prepare_db(cb513_path, db_ofile, db_classes, wsize, alphabet):
    fo1 = open(db_ofile, 'w')
    fo2 = open(db_classes, 'w')


for root, dirs, files in os.walk(cb513_path):
    for name in files:
        if name.endswith(( ".all" )):
            ss_file = root + "/" + name
            prot = extract_file ( ss_file )
            if prot.is_valid():
                s1, s2 = prot.get_db_strings(wsize, map_dssp_3_alphabet, True)
                fo1.write(s1)
                fo2.write(s2)

fo1.close()
fo2.close()


if __name__ == "__main__":
    cb513_path = '../data/CB513'
    classes_ofile   = "../data/db/ss_a3.dat" 

window_width = int( sys.argv[5] ) 
db_ofile = "../data/db/aa_w" + str(window_width) + "_a3.dat"

if sys.argv[2] == "3":
    alphabet = map_dssp_3_alphabet
elif sys.argv[2] == "8":
    alphabet = map_dssp_8_alphabet
else:
    print ("Alphabet not recognized: choose between 3 or 8")
    sys.exit(1)

pubs_data = prepare_db(cb513_path, db_ofile, classes_ofile, window_width, alphabet)
</code></pre>
<p>I am getting error at :</p>
<blockquote>
<p>window_width = int( sys.argv[5] )</p>
<p>IndexError: list index out of range</p>
</blockquote>
<p>When I am trying to run the code using spyder the coding is showing an error list out of range error, should I change the dimensions which are specified or use any other function? </p>
<p>It's one of the codes that I am using for protein secondary structure prediction, this is in particular is used to create the database . </p>
<p>The <code>IndexError</code> is one of the more basic and common exceptions found in Python, as it is raised whenever attempting to access an index that is outside the bounds of a list, is it because I am trying to access something outside the bound of the list. </p>
<p>How do I fix the above?</p>
</div>
<div class="post-text" itemprop="text">
<p>sys.argv is defined as a list in Python, which contains the command-line arguments passed to the script when you are going to execute any program.</p>
<p>You can check the passed argument while executing the list simply by printing length of sys.argv at start of the program.</p>
<p>Include below line at start of program:</p>
<pre><code>print(len(sys.argv))
</code></pre>
<p>as from command line if I am executing below program in command line as</p>
<pre><code>python demo.py 
</code></pre>
<p>then length of the sys.argv will be 1 and value of <strong>sys.argv[0]</strong> will be <strong>demo.py</strong>.</p>
<p>After checking this can modify the sys.argv index value as per your need.
Hope this will solve your problem.</p>
<p><strong>P.S. in your program this line is written wrong:</strong></p>
<pre><code>print ("Extracting :"), ss_file
</code></pre>
<p>correct it as </p>
<pre><code> print ("Extracting :"+ ss_file)
</code></pre>
</div>
<span class="comment-copy"><code>sys.argv[5]</code> isn't large enough to have an element at position 5. Are you running your command with all of the arguments this script expects?</span>
<span class="comment-copy">Remove all your code except the line causing the error and run the script again. Tell us the command you use to run the script. See how to create a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a>. Oh, and Welcome to Stack Overflow (c:</span>
<span class="comment-copy">@ Shadow , yes I am running with all the arguments within the script.</span>
<span class="comment-copy">@ Peter wood , thanks !!</span>
<span class="comment-copy">See <a href="https://stackoverflow.com/questions/4117530/sys-argv1-meaning-in-script">this question</a> about how to use <a href="https://docs.python.org/3/library/sys.html#sys.argv" rel="nofollow noreferrer"><b><code>sys.argv</code></b></a></span>
