<div class="post-text" itemprop="text">
<p>I have script in remote device and I want to run specific function in python script in  remote device</p>
<p>remote device has below script: </p>
<pre><code>#connect.py

class ConnectDevice:
    def __init__(self, ip):
        connect.Device(ip)
    def get_devicestate(self):
        state = show.Device_State  
        return state
</code></pre>
<h1>configured password less connection from source machine to remote machine</h1>
<p>function get_devicestate return up or down.</p>
<p>How to get get_devicestate output from source machine. source machine has below script:</p>
<pre><code>import os
import sys
import time
import getpass
import errno
import json
import subprocess
import threading
from subprocess import call
from subprocess import check_output
call(["ssh", "1.1.1.1", "\"python Connect.py\""])#This is just example how to run script from source to remote. Need help how to run function get_devicestate and get value. 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>At a first glance , it seems that connect.py has got more code than you have pasted in your question. Anyways, assuming connect.py does not require any input parameters to run, simply use subprocess's check_output method to get the stdout message and store it in a variable for further use.</p>
<pre><code>from subprocess import check_output
out = check_output(["ssh", "1.1.1.1", "\"python Connect.py\""])
</code></pre>
</div>
<span class="comment-copy">Have a look at the <code>-c</code> switch of <code>python</code>. It lets you feed in a script via the command line.</span>
<span class="comment-copy">Hi MisterMiyagi, I did not get your statement, Can you explain</span>
<span class="comment-copy">How to pass argument IP to script connect.py?</span>
<span class="comment-copy">if you want to pass the variable IP on the command line , then you will have to write the script in such a away that it accepts command line arguments. This can easily be done using argparse library for python. Documentation can be found at <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html</a></span>
