<div class="post-text" itemprop="text">
<p>I want to copy files that have specific date. I can filter out the date. Copying makes problems.</p>
<pre><code>import os
from os import walk
import time
from datetime import date, timedelta
import zipfile
import io
import shutil

src = 'K:\\Userfiles'
dest = 'L:\\Userfiles'
date1 = date.today() - timedelta(2)

for root, dirs, files in os.walk(src):

  for file in files:
      if ( 'zip' in file):
        x = file[-18:-8]
        d = date1.strftime('%Y-%m-%d')
        if x == d:

            shutil.copyfile(file, dest)
</code></pre>
<blockquote>
<p><strong>ERROR is:</strong> FileNotFoundError: [Errno 2] No such file or directory.</p>
<p>Traceback (most recent call last):<br/>
  File "C:/Python37/datetime_finder.py", line 28, in  shutil.copyfile(file, 'K:\Userfiles\Ucar\UNZIP')<br/>
  File "C:\Python37\lib\shutil.py", line 120, <br/>in copyfile with open(src, 'rb') as fsrc: FileNotFoundError: [Errno 2] No such file or directory: 'getContents_2019-01-27.csv.zip</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>Taken from <a href="https://docs.python.org/3/library/shutil.html#shutil.copyfile" rel="nofollow noreferrer">https://docs.python.org/3/library/shutil.html#shutil.copyfile</a></p>
<blockquote>
<p><code>shutil.<b>copyfile</b>(<i>src</i>, <i>dst</i>, <i>*</i>, <i>follow_symlinks=True</i>)</code></p>
<p>Copy the contents (no metadata) of the file named <em><code>src</code></em> to a file named <em><code>dst</code></em> and return <em><code>dst</code></em>. <em><code>src</code></em> and <em><code>dst</code></em> are path names given as strings. <strong><em><code>dst</code></em> must be the complete target file name; look at <a href="https://docs.python.org/3/library/shutil.html#shutil.copy" rel="nofollow noreferrer"><code>shutil.copy()</code></a> for a copy that accepts a target directory path.</strong></p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>If I am not mistaken, you are missing setting <code>dest</code> value inside your inner <code>for</code> loop, so <code>shutil.copyfile</code> fails as <code>''</code> (empty string) does not make sense as second argument. As side note if you want to copy only <code>.zip</code> files it is better to use:</p>
<pre><code>if file.endswith('zip'):
</code></pre>
<p>instead of</p>
<pre><code>if ('zip' in file):
</code></pre>
<p>which is also <code>True</code> for example for <code>'my_list_of_zip_files.txt'</code>, also keep in mind case-sensitiveness, so it might be better to use following <code>if</code></p>
<pre><code>if file.lower().endswith('zip'):
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are getting the error in this line <code>shutil.copyfile(file, dest)</code></p>
<p>Mentioning the full path should fix the problem. </p>
<p><strong>Ex:</strong></p>
<pre><code>shutil.copyfile(os.path.join(root, file), ".")
</code></pre>
</div>
<span class="comment-copy">ERROR is: FileNotFoundError: [Errno 2] No such file or directory:</span>
<span class="comment-copy">can you post the full error trace? looks that <code>dest</code> is an empty string. if you need to copy to current working directory you should mention it explicitly using <code>dest = '.'</code></span>
<span class="comment-copy">Traceback (most recent call last):   File "C:/Python37/datetime_finder.py", line 28, in &lt;module&gt;     shutil.copyfile(file, 'K:\\Userfiles\\Ucar\\UNZIP')   File "C:\Python37\lib\shutil.py", line 120, in copyfile     with open(src, 'rb') as fsrc: FileNotFoundError: [Errno 2] No such file or directory: 'getContents_2019-01-27.csv.zip' &gt;&gt;&gt;</span>
<span class="comment-copy">When I run print(file), its shows me all files with the date. I would like to copy this.</span>
<span class="comment-copy">How can I copy after the if statment?</span>
<span class="comment-copy">All you have to do is basically specify the complete target file name in order for your script to work. You cannot leave an empty destination or else it will throw the error you are currently getting.</span>
