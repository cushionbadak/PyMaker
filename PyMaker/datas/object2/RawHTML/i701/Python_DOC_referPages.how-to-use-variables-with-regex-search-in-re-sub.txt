<div class="post-text" itemprop="text">
<p>I have a string and I want to get rid of multiple phrases in one pass.</p>
<p>If the phrase starts with "aPPle" or "pEAr" and ends with " f " or " g " (with the space characters), respectively, then I want to replace it with a space. It can have anything between the start and end.</p>
<pre><code>segment_start = ['aPPle', 'pEAr']
segment_end = [' f ', ' g ']

j=0
while (j+1) &lt;= len(segment_start):
    clean = re.sub(r''+segment_start[j].*segment_end[j],'',clean)
    j += 1
</code></pre>
<p>I'm stuck on getting re.sub to use the variables and I get <code>SyntaxError: invalid syntax</code>. This is probably really simple, I've been unable to find an answer poking around SE.</p>
<p>Here are phrases I would remove</p>
<p><code>aPPle increased in other categories such as f</code></p>
<p><code>pEAr !!@#!@#!@WDWDdaseio g</code></p>
<p>Here are phrases I would keep</p>
<p><code>aPPle t returns between paragraphsf</code> (no spaces enclosing <code>f</code>)</p>
<p><code>pEAr !!@#!@#!@WDWDdaseio f</code> (<code>aPPle</code> goes with <code>f</code> and pEAr goes with <code>g</code>)</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/stdtypes.html#str.format" rel="nofollow noreferrer"><code>str.format()</code></a> to <em>inject</em> values into your pattern, i.e.:</p>
<pre><code>segment_start = ['aPPle', 'pEAr']
segment_end = [' f ', ' g ']

for i, start in enumerate(segment_start):
    clean = re.sub('{}.*{}'.format(start, segment_end[i]), ' ', clean)
</code></pre>
<p>You can do a simple <code>start + '.*' + segment_end[i]</code> instead but it becomes very unwieldy to deal with such manual concatenation if you want to employ complex patterns.</p>
<p>Keep in mind that your end pattern must match exactly for it to work - for example, if your string ends with <code>g</code> (no space at the end), your pattern for <code>pEAr</code> won't work. You can define it's <code>segment_end</code> as <code>g(\s|$)</code> instead to capture such case.</p>
</div>
<span class="comment-copy">Please provide some positive and negative test cases so it is clear. Do you remove a phrase if, for example, it starts with "aPPle" but ends with "g"?</span>
