<div class="post-text" itemprop="text">
<p>i wrote the following code which looks ok to me, but when i run it, i get an error:</p>
<pre><code>#!/usr/bin/env python2.7

with open("helloworld.txt", "r") as fcontent:
    lc = 0
    for eachline in fcontent:
        lc += 1
        if fcontent.count(eachline) &gt; 1:
            print(lc,eachline)
</code></pre>
<p>Error I get:</p>
<pre><code>Traceback (most recent call last):
  File "./openfile.py", line 7, in &lt;module&gt;
    if fcontent.count(eachline) &gt; 1:
AttributeError: 'file' object has no attribute 'count'

</code></pre>
<p>What am i doing wrong? i feel it's something small but I cant seem to figure it out.  I suspect its because I'm using <code>with open</code>.  When I scan the file without <code>with</code>, i get no errors:</p>
<pre><code>#!/usr/bin/env python2.7

from sys import exit

filec = open("hellowDup.txt", "r")
fcontent = filec.readlines()
lc = 0
for eachline in fcontent:
    lc += 1
    if fcontent.count(eachline) &gt; 1:
        print(lc,eachline)
exit(0)

</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>.count()</code> is a method of <code>list</code> objects.</p>
<blockquote>
<p><code>list.count(x)</code></p>
<p>Return the number of times x appears in the list.</p>
<p>(Source: <a href="https://docs.python.org/3/tutorial/datastructures.html#more-on-lists" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/datastructures.html#more-on-lists</a>)</p>
</blockquote>
<p>It is not a method of <code>file</code> objects. So you can't use it there. In your second example you are reading the file using the <code>.readlines()</code> method of <code>file</code> objects:</p>
<blockquote>
<p><code>readlines(hint=-1)</code></p>
<p>Read and <strong>return a <code>list</code></strong> of lines from the stream. hint can be specified to control the number of lines read: no more lines will be
  read if the total size (in bytes/characters) of all lines so far
  exceeds hint.</p>
<p>(Source: <a href="https://docs.python.org/3/library/io.html#io.IOBase.readlines" rel="nofollow noreferrer">https://docs.python.org/3/library/io.html#io.IOBase.readlines</a>)</p>
</blockquote>
<p>Since the <code>.readlines()</code> method returns a <code>list</code>, you can call your <code>.count()</code> method there.</p>
</div>
<div class="post-text" itemprop="text">
<p>Did you note that the first code does not have a <code>readlines()</code> statement?</p>
<p>The following would be an equivalent of the second code:</p>
<pre><code>with open("helloworld.txt", "r") as filec: # changed here
    fcontent = filec.readlines()           # added this line
    lc = 0
    for eachline in fcontent:
        lc += 1
        if fcontent.count(eachline) &gt; 1:
            print(lc,eachline)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could also use it like this:</p>
<pre><code>#!/usr/bin/env python2.7
with open("hellowDup.txt", "r") as fcontent:
    lc = 0
    for i, l in enumerate(fcontent):
        print(i,l)
        i + 1
</code></pre>
</div>
<span class="comment-copy">yes. File objects do not have a <code>.count</code> method.</span>
<span class="comment-copy">What do you think <code>count</code> would return if it <i>did</i> exist?</span>
<span class="comment-copy"><code>fcontent</code> in your second code is not a file; it's a <i>list</i> of all the lines in the file.</span>
<span class="comment-copy">What am I doing wrong? Hard to answer as long as you don't tell us what you actually want to do. Do you want to count the lines, you you want to count the characters in the file, ...?</span>
<span class="comment-copy">i want to count the lines.  identify duplicate lines and print out the line number and the duplicated line.  That's what the second code does. I want to do the same with <code>with open</code></span>
