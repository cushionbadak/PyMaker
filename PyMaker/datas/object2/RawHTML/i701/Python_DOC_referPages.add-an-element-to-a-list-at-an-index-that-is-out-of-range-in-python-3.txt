<div class="post-text" itemprop="text">
<p>In other languages, such as javascript, when you add a value to an array that is outside of the range of indexes you "extend" the array with undefined values until the specified index.</p>
<p>Example: </p>
<pre><code>var arr = [1,2,3]
arr[4] = 4
console.log(arr) // [1,2,3,undefined,4]
</code></pre>
<p>When I try to do this in Python, I get a list assignment index out of range error.</p>
<p>Is there a way to do the same thing in Python?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can subclass <code>list</code> and override the <code>__setitem__</code> method so that it will extend the list as required by the given index, which could also be a <code>slice</code> object, in which case the larger of the <code>start</code> and <code>stop</code> attributes of the slice should be used:</p>
<pre><code>class List(list):
    def __setitem__(self, index, value):
        self.extend([None] * ((max(index.start, index.stop - 1) if isinstance(index, slice) else index) - len(self) + 1))
        super().__setitem__(index, value)
</code></pre>
<p>so that:</p>
<pre><code>arr = List((1, 2, 3))
arr[5] = 5
print(arr)
arr[7:9] = [4, 5]
print(arr)
</code></pre>
<p>outputs:</p>
<pre><code>[1, 2, 3, None, None, 5]
[1, 2, 3, None, None, 5, None, 4, 5]
</code></pre>
<p>Note that the expected output in your question in incorrect because an index of <code>5</code> actually refers to the 6th, rather than the 5th, item of the list.</p>
</div>
<div class="post-text" itemprop="text">
<p>Do you mean something like </p>
<pre><code>my_list = [1, 2, 3, 4]
my_list.append(None)
my_list.append(5)
</code></pre>
<p>Result: [1, 2, 3, 4, None, 5]</p>
<p>???
I may be misunderstanding the problem, but </p>
</div>
<span class="comment-copy">i think it's more akin to dictionaries, i.e. <code>d = {5: 5}</code></span>
<span class="comment-copy">If your intention is to have a mapping from integers to integers, it would be better to use a <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">dictionary</a> than a list. Dictionary keys can be integers, and you can assign to any key at will (<code>d[9000] = 5</code>).</span>
<span class="comment-copy">Good catch on the indexing, I fixed my question</span>
