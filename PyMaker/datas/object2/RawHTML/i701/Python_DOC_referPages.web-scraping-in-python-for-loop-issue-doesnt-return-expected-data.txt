<div class="post-text" itemprop="text">
<p>I'm having an issue scraping the F1 website using <code>BeautifulSoup</code> where I have specified the data I have required using a for loop from the website however I am only retrieving one result instead of all the results within the class.</p>
<p>Below is my following code </p>
<pre><code>import requests
from bs4 import BeautifulSoup
from csv import writer

page = requests.get("https://www.formula1.com/")

soup = BeautifulSoup(page.content, 'html.parser')
data = soup.find_all("div", class_="race-list")

for container in data:
    countryname = container.find_all("span", class_="name")
    country = countryname[0].text
    racetype = container.find_all("span", class_="race-type")
    rtype = racetype[0].text
    racetime = container.find_all("time", class_="day")
    racetimename = racetime[0].text.replace("\n", "").strip()
    print(country)
</code></pre>
<p>My Current Output -</p>
<pre><code>Australia
</code></pre>
<p>Expected Output -</p>
<pre><code>Australia

Bahrain

China

etc
</code></pre>
<p>Thanks in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>The culprit:</p>
<pre><code>country = countryname[0].text
</code></pre>
<p>The reason:</p>
<p>There are 21 countries and you're only fetching the first one at <code>zeroth</code> index i.e.</p>
<p><code>country = countryname[0].text</code></p>
<p>The answer:</p>
<p>Loop through the 'countryname' to find all the elements:</p>
<pre><code>  import requests
from bs4 import BeautifulSoup
from csv import writer

page = requests.get("https://www.formula1.com/")

soup = BeautifulSoup(page.content, 'html.parser')
data = soup.find_all("div", class_="race-list")
#
# print(data)

for container in data:
  countryname = container.find_all("span", class_="name")
  for count in countryname:
      country = count.text
      racetype = container.find_all("span", class_="race-type")
      rtype = count.text
      racetime = container.find_all("time", class_="day")
      racetimename = count.text.replace("\n", "").strip()
      print(country)
</code></pre>
<p>OUTPUT:</p>
<pre><code>Australia
Bahrain
China
Azerbaijan
Spain
Monaco
Canada
France
Austria
Great Britain
Germany
Hungary
Belgium
Italy
Singapore
Russia
Japan
Mexico
United States
Brazil
Abu Dhabi
</code></pre>
</div>
<span class="comment-copy">Are you sure the HTML elements you expect are actually received? Try finding them manually in the parsed tree, because it could easily be a dynamically loaded page, where you're better off with Selenium than BeautifulSoup+Requests.</span>
<span class="comment-copy">No need to use <code>range()</code> nor <code>len()</code> nor indexed access, just iterate over <code>countryname</code> (<a href="https://docs.python.org/3/tutorial/controlflow.html#for-statements" rel="nofollow noreferrer">docs.python.org/3/tutorial/controlflow.html#for-statements</a>)</span>
<span class="comment-copy">@brunodesthuilliers Ah, Good catch. Thank you, fixed.</span>
<span class="comment-copy">Thanks, how would I add in the racetype and racename, so that the data would look like Australia, Qualifying, Sat ?</span>
<span class="comment-copy">append them in the <code>print</code> statement like: <code>print(country, ", ", racetype)</code></span>
<span class="comment-copy">Or use tring formatting: <code>print("{}, {}, {}".format(country, racetype, racetimename))</code></span>
