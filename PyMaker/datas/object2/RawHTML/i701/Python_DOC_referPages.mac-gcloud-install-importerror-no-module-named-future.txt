<div class="post-text" itemprop="text">
<p>When installing gcloud for mac I get this error when I run the <code>install.sh</code> command according to docs <a href="https://cloud.google.com/sdk/docs/quickstart-macos" rel="nofollow noreferrer">here</a>:</p>
<pre><code>Traceback (most recent call last):
  File "/path_to_unzipped_file/google-cloud-sdk/bin/bootstrapping/install.py", line 8, in &lt;module&gt;
    from __future__ import absolute_import
</code></pre>
<p>I poked through and echoed out some stuff in the install shell script. It is setting the environment variables correctly (pointing to my default python installation, pointing to the correct location of the gcloud SDK).</p>
<p>If I just enter the python interpreter (using the same default python that the install script points to when running <code>install.py</code>) I can import the module just fine:</p>
<pre><code>&gt;&gt;&gt; from __future__ import absolute_import
&gt;&gt;&gt; 
</code></pre>
<p>Only other information worth noting is my default python setup is a virtual environment that I create from python 2.7.15 installed through brew. The virtual environment python bin is first in my PATH so <code>python</code> and <code>python2</code> and <code>python2.7</code> all invoke the correct binary. I've had no other issues installing packages on this setup so far.</p>
<p>If I echo the final line of the install.sh script that calls the install.py script it shows <code>/path_to_virtualenv/bin/python -S /path_to_unzipped_file/google-cloud-sdk/bin/bootstrapping/install.py</code> which is the correct python. Or am I missing something?</p>
</div>
<div class="post-text" itemprop="text">
<p>The script uses the <a href="https://docs.python.org/3/using/cmdline.html#id3" rel="nofollow noreferrer"><code>-S</code> command-line switch</a>, which disables loading the <a href="https://docs.python.org/3/library/site.html#module-site" rel="nofollow noreferrer"><code>site</code> module</a> on start-up.</p>
<p>However, it is a custom dedicated <code>site</code> module installed in a virtualenv that makes a virtualenv work. As such, the <code>-S</code> switch and virtualenvs are incompatible, with <code>-S</code> set fundamental imports such as <code>from __future__</code> break down entirely.</p>
<p>You can either remove the <code>-S</code> switch from the <code>install.bat</code> command or use a wrapper script to strip it from the command line as you call your real virtualenv Python.</p>
</div>
<div class="post-text" itemprop="text">
<p>I had the error below when trying to run gcloud commands.</p>
<pre><code>  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/gcloud.py", line 20, in &lt;module&gt;
    from __future__ import absolute_import
ImportError: No module named __future__
</code></pre>
<p>If you have your <code>virtualenv</code> sourced automatically you can specify the environment variable <code>CLOUDSDK_PYTHON</code> i.e. <code>set -x CLOUDSDK_PYTHON /usr/bin/python</code> to not use the <code>virtualenv</code> <code>python</code>.</p>
</div>
<span class="comment-copy">Thanks this works! However after successfully installing <code>gcloud</code> any attempt to use <code>gcloud</code> results in the same error. I opened a new question since it's technically a new issue and this one is resolved: <a href="https://stackoverflow.com/questions/54448868/any-gcloud-command-fails-with-importerror-no-module-named-future-mac" title="any gcloud command fails with importerror no module named future mac">stackoverflow.com/questions/54448868/â€¦</a></span>
