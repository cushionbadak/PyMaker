<div class="post-text" itemprop="text">
<p>I have two types of answers that JSON format is for me since then, and I want to parse this information.</p>
<pre><code>response = {'success': True, 'alarms': [{'play_voice': True}, {'voice_url': 'my directory'}]}

response = {'success': True, 'alarms': [{'play_voice': False}]}
</code></pre>
<p>when I try this code I have this output:</p>
<pre><code>voice_prof = [alarm is not None for alarm in response['alarms'] if alarm.get('play_voice', 0) != 0][0]
</code></pre>
<p>when 'play_voice' is True, then my code works fine but I have a 'play_voice' is False then this code does not run at all.</p>
</div>
<div class="post-text" itemprop="text">
<p>I think you want the value of the <code>play_voice</code> key for the first dictionary containing such key in the <code>alarms</code> list, in which case both sides of your list comprehension are wrong and you want something like:</p>
<pre><code>voice_prof = [
    alarm["play_voice"]  # value for that key 
    for alarm in response["alarms"] 
    if "play_voice" in alarm  # if it contains that key
][0]
</code></pre>
<p>A more efficient implementation would be to only find the first such dictionary, using <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next</code></a> on the <a href="https://www.python.org/dev/peps/pep-0289/" rel="nofollow noreferrer"><em>generator expression</em></a>, rather than run through the whole <code>alarms</code> list:</p>
<pre><code>voice_prof = next(
    alarm["play_voice"]  # value for that key 
    for alarm in response["alarms"] 
    if "play_voice" in alarm  # if it contains that key
)
</code></pre>
</div>
<span class="comment-copy">The list is empty if there are no dictionaries in the list with True values for play_voice, so asking for the first such dictionary is an IndexError; is that what you mean? Why is that unexpected?</span>
<span class="comment-copy">yes,i get this error:list index out of range</span>
<span class="comment-copy">Again, why is that unexpected? What output should you get in the second case? What does voice_prof mean? Give a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a> and some more context.</span>
<span class="comment-copy">i want to get voice_prof ==True or voice_prof == False</span>
<span class="comment-copy">This does not look like JSON at all. What you have is a Python <code>dict</code> (which may well have come from parsing some JSON, but you are not showing us that).</span>
