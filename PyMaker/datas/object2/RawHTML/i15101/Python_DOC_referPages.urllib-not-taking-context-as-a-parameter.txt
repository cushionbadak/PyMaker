<div class="post-text" itemprop="text">
<p>I'm trying to add the sssl.SSlContext to a urlopen method but keep getting the error:</p>
<pre><code>TypeError: urlopen() got an unexpected keyword argument 'context'
</code></pre>
<p>I'm using python 3 and urllib. This has a context parameter defined - <a href="https://docs.python.org/2/library/urllib.html" rel="nofollow">https://docs.python.org/2/library/urllib.html</a>. So I don't understand why it is throwing the error. But either way this is the code:</p>
<pre><code>try:
    # For Python 3.0 and later
    from urllib.request import urlopen, Request
except ImportError:
    # Fall back to Python 2's urllib2
    from urllib2 import urlopen, Request
request = Request(url, content, headers)
request.get_method = lambda: method

if sys.version_info[0] == 2 and sys.version_info[1] &lt; 8:
    result = urlopen(request)
else:
    gcontext = ssl.SSLContext(ssl.PROTOCOL_TLSv1)
    result = urlopen(request, context=gcontext)
</code></pre>
<p>Can someone explain what I am doing wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p>According to <a href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request" rel="nofollow"><code>urllib.request.urlopen</code> documentation</a>:</p>
<blockquote>
<p>Changed in version 3.4.3: context was added.</p>
</blockquote>
<p>the parameter <code>context</code> will be added in Python 3.4.3. You need to fall back for lower version.</p>
<hr/>
<p>In Python 2.x, it's added in Python 2.7.9. (<a href="https://docs.python.org/2/library/urllib.html#urllib.urlopen" rel="nofollow"><code>urllib.urlopen</code></a>, <a href="https://docs.python.org/2/library/urllib2.html#urllib2.urlopen" rel="nofollow"><code>urllib2.urlopen</code></a>)</p>
</div>
<div class="post-text" itemprop="text">
<p>You're looking at the wrong docs. <a href="https://docs.python.org/3.0/library/urllib.request.html" rel="nofollow">https://docs.python.org/3.0/library/urllib.request.html</a> are the ones you want. You were using Python 2.X documentation.</p>
</div>
<span class="comment-copy">it is said that <a href="https://www.python.org/dev/peps/pep-0429/#id2" rel="nofollow noreferrer"><code>3.4.3 final: February 22, 2015</code></a> i.e., it is not released yet.</span>
<span class="comment-copy">@J.F.Sebastian, I missed that it is not released yet. Thank you for comment.</span>
<span class="comment-copy">So is there a workaround or can I simply not use the SSLContext?</span>
<span class="comment-copy">@Danrex, Change the predicate: <code>if (sys.version_info[0] == 2 and sys.version_info &lt; (2,7,9)) or sys.version_info &lt; (3,4,3)</code></span>
<span class="comment-copy">@Danrex, Or, try with <code>context=..</code> argument, then catch <code>TypeError</code>: retry with no <code>context=...</code> argument.</span>
<span class="comment-copy">aaahhh so I was. Still can I make this work at all or am I going to have to use the older Python version?</span>
