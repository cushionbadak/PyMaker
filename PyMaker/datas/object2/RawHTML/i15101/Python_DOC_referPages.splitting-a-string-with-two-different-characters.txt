<div class="post-text" itemprop="text">
<p>I have the following string</p>
<pre><code>u'root\n |-- date: string (nullable = true)\n |-- zip: string (nullable = true)\n' 
</code></pre>
<p>I would like to extract the column names. The column names have <code>|--</code> before them and <code>:</code> after them.</p>
<p>I could do this in two stages:</p>
<pre><code>s = u'root\n |-- date: string (nullable = true)\n |-- zip: string (nullable = true)\n' 
s = s.split('|-- ')
s = s.split(':')
</code></pre>
<p>However, I wanted to know if there is a way to split with two characters at once.</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>However, I wanted to know if there is a way to split with two characters at once.</p>
</blockquote>
<p>It is possible using <a href="https://docs.python.org/3.4/library/re.html#re.split" rel="nofollow"><code>re#split</code></a>:</p>
<pre><code>re.split(r'\|--|:', your_string)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/3/library/re.html#re.findall" rel="nofollow"><code>re.findall</code></a> to get them both at once:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; data = u'root\n |-- date: string (nullable = true)\n |-- zip: string (nullable = true)\n'
&gt;&gt;&gt; re.findall(r'\|--\s(\w+):', data)
['date', 'zip']
&gt;&gt;&gt;
</code></pre>
<p>Below is an explanation of the Regex pattern used:</p>
<pre><code>\|--   # Matches |--
\s     # Matches a whitespace character
(\w+)  # Capture group for one or more word characters
:      # Matches :
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>findall</code> instead of splitting if you only want the names splitting and then extracting will be less efficient than just using findall:</p>
<p>So based on <em>I would like to extract the column names. The column names have |-- before them and : after them.</em></p>
<pre><code>import re

s = u'root\n |-- date: string (nullable = true)\n |-- zip: string (nullable = true)\n'
print(re.findall(r"\|--\s+(.*?):",s))
['date', 'zip']
</code></pre>
<p>Or use <a href="https://docs.python.org/2/library/re.html#re.compile" rel="nofollow">re.compile</a>:</p>
<pre><code>patt = re.compile(r"\|--\s+(.*?):")
patt.findall(s)
['date', 'zip']
</code></pre>
<p>It is not possible to split using two delimiters <code>str.split</code>.</p>
<p>If you were to use <code>str.split</code> you could do something like:</p>
<pre><code>print([x.split(":")[0] for x in s.split("|-- ")[1:]])
['date', 'zip']
</code></pre>
<p>After the initial split the first elements in sub splits will always be the element with <code>:</code> but this approach would break if you have any other <code>|--</code> elsewhere that is not surrounding data you want.</p>
</div>
<span class="comment-copy">if you need just the names just use findall, you are doing unnecessary work splitting</span>
<span class="comment-copy">why use split when the OP wants the extract just the names?</span>
<span class="comment-copy">@PadraicCunningham that was his original question: "I wanted to know if <b>there is a way to split with two characters at once</b>."</span>
<span class="comment-copy"><b>I would like to extract the column names. The column names have |-- before them and : after them.</b></span>
<span class="comment-copy">neat thing though! +1</span>
<span class="comment-copy">I do just want the names, but my current situation got me thinking of this in a more general way. In my case, maybe just splitting won't help me as much since then I will lose the names. I do only need the characters between the two symbol combinations.</span>
<span class="comment-copy">Your approach solves my problem. I suppose I should have phrased my question differently</span>
<span class="comment-copy">@Michal, it seemed pretty obvious to me that you wanted to just get the names I  presumed split only really came into the equation because you had tried str.split which is an understandable approach.</span>
