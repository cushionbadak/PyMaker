<div class="post-text" itemprop="text">
<p>this is my scenario. I want to be able to write a script in python that when entered an IP address, it looks that ip address up on a API, and returns the result. Can anyone tell me a good working lookup API with the code. For example this is hostip:</p>
<pre><code>import urllib

response = urllib.urlopen('http://api.hostip.info/get_html.php?ip=12.215.42.19&amp;position=true').read()

print(response)
</code></pre>
<p>However hostIP has a very small database, and cannot return many locations.</p>
</div>
<div class="post-text" itemprop="text">
<p>I've had great success with <a href="http://www.freegeoip.net" rel="nofollow">freegeoip.net</a>. They provide a public (free) API, or you can run it on your own server.</p>
<p>Simple code sample:</p>
<pre><code>import urllib
response = urllib.urlopen('http://freegeoip.net/json/1.2.3.4').read()
print(response)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can take a look at <a href="http://userinfo.io" rel="nofollow">userinfo.io</a>.</p>
<p>Issuing a <code>GET http://api.userinfo.io/userinfos</code> will return you all the information you're asking for. You can also specify the IP address in the parameters: <code>GET http://api.userinfo.io/userinfos?ip_address=888.888.888.888</code>.</p>
<p>The response looks like it:</p>
<pre><code>{
  request_date: "2014-09-18T04:11:25.154Z",
  ip_address: "192.77.237.95",
  position: {
    latitude: 37.7758,
    longitude: -122.4128,
    accuracy: 3   // This is the accuracy radius, in kilometers
  },
  continent: {
    name: "North America",
    code: "NA",
  },
  country: {
    name: "United States",
    code: "US",
  },
  city: {
    name: "San Francisco",
    code: "94103"
  }
}
</code></pre>
</div>
<span class="comment-copy">may be off-topic here !</span>
<span class="comment-copy">Dupe of <a href="http://stackoverflow.com/questions/2543018/what-python-libraries-can-tell-me-approximate-location-and-time-zone-given-an-ip" title="what python libraries can tell me approximate location and time zone given an ip">stackoverflow.com/questions/2543018/â€¦</a></span>
<span class="comment-copy">Thanks a lot. Perfect simple answer. What would the urllib request be in python 4.3.2?</span>
<span class="comment-copy"><a href="https://docs.python.org/3/howto/urllib2.html" rel="nofollow noreferrer">Fetching URL's in Python 3</a> should give you what it needs to be in Python 3</span>
