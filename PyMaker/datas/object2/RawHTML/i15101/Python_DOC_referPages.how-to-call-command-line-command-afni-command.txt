<div class="post-text" itemprop="text">
<p>I am trying to read a dicom header tag in dicom file. 
 Now, there are two ways to read this dicom header tag. </p>
<p>1) Using pydicom package in python which apparently is not working well on my python installed version(python 3).</p>
<p>2) or when i call AFNI function 'dicom_hinfo' through command line, i can get dicom tag value. The syntax to call afni function in terminal is as follows:</p>
<p>dicom_hinfo -tag aaaa,bbbb filename.dcm
output:fgre</p>
<p>Now how should i call this dicom-info -tag aaaa,bbbb filename.dcm in python script.
I guess subprocess might work but not sure about how to use it in this case. </p>
</div>
<div class="post-text" itemprop="text">
<p>To get output from a subprocess, you could <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow">use <code>check_output()</code> function</a>:</p>
<pre><code>#!/usr/bin/env python
from subprocess import check_output

tag = check_output('dicom_hinfo -tag aaaa,bbbb filename.dcm output:fgre'.split(),
                   universal_newlines=True).strip()
</code></pre>
<p><code>universal_newlines=True</code> is used to get Unicode text on Python 3 (the data is decoded using user locale's character encoding).</p>
<p><code>check_output()</code> assumes that <code>dicom_hinfo</code> prints to its standard output stream (stdout). Some utilities may print to stderr or the terminal directly instead. The code could be modified to adapt to that.</p>
</div>
<div class="post-text" itemprop="text">
<p>Oh this was due to syntax error using Pydicom. 
I wanted to access 0019, 109c tag. </p>
<p>Syntax should be:</p>
<p>ds[0x0019,0x109c].value. </p>
<p>not ds[aaaa,bbbb].value</p>
</div>
<span class="comment-copy">Getting error. Couldn't interpret:   Traceback (most recent call last):   File "&lt;input&gt;", line 1, in &lt;module&gt;   File "/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/subprocess.py", line 607, in check_output     with Popen(*popenargs, stdout=PIPE, **kwargs) as process:   File raise child_exception_type(errno_num, err_msg) FileNotFoundError: [Errno 2] No such file or directory: 'dicom_hinfo'</span>
<span class="comment-copy">@tryeverylanguage: <a href="http://stackoverflow.com/posts/28533515/edit">update your question</a> and put the full traceback there (with proper formatting). The error means that there is no <code>dicom_hinfo</code> command in <code>PATH</code>. Either provide the full path to <code>dicom_hinfo</code> or add the corresponding directory to PATH envvar in the environment that runs the Python script.</span>
