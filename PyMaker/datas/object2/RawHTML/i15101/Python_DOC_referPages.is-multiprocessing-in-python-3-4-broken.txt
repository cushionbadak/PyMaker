<div class="post-text" itemprop="text">
<p>I'm trying to use the multiprocessing module in Python 3.  However, everytime I try to set up a Pool, I get the following traceback.</p>
<pre><code>Traceback (most recent call last):
  File "testmp.py", line 7, in &lt;module&gt;
    with Pool(5) as p:
  File "/usr/lib/python3.4/multiprocessing/context.py", line 118, in Pool
    context=self.get_context())
  File "/usr/lib/python3.4/multiprocessing/pool.py", line 150, in __init__
    self._setup_queues()
  File "/usr/lib/python3.4/multiprocessing/pool.py", line 243, in _setup_queues
    self._inqueue = self._ctx.SimpleQueue()
  File "/usr/lib/python3.4/multiprocessing/context.py", line 110, in SimpleQueue
    from .queues import SimpleQueue
  File "/usr/lib/python3.4/multiprocessing/queues.py", line 20, in &lt;module&gt;
    from queue import Empty, Full
ImportError: cannot import name 'Empty'
</code></pre>
<p>The simplest code that can easily trigger this is the first example in the multiprocessing module documentation.</p>
<pre><code>from multiprocessing import Pool

def f(x):
    return x*x

if __name__ == '__main__':
    with Pool(5) as p:
        print(p.map(f, [1, 2, 3]))
</code></pre>
<p>(source: <a href="https://docs.python.org/3.4/library/multiprocessing.html" rel="nofollow">https://docs.python.org/3.4/library/multiprocessing.html</a>)</p>
<p>My question: Is this a bug in Python 3.4?  Or am I doing something wrong?  The equivalent code works in Python 2.7.</p>
</div>
<div class="post-text" itemprop="text">
<p>You have a <em>local</em> module named <code>queue</code>; it interferes with the <a href="https://docs.python.org/3/library/queue.html" rel="noreferrer">standard library module</a>.</p>
<p>Remove it or rename it and your code will work again:</p>
<pre><code>stackoverflow-3.4 mj$ cat test.py 
from multiprocessing import Pool

def f(x):
    return x*x

if __name__ == '__main__':
    with Pool(5) as p:
        print(p.map(f, [1, 2, 3]))

stackoverflow-3.4 mj$ touch queue.py
stackoverflow-3.4 mj$ bin/python test.py 
Traceback (most recent call last):
  File "test.py", line 7, in &lt;module&gt;
    with Pool(5) as p:
  File "/.../python3.4/multiprocessing/context.py", line 118, in Pool
    context=self.get_context())
  File "/.../python3.4/multiprocessing/pool.py", line 150, in __init__
    self._setup_queues()
  File "/.../python3.4/multiprocessing/pool.py", line 243, in _setup_queues
    self._inqueue = self._ctx.SimpleQueue()
  File "/.../lib/python3.4/multiprocessing/context.py", line 110, in SimpleQueue
    from .queues import SimpleQueue
  File "/.../lib/python3.4/multiprocessing/queues.py", line 20, in &lt;module&gt;
    from queue import Empty, Full
ImportError: cannot import name 'Empty'
stackoverflow-3.4 mj$ rm queue.py
stackoverflow-3.4 mj$ bin/python test.py 
[1, 4, 9]
</code></pre>
<p>If you have trouble locating it, run <code>python3 -c 'import queue; print(queue.__file__)'</code>.</p>
</div>
<span class="comment-copy">chance of bug/error on your end &gt;&gt; bug in Python</span>
<span class="comment-copy">You're right.  I was working in my scratch directory and, have indeed, an old queue that I wrote a long time ago.  I feel dumb now.  I'll accept your answer as soon as SO allows me to.</span>
