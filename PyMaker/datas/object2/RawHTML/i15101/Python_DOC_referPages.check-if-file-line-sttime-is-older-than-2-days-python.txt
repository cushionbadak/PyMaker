<div class="post-text" itemprop="text">
<p>I have a series of entries in a text file like this:</p>
<pre><code>20150217_00:47:32 - AAAAAA
20150217_00:47:32 - BBBBBB
20150217_00:47:32 - CCCCCC
</code></pre>
<p>I want to make a function that will periodically read each line in the file and do something depending on whether the entry is less than 2 days old, more than 2 days old, or more than 7 days old.</p>
<p>I'm not sure how to get the code to understand the sttime timestamp in the file though. My code (so far) is as follows:</p>
<pre><code>with open('entries.txt', 'r+') as entries:
        for line in entries:
            lineitem = line.strip()
            print lineitem[:17]
</code></pre>
<p>That retrieves the timestamps ok, but how to read them and interpret them as times I have no idea :/</p>
<p>(This will end up in an if loop eventually that does the function described above, but first I just need to know how to read those times...)</p>
</div>
<div class="post-text" itemprop="text">
<p>This will give you a <a href="https://docs.python.org/2/library/datetime.html" rel="nofollow">datetime</a> object which you can <a href="https://docs.python.org/2/library/datetime.html#timedelta-objects" rel="nofollow">compare</a> against other datetime objects:</p>
<pre><code>from datetime import datetime, timedelta
...
</code></pre>
<p><strike>linets = datetime.strptime('%Y%m%d_%H:%M:%s', line.strip()[:17])</strike></p>
<p>Oops! Mark got those arguments the wrong way around. It should be</p>
<pre><code>linets = datetime.strptime(line.strip()[:17], '%Y%m%d_%H:%M:%S')
</code></pre>
<p><strong>test</strong> </p>
<pre><code>&gt;&gt;&gt; print datetime.strptime('20150217_00:47:32', '%Y%m%d_%H:%M:%S')
2015-02-17 00:47:32
</code></pre>
</div>
<span class="comment-copy">possible duplicate of <a href="http://stackoverflow.com/questions/10062251/parsing-date-string-in-python">Parsing date string in Python</a></span>
<span class="comment-copy">But not for the %d ?</span>
<span class="comment-copy">@joep1: No. See <a href="https://docs.python.org/3/library/time.html#time.strftime" rel="nofollow noreferrer">docs.python.org/3/library/time.html#time.strftime</a></span>
<span class="comment-copy">@joep1: Sorry about that. I guess Mark should've tested it <i>before</i> submitting code. And I should've noticed it, too. :embarrassed:</span>
<span class="comment-copy">Sorry, I did test it in the console later on, but SO was down :)</span>
<span class="comment-copy">@joep1: Indeed! But as a consolation prize for misleading you, I reckon you deserve some points. BTW, you now have enough reputation points to participate in the <a href="http://chat.stackoverflow.com/rooms/6/python">Python Chatroom</a>.</span>
