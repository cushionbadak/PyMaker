<div class="post-text" itemprop="text">
<p>I'm trying to  print the lines present in the  url file however,I'm getting an error that says:</p>
<pre><code>    with html as ins:
    AttributeError: __exit__
</code></pre>
<p>Below posted is my code</p>
<pre><code>  import urllib2

  response = urllib2.urlopen('------------------')

  html = response.read()
  counter = 0;
  with html as ins:
  array = []
  for line in ins:
     counter = counter+1
     print "cluster number is:", counter  
     print line  
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you want to write the bytes from the url as is (no decoding/encoding):</p>
<pre><code>#!/usr/bin/env python2
import urllib2
import shutil
import sys
from contextlib import closing

with closing(urllib2.urlopen(url)) as response:
    shutil.copyfileobj(response, sys.stdout)
</code></pre>
<p>It expects that the character encoding used by <code>response</code> is the same character encoding your terminal uses otherwise you'll see mojibake. See <a href="https://stackoverflow.com/q/14592762/4279">A good way to get the charset/encoding of an HTTP response in Python</a>.</p>
<hr/>
<p>Your code in the question contains multiple errors e.g.:</p>
<ul>
<li>wrong indentation</li>
<li>it tries to use a <code>str</code> object as a context manager that leads to <code>AttributeError</code> (<code>__exit__</code> method is not defined) because <code>str</code> object does not implement <a href="https://docs.python.org/3/reference/datamodel.html#context-managers" rel="nofollow noreferrer">the context manager protocol</a></li>
<li><code>for line in ins</code> is misleading: iterating over a string yields characters, not lines.</li>
</ul>
</div>
<span class="comment-copy">Please fix your indentation.</span>
<span class="comment-copy">Yep..! i fixed the indentation but the problem is persisting</span>
<span class="comment-copy">These two lines have wrong indentation still: <code>with html as ins:  array = []</code>. Please double check. Maybe this is the problem.</span>
<span class="comment-copy">@Sebastian I'm looking for extracting the values and copying them in an array and print them line by line</span>
<span class="comment-copy">@user3787061: Split your problem into a sequence of smaller tasks that could be understood easily e.g., 1. what do you want to print line-by-line? (is it the content of the url? what is it? is it a byte stream with a json text or with an html document or with a xml document?) 2. What does it mean <i>"extracting the values"</i> -- provide an example input as a string and the corresponding output array. Update your question. Do not put additional info in the comments.</span>
