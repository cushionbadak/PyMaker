<div class="post-text" itemprop="text">
<p>test.txt </p>
<pre><code>port = 1234

host = abc.com
</code></pre>
<p>test.py</p>
<pre><code>port = sys.argv[1]

host = sys.argv[2]
</code></pre>
<p>I want to provide test.txt as input to python script:</p>
<pre><code>python test.py test.txt
</code></pre>
<p>so that , port and host values in text file should pass as command line arguments to python script which are inturn passed to port and host in the script.</p>
<p>if i do :</p>
<p>python test.py 1234 abc.com</p>
<p>the arguments are passed to sys.argv[1] and sys.argv[2] </p>
<p>the same i want to achieve using reading from txt file.</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>Given a <code>test.txt</code> file with a section header:</p>
<pre><code>[settings]
port = 1234
host = abc.com
</code></pre>
<p>You could use the <a href="https://docs.python.org/2/library/configparser.html" rel="noreferrer">ConfigParser</a> library to get the host and port content:</p>
<pre><code>import sys
import ConfigParser

if __name__ == '__main__':
    config = ConfigParser.ConfigParser()
    config.read(sys.argv[1])
    print config['settings']['host']
    print config['settings']['port']
</code></pre>
<p>In Python 3 it's called <a href="https://docs.python.org/3/library/configparser.html" rel="noreferrer"><code>configparser</code></a> (lowercase).</p>
</div>
<div class="post-text" itemprop="text">
<p>A way to do so in Linux is to do:</p>
<pre><code> awk '{print $3}' test.txt | xargs python test.py
</code></pre>
<p>Your .txt file can be separated in 3 columns, of which the 3rd contains the values for port and host. <code>awk '{print $3}'</code> extracts those column and <code>xargs</code> feeds them as input parameters to your python script.</p>
<p>Of course, that is only if you don't want to modify your .py script to read the file and extract those input values.</p>
</div>
<div class="post-text" itemprop="text">
<p>I would instead just write the text file as:</p>
<pre><code>1234
abc.com
</code></pre>
<p>Then you can do this:</p>
<pre><code>input_file = open(sys.argv[1])
port = int(input_file.readLine())
host = input_file.readLine()
</code></pre>
</div>
<span class="comment-copy">And your problem is...?</span>
<span class="comment-copy">i want solution, how to do it. modified my question.</span>
<span class="comment-copy">This worked with small change: config.get("settings","appport"). Thanks.</span>
<span class="comment-copy">@lgor Hatarist I am getting "IndexError: list index out of range" error, if I run the above script. Unable to figure out the issue.</span>
<span class="comment-copy">@Kumar It's because when you run it, you don't pass an argument to the command. Run it using <code>python script.py test.txt</code>, not just <code>python script.py</code>. You could figure it out by reading about <a href="https://docs.python.org/2/library/sys.html#sys.argv" rel="nofollow noreferrer">sys.argv</a> in the python's documentation).</span>
<span class="comment-copy">This also worked but after replacing port value in a file, the rest of string in the line of file is moving to next line. But, thanks though.</span>
