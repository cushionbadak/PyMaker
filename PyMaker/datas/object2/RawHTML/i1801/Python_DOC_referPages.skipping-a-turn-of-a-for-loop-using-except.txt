<div class="post-text" itemprop="text">
<p>So I am using a function which adds components to the system via:</p>
<pre><code>es.add(components[i][0] for i in components.keys())
</code></pre>
<p>components is a python dictionary, which looks like this:</p>
<pre><code>components = {'a': (a0, a1),
              'b': (b0, None)}
</code></pre>
<p>What I am trying the achieve is that I want to run above mentioned <code>for-loop</code> with <code>except</code>, which will be able to not run the <code>add()</code> function if the <code>components</code> dictionary gives <code>None</code>.</p>
<p>What I tried:</p>
<pre><code>es.add(components[i][1] for i in components.keys() except None)
</code></pre>
<p>Ofc it gives a syntax error. What is the syntax for it?</p>
<hr/>
<p>EXAMPLE:</p>
<pre><code>es.add(components[i][1] for i in components.keys())
</code></pre>
<p>Above is equal with:</p>
<pre><code>es.add(a1)
es.add(None)
</code></pre>
<p>I want to write my for-loop in a way it adds only <code>a1</code> and skips <code>None</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>I assume that it is like <code>[components[i][1] for i in components.keys() if type(components[i][1]) != type(None)]</code></p>
<p>so that below code can work fine</p>
<pre><code>es.add(components[i][1] for i in components.keys() if type(components[i][1]) != type(None))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use an <code>if</code> condition as <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer"><code>except</code></a> is of no use in this case. You can also make it shorter and more readable by iterating the <a href="https://docs.python.org/3/library/stdtypes.html#dict.values" rel="nofollow noreferrer"><code>dict.values()</code></a> directly:</p>
<pre><code>es.add(x for _, x in components.values() if x is not None)
</code></pre>
</div>
<span class="comment-copy">What do you mean, run it "with expect"? What is <code>expect</code> in this situation?</span>
<span class="comment-copy">run <code>add()</code> function if the input of the dictionary is not <code>None</code>.</span>
<span class="comment-copy">Maybe he meant except?</span>
<span class="comment-copy">you are right, fixed question</span>
<span class="comment-copy">Oh you are right, I should have done that with if instead of expect ^^</span>
<span class="comment-copy">No need for all that <code>type()</code> stuff. <code>if components[i][1] is not None</code> would be fine.</span>
<span class="comment-copy">@DanielRoseman it raise me an warning in my project. I don't know why.</span>
<span class="comment-copy">would this work? <code>for i in components.keys() if is not None</code>, I want to make it short as possible. otherwise I add the <code>components[i][1]</code></span>
<span class="comment-copy">@Icedkk Short answer no, long aswer how script should know it need to look second element in array :D</span>
