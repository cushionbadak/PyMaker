<div class="post-text" itemprop="text">
<p>I am trying to scrape data from web pages and able to scrape also.
After using below script getting all div class data but I am confused how to write data in CSV file like. </p>
<p>First Data in the first name column 
Last name data in last name column
.
.</p>
<pre><code>from urllib.request import urlopen
from bs4 import BeautifulSoup

html = 'http://rerait.telangana.gov.in/PrintPreview/PrintPreview/UHJvamVjdElEPTQmRGl2aXNpb249MSZVc2VySUQ9MjAyODcmUm9sZUlEPTEmQXBwSUQ9NSZBY3Rpb249U0VBUkNIJkNoYXJhY3RlckQ9MjImRXh0QXBwSUQ9'

page = urlopen(html)

data = BeautifulSoup(page, 'html.parser')

name_box = data.findAll('div', attrs={'class': 'col-md-3 col-sm-3'}) #edited companyName_99a4824b -&gt; companyName__99a4824b

for i in range(len(name_box)):
    data = name_box[i].text.strip()
</code></pre>
<p>Data:</p>
<pre><code>Information Type
Individual

First Name
KACHAM
Middle Name

Last Name
RAJESHWAR
Father Full Name
RAMAIAH
Do you have any Past Experience ?
No
Do you have any registration in other State than registred State?
No
House Number
8-2-293/82/A/446/1
Building Name
SAI KRUPA
Street  Name
ROAD NO 20
Locality
JUBILEE HILLS
Landmark
JUBILEE HILLS
State
Telangana
Division
Division 1
District
Hyderabad
Mandal
Shaikpet
Village/City/Town

Pin Code
500033
Office Number
04040151614
Fax Number

Website URL

Authority Name

Plan Approval Number
1/18B/06558/2018
Project Name
SKV S ANANDA VILAS
Project Status
New Project
Proposed Date of Completion
17/04/2024
Litigations related to the project ?
No
Project Type
Residential
Are there any Promoter(Land Owner/ Investor) (as defined by Telangana RERA Order) in the project ?
Yes
Sy.No/TS No.
00
Plot No./House No.
10-2-327
Total Area(In sqmts)
526.74
Area affected in Road widening/FTL of Tanks/Nala Widening(In sqmts)
58.51
Net Area(In sqmts)
1
Total Building Units (as per approved plan)
1
Proposed Building Units(as per agreement)
1


Boundaries East
PLOT NO 213
Boundaries West
PLOT NO 215
Boundaries North
PLOT NO 199
Boundaries South
ROAD NO 8
Approved Built up Area (In Sqmts)
1313.55
Mortgage Area  (In Sqmts)
144.28
State
Telangana
District
Hyderabad
Mandal
Maredpally
Village/City/Town

Street
ROAD NO 8
Locality
SECUNDERABAD COURT
Pin Code
500026
</code></pre>
<p>above is the data getting after run above code.</p>
<p><strong>Edit</strong></p>
<pre><code>for i in range(len(name_box)):
    data = name_box[i].text.strip()
    print (data)
    fname = 'out.csv'
    with open(fname) as f:
        next(f)
        for line in f:
            head = []
            value = []
            for row in line:
                head.append(row)
            print (row)
</code></pre>
<p><strong>Expected</strong></p>
<pre><code>Information Type | First  | Middle Name | Last Name | ......
Individual       | KACHAM |             | RAJESHWAR | .....
</code></pre>
<p>I have 200 url but all url data is not same means some of these missing. I want to write such way if data not avaialble then write anotthing just blank.</p>
<p>Please suggest. Thank you in advance</p>
</div>
<div class="post-text" itemprop="text">
<p>to write to csv you need to know what value should be in head and body, in this case head value should be html element contain <code>&lt;label</code></p>
<pre><code>from urllib2 import urlopen
from bs4 import BeautifulSoup

html = 'http://rerait.telangana.gov.in/PrintPreview/PrintPreview/UHJvamVjdElEPTQmRGl2aXNpb249MSZVc2VySUQ9MjAyODcmUm9sZUlEPTEmQXBwSUQ9NSZBY3Rpb249U0VBUkNIJkNoYXJhY3RlckQ9MjImRXh0QXBwSUQ9'

page = urlopen(html)

data = BeautifulSoup(page, 'html.parser')

name_box = data.findAll('div', attrs={'class': 'col-md-3 col-sm-3'}) #edited companyName_99a4824b -&gt; companyName__99a4824b

heads = []
values = []

for i in range(len(name_box)):
    data = name_box[i].text.strip()
    dataHTML = str(name_box[i])
    if 'PInfoType' in dataHTML:
        # &lt;div class="col-md-3 col-sm-3" id="PInfoType"&gt;
        # empty value, maybe additional data for "Information Type"
        continue

    if 'for="2"' in dataHTML:
        # &lt;label for="2"&gt;No&lt;/label&gt;
        # it should be head but actually value
        values.append(data)

    elif '&lt;label' in dataHTML:
        # &lt;label for="PersonalInfoModel_InfoTypeValue"&gt;Information Type&lt;/label&gt;
        # head or top row
        heads.append(data)

    else:
        # &lt;div class="col-md-3 col-sm-3"&gt;Individual&lt;/div&gt;
        # value for second row
        values.append(data)

csvData = ', '.join(heads) + '\n' + ', '.join(values)    
with open("results.csv", 'w') as f:
    f.write(csvData)

print "finish."
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p><strong>Question</strong>: How to write csv file from scraped data</p>
</blockquote>
<p>Read the <code>Data</code> into a <code>dict</code> and use <code>csv.DictWriter(...</code> to write to CSV file.<br/>
Documentations about: 
<a href="https://docs.python.org/3/library/csv.html#csv.DictWriter" rel="nofollow noreferrer">csv.DictWriter</a>
<a href="https://docs.python.org/3/reference/compound_stmts.html#while" rel="nofollow noreferrer">while</a>
<a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer">next</a>
<a href="https://docs.python.org/3/reference/simple_stmts.html#break" rel="nofollow noreferrer">break</a>
<a href="https://docs.python.org/3/library/stdtypes.html#index-54" rel="nofollow noreferrer">Mapping Types — dict</a> </p>
<ol>
<li>Skip the first line, as it's the title</li>
<li>Loop <code>Data</code> lines

<ol>
<li><code>key =  next(data)</code></li>
<li><code>value = next(data)</code></li>
<li>Break loop if no further data</li>
<li>Build <code>dict[key] = value</code></li>
</ol></li>
<li>After finishing the loop, write <code>dict</code> to CSV file</li>
</ol>
<blockquote>
<p><strong>Output</strong>:</p>
<pre><code>{'Individual': '', 'Father Full Name': 'RAMAIAH', 'First Name': 'KACHAM', 'Middle Name': '', 'Last Name': 'RAJESHWAR',... (omitted for brevity)
</code></pre>
</blockquote>
</div>
<span class="comment-copy">Have you considered using Pandas? Using the built in functions for scraping web content <code>pd.read_html()</code> and writing CSV files <code>df.to_csv()</code> may make your code more readable.</span>
<span class="comment-copy"><code>open(fname)</code> is only <i>reading a file</i>, not writing to it</span>
<span class="comment-copy">yes, it's not writing because, before writing I want to make data such way like expected result. please help</span>
<span class="comment-copy">@Mark, No, How will do in pandas? how to write row data in column name like expected result</span>
<span class="comment-copy">From the pandas module: <code>pandas.read_html()</code> will parse the HTML tables into a DataFrame. <code>df.to_csv()</code> will convert the DataFrame into CSV. The pandas module documentation is excellent, available at <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_html.html" rel="nofollow noreferrer">pandas.pydata.org/pandas-docs/stable/generated/…</a></span>
<span class="comment-copy">Thank you, Can you please explain these lines: <code>if 'PInfoType' in dataHTML:         continue      if 'for="2"' in dataHTML:         values.append(data)     elif '&lt;label' in dataHTML:         heads.append(data)</code></span>
<span class="comment-copy">I am trying for multiple urls but not getting all column in as same in the first link.  second link: <code>http://rerait.telangana.gov.in/PrintPreview/PrintPreview/UHJvamVjdElEPTE1NiZEaXZpc2lvbj0xJlVzZXJJRD0yMTA2NCZSb2xlSUQ9MSZBcHBJRD0yNDcmQWN0aW9uPVNFQVJDSCZDaGFyYWN0ZXJEPTQ3JkV4dEFwcElEPQ%3d%3d</code></span>
<span class="comment-copy">code updated with explanation. for second link just add needed condition <code>if... elif...</code></span>
<span class="comment-copy">Thanks, How to loop for <code>http://rerait.telangana.gov.in/PrintPreview/PrintPreview/UHJvamVjdElEPTE1NiZEaXZpc2lvbj0xJlVzZXJJRD0yMTA2NCZSb2xlSUQ9MSZBcHBJRD0yNDcmQWN0aW9uPVNFQVJDSCZDaGFyYWN0ZXJEPTQ3JkV4dEFwcElEPQ%3d%3d</code> this link? and <code>Plot No. 46 &amp; 47, 2-2-647/8 &amp; 2-2-647/8/2</code> this value i am getting in two columns buy want in one</span>
<span class="comment-copy">Also suggest for table data in the same link. Can we scrape in the same csv? using same code</span>
<span class="comment-copy">Can you please give me some example with code?</span>
<span class="comment-copy">I have tried but not getting expected result. Can you please share the code?</span>
<span class="comment-copy">@user10468005: Edit your Question and show your effords, explain where you get stuck.</span>
