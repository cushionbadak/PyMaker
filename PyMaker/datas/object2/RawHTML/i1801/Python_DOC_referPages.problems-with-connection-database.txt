<div class="post-text" itemprop="text">
<p>when I run this program, it doesn't change the value in my database. Is it because something is wrong with the options section or is there the other problem? I don"t know what it is, I hope someone can help me with this.</p>
<pre><code>import sqlite3

def product_kopen(crsr):
    print ("Which product would you like to buy?")
    product = str(input(""))
    print ("And how many?")
    wanted_amount = int(input(""))
    crsr.execute("SELECT * FROM emp")
    rows = crsr.fetchall()
    for row in rows:
        if row[0] == product:
            actual_amount = int(row[1])
            fetched_amount = actual_amount - wanted_amount
    kopen = "UPDATE emp SET Amount = {amount} WHERE Product = '{name}' ".format(name=product,
                                                                                amount=fetched_amount)
    crsr.execute(kopen)
    print("You have succesfully bought your product!", "\n")


def product_verkopen(crsr):
    print ("Which product would you like to sell?")
    sold_product = str(input(""))
    print("And how many?")
    wanted_sold_amount = int(input(""))
    crsr.execute("SELECT * FROM emp")
    rows = crsr.fetchall()
    for row in rows:
        if row[0] == sold_product:
            actual_amount = int(row[1])
            fetched_amount = actual_amount + wanted_sold_amount

    kopen = "UPDATE emp SET Amount = {amount} WHERE Product = '{name}' ".format(name=sold_product,
                                                                                amount=fetched_amount)
    crsr.execute(kopen)
    print("You have succesfully sold your product")


connection = sqlite3.connect("Stock.db", timeout=10)
crsr = connection.cursor()
connection.commit()


while True:
    print("Welcome to this shop! choose your option", "\n",
          "1. Buy a product.", "\n", "2. Sell a product")
    option = int(input(""))
    if option == 1:
        product_kopen(crsr)
    elif option == 2:
        product_verkopen(crsr)
    else:
        print("This isn't a valid option", "\n")
        continue

connection.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>After you make changes to the database, you must <code>commit</code> them. <code>sqlite3</code> does not <code>commit</code> changes by default. Every time you do <code>cursor.execute(...)</code>, follow it up with a <code>cursor.commit()</code></p>
<pre><code>crsr.execute(kopen)
crsr.commit()
</code></pre>
<p>See here for more information <a href="https://docs.python.org/3/library/sqlite3.html" rel="nofollow noreferrer">https://docs.python.org/3/library/sqlite3.html</a></p>
</div>
