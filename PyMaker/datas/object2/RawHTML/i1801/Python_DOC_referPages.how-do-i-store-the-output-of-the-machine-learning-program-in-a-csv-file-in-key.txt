<div class="post-text" itemprop="text">
<p>This is my following code, the classify() and the end takes a input as an tag and gives the corresponding output.</p>
<pre><code>ERROR_THRESHOLD = 0.25


def classify(sentence):
    # generate probabilities from the model
    results = model.predict([bow(sentence, words)])[0]
    # filter out predictions below a threshold
    results = [[i,r] for i,r in enumerate(results) if r&gt;ERROR_THRESHOLD]
    # sort by strength of probability
    results.sort(key=lambda x: x[1], reverse=True)
    return_list = []

    for r in results:
        return_list.append((classes[r[0]], r[1]))

    # return tuple of intent and probability
    return return_list


def response(sentence, userID='123', show_details=False):
    results = classify(sentence)
    # if we have a classification then find the matching intent tag
    if results:
        # loop as long as there are matches to process
        while results:                     
            for i in intents['intents']:
                # find a tag matching the first result
                if i['tag'] == results[0][0]:
                    # a random response from the intent
                    return print(random.choice(i['response']))                    
            results.pop(0)

classify('MEDTRONIK')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Not sure what you exactly want, your code isn't really sufficient to clarify or even understand fully.</p>
<p>I'm assuming in <code>classify()</code> you are trying to compute a table of expected vs computed classes (is this what you mean by key and value respectively?). Again assuming further, that those classes are hashable (if you want to treat them as keys, as per what the term 'key' mean in python and context implied by 'key value pair'), you can directly write the <code>return_list</code> to a csv file using <a href="https://docs.python.org/3.4/library/csv.html#csv.csvwriter.writerows" rel="nofollow noreferrer">csvwriter</a> which can directly take this list as a param. If you really want key: value pair, then this list can be converted into a <code>dict</code> using the builtin with the same name: <a href="https://docs.python.org/3/library/stdtypes.html#dict" rel="nofollow noreferrer">https://docs.python.org/3/library/stdtypes.html#dict</a>.</p>
<p>But a recommended/better way should be provided with the ML/numeric computation library that you're using like:
<a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html" rel="nofollow noreferrer">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html</a> 
TF dataframes also have to_csv method.</p>
</div>
<span class="comment-copy">Not completely sure what you are trying to output here to be honest, but python has a nifty CSV libary, which might be a good place to start: <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">docs.python.org/3/library/csv.html</a></span>
<span class="comment-copy">Welcome to SO. While there are some other problems with this code, one thing you can realise yourself is you definitely don't want to <code>return print()</code>.  That doesn't serve what you probably want.</span>
