<div class="post-text" itemprop="text">
<p><a href="https://i.stack.imgur.com/XNd55.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/XNd55.png"/></a>I'm new to to programming and trying to learn by building some small side projects. I have this code and it is working but I am having an issue with it formatting correctly in csv when it pulls all the information. It started adding weird spaces after I added price to be pulled as well. if I comment out price and remove it from write it works fine but I can't figure out why I am getting weird spaces when I add it back.</p>
<pre><code>from urllib.request import urlopen as uReq
from bs4 import BeautifulSoup as soup

my_url = "https://www.newegg.com/Product/ProductList.aspx?Submit=ENE&amp;N=-1&amp;IsNodeId=1&amp;Description=graphics%20card&amp;bop=And&amp;PageSize=12&amp;order=BESTMATCH"


# Opening up connection, grabbing the page
uClient = uReq(my_url)
page_html = uClient.read()
uClient.close()


#html parsing
page_soup = soup(page_html, "html.parser")


# grabs each products
containers = page_soup.findAll("div",{"class":"item-container"})


filename = "products.csv"
f = open(filename, "w")

headers = "brand, product_name, shipping\n"

f.write(headers)

for container in containers:
    brand = container.div.div.a.img["title"]

    title_container = container.findAll("a", {"class":"item-title"})
    product_name = title_container[0].text

    shipping_container = container.findAll("li", {"class":"price-ship"})
    shipping = shipping_container[0].text.strip()

    price_container = container.findAll("li", {"class":"price-current"})
    price = price_container[0].text.strip()

    print("brand: " + brand)
    print("product_name: " + product_name)
    print("Price: " + price)
    print("shipping: " + shipping)


    f.write(brand + "," + product_name.replace(",", "|") + "," + shipping + "," + price + "\n")

f.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can write to a csv file like the way I've showed below. The output it produces should serve the purpose. <a href="https://docs.python.org/3/library/csv.html#writer-objects" rel="nofollow noreferrer">Check out this documentation</a> to get the clarity.</p>
<pre><code>import csv
from urllib.request import urlopen
from bs4 import BeautifulSoup

my_url = "https://www.newegg.com/Product/ProductList.aspx?Submit=ENE&amp;N=-1&amp;IsNodeId=1&amp;Description=graphics%20card&amp;bop=And&amp;PageSize=12&amp;order=BESTMATCH"

page_html = urlopen(my_url).read()
page_soup = BeautifulSoup(page_html, "lxml")

with open("outputfile.csv","w",newline="") as infile:
    writer = csv.writer(infile)
    writer.writerow(["brand", "product_name", "shipping", "price"])

    for container in page_soup.findAll("div",{"class":"item-container"}):

        brand = container.find(class_="item-brand").img.get("title")
        product_name = container.find("a", {"class":"item-title"}).get_text(strip=True).replace(",", "|")
        shipping = container.find("li", {"class":"price-ship"}).get_text(strip=True)
        price = container.find("li", {"class":"price-current"}).get_text(strip=True).replace("|", "")

        writer.writerow([brand,product_name,shipping,price])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're getting the new lines and spam characters because that is the data you're getting back from BS4: it isn't a product of the writing process. This is because you're trying to get all the text in the list item, whilst there's a lot going on in there. Having a look at the page, if you'd rather just get the price, you can concatenate the text of the strong tag within the list with the text of the sup tag, e.g. <code>price = price_container[0].find("strong").text + price_container[0].find("sup").text</code>. That will ensure you're only picking out the data that you need.</p>
</div>
<span class="comment-copy">Would you like to show us the error?</span>
<span class="comment-copy">I added a picture of the csv with price added and you can see in the picture for some reason its not adding a column for price and instead making spaces and move information around</span>
