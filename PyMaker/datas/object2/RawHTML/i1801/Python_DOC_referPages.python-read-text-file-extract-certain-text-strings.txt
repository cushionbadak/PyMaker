<div class="post-text" itemprop="text">
<p>I'm new here and also new to python so I'm struggling with a simple task that i hope you can help me with.</p>
<p>I have a text file that contains data in the following format:</p>
<pre><code>&lt;add key="DateFormat" value="dd-MMM-yyyy"/&gt;
&lt;add key="JsDateFormat" value="DD-MMM-YYYY"/&gt;
&lt;add key="dbDateFormat" value="dd-MMM-yyyy HH:mm:ss:fff"/&gt;
</code></pre>
<p>What I want to do is to read and print the lines that contain certain keys, for example DateFormat and dbDateFormat and print their values. </p>
<p>I am reading files using:</p>
<pre><code>f = open("file.config", "r")
file = f.read()
print(file)
</code></pre>
<p>It reads the whole file as expected, but I don't know how to make it search and print with the conditions described above.</p>
<p>I will highly appreciate any help.</p>
</div>
<div class="post-text" itemprop="text">
<p>First you need to check if the document is a proper XML file or not. Your example content will raise parse error if I read using <code>lxml</code> library. So it is needed to be fixed at first. The following nodes must be children of a root node. Let's assume the root node is <code>&lt;body&gt;</code>. </p>
<pre><code>from lxml import etree

text="""
&lt;body&gt;
&lt;add key="DateFormat" value="dd-MMM-yyyy"/&gt;
&lt;add key="JsDateFormat" value="DD-MMM-YYYY"/&gt;
&lt;add key="dbDateFormat" value="dd-MMM-yyyy HH:mm:ss:fff"/&gt;
&lt;/body&gt;
"""

parsed = etree.fromstring(text)

# Now applying xpath to get value

print(parsed.xpath("//add[@key='DateFormat']/@value"))

# Which outputs to ['dd-MMM-yyyy']
</code></pre>
<p>You can use <code>or</code> xpath expression to get values from the keys you want . </p>
</div>
<div class="post-text" itemprop="text">
<p>Thanks for an answer, i handled it with a simple for / if loop and parsed text strings, thanks anyway!</p>
</div>
<span class="comment-copy">Check out <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">docs.python.org/3/library/xml.etree.elementtree.html</a>.</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/13905101/print-line-containing-word-python">Print line containing "word" python</a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/33657794/read-line-in-file-print-line-if-it-contains-string" title="read line in file print line if it contains string">stackoverflow.com/questions/33657794/â€¦</a></span>
<span class="comment-copy">And etc; what did you search for, what did you find; why didn't it work for you?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/1912434/how-do-i-parse-xml-in-python">How do I parse XML in Python?</a></span>
