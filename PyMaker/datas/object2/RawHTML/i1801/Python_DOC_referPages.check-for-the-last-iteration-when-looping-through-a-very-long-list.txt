<div class="post-text" itemprop="text">
<p>I have a matrix of size 10000x20. What's the best way to check for the last iteration when looping through all 10000 rows of the matrix? My solution is:</p>
<pre><code>height = 10000
...
...
for i in range(height):
    if i != height - 1:
        ...
        ...
    else:
        ...
        ...
</code></pre>
<p>Is this a good way to check for the last item when we work with really long lists? </p>
</div>
<div class="post-text" itemprop="text">
<p>Loop over all but the last row, then handle the last row separately after the loop.</p>
<pre><code>for i in range(height-1):
    # handle most rows here
# we must have at least one row; omit if statement if you know height &gt; 0
if height &gt; 0:
    # handle last row using an index of -1, or height-1
</code></pre>
<p>I'm assuming you're iterating over the range because you need the index for some purpose. Ordinarily you'd want to avoid that to be Pythonic, but in this case it might be the simplest way to avoid processing the last row in the main loop. </p>
<p>If there is code in common between the cases, i.e. you handle the last row like the rest of them but do something <em>extra</em> with it in addition, you can handle it like this:</p>
<pre><code>for row in matrix:
    # common processing for all rows here
if height &gt; 0:
    # additional code for final row
</code></pre>
<p>In this case you're iterating over the whole list in the <code>for</code> loop, so you can use <code>for row in matrix</code> instead of iterating over the range. If you do need the index, the Pythonic way to do this is with <code>enumerate()</code>:</p>
<pre><code>for i, row in enumerate(matrix):
</code></pre>
<p>If you need to duplicate code between the two cases, it might be appropriate to break that out into a function.</p>
</div>
<span class="comment-copy">Why do you need to know if this is the last iteration? And if you are working with a list, why use <code>range()</code> and not just iterate over the list itself?</span>
<span class="comment-copy">use <code>for item in listname:</code>  ... you iterate over the items itself and do not need to index into. If you really need the index use <code>for idx,item in enumerate(listname):</code> which will give you the index AND the value in one go...</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer">docs.python.org/3/library/functions.html#enumerate</a></span>
<span class="comment-copy">@MartijnPieters because I need i as index</span>
<span class="comment-copy">@sovel2: then <code>enumerate()</code> can help there. We still don't know why you need to know if this is the last iteration. You may not even need to know, there may be better ways to solve your problem.</span>
