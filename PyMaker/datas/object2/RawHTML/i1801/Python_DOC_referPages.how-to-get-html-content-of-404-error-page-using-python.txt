<div class="post-text" itemprop="text">
<p>I am using python to get HTML data from multiple pages at a URL. I found that urllib throws an exception when a URL does not exist. How do I retrieve the HTML of that custom 404 error page (the page where it says something like "Page is not found.")</p>
<p>Current code:</p>
<pre><code>try:
    req = Request(URL, headers={'User-Agent': 'Mozilla/5.0'})
    client = urlopen(req)

    #downloading html data
    page_html = client.read()

    #closing connection
    client.close()
except:
    print("The following URL was not found. Program terminated.\n" + URL)
    break
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Have you tried the <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer"><code>requests</code></a> library?</p>
<p>Just install the library with pip</p>
<pre><code>pip install requests
</code></pre>
<p>And use it like this</p>
<pre><code>import requests

response = requests.get('https://stackoverflow.com/nonexistent_path')
print(response.status_code) # 404
print(response.text) # Prints the raw HTML response
</code></pre>
</div>
<span class="comment-copy">See <a href="https://docs.python.org/3/library/urllib.error.html#urllib.error.HTTPError" rel="nofollow noreferrer"><code>HTTPError</code></a>. It has a <code>.read()</code> method which returns the response content.</span>
