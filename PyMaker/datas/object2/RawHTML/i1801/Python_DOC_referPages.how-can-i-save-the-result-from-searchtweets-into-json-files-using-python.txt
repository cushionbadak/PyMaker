<div class="post-text" itemprop="text">
<p>I am recently working on twitter analysis and want to save the results from twitter search locally into .json files.</p>
<p>I am doing both historical search using "searchtweets" and streaming using "tweepy". The result I get are objects which are slightly different but I think both of the results are compatible with .json.</p>
<p>Here are my code(sample, I have a logged in to API already):</p>
<pre><code>new_tweets = API.user_timeline(screen_name='huliangw20', count=20, 
tweet_mode='extended')

with open('test_tweets_v2.json', 'w',encoding='utf-8') as outfile:
    outfile.write(new_tweets)
</code></pre>
<p>It does not work. <strong>In general, each query gives me a Resultset of many Tweet objects. And my goal is to save those objects into .json files using python.</strong> </p>
<p>Would really appreciate if you could give me some advice on this.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the json standard library from python.</p>
<p>Reading a string as json:</p>
<pre><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}])
'["foo", {"bar": ["baz", null, 1.0, 2]}]'
</code></pre>
<p>Transforming json as string:</p>
<pre><code>&gt;&gt;&gt; import json
&gt;&gt;print(json.dumps({"c": 0, "b": 0, "a": 0}, sort_keys=True))
{"a": 0, "b": 0, "c": 0}
</code></pre>
<p>With this function you can save on disk:</p>
<pre><code>def writeToJSONFile(path, fileName, data):
    try:
        filePathNameWExt = path + fileName
        with open(filePathNameWExt, 'w') as fp:
            json.dump(data, fp)
    except Exception as e:
        if(not quiet):
            print "writeToJSONFile exception"
            print e
</code></pre>
<p>And finally generating a json on "hand":</p>
<pre><code>&gt;&gt;&gt; jsonToSave = {}
&gt;&gt;&gt; jsonToSave['id'] = id
&gt;&gt;&gt; metaJson = {}
&gt;&gt;&gt; metaJson['version'] = VERSION
&gt;&gt;&gt; jsonToSave['metadata'] = metaJson
</code></pre>
<p>More info: <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer">https://docs.python.org/3/library/json.html</a>
More info: <a href="https://docs.python.org/2/library/json.html" rel="nofollow noreferrer">https://docs.python.org/2/library/json.html</a></p>
</div>
<span class="comment-copy">Sorry I am quite confused. So the result I have is the variable "new_tweets", it is a set of "Tweet object" (each one of them contains all the information about a tweet) . How can I save them locally into one json file?</span>
<span class="comment-copy">You can construct the json optimal for your application, per example, you can create a jsonToSave = {} and write just some parts of your "Tweet object" like: jsonToSave["Text"] = "bla bla", jsonToSave["Date"] = xx/yy/zzz so on.</span>
<span class="comment-copy">Thanks Lucas. I already know how to save a particular field into a file. The thing is I want to save the whole object for future use and there are like 100+ attributes. Just wondering if there is any quite way to save the whole thing?</span>
<span class="comment-copy">Ohh now I got what u need, this format of json that I'm saying to you is a dict, you can cast objects to dict, look this answer <a href="https://stackoverflow.com/questions/45834577/turn-python-object-into-json-output" title="turn python object into json output">stackoverflow.com/questions/45834577/â€¦</a> That's help you?</span>
<span class="comment-copy">Great, thanks a lot.</span>
