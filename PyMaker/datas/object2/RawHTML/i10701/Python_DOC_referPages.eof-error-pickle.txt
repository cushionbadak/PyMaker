<div class="post-text" itemprop="text">
<p>I am looping through a list of Pickled files and some of my files have EOF Errors, which means they did not write properly. Is there a way to loop around the files that have these errors and continue to the next file instead of the entire script stopping?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>try/except</code>:</p>
<pre><code>for pkl_file in pkls:
     try:
         obj = pickle.load(..) # or however you load the file
     except EOFError:
         continue
     # rest of code, handling obj
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>First of all, ensure that you are opening the pickle files in <em>binary</em> mode as this is a potential cause of EOF errors when reading/writing pickle data.</p>
<p>When you are reading the pickle files use <code>rb</code> mode when calling <a href="https://docs.python.org/3/library/functions.html?highlight=open#open" rel="nofollow"><code>open()</code></a>. Similarly, if it is your code that is writing the pickle files, ensure that the files are written in binary mode by specifying mode <code>wb</code>.</p>
<p>Secondly catch the exception and ignore it, where "ignore" means that you issue a warning message so any genuinely bad pickle files will be noticed.</p>
<pre><code>import cPickle as pickle

for filename in pickle_files:
    try:
        with open(filename, 'rb') as f:
            data = pickle.load(f)
            # use the data
    except EOFError as exc:
        print(exc)
</code></pre>
</div>
<span class="comment-copy">Great, thank you!</span>
