<div class="post-text" itemprop="text">
<p>I have this model:</p>
<pre><code>class PUC(Base):
   pucId = Column(Integer, primary_key=True)
   asset = Column(TINYINT)
   article = Column(TINYINT)
   more values ...
   more values ...
</code></pre>
<p>And I need to do a query dynamically (This way I tried):</p>
<pre><code>pucs = session.query(PUC).filter(PUC[unique_by_param] == 1).all()
</code></pre>
<p>The value of <code>unique_by_param</code> come from the Frontend.
An example of <code>unique_by_param</code> is: <code>{str}'asset'</code>, <code>{str}'article'</code>, <code>{str}'another_model_value'</code></p>
<p>What I really need is a way to do.
<code>session.query(PUC).filter(PUC.asset == 1)</code> or <code>session.query(PUC).filter(PUC.article == 1)</code> dynamically, like the first way I tried.</p>
<p>The result using (<code>PUC[unique_by_param]</code>) is <code>TypeError: 'DeclarativeMeta' object is not subscriptable</code></p>
<p>There is a way I have used before, but isn't pretty way to do that, but isn't pretty way to do that:</p>
<pre><code># this is a accounting table, so this have around 250 columns 
#and this special columns be around 70 variables... 
#So this isn't an option o do this.
if unique_by_param == 'asset':
    q = (PUC.asset == 1)
elif unique_by_param == 'article':
    q = (PUC.article)
elif ...more values:

pucs = session.query(PUC).filter(or_(*q))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here's an approach that uses <code>filter_by</code> and <a href="https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists" rel="nofollow">keyword argument unpacking</a>:</p>
<pre><code>keyword = {unique_by_param : 1}
session.query(PUC).filter_by(**keyword).all()
</code></pre>
</div>
<span class="comment-copy">If <code>PUC.asset</code> is a <code>TINYINT</code>, and not a <code>bool</code> type, then what are you expecting <code>PUC.asset == True</code> to do?</span>
<span class="comment-copy">Yes, it's a bool. So if i have this checked, the value of the <code>pucs</code> is totally different @cricket_007</span>
<span class="comment-copy">No, your column is a <code>TINYINT</code>, not a <code>BOOLEAN</code> value....</span>
<span class="comment-copy">already, this way it's better @cricket_007 `PUC.asset == 1'</span>
<span class="comment-copy">@AdrianSerna Does the method you tried fail in some way?</span>
<span class="comment-copy">Yes, it's a great solution but <b>EXTREMELY DANGEROUS</b>. I need one way to do dynamically but safe at the same time.</span>
<span class="comment-copy">@AdrianSerna I'm thinking I should delete it, since it's such bad advice. I believe the second (updated) answer is safer.</span>
