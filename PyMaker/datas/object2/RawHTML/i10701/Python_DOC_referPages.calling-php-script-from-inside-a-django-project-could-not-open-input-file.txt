<div class="post-text" itemprop="text">
<p>I wrote a PHP script that processes some task for me (specifically, encoding videos on a media server). I tested calling this script via python like so:</p>
<pre><code>proc = subprocess.Popen("php vodworkflow_drm_playready_widevine.php videos " +str(video), shell=True, stdout=subprocess.PIPE)
</code></pre>
<p>This worked correctly (i.e. the video name passed to the script got correctly encoded and such). However, when I call <code>Popen</code> from inside my Django project, I instead get the output: <code>Could not open input file: my_script.php</code>.</p>
<p>I'm stumped! Can anyone help with what could be going on, and what I can do to rectify this? Thanks, I've been stuck since a while now. Do let me know if you need to see the PHP script and more detailed code.</p>
</div>
<div class="post-text" itemprop="text">
<p>Point the php file to php binary by its full path.</p>
<pre><code>proc = subprocess.Popen("php /root/www/bla_bla/vodworkflow_drm_playready_widevine.php videos " +str(video), shell=True, stdout=subprocess.PIPE)
</code></pre>
<p>Alternatively, Popen takes an cwd argument. Specify the path to it. </p>
<p><a href="https://docs.python.org/3/library/subprocess.html#using-the-subprocess-module" rel="nofollow">https://docs.python.org/3/library/subprocess.html#using-the-subprocess-module</a></p>
<p><a href="http://sharats.me/the-ever-useful-and-neat-subprocess-module.html#execute-in-a-different-working-directory" rel="nofollow">http://sharats.me/the-ever-useful-and-neat-subprocess-module.html#execute-in-a-different-working-directory</a></p>
</div>
<span class="comment-copy">Thanks for point this out my friend.</span>
