<div class="post-text" itemprop="text">
<p>I'm using <code>imaplib</code> to fetch emails for several accounts (Gmail, Yahoo..).
What is the best way to store emails locally (including attachments).</p>
<p>Is there any way to <code>pickle</code> and store emails as file?
Is it possible to store emails as bytes and retrieve them
later as mail object?</p>
<p>I'll try to save mail in separate folder with each field in JSON file
and attachment as separate files, but I was wondering if there is a 
<code>native</code> way of doing it.</p>
</div>
<div class="post-text" itemprop="text">
<p>There are already several established ways to store mailboxes (i.e. a list of emails). Popular examples are <a href="https://en.wikipedia.org/wiki/Maildir" rel="nofollow">Maildir</a> and <a href="https://en.wikipedia.org/wiki/Mbox" rel="nofollow">mbox</a>.</p>
<p>Python includes the <a href="https://docs.python.org/3/library/mailbox.html" rel="nofollow"><code>mailbox</code></a> module which can handle them:</p>
<blockquote>
<p>Supported mailbox formats are Maildir, mbox, MH, Babyl, and MMDF.</p>
</blockquote>
<p>You can of course roll your own solution, pickle them or dump them as JSON to a file, but if you use one of the common formats, you gain compatibility with other programs (<a href="https://addons.mozilla.org/de/thunderbird/addon/importexporttools/" rel="nofollow">importing them into Thunderbird</a>, for example).</p>
</div>
<span class="comment-copy">Thanks. I'll try to combine <code>mailbox</code> and <code>imaplib</code>.</span>
<span class="comment-copy">Good luck. This should help you: <a href="http://stackoverflow.com/questions/29432981/saving-imap-messages-with-python-mailbox-module" title="saving imap messages with python mailbox module">stackoverflow.com/questions/29432981/â€¦</a></span>
