<div class="post-text" itemprop="text">
<p>I want to declare a  variables inside Django templates and increase that by one .</p>
<p>my code is </p>
<pre><code>{% with 0 as my_variable %}
   {% for address in user.addresses %}
       {{my_variable=my_variable+1}}
       {% if my_variable==1 %}
           // do something
       {% else %}
           // do something
       {% endif %}
   {% endfor %}
{% endwith %}
</code></pre>
<p>It's giving the error of</p>
<blockquote>
<p>jinja2.exceptions.TemplateSyntaxError: can't assign to 'const'</p>
</blockquote>
<p>How to declare the variable and increase it?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#for" rel="nofollow noreferrer">What you want is</a> </p>
<pre class="lang-py prettyprint-override"><code>{% for item in item_list %}
    {{ forloop.counter }} {# starting index 1 #}
    {{ forloop.counter0 }} {# starting index 0 #}
    {# do your stuff #}
{% endfor %}
</code></pre>
<pre class="lang-py prettyprint-override"><code>{{ forloop.counter }}  {# The current iteration of the loop (1-indexed) #} 
{{ forloop.counter0 }} {# The current iteration of the loop (0-indexed) #}
</code></pre>
<p>Also keep in mind</p>
<pre class="lang-py prettyprint-override"><code>{{ forloop.first }} {# True if this is the first time through the loop #}
</code></pre>
<p>and</p>
<pre class="lang-py prettyprint-override"><code>{{ forloop.last }}  {# True if this is the last time through the loop #}
</code></pre>
</div>
<span class="comment-copy">What you should use is <code>forloop.counter</code>, which supports starting index both 0 and 1.</span>
