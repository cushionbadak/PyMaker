<div class="post-text" itemprop="text">
<p>Only the <code>host</code> part is not optional, that is to say the URI may has the following forms:</p>
<pre><code> 1. foo://user:pass@host:port
 2. foo://host:port
 3. user@host
 4. host
</code></pre>
<p>and so on. If we have five variables to save the values of parts in such an URI, Is there a pythonic way to assign these values to the proper variables when they exist in the URI?</p>
</div>
<div class="post-text" itemprop="text">
<p>You'd use <a href="https://docs.python.org/2/library/urlparse.html" rel="nofollow"><code>urlparse</code></a> (python 2) / <a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow"><code>urllib.parse</code></a> module.</p>
<p>The <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse" rel="nofollow"><code>urlparse()</code> function</a> can handle all forms you mention, but note that without a scheme, the <code>user@host</code> and <code>host</code> portions are seen as a <em>path</em>:</p>
<pre><code>&gt;&gt;&gt; from urllib.parse import urlparse
&gt;&gt;&gt; urlparse('foo://user:pass@host:port')
ParseResult(scheme='foo', netloc='user:pass@host:port', path='', params='', query='', fragment='')
&gt;&gt;&gt; urlparse('foo://host:port')
ParseResult(scheme='foo', netloc='host:port', path='', params='', query='', fragment='')
&gt;&gt;&gt; urlparse('user@host')
ParseResult(scheme='', netloc='', path='user@host', params='', query='', fragment='')
&gt;&gt;&gt; urlparse('host')
ParseResult(scheme='', netloc='', path='host', params='', query='', fragment='')
</code></pre>
<p>That's easily worked around:</p>
<pre><code>host = result.hostname or result.path.rpartition('@')[-1]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <code>urlparse</code> module for doing this.</p>
<p>I think it is worth nothing though that you could also setup a series of regular expressions to grab and assign the wanted data to variables. This might come in handy if you want to do something similar, but not necessarily with a URI.</p>
<p>Here is another thread with a good example:
<a href="https://stackoverflow.com/questions/1800817/how-can-i-get-part-of-regex-match-as-a-variable-in-python">How can I get part of regex match as a variable in python?</a></p>
</div>
<span class="comment-copy">The only problem I see with this is when the protocol is not specified (it returns wrong values).</span>
<span class="comment-copy">@JuanLopes: because it is indistinguishable from a file path.</span>
<span class="comment-copy">I know, but OP specified that only the host is not optional.</span>
