<div class="post-text" itemprop="text">
<p>I am trying to make a progress bar for a process, but to keep things short consider the following snippet:</p>
<pre><code>import sys
import time

for i in range(10):
  time.sleep(0.5)
  sys.stdout.write('*')
sys.stdout.write('\n')
</code></pre>
<p>What I am expecting it to do is to print a star every half a second on the same line (which is exactly what it does when I run the code with an IDE like Sublime Text for example). However, when I run this in the Mac OS Terminal it just waits for 5 seconds then prints the whole string <code>**********</code> at once.</p>
<p>Any ideas why this might be happening and how to get the desired behavior?</p>
</div>
<div class="post-text" itemprop="text">
<p>It does that because output is buffered. Try this instead:</p>
<pre><code>import sys
import time

for i in range(10):
    time.sleep(0.5)
    sys.stdout.write('*')
    sys.stdout.flush()    # &lt;-- this is the key
sys.stdout.write('\n')
</code></pre>
<p>By flushing output each time you do a write, <code>sys.stdout</code> won't wait for the next newline; instead it will write whatever characters are in its buffers immediately.</p>
</div>
<div class="post-text" itemprop="text">
<p>The output is being buffered, so you will need to call <code>sys.stdout.flush()</code> after each write operation to flush the buffer.  </p>
<p>Or, even better, just use <a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow"><code>print</code></a> and have Python do it for you.  In versions 3.3+, the code would be:</p>
<pre><code>import time

for i in range(10):
  time.sleep(0.5)
  print('*', end='', flush=True)
print()
</code></pre>
<p>If you are using an older version, you would omit the <code>flush=True</code>:</p>
<pre><code>import time

for i in range(10):
  time.sleep(0.5)
  print('*', end='')
print()
</code></pre>
<p>And if you happen to be using Python 2.x, you will also need to write:</p>
<pre><code>from __future__ import print_function
</code></pre>
<p>at the top of your code to use the Python 3.x <code>print</code>.  For more information, see <a href="https://docs.python.org/2/library/__future__.html" rel="nofollow"><code>__future__</code> â€” Future statement definitions</a> in the documentation.</p>
</div>
<span class="comment-copy">My guess is line buffering.  Try <code>sys.stdout.flush()</code> after each <code>sys.stdout.write('*') call.</code>  (Alternatively, call python with the <code>-u</code> command line option: <code>python -u yourprogram.py</code>)</span>
<span class="comment-copy">black magic... yes I am using python 2.7 and your solution works great, however it adds a whitespace between stars and I can't tell where it comes from...I guess it is what print does by default, adding newlines and whitespaces...or?</span>
<span class="comment-copy">on python2.7 I get <code>TypeError: 'flush' is an invalid keyword argument for this function</code></span>
<span class="comment-copy">@skamsie and all others who upvoted his/her comment: the <code>flush</code> argument works only in Python 3.3 and above. See original post or the Python 3 docs.</span>
