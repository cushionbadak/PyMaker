<div class="post-text" itemprop="text">
<p>I would like to run a few python scripts(I am aware of the risks , but I HAVE to get it done) </p>
<p>i tried using :</p>
<pre><code>echo exec('python --version ');
</code></pre>
<p>as well as 
echo <code>shell_exec('python --version ');</code></p>
<p>Also tried <code>'/usr/bin/python '</code> instead of just python 
but I dont get any output at all. 
I have even added the www-data to the sudoers list, still not working. </p>
<p>What should I do ? </p>
<p>Running debian and python 2.7</p>
</div>
<div class="post-text" itemprop="text">
<p>It seems <code>python --version</code> prints version info to stderr instead of stdout for some reason, so you'll need to redirect former to latter:</p>
<p><code>exec('python --version 2&gt;&amp;1');</code></p>
<p>Also, note that exec's return value is just the last line of the executed command's output. If you want to catch full output from command that returns multiple lines, you'll need to provide an array as <code>exec's</code> second argument:</p>
<pre><code>$output = array();
exec($some_command, $output);
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To capture the output of <code>python --version</code> use the following:</p>
<pre><code>exec('python --version 2&gt;&amp;1', $output);
var_dump($output);
</code></pre>
<p><code>python --version</code> outputs to stderr, which is a <a href="https://bugs.python.org/issue18338" rel="nofollow">bug</a>. It has been fixed in Python 3.4.0 (see <a href="https://docs.python.org/3/whatsnew/changelog.html#python-3-4-0-alpha-1" rel="nofollow">changelog, issue #18338</a>).</p>
</div>
<div class="post-text" itemprop="text">
<p>The reason you can't run python script from PHP is that, the system call requires to be root.Even if you make a sudo call, it requires password.So what you can do is add this line to the end of file : /etc/sudoers</p>
<p>www-data ALL=(ALL) NOPASSWD:ALL</p>
<p>In this way, any sudo call from the PHP will not require a password.
Go ahead and execute the python script for an eg. <code>exec("sudo python /home/pi/test.py");</code> 
This works for me.Let me know if it works.</p>
</div>
<div class="post-text" itemprop="text">
<p>When you type <code>python</code> on your Command-Line, your Shell is searching all folders which are configured in the Environment-Variable <code>$PATH</code>. Your PHP-Interpreter has a different Environment and therefore maybe does not find the <code>python</code>-Binary.</p>
<p>Try to obtain the complete Path to your <code>python</code>-Binary by running <code>which python</code> in your Shell and try to use this in PHP.</p>
</div>
<span class="comment-copy">Instead of <code>python</code> specify the path like <code>/usr/local/bin/python</code></span>
<span class="comment-copy">You can check where exactly is Python installed by running <code>which python</code> and then use this path in your code.</span>
<span class="comment-copy">nop, did not work. any more ideas  ? give me any thing that could be the problem</span>
<span class="comment-copy">tried which python, giving /usr/bin/python. i have tried running it from that path</span>
<span class="comment-copy">seems like there are some security measures involved, for example safe mode <a href="http://php.net/manual/en/features.safe-mode.php" rel="nofollow noreferrer">php.net/manual/en/features.safe-mode.php</a> or something like suhoshin or apparmor</span>
<span class="comment-copy">can you please write an example ?</span>
<span class="comment-copy">tried your new edit, did not work</span>
<span class="comment-copy">It does. Forgot to <code>echo</code> / <code>print_r($output)</code>?</span>
<span class="comment-copy">You are right, my pi user was not here. It worked</span>
<span class="comment-copy">ive tried that , as already mentioned in the comment. any other ideas ?</span>
