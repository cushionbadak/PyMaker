<div class="post-text" itemprop="text">
<p>I'm trying to extract two ranges per line of an opened text file in python 3 by looping through.</p>
<p>The application has a Entry widget and the value is stored in <code>self.search</code>. I then loop through a text file which contains the values I want, and write out the results to <code>self.searchresults</code> and then display in a Textbox.</p>
<p>I've tried variations of the third line below but am not getting anywhere.</p>
<p>I want to write out characters in each line from 3:24 and 81:83 ...</p>
<pre><code>for line in self.searchfile:
    if self.search in line:
        line = line[3:24]+[81:83]
        self.searchresults.write(line+"\n")
</code></pre>
<p>Here's an abridged version of the text file I'm working with (original <a href="http://www.aviationweather.gov/static/adds/metars/stations.txt" rel="nofollow">here</a>):</p>
<pre><code>! Author: Greg Thompson  NCAR/RAP
!         please mail corrections to gthompsn (at) ucar (dot) edu
! Date: 24 Feb 2015
! This file is continuously maintained at:
! http://www.rap.ucar.edu/weather/surface/stations.txt
!
! [... more comments ...]

ALASKA             19-SEP-14                                                  
CD  STATION         ICAO  IATA  SYNOP   LAT     LONG   ELEV   M  N  V  U  A  C
AK ADAK NAS         PADK  ADK   70454  51 53N  176 39W    4   X     T          7 US
AK AKHIOK           PAKH  AKK          56 56N  154 11W   14   X                8 US
AK AKUTAN           PAUT               54 09N  165 36W   25   X                7 US
AK AMBLER           PAFM  AFM          67 06N  157 51W   88   X                7 US
AK ANAKTUVUK PASS   PAKP  AKP          68 08N  151 44W  642   X                7 US
AK ANCHORAGE INTL   PANC  ANC   70273  61 10N  150 01W   38   X     T  X  A    5 US
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're not far off - your problem is that you need to specify what you're slicing each time you slice it:</p>
<pre><code>for line in self.searchfile:
    if self.search in line:
        line = line[3:24] + line[81:83]
        self.searchresults.write(line+"\n")
</code></pre>
<p>... but you'll probably want to separate the two fields with a space:</p>
<pre><code>        line = line[3:24] + " " + line[81:83]
</code></pre>
<p>However, if you find yourself using <code>+</code> more than once to construct a string, you should think about using Python's <a href="https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting" rel="nofollow">built-in string-formatting abilities</a> instead (and while you're at it, you can add that newline in the same operation):</p>
<pre><code>for line in self.searchfile:
    if self.search in line:
        formatted = "%s %s\n" % (line[3:24], line[81:83])
        self.searchresults.write(formatted)
</code></pre>
</div>
<span class="comment-copy">Thanks very much , thats exactly what I was looking for, the extra information, I'll definitely read up on it.</span>
