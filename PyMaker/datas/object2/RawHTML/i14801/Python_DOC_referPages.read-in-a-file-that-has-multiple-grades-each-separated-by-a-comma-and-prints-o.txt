<div class="post-text" itemprop="text">
<p>QUESTION: Complete the following program, which reads in a file that has multiple grades, each separated by a comma, and prints out the computed average. That is, write the functions <code>getGrades():</code> and <code>calculateAverage():</code></p>
<pre><code>def main():
  grades = getGrades()   #get the file name containing the grades
                         #and return the contents of the file
  avg = calculateAverage(grades) #separate the grades into numbers and compute
                         #the average
  print("The calculated average is:", avg)
main()
</code></pre>
<p>I have inserted the given function and wrote a new program, but I am little bit confused, also I am getting an error. Please help!</p>
<pre><code>def getGrades():
  filename = input("Please enter a file name: ")
  openfile = open(filename, "r")
  readfile = openfile.readlines()

  return readfile

def calculateAverage(n):
  totalGrades = []

  for i in (n):
    Split = list(map(int, i.split(",")))
    totalGrades += Split

  avg = sum(totalGrades)/float(len(totalGrades))

  return avg

def main():
  grades = getGrades()                  
  avg = calculateAverage(grades) 
  print("The calculated average is:", avg)
main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In your <code>calculateAverage()</code> function, you pass the argument <code>n</code> but for the <code>for</code> loop you use the local variable name <code>readfile</code> of function <code>getGrades()</code>.</p>
<p>Also, the result of <a href="https://docs.python.org/3/library/stdtypes.html" rel="nofollow noreferrer"><code>split</code></a> is a list of strings. To convert them to integers to perform the summations you can use <a href="https://docs.python.org/3.4/library/functions.html#map" rel="nofollow noreferrer"><code>map()</code></a>. <code>map</code> returns an iterator that applies function to every item of iterable, yielding the results.</p>
<p>To remove newline and other whitespace from the lines you read you can use <a href="https://stackoverflow.com/questions/275018/how-can-i-remove-chomp-a-newline-in-python"><code>rstrip()</code></a>.</p>
<p>Finally, to perform a floating point division if both your arguments are integers you have to transform one of the two to a <code>float</code>. Check this <a href="https://stackoverflow.com/questions/2958684/python-division">answer</a>.</p>
<p>The final program looks like this:</p>
<pre><code>def getGrades():
  filename = input("Please enter a file name: ")
  openfile = open(filename, "r")
  readfile = openfile.readlines()

  return readfile

def calculateAverage(n):
  total_grades = []
  for i in (n):
    line_grade = list(map(int, i.rstrip().split(",")))
    total_grades += line_grade
  avg = sum(total_grades)/float(len(total_grades))
  return avg

def main():
  grades = getGrades()                  
  avg = calculateAverage(grades) 
  print("The calculated average is:", avg)

if __name__ == "__main__":
  main()
</code></pre>
<p>If you run this with a test file with contents:
5,10,15,20
you get:</p>
<pre><code>&gt;&gt;&gt; 
Please enter a file name: test.txt
The calculated average is: 12.5
&gt;&gt;&gt; 
</code></pre>
<p><code>calculateAverage(n)</code> without <code>map()</code> and with <a href="https://docs.python.org/3.4/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehensions</a> could be:</p>
<pre><code>def calculateAverage(n):
  total_grades = []
  for i in (n):
    line_grade = i.rstrip().split(",")
    line_grade = [int(x) for x in line_grade]
    total_grades += line_grade
  avg = sum(total_grades)/float(len(total_grades))
  return avg
</code></pre>
<p>Finally you can do it the naive way and have a for loop for converting each element in the list returned by split to integer:</p>
<pre><code>def calculateAverage(n):
  total_grades = []
  for i in (n):
    line_grade = i.rstrip().split(",")
    for element in line_grade:
      total_grades.append(int(element))
  avg = sum(total_grades)/float(len(total_grades))
  return avg
</code></pre>
</div>
<span class="comment-copy">Smells homework. What kind of error are you getting?</span>
<span class="comment-copy">error: readfile is not defined</span>
<span class="comment-copy">Yes, it is a homework problem. But I am excessively trying myself. I just need little help.</span>
<span class="comment-copy">In your getgrades function you should put the grades in a list and pass that to the other function</span>
<span class="comment-copy">If you're only entering a filename (and not a file path), the "open" function call is expecting the file to be in the same directory as your python script.  Otherwise, you need to pass a path to the file.  Are your script/file saved in the same directory?</span>
<span class="comment-copy">what is <code>map</code>? .</span>
<span class="comment-copy">Your program gives me an error: invalid literal for int() with base 10: '4.9\n'</span>
<span class="comment-copy">Your program gives me an error: invalid literal for int() with base 10: '4.9\n'</span>
<span class="comment-copy">It was because you didn't remove newline characters - such as <code>\n</code> - before adding them to the list. Give it a go now, I have added the <code>rstrip()</code> part</span>
<span class="comment-copy">Can you replace <code>map</code> with something else? I did not learn that function.</span>
