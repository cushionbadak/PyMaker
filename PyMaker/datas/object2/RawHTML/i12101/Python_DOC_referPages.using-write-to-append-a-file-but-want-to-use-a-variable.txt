<div class="post-text" itemprop="text">
<p>In my code I have a file opened, and I want to append to the file the current date and time. I'm using <a href="https://docs.python.org/3.5/library/datetime.html" rel="nofollow">datetime</a> to get the date</p>
<pre><code>currenttime = datetime.datetime.now()
</code></pre>
<p>And assigning the current date/time to a variable called "currenttime"</p>
<pre><code>print(currenttime)
with open("log.txt", "a") as f:
    log.write(currenttime)
</code></pre>
<p>When I try to do this, I get the error:</p>
<pre><code>TypeError: write() argument must be str, not datetime.datetime
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is becuase you're trying to write a datetime object to a text file. You can convert the datetime object in a few different ways to make it writable, for example:</p>
<pre><code>str(currenttime)
</code></pre>
<p>or</p>
<pre><code>currenttime.isoformat()
</code></pre>
<p>ie:</p>
<pre><code>with open("log.txt", "a") as f:
    f.write(str(currenttime))
</code></pre>
<p>If you want to use a special format of your timestamp you can use <code>strftime</code>, for example:</p>
<pre><code>In [1]: datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')
Out[1]: '2016-03-01 23:52:36'
</code></pre>
<p>You can read more about formatting the datetime here: <a href="https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior" rel="nofollow">https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior</a></p>
<p>From the name of your file and the fact you're adding a timestamp it might be a good idea to look into the logging module in python, if logging is what you want. It's very well suited for that purpose instead of manually writing to a file: <a href="https://docs.python.org/2/library/logging.html" rel="nofollow">https://docs.python.org/2/library/logging.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Convert <code>currenttime</code> to string with <a href="https://docs.python.org/3/library/stdtypes.html#str" rel="nofollow"><code>str()</code></a>:</p>
<pre><code>with open("log.txt", "a") as f:
    f.write(str(currenttime))
</code></pre>
<p>Note that you should write to your file with <code>f.write()</code>, not <code>log.write()</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Typecast <code>datetime</code> object to <code>str</code></p>
<pre><code>log.write(str(currenttime))
</code></pre>
</div>
