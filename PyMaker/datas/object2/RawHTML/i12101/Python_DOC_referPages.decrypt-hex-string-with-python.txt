<div class="post-text" itemprop="text">
<p>I encrypted a String with Java (on Android) and I get 'A14E71A6F4E8D8E465C3C302C2A96BD2' as a byte array.</p>
<p>I now want to encrypt it with python, but it doesn't work:</p>
<pre><code>cipher = 'A14E71A6F4E8D8E465C3C302C2A96BD2'
aes = AES.new(key, AES.MODE_CBC, iv)
print aes.decrypt(cipher)
</code></pre>
<p>I already searched the internet, but didn't find a solution.</p>
<p>Thanks in advance</p>
</div>
<div class="post-text" itemprop="text">
<p>In Python 2 you can decode the hex string using <a href="https://docs.python.org/2/library/stdtypes.html#str.decode" rel="nofollow"><code>str.decode()</code></a>:</p>
<pre><code>from Crypto.Cipher import AES

cipher = 'A14E71A6F4E8D8E465C3C302C2A96BD2'
aes = AES.new(key, AES.MODE_CBC, iv)
print aes.decrypt(cipher.decode('hex'))
</code></pre>
<p>If everything else is in place (iv, key, encryption mode) this might work.</p>
<p>If you want this to work in both Python 2 and Python 3 then you can use <a href="https://docs.python.org/3/library/binascii.html#binascii.unhexlify" rel="nofollow"><code>binascii.unhexlify()</code></a> to decode the hex encoded string:</p>
<pre><code>from binascii import unhexlify

cipher = unhexlify(b'A14E71A6F4E8D8E465C3C302C2A96BD2')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It may not be enough, you have not said how this was encrypted, but at the least you need to hex decode this before you decrypt.</p>
<pre><code>cipherData = binascii.unhexlify(cipher)
...
print aes.decrypt(cipherData)
</code></pre>
</div>
<span class="comment-copy">How was it encrypted originally? Was it with AES? Do you have the same key? You also need to decode the base64 before decrypting</span>
<span class="comment-copy">If you are wondering why you have so many downvotes on your question please read <a href="http://stackoverflow.com/help/how-to-ask">stackoverflow.com/help/how-to-ask</a></span>
<span class="comment-copy">What about the iv, it is the same? Does Python AES expect hexadecimal encoded input encryption?</span>
<span class="comment-copy">On Android I use "Cipher.getInstance("AES/CBC/PKCS5Padding")". It returns a byte-array which I send as a SMS to a Raspi on which the python script runs.  I use the same iv in python as I used in on Android.</span>
<span class="comment-copy">@TobiasKohlhauf Does Python AES expect hexadecimal encoded input encryption ordoes it need to be decoded to binary?</span>
<span class="comment-copy">Thank you! The unhexlify version worked in my case! (:</span>
<span class="comment-copy">In java I use "Cipher.getInstance("AES/CBC/PKCS5Padding")". Hope that helps.  If I use the base64 decoder I get an error: Input strings must be a multiple of 16 in length</span>
<span class="comment-copy">Yes, the output of the java encryption function is hex. But I don't know how to decrypt that hex-String in python.</span>
<span class="comment-copy">My bad, yes I glanced at the data and thought base64, hex it is.</span>
