<div class="post-text" itemprop="text">
<p>I'm adding the text contained in the second column of a number of csv files into one list to later perform sentiment analysis on each item in the list. My code is fully working for large csv files at the moment, but the sentiment analysis I'm performing on the items in the list takes too long which is why I want to only read the first 200 rows per csv file. The code looks as follows:  </p>
<pre><code>import nltk, string, lumpy 
import math
import glob
from collections import defaultdict
columns = defaultdict(list)
from nltk.corpus import stopwords
import math
import sentiment_mod as s
import glob

lijst = glob.glob('21cf/*.csv')

tweets1 = []
for item in lijst:
    stopwords_set = set(stopwords.words("english"))
    with open(item, encoding = 'latin-1') as d:
        reader1=csv.reader(d)
        next(reader1)
        for row in reader1:
            tweets1.extend([row[2]])
        words_cleaned = [" ".join([words for words in sentence.split() if 'http' not in words and not words.startswith('@')]) for sentence in tweets1]
        words_filtered = [e.lower() for e in words_cleaned]
        words_without_stopwords = [word for word in words_filtered if not word in stopwords_set]
    tweets1 = words_without_stopwords
    tweets1 = list(filter(None, tweets1))
</code></pre>
<p>How do I make sure to only read over the first 200 rows per csv file with the csv reader?</p>
</div>
<div class="post-text" itemprop="text">
<p>The shortest and most idiomatic way is probably to use <a href="https://docs.python.org/3.6/library/itertools.html#itertools.islice" rel="noreferrer"><code>itertools.islice</code></a>:</p>
<pre><code>import itertools
...
        for row in itertools.islice(reader1, 200):
            ...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can just add a count, and break when in reaches 200, or add a loop with a <code>range</code> of 200.</p>
<p>Define a variable right before your for loop for <code>row</code>s starts:</p>
<pre><code>count = 0
</code></pre>
<p>Then inside your loop:</p>
<pre><code>count = count + 1
if count == 200: 
    break
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="https://docs.python.org/3/library/io.html?highlight=readlines#io.IOBase.readlines" rel="nofollow noreferrer">readlines()</a> should do it.</p>
<pre><code>with open(item, encoding = 'latin-1').readlines()[0: 199] as d:
    reader1=csv.reader(d)
</code></pre>
</div>
<span class="comment-copy">Why not simply add a for loop with required range?</span>
<span class="comment-copy">You could always just use Pandas like in <a href="https://stackoverflow.com/questions/15008970/way-to-read-first-few-lines-for-pandas-dataframe">this question</a></span>
