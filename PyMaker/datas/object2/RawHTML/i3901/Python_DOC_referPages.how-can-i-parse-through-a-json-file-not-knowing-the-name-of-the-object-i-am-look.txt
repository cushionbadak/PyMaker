<div class="post-text" itemprop="text">
<p>I am looking to easily parse through a JSON file that I am getting with a GET request. I am new to this and would like some help. This the the JSON file I get from the GET request. </p>
<pre><code>{
"Meta Data": {
    "1. Information": "Intraday Prices and Volumes for Digital Currency",
    "2. Digital Currency Code": "BTC",
    "3. Digital Currency Name": "Bitcoin",
    "4. Market Code": "CNY",
    "5. Market Name": "Chinese Yuan",
    "6. Interval": "5min",
    "7. Last Refreshed": "2018-05-19 15:50:00",
    "8. Time Zone": "UTC"
},
"Time Series (Digital Currency Intraday)": {
    "2018-05-19 15:50:00": {
        "1a. price (CNY)": "53014.32816681",
        "1b. price (USD)": "8311.73569032",
        "2. volume": "602.25300624",
        "3. market cap (USD)": "5005767.80656960"
    },
    "2018-05-19 15:45:00": {
        "1a. price (CNY)": "53013.58227123",
.......
</code></pre>
<p>I would like to return the most recent USD price of whatever crypto coin I have entered. This is first object in the "Time Series (Digital Currency Intraday)" object. How do I notate this in python? I know how to go into an object given I known the name, but since the time is always changing, how do I just go into the first one (ie. the index of the object) rather than the name "2018-05-19 15:50:00". This is my code that is relevant to this section:</p>
<pre><code>data = {'function' : 'DIGITAL_CURRENCY_INTRADAY', 'symbol' : 'BTC' , 'market' : 'CNY', 'apikey' : APIKey}
r = requests.get('https://www.alphavantage.co/query?',data)
data = r.json()

symbol = data['Meta Data']['2. Digital Currency Code'] #this works fine
print(symbol)
price = data['Time Series (Digital Currency Intraday)'] #how do I keep going in an say "the first index of Time Series.."?
print(price)
</code></pre>
<p>I know this shouldn't be hard, but I have looked all over the internet and can't fine a clear answer on how to go through JSON files. Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You can iterate over the elements of <code>data['Time Series (Digital Currency Intraday)']</code> using <code>dict.items()</code>:</p>
<pre><code>dated_prices = data['Time Series (Digital Currency Intraday)']
for registered_date, prices in dated_prices.items():
    # e.g. for first iteration, "registered_date" contains "2018-05-19 15:50:00"
    usd_price = prices["1b. price (USD)"]
    print(usd_price)
</code></pre>
<p>If you just want to get the first date:</p>
<pre><code>dated_prices = data['Time Series (Digital Currency Intraday)']

# Sort dates prices from the latest to the earliest
sorted_dated_prices = sorted(dated_prices.items(), key=lambda dp: dp[0], reverse=True)

# Get the latest dated price entry
latest_dated_price = sorted_dated_prices[0]

# Get the price (ignore the date)
latest_price = latest_dated_price[1]

# Get the dollar price
usd_price = latest_price["1b. price (USD)"]
print(usd_price)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<ol>
<li>Collect all keys from the ""Time Series (Digital Currency Intraday)" dict</li>
<li>Convert them to datetime objects (<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime" rel="nofollow noreferrer">https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime</a>) </li>
<li>Sort them</li>
<li>Take the first one</li>
</ol>
<p>Does that solve your problem?</p>
</div>
<div class="post-text" itemprop="text">
<p>If you're familiar with Python's Pandas, you could always try to utilize <code>pandas.read_json</code>. This puts your data into a pandas object, making traditional munging easier.  <code>recent_date = df['StartDate'].max()</code></p>
</div>
<span class="comment-copy">So this gives me all the prices from the entire JSON file. I just want the most recent price. When I move the print function out of the loop it gives me the price from a random time. Any ideas on how to get just the most recent price?</span>
<span class="comment-copy">Sure, sorry for missing that part. I updated my answer with some code to get the latest entry only.</span>
