<div class="post-text" itemprop="text">
<p>For my project i have scrapped twitter data in multiple jsonl file which needs to converted as single file and then read the single file again to extract informations.</p>
<p>Code used to combine multiple jsons:</p>
<pre><code>import glob
from tweepy import Cursor
jsonfile  = glob.glob('C:\\Users\\arun\\Desktop\\Tweets\\*.jsonl')
#writejson = json.dumps('C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl', 'wb')
tweets = []
for files in jsonfile:
    with open(files, 'r') as f:
        for line in f:
            tweets.append(json.loads(line))
</code></pre>
<p>Above code working fine, but this appends json file as string with each line seperated by ','.</p>
<p>But, I am getting "JSONDecodeError: Expecting value: line 2 column 1 (char 2)"</p>
<pre><code>from collections import Counter
def get_hashtags(tweet):
    entities = tweet.get('entities', {}) #from tweets find entities &amp; extract it
    hashtags = entities.get('hashtags', []) #from entities find hastags &amp; extract it
    return [tag['text'].lower() for tag in hashtags] #convert as lower case and return back

fname = "C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl" # extracts tweets json file path
with open(fname, 'r') as f:
    hashtags = Counter() #is a dictionary used to count hashable objects
    for line in f: #Reads each line at a time
        tweet1 = json.loads(line)
</code></pre>
<p>Kindly suggest on this error. Thanks !!</p>
</div>
<div class="post-text" itemprop="text">
<p>Your code does not actually "append json file as string with each line seperated by ','". It appends the dict (or list, or whatever) parsed from each JSON line as a dict (or list, or whatever).</p>
<p>You haven't shown us the code that actually writes that <code>output.jsonl</code>, but that's almost certainly the code that's wrong. Most likely, you're doing something like this:</p>
<pre><code>outfile = open('C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl', 'w')
for tweet in tweets:
    outfile.write(str(tweet))
</code></pre>
<p>Or maybe this:</p>
<pre><code>outfile = open('C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl', 'w')
outfile.write(str(tweets))
</code></pre>
<p>Either way… that's the problem. When you convert a list to a string with <code>str</code>, you get the Python representation of that list. Which isn't JSON, and isn't JSONLines.</p>
<p>If you want to write JSONLines, you do it effectively the same way you read it:</p>
<pre><code>outfile = open('C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl', 'w')
for tweet in tweets:
    outfile.write(json.dumps(tweet) + '\n')
</code></pre>
<p>But really, if you're planning to export the whole list all at once, just to import the whole list all at once, do you need JSONLines instead of just one big JSON array?</p>
<pre><code>outfile = open('C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl', 'w')
json.dump(outfile, tweets)
</code></pre>
<hr/>
<p>Meanwhile, if you're having trouble with JSONLines, instead of writing it yourself, why not use a tested implementation like, e.g., <a href="https://pypi.org/project/jsonlines/" rel="nofollow noreferrer"><code>jsonlines</code></a>?</p>
</div>
<span class="comment-copy">This does not append the JSON file as a string with each line separated by ','. It appends each JSON text as a dict (or list, or whatever). If you then <code>print(tweets)</code>, or <code>outfile.write(str(tweets))</code>, or something like that, then it will format the list as a string, but… just don't do that.</span>
<span class="comment-copy">Where is the json object coming from? If that is the the json module from the standard library as it appears, the docs are helpful: <a href="https://docs.python.org/3/library/json.html#json.JSONDecodeError" rel="nofollow noreferrer">docs.python.org/3/library/json.html#json.JSONDecodeError</a>. It's most likely exactly as it says, the parser is expecting a value at line 2 column 1 (char 2) of the input and is not finding a value there. If you can provide the input that could also be of assistance in helping you.</span>
<span class="comment-copy">Thank you so much, i have implemented and working....                                          outfile = open('C:\\Users\\arun\\Desktop\\Tweets\\output.jsonl', 'w') for tweet in tweets:     outfile.write(json.dumps(tweet) + '\n')</span>
<span class="comment-copy">@BalajiVenky As a side not: You should always <code>close</code> any file you <code>open</code>—or, better, use a <code>with</code> statement to do it automatically. That's especially true for files you're writing to. If the program that did the writing is still running, and you look at the file, the last few writes may not show up until that program calls <code>close</code>.</span>
<span class="comment-copy">Yes, definitely. Thanks !!</span>
