<div class="post-text" itemprop="text">
<p>I'm using selenium to scrape a directory and i'm using the enumerate operator to give me index. The problem is every time I go to a new page the idx starts over. So for example, if there are 15 listings per page, I get the idx repeating 0-15 for a list of 150 listings. How can I append the idx for each page in the pagination?</p>
<pre><code>while next_page is not None:
    for idx, company in enumerate(company_links_elements):
        company_id = idx
        company_url = company.get_attribute("href")
        # company_name = company.get_attribute("text")
        # company_address = remove_html_tags(company_address_elements[idx].get_attribute("innerHTML"))
        # writer.writerow((company_name, company_url, company_address))
        writer.writerow((idx, company_url))
    time.sleep(random.randint(1, 3))
    next_page.click()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try defining <code>idx</code> outside the <code>while</code> loop and incrementing it on every iteration of the <code>for</code> loop. Something like this:</p>
<pre><code>idx = 0
while next_page is not None:
    for company in company_links_elements:
        company_url = company.get_attribute("href")
        writer.writerow((idx, company_url))
        idx += 1

    time.sleep(random.randint(1, 3))
    next_page.click()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can do this sort of thing with <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer"><code>enumerate</code></a>, you just need to pass it the optional <code>start</code> parameter. Here's a short demo:</p>
<pre><code>idx = 0
for i in range(3):
    print('Page', i)
    for k, val in enumerate('abc', idx):
        print(k, val)
    idx = k + 1
</code></pre>
<p><strong>output</strong></p>
<pre><code>Page 0
0 a
1 b
2 c
Page 1
3 a
4 b
5 c
Page 2
6 a
7 b
8 c
</code></pre>
</div>
