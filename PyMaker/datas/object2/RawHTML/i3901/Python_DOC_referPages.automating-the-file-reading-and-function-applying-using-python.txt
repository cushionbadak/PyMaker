<div class="post-text" itemprop="text">
<p>How can I automate 'csv' file reading, wherein I have to read files after every five minutes and apply some operations using Pandas. I don't want to manually read every file and name each one of it and then apply the functions (self defined) on those files. I'm a beginner in Programming. These are the functions I want to apply after reading the file. Thanks in advance!</p>
<pre><code>df_9May = PreprocessDataframe(df_9May) #calling the function for the 9th May DF 



'''Reading the new DataFrame''' 

df_10May = pd.read_csv('fo10MAY2018bhav.csv', parse_dates = True)
df_10May = PreprocessDataframe(df_10May)


df_9_10 = combineDFs(df_9May, df_10May)
#print("count = {}".format(count))

df_9_10 = NewNetVal_AvgPrice(df_9_10)



df_11May = pd.read_csv('fo11MAY2018bhav.csv')
df_11May = PreprocessDataframe(df_11May)


df_10_11 = combineDFs(df_9_10, df_11May)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use the time module to sleep and perform your tasks at regular intervals (5 minutes in this case)
Provide the folder/directory path and using the os.listdir(path) you can get the list of your file names.</p>
<pre><code>import time, os
path = input("CSV Files directory path")
flist = [file for file in os.listdir(path) if file.endswith('.csv')]

while True:  # Runs indefinitely or you could assign a counter n-times
  for file in flist:
    # Read the CSV File using pandas
    # perform your custom operations
  time.sleep(300) # 300 Seconds
</code></pre>
</div>
<span class="comment-copy">use scheduler to run your script automatically, use os.listdir to provide file location</span>
<span class="comment-copy">Use a <a href="https://docs.python.org/3/reference/compound_stmts.html#while" rel="nofollow noreferrer"><code>while</code></a> loop and <a href="https://docs.python.org/3/library/time.html#time.sleep" rel="nofollow noreferrer"><code>time.sleep()</code></a> to execute something repeatedly on a defined time interval. Use <a href="https://docs.python.org/3/library/os.html#os.listdir" rel="nofollow noreferrer"><code>os.listdir()</code></a>, <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk()</code></a> or <a href="https://docs.python.org/3/library/glob.html#glob.glob" rel="nofollow noreferrer"><code>glob.glob()</code></a> to list a directory with files so you don't have to type all the names manually.</span>
<span class="comment-copy">I think you'll have to be clear what you mean by 'automate'. If you mean: run this code wait 5mins then run it again ad nauseum then please say that and I, among others, can provide an answer.</span>
<span class="comment-copy">With 'automate' I mean to say that the names that I've given in the code to the data-frames (say - df_9May, df_10May, df_10_11 , etc.(in the code above)) be automatically given and all the functions be performed automatically without me having to do it every time a new file is read. Is there a way to automatically name the files and in an orderly manner. (such as df_3_00PM or df_3_05PM).</span>
<span class="comment-copy">To add to this code, record time before/after operations so as to take into account the time taken. Then call sleep accordingly.</span>
<span class="comment-copy">Thank you @GeneByun. Indeed, that should be done. Else, the time taken for the program to run would add to the the 300 seconds and there'd be a delay in reading the next file.</span>
<span class="comment-copy">Thank you @Surya Tej, this was helpful. :)</span>
