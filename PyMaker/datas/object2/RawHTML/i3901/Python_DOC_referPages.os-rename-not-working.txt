<div class="post-text" itemprop="text">
<p>I try to rename files. Do not want file begins with "__". Tried using code from post:
<a href="https://stackoverflow.com/questions/24297468/removing-characters-from-filename-in-batch">Removing characters from filename in batch</a></p>
<p>When making list:</p>
<pre><code>myDir = os.listdir(r"S:\Shared\Santa Rosa")
for x in myDir:
  ...
</code></pre>
<p>I get this output:</p>
<pre class="lang-none prettyprint-override"><code>Tuesday
Wednesday
__1831.pdf
__1832.pdf
__1833.pdf
__1834.pdf
__1841.pdf
__1842.pdf
__1843.pdf
__1844.pdf
__1851.pdf
__1852.pdf
__1853.pdf
__1854.pdf
__1861.pdf
__1862.pdf
</code></pre>
<p>But when do this:</p>
<pre><code>for x in myDir:
    os.rename(x, x.replace('__', ''))
</code></pre>
<p>I get error:</p>
<pre class="lang-none prettyprint-override"><code>Traceback (most recent call last):
  File "&lt;interactive input&gt;", line 2, in &lt;module&gt;
WindowsError: [Error 2] The system cannot find the file specified
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You should give the full pathname to os.rename, e.g. something like</p>
<pre><code>dirName = r"S:\Shared\Santa Rosa"
myDir = os.listdir(dirName)
for x in myDir:
    oldName = os.path.join(dirName, x)
    newName = os.path.join(dirName, x.replace('__', ''))
    os.rename(oldName, newName)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is a job for <code>glob</code>. Use it to filter filenames. And since it returns a usable path, you don't need <code>os.path.join</code>.</p>
<pre><code>&gt;&gt;&gt; from glob import glob
&gt;&gt;&gt; import os
&gt;&gt;&gt; for fn in glob("tmp/__*.pdf"):
...     print(fn)
...     os.rename(fn, fn.replace("__", ""))
... 
tmp/__aaa.pdf
tmp/__bbb.pdf
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>os.rename()</code> needs the full path to the file:</p>
<pre><code>os.rename(os.path.join(r"S:\Shared\Santa Rosa", x), os.path.join(r"S:\Shared\Santa Rosa", x.replace("__", ""))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>os.path.join</code> to get the full path.</p>
<pre><code>dirPath = r"S:\Shared\Santa Rosa"
myDir = os.listdir(dirPath)
for x in myDir:
   x = os.path.join(myDir, x)
   os.rename(x, x.replace('__', ''))
</code></pre>
</div>
<span class="comment-copy">You'll need to prepend the entire path to your filenames... this means adding <code>S:\Shared\Santa Rosa</code> as the prefix.</span>
<span class="comment-copy">To make your work a tad easier, try pathlib: <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">docs.python.org/3/library/pathlib.html</a></span>
<span class="comment-copy">I suggest you use <code>glob.glob()</code> instead of <code>os.listdir</code> because the former will return full pathnames if you pass it one as an argument in the call. Otherwise you'll need to <code>os.path.join()</code> the parent-folder name(s) to every filename-only that the latter returns before using it.</span>
<span class="comment-copy">this works perfectly! Thank you.</span>
