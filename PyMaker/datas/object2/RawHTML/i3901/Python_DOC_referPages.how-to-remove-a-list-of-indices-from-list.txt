<div class="post-text" itemprop="text">
<p>I have two lists of lists of the same length in Python 3 as follows:</p>
<pre><code>A = [[0], [0, 1], [0, 1, 2], [0, 1], [0, 1, 2, 3]]
W = [[2, 2], [1, 2, 3], [2, 2, 2, 3], [1, 3, 4, 4], [1, 1, 3, 4]]
</code></pre>
<p>Elements of <code>A</code> are indices of elements of <code>W</code>. I would like to remove the elements of <code>W</code> given <code>A</code>. So, in the example, I would like to remove <code>W[0][0]</code>, <code>W[1][0]</code>, <code>W[1][1]</code>, <code>W[2][0]</code>, <code>W[2][1]</code>, <code>W[2][2]</code>, etc.</p>
<p>What I did is this:</p>
<pre><code>for t in range(len(A)):
    del W[t][A[t]]
</code></pre>
<p>But this gives the following error: <code>TypeError: list indices must be integers or slices, not list</code></p>
</div>
<div class="post-text" itemprop="text">
<p>Unlike <code>numpy</code> arrays, you cannot index a list with a list. But you can use a list comprehension for this task:</p>
<pre><code>A = [[0], [0, 1], [0, 1, 2], [0, 1], [0, 1, 2, 3]]
W = [[2, 2], [1, 2, 3], [2, 2, 2, 3], [1, 3, 4, 4], [1, 1, 3, 4]]

res = [[j for i, j in enumerate(w) if i not in a] for a, w in zip(A, W)]

print(res)

[[2], [3], [3], [4, 4], []]
</code></pre>
<hr/>
<p>Or, if you are happy using a 3rd party library, <code>numpy</code> syntax is simpler:</p>
<pre><code>import numpy as np

res = [np.delete(i, j).tolist() for i, j in zip(W, A)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>One easy way is to use two nested loops. As you have probably noticed by now, you need two index numbers - one for the list in A and another for the element number of this list. Here is one way to tackle the problem:</p>
<pre><code>A = [[0], [0, 1], [0, 1, 2], [0, 1], [0, 1, 2, 3]]
W = [[2, 2], [1, 2, 3], [2, 2, 2, 3], [1, 3, 4, 4], [1, 1, 3, 4]]

#cycle through list A and keep track of the list number i
for i, a_list in enumerate(A):
    #retrieve index from each list in A, start with the highest index to avoid index problems
    for j in sorted(a_list, reverse = True):
        #delete the element j in list i of W
        del W[i][j]

print(W)
#output
#[[2], [3], [3], [4, 4], []]
</code></pre>
</div>
<span class="comment-copy">Have you printed out <code>A[t]</code> in this loop? Your mistake (and how to approach this problem) should become obvious then.</span>
<span class="comment-copy">It prints <code>[0] [0, 1] [0, 1, 2] [0, 1] [0, 1, 2, 3]</code>, where is the problem? I understand the error but I cannot fix it.</span>
<span class="comment-copy">They are lists. You have to retrieve each integer from each list and delete the element from the corresponding W list. The function <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer">enumerate()</a> makes it easier to synchronise these two tasks</span>
