<div class="post-text" itemprop="text">
<p>I'm a newbie into Python and i'm trying to open a json file that looks like this:</p>
<pre><code>{
  "empty_char":"",
  "empty_number": ,
  "char":"i'm a char",
  "number":0
}
</code></pre>
<p>Let's say that this is the <code>test.json</code> file:</p>
<p>When trying to open it in python I'm using:</p>
<pre><code>import json

with open('test.json') as f:
    data = json.load(f)
</code></pre>
<p>and it raises the following error:</p>
<pre><code>Traceback (most recent call last):
  File "&lt;input&gt;", line 2, in &lt;module&gt;
  File "C:\ProgramData\Anaconda3\Lib\json\__init__.py", line 299, in load
    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)
  File "C:\ProgramData\Anaconda3\Lib\json\__init__.py", line 354, in loads
    return _default_decoder.decode(s)
  File "C:\ProgramData\Anaconda3\Lib\json\decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "C:\ProgramData\Anaconda3\Lib\json\decoder.py", line 357, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 3 column 19 (char 39)
</code></pre>
<p>It gives an error because of <code>"empty_number": ,</code></p>
<p>How can I deal with this error if I can't modify my <code>.json</code> file?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the more flexible <a href="http://pyyaml.org/wiki/PyYAMLDocumentation" rel="nofollow noreferrer"><code>yaml</code></a> to read in values not provided as <code>None</code>.</p>
<pre><code>import yaml
from io import StringIO

mystr = StringIO("""{
  "empty_char":"",
  "empty_number": ,
  "char":"i'm a char",
  "number":0
}""")

# replace mystr with open('test.json', 'r')
with mystr as stream:
    res = yaml.load(stream)

print(res, type(res))

{'empty_char': '', 'empty_number': None, 'char': "i'm a char", 'number': 0}
&lt;class 'dict'&gt;
</code></pre>
<p>Note <a href="https://docs.python.org/3/library/io.html#io.StringIO" rel="nofollow noreferrer"><code>io.StringIO</code></a> lets us read from a string as if it were a file.</p>
</div>
<span class="comment-copy">that isn't valid json....get a new valid json file</span>
<span class="comment-copy">that is true, but sometimes in real life weird things like this can happen.</span>
<span class="comment-copy">Thats a cool workaround.</span>
