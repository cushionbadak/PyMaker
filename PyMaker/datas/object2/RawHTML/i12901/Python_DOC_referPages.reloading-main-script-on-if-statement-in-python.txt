<div class="post-text" itemprop="text">
<p>I have an IRC bot working on twisted. I want him to reload itself (disconnect, reopen his main .py file with all changes made while he was running and start again) through external input</p>
<p>The if statement would be something like:</p>
<pre><code>if msg.startswith(".restart"):
    if user in admin:
        msg = "Restarting"
        SendMsg(self, channel, msg)
        reload(main.py)
</code></pre>
<p>The only answers I found were how to reload modules.</p>
<p>edit: Best answer to do kinda what I wanted to do is in the comments below accepted answer</p>
</div>
<div class="post-text" itemprop="text">
<p>A script reloading itself would not make sense. Where would the execution resume?
The only possibility is to restart from the beginning, which would be the same as killing and starting the process again.</p>
<p>What you can do is put as much code as you can in a different module (but not the main loop) and call that module from the main script.
And, when the main script sees the <code>.reload</code> command, reload the module.</p>
</div>
<span class="comment-copy">Would it be possible to start running itself elsewhere and then quit()?</span>
<span class="comment-copy">Yes. Use <code>os.execv(sys.argv[0], sys.argv[1:])</code>. <a href="https://docs.python.org/3/library/os.html#os.execv" rel="nofollow noreferrer">docs.python.org/3/library/os.html#os.execv</a></span>
