<div class="post-text" itemprop="text">
<p>I have a tar file with that contains compressed tar files.  Like this:</p>
<pre><code>gnomeAware@devserv:~$ tar tf test.tar
File1.tar.gz
File2.tar.gz
File3.tar.gz
File4.tar.gz
</code></pre>
<p>tarfile expects a string as the file to open.  Is there anyway to pass it a file object?</p>
<pre><code>tar = tarfile.open('test.tar', 'r') # Unpack tar
for item in tar:
  Bundle=tar.extractfile(item) # Pull out the file
  t = tarfile.open(Bundle, "r:gz") # Unpack tar
  for tItem in t:
  ...
</code></pre>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>the definition of tarfile.open looks like this
<code>def open(cls, name=None, mode="r", fileobj=None, bufsize=RECORDSIZE, **kwargs):</code></p>
<p>And python <a href="https://docs.python.org/2/library/tarfile.html#tarfile.open" rel="nofollow">documentation</a> says that</p>
<blockquote>
<p>If fileobj is specified, it is used as an alternative to a file object opened for name. It is supposed to be at position 0.</p>
</blockquote>
<p>so, instead of calling it with positional argument, you can call it with a keyword argument. Pass a fileobj instead of the name.</p>
<pre><code>import tarfile

f = open('archive.tar', 'rb')
print (f)
tar = tarfile.open(fileobj=f, mode='r:') # Unpack tar
for item in tar:
    print(item)
</code></pre>
</div>
<span class="comment-copy">From <a href="https://docs.python.org/3/library/tarfile.html#tarfile.open" rel="nofollow noreferrer"><code>tarfile.open</code></a>: <i>"If fileobj is specified, it is used as an alternative to a file object opened in binary mode for name. It is supposed to be at position 0."</i>. <code>tar.extractfile(fileobj=Bundle, mode="r:gz")</code></span>
