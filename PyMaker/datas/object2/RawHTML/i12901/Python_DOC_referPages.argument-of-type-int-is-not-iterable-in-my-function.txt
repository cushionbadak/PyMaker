<div class="post-text" itemprop="text">
<p>Im trying to resolve an issue with my code, where I am executing my function <code>play()</code> , but the argument i pass in of <code>--b</code> is an <code>int</code>, what am I doing wrong?</p>
<pre><code>import argparse
from num2words import num2words
import subprocess

def play():
    parser = argparse.ArgumentParser()
parser.add_argument("--b", default='99',type=str,help="B?")
    args = parser.parse_args() 
    for iteration in reversed(range(args.b)):
        print('Wee!')

play()

if __name__ == '__main__':
    subprocess.call(['./file.py', '10'], shell=True)
</code></pre>
<p>I am executing this via:</p>
<pre><code>&gt;&gt;&gt; import sys; import subprocess;
&gt;&gt;&gt; subprocess.call([sys.executable, 'file.py', '--b', 10])
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
  File ".\subprocess.py", line 480, in call
  File ".\subprocess.py", line 633, in __init__
  File ".\subprocess.py", line 801, in _execute_child
  File ".\subprocess.py", line 541, in list2cmdline
TypeError: argument of type 'int' is not iterable
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>subprocess.call([sys.executable, 'file.py', '--b', 10])
</code></pre>
<p>All arguments in the argument list to <code>subprocess.call</code> (or other functions of the module) need to be string. So if you change the <code>10</code> to be a string <code>'10'</code> instead, it will work just fine:</p>
<pre><code>subprocess.call([sys.executable, 'file.py', '--b', '10'])
</code></pre>
<p>Note that calling a Python file using <code>subprocess</code> will not give you any exception when the called file fails to execute. It’s a completely separate process which—if it fails—just produces some error output you can read from the subprocess then.</p>
</div>
<span class="comment-copy">Put <code>10</code> in quotes: <code>"10"</code></span>
<span class="comment-copy">I think you have to pass it as string. So as @baldr said, try <code>subprocess.call([sys.executable, 'file.py', '--b', str(10)])</code></span>
<span class="comment-copy">@user700070 The subprocess.call runs on my system, are you sure the TypeError is not from your file.py?</span>
<span class="comment-copy"><code>default=99</code> is not a string!</span>
<span class="comment-copy">It just write <code>Wee!</code> 99 times. I don't get any errors. Please post a complete minimal verifiable example: <a href="http://stackoverflow.com/help/mcve">stackoverflow.com/help/mcve</a></span>
<span class="comment-copy">This is returning 0, any idea why?</span>
<span class="comment-copy">@user700070 Because <a href="https://docs.python.org/3/library/subprocess.html#subprocess.call" rel="nofollow noreferrer"><code>subprocess.call</code></a> returns the error code of the called application.</span>
<span class="comment-copy">Why isnt it outputting the value from print?</span>
<span class="comment-copy">Because that’s not what <code>subprocess.call</code> does. Please read the module documentation.</span>
