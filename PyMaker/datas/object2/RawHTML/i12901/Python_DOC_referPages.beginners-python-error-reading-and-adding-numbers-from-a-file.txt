<div class="post-text" itemprop="text">
<p>so i'm trying to pull numbers from a file numbers.txt and add them together.  The program can currently pull the numbers one at a time and print them spaced out on one line.  I now need it to total all of the values. The numbers in the file are:
9
19
15
17
5
17
The total should be 82 but it will only add the two number 17's and output 34</p>
<p>def main():</p>
<pre><code>numfile = open('numbers.txt', 'r')

for line in numfile:
    line = line.rstrip('\n')

    print (line, end=' ')
    total = int(line)
    total += total

print ("\nEnd of file")   
print (total)

numfile.close()
</code></pre>
<p>main()</p>
</div>
<div class="post-text" itemprop="text">
<p>You have <em>two</em> problems. The first is as other answers have said - you are reading in <em>strings</em>. You need to convert those to a numeric data type. This is either <code>int</code> or <code>float</code> (or if you are doing monetary values, I recommend using <a href="https://docs.python.org/3/library/decimal.html" rel="nofollow"><code>decimal</code></a>).</p>
<p>Very simply, this can be done like so:</p>
<pre><code>total += float(line)
</code></pre>
<hr/>
<p>Second, you are resetting <code>total</code> to <code>0</code> each time you go through your <code>for</code> loop. Thus, at the end of your loop, <code>total</code> will equal the last value you read.</p>
<p>To correct this, pull your <code>total = 0</code> out of the loop:</p>
<pre><code>total = 0
for line in numfile:
    ...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>convert the string to an int:</p>
<pre><code>total += int(line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You'll need to convert <code>line</code> to an integer. At the moment, you're trying to add a string to an integer, which isn't possible. Simply wrap <code>line</code> in <code>int()</code>, like this:</p>
<pre><code>total += int(line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The error tells you the exact problem: you're adding an <code>int</code> and a <code>str</code>. The <code>int</code> is <code>total</code> and the <code>str</code> is <code>line</code>. Everything from a file is of type <code>str</code>. To fix the error, do <code>total += int(line)</code>.</p>
<p>You will also need to initialize <code>total</code> <em>before</em> you start the loop, or it'll keep resetting to zero and leave you with just the final value.</p>
<p>Overall, you can streamline the code as follows:</p>
<pre><code>with open('numbers.txt') as f:
    print(sum(map(int, f)))
</code></pre>
<p>This maps the file iterator to <code>int</code>s, then adds them with <code>sum</code>, then prints it with <code>print</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to initialize <code>total</code> <em>before</em> the loop, not inside it. You're also doubling <code>total</code> instead of accumulating it. Try this:</p>
<pre><code>def main():

numfile = open('numbers.txt', 'r')

total = 0  # initialize here

for line in numfile:
    line = line.rstrip('\n')

    print (line, end=' ')
    total += int(line)  #/ accumulate here

print ("\nEnd of file")   
print (total)

numfile.close()

main()
</code></pre>
<p>Note that <code>total</code> is modified <strong>once before the beginning</strong> of the loop and <strong>once inside</strong> the loop.</p>
</div>
<span class="comment-copy">OK, thanks. I've removed the total = 0 and turned line into an integer.. but the program is only adding 2 numbers from the file not all 6.. but it will print all 6</span>
<span class="comment-copy">No, you're still reinitializing <code>total</code> every time through the loop. Try setting <code>total = 0</code> <i>before</i> the <code>for line in</code> statement.</span>
<span class="comment-copy">Ok thanks.  I tried that.  i'm still getting 34 as an answer instead of 82</span>
<span class="comment-copy">i have run the program with total initialized above the loop, and with "total = 0" removed.  I am still getting an output of 34 but not 82.</span>
<span class="comment-copy">Compare my solution to yours line-by-line and see if you can spot the difference.</span>
<span class="comment-copy">Awesome.  I appreciate your help.  I am new to this site.  Is their any way you get credit for helping?</span>
<span class="comment-copy">Mark my answer "Accepted" by clicking on the big check mark to the left of it. Glad I could help.</span>
