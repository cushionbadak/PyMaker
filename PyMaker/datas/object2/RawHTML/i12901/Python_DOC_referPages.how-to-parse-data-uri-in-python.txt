<div class="post-text" itemprop="text">
<p>HTML image elements have <a href="http://www.w3schools.com/tags/tag_img.asp" rel="nofollow">this</a> simplified format:</p>
<pre><code>&lt;img src='something'&gt;
</code></pre>
<p>That something can be <a href="http://tools.ietf.org/html/rfc2397" rel="nofollow"><code>data-uri</code></a>, for example:</p>
<pre><code>data:image/png;base64,iVBORw0KGg...
</code></pre>
<p>Is there a standard way of parsing this with python, so that I get <code>content_type</code> and base64 data separated, or should I create my own parser for this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Split the data URI on the comma to get the base64 encoded data without the header. Call <code>base64.b64decode</code> to decode that to bytes. Last, write the bytes to a file.</p>
<pre><code>from base64 import b64decode

data_uri = "data:image/png;base64,iVBORw0KGg..."
header, encoded = data_uri.split(",", 1)
data = b64decode(encoded)

with open("image.png", "wb") as f:
    f.write(data)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>w3lib (a library used by Scrapy) has a <a href="https://github.com/scrapy/w3lib/blob/c1a030582ec30423c40215fcd159bc951c851ed7/w3lib/url.py#L294" rel="noreferrer">function</a> to parse data uris:</p>
<pre><code>&gt;&gt;&gt; from w3lib.url import parse_data_uri
&gt;&gt;&gt; parse_data_uri('data:image/png;base64,iVBORw0KGg==')
ParseDataURIResult(media_type='image/png', media_type_parameters={}, data=b'\x89PNG\r\n\x1a')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This may help:</p>
<pre><code>import re
from lxml import html

BASE_NAME = "image_"

source_code = """&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA
AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
9TXL0Y4OHwAAAABJRU5ErkJggg==" alt="Red dot" /&gt;
&lt;img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" alt="Black dot" /&gt;"""

tree = html.fromstring(source_code)

for i,image in enumerate(tree.xpath('//img[contains(@src, "data:image")]/@src')):
    image_type, image_content = image.split(',', 1)
    image_type = re.findall('data:image\/(\w+);base64', image_type)[0]
    with open("{}{}.{}".format(BASE_NAME, i, image_type), "wb") as f:
        f.write(image_content.decode('base64'))
    print "[*] '{}' image found with content: {}\n".format(image_type, image_content)
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>[*] 'png' image found with content: iVBORw0KGgoAAAANSUhEUgAAAAUA
AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
9TXL0Y4OHwAAAABJRU5ErkJggg==

[*] 'gif' image found with content: R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=
</code></pre>
<p>It will save every <code>base64</code> image within <code>&lt;img&gt;</code> tags, with their respective file extension:</p>
<p>Prefixed by <strong>BASE_NAME</strong> + <strong>auto-increment digit(s) provided by <code>enumerate</code></strong> + <strong>image_extension</strong></p>
<p><a href="https://i.stack.imgur.com/NlJ8H.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/NlJ8H.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>Correcting JRodDynamite's post:</p>
<pre><code>from base64 import decodestring

png_arr= "data:image/png;base64,iVBORw0KGg..."
png_arr = png_arr.split(",")
png_arr = png_arr[1]

fh = open("imageToSave.png", "wb")
fh.write(decodestring(png_arr))
fh.close()
</code></pre>
</div>
<span class="comment-copy"><a href="http://stackoverflow.com/questions/30267199/downloading-image-data-uris-from-webpages-via-beautifulsoup" title="downloading image data uris from webpages via beautifulsoup">stackoverflow.com/questions/30267199/…</a></span>
<span class="comment-copy">Python 3 parses these natively <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.DataHandler" rel="nofollow noreferrer">docs.python.org/3/library/…</a></span>
<span class="comment-copy">the prettiest solution imho: short and produces well-structured result</span>
