<div class="post-text" itemprop="text">
<p>I work in GPG key generation programm with Python-GnuGP lib (just to make my life easier). I have used PyQt for the UI and to get values as well as two classes (one for the main up and the other for the dialog) to gen my key. The problem is that when I execute the <code>GenButton</code> I get the following errors in terminal:</p>
<pre><code>Key-Type: RSA
Key-Length: 4096
Passphrase: 1202
Name-Real: TestUser
Name-Email: test@gmail.com
Expire-Date: 2019-3-3
%commit

key not created
</code></pre>
<p>Here is my code: I tested it with build in values and all worked fine, but when I pass values from the <code>QlineEdit</code> boxes I get the above error.</p>
<pre><code>class GenKeyDialog(QtGui.QDialog, Ui_GPGGenerateWindow):
    def __init__(self):
        QtGui.QMainWindow.__init__(self)
        self.setupUi(self)
        self.gpg = gnupg.GPG(homedir='keys')
        self.gpg.encoding = 'utf-8'

        self.GenButton.clicked.connect(self.genkey)

    def genkey(self):
        type = "RSA"
        length = 4096
        name = str(self.NameEdit.text())
        email = str(self.EmailEdit.text())
        if str(self.PassEdit.text()) == str(self.RPassEdit.text()):
            passs = str(self.PassEdit.text())
        else:
            print "passwords do not match"
            return

        expire = str(self.ExpireEdit.text())
        input_data = self.gpg.gen_key_input(key_type=type, key_length=length, name_real=name, name_email=email, passphrase=passs, expire_date=expire)
        print input_data
        key = self.gpg.gen_key(input_data)
        print key


class Main_window_ex(QMainWindow, Ui_MainWindow):
    def createPGP(self):
        dialog = GenKeyDialog()
        ret = dialog.exec_()


    def __init__(self, parent = None):
        """
        Default Constructor. It can receive a top window as parent. 
        """
</code></pre>
<p>Screenshot:
<a href="https://i.stack.imgur.com/caUru.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/caUru.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>You are implementing <code>Main_window_ex.__init__</code> as an empty function. When instances of that class are initialised, nothing will happen.</p>
<p>I suspect that what you want is to have the <code>Main_window_ex</code> instances initialise exactly like its parent class. If that's what you want, don't implement a specific <code>Main_window_ex.__init__</code>.</p>
<p>You would have learned this when you worked through <a href="https://docs.python.org/3/tutorial/" rel="nofollow">the Python tutorial</a>, specifically its chapter on <a href="https://docs.python.org/3/tutorial/classes.html#inheritance" rel="nofollow">classes and inheritance</a>. Hopefully this is a reminder :-)</p>
</div>
<span class="comment-copy">Does the code work separately without all the Qt gubbins? Or vice versa does the Qt button work without the GPG code? Hone down the problem to as small an example as possible.</span>
<span class="comment-copy">@PeterWood yes it work. If I replace the required gen_key_input values with build in ones the key will be generate. but if I pass the exactly ones in my GUI it will not. This is the problem I run into.</span>
<span class="comment-copy">You can pass a <code>handle</code> callback function for when <code>status == 'KEY_NOT_CREATED'</code>.</span>
<span class="comment-copy">@PeterWood what do you mean by that? (I'm new in Python) and I said I cannot create any key at all. How will this solve my problem? What I'll do in my function? Just to print an error message?</span>
