<div class="post-text" itemprop="text">
<p>I am using thrifthive library to connect hive server in python. I found that the rows retrieved by thrifthive are simply strings and the columns in each row are separated by tab. </p>
<p>For example</p>
<p><strong>aa\tbb\tcc</strong></p>
<p>and what I have to do is to split the row by '\t' and get each column.</p>
<p>But the data is possible to contain tab as well and this creates problems.
For example:</p>
<p><strong>a\ta\tbb\tcc</strong></p>
<p>'a\ta' is a single column but it will be split into two by '\t'.</p>
<p>Is there any suggestion on this? </p>
<p>Thanks,</p>
<p>Ryan</p>
<p><strong>ps. The data in hive is not quoted.</strong></p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/csv.html#csv.reader" rel="nofollow">csv</a> module handles quote characters.</p>
<p>Assuming you are using <code>"</code> for a quote character (this is a big assumption and you will need to verify that this is in fact the case):</p>
<pre><code>import csv

with open("filename.txt") as csv_file:
    rows = list(csv.reader(csv_file, delimiter='\t', quotechar='"'))
</code></pre>
</div>
<span class="comment-copy">Is the data quoted, as in a tab separated field format?  the csv module can handle this as long as there is a quote character.</span>
<span class="comment-copy">Hi fiacre, the data in hive tables is not quoted. Actually what I am doing is  something like exporting hive data to csv files. The first step is to get the data and I'll quote them in the code. But the problem is that I am not able to get the right data when tabs exist.</span>
<span class="comment-copy">THe only other thing I can think of is a regex to count tabs, save the lines that have extra tabs for later processing.  I am unfamiliar with hive, but I have had this problem with exported data and the csv module.  Best of luck.</span>
<span class="comment-copy">It is a normal case for the data to contain \t in my scenario. Thanks for your help.</span>
<span class="comment-copy">If you do row = client.fetchOne(), is row indexed?  That would be your answer there.  write to JSON; cols = { "0": row[0] ... } then you can manipulate as you see fit.</span>
<span class="comment-copy">Hi Trey, thanks for your reply. The data is not quoted in hive. I just wondering if I am able to change the ThriftHive field separator from \t to others.</span>
<span class="comment-copy">Ah I misunderstood. I don't know about that topic, sorry!</span>
<span class="comment-copy">Thank you for your time. :)</span>
