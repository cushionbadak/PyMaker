<div class="post-text" itemprop="text">
<p>I'm trying to run my test_script.py in main_script.py with subprocess. test_script.py is a siple sum program, and main_script.py should call it with 2 arguments, and catch output. Here is the code:</p>
<p><strong>test_script.py</strong></p>
<pre><code>a = int(input())
b = int(input())

print(a+b)
</code></pre>
<p><strong>main_script.py</strong></p>
<pre><code>import subprocess
subprocess.check_output(['python', 'test_script.py', 2,3])
</code></pre>
<p>This is the error im getting:</p>
<pre><code>Traceback (most recent call last):
  File "C:/Users/John/Desktop/main_script.py", line 2, in &lt;module&gt;
    subprocess.check_output(['python', 'test_script.py', 2,3])
  File "C:\Python34\lib\subprocess.py", line 607, in check_output
    with Popen(*popenargs, stdout=PIPE, **kwargs) as process:
  File "C:\Python34\lib\subprocess.py", line 858, in __init__
    restore_signals, start_new_session)
  File "C:\Python34\lib\subprocess.py", line 1085, in _execute_child
    args = list2cmdline(args)
  File "C:\Python34\lib\subprocess.py", line 663, in list2cmdline
    needquote = (" " in arg) or ("\t" in arg) or not arg
TypeError: argument of type 'int' is not iterable
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>All parts of argument must a string. Do the following instead:</p>
<pre><code>subprocess.check_output(['python', 'test_script.py', "2", "3"])
</code></pre>
<p>If this command fails to run, you'll get an exception. To catch it and see the output:</p>
<pre><code>try:
  subprocess.check_output(['python', 'test_script.py', "2", "3"], stderr=subprocess.STDOUT)
except subprocess.CalledProcessError as e:
  print e.output
</code></pre>
<p>Your second script will fail because it's expecting input from the stdin, while your master script is sending the <code>2</code> and <code>3</code> as arguments. Investigate <code>sys.argv</code></p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow">https://docs.python.org/3/library/subprocess.html#subprocess.check_output</a></p>
<pre><code>import subprocess                                                                      
subprocess.check_output("python test_script.py", stderr=subprocess.STDOUT, shell=True)
</code></pre>
</div>
<span class="comment-copy"><a href="http://stackoverflow.com/questions/14078117/how-do-you-use-subprocess-check-output-in-python" title="how do you use subprocess check output in python">stackoverflow.com/questions/14078117/â€¦</a></span>
<span class="comment-copy">IMHO, this it is poor practice to call one script from another. Better to simply <code>import test_script</code> from <code>main_script.py</code>. Or create create functions/classes in <code>test_script</code> and invoke them from <code>main_script.py</code> like <code>test_script.my_function(2,3)</code></span>
<span class="comment-copy">I'm getting this error <code>subprocess.CalledProcessError: Command '['python', 'test_script.py', '2', '3']' returned non-zero exit status 1</code></span>
<span class="comment-copy">Your script either didn't execute or didn't exit gracefully. I've updated my answer with a bit of code to see the output to help you diagnose what went wrong. If you still have problems, you should accept my answer, as it resolved your question, and ask a new question</span>
<span class="comment-copy">Thanks on your answer, but it's still not working. This is the error it's printing in exception <code>b''</code></span>
<span class="comment-copy">Try it with <code>stderr=subprocess.STDOUT</code></span>
<span class="comment-copy">This fixed it by 50%. <code>b'Traceback (most recent call last):\r\n  File "test_script.py", line 1, in &lt;module&gt;\r\n    a = int(input())\r\nEOFError: EOF when reading a line\r\n'</code></span>
