<div class="post-text" itemprop="text">
<p>Here is my server.py:</p>
<pre><code>import socket, atexit

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.bind((socket.gethostname(), 8000))
server.listen(5)
(client,(ip,port))=server.accept()
command = raw_input('&gt; ')

if command.rsplit(' ',1)[0] == 'write':
    client.send(command.rsplit(' ',1)[2])
    print 'Client @ ', ip + ' '
    data = client.recv(1024)
    file = open(command.rsplit(' ',1)[1],'rb')
    bytes = file.read(1024)
    while(bytes):
        client.send(bytes)
        bytes = file.read(1024)
    file.close()
    client.close()
</code></pre>
<p>The client.py:</p>
<pre><code>import socket

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect(('MY IP', 8000))
client.send("!")
name = client.recv(1024)

with open(name, 'wb') as file:
    while True:
        data = client.recv(1024)
        if not data:
            break
        file.write(data)

file.close()
client.close()
</code></pre>
<p>The first data transmission in server.py is supposed to send the name of the file I want to the client.py. Where it says:</p>
<pre><code>name = client.recv(1024)
</code></pre>
<p>in client.py, it is supposed to receive and make a file using that name. However, the server.py closes, causing the client.py to crash and not give output (host closed). If I open in IDLE to see the output, it doesn't work but nothing shows.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your server.py needed tweaked;</p>
<pre><code>import socket, atexit

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.bind(('', 8000))
server.listen(5)
(client,(ip,port))=server.accept()
command = raw_input('&gt; ')

if command.split(' ')[0] == 'write':
    client.send(command.split(' ')[2])
    print 'Client @ '+str(ip)+':'
    data = client.recv(1024)
    file = open(command.split(' ')[1],'rb')
    bytes = file.read(1024)
    while(bytes):
        client.send(bytes)
        bytes = file.read(1024)
    file.close()
    client.close()
</code></pre>
<p>The <code>rsplit</code> and trailing <code>,1</code>'s were causing the breaks.</p>
<p>Using the input <code>write /Users/Namelessthehckr/Downloads/ucsgflmza.cs /Users/Namelessthehckr/Desktop/Test.txt</code>, the file was successfully CP'd without error.</p>
</div>
<span class="comment-copy">How about that : <a href="https://docs.python.org/3/library/asyncio-stream.html" rel="nofollow noreferrer">docs.python.org/3/library/asyncio-stream.html</a> ?</span>
