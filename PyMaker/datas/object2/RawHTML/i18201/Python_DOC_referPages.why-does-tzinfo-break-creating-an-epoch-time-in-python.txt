<div class="post-text" itemprop="text">
<p>Why does the following happen?</p>
<pre><code>from datetime import datetime
import pytz

d = pytz.utc.localize(datetime.utcnow())
print float(d.strftime('%s')) - float(d.replace(tzinfo=None).strftime('%s')) # 3600.0
</code></pre>
<p>Why is it off by one hour whether or not tzinfo is included?  I'm assuming it has to do with DST, but... UTC does not have DST.</p>
<pre><code>d.timetuple()
# time.struct_time(tm_year=2013, tm_mon=10, tm_mday=21, tm_hour=17, tm_min=44, tm_sec=40, tm_wday=0, tm_yday=294, tm_isdst=0)
d.replace(tzinfo=None).timetuple()
# time.struct_time(tm_year=2013, tm_mon=10, tm_mday=21, tm_hour=17, tm_min=44, tm_sec=40, tm_wday=0, tm_yday=294, tm_isdst=-1)
</code></pre>
<p>So, the difference is <code>tm_isdst</code> is <code>0</code> or <code>-1</code>.  Both seem very "No DST-ish".</p>
<p>Just not thrilled with the workaround.</p>
<p><strong>Update:</strong></p>
<p>After reading some docs (<a href="http://docs.python.org/2/library/time.html#time.mktime" rel="nofollow">http://docs.python.org/2/library/time.html#time.mktime</a>)  It appears  <code>mktime()</code> outputs "localtime" not UTC as I had thought.  Which confuses everything.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="http://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="nofollow"><code>.strftime('%s')</code> is not supported by Python</a>. Do not use it.</p>
<p>On systems where it works, it interprets the datetime object as time in local timezone i.e., <code>datetime.now().strftime('%s')</code> might return value near <code>time.time()</code>.</p>
<p>To find out utc offset or whether DST is in effect for a given local time, you could call <code>d.utcoffset()</code>, <code>d.dst()</code> where <code>d</code> is a datetime object with pytz timezone.</p>
<pre><code>&gt;&gt;&gt; import pytz
&gt;&gt;&gt; d = datetime.now(pytz.utc)
&gt;&gt;&gt; d.utcoffset()
datetime.timedelta(0)
&gt;&gt;&gt; d.dst()
datetime.timedelta(0)
</code></pre>
<p>As expected UTC offset is zero for UTC timezone and there is no DST transitions so <code>.dst()</code> is always zero all year round.</p>
</div>
<span class="comment-copy">your title mentions <i>"epoch time"</i>. This answer shows <a href="http://stackoverflow.com/a/8778548/4279">how to convert datetime.date and datatime.datetime to POSIX timestamp</a></span>
