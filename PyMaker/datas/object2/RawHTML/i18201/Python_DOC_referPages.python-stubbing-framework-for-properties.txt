<div class="post-text" itemprop="text">
<p>Does anyone know a mocking- or stubbing-framework which allows stubbing <strong>properties</strong> or even <strong>classproperties</strong> like this decorator does?</p>
<pre><code>class classproperty:
    """
    Decorator to  read-only static properties
    """
    def __init__(self, getter):
        self.getter = getter
    def __get__(self, instance, owner):
        return self.getter(owner)

class Foo:
    _name = "Name"
    @classproperty
    def foo(cls):
        return cls._name
</code></pre>
<p>I'm currently using <a href="http://code.google.com/p/mockito-python/wiki/Stubbing" rel="nofollow">mockito</a>, but this doesn't allow stubbing of properties.</p>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="http://docs.python.org/3/library/unittest.mock.html#unittest.mock.PropertyMock" rel="nofollow"><code>unittest.mock.PropertyMock</code></a> (available since Python 3.3):</p>
<pre><code>from unittest import mock
with mock.patch.object(Foo, 'foo', new_callable=mock.PropertyMock) as m:
    m.return_value = 'nAME'
    assert Foo.foo == 'nAME'
</code></pre>
<p><strong>NOTE</strong>: If you use Python version lower than 3.3, use <a href="https://pypi.python.org/pypi/mock" rel="nofollow"><code>mock</code></a>.</p>
</div>
