<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/6740418/underlying-data-structure-for-float-in-python">underlying data structure for float in python</a>
<span class="question-originals-answer-count">
                    6 answers
                </span>
</li>
</ul>
</div>
<p>My question is more about
Why in C++,C# and VB</p>
<pre><code>std::cout&lt;&lt;2.2f*3.0f&lt;&lt;std::endl; //prints 6.6
</code></pre>
<p>And in Python, Java and Ruby</p>
<pre><code>2.2*3.0 //prints 6.6000000000000005
</code></pre>
<p>I'm very familiar with floating point representation in memory.
I checked that in fact 2.2 cannot be represented precisely in memory with single precision.</p>
<p>But still why do C++,C# and VB cut-out the irrelevant part of the result when printing the value while the others do not?</p>
</div>
<div class="post-text" itemprop="text">
<p>This is not to do with Python, it's just the way computers handle floating-point arithmetic.</p>
<p>Imagine trying to write down 1/3 exactly as a decimal in base 10 - you can't as you don't have an infinite amount of time or paper. There are an infinite number of 3s, so any decimal representation can only ever be an approximation.</p>
<p>Similarly, computers don't have an infinite amount of memory, so they can't represent certain fractions exactly (although these are different fractions as computers work in base 2). So in this case, the nearest the computer can get to 2.2*3.0 is 6.6000000000000005. This isn't to do with the multiplication, it's becuase the computer can't store 2.2 completely accurately. However, most of the time, the degree of accuracy given is near enough.</p>
<p>If you need perfect accuracy in Python, you can use the <a href="http://docs.python.org/3/library/decimal.html" rel="nofollow">Decimal</a> module.</p>
<p>In relation to problems this causes in "precise business logic", the answer is usually that when dealing with money, don't encode Â£1.23 as 1.23, but as 123 (pence). However, you may need to do something more complicated when dealing with dividing amounts of money, but this something else shouldn't just be using floats.</p>
<p>In answer to your edited question, it's just that C++ doesn't display as much of the number as Python. It doesn't store it more accurately.</p>
<p>"But still why do C++,C# and VB cut-out the irrelevant part of the result when printing the value while the others do not?"</p>
<p>Because they do. The people who implemented those languages made a different choice to those who implemented other languages. They weighed up the benefits of printing it out fully (it means you don't forget that floating point arithmetic is inaccurate) with the downsides (it is sometimes more difficult to see what the effective result is, shortening it gives an accurate result much of the time) and came to different conclusions.</p>
</div>
<span class="comment-copy">its the inherint problem with floats ... they are not exact... this problem exists in pretty much every language imaginable ... try <code>from decimal import Decimal;Decimal("2.2")*Decimal("3.0")</code></span>
<span class="comment-copy">try reading through this: <a href="http://stackoverflow.com/questions/406361/floating-point-limitations" title="floating point limitations">stackoverflow.com/questions/406361/floating-point-limitations</a></span>
<span class="comment-copy"><a href="http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html" rel="nofollow noreferrer">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a></span>
<span class="comment-copy">Look up floating point arithmetic on google. The short answer is that your computer is not able to accurately represent the number 6.6. This is also the reason why you should never do == comparisons with floats.</span>
<span class="comment-copy">I like the links in this question: <a href="http://stackoverflow.com/questions/11950819/python-math-is-wrong">Python math is wrong</a>.</span>
<span class="comment-copy">on a side note sometimes they can store an accurate representation (ie if he used 2.5 instead of 2.2)</span>
<span class="comment-copy">Well I guess recent projects involving C# and VB made exactly this. They made me forget floating point representation is innacurate by rounding the values. Thank you for answering both the original question and the edit and not going "oh and you're experienced?" !</span>
