<div class="post-text" itemprop="text">
<p>I'm trying to get a redirected url from another url without using a selenium object. I have an url like:</p>
<pre><code>     http://registry.theknot.com/track/View?lt=RetailerGVR&amp;r=325404419&amp;rt=12160&amp;a=994&amp;st=RegistryProfile&amp;ss=LinkedRegistries&amp;sp=Logo
</code></pre>
<p>and it gets redirected to:</p>
<pre><code>     http://www.target.com/RegistryGiftGiverCmd?isPreview=false&amp;status=completePageLink&amp;registryType=WD&amp;isAjax=false&amp;listId=NjPO_i-DoIafZPZSFhaBRw&amp;clkid=2gTTqGRwsXS4x%3AexW%3ATGBxiqUkWXSi0It0P5VM0&amp;lnm=Online+Tracking+Link&amp;afid=The+Knot%2C+Inc.+and+Subsidiaries&amp;ref=tgt_adv_xasd0002
</code></pre>
<p>when is opened by some browser.</p>
<p>I want to avoid instancing a Selenium object and raise a Firefox/Chrome process just to get the redirected URL. Is there any other better way?</p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>If this is just an HTTP redirect, <a href="http://docs.python.org/3/library/urllib.request.html" rel="nofollow"><code>urllib.request</code></a>/<a href="http://docs.python.org/2/library/urllib2.html" rel="nofollow"><code>urllib2</code></a> in the standard library can follow redirects just fine, as can third-party HTTP client libraries like <a href="http://python-requests.org" rel="nofollow"><code>requests</code></a> and <a href="http://pycurl.sourceforge.net" rel="nofollow"><code>PycURL</code></a>. In fact, in the simplest use cases, they do so automatically.</p>
<p>So, just:</p>
<pre><code>&gt;&gt;&gt; import urllib.request
&gt;&gt;&gt; original_url = 'http://registry.theknot.com/track/View?lt=RetailerGVR&amp;r=325404419&amp;rt=12160&amp;a=994&amp;st=RegistryProfile&amp;ss=LinkedRegistries&amp;sp=Logo'
&gt;&gt;&gt; u = urllib.request.urlopen(original_url)
&gt;&gt;&gt; print(u.url)
http://www.target.com/RegistryGiftGiverCmd?isPreview=false&amp;status=completePageLink&amp;registryType=WD&amp;isAjax=false&amp;listId=NjPO_i-DoIafZPZSFhaBRw&amp;clkid=0b5XTmU%3A5WbqRETSYD20AQKOUkWXSGQgQSquVU0&amp;lnm=Online+Tracking+Link&amp;afid=The+Knot%2C+Inc.+and+Subsidiaries&amp;ref=tgt_adv_xasd0002
</code></pre>
<p>But if you just want the data, you don't even need that:</p>
<pre><code>&gt;&gt;&gt; data = u.read()
</code></pre>
<p>That's the contents of the redirected request.</p>
<p>(For Python 2.x, just replace <code>urllib.request</code> with <code>urllib2</code> and it works the same.)</p>
<hr/>
<p>The only reason you'd need to use Selenium (or another browser automation and/or JS-environment library) is if the redirect is done through in-page JavaScript. Which it usually isn't, and isn't in this case. There's no reason to go outside the standard library, talk to another app, etc. for simple things like this.</p>
</div>
<span class="comment-copy">Thanks a lot! It works perfect!</span>
