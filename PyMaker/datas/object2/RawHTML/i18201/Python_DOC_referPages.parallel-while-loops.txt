<div class="post-text" itemprop="text">
<p>I am writing a Python program, and I want to run two while loops at the same time. I am pretty new to Python, so this could be a elementary mistake/misconception. The project is having a Raspberry Pi monitor a sump pump to make sure that it is working, and if not, send an email to the specified recipients. One loop is going to interact with the user, and respond to commands send to it in real time through SSH.</p>
<pre><code>while running is True:

    user_input = raw_input("What would you like to do? \n").lower()

    if user_input == "tell me a story":
        story()
    elif user_input == "what is your name":
        print "Lancelot"
    elif user_input == "what is your quest":
        print "To seek the Holy Grail"
    elif user_input == "what is your favorite color":
        print "Blue"
    elif user_input == "status":
        if floatSwitch == True:
            print "The switch is up"
        else:
            print "The switch is down"
    elif user_input == "history":
        print log.readline(-2)
        print log.readline(-1) + "\n"
    elif user_input == "exit" or "stop":
        break
    else:
        print "I do not recognize that command. Please try agian."
print "Have a nice day!"
</code></pre>
<p>The other loop will be monitoring all of the hardware and to send the email if something goes wrong.</p>
<pre><code>if floatSwitch is True:
    #Write the time and what happened to the file
    log.write(str(now) + "Float switch turned on")
    timeLastOn = now
    #Wait until switch is turned off

    while floatSwitch:
        startTime = time.time()
        if floatSwitch is False:
            log.write(str(now) + "Float switch turned off")
            timeLastOff = now
            break
        #if elapsedTime &gt; 3 min (in the form of 180 seconds)
        elif elapsedTime() &gt; 180:
            log.write(str(now) + " Sump Pump has been deemed broaken")
            sendEmail("The sump pump is now broken.")
            break
</code></pre>
<p>Both of these functions are critical, and I want them to run in parallel, so how do I get them to run like that? Thanks for everyone's help!</p>
</div>
<div class="post-text" itemprop="text">
<p>Stuff running in parallel? Try using threading - see for example <a href="http://docs.python.org/3/library/threading.html" rel="nofollow noreferrer">this</a> module in the standard library, or the multiprocessing module.</p>
<p>You will need to create a thread for each of the while loops.</p>
<p><a href="https://stackoverflow.com/questions/2846653/python-multithreading-for-dummies">This</a> post has some good examples of how to use threads.</p>
<p>On some other notes, I can't help noticing you use <code>if variable is True:</code> instead of <code>if variable:</code> and <code>if variable is False:</code> instead of <code>if not variable:</code>, the alternatives given being more normal and Pythonic.</p>
<p>When you do <code>elif user_input == "exit" or "stop":</code> this will always be true because it is actually testing if <code>(use_input == "exit") or ("stop")</code>. <code>"stop"</code> is a non-empty string, so it will always evaluate to <code>True</code> in this context. What you actually want is <code>elif user_input == "exit" or user_input == "stop":</code> or even <code>elif user_input in ("exit", "stop"):</code>.</p>
<p>Finally when you do <code>log.write(str(now) + "Float switch turned off")</code> it would probably better to do string formatting. You could do <code>log.write("{}Float switch turned off".format(now))</code>, or use <code>%</code> (I don't know how to do that since I only used Python 2.x for a few weeks before moving to 3.x, where <code>%</code> has been deprecated).</p>
</div>
<span class="comment-copy">look into the <code>multiprocessing</code> and/or <code>threading</code> modules.</span>
