<div class="post-text" itemprop="text">
<p>I have written following piece of code with an intention to copy contents of abc.txt into another file xyz.txt</p>
<p>but the statement <code>b_file.write(a_file.read())</code> doesn't seem to work as intended. If I replace a_file.read() with some string, it (the string) gets printed.</p>
<pre><code>import locale
with open('/home/chirag/abc.txt','r', encoding = locale.getpreferredencoding()) as a_file:
    print(a_file.read())
    print(a_file.closed)

    with open('/home/chirag/xyz.txt','w', encoding = locale.getpreferredencoding()) as b_file:
        b_file.write(a_file.read())

    with open('/home/chirag/xyz.txt','r', encoding = locale.getpreferredencoding()) as b_file:
        print(b_file.read())
</code></pre>
<p>How do I go about this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You're looking for <a href="http://docs.python.org/3/library/shutil.html#shutil.copyfileobj" rel="noreferrer"><code>shutil.copyfileobj()</code></a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You're calling <code>a_file.read()</code> twice. The first time it reads the whole file, but that is lost with the attempt to do it again after opening <code>xyz.txt</code> -- so nothing gets written to that file. Try this to avoid the problem:</p>
<pre><code>import locale
with open('/home/chirag/abc.txt','r',
          encoding=locale.getpreferredencoding()) as a_file:
    a_content = a_file.read()  # only do once
    print(a_content)
    # print(a_file.closed) # not really useful information

    with open('/home/chirag/xyz.txt','w',
              encoding=locale.getpreferredencoding()) as b_file:
        b_file.write(a_content)

    with open('/home/chirag/xyz.txt','r',
              encoding=locale.getpreferredencoding()) as b_file:
        print(b_file.read())
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To copy the contents of abc.txt to xyz.txt, you could use <a href="http://docs.python.org/3/library/shutil.html#shutil.copyfile" rel="nofollow"><code>shutil.copyfile()</code></a>:</p>
<pre><code>import shutil

shutil.copyfile("abc.txt", "xyz.txt")
</code></pre>
</div>
