<div class="post-text" itemprop="text">
<p>I am trying to count the most common values in a CSV file and append the value of occurrence next to each item in the CSV file. For example:</p>
<p>CSV File:</p>
<pre><code>  * 8 Values in Column 1*
  HelloWorld
  HelloWorld
  HelloSaturn
  HelloMars
  HelloPluto
  HelloSaturn
  HelloMoon
  HelloMoon
</code></pre>
<p>Python Code to calculate most common:</p>
<pre><code>  #Removed Code - Take each row in CSV and append to list#
  #Create new list, count common occurrences out of 8 items
  newList = []
  counter = collections.Counter(newList)
  d = counter.most_common(8)
  print d
</code></pre>
<p>Printed Output (Which has calculated most common values in above CSV e.g. there are two 'HelloWorld's):</p>
<pre><code>  [('HelloWorld', 2), ('HelloMars', 1), ('HelloSaturn', 2), ('HelloPluto', 1), ('HelloMoon', 2)]
</code></pre>
<p>I am now trying to get these values to append/insert into my CSV file next to each value, for example:</p>
<pre><code>  * 8 Values in Column 1* *Occurrence*
  HelloWorld 2
  HelloWorld 2
  HelloSaturn 2
  HelloMars 1
  HelloPluto 1
  HelloSaturn 2
  HelloMoon 2
  HelloMoon 2
</code></pre>
<p>How can i do this?</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>import csv

# I fake here the opening and extracting from a CSV file
# to obtain a list of the words of the first column
ss = """HelloWorld
HelloWorld
HelloSaturn
HelloMars
HelloPluto
HelloSaturn
HelloMoon
HelloMoon"""
column = ss.splitlines()


# Now, the counting
from collections import Counter
c = Counter(column) 

# Seeing the counter we got
print '\n'.join(c)

# Putting the result in a CSV file
with open('resu.csv','wb') as g:
    gw = csv.writer(g)
    gw.writerows([item,c[item]] for item in column)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to use a <a href="http://docs.python.org/2/library/csv.html#csv.writer" rel="nofollow">csv.writer</a> object to rewrite the CSV file:</p>
<ol>
<li>Read the CSV file into memory (like a list of rows or something) using the <a href="http://docs.python.org/2/library/csv.html#csv.reader" rel="nofollow">csv.reader</a></li>
<li>Calculate the frequency of occurrence using your existing code</li>
<li>Iterate over each of the rows you read in step 1.  Output each column in the row using the csv.writer.  At the end of the row, output the corresponding frequency you calculated in step 2.</li>
</ol>
<p>Code will look something like this (completely untested):</p>
<pre><code>import csv
list_of_rows = list()
with open(filename) as fin:
    reader = csv.reader(fin)
    for row in reader:
       list_of_rows.append(row)

# calculate frequency of occurrence
counter = ...

with open(filename, "w") as fout:
    writer = csv.writer(fout)
    for row in counter.most_common(8):            
        # row is now (word, frequency)
        writer.writerow(row)
</code></pre>
</div>
<span class="comment-copy">Use <a href="http://docs.python.org/3/library/csv.html#csv.writer" rel="nofollow noreferrer">the <code>csv</code> module</a>.</span>
<span class="comment-copy">@ZeeeeeV I don't understand why you use most_common(8) since you seem to keep the same lines in the same order in the resulting CSV file.</span>
<span class="comment-copy">This solution is effective, thanks!. The 'd' attribute in the with function should be 'c' though. Thanks again!</span>
<span class="comment-copy">Thanks. I am attempting to implement this solution. What does 'counter.frequency_of' mean? I am getting the error 'counter object has no attribute frequency of'</span>
<span class="comment-copy">That part was pseudocode.  I've updated the answer to use the counter correctly.</span>
