<div class="post-text" itemprop="text">
<p>How can I get the name of an exception that was raised in Python?</p>
<p>e.g.,</p>
<pre><code>try:
    foo = bar
except Exception as exception:
    name_of_exception = ???
    assert name_of_exception == 'NameError'
    print "Failed with exception [%s]" % name_of_exception
</code></pre>
<p>For example, I am catching multiple (or all) exceptions, and want to print the name of the exception in an error message.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here are two different ways to get the name of the exception:</p>
<ol>
<li><code>type(exception).__name__</code></li>
<li><code>exception.__class__.__name__</code></li>
</ol>
<p>e.g.,</p>
<pre><code>try:
    foo = bar
except Exception as exception:
    assert type(exception).__name__ == 'NameError'
    assert exception.__class__.__name__ == 'NameError'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This works, but it seems like there must be an easier, more direct way?</p>
<pre><code>try:
    foo = bar
except Exception as exception:
    assert repr(exception) == '''NameError("name 'bar' is not defined",)'''
    name = repr(exception).split('(')[0]
    assert name == 'NameError'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can also use <code>sys.exc_info()</code>. <code>exc_info()</code> returns 3 values: type, value, traceback. On documentation: <a href="https://docs.python.org/3/library/sys.html#sys.exc_info" rel="nofollow noreferrer">https://docs.python.org/3/library/sys.html#sys.exc_info</a></p>
<pre><code>import sys

try:
    foo = bar
except Exception:
    exc_type, value, traceback = sys.exc_info()
    assert exc_type.__name__ == 'NameError'
    print "Failed with exception [%s]" % name_of_exception
</code></pre>
</div>
<span class="comment-copy"><i>Why</i> do you think you need this? Why not catch a more concrete exception (e.g. <code>except NameError:</code>) to begin with?</span>
<span class="comment-copy">I have a couple scenarios where I want to catch all exceptions (or a list of them), and want to print out the name of the exception in an error message.</span>
<span class="comment-copy">You might want to check out the standard library's <a href="https://docs.python.org/3/library/traceback.html" rel="nofollow noreferrer"><code>traceback</code></a> module, which has functions that do some nice formatting of exceptions and tracebacks.</span>
<span class="comment-copy">@delnan this  situation arises when you are testing if a function is raising an exception as programmed</span>
<span class="comment-copy">I needed something like this to DRY up some code: several exceptions can be raised by the method I'm calling, each are handled with their own <code>except</code> statement, but the log entry is very similar in each case.</span>
<span class="comment-copy">Replace <code>except Exception as exception</code> with the type of exception you'd like to catch, i.e. <code>except NameError as exception</code>.</span>
<span class="comment-copy">I don't want to catch particular exceptions known in advance.  I want to catch <i>all</i> exceptions.</span>
