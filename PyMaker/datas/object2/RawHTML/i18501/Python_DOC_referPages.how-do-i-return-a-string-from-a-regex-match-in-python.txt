<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/15340582/python-extract-pattern-matches">Python extract pattern matches</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I am running through lines in a text file using a <code>python</code> script.
I want to search for an <code>img</code> tag within the text document and return the tag as text.</p>
<p>When I run the regex <code>re.match(line)</code> it returns a  <code>_sre.SRE_MATCH</code> object.
How do I get it to return a string?</p>
<pre><code>import sys
import string
import re

f = open("sample.txt", 'r' )
l = open('writetest.txt', 'w')

count = 1

for line in f:
    line = line.rstrip()
    imgtag  = re.match(r'&lt;img.*?&gt;',line)
    print("yo it's a {}".format(imgtag))
</code></pre>
<p>When run it prints:</p>
<pre><code>yo it's a None
yo it's a None
yo it's a None
yo it's a &lt;_sre.SRE_Match object at 0x7fd4ea90e578&gt;
yo it's a None
yo it's a &lt;_sre.SRE_Match object at 0x7fd4ea90e578&gt;
yo it's a None
yo it's a &lt;_sre.SRE_Match object at 0x7fd4ea90e578&gt;
yo it's a &lt;_sre.SRE_Match object at 0x7fd4ea90e5e0&gt;
yo it's a None
yo it's a None
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You should use <code>re.MatchObject.group(0)</code>. Like</p>
<pre><code>imtag = re.match(r'&lt;img.*?&gt;', line).group(0)
</code></pre>
<p>Edit:</p>
<p>You also might be better off doing something like</p>
<pre><code>imgtag  = re.match(r'&lt;img.*?&gt;',line)
if imtag:
    print("yo it's a {}".format(imgtag.group(0)))
</code></pre>
<p>to eliminate all the <code>None</code>s.</p>
</div>
<div class="post-text" itemprop="text">
<p>Considering there might be several <code>img</code> tags I would recommend <code>re.findall</code>:</p>
<pre><code>import re

with open("sample.txt", 'r') as f_in, open('writetest.txt', 'w') as f_out:
    for line in f_in:
        for img in re.findall('&lt;img[^&gt;]+&gt;', line):
            print &gt;&gt; f_out, "yo it's a {}".format(img)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>imgtag.group(0)</code> or <code>imgtag.group()</code>.  This returns the entire match as a string.  You are not capturing anything else either.</p>
<p><a href="http://docs.python.org/release/2.5.2/lib/match-objects.html" rel="nofollow">http://docs.python.org/release/2.5.2/lib/match-objects.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Note that <code>re.match(pattern, string, flags=0)</code> only returns matches at the <em>beginning</em> of the string. If you want to locate a match <em>anywhere</em> in the string, use <strong><code>re.search(pattern, string, flags=0)</code></strong> instead (<a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html</a>). This will scan the string and return the first match object. Then you can extract the matching string with <code>match_object.group(0)</code> as the folks suggested.</p>
</div>
<span class="comment-copy">See <a href="http://docs.python.org/2/library/re.html#match-objects" rel="nofollow noreferrer">docs.python.org/2/library/re.html#match-objects</a></span>
