<div class="post-text" itemprop="text">
<p>I have set path using </p>
<pre><code>sys.path.insert(1, mypath)
</code></pre>
<p>Then, I tried to print contents of PYTHONPATH variable using os.environ as below</p>
<pre><code>print(os.environ['PYTHONPATH'])
</code></pre>
<p>but I am getting error as</p>
<pre><code>    raise KeyError(key)
KeyError: 'PYTHONPATH'
</code></pre>
<p>How can we print contents of PYTHONPATH variable.</p>
</div>
<div class="post-text" itemprop="text">
<p>I suggest not to rely on the raw PYTHONPATH because it can vary depending on the OS.</p>
<p>Instead of the PYTHONPATH value in the <code>os.environ</code> dict, use <code>sys.path</code> from the <code>sys</code> module. This is preferrrable, because it is platform independent:</p>
<pre><code>import sys
print(sys.path)
</code></pre>
<p>The value of <code>sys.path</code> is initialized from the environment variable PYTHONPATH, plus an installation-dependent default (depending on your OS). For more info see</p>
<p><a href="https://docs.python.org/2/library/sys.html#sys.path" rel="noreferrer">https://docs.python.org/2/library/sys.html#sys.path</a></p>
<p><a href="https://docs.python.org/3/library/sys.html#sys.path" rel="noreferrer">https://docs.python.org/3/library/sys.html#sys.path</a></p>
</div>
<div class="post-text" itemprop="text">
<p>If <code>PYTHONPATH</code> hasn't been set then that's expected, maybe default it to an empty string:</p>
<pre><code>import os
print(os.environ.get('PYTHONPATH', ''))
</code></pre>
<p>You may also be after:</p>
<pre><code>import sys
print(sys.path)
</code></pre>
</div>
<span class="comment-copy">Obviously that means you don't have python path set in your machine.</span>
<span class="comment-copy">@thavan shouldn't sys.path.insert set the PYTHONPATH variable?</span>
<span class="comment-copy">One thing to note: sys.path is initialized from a number of locations, one of which is the environment variable PYTHONPATH. However, updating sys.path does not update PYTHONPATH.</span>
<span class="comment-copy">@Drt no it shouldn't - it's set in the environment before Python runs... it's something Python can pick up and use... Most child processes can't affect the parents environment anyway... So as I mentioned in my answer - what are you actually trying to do?</span>
<span class="comment-copy">What is the problem you are trying to solve?</span>
<span class="comment-copy">sys.path works but how to try using env variable PYTHONPATH.</span>
<span class="comment-copy">there must/should be some common variable for <code>PYTHONPATH</code> in all platforms. If it differs, I guess we are better of using sys.path then.</span>
<span class="comment-copy">Why do you want to use the raw PYTHONPATH while <code>sys.path</code> is based on this variable plus some other default dir (depending on your OS) ? See <a href="http://docs.python.org/2/library/sys.html#sys.path" rel="nofollow noreferrer">docs.python.org/2/library/sys.html#sys.path</a> for more info.</span>
<span class="comment-copy">I thought it is other way around, i.e. PYTHONPATH depends on sys.path. Anyway, thanks</span>
<span class="comment-copy">I have tried defaulting to an empty string. And then did <code>sys.path.insert(1, mypath)</code>. But no change. I am still getting error for <code>print(os.environ['PYTHONPATH'])</code> as keyerror.</span>
<span class="comment-copy">@Drt what are you actually trying to do?</span>
