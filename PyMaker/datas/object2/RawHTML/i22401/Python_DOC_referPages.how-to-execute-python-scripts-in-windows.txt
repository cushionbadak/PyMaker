<div class="post-text" itemprop="text">
<p>I have a simple script blah.py (using Python 2):</p>
<pre><code>import sys
print sys.argv[1]
</code></pre>
<p>If I execute my script by:</p>
<pre><code>python c:/..../blah.py argument
</code></pre>
<p>It prints argument but if I execute script by:</p>
<pre><code>blah.py argument
</code></pre>
<p>error occurs:</p>
<blockquote>
<p>IndexError...</p>
</blockquote>
<p>So arguments do not pass to script.</p>
<p>python.exe in PATH. Folder with blah.py also in PATH.<br/>
python.exe is default program to execute *.py files.</p>
<p>What is the problem?</p>
</div>
<div class="post-text" itemprop="text">
<p>When you execute a script without typing "python" in front, you need to know two things about how Windows invokes the program.  First is to find out what kind of file Windows thinks it is: </p>
<pre>
    C:\&gt;assoc .py
    .py=Python.File
</pre>
<p>Next, you need to know how Windows is executing things with that extension.  It's associated with the file type "Python.File", so this command shows what it will be doing:</p>
<pre>
    C:\&gt;ftype Python.File
    Python.File="c:\python26\python.exe" "%1" %*
</pre>
<p>So on my machine, when I type "blah.py foo", it will execute this exact command, with no difference in results than if I had typed the full thing myself:</p>
<pre>
    "c:\python26\python.exe" "blah.py" foo
</pre>
<p>If you type the same thing, including the quotation marks, then you'll get results identical to when you just type "blah.py foo".  Now you're in a position to figure out the rest of your problem for yourself.  </p>
<p>(Or post more helpful information in your question, like actual cut-and-paste copies of what you see in the console.  Note that people who do that type of thing get their questions voted up, and they get reputation points, and more people are likely to help them with good answers.)</p>
<h1>Brought In From Comments:</h1>
<p>Even if assoc and ftype display the correct information, it may happen that the arguments are stripped off. What may help in that case is directly fixing the relevant registry keys for Python. Set the </p>
<pre><code>HKEY_CLASSES_ROOT\Applications\python26.exe\shell\open\command
</code></pre>
<p>key to: </p>
<pre><code>"C:\Python26\python26.exe" "%1" %*
</code></pre>
<p>Likely, previously, <code>%*</code> was missing. Similarly, set </p>
<pre><code> HKEY_CLASSES_ROOT\py_auto_file\shell\open\command
</code></pre>
<p>to the same value. See <a href="http://eli.thegreenplace.net/2010/12/14/problem-passing-arguments-to-python-scripts-on-windows/" rel="noreferrer">http://eli.thegreenplace.net/2010/12/14/problem-passing-arguments-to-python-scripts-on-windows/</a></p>
<p><a href="https://i.stack.imgur.com/Dpdzv.png" rel="noreferrer"><img alt="example registry setting for python.exe" src="https://i.stack.imgur.com/Dpdzv.png"/></a>
<code>HKEY_CLASSES_ROOT\Applications\python.exe\shell\open\command</code> The registry path may vary, use <code>python26.exe</code> or <code>python.exe</code> or whichever is already in the registry.</p>
<p><a href="https://i.stack.imgur.com/mFI0X.png" rel="noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/mFI0X.png"/></a>
<code>HKEY_CLASSES_ROOT\py_auto_file\shell\open\command</code></p>
</div>
<div class="post-text" itemprop="text">
<p>you should make the default application to handle python files be python.exe.</p>
<p>right click a *.py file, select "Open With" dialog.  In there select "python.exe" and check "always use this program for this file type" (something like that).</p>
<p>then your python files will always be run using python.exe</p>
</div>
<div class="post-text" itemprop="text">
<p>Additionally, if you want to be able to run your python scripts without typing the <code>.py</code> (or <code>.pyw</code>) on the end of the file name, you need to add <code>.PY</code> (or <code>.PY;.PYW</code>) to the list of extensions in the PATHEXT environment variable.</p>
<p>In Windows 7:</p>
<p>right-click on Computer<br/>
left-click Properties<br/>
left-click Advanced system settings<br/>
left-click the Advanced tab<br/>
left-click Environment Variables...<br/>
under "system variables" scroll down until you see PATHEXT<br/>
left-click on PATHEXT to highlight it<br/>
left-click Edit...<br/>
Edit "Variable value" so that it contains <code>;.PY</code> <em>(the End key will skip to the end)</em><br/>
left-click OK<br/>
left-click OK<br/>
left-click OK<br/></p>
<p>Note #1: command-prompt windows won't see the change w/o being closed and reopened.</p>
<p>Note #2: the difference between the <code>.py</code> and <code>.pyw</code> extensions is that the former opens a command prompt when run, and the latter doesn't.</p>
<p>On my computer, I added <code>;.PY;.PYW</code> as the last (lowest-priority) extensions, so the "before" and "after" values of PATHEXT were:<br/></p>
<p>before: <code>.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC</code><br/></p>
<p>after <code>.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW</code><br/></p>
<p>Here are some instructive commands:</p>
<pre><code>C:\&gt;echo %pathext%
.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW

C:\&gt;assoc .py
.py=Python.File

C:\&gt;ftype Python.File
Python.File="C:\Python32\python.exe" "%1" %*

C:\&gt;assoc .pyw
.pyw=Python.NoConFile

C:\&gt;ftype Python.NoConFile
Python.NoConFile="C:\Python32\pythonw.exe" "%1" %*

C:\&gt;type c:\windows\helloworld.py
print("Hello, world!")  # always use a comma for direct address

C:\&gt;helloworld
Hello, world!

C:\&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>How to execute Python scripts in Windows?</p>
</blockquote>
<p>You could install <a href="https://bitbucket.org/vinay.sajip/pylauncher" rel="nofollow">pylauncher</a>. It is used to launch .py, .pyw, .pyc, .pyo files and supports multiple Python installations:</p>
<pre><code>T\:&gt; blah.py argument
</code></pre>
<p>You can run your Python script without specifying .py extension if you have .py, .pyw in PATHEXT environment variable:</p>
<pre><code>T:\&gt; blah argument
</code></pre>
<p>It adds support for shebang (<code>#!</code> header line) to select desired Python version on Windows if you have multiple versions installed. You could use *nix-compatible syntax <code>#! /usr/bin/env python</code>.</p>
<p>You can specify version explicitly e.g., to run using the latest installed Python 3 version:</p>
<pre><code>T:\&gt; py -3 blah.py argument
</code></pre>
<p>It should also fix your <code>sys.argv</code> issue as a side-effect.</p>
</div>
<div class="post-text" itemprop="text">
<p>I encountered the same problem but in the context of needing to package my code for Windows users (coming from Linux).
My package contains a number of scripts with command line options.</p>
<p>I need these scripts to get installed in the appropriate location on Windows users' machines so that they can invoke them from the command line.
As the package is supposedly user-friendly, asking my users to change their registry to run these scripts would be impossible.</p>
<p>I came across a solution that the folks at Continuum use for Python scripts that come with their Anaconda package -- check out your Anaconda/Scripts directory for examples.</p>
<p>For a Python script <code>test</code>, create two files: a <code>test.bat</code> and a <code>test-script.py</code>.</p>
<p><code>test.bat</code> looks as follows (the <code>.bat</code> files in <code>Anaconda\Scripts</code> call <code>python.exe</code> with a relative path which I adapted for my purposes):</p>
<pre><code>@echo off
set PYFILE=%~f0
set PYFILE=%PYFILE:~0,-4%-script.py
"python.exe" "%PYFILE%" %*
</code></pre>
<p><code>test-script.py</code> is your actual Python script:</p>
<pre><code>import sys
print sys.argv
</code></pre>
<p>If you leave these two files in your local directory you can invoke your Python script through the <code>.bat</code> file by doing</p>
<pre><code>test.bat hello world
['C:\\...\\test-scripy.py', 'hello', 'world']
</code></pre>
<p>If you copy both files to a location that is on your <code>PATH</code> (such as <code>Anaconda\Scripts</code>) then you can even invoke your script by leaving out the <code>.bat</code> suffix</p>
<pre><code>test hello world
['C:\\...Anaconda\\Scripts\\test-scripy.py', 'hello', 'world']
</code></pre>
<p>Disclaimer: I have no idea what's going on and how this works and so would appreciate any explanation.</p>
</div>
<div class="post-text" itemprop="text">
<p>On <strong>Windows</strong>, </p>
<p>To <strong>run a python module without typing "python"</strong>,</p>
<p>--&gt; Right click any python(*.py) file</p>
<p>--&gt; Set the open with property to "python.exe" </p>
<p>--&gt; Check the "always use this program for this file type"</p>
<p>--&gt; Append the path of python.exe to variable environment e.g. append 
C:\Python27 to PATH environment variable.</p>
<p>To <strong>Run a python module without typing ".py" extension</strong></p>
<p>--&gt; Edit PATHEXT system variable and append ".PY" extension to the list.</p>
</div>
<div class="post-text" itemprop="text">
<p>Found an incredibly useful answer <a href="https://stackoverflow.com/questions/20786478/how-to-run-different-python-versions-in-cmd#20787033">here</a>: <strong>How to run different python versions in cmd?</strong></p>
<blockquote>
<p>I would suggest using the Python Launcher for Windows utility that introduced was into Python 3.3 a while ago. You can also manually download and install it directly from the author's website for use with earlier versions of Python 2 and 3.</p>
<p>Regardless of how you obtain it, after installation it will have associated itself with all the standard Python file extensions (i.e. .py, .pyw, .pyc, and .pyo files). You'll not only be able to explicitly control which version is used at the command-prompt, but also on a script-by-script basis by adding Linux/Unix-y shebang #!/usr/bin/env pythonX comments at the beginning of your Python scripts.</p>
</blockquote>
<p>As J.F. Sebastian suggests, <a href="http://docs.python.org/3/using/windows.html?highlight=shebang#python-launcher-for-windows" rel="nofollow noreferrer">Python Launcher for Windows</a> is the best and default choice for launching different version of Python in Windows. It used to be a third-party tool, but now it is officially supported since Python 3.3.</p>
<blockquote>
<p>New in version 3.3.</p>
<p>The Python launcher for Windows is a utility which aids in the location and execution of different Python versions. It allows scripts (or the command-line) to indicate a preference for a specific Python version, and will locate and execute that version.</p>
</blockquote>
<p>This is a great tool just use it!</p>
</div>
<div class="post-text" itemprop="text">
<p>Can you execute python.exe from any map?
If you do not, chek if you have proper values for python.exe in PATH enviroment</p>
<p>Are you in same directory than blah.py. Check this by issuing command -&gt; edit blah.py and check if you can open this file</p>
<p><strong>EDIT:</strong></p>
<p>In that case you can not. (<em>python arg</em> means that you call python.exe whit some parameters which python assume that is filename of script you want to run)</p>
<p>You can create <strong>bat file</strong> whit lines in your path map and run .bat file</p>
<p>Example:<br/>
In one of Path maps create <em>blah.py.bat</em>
Edit file and put line</p>
<pre><code>python C:\Somedir\blah.py
</code></pre>
<p>You can now run blah.py from anywere, becuase you do not need to put .bat extention when running bat files</p>
</div>
<div class="post-text" itemprop="text">
<p>If that's what I understood, it's like this:</p>
<pre><code>C:\Users\(username)\AppData\Local\Programs\Python\Python(version)
</code></pre>
<p>COPY (not delete) python.exe and rename to py.exe and execute:</p>
<pre><code>py filename.py
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Simply run the command:</p>
<pre><code>C:&gt;python .\file_name.py
</code></pre>
<p><em>Assuming the file name is within same folder and Python has already been added to environment variables.</em></p>
</div>
<span class="comment-copy">posting a snippet of code might help us help you.</span>
<span class="comment-copy">Man without crystall ball has already gave a solution=)  print sys.argv[1] produces this error.</span>
<span class="comment-copy">If you have multiple versions of Python installed, you may need this <a href="http://stackoverflow.com/questions/1934675/how-to-execute-python-scripts-in-windows/#22439338" title="how to execute python scripts in windows">stackoverflow.com/questions/1934675/…</a>.</span>
<span class="comment-copy">Manually tell python to run my script from registry: "C:\Python27\python.exe" "C:\Python27\tpt.py" "%1"`</span>
<span class="comment-copy">Even if <code>assoc</code> and <code>ftype</code> display the correct information, it may happen that the arguments are stripped off.  What may help in that case is directly fixing the relevant registry keys for Python. Set the <code>HKEY_CLASSES_ROOT\Applications\python26.exe\shell\open\command</code> key to:  <code>"C:\Python26\python26.exe" "%1" %*</code>  Likely, previously, <code>%*</code> was missing. Similarly, set <code>HKEY_CLASSES_ROOT\py_auto_file\shell\open\command</code> to the same value.  See <a href="http://eli.thegreenplace.net/2010/12/14/problem-passing-arguments-to-python-scripts-on-windows/" rel="nofollow noreferrer">eli.thegreenplace.net/2010/12/14/…</a></span>
<span class="comment-copy">@parvus Your comment was the ultimate solution for me. Even with the associations reading correctly, these two keys were both incorrectly set.</span>
<span class="comment-copy">I've also run into problems with HKEY_CLASSES_ROOT\.py\OpenWithProgids being set to something VisualStudio related, specifically when I try to run Python scripts in my AppVeyor tests. See <a href="http://help.appveyor.com/discussions/problems/2569-latest-appveyor-build-platform-update-introduced-a-python-problem" rel="nofollow noreferrer">help.appveyor.com/discussions/problems/…</a>.</span>
<span class="comment-copy">I have similar issue. Anaconda by default added registry key with missing %*</span>
<span class="comment-copy">In Win10 I write <code>test.py 123</code> and I get <code>123</code> printed as <code>sys.argv[1]</code>. Did Microsoft changed something?</span>
<span class="comment-copy">Python Launcher is in beta status.</span>
<span class="comment-copy">@NicolasBarbulesco: <a href="https://docs.python.org/3/using/windows.html#python-launcher-for-windows" rel="nofollow noreferrer">Python launcher is included in Python 3.3</a> i.e., it is good enough</span>
<span class="comment-copy">Maybe. But <a href="http://superuser.com/questions/861255/how-to-run-a-python-3-script">I did not succeed to install Python 3 on Windows</a>. Maybe you can help me here.</span>
<span class="comment-copy">Creating a <code>.bat</code> wrapper for each Python script is clumsy and redundant. I would not recommend this.</span>
<span class="comment-copy">python in PATH. And directory which contains blah.py also in PATH.  The main idea is to execute python script without writing full path to it. But now I have problems with arguments passing.</span>
<span class="comment-copy">Ralu, you don't need a batch file to execute a python script this way. Use the PATHEXT environment var to include .py and .pyw as executable extensions. This var is why you don't need to specify .bat either.</span>
