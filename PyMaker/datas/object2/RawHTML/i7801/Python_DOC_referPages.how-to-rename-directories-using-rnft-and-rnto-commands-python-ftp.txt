<div class="post-text" itemprop="text">
<p>I am trying to write a FTP client software in Python. I tried implementing a method to rename directories:<br/></p>
<pre><code> ftp = FTP()
 ftp.connect('host')
 ftp.login('usrname', 'pass')
 ftp.retrlines('RNFR Builds')
 ftp.retrlines('RNTO My_Builds')
</code></pre>
<p>However I keep getting this error:</p>
<pre class="lang-none prettyprint-override"><code>Exception in Tkinter callback
Traceback (most recent call last):
  File "/usr/lib/python3.5/tkinter/__init__.py", line 1553, in __call__
    return self.func(*args)
  File "Source.py", line 449, in set_name_from_rename
    self.ftpController.ftp.retrlines('RNFR Builds')
  File "/usr/lib/python3.5/ftplib.py", line 467, in retrlines
    with self.transfercmd(cmd) as conn, \
  File "/usr/lib/python3.5/ftplib.py", line 398, in transfercmd
    return self.ntransfercmd(cmd, rest)[0]
  File "/usr/lib/python3.5/ftplib.py", line 374, in ntransfercmd
    raise error_reply(resp)
ftplib.error_reply: 350 Directory exists, ready for destination name.
</code></pre>
<p>I am sure I have the permissions to rename the directory. Can anybody please help? <br/>
Thanks for the help in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>Do not call <code>retrlines</code>, use <a href="https://docs.python.org/3/library/ftplib.html#ftplib.FTP.sendcmd" rel="nofollow noreferrer"><code>sendcmd</code></a>. For the final <code>RNTO</code>, you can even use <a href="https://docs.python.org/3/library/ftplib.html#ftplib.FTP.voidcmd" rel="nofollow noreferrer"><code>voidcmd</code></a> to validate the operation even more strictly (requires <code>2xx</code> response).</p>
<pre><code>ftp.sendcmd('RNFR Builds')
ftp.voidcmd('RNTO My_Builds')
</code></pre>
<hr/>
<p><a href="https://docs.python.org/3/library/ftplib.html#ftplib.FTP.retrlines" rel="nofollow noreferrer"><code>retrlines</code></a> is used for commands that make use of a data connection. I.e. typically for a directory listing, like <code>LIST</code>, <code>NLST</code>, <code>MLSD</code>. While <code>RNFR</code> and <code>RNTO</code> are trivial FTP commands that only return status.</p>
</div>
<span class="comment-copy">Thanks a lot :) Have been struggling for hours....</span>
