<div class="post-text" itemprop="text">
<p>I have an original config file that has a string:</p>
<pre><code>boothNumber="5"
</code></pre>
<p>In my program, I grab a similar config from another computer.  This similar config has a string:</p>
<pre><code>boothNumber="1"
</code></pre>
<p>I want to read the new number which is 1 and replace the original config with the number 1(replaces 5).</p>
<p>I am getting an error in my program that says:</p>
<pre><code>TypeError: coercing to str: need a bytes-like object, NoneType found
</code></pre>
<p>Any ideas?</p>
<pre><code>import os
import shutil
import fileinput
import pypyodbc
import re                                     # used to replace string
import sys                                    # prevents extra lines being inputed in config


def readconfig(servername):
    destsource = 'remote.config'                                            # file that I grabbed from remote computer
    template = 'original.config'                                        # original config
    for line in open(destsource):                                       # open new config
        match = re.search(r'(?&lt;=boothNumber=")\d+', line)               #find a number after a certain string and name it 'match'

        with fileinput.FileInput(template, inplace=True, backup='.bak') as file:  # open original config
            for f2line in file:
                pattern = r'(?&lt;=boothNumber=")\d+'                      # find number after certain string and name it 'pattern'


                if re.search(pattern, f2line):                          # if line has 'pattern'
                    sys.stdout.write(re.sub(pattern, match, f2line))    # replace 'pattern' number with number from 'match'
                    fileinput.close()



def copyfrom(servername):
    # copy config from server


    source = r'//' + servername + '/c$/configdirectory'
    dest = r"C:/myprogramdir"
    file = "remote.config"
    try:
        shutil.copyfile(os.path.join(source, file), os.path.join(dest, file))
        # you can't just use shutil when copying from a remote computer.  you have to also use os.path.join
    except:
        copyerror()

    readconfig(servername)



os.system('cls' if os.name == 'nt' else 'clear')
array = []
with open("serverlist.txt", "r") as f:       # list of computer names
    for servername in f:

        copyfrom(servername.strip())
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In your <code>readConfig</code> function, this line performs a search:</p>
<p><code>match = re.search(r'(?&lt;=boothNumber=")\d+', line)</code></p>
<p>and the value of <code>match</code> is used in this line:</p>
<p><code>sys.stdout.write(re.sub(pattern, match, f2line))</code></p>
<p>There are two problems here. Firstly, if the search is unsuccessful <code>match</code> will be <code>None</code>, causing to the exception that you report:</p>
<pre><code> &gt;&gt;&gt; re.sub(r'[a-z]+', None, 'spam')
Traceback (most recent call last):
...
TypeError: decoding to str: need a bytes-like object, NoneType found
</code></pre>
<p>Secondly, if <code>match</code> is not <code>None</code>, you are trying to use <code>match</code> itself as replacement string, but <code>match</code> is not a string, it's a <a href="https://docs.python.org/3/library/re.html#match-objects" rel="nofollow noreferrer">match object</a>:</p>
<pre><code>&gt;&gt;&gt; match = re.search(r'[a-z]+', 'spam')
&gt;&gt;&gt; match
&lt;_sre.SRE_Match object; span=(0, 4), match='spam'&gt;  # &lt;=== not a string!
&gt;&gt;&gt; re.sub(r'[a-z]+', match, 'eggs')
Traceback (most recent call last):
  ...
TypeError: decoding to str: need a bytes-like object, _sre.SRE_Match found
</code></pre>
<p>You need to call <code>match.group()</code> to get the string that has been matched:</p>
<pre><code>&gt;&gt;&gt; re.sub(r'[a-z]+', match.group(), 'eggs')
'spam'
</code></pre>
<p>To summarise:</p>
<ul>
<li>condition the output processing on <code>match</code> not being <code>None</code></li>
<li>use <code>match.group()</code> as the replacement string</li>
</ul>
</div>
<span class="comment-copy">Could you post the whole traceback?</span>
