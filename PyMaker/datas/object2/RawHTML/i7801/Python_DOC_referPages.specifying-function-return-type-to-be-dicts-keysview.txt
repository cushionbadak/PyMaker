<div class="post-text" itemprop="text">
<p>In PyCharm I got the following Python 3 code:</p>
<pre><code>def get_dict_keys(d: dict) -&gt; list:
    assert(isinstance(d, dict))
    return d.keys()
</code></pre>
<p>When inspecting the code I get the following error:</p>
<pre><code>Expected type 'list', got 'KeysView' instead
</code></pre>
<p>I would like to specify the correct return code so as to suppress this warning.</p>
</div>
<div class="post-text" itemprop="text">
<p>Python's typing library supports specifying the <code>Iterable</code> type:</p>
<pre><code>from typing import Iterable

def get_dict_keys(d: dict) -&gt; Iterable:
    assert(isinstance(d, dict))
    return d.keys()
</code></pre>
</div>
<span class="comment-copy">It's not clear from the question <b>in which direction</b> you want to correct that. <i>Should</i> that method return a list, in which case it's the code that's wrong not the typing? If the code is correct, does it actually matter if it returns a <code>KeysView</code> specifically (rather than e.g. a general <code>Iterable</code>)? Frankly that seems like a weird method to have written at all, in the context of <a href="https://docs.python.org/3/glossary.html#term-duck-typing" rel="nofollow noreferrer">duck typing</a>.</span>
<span class="comment-copy">@jonrsharpe, I would like to keep the code as it is, but fix the warning. I agree with you that specifying <code>typing.Iterable</code> is better than <code>typing.KeysView</code></span>
