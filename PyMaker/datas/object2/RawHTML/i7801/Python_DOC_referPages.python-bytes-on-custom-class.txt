<div class="post-text" itemprop="text">
<p>I have a custom class in python which I need to pass to an external API. The API only requires to be able to invoke <code>bytes(...)</code> on my class.</p>
<p>My question is, how can I decide the behavior of invoking <code>bytes()</code> on my custom python class?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can give your custom class a <a href="https://docs.python.org/3/reference/datamodel.html#object.__bytes__" rel="noreferrer"><code>__bytes__</code> method</a>:</p>
<blockquote>
<p>Called by <code>bytes</code> to compute a byte-string representation of an object. This should return a <code>bytes</code> object.</p>
</blockquote>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; class Foo:
...     def __bytes__(self):
...         return b'This is a bytes result for this instance'
...
&gt;&gt;&gt; bytes(Foo())
b'This is a bytes result for this instance'
</code></pre>
</div>
<span class="comment-copy">is there a standard way for parsing an instance of a class from bytes? i.e. the inverse of <b>bytes</b>?</span>
<span class="comment-copy">@JordanMackie: no, <code>__bytes__</code> returns an arbitrary bytes value, not a representation of a specific class instance.</span>
<span class="comment-copy">@JordanMackie: see <a href="https://docs.python-guide.org/scenarios/serialization/" rel="nofollow noreferrer">docs.python-guide.org/scenarios/serialization</a> for serialisation options, there is no 'standard' way for object serialisation.</span>
