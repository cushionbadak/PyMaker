<div class="post-text" itemprop="text">
<p>I am trying to write some code to allow a user to download a .csv file with the results bases on their search when they press a download button. I would like to include the date in the default name of the csv file but can't get it to work. The relevant code in views.py is:</p>
<pre><code>now = datetime.datetime.now()
date = str(now.year)+'-'+str(now.month)+'-'+str(now.day)

response = HttpResponse(content_type='csv')
response['Content-Disposition'] = 'attachment; filename="results"+str(date)+".csv"'
</code></pre>
<p>This returns a default filename 'results_+str(date)+_.csv'.</p>
</div>
<div class="post-text" itemprop="text">
<p>You messed up your <code>'</code> and <code>"</code>:</p>
<pre><code>response['Content-Disposition'] = 'attachment; filename="results'+str(date)+'.csv"'
</code></pre>
<p>This will work. I would suggest this though:</p>
<pre><code>response['Content-Disposition'] = 'attachment; filename="results{}.csv"'.format(str(date))
</code></pre>
<p>Also consider using <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="nofollow noreferrer">strftime</a>.</p>
</div>
