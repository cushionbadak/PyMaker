<div class="post-text" itemprop="text">
<p>I'm a beginner in programming, but for a Dutch text categorization experiment I want to turn every instance (row) of a csv file into separate .txt files, so that the texts can be analyzed by a NLP tool. My csv looks like this.</p>
<p><a href="https://i.stack.imgur.com/21dIK.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/21dIK.png"/></a></p>
<p>As you can see, each instance has text in the column 'Taaloefening1' or in the column 'Taaloefening2'. Now I need to save the text per instance in a .txt file and the name of the file needs to be the id and the label.
I was hoping I could to this automatically by programming a script in Python by using the csv module. I have an idea about how to save the text into a .txt file, but I have no idea how to take the id and label, which match the text, as the file name.
Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/csv.html#csv.DictReader" rel="nofollow noreferrer"><code>csv.DictReader</code></a> should be able to do what you need:</p>
<pre><code>from csv import DictReader

INPUT_FILE = 'data.csv'

with open(INPUT_FILE, 'rb') as csvfile:
    reader = DictReader(csvfile)
    for row in reader:
        file_name = "{}_{}.txt".format(row["id"], row["Label"])
        if row["Taaloefening1"]:     # if this field is not empty
            line = row["Taaloefening1"] + '\n'
        elif row["Taaloefening2"]:
            line = row["Taaloefening2"] + '\n'
        else:
            print("Both 'Taaloefening2' and 'Taaloefening2' empty on {}_{}. Skipping.".format(row["id"], row["Label"]))
            continue
        with open(file_name, 'w') as output:
            output.write(line)
</code></pre>
</div>
<span class="comment-copy">The <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer"><code>csv</code></a> module contains some useful tools.</span>
<span class="comment-copy">@Kendas, does <code>csv</code> module work for <code>xls</code> format too?</span>
<span class="comment-copy">@Ã‰beIsaac I'm unsure, but to be sure, I'd export the file into a <code>csv</code> format.</span>
<span class="comment-copy">@Kendas, I tried to export it to a csv file (by saving it as), but when I opened it, the columns were gone and everything was just in rows. I'm a beginner in Python and all that comes with it, so maybe I did something wrong</span>
<span class="comment-copy">A <code>csv</code> file should have the first line as <code>id,Label,Taaloefening1,Taaloefening2</code> and the second as <code>P642,PR,,Terwijl......</code> (note the two commas). Excel should have the possibility to save files in this format, though I don't have a one to test it handy.</span>
