<div class="post-text" itemprop="text">
<p>I'm trying to parse a <a href="https://imgur.com/fzIx5gf" rel="nofollow noreferrer">website</a> and I'm able to fetch the brand tag and the category tag, but I can't seem to be able to parse the price tag. Also, some of the shoes are on sale, and the HTML code seems to be different for those. </p>
<p>Any ideas on how to improve the parsing code?</p>
<p>Here's what I have so far.</p>
<pre><code>url="https://www.sportsexperts.ca/fr-CA/femmes/chaussures?pagesize=451"

contenu = requests.get(url)
page = BeautifulSoup(contenu.text,"html.parser")

for urlchaussure in urldeschaussures:
chaussure =[]
try:
    url2 = urlchaussure.a["href"]
    url2 = "https://www.sportsexperts.ca" + url2

    contenu2 = requests.get(url2)
    page2 = BeautifulSoup(contenu2.text,"html.parser")

    prix = page2.find(class_ ="price").find_next("span").text
    print(prix)

except:
    print("rien ici")
</code></pre>
<p><a href="https://www.sportsexperts.ca/fr-CA/femmes/chaussures" rel="nofollow noreferrer">here's the link to the website</a></p>
</div>
<div class="post-text" itemprop="text">
<p>All the prices (be it price after discount or the price that has no sale) are located inside the <code>&lt;div class="product-tile-price"&gt;</code> tag. So, your job is to find those tags first and the use <code>.span.text</code> to get the price.</p>
<p>Using <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>:</p>
<pre><code>r = requests.get('https://www.sportsexperts.ca/fr-CA/femmes/chaussures')
soup = BeautifulSoup(r.text, 'lxml')

prices = [x.span.text for x in soup.find_all('div', class_='product-tile-price')]
print(prices)
</code></pre>
<p>Output:</p>
<pre><code>['84,99 $', '67,49 $', '59,49 $', '48,99 $', '164,99 $', '77,99 $', '129,99 $', '94,99 $', '49,99 $', '49,99 $', '119,99 $', '89,99 $', '89,99 $', '74,99 $', '99,99 $', '149,99 $', '99,99 $', '159,99 $', '159,99 $', '99,99 $', '119,99 $', '139,99 $', '125,99 $', '84,99 $']
</code></pre>
</div>
<span class="comment-copy">Please <a href="https://meta.stackoverflow.com/a/285557/9348376">dont post images of your code</a>. Put the code in the post itself.</span>
<span class="comment-copy">Thanks for the heads up! edited</span>
<span class="comment-copy">I don't see any class called <code>price</code>, I think you should be <a href="https://i.imgur.com/b0m0SoH.png" rel="nofollow noreferrer">searching for <code>product-tile-price</code></a></span>
<span class="comment-copy">Well if you go on each product, which is what I need to do, you can see the <a href="https://imgur.com/fzIx5gf" rel="nofollow noreferrer">class called price</a>. I need to parse the data from each shoe available</span>
<span class="comment-copy">The issue is that that is <a href="https://i.imgur.com/VwjA0uA.png" rel="nofollow noreferrer">not on the page when its first loaded</a>, it is <a href="https://i.imgur.com/EStUeEr.png" rel="nofollow noreferrer">added dynamically</a> afterwards. You could still get it from that page by using something like <a href="http://selenium-python.readthedocs.io/index.html" rel="nofollow noreferrer">selenium</a>, but I think it'd be easier to pull the data from <a href="https://www.sportsexperts.ca/fr-CA/femmes/chaussures" rel="nofollow noreferrer">this page</a>, as those prices are put into the page server-side.</span>
<span class="comment-copy">Thanks! How to now merge the brand and category with the price for each shoe so that when I export in a new .csv folder, all three elements are together, but in separate excel columns?</span>
<span class="comment-copy">Since Im a new account, and already posted, it asks me to wait 2 days in order to ask another question... Can't you just help me out please?</span>
