<div class="post-text" itemprop="text">
<p>I would like to sum dictionary values over parts of the dictionary sliced by keys. The example below is out of context. I tried to reduce the code to the essential stuff. The problem is depicted in the last line. I try to slice a number of periods and sum the values. </p>
<blockquote>
<p>TypeError: unhashable type: 'slice'</p>
</blockquote>
<pre><code>stuff = [38, 255, 837]

dict = {}

for t in range(50):
    dict[t] = [(stuff[i] / (1.03)**t) for i in range(3)]

    sum(dict[int(t):int(t+5)][0])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your syntax is not possible with a dictionary. But you can define a function to perform the summation:</p>
<pre><code>stuff = [38, 255, 837]

d = {t: [(stuff[i] / (1.03)**t) for i in range(3)] for t in range(50)}

def slice_sum(d, start, end, i=0):
    return sum(v[i] for k, v in d.items() if start &lt;= k &lt; end)

result = {n: slice_sum(d, n, n+5) for n in range(50)}

# {0: 179.24973930679405,
#  1: 174.02887311339228,
#  2: 168.960070983876,
#  3: 164.03890386784076,
#  4: 159.26107171635024,
#  5: 154.62239972461188,
</code></pre>
</div>
<span class="comment-copy">What is the desired output?</span>
<span class="comment-copy">Standard dictionaries are not ordered. What is dict[1:3] supposed to mean? And don't call your dictionary <code>dict</code> - <a href="https://docs.python.org/3/library/functions.html" rel="nofollow noreferrer">you shadow a builtin function</a>.</span>
<span class="comment-copy">The output is a dictionary that presents the (rolling) sum for all years in range(50). It is about attributing the values for certain periods (in the example between t and t+5) to a particular year within the model</span>
<span class="comment-copy">@Kevin Show the exact output in the question (for a smaller example if necessary)</span>
<span class="comment-copy">@MrT i thought it is supposed to mean the first 3 entries of the dictionary, ordered by their key</span>
