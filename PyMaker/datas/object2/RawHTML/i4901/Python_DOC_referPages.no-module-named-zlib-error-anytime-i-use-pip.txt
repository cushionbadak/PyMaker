<div class="post-text" itemprop="text">
<p>I'm using terminal on mac, and anytime I attempt to use pip, I get the following error message telling me that it cannot find a module named zlib:</p>
<hr/>
<pre><code>$ pip --version

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/__init__.py", line 27, in &lt;module&gt;
    from . import urllib3
  File "/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/__init__.py", line 8, in &lt;module&gt;
    from .connectionpool import (
  File "/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/connectionpool.py", line 42, in &lt;module&gt;
    from .response import HTTPResponse
  File "/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/urllib3/response.py", line 3, in &lt;module&gt;
    import zlib
ModuleNotFoundError: No module named 'zlib'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.5/bin/pip", line 7, in &lt;module&gt;
    from pip import main
  File "/usr/local/lib/python3.6/site-packages/pip/__init__.py", line 21, in &lt;module&gt;
    from pip._vendor.requests.packages.urllib3.exceptions import DependencyWarning
  File "/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/__init__.py", line 62, in &lt;module&gt;
    from .packages.urllib3.exceptions import DependencyWarning
  File "/usr/local/lib/python3.6/site-packages/pip/_vendor/requests/packages/__init__.py", line 29, in &lt;module&gt;
    import urllib3
  File "/usr/local/lib/python3.6/site-packages/urllib3/__init__.py", line 8, in &lt;module&gt;
    from .connectionpool import (
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 36, in &lt;module&gt;
    from .response import HTTPResponse
  File "/usr/local/lib/python3.6/site-packages/urllib3/response.py", line 3, in &lt;module&gt;
    import zlib

ModuleNotFoundError: No module named 'zlib'
</code></pre>
<hr/>
<p>I've read several SO posts with the same error message, and have tried their solutions, including attempting to install zlib using homebrew, which fails, and updating my Xcode developer tools. I also installed pip earlier using <code>python get-pip.py</code>, and it said it installed successfully. </p>
<p>The reason I need pip is to install a package for use on python 2.7, but doing <code>$ pip install "package-name"</code> produces the same error as above. I have both Python 2 and 3 installed on my machine, if that helps. I'm kind of new to pip and using the command line in general, and I'm super confused; if anyone could help me out I'd really appreciate it.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is the OP. I was able to fix the issue, and wanted to post my solution here in case it would help others. </p>
<p>Essentially I believe it occurred because Python2 is default on my machine, but pip is by default pointing to resources pertaining to Python3, or something like that. Doing <code>pip2 --version</code> instead provided the expected response.</p>
</div>
<span class="comment-copy">@erip: If <code>pip</code> is broken, the OP can hardly use it to install the missing packages needed to make it work. For that matter <a href="https://docs.python.org/3/library/zlib.html" rel="nofollow noreferrer"><code>zlib</code> is a Python built-in module</a>, so it shouldn't need to be installed. If it's missing, the Python installation is borked. Otherwise, the only obvious problem would be that the OP installed a package (or has a module in their working directory or elsewhere in <code>sys.path</code>) that is shadowing <code>zlib</code>, and they'd need to get rid of it.</span>
<span class="comment-copy">@ShadowRanger "If <code>pip</code> is broken" is tricky. OP is referring to pip to install python 2 packages, while the installed pip seems to actually be pip3. Lots of wonkiness.</span>
