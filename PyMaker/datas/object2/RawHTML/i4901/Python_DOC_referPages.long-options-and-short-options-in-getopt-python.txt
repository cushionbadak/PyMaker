<div class="post-text" itemprop="text">
<p>In the below code I am mixing both short and long options. Also notice that "--longoption1" is separated by "=" and "--longoption2" is separated by space. But getopt does not differentiate between space and = for long options. On the contrary for short options anything followed by the short option (x,y,z) is considered as the value for the option. Notice "-x:shortvalue1 -y shortvalue2 -zshortvalue3" x is separated by :, y by space and z is not even separated by anything, but still getopt parses as I can imagine.  </p>
<pre><code>import sys, getopt

commandoptions = "--longoption1=longvalue1 --longoption2 longvalue2 -x:shortvalue1 -y shortvalue2 -zshortvalue3"
parsedoptions = commandoptions.split()
print("Split by space ", parsedoptions)

opts, additionalArgs = getopt.getopt(parsedoptions, "x:y:z:", ["longoption1=", "longoption2="])
print("options ", opts)
</code></pre>
<p>In continuation, why does the following code fail? Notice that "--longoption3longvalue3" is similar to "-zshortvalue3". I mean the option and its value are not separated. In this case short options still work but long options do not. Instead it causes the following error:</p>
<blockquote>
<p><code>GetoptError: option --longoption3longvalue3 not recognized</code></p>
</blockquote>
<p>I was following <a href="https://docs.python.org/3/library/getopt.html" rel="nofollow noreferrer">https://docs.python.org/3/library/getopt.html</a> but I could not find any references for the answer I am looking for.</p>
<pre><code>import sys, getopt

commandoptions = "--longoption1=longvalue1 --longoption2 longvalue2 --longoption3longvalue3 -x:shortvalue1 -y shortvalue2 -zshortvalue3"
parsedoptions = commandoptions.split()
print("Split by space ", parsedoptions)

opts, additionalArgs = getopt.getopt(parsedoptions, "x:y:z:", ["longoption1=", "longoption2=", "longoption3="])
print("options ", opts)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is the correct, intended behaviour following both <a href="http://nixdoc.net/man-pages/FreeBSD/getopt_long.3.html" rel="nofollow noreferrer">BSD</a> and <a href="https://linux.die.net/man/3/getopt_long" rel="nofollow noreferrer">GNU</a> <code>getopt_long(3)</code> conventions. (Notice that the "long option" idea originated from GNU and is not part of the POSIX API).</p>
<p>From the GNU man page:</p>
<blockquote>
<p>A long option may take a parameter, of the form <code>--arg=param</code> or <code>--arg param</code>. </p>
</blockquote>
<p>To pass a long option to the program, the name of the option and the value must be joined by either an equal sign <code>=</code>, or separated as neighbouring items in <code>argv</code>, i.e.</p>
<pre><code>--longoption3 longvalue3
</code></pre>
<p>Joining them together will cause the underlying <code>getopt_long</code> library function to recognize this part as one long option whose name is <code>longoption3longvalue3</code>, which is correctly unrecognized.</p>
</div>
<span class="comment-copy">What do you mean by "not compiling"? What kind of error output do you see?</span>
<span class="comment-copy">I get this error "GetoptError: option --longoption3longvalue3 not recognized"</span>
<span class="comment-copy">Thanks. I think this part " the value must be joined by either an equal sign =, or separated as neighbouring items in argv" was the key.</span>
