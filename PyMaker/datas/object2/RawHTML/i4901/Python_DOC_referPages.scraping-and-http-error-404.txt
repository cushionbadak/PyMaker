<div class="post-text" itemprop="text">
<p>Watching a youtube video to learn how to scrape multiple pages. I copied the video line for line and ran into a few issues. First, is this HTTP Error 404. </p>
<p>[Here is my code]</p>
<p>I believe after doing some quick searching, I think it is because there is no URL for the letter 'x'. Please correct me if I am wrong. Is there a way to subtract the letter 'x' out from ascii_lowercase?</p>
<p><a href="https://i.stack.imgur.com/Ecgxa.png" rel="nofollow noreferrer">here is my code</a></p>
<p>My second question is like I said in the video I copied the code line for line, but I am not getting the players names along with the data. I did notice after inspecting it that the player name was tagged with 'th' and not included in 'td'. I tried adding another for loop, but couldn't get it to work.</p>
<p>Thanks for the help!!</p>
</div>
<div class="post-text" itemprop="text">
<p>It seems that <code>urllib.request.urlopen</code> throws an exception when the http stauts code is 404. I was not aware of that. If that only occurs with the url built with the letter <code>x</code>, using</p>
<pre><code>string.ascii_lowercase.replace('x', '')
</code></pre>
<p>should work.</p>
<p>If that is not the case, a more defensive approach would be to add an <code>try</code> block to the <code>make_soup</code> call and do something when the error occurs. Something like this:</p>
<pre><code>import string
import urllib
import urllib.request
from bs4 import BeautifulSoup

def make_soup(url):
    r = urllib.request.urlopen(url)
    return BeautifulSoup(r, 'html.parser')

playerdatasaved = ''

for letter in string.ascii_lowercase:
    url = 'https://www.basketball-reference.com/players/' + letter + '/'

    try:
        soup = make_soup(url)
    except urllib.error.HTTPError:
        print('{} not found'.format(url))
        continue

    for record in soup.findAll('tr'):
        playerdata = ''
        for data in record.findAll('td'):
            playerdata = playerdata + ',' + data.text
        if len(playerdata) != 0:
            playerdata = playerdatasaved + "\n" + playerdata[1:]
</code></pre>
<p>this will just log the url that was not found and skip to the next loop iteration, you may want (or need) to do something else.</p>
<p>You may want to take a look <a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">here</a> for more information regarding error handling in python.</p>
</div>
<span class="comment-copy">Is <code>ascii_lowercase</code> <a href="https://docs.python.org/3/library/string.html#string.ascii_lowercase" rel="nofollow noreferrer"><code>string.ascii_lowercase</code></a>? If that's the case you can use <code>ascii_lowercase.replace('x', '')</code> to get rid of <code>x</code>. However looking at the image you provided I think the error may be elsewhere. Can you provide some more context? The contents of <code>make_soup</code> and the full stack trace would help.</span>
<span class="comment-copy"><a href="https://www.youtube.com/watch?v=H8wUYz22joM" rel="nofollow noreferrer">youtube.com/watch?v=H8wUYz22joM</a> this is the link to the video. Sorry if that seems lazy, but honestly like I said I am a beginner in this so it's probably easier to skip through the video for explanation. the lesson before that video is the one where he goes more into detail on the code itself.</span>
<span class="comment-copy">That's fine. Can you post the code you have somewhere so I can test it locally without having to copy manually from the video?</span>
