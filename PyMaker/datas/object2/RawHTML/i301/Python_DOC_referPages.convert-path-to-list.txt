<div class="post-text" itemprop="text">
<p>I have a path made of directories (e.g. <code>'grandpa\\parent\\child'</code>) that I need to transform in a list (e.g. <code>['grandpa', 'parent', 'child']</code>).</p>
<p>The path can have less or more subdirectories (e.g. <code>['parent', 'child']</code>).</p>
<p>I tried iterating <a href="https://docs.python.org/3/library/os.path.html#os.path.split" rel="nofollow noreferrer"><code>os.path.split()</code></a> but it doesn't work well in all circumstances:</p>
<pre class="lang-py prettyprint-override"><code>import os

s = []
def splitall(path):
    l = list(os.path.split(path))
    s.append(l[1])
    return s if l[0] == '' else splitall(l[0])

p = 'grandpa\\parent\\child'
l = splitall(p)
print(l)
</code></pre>
<p>There should be a better way, right? Maybe a method that I'm not aware of.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/pathlib.html?highlight=pathlib%20parts#pathlib.PurePath.parts" rel="nofollow noreferrer"><code>pathlib</code></a> too.</p>
<pre><code>import pathlib

path = "a\\b\\c"
p = pathlib.Path(path)
result = p.parts
</code></pre>
</div>
<span class="comment-copy">Does using <code>your_list.split('\\')</code> handle all the cases you need?</span>
<span class="comment-copy">Why doesn't <code>os.path.split()</code> work well? When does it fail?</span>
<span class="comment-copy">Perhaps <code>os.walk()</code> could be useful in developing your program? Documentation is at <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer">docs.python.org/3/library/os.html#os.walk</a></span>
<span class="comment-copy">@Barmar it fails inside a for loop.</span>
<span class="comment-copy">pathlib is great and OS agnostic - removing my answer for this</span>
<span class="comment-copy">That said: it seems unlikely you actually need this -- are you sure this isn't an <a href="http://xyproblem.info" rel="nofollow noreferrer">XY problem?</a></span>
