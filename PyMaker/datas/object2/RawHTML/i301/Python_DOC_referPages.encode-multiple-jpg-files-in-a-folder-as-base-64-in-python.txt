<div class="post-text" itemprop="text">
<p>How do I encode multiple jpeg files in a folder as base 64. Currently my code can encode one file. However I would like this to encode all the jpeg files in a folder path. </p>
<pre><code>with open("path\\A.jpg", "rb") as image_file:
    encoded_string = base64.b64encode(image_file.read())
</code></pre>
<p>extract_ocr_words(encoded_string)</p>
<p>In the above path there'll be multiple jpeg files such as </p>
<pre><code>A.jpg
B.jpg
C.jpg
</code></pre>
<p>the final output should combine all the images in the folder and extract text and show as list in the final command </p>
<pre><code>extract_ocr_words(encoded_string)

['ABC', 'LKM', 'GHI', 'TLI', 'CLI']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have to iterate over the files inside the folder. You can use <code>os</code> library (<a href="https://docs.python.org/3/library/base64.html" rel="nofollow noreferrer">link</a>):</p>
<pre><code>import os

words = []
directory = 'path/to/your/pictures'
for filename in os.listdir(directory):
    if filename.endswith(".jpg"): 
        with open(os.path.join(directory, filename), "rb") as image_file:
            encoded_string = base64.b64encode(image_file.read())
            words.extend(extract_ocr_Words(encoded_string))
    else:
        continue
print('Words from all files')
print(words)
</code></pre>
<p>Also you can use <code>os.path.join()</code> (<a href="https://docs.python.org/3/library/os.path.html#os.path.join" rel="nofollow noreferrer">link to function</a>) function which concatenate two parts of path. It will works on Windows and Unix system. It is better than escaping of <code>\</code>. Then it is up to you what do you want to do with the encoded images.</p>
<p>You can still shorten your code by using <code>glob</code> package.
The functionality can be achieved as follows:</p>
<pre><code>import glob

words = []
for f_name in glob.glob('*.jpg'):
    with open(f_name,"rb") as image_file:
         encoded_string = base64.b64encode(image_file.read())
         words = extract_ocr_Words(encoded_string)
         words.extend(extract_ocr_Words(encoded_string))
    else:
        continue
print('Words from all files')
print(words)
</code></pre>
</div>
<span class="comment-copy">Check out the <code>glob</code> module to loop through file names. e.g. <code>for filename in glob.glob("path\\*.jpg")</code>.</span>
<span class="comment-copy">@AlexanderReynolds I'm relatively new to python. Could you please let me know how this could be incorparted in to the code that I have provided? thanks in advance. :)</span>
<span class="comment-copy">Just iterate over files in the folder...</span>
<span class="comment-copy">This worked Perfectly :)</span>
