<div class="post-text" itemprop="text">
<p>I am getting a syntax error when trying to change the following code to List comprehension </p>
<p>Initial Code:</p>
<pre><code>new_num =[]
for num in a:
    if num in b:
       if num not in new_num:
          new_num.append(num)
print(new_num)
</code></pre>
<p>Change to List comprehension:</p>
<pre><code>new_num = [num for num in a if num in b if num not in new_num]
print(new_num)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I <strong>assume</strong> you want to extract unique elements from 'a'. If this is what you try to do, the code below does it.</p>
<pre><code>a = [12,4,5,6,7,3,4,12,5,7]
unique_numbers = set(a)
print(unique_numbers)
</code></pre>
<p>Output</p>
<pre><code>set([3, 4, 5, 6, 7, 12])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your code: <code>new_num = [num for num in a if num in b if num not in new_num]</code> does not work for two reasons:</p>
<ul>
<li>You can have only an if statement. You should combine the with a logical operator: <code>if num in b and num not in new_num</code>.</li>
<li>You cannot use <code>new_num</code> inside the list comprehesion, as you are not defined it yet, as is the result of the list comprehension you are creating. Even if you correct it as in the previous bullet, it will raise a NameError <code>NameError: name 'new_num2' is not defined</code>.</li>
</ul>
<p>If you want to use a list comprehension you could use <a href="https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset" rel="nofollow noreferrer">set()</a>.</p>
<pre><code>new_num2 = list(set([num for num in a if num in b]))
print(new_num2)
</code></pre>
<p>The list comprehension collects all the elements of <code>a</code> which are in <code>b</code>. <code>set</code> removes duplicates. <code>list</code> converts it back to a list.</p>
</div>
<span class="comment-copy">You can only have one filter condition, try <code>... if num in b </code> <b><code>and</code></b> <code>num not in new_num]</code></span>
<span class="comment-copy">What version of Python are you using? I'm using 3.6.3 and your code executes just fine on my machine.</span>
<span class="comment-copy">You can't refer to the list that you're creating in a list comprehension. <code>new_num</code> isn't set until after the list comprehension completes.</span>
<span class="comment-copy">If you want to get rid of duplicates, make it a <code>set</code> instead of <code>list</code>.</span>
<span class="comment-copy">Yes. Thank you.. i just learned about the set ... and it works for me..</span>
