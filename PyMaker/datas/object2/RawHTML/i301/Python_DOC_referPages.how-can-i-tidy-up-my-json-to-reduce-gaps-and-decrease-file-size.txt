<div class="post-text" itemprop="text">
<p>I am writing to a JSON with variable data, at the moment it is way too long, like hundreds of thousands of lines. I think can significantly reduce file size if I can remove gaps...</p>
<p>At the moment i write to my json like so</p>
<pre><code>for num in num_list:
                datalog['build'].append({
                    'Number': num,
                    'Code' : L 
                })
                json.dump(datalog, outfile, indent=4, sort_keys=False, ensure_ascii=False, separators=(',', ':'))
</code></pre>
<p>how can i edit the above <code>json.dump</code> to go from this;</p>
<pre><code>{
    "build":[
        {
            "Num":"XXXXXXXXXXXXXXXXX",
            "Code":[
                {
                    "text":"0515: xxx"
                },
                {
                    "text":""
                },
                {
                    "text":""
                },
                {
                    "text":""
                },
</code></pre>
<p>to this;</p>
<pre><code>{
    "build":[
        {
            "Num":"XXXXXXXXXXXXXXXXX",
            "Code":[{"text":"0515: xxx"},{"text":""},{"text":""},{"text":""},
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using the python json default module you can't choose which gap you keep or remove. You can put <code>indent=0</code> which will delete all gaps and reduce the file size but make it unreadable for humans.</p>
<p>If interoperability with another language is not a problem you can use <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">pickle</a> or <a href="https://docs.python.org/3/library/marshal.html" rel="nofollow noreferrer">mashall</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Since 'Code' is a list of dicts with 1 entry only it can be reduced to a list of strings.</p>
<pre><code> "Code":[{"text":"0515: xxx"},{"text":""},{"text":""},{"text":""}]
</code></pre>
<p>Can be converted to:</p>
<pre><code> "Code":["0515: xxx","","",""]
</code></pre>
</div>
<span class="comment-copy">I don't think that will give him the output he wants</span>
<span class="comment-copy">If the whole goal is minimal filesize, I'd say look into JSON minifiers like <a href="https://github.com/esnme/ultrajson" rel="nofollow noreferrer">ujson</a>.</span>
<span class="comment-copy">@TigerhawkT3 I'll have a look, would like to keep solution as simple as possible</span>
<span class="comment-copy">Thanks this is good, I used 'indent=None'  which is what i was after</span>
