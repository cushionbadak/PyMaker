<div class="post-text" itemprop="text">
<p>I'm new in Python and I have a problem.</p>
<p>I have two columns of data in decimal year in a .txt document and I want to trasform each number in the two columns to data (yyyy-mm-dd)</p>
<pre><code>2014.16020 2019.07190
2000.05750 2019.10750
2001.82610 2019.10750
2010.36280 2019.07190
2005.24570 2019.10750
2015.92610 2019.10750
2003.43600 2014.37100
</code></pre>
<p>and then subtract the data of the second column from the data of the first column in order to obtain the number of days between the two datas.
for example the restult should be like:</p>
<pre><code>1825
3285
2920
3283
ecc..
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Give proper path of your file and output file. The below code would do the rest. </p>
<pre><code>import pandas as pd
import numpy as np
df=pd.read_csv('your_file.txt',delimiter=' ',header=None,parse_dates=[0,1])
df['date_diffrence']=((df[1]-df[0])/np.timedelta64(1,'D')).astype(int)
df.to_csv('your_file_result.txt',header=None,sep=' ',index=False)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I put my explanations in the code below</p>
<pre><code>from datetime import datetime  # yes they named a class the same as module
x = '''2014.16020 2019.07190
2000.05750 2019.10750
2001.82610 2019.10750
2010.36280 2019.07190
2005.24570 2019.10750
2015.92610 2019.10750
2003.43600 2014.37100'''

# split input into lines. Assumption here is that there is one pair of dates per each line
lines = x.splitlines() 
# set up a container (list) for outputs
deltas = []
# process line by line
for line in lines:
    # split line into separate dates
    inputs = line.split()
    dates = []
    for input in inputs:
        # convert text to number
        date_decimal = float(input)
        # year is the integer part of the input
        date_year = int(date_decimal)
        # number of days is part of the year, which is left after we subtract year
        year_fraction = date_decimal - date_year
        # a little oversimplified here with int and assuming all years have 365 days
        days = int(year_fraction * 365)
        # now convert the year and days into string and then into date (there is probably a better way to do this - without the string step)
        date = datetime.strptime("{}-{}".format(date_year, days),"%Y-%j")  
        # see https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior for format explanation
        dates.append(date)
    deltas.append(dates[1] - dates[0])

# now print outputs
for delta in deltas:
    print(delta.days)
</code></pre>
</div>
<span class="comment-copy">What is mean decimal year? I am not understand how it may be converted to date.</span>
