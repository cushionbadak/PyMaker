<div class="post-text" itemprop="text">
<p>In basic use, a <a href="https://docs.python.org/3/library/functions.html#slice" rel="nofollow noreferrer">slice object</a> represents a subset of the integer indices of a sequence.  Why can’t I test whether an index is a member of that subset with <code>in</code>?  It could be constant-time, analogously to the corresponding operation on a (Python 3) <a href="https://docs.python.org/3/library/stdtypes.html#typesseq-range" rel="nofollow noreferrer"><code>range</code> object</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Because even basic slices support negative indexes, checking for containment requires knowing the <strong>length</strong> of the sequence.  You can supply that length with <code>range</code>:</p>
<pre><code>so=slice(b,e,s)
r=range(n)[so]
if i in r: # ...
</code></pre>
<p><code>xrange</code> in Python 2 does not support the slicing (or the constant-time containment check).</p>
</div>
