<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/21316968/division-in-python-2-7-and-3-3">Division in Python 2.7. and 3.3 [duplicate]</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>I have defined a function in Python 2.7.15 which takes two inputs <code>(b,v)</code>, but I have noticed that <code>f(50,0.1)</code> produces very different results to those of <code>f(50.0,0.1)</code>. This is the function: </p>
<pre><code>def f(b,v):
    h=b*v/math.sqrt(1-v**2)
    def dJ_dp(J,p):
        return [J[1],-J[0]+3.0/2*J[0]**2+1/(2*h**2)]
    J0 = [0.0000001,1/b]
    ps = np.linspace(0,15,50)
    Js = odeint(dJ_dp, J0, ps)
    us = Js[:,0]
    return (ps,1/us)
</code></pre>
<p>I've needed to define <code>dJ_dp</code> inside <code>f(b,v)</code> because it needs the value <code>h</code>. Why are the outputs so different? Why are they different at all?</p>
<p>My hypotheses was that something went wrong when defining <code>h</code> but that doesn't seem to be the case.  </p>
</div>
<div class="post-text" itemprop="text">
<p>The problem is probably here: <code>J0 = [0.0000001,1/b]</code>.</p>
<p>If <code>b</code> is the int <code>50</code>, <code>1/b</code> will be done using integer division, and result in <code>0</code>. If <code>b</code> is the floating point <code>50.0</code> it will be done with floating point division and will result in <code>0.02</code>.</p>
<p>You could use <code>1.0</code> instead of <code>1</code> to force floating point arithmetic:</p>
<pre><code>J0 = [0.0000001, 1.0/b]
# Here -----------^
</code></pre>
</div>
<span class="comment-copy">Python 2.7 defines division differently for reals and integers. <a href="https://stackoverflow.com/questions/21316968/division-in-python-2-7-and-3-3">Take a look</a></span>
<span class="comment-copy">the second entry of <code>J0 = [0.0000001,1/b]</code> is an integer division if b is an int, i.e. it's result will be 0 instead of 0.02</span>
