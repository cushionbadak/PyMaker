<div class="post-text" itemprop="text">
<p>I am not yet at the level where I have tools (or know how to develop or use them) for testing and profiling seemingly simple things like my questions so I turn to you.</p>
<p>I have a function that checks a condition and based on that condition picks the best mathematical tool to work with (different modules) but this function is applied on windows of an array and so is looped. Different imports may occur from window to window but this leads me to wonder if the imports are actually being looped and if this is a performance issue at all.</p>
<p>Here is an example from the matplotlib source</p>
<pre><code>def pause(interval):
    """
    Pause for *interval* seconds.

    If there is an active figure it will be updated and displayed,
    and the GUI event loop will run during the pause.

    If there is no active figure, or if a non-interactive backend
    is in use, this executes time.sleep(interval).

    This can be used for crude animation. For more complex
    animation, see :mod:`matplotlib.animation`.

    This function is experimental; its behavior may be changed
    or extended in a future release.

    """
    backend = rcParams['backend']
    if backend in _interactive_bk:
        figManager = _pylab_helpers.Gcf.get_active()
        if figManager is not None:
            canvas = figManager.canvas
            canvas.draw()
            show(block=False)
            canvas.start_event_loop(interval)
            return

    # No on-screen figure is active, so sleep() is all we need.
    import time
    time.sleep(interval)
</code></pre>
<p>If I in a loop alternate opening and closing figures will time be imported every other iteration? Or just imported the first time the import is called on and subsequent imports ignored?</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>After an <code>import</code> completes successfully, the imported module is cached in <code>sys.modules</code> and subsequent <code>import</code> statements will find the module in <code>sys.modules</code> so the module will not be reimported.  You can force a module reimport with the <code>reload</code> builtin function.</p>
<p>From <a href="http://docs.python.org/3/reference/import.html#the-module-cache" rel="nofollow">the documentation</a>:</p>
<blockquote>
<p>The first place checked during import search is <code>sys.modules</code>. This mapping serves as a cache of all modules that have been previously imported, including the intermediate paths. So if <code>foo.bar.baz</code> was previously imported, <code>sys.modules</code> will contain entries for <code>foo</code>, <code>foo.bar</code>, and <code>foo.bar.baz</code>.</p>
</blockquote>
<p><a href="http://www.python.org/dev/peps/pep-0008/#imports" rel="nofollow">PEP 8</a> (the Python style guide) recommends that imports should be at the top of the file, not within methods.  Valid reasons to break this rule (giving a "late import") are if a module import is expensive and used only rarely in your program (and not at all in a typical execution), or to resolve a circular import dependency (though in that case you should try to resolve the circularity by splitting module functionality better).  For a module like <code>time</code>, that is built in to Python, there's very little reason to use a late import.</p>
</div>
<div class="post-text" itemprop="text">
<p>The actual action of <a href="http://docs.python.org/2/reference/simple_stmts.html#grammar-token-import_stmt" rel="nofollow noreferrer"><code>import</code></a> only happens once (which is why you explicitly need to <a href="http://docs.python.org/2/library/functions.html#reload" rel="nofollow noreferrer"><code>reload</code></a> when you do want it to be imported again) -- the interpreter checks to see if it's already been imported.</p>
<p>But it is usually more <a href="https://stackoverflow.com/questions/6372159/what-is-the-most-pythonic-way-to-import-modules-in-python">pythonic</a> to put all of your imports at the top of the module.</p>
</div>
<span class="comment-copy">This must be a stupid question, I was captcha screened twice, entering the wrong one the first time T_T</span>
<span class="comment-copy">This makes a lot of sense and was quick, thanks :)</span>
