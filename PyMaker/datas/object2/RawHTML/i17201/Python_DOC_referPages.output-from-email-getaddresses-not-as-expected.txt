<div class="post-text" itemprop="text">
<p>Based on the documentation on the <code>email.getaddresses()</code> module, I would expect <code>getaddresses('"John Doe" &lt;johndoe@mail.com&gt;')</code> to return:</p>
<pre><code>[('John Doe', 'johndoe@mail.com')]
</code></pre>
<p>but what it returns (under Python 3.3) is:</p>
<blockquote>
<p>[('', ', J, o, h, n,  , D, o, e, '), ('', ''), ('', ''), ('', 'j'), ('', 'o'), ('', 'h'), ('', 'n'), ('', 'd'), ('', 'o'), ('', 'e'), ('', '@'), ('', 'm'), ('', 'a'), ('', 'i'), ('', 'l'), ('', '.'), ('', 'c'), ('', 'o'), ('', 'm'), ('', '')]</p>
</blockquote>
<p>which is a little less than optimally useful.</p>
<p>What gives?</p>
</div>
<div class="post-text" itemprop="text">
<p>According to the <a href="http://docs.python.org/3/library/email.util.html#email.utils.getaddresses" rel="nofollow"><code>email.utils.getaddresses</code> documentation</a>, the argument should be <strong>a sequence of header field values</strong>, not a single string.</p>
<pre><code>&gt;&gt;&gt; import email.utils
&gt;&gt;&gt; email.utils.getaddresses(['"John Doe" &lt;johndoe@mail.com&gt;'])
[('John Doe', 'johndoe@mail.com')]
</code></pre>
</div>
<span class="comment-copy">Based on <a href="http://docs.python.org/dev/library/email.util.html" rel="nofollow noreferrer">docs.python.org/dev/library/email.util.html</a> have you compared the behavior of <code>parseaddr()</code> and <code>getaddresses()</code>?</span>
