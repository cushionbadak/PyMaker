<div class="post-text" itemprop="text">
<p>How do i open my txt file and remove som special characters form some tweets from a txt file.</p>
<p>My text looks somthing like this</p>
<pre><code>@xirwinshemmo thanks for the follow :)
hii... if u want to make a new friend just add me on facebook! :) xx https:\/\/t.co\/RCYFVrmdDG
@ycmaP enjoy tmrro. saw them earlier this wk here in tokyo :)
</code></pre>
<p>I have to get rid of everything  that starts with @ 
and every webpage (http)
How do i do that?</p>
<p>I have tried this so far.</p>
<pre><code> import re

 a = []
 with open('englishtweets1.txt','r') as inf:
      a = inf.readlines()
for line in a:
    line = re.sub(r['@'], line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>use it like this</p>
<pre><code>import re
data = open('englishtweets1.txt').read()
new_str = re.sub(r'^@', ' ', data)
new_str = re.sub(r'^https?:\/\/.*[\r\n]*', '', new_str, flags=re.MULTILINE)
#open('removed.txt', 'w').write(new_str) (if needed)
</code></pre>
<p><strong>UPDATE</strong>
This is working just tested</p>
<pre><code>new_str = re.sub(r'https.(.*?) ', '', new_str, flags=re.MULTILINE)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<h2>All in one go</h2>
<p>If your file is not huge you can do it all in one go:</p>
<pre><code>import re
with open('englishtweets1.txt') as f:
    contents = re.sub(r'^@\w+\s|\bhttp[^\s]+', '', f.read(), flags=re.MULTILINE)
print contents
</code></pre>
<p>Result:</p>
<blockquote>
<p>thanks for the follow :)<br/>
  hii... if u want to make a new friend just add me on facebook! :) xx<br/>
  enjoy tmrro. saw them earlier this wk here in tokyo :)</p>
</blockquote>
<p>Note that the http stripping is very simple and will strip away anything beginning with http. To fix that, you can improve the regex to search for valid http urls.</p>
<h2>Line by line</h2>
<p>If your file is very large, you might not want to store it all in memory. You can instead iterate over all lines in the file:</p>
<pre><code>import re
with open('englishtweets1.txt') as f:
    for line in f:
        print re.sub(r'^@\w+\s|\bhttp[^\s]+', '', line)
</code></pre>
</div>
<span class="comment-copy"><a href="http://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer"><code>re.sub</code></a> takes three arguments.</span>
<span class="comment-copy">Maybe you could try something like this: $my_text=file_get_contents('textfile.txt'); $new_text=preg_replace("@", "", $my_text);</span>
<span class="comment-copy">what can i use for the third argument then?</span>
<span class="comment-copy">That depends on what you want to do. If you want to remove the matched part, use an empty string <code>""</code> as the replacement. Mor difficult is the regular expression to match what you want to remove.</span>
<span class="comment-copy">That will not "get rid of everything that starts with @".</span>
<span class="comment-copy">i used it like you did it worked but how it do not get rid of everything. The username is stil there and in the http the rest of the http is stil there</span>
<span class="comment-copy">see my updated answer please</span>
<span class="comment-copy">Its not working !</span>
<span class="comment-copy">It worked. But it is a huge file xD</span>
<span class="comment-copy">Did it pose any problems? I've added a line by line version too.</span>
