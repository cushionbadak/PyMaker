<div class="post-text" itemprop="text">
<p>I want a class "Library" which has a class variable "books" which is a list of all the books in the library.  So may class begins</p>
<pre><code>class Library:
    books = []
</code></pre>
<p>Now I want to add a book to my collection, but I can find no syntax
to do so.  The model I have in my head is something like</p>
<pre><code>def addBook(self, book):
    books.append(book)
</code></pre>
<p>which I would expect to call with something like from the main routine with something like</p>
<pre><code>lib = Library()
b = Book(author, title)
lib.addBook(b)
</code></pre>
<p>However, I've not been able to find any way to do this.  I always get an error with the "append" where I try to add the book to the list.</p>
</div>
<div class="post-text" itemprop="text">
<p>You should declare <code>books</code> as an <strong>instance variable</strong>, not a <em>class variable</em>:</p>
<pre><code>class Library:
    def __init__(self):
        self.books = []

    def addBook(self, book):
        self.books.append(book)
</code></pre>
<p>so you can create an <em>instance</em> of <code>Library</code>:</p>
<pre><code>lib = Library()
b = Book(...)
lib.addBook(b)
</code></pre>
<p><strong>Notes:</strong> </p>
<ul>
<li>For further information about <code>self</code> , you can read this <a href="http://freepythontips.wordpress.com/2013/08/07/the-self-variable-in-python-explained/" rel="noreferrer">post</a>.</li>
<li>This assumes your <code>Book</code> class is implemented correctly.</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<pre><code>class Library():
    def __init__(self):
        self.books = []
    def addBook(self, book):
        self.books.append(book)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>look at this <a href="http://docs.python.org/3/tutorial/classes.html#random-remarks" rel="nofollow">example</a> for the initialization and the setter:</p>
<pre><code>class Library:
    def __init__(self):
        self.books = []
    def add(self, x):
        self.books.append(x)
</code></pre>
</div>
<span class="comment-copy">the way you are doing it, books is a class variable.</span>
