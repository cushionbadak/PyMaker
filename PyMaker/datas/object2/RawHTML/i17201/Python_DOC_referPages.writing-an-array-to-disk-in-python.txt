<div class="post-text" itemprop="text">
<p>I use <code>python</code> basically as a calculator, from <code>terminal interpreter</code>. But, for a particular work, I need to write it as .py file and save its result to a file.</p>
<p>For my real problem, the code I came up with is:</p>
<pre><code>#least.py program
import numpy as np
from scipy.optimize import curve_fit
xdata = np.array([0.1639534, 0.2411005, 0.3130353, 0.3788510,  0.4381247, 0.5373147, 0.6135673, 0.6716365, 0.7506711,  0.8000908, 0.9000000])
ydata =np.array ([7.1257999E-04,9.6610998E-04,1.1894000E-03,1.3777000E-03,1.5285000E-03,1.7297000E-03,1.8226000E-03,1.8422999E-03,1.7741000E-03,1.6574000E-03,1.1877000E-03])

def func (x,a,b,c):
    return a+b*x+c*x**3
popt, pcov =curve_fit(func,xdata,ydata,p0=(1,1,1))
</code></pre>
<p>and trying to write them in disk.</p>
<p>As from terminal, the value of popt, pcov will simply available by:</p>
<pre><code>&gt;&gt;&gt; popt
array([ -5.20906980e-05,   4.41458412e-03,  -3.65246935e-03])
</code></pre>
<p>I tried to write it in disk, appending the least.py as(as given <a href="https://stackoverflow.com/questions/3685265/how-to-write-a-multidimensional-array-to-a-text-file">here</a>):</p>
<pre><code>with file('3fit','w') as outfile:
    outfile.write(popt)
</code></pre>
<p>which gives me error:</p>
<pre><code>Traceback (most recent call last):
  File "least.py", line 9, in &lt;module&gt;
    with file('3fit','w') as outfile:
NameError: name 'file' is not defined
</code></pre>
<p>Kindly help.
I am in linux machine, using python 3.3</p>
<pre><code>print (sys.version)
3.3.5 (default, Mar 10 2014, 03:21:31) 
[GCC 4.8.2 20140206 (prerelease)]
</code></pre>
<p><strong>EDIT</strong>
I would like those data in a column,as:</p>
<pre><code>-5.20906980e-05   
 4.41458412e-03  
-3.65246935e-03
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are using Python3, where <code>file()</code> is  not a function any more. Use <code>open()</code> instead.</p>
<p>Furthermore, you can only write strings. So how do you want to have <code>popt</code> represented as a string exactly? If you want to get the same output as on the console, <code>repr()</code> will do:</p>
<pre><code>with open('3fit', 'w') as outfile:
    outfile.write(repr(popt))
</code></pre>
<p>Or you could just write the numerical values, separated by blanks:</p>
<pre><code>with open('3fit', 'w') as outfile:
    outfile.write(' '.join(str(val) for val in popt))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When opening a file, you have to use the open function, 'file' doesn't exist. Modify the line as followed :</p>
<pre><code>with open('3fit','w') as outfile:
    outfile.write(str(popt))
</code></pre>
<p>Plus, you probably can't write your np.array directly so I used the str() function.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is a simple error in syntax. </p>
<p>You really want:</p>
<pre><code>with ('3fit','w') as outfile:
    outfile.write(popt)
</code></pre>
<p>The <code>with</code> statement here is calling a <code>context manager</code> as mentioned in the <a href="http://docs.python.org/3/library/contextlib.html?highlight=context#module-contextlib" rel="nofollow">official Python documentation</a>.</p>
</div>
<span class="comment-copy">Is there a reason why you have to write it to a .py file -- does saving /fetching it from a binary format not work for your use case?</span>
