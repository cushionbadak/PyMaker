<div class="post-text" itemprop="text">
<p>I'd like to make my code a little more user-friendly such that when users post something, i'd like it to say "x seconds/hour/day ago"</p>
<p>so far my code is </p>
<pre><code>{{ post.date_posted.strftime('%Y-%m-%d %H:%M:%S') }}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You want <a href="https://docs.python.org/3/library/datetime.html#datetime-objects" rel="nofollow noreferrer"><code>datetime.timedelta()</code></a></p>
<pre><code>import datetime
import time

old_time = datetime.datetime.now()
time.sleep(20)
new_time = datetime.datetime.now()

# The below line returns a 'timedelta' object.
delta = new_time - old_time

print('{} seconds have passed.'.format(delta.total_seconds()))

# or
print(
    '{} days, {} hours, {} minutes, {} seconds passed.'.format(
        delta.days,
        delta.seconds//3600,
        (delta.seconds//60)%60,
        int(delta.total_seconds()%60)))
</code></pre>
<p>I believe it also exists for just <code>date</code> and <code>time</code> modules as well.</p>
</div>
<span class="comment-copy">While this works, it is typically not very nice to format the passed time in seconds only. To get minutes and hours, a custom filter is needed, to check and transform the <code>timedela</code> object to a nice looking string.</span>
<span class="comment-copy">Added that, too.</span>
<span class="comment-copy">I think it's worth checking out the rather elegant solution over <a href="https://stackoverflow.com/questions/8906926/formatting-python-timedelta-objects">here</a> for a very <code>strftime</code>-like option.</span>
