<div class="post-text" itemprop="text">
<p>So here's my question:
I want my program to accept only one specific value, without which it wouldn't go ahead.</p>
<p>I know the 'choices' keyword can be used as answered here: <a href="https://stackoverflow.com/questions/15836713/allowing-specific-values-for-an-argparse-argument">Allowing specific values for an Argparse argument</a></p>
<p>But I wanted to ask if there is another way, because if I tell it the choice, it will give it up in help.</p>
<p>I could give my function as if condition to process it but was hoping to use argparse.</p>
<p>Also if someone could suggest suggestions to this: my argument is basically a path directory, is there a  specific option for that which I might use?</p>
<p>Or do you guys think that going with 'choices' is my best option.
Beginner level programmer here.</p>
</div>
<div class="post-text" itemprop="text">
<p><strong>ArgeParse</strong>: You can pass argument with "-year" followed by argument value. Only in this format an argument will be accepted.</p>
<pre><code>import os
import argparse
from datetime import datetime


def parse_arguments():
    parser = argparse.ArgumentParser(description='Process command line arguments.')
    parser.add_argument('-year', '--yearly', nargs = '*', help='yearly date', type=date_year)

    return parser.parse_args()


def date_year(date):
    if not date:
        return

    try:
        return datetime.strptime(date, '%Y')
    except ValueError:
        raise argparse.ArgumentTypeError(f"Given Date({date}) not valid")



def main():
    parsed_args = parse_arguments()

if __name__ == "__main__":
main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You don't need <code>argparse</code> for this.</p>
<pre><code>import sys, logging
if not 'mellor' in sys.argv[1:]:
    logging.error('Speak, friend, and enter')
    sys.exit(1)
</code></pre>
</div>
<span class="comment-copy">What do you mean by "if I tell it the choice, it will give it up in help"?</span>
<span class="comment-copy">So you want a password? <code>argparse</code> isn't really the way to implement that.</span>
<span class="comment-copy"><code>metavar</code> can hide the choices in the help, but won't hide them in the error message.  You may have to do your own acceptance testing after parsing.</span>
<span class="comment-copy">If you want to use your custom function as a condition, you proably want to use custom <a href="https://docs.python.org/3/library/argparse.html#type" rel="nofollow noreferrer">type</a> for an argument, a callable which parses an argument</span>
