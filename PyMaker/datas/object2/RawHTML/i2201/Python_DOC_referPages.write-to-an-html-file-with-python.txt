<div class="post-text" itemprop="text">
<p>I have a couple of graphs I need to display in my browser offline, MPLD3 outputs the html as a string and I need to be able to make an html file containing that string. What I'm doing right now is: </p>
<pre><code>tohtml = mpld3.fig_to_html(fig, mpld3_url='/home/pi/webpage/mpld3.js', 
d3_url='/home/pi/webpage/d3.js') 
print(tohtml)
Html_file = open("graph.html","w")
Html_file.write(tohtml)
Html_file.close();
</code></pre>
<p>tohtml is the variable where the HTML string is stored. I've printed this string to the terminal and then pasted it into an empty HTML file and I get my desired result. However, when I run my code, I get an empty file named graph.html</p>
</div>
<div class="post-text" itemprop="text">
<p>It seems like you may be reinventing the wheel here. Have you tried something like,</p>
<pre><code>mpld3_url='/home/pi/webpage/mpld3.js'
d3_url='/home/pi/webpage/d3.js'
with open('graph.html', 'w') as fileobj:
    mpld3.save_html(fig, fileobj, d3_url=d3_url, mpld3_url=mpld3_url)
</code></pre>
<p>Note, this is untested just going off of <a href="https://mpld3.github.io/modules/API.html#mpld3.save_html" rel="nofollow noreferrer">mpld3.save_html</a> documentation and using prior knowledge about <a href="https://docs.python.org/3/library/io.html" rel="nofollow noreferrer">Python IO Streams</a></p>
</div>
<span class="comment-copy">Does <code>print(thtml)</code> typo occur only in this snippet and not in actual code? Or have you tried built in method <code>save_html</code> <a href="https://mpld3.github.io/modules/API.html#mpld3.save_html" rel="nofollow noreferrer">mpld3.github.io/modules/API.html#mpld3.save_html</a> ?</span>
<span class="comment-copy">it was only in this snippet</span>
