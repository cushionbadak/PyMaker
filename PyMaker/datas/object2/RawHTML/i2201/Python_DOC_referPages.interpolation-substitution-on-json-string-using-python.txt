<div class="post-text" itemprop="text">
<p>config.ini</p>
<pre><code>request = {"order": {"order_id": {order_id},"customer_id":10001, "prd_price":50, "quantity":{quantity}, "total_price": {total_price}, "product_id":1, "last_name": "lavanya"}}
data = {'quantity': '315', 'total_price': '50', 'order_id': '102'}
</code></pre>
<p>myscript.py</p>
<pre><code>req = config[reflowStep]['request']
req = req.format(**data)
</code></pre>
<p>Exception:</p>
<pre><code>Traceback (most recent call last):


 File "myscript.py", line 247, in reflow
    req = req.format(**data)
KeyError: '"order"'
</code></pre>
<p>Expected Output:</p>
<pre><code>req = { 
"order":{  
      "order_id":102,
      "customer_id":10001,
      "prd_price":50,
      "quantity":315,
      "total_price":50,
      "product_id":1,
      "last_name":"lavanya"
   }
}
</code></pre>
<p>If I pass as a string(without '{/}'), it's working. 
For eg: </p>
<pre><code>request = "order_id": {order_id},"customer_id":10001, "prd_price":50, "quantity":{quantity}, "total_price": {total_price}, "product_id":1, "last_name": "lavanya"
</code></pre>
<p>But my requirement is I need to populate the values into the json at runtime.</p>
<p>Anyone, Could help me? Could anyone suggest the best way for my requirement?</p>
</div>
<div class="post-text" itemprop="text">
<p>You should really be using JSON for your configs if you need JSON data - INI format is quite limited in that regard and there can be various artifacts if you try to cram JSON in it.</p>
<p>That being said, if your only problem is field interpolation while using <a href="https://docs.python.org/3/library/stdtypes.html#str.format" rel="nofollow noreferrer"><code>str.format()</code></a> you should escape your curly braces using double braces (i.e. <code>{{</code> and <code>}}</code>) to achieve the desired effect, i.e.:</p>
<pre><code>request = '{{"order": {{"order_id": {order_id}, "quantity":{quantity}, "price": {price}}}}}'
data = {'quantity': '315', 'price': '50', 'order_id': '102'}

print(request.format(**data))
# {"order": {"order_id": 102, "quantity":315, "price": 50}}
</code></pre>
<p>Or if you want it formatted:</p>
<pre><code>print(json.dumps(json.loads(request.format(**data)), indent=2))
</code></pre>
<p>Yielding:</p>
<pre><code>{
  "order": {
    "order_id": 102,
    "quantity": 315,
    "price": 50
  }
}
</code></pre>
</div>
<span class="comment-copy">How is <code>req</code> supposed to be a dict and a string (using <code>format</code>) at the same time? Also, <code>request = "order": ...</code> is invalid syntax and will clearly not work. Are you missing some <code>"</code> in your examples? Also, how does <code>reuqest</code> relate to <code>config[reflowStep]['request']</code>?</span>
