<div class="post-text" itemprop="text">
<p>Hi I'm very new to Perl and CGI.</p>
<p>I'm trying to convert a perl script to python.</p>
<p>It is mentioned <strong>$|=1</strong> in the script. What I understood is it clears the buffer.</p>
<p>I am searching if there is any python equivalent to do the exact thing.</p>
<p>Any suggestions??</p>
</div>
<div class="post-text" itemprop="text">
<p>I'd consider not worrying about porting this line for the time being, as flushing stdout after every <code>print</code> will likely be the least of your porting worries.</p>
<p>But if it is, you have many options:</p>
<ul>
<li>Simply add the <code>flush=True</code> keyword argument to your <a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow noreferrer"><code>print</code></a> function call.</li>
<li>Run Python in <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-u" rel="nofollow noreferrer">"unbuffered" mode with the <code>-u</code> switch</a>.</li>
<li>Re-open stdout in unbuffered mode (e.g. the final <code>0</code> in):

<ul>
<li><code>sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)</code></li>
</ul></li>
<li>Write a <code>print</code> wrapper function that shadows the builtin <code>print</code> and flushes stdout</li>
<li>Write a <code>TextIOWrapper</code> object that wraps <code>sys.stdout</code> and flushes</li>
</ul>
<p>I'll try to find some links for the rest of the points and edit them in.</p>
</div>
<span class="comment-copy">Specifically <code>$|=1</code> is equivalent to setting the autoflush property of the currently selected output handle, causing it to flush whenever it's printed to rather than buffering.</span>
<span class="comment-copy">Is there really a point to using <code>$| = 1;</code> in a CGI script???</span>
<span class="comment-copy">No Idea why they mentioned <b>$|=1</b>. The script was written a decade ago. I'm just trying to convert it to Python.</span>
