<div class="post-text" itemprop="text">
<p>I am using curses to print a pretty nice console UI, and I need for that something to be dependent of the terminal size. For this, I read <a href="https://stackoverflow.com/questions/566746/how-to-get-linux-console-window-width-in-python">here</a>, that I could use <code>shutil.get_terminal_size</code>.
So I'm doing this code : </p>
<pre><code>def display(self):
    size_x,size_y = shutil.get_terminal_size()
    print(size_x,size_y)
    window_stat = curses.newwin(size_y,size_x//2-5,0,0)
    window_alert = curses.newwin(size_y,size_x//2-5,0,size_x//2+5)
    window_alert.addstr("\n   " + self.alert2string())
    window_stat.addstr("\n   " + self.stat2string())
    window_alert.box()
    window_stat.box()
    self.stdscr.refresh()
    window_stat.refresh()
    window_alert.refresh()
</code></pre>
<p>But the fast is that, it is working perfectly the first time I call the function, but if I use my mouse to change the terminal size and recall the function, the result of <code>shutil.get_terminal_size()</code> will always stay the same. (120 30).</p>
<p>Do you have any idea of where it could come from ? 
(I'm running Windows actually, and I'd like it to work under all common OS)</p>
<p>Thanks a lot everyone ! </p>
</div>
<div class="post-text" itemprop="text">
<p>Basically, that's because the application using <a href="https://docs.python.org/3/library/shutil.html#querying-the-size-of-the-output-terminal" rel="nofollow noreferrer"><strong><code>shutils</code></strong></a> is (in this case) using the Windows console api to create a <em>buffer</em> which has a fixed-size.  In more conventional Unix-like applications (rather than <code>shutuils</code> attempt at high-level and portable), one would make a <code>SIGWINCH</code> handler that notifies the application of the size-change. With Windows, you'd have to get that from the event-loop â€” which is completely obscured by the <code>shutils</code> interface.</p>
<p>It happens to "work" with Unix because <code>shutils</code> doesn't have to actually pay attention to those notifications.  The operating system's terminal driver (usually) can return the updated information.</p>
<p>You might file a bug-report against <code>shutils</code>, to get its developers to take that into account in their design.</p>
</div>
