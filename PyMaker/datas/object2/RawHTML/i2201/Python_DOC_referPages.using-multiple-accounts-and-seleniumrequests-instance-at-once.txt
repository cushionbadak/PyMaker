<div class="post-text" itemprop="text">
<pre><code>from selenium import webdriver
import requests


driver = webdriver.Chrome()

#login to website using selenium and get cookies

cookievar = driver.get_cookies()


#send requests using cookies scraped from selenium webdriver

r = post(url, formData, headers=headers0, proxies=proxies, verify=False)
</code></pre>
<p>my code works fine for one account but now i want this to be able to work with multiple accounts , this script only works for 1 account at a time what i am trying to get is run 3-4 accounts at the same time using webdriver and requests</p>
<p>can anyone help ? suggestions are welcome Thank you</p>
</div>
<div class="post-text" itemprop="text">
<p>This is what i thought at comment,but it just a demo. Apart from <code>multiprocessing</code> , <code>threading</code> you can try <code>concurrent.futures</code>.</p>
<pre><code>from selenium import webdriver
import requests
from multiprocessing import Pool

driver = webdriver.Chrome()
clist = {}
#login to website using selenium and get cookies

def relogin(user,pwd):
    ...
    cookievar = driver.get_cookies()
    clist[user] = cookievar
    ...
    driver.delete_all_cookies()

userlist = [("userA","pwdA"),("userB","pwdB")]

for user,pwd in userlist:
    relogin(user,pwd)

driver.close()

#send requests using cookies scraped from selenium webdriver
def post_data(url,formData,proxies,headers = headers0):
    r = post(url, formData, headers=headers, proxies=proxies, verify=False)
    ...

def start(number=len(userlist)):
    p = Pool(number)
    result = p.map_async(post_data , [(url,formData,proxies),
                            (url2,formData2,proxies2,headers2)])
    print(result.get())

if __name__ == '__main__':
    start()
</code></pre>
</div>
<span class="comment-copy">You can watch <a href="https://docs.python.org/3/library/multiprocessing.html" rel="nofollow noreferrer">this</a> , if you only use selenium to get cookie , I think it is great.</span>
<span class="comment-copy">is it possible to run multiple process and get diffrent account cookies using the same webdriver object ?</span>
<span class="comment-copy">No , you only have one webdriver , which can not do job parallel. And it is not good choice opening multiple webdriver . But multiple <code>requests.session</code> is awesome</span>
<span class="comment-copy">then how can i use one webdriver to login to diffrent accounts ? atm i am only able to use 1 webdriver  = 1 account</span>
<span class="comment-copy">Clear cookies and login again , <a href="https://stackoverflow.com/questions/46529761/python-selenium-clearing-cache-and-cookies">how to clear cookies</a> , then you need a dict to save different cookies</span>
<span class="comment-copy">using this will submit 2 requests at the same time or it waits for one request to complete and then execute another one ? i want it to submit multiple request at the same time btw thnx for your answer</span>
<span class="comment-copy">submit 2 requests at the same time , but you can only get the result after all finished. So i suggest add a <code>Queue</code> to put result or use <code>ProcessPoolExecutor</code> which in <code>concurrent.futures</code> , @elrichbachman</span>
<span class="comment-copy">can you recommend tutorial or guide about this ? i want to be able to use 100 accounts and send 100 requests at the same time is it possible ?</span>
<span class="comment-copy">100 requests , i prefer <code>from concurrent.futures import ThreadPoolExecutor</code> because it can send them same time and get each result when it complete (100 processes will waste  much more memory than threads). But i think you need build up several webdriver to cookies , mulitple threads or processes both can do this @elrichbachman</span>
<span class="comment-copy">As my name on SO. I think it would not have the second one</span>
