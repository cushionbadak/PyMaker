<div class="post-text" itemprop="text">
<p>I am trying to package my code and I have a structure like</p>
<pre><code>proj
|---- __init__.py
|---- main.py
|---- data
       |---- file_to_read.csv
</code></pre>
<p>And I am trying to use path <code>./data/file_to_read.csv</code> in <code>main.py</code>. However, that is not working as I got errors like <code>FileNotFoundError: [Errno 2] No such file or directory:</code>. What should I do then?</p>
</div>
<div class="post-text" itemprop="text">
<p>Within <code>main.py</code>, the path to <code>main.py</code> itself is available as the <code>__file__</code> variable.  You can use this to construct paths to other files that you know the location of relative to <code>main.py</code>.  In your case, the path to <code>file_to_read.csv</code> can be calculated as:</p>
<pre><code>os.path.join(os.path.dirname(__file__), 'data', 'file_to_read.csv')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Please give the nice <code>pathlib</code> library a try.</p>
<pre><code>├── __init__.py
├── data
│   └── file_to_read.csv
└── main.py
</code></pre>
<h1>data/file_to_read.csv</h1>
<pre><code>a,b
c,d
</code></pre>
<h1>main.py</h1>
<pre><code>import pathlib

file_path = pathlib.Path(__file__).parents[0].absolute()
data_path = file_path / 'data/file_to_read.csv'

with open(str(data_path)) as data_file:
    data = data_file.read().rstrip()

print(data)
</code></pre>
<h1>run it</h1>
<pre><code>$ python main.py
a,b
c,d
</code></pre>
</div>
<span class="comment-copy">please try ./data/file_to_read.csv</span>
<span class="comment-copy">@Jesse Eh it is a typo. I was using the path you said.</span>
<span class="comment-copy">Thanks for the reply! Is this the practical way to do relative loading data in a pypi package?</span>
<span class="comment-copy">@Mr.cysl: It is <i>a</i> practical way.  Other ways include <a href="https://setuptools.readthedocs.io/en/latest/pkg_resources.html#basic-resource-access" rel="nofollow noreferrer">the resource API from setuptools' <code>pkg_resources</code> module</a> and <a href="https://docs.python.org/3/library/pkgutil.html#pkgutil.get_data" rel="nofollow noreferrer"><code>pkgutil.get_data()</code></a>.</span>
