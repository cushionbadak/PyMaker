<div class="post-text" itemprop="text">
<p>Hi So I've been using WTForms with success for a good period of time now.</p>
<p>The problem is on how to parse dates.</p>
<p>I've always used to assign variables according to form data as follows</p>
<pre><code>firstname = form.firstname.data
</code></pre>
<p>This will store the user's input from the form data into my variable called "firstname", which works just fine, my problem is when it comes to dates.</p>
<p>I have the following code</p>
<p><strong>WTForms Class</strong></p>
<pre><code>class BookingForm(Form):
start_date = DateField('Start Date', format='%m/%d/%Y')
end_date = DateField('End Date', format='%m/%d/%Y')
</code></pre>
<p><strong>The booking route</strong></p>
<pre><code>@app.route('/book/', methods=['GET','POST'])
@login_required
def book():
try:
    form = BookingForm(request.form)

    if request.method == "POST" and form.validate():
        start_date = form.start_date.data
        end_date = form.end_date.data
        # I Have also tried form.start_date.data.strftime('%m-%d-%Y') with no luck
 ...
</code></pre>
<p><strong>The HTML Template {jinja}</strong></p>
<pre><code>&lt;div class="col-md-4"&gt;
     {{ render_date_field(form.start_date) }}
&lt;/div&gt;
&lt;div class="col-md-4"&gt;
     {{ render_date_field(form.end_date) }}
&lt;/div&gt;
</code></pre>
<p>I am also using datetime in python</p>
<pre><code>from datetime import datetime
</code></pre>
<p>I've been trying to follow many docs on how to parse a date into a variable from a user input form with no luck, Does anybody know the right syntax?</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p><code>form.date_created.data</code> returns a <code>datetime.date</code> object.</p>
<p>The <code>month</code>, <code>day</code>, and <code>year</code> attributes store these values as integers. There is no need to import the <code>datetime</code> to solve this problem.</p>
<p>You can use <code>date.strftime('%m-%d-%y')</code> to get a string representation such as <code>"10-22-18"</code>.</p>
<pre><code>form = BookingForm(request.form)  
if request.method == "POST" and form.validate():
    start_date = form.start_date.data
    end_date = form.end_date.data

    # print(type(start_date))   -&gt; &lt;class 'datetime.date'&gt;

    start_month = start_date.month
    start_day = start_date.day
    start_year = start_date.year

    start_date_str = start_date.strftime('%m-%d-%y')
    # and so on...
</code></pre>
<p>Take a look at the <a href="http://wtforms.simplecodes.com/docs/0.6.1/fields.html#basic-fields" rel="nofollow noreferrer">WTForms Documentation</a> for DateField.</p>
<pre><code>class wtforms.fields.DateField(default field arguments, format='%Y-%m-%d')
        Same as DateTimeField, except stores a datetime.date.
</code></pre>
<p>You can check out more about the <code>date</code> object in the docs
<a href="https://docs.python.org/3/library/datetime.html#date-objects" rel="nofollow noreferrer">Python Docs</a></p>
<p><em>Tip</em>: if you had tried <code>print(type(start_date))</code> to see what it prints, you probably would have figured it out on your own.</p>
</div>
<span class="comment-copy">The date format specified must be enforced when your form is filled in the browser. Your date format is '<b>%m/%d/%Y</b>'. An example date for start date using this format is <b>10/06/2018</b>. This is parsed by <code>wtf</code> as <b>2018-10-06</b> and stored in <code>form.start_date.data</code></span>
<span class="comment-copy">I've tried using " print(type(start_date)) " but I'm getting None in return and obviously the flask eror is " must be string or read-only buffer, not None " Thanks for your help</span>
<span class="comment-copy">If <code>state_date</code> is <code>None</code> then it sounds like you are not getting the form data to begin with. Parsing is not your issue. Two things you can do:    <i>(1)</i> Look into using something like <a href="https://realpython.com/python-debugging-pdb/" rel="nofollow noreferrer">pdb</a> or <a href="https://flask-debugtoolbar.readthedocs.io/en/latest/" rel="nofollow noreferrer">flask-debugtoolber</a> to figure out where stuff went wrong. <i>(2)</i> Another place to check is in the dev tools of your browser in the <i>Network</i> tab, to see that the POST request is being made with the expected request parameters.</span>
<span class="comment-copy">Ok found out I had a typo and got it fixed... thanks for your help, on another note, do you recommend using an html date-time picker to store dates in a database or just a textfield with a jquery layer on top?</span>
