<div class="post-text" itemprop="text">
<p>I searched a lot about my specific case but failed to get any solutions.</p>
<pre><code> A = [1,2,3,4,5............25,26]
 B = [2,2]
</code></pre>
<p>I need to shift B until a ends and add element to element. I wish to add these two list and store in C.</p>
<p><strong>NOTE</strong> : Any value in result list which is greater than max value of A should start from 1.</p>
<pre><code> A = 1,2,3,4,5............24,25,26
 B = 2 ,2 ,2, 2 ,2........2, 2, 2 # shift B until A ends
     |  |  |  |  |........|  |  |
 -----------------------------------
     3,4,5,6,7............26, 1, 2 # if value exceedes the max value in A, it must start over  
</code></pre>
<p>I want output as:</p>
<pre><code>c = [3,4,5,6,............26,1,2]
</code></pre>
<p>How should i code to get this working?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/itertools.html#itertools.cycle" rel="nofollow"><em>itertools.cycle</em></a> to create the cycle object of <code>B</code> and zip it with <code>A</code> and then loop over the pairs to calculate the sum of pairs under the condition :</p>
<pre><code>&gt;&gt;&gt; from itertools import cycel
&gt;&gt;&gt; def adder(A,B):
...       m=max(A)
...       it=iter(A)
...       for i,j in zip(A,cycle(B)):
...          add=i+j
...          if add&lt;=m:
...             yield add
...          else :
...             yield next(it)
... 
</code></pre>
<p>Demo :</p>
<pre><code>&gt;&gt;&gt; A=range(16)
&gt;&gt;&gt; B=[5,5]
&gt;&gt;&gt; list(adder(A,B))
[5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 0, 1, 2, 3, 4]
&gt;&gt;&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can also do that by <a href="https://docs.python.org/2/tutorial/datastructures.html" rel="nofollow">List Comprehension</a>:</p>
<pre><code>A = [10,20,30,40 ,50]
B = [1,2,3]
C = [ A[i]+B[i % len(B)]  for i in range(len(A))]
counter = 0
result = []
for i in C:
    if i &gt; max(A):
        result.append(A[counter])
        counter += 1
    else:
        result.append(i)

print result
</code></pre>
<p>Output:</p>
<pre><code>[11, 22, 33, 41, 10]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This uses <code>cycle</code> to repeat the lists, <code>izip</code> to create lists of pairs, <code>islice</code> to generate up to the longest list, and <code>map(sum, ...)</code> to sum the pairs. It "wraps" to <code>1</code> (does not <em>"Start from beginning of A"</em> as in the comments) and because of this assumes zero will not appear in C.</p>
<pre><code>A = range(1, 27)
B = [2, 2]
from itertools import cycle, izip, islice
C = map(sum, islice(izip(cycle(A), cycle(B)), max(len(A), len(B))))
# C is [3, 4, 5 ... 26, 27, 28]
C = [(x-1)%max(A)+1 for x in C] #assumes x cannot be zero given a wrap to 1
# C is [3, 4, 5 ... 26, 1, 2]
</code></pre>
</div>
<span class="comment-copy">when you say "shift" do you mean all the values in <code>B</code> repeat (<code>[2,3]</code> becomes 2, 3, 2, 3 ...) or just the last one (2, 3, 3, 3 ...)?</span>
<span class="comment-copy">[2,3] becomes 2,3,2,3,2,3,.....so on</span>
<span class="comment-copy">And when you say "it must start over" do you really mean A wraps when the sum is greater than the max in A? If so, the shorter code I've gone for really won't work and I think you should accept one of the other answers. However what happens when the sum is still greater after starting over?</span>
<span class="comment-copy">how to handle wrap around?</span>
<span class="comment-copy">@Explore_SDN: wrap around means?</span>
<span class="comment-copy">If i need to make sure final list has no value greater than max value in A (here 50), how to do this?</span>
<span class="comment-copy">@Explore_SDN So what you want to be happen if there was any value greater than that!</span>
<span class="comment-copy">Lets take a new example now, if i have A = [1,2,3,4,........25,26] and i wish to add B = [1,1]. My result list should be = [2,3,5,.........26,1]. Any resulting value greater than 26 should wrap around and start over from beginning. How to do this?</span>
<span class="comment-copy">@Explore_SDN: check the answer. I think you find like this.</span>
<span class="comment-copy">it's so much costly operation. you always doing <i>mod</i></span>
<span class="comment-copy">@SakibAhammed you yourself have a <code>%</code> n times too.</span>
<span class="comment-copy">what will happen if i want to subtract the lists? with same conditions?</span>
<span class="comment-copy">@Explore_SDN to subtract, you could replace <code>sum</code> with something like <code>lambda x: x[0] - x[1]</code> however you'd need to change <code>(x-1)%max(A)+1</code> to suit what you want to have happen. This should really be clarified in your question.</span>
