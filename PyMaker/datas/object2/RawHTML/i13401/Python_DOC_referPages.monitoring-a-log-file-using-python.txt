<div class="post-text" itemprop="text">
<p>I need to monitor a service which is installed on multiple servers. if the service is running it modifies the log files every 5 minutes but if its down then there is no change in log file.I need to know if its possible to implement a script in python which monitors the log  file and triggers an email or event in case there is no change in log file for more than 10 minutes.
I'm new to python and still in learning phase.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can check to see if file's modification time is older than 10 minutes.  If it is, send email or do something else to alert yourself.</p>
<p>The modification time will be in seconds.  Change 10 in (10 * 60) to whatever number of minutes that you need.</p>
<p><code>time.time()</code> returns epoch time (number of seconds since 1/1/1970).</p>
<pre><code>import os.path, time
import smtplib

if (time.time() - os.path.getmtime('/path/to/file.log') &gt; (10 * 60)):
    try:
        smtpObj = smtplib.SMTP('localhost')
        smtpObj.sendmail('from_me@somewhere.com', 'to_bajiboo@elsewhere.com', 'My log file has not been updated for a while')
    except SMTPException:
        print 'Error: unable to send email'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Yes. You can use the <a href="https://docs.python.org/3/library/sched.html" rel="nofollow"><code>sched</code></a> module, or even just <a href="https://docs.python.org/3/library/time.html#time.sleep" rel="nofollow"><code>time.sleep</code></a> for the delay, and the <a href="https://docs.python.org/3/library/smtplib.html" rel="nofollow"><code>smtplib</code></a> and <a href="https://docs.python.org/3/library/email.html" rel="nofollow"><code>email</code></a> modules to send emails.</p>
</div>
<span class="comment-copy">Thanks keda, this helps.</span>
