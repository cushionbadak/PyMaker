<div class="post-text" itemprop="text">
<p>Say I have a text file that has the following data:</p>
<pre><code>9.079929479691208
12.97415710230641
29.298703770316134
27.948996122147257
22.226701761850222
24.87655187612297
34.411572810292476
</code></pre>
<p>if the name of the file is text.txt, I've tried doing this but it won't work:</p>
<pre><code>previous_val = 0
current_val = 0
file = open("text.txt","r")
for line in file:
    line = line.strip()
    rows = line.split(" ")
    values = float(rows[0])
    current_val = float(values - previous_val)
    print(current_val)
</code></pre>
<p>the first value should stay the same as 9.079... because there was nothing before it, but the next one should be 3.whatver because 12.974... - 9.079... = 3.whatever. It should keep doing that the whole way through. When I run the program, it just returns the exact same numbers that are in the text file. If someone could please help me with this I would really appreciate it. Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>Change the <code>previous_val</code> in every iteration. Look at this:</p>
<pre><code>previous_val = 0
file = open("text.txt","r")
for line in file:
    current = float(line.strip())
    print current - previous_val
    previous_val = current  
</code></pre>
<p>Output:</p>
<pre><code>9.07992947969
3.89422762262
16.324546668
-1.34970764817
-5.7222943603
2.64985011427
9.53502093417
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You never change the value of <code>previous_val</code> after assigning it a value of zero, so <code>current_val = float(values - previous_val)</code> is equivalent to <code>current_val = float(values)</code></p>
<p>You want:</p>
<pre><code>current_val, previous_val = float(values - previous_val), current_val
</code></pre>
<p>This assigns <code>current_val</code> to the difference and <code>previous_val</code> to the preceding <code>current_val</code>.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>previous_val = 0
current_val = 0
file = open("text.txt","r")
for line in file:
    line = line.strip()  
    #rows = line.split(" ") # no need to split
    values = float(line)
    current_val = float(values - previous_val)
    print(current_val)
    previous_val = float(line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In python3 you can use <a href="https://docs.python.org/3/library/itertools.html?highlight=count#itertools.accumulate" rel="nofollow"><code>itertools.accumulate</code></a> to do want you want:</p>
<pre><code>&gt;&gt;&gt; from itertools import accumulate
&gt;&gt;&gt; with open("text.txt","r") as file:
...     list(accumulate((float(line.strip()) for line in file), lambda a, b: b-a))
[9.079929479691208,
 3.894227622615203,
 25.404476147700933,
 2.544519974446324,
 19.6821817874039,
 5.194370088719072,
 29.217202721573404]
</code></pre>
<p>It is pretty easy to implement accumulate, and a reference implementation is provided in the documentation</p>
</div>
<span class="comment-copy">You don't want the fraction part?</span>
<span class="comment-copy">@AhsanulHaque Yes I would want the whole number. Doesn't matter if it's a fraction</span>
<span class="comment-copy">As you forgot to assign a value to <code>previous_val</code> in your loop; it always remains 0 which is why you are just getting the same output as the file.</span>
<span class="comment-copy">When you say keep doing that, is the next value 25.4 (29.29 - 3.89) or 16.32 (29.29 - 12.97), if the latter please ignore my answer, I read it as the former.</span>
<span class="comment-copy">You can't confidently say no strip is needed. What about some white spaces?</span>
