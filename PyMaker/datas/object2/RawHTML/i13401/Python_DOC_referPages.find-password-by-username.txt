<div class="post-text" itemprop="text">
<p>I already have this code. Now I want to change the code, that when someone types in his username, he has to fill in the right password which belongs to the username.</p>
<pre><code>import csv
        csvbestand='inlog.csv'
        csv = open('inlog.csv', 'r').read().split('\n')[1].split(';')
        username= input("Fill in your username: ")
        if username == "admin" or username in csv:
            print("Username found")
            break
        else:
            print("Username not found")

    while True:
        import csv
        csvbestand='inlog.csv'
        csv = open('inlog.csv', 'r').read().split('\n')[2].split(';')
        password = input("Fill in your password: ")
        if password == "admin" or password in csv:
            print("Congratiulations")
            break
        else:
            print("Password not right")
</code></pre>
<p>So when the username is ''John'' then I want only the password which belongs to "John" as the right password.</p>
</div>
<div class="post-text" itemprop="text">
<p>I am supposing your csv will be like this:</p>
<pre><code>user1, hash_pass_u1
user2, hash_pass_u2
user3, hash_pass_u3
...
</code></pre>
<p>Just one note before the solution. You are importing the CSV module of Python and you did not use it in your code, such a silly import, just use it.</p>
<p>The solution is simple </p>
<pre class="lang-python prettyprint-override"><code>import csv

file = 'yourcsv.csv'
found = False
username = input('Write your username: ')
password_csv = None
with open(file, newline='') as csvfile:
   reader = csv.reader(csvfile, delimiter=',')
   for row in reader:
      # row[0] is the first element, the username and row[1] the hash of the password
      if row[0] == username:
         password_csv = row[1]
         found = True
         break
if not found:
   print('The username is not in our DB.')

while True:
   passw = input('Let me your password: ')
   hash_passw = your_method_to_get_the_hash(passw)
   if hash_passw == password_csv:
      print('Congrats, you are logged.')
      break
   else:
      print('Wrong password dude, try again.') 
</code></pre>
<p>In this way you only read the file once and you will use the CSV Module.</p>
<p>I'm supposing the format of your CSV if it is another format is easy to change the implementation of this solution. If you need some help with the CSV Module the documentation is here, for <a href="https://docs.python.org/2/library/csv.html" rel="nofollow">python2</a> and <a href="https://docs.python.org/3/library/csv.html" rel="nofollow">python3</a></p>
<h3>Explanation of what you are doing wrong.</h3>
<p>When you do the following sentence:</p>
<pre><code>csv = open('inlog.csv', 'r').read().split('\n')[1].split(';')
</code></pre>
<p>You are opening the file, read all the file then split the file by <code>\n</code> character, with this you would obtain the following list <code>['user1;pass1';'user2;pass2','user3;pass3',...]</code> and the last step you do there, is select the second element with <code>[1]</code>, the result of this would be the string <code>'user2;pass2'</code>. But the statement does not finish here, there is another split that would give you the list <code>['user2','pass2']</code>.</p>
<p>So you are comparing that the username is admin or is in the list <code>['user2','pass2']</code>. The same happens when you try to compare the password, but this time you select the third element.</p>
</div>
<span class="comment-copy">You'd at least need to show us the csv file and explain what exactly is the problem with your code. (Saying "It's not working" is not enough.)</span>
<span class="comment-copy">Your question is not clear.</span>
<span class="comment-copy">Allright!! Thanks! It worked! Thanks a lot for your help!</span>
