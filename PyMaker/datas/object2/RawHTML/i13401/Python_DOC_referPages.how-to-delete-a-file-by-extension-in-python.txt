<div class="post-text" itemprop="text">
<p>I was messing around just trying to make a script that deletes items by ".zip" extension.</p>
<pre><code>import sys
import os
from os import listdir

test=os.listdir("/Users/ben/downloads/")

for item in test:
    if item.endswith(".zip"):
        os.remove(item)
</code></pre>
<p>Whenever I run the script I get:</p>
<pre><code>OSError: [Errno 2] No such file or directory: 'cities1000.zip'
</code></pre>
<p>cities1000.zip is obviously a file in my downloads folder.</p>
<p>What did I do wrong here?  Is the issue that os.remove requires the full path to the file?  If this is the issue, than how can I do that in this current script without completely rewriting it.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can set the path in to a <code>dir_name</code> variable, then use <code>os.path.join</code> for your <code>os.remove</code>.</p>
<pre><code>import os

dir_name = "/Users/ben/downloads/"
test = os.listdir(dir_name)

for item in test:
    if item.endswith(".zip"):
        os.remove(os.path.join(dir_name, item))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For this operation you need to append the file name on to the file path so the command knows what folder you are looking into.</p>
<p>You can do this correctly and in a portable way in python using the <a href="https://docs.python.org/2/library/os.path.html#os.path.join" rel="nofollow noreferrer"><code>os.path.join</code></a> command.<br/>
For example:</p>
<pre><code>import sys
import os

directory = "/Users/ben/downloads/"
test = os.listdir( directory )

for item in test:
    if item.endswith(".zip"):
        os.remove( os.path.join( directory, item ) )
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Alternate approach that avoids join-ing yourself over and over: Use <code>glob</code> module to join once, then let it give you back the paths directly.</p>
<pre><code>import glob
import os

dir = "/Users/ben/downloads/"

for zippath in glob.iglob(os.path.join(dir, '*.zip')):
    os.remove(zippath)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Prepend the directory to the filename</p>
<pre><code>os.remove("/Users/ben/downloads/" + item)
</code></pre>
<p>EDIT: or change the current working directory using <code>os.chdir</code>.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>origfolder = "/Users/ben/downloads/"
test = os.listdir(origfolder)

for item in test:
    if item.endswith(".zip"):
        os.remove(os.path.join(origfolder, item))
</code></pre>
<p>The dirname is not included in the os.listdir output.  You have to attach it to reference the file from the list returned by said function.</p>
</div>
<span class="comment-copy">os.listdir("/Users/ben/downloads/", this is not the full path, is it?</span>
<span class="comment-copy">this is the full path</span>
<span class="comment-copy">I guess you have to put the path and the filename together for deletion.</span>
<span class="comment-copy">Note that it is bad practice to use dir as a variable name, so is file, as they are also built in functions. <a href="https://docs.python.org/3/library/functions.html#dir" rel="nofollow noreferrer">docs.python.org/3/library/functions.html#dir</a></span>
<span class="comment-copy">@borgr I rolled back all the edits, made a couple changes and <code>s/dir/dir_name/g</code>. Looks like I had <code>dir</code> from the beginning. That should not have been there, good catch.</span>
<span class="comment-copy">Looks like <code>sys</code> is not necessary.</span>
<span class="comment-copy">@IvanCastro yup. Thanks for the heads up. Changed.</span>
<span class="comment-copy">You don't need to do <code>from os import listdir</code> as you're doing <code>os.listdir</code> anyways.</span>
