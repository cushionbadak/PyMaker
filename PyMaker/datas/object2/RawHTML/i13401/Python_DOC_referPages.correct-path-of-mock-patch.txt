<div class="post-text" itemprop="text">
<p>I have a problem about figuring out paths when using mock in Python.</p>
<p>Suppose, that i have the following files</p>
<p>file1.py</p>
<pre><code>def func1():
    return 'X'
</code></pre>
<p>file2.py </p>
<pre><code>from file1 import func1

class ClassA():

    def func_that_uses_func1(self):
        x = func1()
</code></pre>
<p>How could I patch the usage of func1 on ClassA? I have tried @mock.patch('file2.func1'), but i get an the error <code>AttributeError: &lt;class 'ClassA'&gt; does not have the attribute 'func1'</code></p>
</div>
<div class="post-text" itemprop="text">
<p>I think you want to actually do your mock as <code>@mock.patch('file2.func1')</code>. My example below might help:</p>
<pre><code>from file2 import ClassA
from mock import patch
import unittest

class TestClassA(unittest.TestCase):
    def setUp(self):
        self.c = ClassA()

    @patch('file2.func1')
    def test_func(self, m_func1):
        self.c.func_that_uses_func1()

        self.assertEqual(m_func1.called, 1)

if __name__ == '__main__':
    unittest.main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For your "had to use the real path" problem, you just need write the path from the lowest common ancestor of test file and the file you want to import. 
If you want to use imported module instead of string format, I recommend you to use <a href="https://docs.python.org/3/library/unittest.mock.html#patch-object" rel="nofollow noreferrer"><code>patch.object</code></a>.</p>
</div>
<span class="comment-copy">Hi, I just updated my question, because i'm already using quotes to pass the path to the patch decorator.</span>
<span class="comment-copy">I copy pasted the code you provided, and used the code I posted and the mocking is working fine. Is there anything else you could be doing differently?</span>
<span class="comment-copy">The only difference I made was adding the self in your method, which I made a comment about in your OP</span>
<span class="comment-copy">I was trying to use the import path , but for some strange reason, only had to use the real path. Your answer put me on the right way. Thanks!</span>
<span class="comment-copy">Awesome. Good luck!</span>
