<div class="post-text" itemprop="text">
<p>Sry, my english skills are very low.</p>
<p>My problem :</p>
<p>I want start a EXE with the "os.system" function.
It works...</p>
<pre><code>os.system("Engine\\2.75\\python\\python.exe TEST_GUI.py")
</code></pre>
<p>So...now. This Code starts the Python EXE and starts my TEST GUI.
But what is to do...when the "TEST GUI.py" is in a ZIP File ?</p>
<p>I want to start the Python.exe with the "TESTGUI.py".
I dont wanna extract the zip file before.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can import Python modules from a zip file as if it was a directory.</p>
<p>For example, if you have <code>TEST_GUI.py</code> inside <code>TEST_GUI.zip</code> (just one file, no folders - a simplest case):</p>
<pre><code>def main():
    print('Hello world!')
</code></pre>
<p>you can call it with single shell call as follows:</p>
<pre><code>python -c "import sys;import os;sys.path.append(os.path.abspath('TEST_GUI.zip'));import TEST_GUI; TEST_GUI.main()"
</code></pre>
<p>Let me explain it line by line:</p>
<ul>
<li><code>python -c</code> - call Python with a piece of code as an argument</li>
<li><code>import sys;import os;</code> - import necessary packages</li>
<li><code>sys.path.append(os.path.abspath('TEST_GUI.zip'))</code> - this is where magic happens. ZIP file can be added to <code>PATH</code> just like an ordinary folder!</li>
<li><code>import TEST_GUI</code> - since Python now sees TEST_GUI.py via <code>PATH</code> environment variable, we can import it.</li>
<li><code>TEST_GUI.main()</code> - we call the <code>main()</code> function, and it does whatever we want.</li>
</ul>
<p>Using <code>os.system</code> for the same script is straightforward:</p>
<pre><code>&gt;&gt;&gt; os.system("python -c \"import sys;import os;sys.path.append(os.path.abspath('TEST_GUI.zip'));import TEST_GUI; TEST_GUI.main()\"")
Hello world!
0
</code></pre>
<p>However, I recommend you to get rid of <code>os.system</code> and use <a href="https://docs.python.org/3/library/subprocess.html#replacing-os-system" rel="nofollow">subprocess module</a> instead.</p>
</div>
<div class="post-text" itemprop="text">
<p>This can be done by including a </p>
<pre><code>__main__.py 
</code></pre>
<p>file in the zip archive which acts as the entry point to your program.  For example given that creatfile.py contains:</p>
<pre><code>def writefile(f):
    fout = open(f, 'wt')
    fout.write('hello world')
    fout.close()
</code></pre>
<p>and </p>
<pre><code>__main__.py
</code></pre>
<p>contains:</p>
<pre><code>from createfile import *

writefile('test1.txt')
</code></pre>
<p>Then, after putting them in writefile.zip, running </p>
<pre><code>os.system('python writefile.zip')
</code></pre>
<p>causes test1.txt to be created in the current working directory with 'hello world' written to it.</p>
<p>Showing this in IPython:</p>
<pre><code>%ls
 Directory of C:\Users\tn\Documents\python\tmp

09/22/2015  11:02 PM    &lt;DIR&gt;          .
09/22/2015  11:02 PM    &lt;DIR&gt;          ..
09/22/2015  10:51 PM                52 __main__.py
09/22/2015  10:50 PM                98 createfile.py
09/22/2015  10:51 PM               422 writefile.zip
           3 File(s)            572 bytes
           2 Dir(s)  304,887,132,160 bytes free

os.system('python writefile.zip')
Out[29]: 0

%ls
 Directory of C:\Users\tn\Documents\python\tmp

09/22/2015  11:02 PM    &lt;DIR&gt;          .
09/22/2015  11:02 PM    &lt;DIR&gt;          ..
09/22/2015  10:51 PM                52 __main__.py
09/22/2015  10:50 PM                98 createfile.py
09/22/2015  11:02 PM                11 test1.txt
09/22/2015  10:51 PM               422 writefile.zip
               4 File(s)            583 bytes
               2 Dir(s)  304,887,132,160 bytes free

!type test1.txt # 'type' is the Windows equivilant of the Linux cat command
hello world

!type createfile.py

def writefile(f):
    fout = open(f, 'wt')
    fout.write('hello world')
    fout.close()

!type __main__.py
from createfile import *

writefile('test1.txt')

!7za l writefile.zip

7-Zip (A) 9.20  Copyright (c) 1999-2010 Igor Pavlov  2010-11-18

Listing archive: writefile.zip

--
Path = writefile.zip
Type = zip
Physical Size = 422

   Date      Time    Attr         Size   Compressed  Name
------------------- ----- ------------ ------------  ------------------------
2015-09-22 22:50:13 ....A           98           76  createfile.py
2015-09-22 22:51:08 ....A           52           52  __main__.py
------------------- ----- ------------ ------------  ------------------------
                                   150          128  2 files, 0 folders
</code></pre>
</div>
