<div class="post-text" itemprop="text">
<p>So I have an array of words, stored as key value pairs. Now I am trying to count the frequency of words in an array of strings, <code>tokens</code>. I have tried the following but this doesnt find the index of x as it is only a string. I do not have the corresponding value, if any, of <code>x</code> in tokens array. Is there any way to directly access it rather than adding one more loop to find it first? </p>
<pre><code>for x in tokens:
    if ((x in [c.keys()[0] for c in words])):
        words[words.index(x)].values()[0]+=1
    else:
        words.append({x:1})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To <strong>count the frequency of words in an array of strings</strong>, you can use <code>Counter</code> from <code>collections</code>:</p>
<pre><code>In [89]: from collections import Counter

In [90]: s=r'So I have an array of words, stored as key value pairs. Now I am trying to count the frequency of words in an array of strings, tokens. I have tried the following but this doesnt find the index of x as it is only a string. I do not have the corresponding value, if any, of x in tokens array. Is there any way to directly access it rather than adding one more loop to find it first?'

In [91]: tokens=s.split()

In [92]: c=Counter(tokens)

In [93]: print c
Counter({'of': 5, 'I': 4, 'the': 4, 'it': 3, 'have': 3, 'to': 3, 'an': 2, 'as': 2, 'in': 2, 'array': 2, 'find': 2, 'x': 2, 'value,': 1, 'words': 1, 'do': 1, 'there': 1, 'is': 1, 'am': 1, 'frequency': 1, 'if': 1, 'string.': 1, 'index': 1, 'one': 1, 'directly': 1, 'tokens.': 1, 'any': 1, 'access': 1, 'only': 1, 'array.': 1, 'way': 1, 'doesnt': 1, 'Now': 1, 'words,': 1, 'more': 1, 'a': 1, 'corresponding': 1, 'tried': 1, 'than': 1, 'adding': 1, 'strings,': 1, 'but': 1, 'tokens': 1, 'So': 1, 'key': 1, 'first?': 1, 'not': 1, 'trying': 1, 'pairs.': 1, 'count': 1, 'this': 1, 'Is': 1, 'value': 1, 'rather': 1, 'any,': 1, 'stored': 1, 'following': 1, 'loop': 1})

In [94]: c['of']
Out[94]: 5
</code></pre>
<h2>EDIT:</h2>
<p>To count words manually when you <strong>have an outer loop. Tokens is changing with each iteration</strong>, what @Alexander suggested is a good way. Also, <code>Counter</code> supports <code>+</code> operator, which makes accumulative counting easier:</p>
<pre><code>In [30]: (c+c)['of']
Out[30]: 10
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You definitely want to use <code>Counter</code> as suggested by @zhangzaochen.</p>
<p>However, here is a more efficient way to write your code:</p>
<pre><code>words = {}
for x in tokens:
    if x in words:
        words[x] += 1
    else:
        words[x] = 1
</code></pre>
<p>You can also use a list comprehension:</p>
<pre><code>tokens = "I wish I went".split()
words = {}
_ = [words.update({word: 1 if word not in words else words[word] + 1}) 
     for word in tokens]
&gt;&gt;&gt; words
{'I': 2, 'went': 1, 'wish': 1}
</code></pre>
</div>
<span class="comment-copy">You should explain what you are trying to achieve with examples . Also , what is words , a list? Why cannot you directly use a dictionary rather than a list of dictionaries, where each dictionary has only 1 word?</span>
<span class="comment-copy">I am trying to count frequency of each word in tokens. I didnt think about just using a single dictionary. Thanks!</span>
<span class="comment-copy">Still is there a way to achieve this?</span>
<span class="comment-copy">Is <code>tokens</code>really an <a href="https://docs.python.org/3/library/array.html" rel="nofollow noreferrer"><code>array</code></a> or is it a <a href="https://docs.python.org/3/library/stdtypes.html#lists" rel="nofollow noreferrer"><code>list</code></a>?</span>
<span class="comment-copy">I also have an outer loop. Tokens is changing with each iteration.</span>
<span class="comment-copy">@AyushGupta you mean you need to count incrementally when <code>tokens</code> is changing? plz elaborate in your question ;)</span>
<span class="comment-copy">I changed my code, made another array and appended contents of tokens to it. Then used counter. Thanks for the answer!</span>
