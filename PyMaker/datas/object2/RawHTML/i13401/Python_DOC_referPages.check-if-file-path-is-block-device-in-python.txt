<div class="post-text" itemprop="text">
<p>I have some file path in Python under Linux and I need to figure out if it's a block device - representation of disk or partition. This information is visible when typing ls -l, e.g.</p>
<pre><code>brw-rw---- 1 root disk 8, 1 09-12 18:01 /dev/sda1
</code></pre>
<p>I mean letter <strong>b</strong> on start of this output. Is this possible to get something like this in Python using built in libraries? Eventually I can use subprocess to fetch "ls -l" result and check if first character is correct, but i feel that there could be nicer solution for this. Unfortunately I can't find this. Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <code>stat</code> lib using <a href="https://docs.python.org/2/library/stat.html#stat.S_ISBLK" rel="noreferrer">stat.S_ISBLK</a> with <a href="https://docs.python.org/2/library/os.html#os.stat" rel="noreferrer">os.stat</a>:</p>
<pre><code>In [1]: import os

In [2]: import stat

In [3]: mode = os.stat("/dev/sda2").st_mode

In [4]: stat.S_ISBLK(mode)
Out[4]: True

In [5]: mode = os.stat("/dev/sr0").st_mode

In [6]: stat.S_ISBLK(mode)
Out[6]: True
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Since 3.4 <code>pathlib</code> offers convenience function <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_block_device" rel="nofollow noreferrer">Path.is_block_device()</a></p>
<pre><code>&gt;&gt;&gt; import pathlib
&gt;&gt;&gt; p = pathlib.Path('/dev/vda')
&gt;&gt;&gt; p.is_block_device()
True
</code></pre>
</div>
