<div class="post-text" itemprop="text">
<p>I have this nested dictionary output from a arista switch and want to iterate this json list/dict to extract the following information's for each interface.</p>
<p><code>Interfacename(like Ethernet29/1)</code> and <code>actorPortPriority(32768)</code></p>
<p>How can I access this data?</p>
<p>I tried to do:</p>
<pre><code>for k, v in data.items():
    print(v['interfaces'])
    print(v['interfaces']['actorPortPriority']
</code></pre>
<p>but I didnÂ´t get it.
So far as I understood, I have a nested dict but I didn't get it actually to
iterate through nested <code>dict</code>s.</p>
<p>Sample of <code>data</code>:</p>
<pre><code>{'interfaces': {'Ethernet29/1': {'actorOperKey': '0x00c8',
                                 'actorPortId': 117,
                                 'actorPortPriority': 32768,
                                 'actorPortState': {'activity': True,
                                                    'aggregation': True,
                                                    'collecting': True,
                                                    'defaulted': False,
                                                    'distributing': True,
                                                    'expired': False,
                                                    'synchronization': True,
                                                    'timeout': False},
                                 'actorPortStatus': 'bundled',
                                 'partnerOperKey': '0x82af',
                                 'partnerPortId': 16643,
                                 'partnerPortPriority': 32768,
                                 'partnerPortState': {'activity': True,
                                                      'aggregation': True,
                                                      'collecting': True,
                                                      'defaulted': False,
                                                      'distributing': True,
                                                      'expired': False,
                                                      'synchronization': True,
                                                      'timeout': False},
                                 'partnerSysId': '7F9B,00-23-04-ee-be-cc'},
                'Ethernet30/1': {'actorOperKey': '0x00c8',
                                 'actorPortId': 121,
                                 'actorPortPriority': 32768,
                                 'actorPortState': {'activity': True,
                                                    'aggregation': True,
                                                    'collecting': True,
                                                    'defaulted': False,
                                                    'distributing': True,
                                                    'expired': False,
                                                    'synchronization': True,
                                                    'timeout': False},
                                 'actorPortStatus': 'bundled',
                                 'partnerOperKey': '0x82af',
                                 'partnerPortId': 259,
                                 'partnerPortPriority': 32768,
                                 'partnerPortState': {'activity': True,
                                                      'aggregation': True,
                                                      'collecting': True,
                                                      'defaulted': False,
                                                      'distributing': True,
                                                      'expired': False,
                                                      'synchronization': True,
                                                      'timeout': False},
                                 'partnerSysId': '7F9B,00-23-04-ee-be-cc'}},
 'markers': {'markers': ['*']}}
{'interfaces': {'Ethernet16/1': {'actorOperKey': '0x0385',
                                 'actorPortId': 65,
                                 'actorPortPriority': 32768,
                                 'actorPortState': {'activity': True,
                                                    'aggregation': True,
                                                    'collecting': True,
                                                    'defaulted': False,
                                                    'distributing': True,
                                                    'expired': False,
                                                    'synchronization': True,
                                                    'timeout': False},
                                 'actorPortStatus': 'bundled',
                                 'partnerOperKey': '0x0001',
                                 'partnerPortId': 49,
                                 'partnerPortPriority': 32768,
                                 'partnerPortState': {'activity': True,
                                                      'aggregation': True,
                                                      'collecting': True,
                                                      'defaulted': False,
                                                      'distributing': True,
                                                      'expired': False,
                                                      'synchronization': True,
                                                      'timeout': False},
                                 'partnerSysId': '8000,28-99-3a-fa-50-fc'}},
 'markers': {'markers': ['*']}}
{'interfaces': {'Ethernet11/1': {'actorOperKey': '0x0067',
                                 'actorPortId': 45,
                                 'actorPortPriority': 0,
                                 'actorPortState': {'activity': False,
                                                    'aggregation': True,
                                                    'collecting': False,
                                                    'defaulted': True,
                                                    'distributing': False,
                                                    'expired': False,
                                                    'synchronization': False,
                                                    'timeout': False},
                                 'actorPortStatus': 'noAgg',
                                 'partnerOperKey': '0x0000',
                                 'partnerPortId': 0,
                                 'partnerPortPriority': 0,
                                 'partnerPortState': {'activity': False,
                                                      'aggregation': False,
                                                      'collecting': False,
                                                      'defaulted': False,
                                                      'distributing': False,
                                                      'expired': False,
                                                      'synchronization': False,
                                                      'timeout': True},
                                 'partnerSysId': '0000,00-00-00-00-00-00'},
                'Ethernet11/2': {'actorOperKey': '0x0067',
                                 'actorPortId': 46,
                                 'actorPortPriority': 32768,
                                 'actorPortState': {'activity': False,
                                                    'aggregation': True,
                                                    'collecting': False,
                                                    'defaulted': True,
                                                    'distributing': False,
                                                    'expired': False,
                                                    'synchronization': False,
                                                    'timeout': False},
                                 'actorPortStatus': 'noAgg',
                                 'partnerOperKey': '0x0000',
                                 'partnerPortId': 0,
                                 'partnerPortPriority': 0,
                                 'partnerPortState': {'activity': False,
                                                      'aggregation': False,
                                                      'collecting': False,
                                                      'defaulted': False,
                                                      'distributing': False,
                                                      'expired': False,
                                                      'synchronization': False,
                                                      'timeout': True},
                                 'partnerSysId': '0000,00-00-00-00-00-00'}},
 'markers': {'markers': ['*']}}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You were <em>close</em> with your original attempt.</p>
<p>Assume that the array of json objects is called <code>data</code>.</p>
<pre><code>for item in data:
    for k, v in item.get('interfaces').items():
        print('Interface Name: {} || Port Priority: {}'.format(k, v.get('actorPortPriority')))

Interface Name: Ethernet29/1 || Port Priority: 32768
Interface Name: Ethernet30/1 || Port Priority: 32768
Interface Name: Ethernet16/1 || Port Priority: 32768
Interface Name: Ethernet11/1 || Port Priority: 0
Interface Name: Ethernet11/2 || Port Priority: 32768
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Imagining this is what your input data looks like (because you said dict/list)</p>
<pre><code>data = [
    {
        "interfaces": {
            "Ethernet30/1": {
                "partnerPortPriority": 32768, 
                "partnerPortState": {
                    "collecting": true, 
                    "distributing": true, 
                    "synchronization": true, 
                    "defaulted": false, 
                    "timeout": false, 
                    "activity": true, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "actorPortPriority": 32768, 
                "actorPortState": {
                    "collecting": true, 
                    "distributing": true, 
                    "synchronization": true, 
                    "defaulted": false, 
                    "timeout": false, 
                    "activity": true, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "partnerOperKey": "0x82af", 
                "partnerSysId": "7F9B,00-23-04-ee-be-cc", 
                "actorPortStatus": "bundled", 
                "actorOperKey": "0x00c8", 
                "partnerPortId": 259, 
                "actorPortId": 121
            }, 
            "Ethernet29/1": {
                "partnerPortPriority": 32768, 
                "partnerPortState": {
                    "collecting": true, 
                    "distributing": true, 
                    "synchronization": true, 
                    "defaulted": false, 
                    "timeout": false, 
                    "activity": true, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "actorPortPriority": 32768, 
                "actorPortState": {
                    "collecting": true, 
                    "distributing": true, 
                    "synchronization": true, 
                    "defaulted": false, 
                    "timeout": false, 
                    "activity": true, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "partnerOperKey": "0x82af", 
                "partnerSysId": "7F9B,00-23-04-ee-be-cc", 
                "actorPortStatus": "bundled", 
                "actorOperKey": "0x00c8", 
                "partnerPortId": 16643, 
                "actorPortId": 117
            }
        }, 
        "markers": {
            "markers": [
                "*"
            ]
        }
    }, 
    {
        "interfaces": {
            "Ethernet16/1": {
                "partnerPortPriority": 32768, 
                "partnerPortState": {
                    "collecting": true, 
                    "distributing": true, 
                    "synchronization": true, 
                    "defaulted": false, 
                    "timeout": false, 
                    "activity": true, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "actorPortPriority": 32768, 
                "actorPortState": {
                    "collecting": true, 
                    "distributing": true, 
                    "synchronization": true, 
                    "defaulted": false, 
                    "timeout": false, 
                    "activity": true, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "partnerOperKey": "0x0001", 
                "partnerSysId": "8000,28-99-3a-fa-50-fc", 
                "actorPortStatus": "bundled", 
                "actorOperKey": "0x0385", 
                "partnerPortId": 49, 
                "actorPortId": 65
            }
        }, 
        "markers": {
            "markers": [
                "*"
            ]
        }
    }, 
    {
        "interfaces": {
            "Ethernet11/2": {
                "partnerPortPriority": 0, 
                "partnerPortState": {
                    "collecting": false, 
                    "distributing": false, 
                    "synchronization": false, 
                    "defaulted": false, 
                    "timeout": true, 
                    "activity": false, 
                    "expired": false, 
                    "aggregation": false
                }, 
                "actorPortPriority": 32768, 
                "actorPortState": {
                    "collecting": false, 
                    "distributing": false, 
                    "synchronization": false, 
                    "defaulted": true, 
                    "timeout": false, 
                    "activity": false, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "partnerOperKey": "0x0000", 
                "partnerSysId": "0000,00-00-00-00-00-00", 
                "actorPortStatus": "noAgg", 
                "actorOperKey": "0x0067", 
                "partnerPortId": 0, 
                "actorPortId": 46
            }, 
            "Ethernet11/1": {
                "partnerPortPriority": 0, 
                "partnerPortState": {
                    "collecting": false, 
                    "distributing": false, 
                    "synchronization": false, 
                    "defaulted": false, 
                    "timeout": true, 
                    "activity": false, 
                    "expired": false, 
                    "aggregation": false
                }, 
                "actorPortPriority": 0, 
                "actorPortState": {
                    "collecting": false, 
                    "distributing": false, 
                    "synchronization": false, 
                    "defaulted": true, 
                    "timeout": false, 
                    "activity": false, 
                    "expired": false, 
                    "aggregation": true
                }, 
                "partnerOperKey": "0x0000", 
                "partnerSysId": "0000,00-00-00-00-00-00", 
                "actorPortStatus": "noAgg", 
                "actorOperKey": "0x0067", 
                "partnerPortId": 0, 
                "actorPortId": 45
            }
        }, 
        "markers": {
            "markers": [
                "*"
            ]
        }
    }
]
</code></pre>
<p>My solution would be (if you want in different dict/list)</p>
<pre><code>In [1]: output = []
    ...: for interface in data:
    ...:     output.append({k: v['actorPortPriority'] for k, v in interface['interfaces'].items()})
    ...:         

In [2]: output
Out[2]: 
[{'Ethernet29/1': 32768, 'Ethernet30/1': 32768},
 {'Ethernet16/1': 32768},
 {'Ethernet11/1': 0, 'Ethernet11/2': 32768}]
</code></pre>
<p>If you want in one dict</p>
<pre><code>In [3]: output = {}
    ...: for interface in data:
    ...:     output.update({k: v['actorPortPriority'] for k, v in interface['interfaces'].items()})
    ...:         

In [4]: output
Out[4]: 
{'Ethernet11/1': 0,
 'Ethernet11/2': 32768,
 'Ethernet16/1': 32768,
 'Ethernet29/1': 32768,
 'Ethernet30/1': 32768}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Assuming the data is actually <code>list</code> that looks like this:</p>
<pre><code>data = [
    {'interfaces': {'Ethernet29/1': {'actorOperKey': '0x00c8',
                                     'actorPortId': 117,
                                     'actorPortPriority': 32768,
                                     'actorPortState': {'activity': True,
                                                        'aggregation': True,
                                                        'collecting': True,
                                                        'defaulted': False,
                                                        'distributing': True,
                                                        'expired': False,
                                                        'synchronization': True,
                                                        'timeout': False},
                                     'actorPortStatus': 'bundled',
                                     'partnerOperKey': '0x82af',
                                     'partnerPortId': 16643,
                                     'partnerPortPriority': 32768,
                                     'partnerPortState': {'activity': True,
                                                          'aggregation': True,
                                                          'collecting': True,
                                                          'defaulted': False,
                                                          'distributing': True,
                                                          'expired': False,
                                                          'synchronization': True,
                                                          'timeout': False},
                                     'partnerSysId': '7F9B,00-23-04-ee-be-cc'},
                    'Ethernet30/1': {'actorOperKey': '0x00c8',
                                     'actorPortId': 121,
                                     'actorPortPriority': 32768,
                                     'actorPortState': {'activity': True,
                                                        'aggregation': True,
                                                        'collecting': True,
                                                        'defaulted': False,
                                                        'distributing': True,
                                                        'expired': False,
                                                        'synchronization': True,
                                                        'timeout': False},
                                     'actorPortStatus': 'bundled',
                                     'partnerOperKey': '0x82af',
                                     'partnerPortId': 259,
                                     'partnerPortPriority': 32768,
                                     'partnerPortState': {'activity': True,
                                                          'aggregation': True,
                                                          'collecting': True,
                                                          'defaulted': False,
                                                          'distributing': True,
                                                          'expired': False,
                                                          'synchronization': True,
                                                          'timeout': False},
                                     'partnerSysId': '7F9B,00-23-04-ee-be-cc'}},
     'markers': {'markers': ['*']}},
     {'interfaces': {'Ethernet16/1': {'actorOperKey': '0x0385',
                                     'actorPortId': 65,
                                     'actorPortPriority': 32768,
                                     'actorPortState': {'activity': True,
                                                        'aggregation': True,
                                                        'collecting': True,
                                                        'defaulted': False,
                                                        'distributing': True,
                                                        'expired': False,
                                                        'synchronization': True,
                                                        'timeout': False},
                                     'actorPortStatus': 'bundled',
                                     'partnerOperKey': '0x0001',
                                     'partnerPortId': 49,
                                     'partnerPortPriority': 32768,
                                     'partnerPortState': {'activity': True,
                                                          'aggregation': True,
                                                          'collecting': True,
                                                          'defaulted': False,
                                                          'distributing': True,
                                                          'expired': False,
                                                          'synchronization': True,
                                                          'timeout': False},
                                     'partnerSysId': '8000,28-99-3a-fa-50-fc'}},
     'markers': {'markers': ['*']}},
     {'interfaces': {'Ethernet11/1': {'actorOperKey': '0x0067',
                                     'actorPortId': 45,
                                     'actorPortPriority': 0,
                                     'actorPortState': {'activity': False,
                                                        'aggregation': True,
                                                        'collecting': False,
                                                        'defaulted': True,
                                                        'distributing': False,
                                                        'expired': False,
                                                        'synchronization': False,
                                                        'timeout': False},
                                     'actorPortStatus': 'noAgg',
                                     'partnerOperKey': '0x0000',
                                     'partnerPortId': 0,
                                     'partnerPortPriority': 0,
                                     'partnerPortState': {'activity': False,
                                                          'aggregation': False,
                                                          'collecting': False,
                                                          'defaulted': False,
                                                          'distributing': False,
                                                          'expired': False,
                                                          'synchronization': False,
                                                          'timeout': True},
                                     'partnerSysId': '0000,00-00-00-00-00-00'},
                    'Ethernet11/2': {'actorOperKey': '0x0067',
                                     'actorPortId': 46,
                                     'actorPortPriority': 32768,
                                     'actorPortState': {'activity': False,
                                                        'aggregation': True,
                                                        'collecting': False,
                                                        'defaulted': True,
                                                        'distributing': False,
                                                        'expired': False,
                                                        'synchronization': False,
                                                        'timeout': False},
                                     'actorPortStatus': 'noAgg',
                                     'partnerOperKey': '0x0000',
                                     'partnerPortId': 0,
                                     'partnerPortPriority': 0,
                                     'partnerPortState': {'activity': False,
                                                          'aggregation': False,
                                                          'collecting': False,
                                                          'defaulted': False,
                                                          'distributing': False,
                                                          'expired': False,
                                                          'synchronization': False,
                                                          'timeout': True},
                                     'partnerSysId': '0000,00-00-00-00-00-00'}},
     'markers': {'markers': ['*']}}
]
</code></pre>
<p>You could use:</p>
<pre><code>for v in data:
    for interface, info in v['interfaces'].items():
        print(interface)
        print(info['actorPortPriority'])
</code></pre>
</div>
<span class="comment-copy">Try the <a href="https://docs.python.org/2/library/pprint.html" rel="nofollow noreferrer">pprint</a> module.  If you need to write your own, you'll need to investigate recursive routines.</span>
<span class="comment-copy">The mistake in the above code is here <code>print(v['interfaces']['actorPortPriority'])</code>. You missed the key <code>'Ethernet29/1'</code>. The value of k is 'interfaces' and v is the <code>dict</code> inside <code>interfaces</code> with <code>'Ethernet29/1'</code> being the first key. So, the above code should be  <code>print(v['Ethernet29/1']['actorPortPriority'])</code></span>
