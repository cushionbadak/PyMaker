<div class="post-text" itemprop="text">
<p>I'm trying to scrap a website and write the data to a csv.
The problem is that since I'm using nested loops, and all data doesn't end in the csv.</p>
<pre><code>import requests 
from bs4 import BeautifulSoup
from csv import writer

with open ("full_links_details.csv", 'w', newline='') as csv_file: 
    csv_writer = writer(csv_file)
    csv_writer.writerow(["Details", "Details_Link", "image_link"])

    z = """
         &lt;div class="container container1"&gt;
           &lt;ul class="splist-view"&gt;
               &lt;li class="wow fadeInUp"&gt;
                   &lt;div class="row"&gt;
                       &lt;div class="pic"&gt;
                           &lt;a href="some_link_a"&gt;
                               &lt;img src="some_image_link_a"&gt;
                           &lt;/a&gt;
                       &lt;/div&gt;
                       &lt;div class="detail"&gt;
                           &lt;ul&gt;
                               &lt;li class="hd"&gt;&lt;a href="some_link_a"&gt;SomeTitleText-A&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;
                   &lt;/div&gt;
               &lt;/li&gt;

               &lt;li class="wow fadeInUp"&gt;
                   &lt;div class="row"&gt;
                       &lt;div class="pic"&gt;
                           &lt;a href="some_link_b"&gt;
                               &lt;img src="some_image_link_b"&gt;
                           &lt;/a&gt;
                       &lt;/div&gt;
                       &lt;div class="detail"&gt;
                           &lt;ul&gt;
                               &lt;li class="hd"&gt;&lt;a href="some_link_b"&gt;SomeTitleText-B&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;
                   &lt;/div&gt;
               &lt;/li&gt;
           &lt;/ul&gt;
          &lt;/div&gt;
        """
    souped_html_data = BeautifulSoup(z, "html.parser")

    div_detail_list = souped_html_data.find_all("div", "detail")
    div_pic_list = souped_html_data.find_all("div", "pic")

    for div_detail in div_detail_list:
        details = div_detail.get_text()


    for div_link in div_detail_list:
        div_link_a = div_link.find_all('a')
        for div_link_href in div_link_a:
            div_link_href_url = div_link_href.get('href')

    for div_pic in div_pic_list:
        div_pic_a = div_pic.find_all('img')
        for div_pic_a_src in div_pic_a:
            div_pic_a_src_link = div_pic_a_src.get('src')

        csv_writer.writerow([details, div_link_href_url, div_pic_a_src_link])
</code></pre>
<p>Now, whatever I do, I can't get all the data in correct form. I mean, if I change the indent of last line --- sometimes the details variable is repeated, sometimes first two fields are repeated.
So, I'm sure that the nested For Loop is creating problem.
Is there any way to bring all loops to same level and then write the data? I think, that will solve the problem.</p>
<p>Solved with help of @JoÃ«l.
Clubbed all loops as:</p>
<pre><code>    for div_detail, div_link, div_pic in zip(div_detail_list, div_detail_list, div_pic_list):
        details = div_detail.get_text()

        div_link_a = div_link.find_all('a')
        for div_link_href in div_link_a:
            div_link_href_url = div_link_href.get('href')

        div_pic_a = div_pic.find_all('img')
        for div_pic_a_src in div_pic_a:
            div_pic_a_src_link = div_pic_a_src.get('src')

        csv_writer.writerow([details, div_link_href_url, div_pic_a_src_link])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In order to use items from several loops in parallel, you may use the built-in <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip</code></a> function:</p>
<pre><code>&gt;&gt;&gt; seq0 = [1, 2, 3]
&gt;&gt;&gt; seq1 = ['a', 'b', 'c']
&gt;&gt;&gt; for s0, s1 in zip(seq0, seq1):
...    print(f"{s0} - {s1}") 
1 - a
2 - b
3 - c
</code></pre>
<p>However, something seems strange to me: you use three loops on three different item sets, but are you sure the three of them will be of same length?</p>
</div>
<span class="comment-copy">Please give some example so that your issue can be reproduced. <a href="https://stackoverflow.com/help/how-to-ask">stackoverflow.com/help/how-to-ask</a></span>
<span class="comment-copy">Please edit the code to fix the indents - without those being correct it is pretty much impossible to think about commenting</span>
<span class="comment-copy">Corrected the indentation using four spaces.</span>
<span class="comment-copy">Your edit with <code>z = """(...)"""</code> (multiline string definition) then usage of <code>z.text</code> seems very likely to raise <code>AttributeError: 'str' object has no attribute 'text'</code>. Have you tested it?</span>
<span class="comment-copy">Thanks for pointing. That .text was for z = example.com. Then, I replaced that with html sample, so .text has to go.</span>
<span class="comment-copy">Yes, I'm sure. All will have same number of results at end.</span>
<span class="comment-copy">Thanks. It solve the problem.</span>
<span class="comment-copy">You're welcome!</span>
