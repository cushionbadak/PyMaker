<div class="post-text" itemprop="text">
<p>I have the following text file:</p>
<pre><code>0 something 0.008
0 something2 0.004
0 something3 0.003
0 something4 0.001
0 something5 0.000
1 something 0.008
1 something2 0.004
1 something3 0.003
1 something4 0.001
1 something5 0.000
</code></pre>
<p>And the following code which reads the file and takes only the first 3 lines starting with 0, the first 3 lines starting with 1 and so on. Until now it successfully does that apart from adding the float number (marked as w in the code) in the end and I have trouble adding it due to casting.</p>
<pre><code>with open('output.txt', mode = 'r') as f:   
    MAX = 3                             
    i = 0
    weight=0
    output = []
    while True:
        line = f.readline().strip()       
        if line == '':                    
            break 
        line = line.split()  
        i = int(line[0])
        w=float(line[2]) # I want to add this at the end of every line as well


        try:
            output[i]
        except IndexError:
            for i in range(len(output), i + 1):
                output.append([])         
        if len(output[i]) &lt; MAX:        
            output[i].append(line[1]) 


for i, j in enumerate(output):
    print(i, *j)     
</code></pre>
<p>Desired output:</p>
<pre><code>0 something 0.008 something2 0.004 something3 0.003
1 something 0.00 something2 0.004 something3 0.003
</code></pre>
<p>How could I add it? Thank you very much in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>Read each line of the file, add each of the lines data to a <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer"><code>collections.defaultdict()</code></a> as you go, making sure the first item of each line is the grouping key, then only take <code>[:3]</code> from each group at the end:</p>
<pre><code>from collections import defaultdict

d = defaultdict(list)
with open("test.txt") as f:
    for line in f:
        key, *rest = line.split()
        d[key].append(rest)

for k, v in d.items():
    print("%s %s" % (k, " ".join("%s %s" % (x, y) for x, y in v[:3])))
</code></pre>
<p>Which Outputs:</p>
<pre><code>0 something 0.008 something2 0.004 something3 0.003
1 something 0.008 something2 0.004 something3 0.003
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you can simply use str(w) in order to convert it to string</p>
<pre><code>with open('output.txt', mode = 'r') as f:   
    MAX = 3                             
    i = 0
    weight=0
    output = []
    while True:
        line = f.readline().strip()       
        if line == '':                    
            break 
        line = line.split() 
        print("line ",line) 
        i = int(line[0])
        w=float(line[2]) # I want to add this at the end of every line as well

        try:
            output[i]
        except IndexError:
            for i in range(len(output), i + 1):
                output.append([])         
        if len(output[i]) &lt; MAX:        
            output[i].append(line[1]+" "+str(w))



for i, j in enumerate(output):
    print(i, j) 
</code></pre>
</div>
<span class="comment-copy">What are you getting instead of the desired output?</span>
<span class="comment-copy">Last line of expected output should be <code>1 something 0.008 something2 0.004 something3 0.003</code>.</span>
