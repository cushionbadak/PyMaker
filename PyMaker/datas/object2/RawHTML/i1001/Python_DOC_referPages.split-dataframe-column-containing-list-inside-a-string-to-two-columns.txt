<div class="post-text" itemprop="text">
<p>I have a df where one column, 'vals' contains a list inside a string. I want to convert this into two columns 'val1'
 and 'vals2. I have tried to split and strip the string but can't find an implementation to do this for every row in the df.</p>
<pre><code>    vals
'[12.1, 15.0]'

val1  val2
12.1  15.0
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.strip.html" rel="nofollow noreferrer"><code>strip</code></a> with <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.split.html" rel="nofollow noreferrer"><code>split</code></a> and casting to floats if necessary, last add prefix by <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.add_prefix.html" rel="nofollow noreferrer"><code>add_prefix</code></a>:</p>
<pre><code>df = pd.DataFrame({'vals':["'[12.1, 15.0]'","'[12.1, 15.0]'"]})

df = (df['vals'].str.strip("'[]")
               .str.split(', ', expand=True)
               .astype(float)
               .add_prefix('val'))
</code></pre>
<p>If no missing values and performance is important:</p>
<pre><code>df =  pd.DataFrame([x.strip("'[]").split(', ') for x in df['vals']], 
                    columns = ['val1', 'val2']).astype(float)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here we employ <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer">ast.literal_eval</a>-</p>
<pre><code>import ast
df = pd.DataFrame({'A':['[12.1, 15.0]','[12.4, 11.1]']})
df['val1']=df['A'].apply(lambda x:ast.literal_eval(x)[0])
df['val2']=df['A'].apply(lambda x:ast.literal_eval(x)[1])
df    
                A  val1  val2
  0  [12.1, 15.0]  12.1  15.0
  1  [12.4, 11.1]  12.4  11.1
</code></pre>
</div>
