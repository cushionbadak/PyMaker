<div class="post-text" itemprop="text">
<p>If I have the following function:</p>
<pre><code>def foo(a, b, c=2, d=6):
    return a + b + c + d
</code></pre>
<p>and I want to parallelize with <code>multiprocessing</code>.</p>
<p>How can I pass the following arguments <code>1, 2, d=10</code>? i.e. 2 <code>args</code> and 1 <code>kwarg</code>?</p>
<p>I saw <a href="https://stackoverflow.com/questions/38908663/python-multiprocessing-how-to-pass-kwargs-to-function">this</a> post, but it does not seem to make it actually parallel. Another possibly useful example was provided <a href="https://stackoverflow.com/questions/34031681/passing-kwargs-with-multiprocessing-pool-map/36799206">here</a>, but it is hard to untangle. </p>
</div>
<div class="post-text" itemprop="text">
<p>How about:</p>
<pre><code>import multiprocessing

def foo(a, b, c=2, d=6):
    return a + b + c + d

def foo_callback(result):
    print(result)

def foo_error(error):
    raise error

pool = multiprocessing.Pool()

for (a, b, c, d) in ((1, 2, 3, 4),
                     (2, 4, 6, 8),
                     (3, 6, 9, 12)):
    pool.apply_async(
        foo,
        args=(a, b),
        kwds={"c":c, "d":d},
        callback=foo_callback,
        error_callback=foo_error
    )
pool.close()
pool.join()
</code></pre>
<p>Which prints:</p>
<pre><code>10
20
30

Process finished with exit code 0
</code></pre>
<p>I guess that you want to pass the kwds as a dict. The keys need to be strings.</p>
</div>
<span class="comment-copy">It's all <a href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.apply_async" rel="nofollow noreferrer">clearly documented</a>.  I doubt you can get a better answer than just reading the docs in this case.</span>
<span class="comment-copy">How can I get rid of the loop and not pass <code>c</code> as a parameter?</span>
<span class="comment-copy">Also, all the results are not in a <code>list</code> as they usually are with <code>map</code>, which is confusing as well. Could you please elaborate on the usage of this?</span>
