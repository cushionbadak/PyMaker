<div class="post-text" itemprop="text">
<p>The HTML code below is from a website regarding movie reviews. I want to extract the Stars from the code below, which would be <code>John C. Reilly</code>, <code>Sarah Silverman</code> and <code>Gal Gadot</code>. How could I do this?</p>
<p>Code:</p>
<pre><code>html_doc = """
&lt;html&gt;
    &lt;head&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;div class="credit_summary_item"&gt;
                &lt;h4 class="inline"&gt;Stars:&lt;/h4&gt;
            &lt;a href="/name/nm0000604/?ref_=tt_ov_st_sm"&gt;John C. Reilly&lt;/a&gt;,
            &lt;a href="/name/nm0798971/?ref_=tt_ov_st_sm"&gt;Sarah Silverman&lt;/a&gt;,
            &lt;a href="/name/nm2933757/?ref_=tt_ov_st_sm"&gt;Gal Gadot&lt;/a&gt;
            &lt;span class="ghost"&gt;|&lt;/span&gt;
            &lt;a href="fullcredits/?ref_=tt_ov_st_sm"&gt;See full cast &amp; crew&lt;/a&gt;&amp;nbsp;&amp;raquo;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
"""

from bs4 import BeautifulSoup
soup = BeautifulSoup(html_doc, 'html.parser')
</code></pre>
<h2>My idea</h2>
<p>I was going to use for loops to iterate through each <code>div class</code> until I found the class with text <code>Stars</code>, in which I could then extract the names. But I don't how I would code this as I am not too familiar with HTML syntax nor the module.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can iterate over all <code>a</code> tags in the <code>credit_summary_item</code> <code>div</code>:</p>
<pre><code>from bs4 import BeautifulSoup as soup
*results, _ = [i.text for i in soup(html_doc, 'html.parser').find('div', {'class':'credit_summary_item'}).find_all('a')]
</code></pre>
<p>Output:</p>
<pre><code>['John C. Reilly', 'Sarah Silverman', 'Gal Gadot']
</code></pre>
<p>Edit:</p>
<pre><code>_d = [i for i in soup(html_doc, 'html.parser').find_all('div', {'class':'credit_summary_item'}) if 'Stars:' in i.text][0]
*results, _ = [i.text for i in _d.find_all('a')]
</code></pre>
<p>Output:</p>
<pre><code>['John C. Reilly', 'Sarah Silverman', 'Gal Gadot']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I will show how to implement this, and see that you only need to learn BeautifulSoap syntax.</p>
<p>First, we want to use that method <code>findAll</code> for the "div" tag with the attribute "class".</p>
<pre><code>divs = soup.findAll("div", attrs={"class": "credit_summary_item"})
</code></pre>
<p>Then, we will filter all the divs without stars in it:</p>
<pre><code>stars = [div for div in divs if "Stars:" in div.h4.text]
</code></pre>
<p>If you have only one place with start you can take it out:</p>
<pre><code>star = start[0]
</code></pre>
<p>Then again find all the text in tag "a"</p>
<pre><code>names = [a.text for a in star.findAll("a")]
</code></pre>
<p>You can see that I didn't used any html/css syntax, only soup.
I hope it helped.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can also use <a href="https://docs.python.org/3/howto/regex.html" rel="nofollow noreferrer">regex</a></p>
<pre><code>stars = soup.findAll('a', href=re.compile('/name/nm.+'))
names = [x.text for x in stars]
names

# output: ['John C. Reilly', 'Sarah Silverman', 'Gal Gadot']
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/8680905/python-beautifulsoup-loop">Python BeautifulSoup Loop</a></span>
<span class="comment-copy">There is more than one <code>div</code> with class <code>credit_summary_item</code>.</span>
<span class="comment-copy">@Newbie101 Does the <code>div</code> with the actors' names always appear first in the HTML? If so, then this solution will still work.</span>
<span class="comment-copy">@Newbie101 Please see my recent edit.</span>
<span class="comment-copy">I got message <code>AttributeError: ResultSet object has no attribute 'find_all'</code>?</span>
<span class="comment-copy">@Newbie101 In my edited section, I added a more robust solution.</span>
