<div class="post-text" itemprop="text">
<ul>
<li>I have a function who reads <code>MemoryObject</code> of file. It is reading most of the files but for one file it is raising <code>UnicodeDecodeError</code>.</li>
</ul>
<p>here is my code </p>
<pre><code>def read(file):
    """

    :param file: File Memory Object (submitted from POST)
    :return: File Iterable object
    """

    file = StringIO(file.read().decode())
    return csv.DictReader(file, delimiter=',')
</code></pre>
<ul>
<li><a href="https://drive.google.com/file/d/1XlFoCdqz-RKh2JNUU6O8ZEOruRYtTn2M/view?usp=sharing" rel="nofollow noreferrer">File</a> which raise no issue.</li>
<li><a href="https://drive.google.com/file/d/1YKlPiwB0xs-kfKSyX2w105IxvOAKYUgq/view?usp=sharing" rel="nofollow noreferrer">File</a> which is rasing issue.</li>
</ul>
<p>Complete error is as follows : <code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 0: invalid continuation byte</code></p>
<ul>
<li>In other question where user have asked questions of similar errors. they are using <code>open()</code> to streamline the file but I already have streamline MemoryObject so can't use <code>open()</code> </li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Your <code>file</code> is already opened in binary mode: <a href="https://docs.python.org/3/library/stdtypes.html#bytes.decode" rel="nofollow noreferrer"><code>decode</code></a> is a method of <code>bytes</code>, not <code>str</code>.</p>
<p>For your problem, the <code>encoding</code> and <code>errors</code> parameter of <code>bytes.decode</code> works the same as for <code>open</code>. You can apply the appropriate encoding, or ignore errors:</p>
<pre><code>def read(file, encoding: str = 'utf-8', errors: str = 'strict'):
    """
    :param file: File Memory Object (submitted from POST)
    :return: File Iterable object
    """

    file = StringIO(file.read().decode(encoding=encoding, errors=errors))
    return csv.DictReader(file, delimiter=',')
</code></pre>
<p>Note that you either <em>must</em> know the encoding, or suppress errors by ignoring them. You can try different encodings to find one that works, but in the end you must know what your data means.</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/19117836/python-throwing-utf8-codec-cant-decode-byte-0xd0-in-position-0-error">Python Throwing "'utf8' codec can't decode byte 0xd0 in position 0" Error</a></span>
<span class="comment-copy">@Caramiriel here they are using <code>open()</code> to steamline the file whereas I already have <code>Memoryobject</code> which so can't use open().</span>
<span class="comment-copy">Is the error thrown at the line including <code>.decode()</code>?</span>
<span class="comment-copy">-<b>FIrst</b> I am getting this error for ignore keyword <code>TypeError: 'ignore' is an invalid keyword argument for this function</code>. <b>Secondly</b> : The nature of my data is same in both file I shared but one file (<b>working</b>) is created from <code>LIbre office</code> using <code>Text CSV format</code> and other one (not working) created from <code>MIcrosoft office (microsoft excel 97-2003 format)</code> even if this file is blank it will still not work.</span>
<span class="comment-copy">@user5594493 I have fixed the keyword, as shown in the documentation. Note that you did not share any files, both links are invalid.</span>
<span class="comment-copy">still no success ... I have updated the file links in my original question</span>
