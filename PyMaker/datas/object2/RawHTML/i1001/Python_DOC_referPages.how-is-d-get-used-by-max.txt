<div class="post-text" itemprop="text">
<p>The <code>d.get</code> method(?) is working fabulously for me to find the max of a value in a dictionary while returning the key. But I can't seem to understand or find any explanation for how <code>d.get</code> operates. Is far as I can tell: <code>max()</code> iterates over an <code>iterable</code> and returns the iteration of greatest value. When iterating over a <code>dict</code>, this defaults to assessing the <code>max</code> <code>key</code>.  </p>
<p>My confusion comes from the difference between <code>d.get</code> and <code>d.get(key)</code>. How can you call a method without <code>()</code>? I'm not sure how else to investigate this. </p>
<p><code>foo = max(d, key = d.get)</code></p>
<pre><code>weights = {
 95: 0.0,
 96: 0.0,
 97: 0.30793650793650795,
 98: 0.0,
 99: 0.0,
 100: 0.0,
 101: 0.48095238095238096,
 102: 0.0,
 103: 0.0,
 104: 0.49523809523809526,
 105: 0.0}

heaviest = max(weights, key = weights.get)
--&gt; 104  
</code></pre>
<p>Using the optional argument to <a href="https://docs.python.org/3/library/functions.html#max" rel="nofollow noreferrer"><code>max()</code></a> one can sort by the <code>value</code> and return the <code>key</code>. I just don't understand what is being assigned to the <code>key</code> argument.</p>
<p>Thanks all.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>weights.get</code> is a function that returns a value for the corresponding key in <code>weights</code>. When <code>max</code> looks for the largest value, it uses the return value of the <code>key</code> argument, passing in the input as an argument.</p>
<p>This code:</p>
<pre><code>heaviest = max(weights, key=weights.get)
</code></pre>
<p>is equivalent to:</p>
<pre><code>heaviest = max(weights, key=lambda k: weights.get(k))
</code></pre>
<p>or even more explicitly:</p>
<pre><code>def fetchVal(key):
    return weights.get(key) # same as weights[key]

heaviest = max(weights, key=fetchVal)
</code></pre>
<p>When you pass <code>weights</code> into <code>max</code>, it iterates over the keys of the dictionary. Basically, with <code>max(weights, key=weights.get)</code>, you are saying: Give me the maximum key of <code>weights</code>; however, instead of using the value of the key itself to determine the max, use the corresponding value in <code>weights</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>d.get(k)</code> simply returns the value in the dictionary for the key <code>k</code>.</p>
<p>When you iterate over a dictionary, the iterator returns the dictionary keys. So for each dictionary, <code>max</code> calls <code>d.get(key)</code> to get the values to compare with each other. is equivalent to <code>d[key]</code>, so it returns the corresponding dictionary element.</p>
<p>Finally, <code>max</code> returns the key that corresponds to the maximum of all these values.</p>
<p>The code you gave is equivalent to:</p>
<pre><code>foo = max(d, key = lambda k: d[k])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It's not as much the get method as the max function "key=" argument, which takes a function as an argument.
When you tell it
    max(my_dict, key=my_dict.get)</p>
<p>It iterates over the keys of my_dict, passes each dictionary key to the function given in the key= argument. And returns the key for which the function output was the highest. </p>
<pre><code>max(my_dict, key=lambda k:my_dict[k])
</code></pre>
<p>Would do the same. </p>
</div>
<span class="comment-copy">All of Python code is available. You could look at the source code. <a href="https://github.com/python/" rel="nofollow noreferrer">github.com/python</a></span>
<span class="comment-copy">@dfundako that would be the answer to 100% of pure-python questions, no?</span>
<span class="comment-copy">So you are trying to find out what is assigned to the key? If that's the case, please change the title of your question.</span>
<span class="comment-copy">@roganjosh It just seems like a "How does this work" question would be best described by the actual code that is implementing it. "How do I use this" would be different. The source code would show exactly what it is doing.</span>
<span class="comment-copy">What is assigned to <code>key</code> is the bound method <code>d.get</code>. Is that what you are asking, or are you asking how <code>d.get</code> is <i>used</i> by <code>max</code>?</span>
<span class="comment-copy">This would make perfect sense, but I did not use d.get(key), I used d.get, which I supposed is where my confusion comes from. Also - I found this piece of code on another stackoverflow question so I just wanted to understand how it worked before I continued relying on it. Thank you!</span>
<span class="comment-copy">It sounds like you don't understand how the <code>key</code> parameter works. The <code>max</code> function calls it on each element returned by the iterator.</span>
<span class="comment-copy">The <code>max</code> function calls <code>d.get(key)</code>.</span>
