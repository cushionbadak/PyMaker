<div class="post-text" itemprop="text">
<p>Tkinter doesn't draw image to canvas from another method.</p>
<p>Example 1 works, example 2 does not work. Can someone please explain why?</p>
<h1>example 1</h1>
<pre><code>def init_gui(self):
    window = tkinter.Tk()
    self.canvas = tkinter.Canvas(self.window, width=1000, height=500)

    photo = PIL.ImageTk.PhotoImage(image=PIL.Image.fromarray(self.img))
    self.canvas.create_image(0, 0, image=photo, anchor=tkinter.NW)
    self.canvas.pack()

    window.mainloop()
    pass
</code></pre>
<h1>example 2</h1>
<pre><code>def init_gui(self):
    window = tkinter.Tk()
    self.canvas = tkinter.Canvas(self.window, width=1000, height=500)

    self._draw_img() # the exact same code, only in another method

    window.mainloop()
    pass
def _draw_img(self):
    photo = PIL.ImageTk.PhotoImage(image=PIL.Image.fromarray(self.img))
    self.canvas.create_image(0, 0, image=photo, anchor=tkinter.NW)
    self.canvas.pack()
    pass
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If I remember correctly, there's a problem in Tkinter when the image you're displaying goes out of scope (because it's a local variable). Try to make <code>photo</code> an attribute of your class (by replacing <code>photo</code> with <code>self.photo</code> in your <code>_draw_image</code> function) and see if that solves the issue.</p>
<p>Does this help?</p>
<p><strong>Edit</strong></p>
<p>For a more complete explanation, see this website: <a href="http://effbot.org/pyfaq/why-do-my-tkinter-images-not-appear.htm" rel="nofollow noreferrer">http://effbot.org/pyfaq/why-do-my-tkinter-images-not-appear.htm</a></p>
</div>
<span class="comment-copy">Yep, that is how it works! I don't think it is a bug but more of a design choice, though.</span>
<span class="comment-copy">If this is a design choice, it's a pretty bad one... People don't expect resources being freed even though they're still used in garbage-collected languages like Python. But this issue has been there for a long time, so it's not likely to be fixed soonish...</span>
<span class="comment-copy">Correct. Here is a documentation link [<a href="https://docs.python.org/3/library/tkinter.html#images]" rel="nofollow noreferrer">docs.python.org/3/library/tkinter.html#images]</a>. "When the last Python reference to the image object is deleted, the image data is deleted as well, ..."</span>
<span class="comment-copy">Yes it helps, tank you Felix and others :) ... Python is awesome... but tkinter, that is a whole other story...</span>
