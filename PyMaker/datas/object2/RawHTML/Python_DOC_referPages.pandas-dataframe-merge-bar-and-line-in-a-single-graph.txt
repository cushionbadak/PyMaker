<div class="post-text" itemprop="text">
<p>Can someone help me define best way of visualizing 3 columns in pandas? I tried using stacked bar plot and searched for other solutions on SO, but nothing worked. Any help is appreciated. Here is a dummy pandas dataframe:</p>
<pre><code>Name    hour    var
Nem      0      2
Kiz      4      1
Hue      5      2
Kiz      0      3
Nem      7      7
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><strong>UPDATE:</strong> is that what you want?</p>
<pre><code>(df.pivot_table(index='Name', columns='hour', values='var',
                aggfunc='sum', fill_value=0)
   .plot.bar(stacked=True)
)
</code></pre>
<p><a href="https://i.stack.imgur.com/3ShGi.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/3ShGi.png"/></a></p>
<p>Explanation:</p>
<pre><code>In [55]: (df.pivot_table(index='Name', columns='hour', values='var',
   ....:                 aggfunc='sum', fill_value=0)
   ....: )
Out[55]:
hour  0  3  4  5  7
Name
Hue   0  6  0  2  0
Kiz   3  0  1  0  0
Nem   2  5  0  0  7
</code></pre>
<p><strong>OLD answer:</strong></p>
<p>you can use <a href="https://stanford.edu/~mwaskom/software/seaborn/generated/seaborn.barplot.html" rel="nofollow noreferrer">seaborn</a> module for that:</p>
<pre><code>import seaborn as sns

sns.barplot(x='Name', y='var', hue='hour', data=df, saturation=0.8)
</code></pre>
<p><a href="https://i.stack.imgur.com/GtNH9.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/GtNH9.png"/></a></p>
<p>data:</p>
<pre><code>In [20]: df
Out[20]:
  Name  hour  var
0  Nem     0    2
1  Nem     3    5
2  Kiz     4    1
3  Hue     5    2
4  Kiz     0    3
5  Nem     7    7
6  Hue     3    6
</code></pre>
</div>
<span class="comment-copy">Can you tell more on why stacked bar plot doesn't work?</span>
<span class="comment-copy">It works, but the figure is completely compressed because I have around 10000 rows in the dataframe. If it's possible I would like to have a bar plot with <code>Name</code> variable on x axis, color defined by <code>hour</code>, and height of the each colored part of bar defined by variable <code>var</code>.</span>
<span class="comment-copy">Many thanks for the answer. I was wondering, is it possible to do this without <code>seaborn</code>, and could it be done as I intended with one bar per Name and different color? For example, just by looking at this figure I am not sure whether <code>hour 7</code> belongs to <code>Kiz</code> or <code>Nem</code>.</span>
<span class="comment-copy">New answer should fit! Thank you very much!</span>
