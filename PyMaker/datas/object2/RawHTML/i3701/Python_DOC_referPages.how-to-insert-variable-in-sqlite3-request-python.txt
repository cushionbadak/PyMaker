<div class="post-text" itemprop="text">
<p>Dears,</p>
<p>how can I check if pos_cli from database is equal to variable pos_id? for now with code below I get the following error</p>
<pre><code>cur.execute("CREATE TABLE IF NOT EXISTS Magnit_Coor (pos_cli INTEGER PRIMARY KEY, lat INTEGER, long INTEGER);")
cur.execute('SELECT * FROM Magnit_pos')
data = cur.fetchall()
while True:
    for coo in data:
        full_add = coo[6:11]
        pos_id = coo[0]
        print (pos_id)
        yand_add = ", ".join(full_add)
        g = cur.execute('SELECT EXISTS (SELECT * FROM Magnit_Coor WHERE pos_cli = (?))',pos_id)
        g = cur.fetchone()[0]
</code></pre>
<p>error below</p>
<pre><code>10001
Traceback (most recent call last):
  File "geoco.py", line 17, in &lt;module&gt;
    g = cur.execute('SELECT EXISTS (SELECT * FROM Magnit_pos WHERE pos_cli = (?))',pos_id)
ValueError: parameters are of unsupported type
</code></pre>
<p>The initial code to create Magnit_pos table and pos_cli especially below</p>
<pre><code>cur.execute("DROP TABLE IF EXISTS Magnit_Pos;")
cur.execute(
    "CREATE TABLE Magnit_Pos (pos_cli INTEGER PRIMARY KEY, magnit_name TEXT, codesfa TEXT, codewsot TEXT, pos_sap TEXT, source_dc TEXT, zip TEXT, region TEXT, area TEXT, city TEXT, street TEXT, house TEXT, build TEXT);")

with open('magnit.csv') as csvfile:
    magnit = csv.reader(csvfile, delimiter=';')
    print(magnit)
    for row in magnit:
        print(row[0])
        # to_db = [unicode(row[0], "utf8"), unicode(row[1], "utf8")]
        cur.execute("INSERT INTO Magnit_Pos (pos_cli, magnit_name, codesfa, codewsot, pos_sap, source_dc, zip, region, area, city, street, house, build) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);", row)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>From python's <a href="https://docs.python.org/3/library/sqlite3.html" rel="nofollow noreferrer">sqlite3 documentation</a> (emphasis mine):</p>
<blockquote>
<p>Put ? as a placeholder wherever you want to use a value, and then provide a <strong><em>tuple of values</em></strong> as the second argument to the cursorâ€™s execute() method.</p>
</blockquote>
<p>So you should be using:</p>
<pre><code>    g = cur.execute('SELECT EXISTS (SELECT * FROM Magnit_Coor WHERE pos_cli = (?))',(pos_id,))
</code></pre>
</div>
<span class="comment-copy">are you expecting people to guess what is inside data variable?</span>
<span class="comment-copy">just added a few more code and details in the question</span>
<span class="comment-copy">great, fantastic. thanks</span>
