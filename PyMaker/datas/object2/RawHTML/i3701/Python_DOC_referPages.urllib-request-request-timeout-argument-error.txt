<div class="post-text" itemprop="text">
<p>When I add the timeout argument to the function, my code always goes into the exception and prints out "I failed". When I remove the timeout argument, the code works as it should, and it enters the try clause. Any info on how the timeout argument works in urllib.request function? </p>
<pre><code>import urllib.request
url = 'stackoverflow.com'

try:
    req = urllib.request.Request("http://" + url, timeout = 1000000000)
    req = urllib.request.urlopen(req)
    print("I tried.")
except:
    print("I failed.")
</code></pre>
<p>I tried using requests instead of urllib, and the code works with the timeout argument included. In the code bellow, it always enters the try clause, with or without timeout argument passed. </p>
<pre><code>import requests
url = 'stackoverflow.com'

try:
    req = requests.get("http://" + url, timeout=1000000)
    print("I tried.")
except:
    print("I failed.")
</code></pre>
<p>However, I do not want to use requests, due to some conflicts in my code later. Any ideas on how to include timeout with urllib?</p>
</div>
<div class="post-text" itemprop="text">
<p>in the <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.Request" rel="noreferrer">urllib.request.Request</a> no initial parameters such as <code>timeout</code> but it in the <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.urlopen" rel="noreferrer">urllib.request.urlopen</a>, so you need:</p>
<pre><code>import urllib.request
url = 'stackoverflow.com'

try:
    req = urllib.request.Request("http://" + url)
    req = urllib.request.urlopen(req, timeout=1000000000)
    #                                 ^^^^^^^
    print("I tried.")
except:
    print("I failed.")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you look at the documentation of the Request function (<a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.Request" rel="nofollow noreferrer">https://docs.python.org/3/library/urllib.request.html#urllib.request.Request</a>) you will see that there is no timeout argument. So your function simply throws since you pass an unrecognized keyworded argument. One way to see what happens is to actually catch and print the exception like this:</p>
<pre><code>import urllib.request
url = 'stackoverflow.com'

try:
    req = urllib.request.Request("http://" + url,timeout=1000)
    req = urllib.request.urlopen(req)
    print("I tried.")
except Exception as exc:
    print(exc)
</code></pre>
<p>which prints:</p>
<p><strong>init</strong>() got an unexpected keyword argument 'timeout'</p>
</div>
<span class="comment-copy">The timeout is in seconds, so <code>timeout = 1000000000</code> is about 32 years!</span>
