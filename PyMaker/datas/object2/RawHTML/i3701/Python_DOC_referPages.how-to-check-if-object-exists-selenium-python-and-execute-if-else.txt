<div class="post-text" itemprop="text">
<p>I'm trying to create script in order to automate order entry. I'm struggling with client search results. I wrote following if statement:</p>
<pre><code># checks if there are any search results
if browser.find_element_by_css_selector("a[class='nclk']"):

    # creates variable with all search results
    searchCount = browser.find_elements_by_xpath("//a[@class='nclk']") 

    # counts search results
    searchCountCheck = len(searchCount) 
    ...
</code></pre>
<p>It looks for <code>"a[class='nclk']"</code>, because if there are any search results, this object exists. The problem is that when there are none, it stops the script with an error message <code>...unable to locate element...</code> - it doesn't go to else statement and I have no idea how to sort it. </p>
<p>I know that it could be done by <code>try:</code> but the problem is that there are many statements nested inside those two so it would end up as a huge mess. </p>
<p>I think that the best way to deal with this issue would be to create a try statement that checks if such object exists and it creates variable (which value depends on existence of the object)- but i don't know how to write it and how to pass the variable to following if-else statements.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use this:</p>
<pre><code># if result is 0, then there is no element matching.
driver.find_elements_by_css_selector('#element')  
</code></pre>
<p>in this case you don't have to add <code>try</code>, because if there is no element, the list will have a length 0 and don't throw any error. In your case it would be something like this:</p>
<pre><code>if (browser.find_elements_by_css_selector("a[class='nclk']")):
  searchCount = browser.find_elements_by_xpath("//a[@class='nclk']")
  searchCountCheck = len(searchCount)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<h2>EDIT :</h2>
<p>I forgot that <code>find_elements_by_xpath()</code> returns an empty or non-empty list, but this solution would be good for the various <code>find_element_by_*</code> functions.</p>
<hr/>
<p>What you could do is use a <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">try-except-else</a> statement. For instance,</p>
<pre><code>try:
    searchCount = browser.find_element_by_xpath("//a[class='nclk']")
    searchCountCheck = len(searchCount)
except NoSuchElementException: 
    print("No element found. Breaking...")
except: 
    print("Generic error message.")
else:
    # Do stuff with searchCount / searchCountCheck / etc.
</code></pre>
<p>The <code>else</code> portion is only entered if no errors are thrown in the <code>try</code> portion.</p>
</div>
<div class="post-text" itemprop="text">
<p>you can set searchCountCheck to 0 after exception.</p>
<pre><code>try:
    browser.find_element_by_css_selector("a[class='nclk']")
    searchCount = browser.find_elements_by_xpath("//a[@class='nclk']")
    searchCountCheck = len(searchCount)
    flag = 1
except NoSuchElementException:
    searchCountCheck = 0
    flag = 0
</code></pre>
<blockquote>
<p>find_element_by_css_selector(css_selector) Finds an element by css
  selector.</p>
<p>Args:  css_selector - CSS selector string, ex: ‘a.nav#home’ Returns:<br/>
  WebElement - the element if it was found Raises:<br/>
  NoSuchElementException - if the element wasn’t found Usage:    element =
  driver.find_element_by_css_selector(‘#foo’)</p>
</blockquote>
</div>
<span class="comment-copy">Have a look <a href="http://seleniumwebdrivertrainings.com/how-to-check-if-an-element-exist-with-webdriver/" rel="nofollow noreferrer">here</a></span>
<span class="comment-copy">if i use just 'browser.find_element_by_css_selector("a[class='nclk']")' then it just gives me error message and stops executing script even though it should go to else statement and do all things defined there- instead- it just stops.</span>
<span class="comment-copy">Yes, but I suggest you to use <code>find_elements_by</code> not <code>find_element_by</code></span>
<span class="comment-copy">Cheers mate! One 's' changes everything :). Once again thank you!</span>
<span class="comment-copy"><code>find_elements_by</code> gives a list out, and if the list is empty <code>if</code> statement will return <code>false</code></span>
<span class="comment-copy">Clicked by accident, sorryand once again big thx!</span>
<span class="comment-copy">Is there a way to use 'try:' method to create variable and assign to it value depending on existence of this element? So say if element exists var check gets 1, if not it gets 0 and then I pass this var (and its assigned value) to if- else statement?</span>
<span class="comment-copy">@ugabuga77 update. flag var should do the work</span>
