<div class="post-text" itemprop="text">
<p>Looking to take data I have extracted with beautifulsoup to .csv file</p>
<p>this the code to extract:</p>
<pre><code>from requests import get

url = 'https://howlongtobeat.com/game.php?id=38050'

    response = get(url)

    from bs4 import BeautifulSoup

    html_soup = BeautifulSoup(response.text, 'html.parser')

    game_name = html_soup.select('div.profile_header')[0].text
    game_length = html_soup.select('div.game_times li div')[-1].text
    game_developer = html_soup.find_all('strong', string='\nDeveloper:\n')[0].next_sibling
    game_publisher = html_soup.find_all('strong', string='\nPublisher:\n')[0].next_sibling
    game_console = html_soup.find_all('strong', string='\nPlayable On:\n')[0].next_sibling
    game_genres = html_soup.find_all('strong', string='\nGenres:\n')[0].next_sibling
</code></pre>
<p>I would like to write the results of these to csv (it's pulling the info I want but I think it needs to be cleaned up)</p>
<p>not sure how to write to csv or to clean up data</p>
<p>please help</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the Python's csv module: <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">https://docs.python.org/3/library/csv.html</a> or <a href="https://docs.python.org/2.7/library/csv.html" rel="nofollow noreferrer">https://docs.python.org/2.7/library/csv.html</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>For writing this data to a CSV File,</p>
<pre><code>game_info = [game_name, game_publisher, game_console, game_genre, game_length, game_developer]
with open("game.csv", 'w') as outfile:
    csv.register_dialect('custom', delimiter='\n', quoting=csv.QUOTE_NONE, escapechar='\\')
    writer = csv.writer(outfile,'custom')
    row = game_info
    writer.writerow(row)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>csv.writer</code>:</p>
<pre><code>import csv, re
from bs4 import BeautifulSoup as soup
import requests
flag = False
with open('filename.csv', 'w') as f:
  write = csv.writer(f)
  for i in range(1, 30871):
    s = soup(requests.get(f'https://howlongtobeat.com/game.php?id={i}').text, 'html.parser')
    if not flag: #write header to file once
      write.writerow(['Name', 'Length']+[re.sub('[:\n]+', '', i.find('strong').text) for i in s.find_all('div', {'class':'profile_info'})])
      flag = True
    name = s.find('div', {"class":'profile_header shadow_text'}).text
    length = [[i.find('h5').text, i.find("div").text] for i in s.find_all('li', {'class':'time_100'})]
    stats = [re.sub('\n+[\w\s]+:\n+', '', i.text) for i in s.find_all('div', {'class':'profile_info'})]
    write.writerows([[name, length[0][-1]]+stats[:4]])
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/37289951/python-write-to-csv-line-by-line">Python write to CSV line by line</a></span>
<span class="comment-copy">I'm getting an error when running this "File "hltb.py", line 18, in &lt;module&gt;     game_info = [name, publisher, console, genre, length, developer] NameError: name 'name' is not defined"  can you help?</span>
<span class="comment-copy">name is actually <code>game_name</code> according to your code</span>
<span class="comment-copy">edited my answer, check @littlejiver</span>
<span class="comment-copy">thanks guys (sorry I'm new at this) now its giving me "NameError: name 'csv_filename' is not defined" do I have to make a csv file with that name (i know I can change the name)</span>
<span class="comment-copy">see the edit @littlejiver</span>
<span class="comment-copy">that works but I'm missing game name? not sure where i would put that in</span>
<span class="comment-copy">@littlejiver Please see my recent edit.</span>
<span class="comment-copy">perfect!!!! I'm try to understand how it work lol but defintly got the job done would you happen to know how to write this data for all the urls for the site <a href="https://howlongtobeat.com/game.php?id=" rel="nofollow noreferrer">howlongtobeat.com/game.php?id=</a> (from 0 to 30870)</span>
<span class="comment-copy">@littlejiver Please see my recent edit.</span>
<span class="comment-copy">thanks again but once more my newbie brain can't solve the problem I'm getting this error "File "hltb2.py", line 12, in &lt;module&gt;     name = s.find('div', {"class":'profile_header shadow_text'}).text AttributeError: 'NoneType' object has no attribute 'text' do you know why? oh and the range is from 1 to 30870 and does that make a difference?</span>
