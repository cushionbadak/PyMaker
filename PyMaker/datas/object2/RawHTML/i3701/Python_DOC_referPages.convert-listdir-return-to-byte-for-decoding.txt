<div class="post-text" itemprop="text">
<p>I have a list of dir with name encoded in 'gbk', for example:</p>
<pre><code>dirs
  |- b'\xb6\xb0'/
  |- b'\xc1\xb1'/
  |- b'\xc9\xdd'/
</code></pre>
<p>However, when I use <code>os.listdir()</code> is return a list of str, like below:</p>
<pre><code>["b'\\xb6\\xb0'", "b'\\xc1\\xb1'", "b'\\xc9\\xdd'"]
</code></pre>
<p>How can I cast the string to byte and decode it to get the original characters? I tried <code>str.encode.decode</code> but still not working.</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You've used the <a href="https://stackoverflow.com/questions/7784148/understanding-repr-function-in-python">string representation of <code>bytes</code> objects</a> as the name of your directories, instead of creating directories using the encoded byte string as the name. To undo the plunder you could in this particular case use <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer"><code>ast.literal_eval()</code></a> to evaluate the string representation and then decode the resulting <code>bytes</code> object:</p>
<pre><code>import os
import ast

dirs = [ast.literal_eval(d).decode('gbk') for d in os.listdir(...)]
</code></pre>
<p>Please note that <code>ast.literal_eval()</code> is used here only to recover the directory names and you should recreate them properly; in other words they should not have been created this way to begin with.</p>
</div>
<span class="comment-copy">Are your directories actually named like <code>b'\xb6\xb0'</code>? As in if you check the directory in a console or such, you see the same listing.</span>
<span class="comment-copy">It's something like <code>b'\xc1\xf2'/</code> in the terminal</span>
