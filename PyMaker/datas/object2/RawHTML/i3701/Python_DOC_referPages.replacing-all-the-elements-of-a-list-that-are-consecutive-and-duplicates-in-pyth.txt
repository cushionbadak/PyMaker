<div class="post-text" itemprop="text">
<p>Say I have a list with some numbers that are duplicates.</p>
<pre><code>list = [1,1,1,1,2,3,4,4,1,2,5,6]
</code></pre>
<p>I want to identify all the elements in the list that are repeating and consecutive, including the first element, i.e. replacing all elements in the list to values in a dictionary:</p>
<pre><code>mydict = {1: 'a', 4: 'd'}    
list = ['a','a','a','a',2,3,'d','d',1,2,5,6]
</code></pre>
<p>Because I want to replace the first instance of the repetition as well, I am quite confused as to how to proceed!</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer">itertools.groupby</a> is your friend:</p>
<pre><code>from itertools import groupby

mydict = {1: 'a', 4: 'd'}
A = [1,1,1,1,2,3,4,4,1,2,5,6]

res = []
for k, g in groupby(A):
  size = len(list(g))
  if size &gt; 1:
    res.extend([mydict[k]] * size)  # see note 1
  else:
    res.append(k)
print(res)  # -&gt; ['a', 'a', 'a', 'a', 2, 3, 'd', 'd', 1, 2, 5, 6]
</code></pre>
<hr/>
<p>Notes:</p>
<ol>
<li>If you want to catch possible <code>KeyError</code>s and have a default value you want to <em>fall back on</em>, use <code>mydict.get(k, &lt;default&gt;)</code> instead of <code>mydict[k]</code></li>
</ol>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer">itertools.groupby</a> can help you with this task.</span>
<span class="comment-copy">Side note: <b>never</b> name variables after built-ins, e.g. use <code>lst</code> or <code>list_</code> instead of <code>list</code>.</span>
<span class="comment-copy">thank you very much! solved it :)</span>
