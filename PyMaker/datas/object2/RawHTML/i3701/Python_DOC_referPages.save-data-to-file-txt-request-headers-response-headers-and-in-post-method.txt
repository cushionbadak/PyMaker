<div class="post-text" itemprop="text">
<pre><code>pathlib import Path

def saveJSONget(site, code):
    r = requests.get(site)
    json_str = r.text
    if r.status_code != code:
        Path("PATH").write_text(r.text+"\n")
</code></pre>
<p>I'm trying to save json to file .txt. Do I need to save information about <strong>Request Headers</strong>, <strong>Response Headers</strong> and in POST method - Request payload? </p>
<p>Which function used to save this information?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">pathlib</a> is just to handle with OS paths. You should use <a href="https://docs.python.org/3/library/functions.html?highlight=open#open" rel="nofollow noreferrer">open</a> method to save data in file.</p>
<pre><code>if r.status_code != code:
    with open('path/to/file/filename.txt', 'w') as fp;
        fp.write(r.text)
</code></pre>
<p>The info about requests can be found at <strong>request object</strong>.</p>
<pre><code>&gt;&gt;&gt; r = requests.get('http://127.0.0.1:8000')

&gt;&gt;&gt; r.status_code
200

&gt;&gt;&gt; r.headers
{'Date': 'Fri, 08 Jun 2018 21:14:03 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Vary': 'Cookie', 'Set-Cookie': 'csrftoken=pByJEeBKWtPMrZdpSxzAMpvGod6aqmIf; expires=Fri, 07-Jun-2019 21:14:03 GMT; Max-Age=31449600; Path=/', 'Server': 'WSGIServer/0.1 Python/2.7.12'}

&gt;&gt;&gt; r.request.headers
{'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.18.4'}

&gt;&gt;&gt; r.request.method
'GET'
</code></pre>
<p>For more info, take a look at <a href="http://docs.python-requests.org/en/master/user/advanced/?highlight=headers#request-and-response-objects" rel="nofollow noreferrer">requests</a> official doc. </p>
</div>
<span class="comment-copy">Ok, but Which function used to save this information? I need to save information about Request Headers, Response Headers and in POST method - Request payload?</span>
<span class="comment-copy">I complemented answer.</span>
