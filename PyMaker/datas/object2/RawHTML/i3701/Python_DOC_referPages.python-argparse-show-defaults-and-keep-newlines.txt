<div class="post-text" itemprop="text">
<p>I want to keep newlines in help text and show defaults of arguments.</p>
<p>I found two answers at Stackoverflow:</p>
<ul>
<li>argparse.RawTextHelpFormatter <a href="https://stackoverflow.com/a/3853776">https://stackoverflow.com/a/3853776</a></li>
<li>argparse.ArgumentDefaultsHelpFormatter <a href="https://stackoverflow.com/a/12151325">https://stackoverflow.com/a/12151325</a></li>
</ul>
<p>How can I enable both features?</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>class SaneFormatter(argparse.RawTextHelpFormatter, 
                    argparse.ArgumentDefaultsHelpFormatter):
    pass
</code></pre>
<p>Usage:</p>
<pre><code>    parser = argparse.ArgumentParser(description='''Multi
line
help
text
''', formatter_class=SaneFormatter)
</code></pre>
</div>
<span class="comment-copy">Don't forget that you can include ` %(default)s` in your own <code>help</code> lines - along with what ever extra formatting you want.  See <a href="https://docs.python.org/3/library/argparse.html#help" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#help</a></span>
