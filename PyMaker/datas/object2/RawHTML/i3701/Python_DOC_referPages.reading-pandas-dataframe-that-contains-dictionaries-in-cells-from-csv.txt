<div class="post-text" itemprop="text">
<p>I saved a pandas dataframe that looks like the following as a csv file.</p>
<pre><code>    a
0 {'word': 5.7}
1 {'khfds': 8.34}
</code></pre>
<p>When I attempt to read the dataframe as shown below, I receive the following error.</p>
<pre><code>df = pd.read_csv('foo.csv', index_col=0, dtype={'str': 'dict'})

TypeError: data type "dict" not understood
</code></pre>
<p>The heart of my question is how do I read the csv file to recover the dataframe in the same form as when it was created.  I also have tried reading <strong>without</strong> the <strong>dtype={}</strong> as well as <strong>replacing</strong> <strong>'dict'</strong> with alternatives such as 'dictionary', 'object', and 'str'.</p>
</div>
<div class="post-text" itemprop="text">
<p>CSV files may only contain text, so dictionaries are out of scope. Therefore, you need to read the text literally to convert to <code>dict</code>. One way is using <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer"><code>ast.literal_eval</code></a>:</p>
<pre><code>import pandas as pd
from ast import literal_eval
from io import StringIO

mystr = StringIO("""a
{'word': 5.7}
{'khfds': 8.34}""")

df = pd.read_csv(mystr)

df['a'] = df['a'].apply(literal_eval)

print(df['a'].apply(lambda x: type(x)))

0    &lt;class 'dict'&gt;
1    &lt;class 'dict'&gt;
Name: a, dtype: object
</code></pre>
<p>However, I strongly recommend you do <strong>not</strong> use Pandas specifically to store pointers to dictionaries. Pandas works best with contiguous memory blocks, e.g. separate numeric data into numeric series.</p>
</div>
<div class="post-text" itemprop="text">
<p>You may also use the plain and simple python eval as follows:</p>
<pre><code>import pandas as pd
from io import StringIO

mystr = StringIO("""a
{'word': 5.7}
{'khfds': 8.34}""")

df = pd.read_csv(mystr)

df['a'] = df['a'].apply(eval)

print(df['a'].apply(lambda x: type(x)))

0    &lt;class 'dict'&gt;
1    &lt;class 'dict'&gt;
Name: a, dtype: object
</code></pre>
</div>
<span class="comment-copy">yes, same error</span>
<span class="comment-copy">What would you suggest for storing dictionaries?</span>
<span class="comment-copy">My suggestion is to reformat. Have one column for your string keys, another column for your numeric values. There are many questions on SO on this, but your'e welcome to ask a fresh question for this if you get stuck.</span>
