<div class="post-text" itemprop="text">
<p>I have the phrase: <code>I have 10 bla, 50 blo, 10 blu</code></p>
<p>I want make a dict like this, using <strong>regex</strong>:</p>
<pre><code>dictionary = {
    "bla": 10,
    "blo": 50,
    "blu": 10
}
</code></pre>
<p>and if I receive the phrase: <code>I have 50 blo, 5 blu</code>, I make the dict, but without key <code>bla</code>. Like this:</p>
<pre><code>dictionary = {
    "blo": 50,
    "blu": 5
}
</code></pre>
<h1>Edit</h1>
<ul>
<li>Different formats like: <code>I want 50 haha, 20 xxx, 17 y</code>, <code>I got 10 xxx, 17 hahaha, 3 xxx</code>.</li>
<li>Need accept decimal numbers: <code>30.5</code>, <code>10,5</code></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Assuming that there are no deviations from the format of your input string, a dictionary comprehension and <a href="https://docs.python.org/3/library/re.html#re.findall" rel="nofollow noreferrer"><code>re.findall()</code></a> should work:</p>
<pre><code>d = {k: float(v) for (v,k) in re.findall(r"(\d+) (\w+)", s)}
</code></pre>
<p>Example:</p>
<pre><code>import re

s = "I have 10 bla, 50 blo, 10 blu"
d = {k: float(v) for (v,k) in re.findall(r"(\d+) (\w+)", s)}
print(d)  # {'bla': 10.0, 'blo': 50.0, 'blu': 10.0}


s = "I have 50 blo, 5 blu"
d = {k: float(v) for (v,k) in re.findall(r"(\d+) (\w+)", s)}
print(d)  # {'blo': 50.0, 'blu': 5.0}
</code></pre>
</div>
<span class="comment-copy">Will the format always be "I have x somethings, y somethingelse"</span>
<span class="comment-copy">Depending on how rigid the structure of the sentence is, you may be better off using something like the Natural Language Toolkit (NLTK) <a href="https://www.nltk.org/" rel="nofollow noreferrer">nltk.org</a></span>
<span class="comment-copy">No. I receive other format like: <code>Hey, please, x something, y somethinelse...</code></span>
<span class="comment-copy">These two examples are not enough information to unambiguously describe the pattern. Is it always the same three things you have in the same order, except they're all optional? Or you have any number of things but they're always three-letter things starting with <code>bl</code>? Or just any number of comma-separated <code>NUMBER WORD</code> pairs after some prefix string without any digits? Orâ€¦? You need to either give us the rule, or give us sufficient examples to figure out the rule ourselves, or whatever anyone writes will be a wild guess, and likely to be wrong and useless.</span>
<span class="comment-copy">looks like some sort of restaurant game so you'll need a list of all intro phrases like "i want" "hey please". then you don't even need regex</span>
<span class="comment-copy">I need be preper to get decimal numbers too... But thats the answer!</span>
<span class="comment-copy">Changing <code>int</code> -&gt; <code>float</code> should suffice.  Note there's a corner case where if the user asks for "10 foo, 20 bar, 30 foo" (they ask for foo twice), the result will be <code>d["foo"] = 30</code>, not, say 40.  Keep that in mind if that's a possibility</span>
<span class="comment-copy">works good, thanks!</span>
