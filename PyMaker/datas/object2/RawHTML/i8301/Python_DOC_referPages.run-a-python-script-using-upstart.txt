<div class="post-text" itemprop="text">
<p>I have a short script <code>test_upstart.py</code> and I want to run it as a service using upstart:</p>
<pre><code>import numpy as np
def my_function(a,b):
        return np.sqrt(a**2+b**2)

print my_function(1,2)
</code></pre>
<p>As mention in this question, I created a .conf</p>
<pre><code>start on started sshd
stop on runlevel [!2345]
exec /home/ubuntu/test_upstart.py
respawn
</code></pre>
<p>And I trigger the service as:</p>
<pre><code>sudo start my-service
</code></pre>
<p>I get:</p>
<pre><code>my-service start/running, process 22705
</code></pre>
<p>But I don't see the output printed, also I need to pass different values of a and b each time.</p>
</div>
<div class="post-text" itemprop="text">
<p>The approach you're taking is so heavy-handed and over-complicated.
Simply create an alias in your <code>~/.bashrc</code> for calling the script.</p>
<blockquote>
<p>also I need to pass different values of a and b each time</p>
</blockquote>
<p>You need to use the <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">argparse</a> library. I'm no expert with <code>argparse</code> but simply you could</p>
<pre><code>import argparse
import numpy as np

parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('-a', type=int, nargs=1)
parser.add_argument('-b', type=int, nargs=1)

args = parser.parse_args()
a = args.a[0]
b = args.b[0]

def my_function(a,b):
        return np.sqrt(a**2+b**2)

print my_function(a,b)
</code></pre>
<p>Then try <code>/home/ubuntu/test_upstart.py -a 2 -b 3</code> or with any other inputs.</p>
</div>
<span class="comment-copy">The problem  I have with this is that the actual libraries I'm using take several seconds to load I want to avoid that and loaded only once.</span>
