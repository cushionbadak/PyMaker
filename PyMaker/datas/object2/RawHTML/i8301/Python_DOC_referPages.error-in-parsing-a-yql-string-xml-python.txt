<div class="post-text" itemprop="text">
<p>I'm trying to scrape data from an API like this:</p>
<pre><code>import urllib2
a = urllib2.urlopen('http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%20in%20(%22USDEUR%22,%20%22USDJPY%22,%20%22USDBGN%22,%20%22USDCZK%22,%20%22USDDKK%22,%20%22USDGBP%22,%20%22USDHUF%22,%20%22USDLTL%22,%20%22USDLVL%22,%20%22USDPLN%22,%20%22USDRON%22,%20%22USDSEK%22,%20%22USDCHF%22,%20%22USDNOK%22,%20%22USDHRK%22,%20%22USDRUB%22,%20%22USDTRY%22,%20%22USDAUD%22,%20%22USDBRL%22,%20%22USDCAD%22,%20%22USDCNY%22,%20%22USDHKD%22,%20%22USDIDR%22,%20%22USDILS%22,%20%22USDINR%22,%20%22USDKRW%22,%20%22USDMXN%22,%20%22USDMYR%22,%20%22USDNZD%22,%20%22USDPHP%22,%20%22USDSGD%22,%20%22USDTHB%22,%20%22USDZAR%22,%20%22USDISK%22)&amp;env=store://datatables.org/alltableswithkeys')
b = a.read()
</code></pre>
<p>b is a string object of the xml:</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;query xmlns:yahoo="http://www.yahooapis.com/v1/base.rng" yahoo:count="34" yahoo:created="2017-04-21T19:46:11Z" yahoo:lang="en-US"&gt;&lt;results&gt;&lt;rate id="USDEUR"&gt;&lt;Name&gt;USD/EUR&lt;/Name&gt;&lt;Rate&gt;0.9347&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;7:13pm&lt;/Time&gt;&lt;Ask&gt;0.9352&lt;/Ask&gt;&lt;Bid&gt;0.9347&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDJPY"&gt;&lt;Name&gt;USD/JPY&lt;/Name&gt;&lt;Rate&gt;109.2200&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:58pm&lt;/Time&gt;&lt;Ask&gt;109.2260&lt;/Ask&gt;&lt;Bid&gt;109.2200&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDBGN"&gt;&lt;Name&gt;USD/BGN&lt;/Name&gt;&lt;Rate&gt;1.8282&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;3:15pm&lt;/Time&gt;&lt;Ask&gt;N/A&lt;/Ask&gt;&lt;Bid&gt;1.8282&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDCZK"&gt;&lt;Name&gt;USD/CZK&lt;/Name&gt;&lt;Rate&gt;25.1629&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;8:35pm&lt;/Time&gt;&lt;Ask&gt;25.1702&lt;/Ask&gt;&lt;Bid&gt;25.1629&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDDKK"&gt;&lt;Name&gt;USD/DKK&lt;/Name&gt;&lt;Rate&gt;6.9458&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:44pm&lt;/Time&gt;&lt;Ask&gt;6.9466&lt;/Ask&gt;&lt;Bid&gt;6.9458&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDGBP"&gt;&lt;Name&gt;USD/GBP&lt;/Name&gt;&lt;Rate&gt;0.7812&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:29pm&lt;/Time&gt;&lt;Ask&gt;0.7813&lt;/Ask&gt;&lt;Bid&gt;0.7812&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDHUF"&gt;&lt;Name&gt;USD/HUF&lt;/Name&gt;&lt;Rate&gt;292.4200&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;8:14pm&lt;/Time&gt;&lt;Ask&gt;292.6200&lt;/Ask&gt;&lt;Bid&gt;292.4200&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDLTL"&gt;&lt;Name&gt;USD/LTL&lt;/Name&gt;&lt;Rate&gt;3.0487&lt;/Rate&gt;&lt;Date&gt;6/22/2015&lt;/Date&gt;&lt;Time&gt;9:39am&lt;/Time&gt;&lt;Ask&gt;3.0491&lt;/Ask&gt;&lt;Bid&gt;3.0487&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDLVL"&gt;&lt;Name&gt;USD/LVL&lt;/Name&gt;&lt;Rate&gt;0.6205&lt;/Rate&gt;&lt;Date&gt;6/22/2015&lt;/Date&gt;&lt;Time&gt;9:37am&lt;/Time&gt;&lt;Ask&gt;0.6206&lt;/Ask&gt;&lt;Bid&gt;0.6205&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDPLN"&gt;&lt;Name&gt;USD/PLN&lt;/Name&gt;&lt;Rate&gt;3.9907&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:53pm&lt;/Time&gt;&lt;Ask&gt;3.9916&lt;/Ask&gt;&lt;Bid&gt;3.9907&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDRON"&gt;&lt;Name&gt;USD/RON&lt;/Name&gt;&lt;Rate&gt;4.2276&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:02pm&lt;/Time&gt;&lt;Ask&gt;4.2411&lt;/Ask&gt;&lt;Bid&gt;4.2276&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDSEK"&gt;&lt;Name&gt;USD/SEK&lt;/Name&gt;&lt;Rate&gt;9.0293&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;8:28pm&lt;/Time&gt;&lt;Ask&gt;9.0310&lt;/Ask&gt;&lt;Bid&gt;9.0293&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDCHF"&gt;&lt;Name&gt;USD/CHF&lt;/Name&gt;&lt;Rate&gt;0.9977&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:33pm&lt;/Time&gt;&lt;Ask&gt;0.9977&lt;/Ask&gt;&lt;Bid&gt;0.9977&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDNOK"&gt;&lt;Name&gt;USD/NOK&lt;/Name&gt;&lt;Rate&gt;8.6823&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;7:00pm&lt;/Time&gt;&lt;Ask&gt;8.6858&lt;/Ask&gt;&lt;Bid&gt;8.6823&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDHRK"&gt;&lt;Name&gt;USD/HRK&lt;/Name&gt;&lt;Rate&gt;6.9250&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:53pm&lt;/Time&gt;&lt;Ask&gt;6.9981&lt;/Ask&gt;&lt;Bid&gt;6.9250&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDRUB"&gt;&lt;Name&gt;USD/RUB&lt;/Name&gt;&lt;Rate&gt;56.5055&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:33pm&lt;/Time&gt;&lt;Ask&gt;56.5405&lt;/Ask&gt;&lt;Bid&gt;56.5055&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDTRY"&gt;&lt;Name&gt;USD/TRY&lt;/Name&gt;&lt;Rate&gt;3.6473&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:02pm&lt;/Time&gt;&lt;Ask&gt;3.6478&lt;/Ask&gt;&lt;Bid&gt;3.6473&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDAUD"&gt;&lt;Name&gt;USD/AUD&lt;/Name&gt;&lt;Rate&gt;1.3263&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;8:35pm&lt;/Time&gt;&lt;Ask&gt;1.3267&lt;/Ask&gt;&lt;Bid&gt;1.3263&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDBRL"&gt;&lt;Name&gt;USD/BRL&lt;/Name&gt;&lt;Rate&gt;3.1473&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;7:02pm&lt;/Time&gt;&lt;Ask&gt;3.1493&lt;/Ask&gt;&lt;Bid&gt;3.1473&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDCAD"&gt;&lt;Name&gt;USD/CAD&lt;/Name&gt;&lt;Rate&gt;1.3513&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:49pm&lt;/Time&gt;&lt;Ask&gt;1.3513&lt;/Ask&gt;&lt;Bid&gt;1.3513&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDCNY"&gt;&lt;Name&gt;USD/CNY&lt;/Name&gt;&lt;Rate&gt;6.8844&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:38pm&lt;/Time&gt;&lt;Ask&gt;6.8854&lt;/Ask&gt;&lt;Bid&gt;6.8844&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDHKD"&gt;&lt;Name&gt;USD/HKD&lt;/Name&gt;&lt;Rate&gt;7.7746&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:01pm&lt;/Time&gt;&lt;Ask&gt;7.7754&lt;/Ask&gt;&lt;Bid&gt;7.7746&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDIDR"&gt;&lt;Name&gt;USD/IDR&lt;/Name&gt;&lt;Rate&gt;13316.0000&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:38pm&lt;/Time&gt;&lt;Ask&gt;13326.0000&lt;/Ask&gt;&lt;Bid&gt;13316.0000&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDILS"&gt;&lt;Name&gt;USD/ILS&lt;/Name&gt;&lt;Rate&gt;3.6723&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:52pm&lt;/Time&gt;&lt;Ask&gt;3.6823&lt;/Ask&gt;&lt;Bid&gt;3.6723&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDINR"&gt;&lt;Name&gt;USD/INR&lt;/Name&gt;&lt;Rate&gt;64.6490&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:26pm&lt;/Time&gt;&lt;Ask&gt;64.6990&lt;/Ask&gt;&lt;Bid&gt;64.6490&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDKRW"&gt;&lt;Name&gt;USD/KRW&lt;/Name&gt;&lt;Rate&gt;1133.3700&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:50pm&lt;/Time&gt;&lt;Ask&gt;1134.3700&lt;/Ask&gt;&lt;Bid&gt;1133.3700&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDMXN"&gt;&lt;Name&gt;USD/MXN&lt;/Name&gt;&lt;Rate&gt;18.8424&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:16pm&lt;/Time&gt;&lt;Ask&gt;18.8443&lt;/Ask&gt;&lt;Bid&gt;18.8424&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDMYR"&gt;&lt;Name&gt;USD/MYR&lt;/Name&gt;&lt;Rate&gt;4.3980&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:38pm&lt;/Time&gt;&lt;Ask&gt;4.4030&lt;/Ask&gt;&lt;Bid&gt;4.3980&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDNZD"&gt;&lt;Name&gt;USD/NZD&lt;/Name&gt;&lt;Rate&gt;1.4226&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:50pm&lt;/Time&gt;&lt;Ask&gt;1.4236&lt;/Ask&gt;&lt;Bid&gt;1.4226&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDPHP"&gt;&lt;Name&gt;USD/PHP&lt;/Name&gt;&lt;Rate&gt;49.8400&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:13pm&lt;/Time&gt;&lt;Ask&gt;49.8900&lt;/Ask&gt;&lt;Bid&gt;49.8400&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDSGD"&gt;&lt;Name&gt;USD/SGD&lt;/Name&gt;&lt;Rate&gt;1.3966&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;8:28pm&lt;/Time&gt;&lt;Ask&gt;1.3969&lt;/Ask&gt;&lt;Bid&gt;1.3966&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDTHB"&gt;&lt;Name&gt;USD/THB&lt;/Name&gt;&lt;Rate&gt;34.3500&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:49pm&lt;/Time&gt;&lt;Ask&gt;34.4000&lt;/Ask&gt;&lt;Bid&gt;34.3500&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDZAR"&gt;&lt;Name&gt;USD/ZAR&lt;/Name&gt;&lt;Rate&gt;13.1525&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;6:50pm&lt;/Time&gt;&lt;Ask&gt;13.1620&lt;/Ask&gt;&lt;Bid&gt;13.1525&lt;/Bid&gt;&lt;/rate&gt;&lt;rate id="USDISK"&gt;&lt;Name&gt;USD/ISK&lt;/Name&gt;&lt;Rate&gt;109.4900&lt;/Rate&gt;&lt;Date&gt;4/21/2017&lt;/Date&gt;&lt;Time&gt;5:32pm&lt;/Time&gt;&lt;Ask&gt;109.9900&lt;/Ask&gt;&lt;Bid&gt;109.4900&lt;/Bid&gt;&lt;/rate&gt;&lt;/results&gt;&lt;/query&gt;&lt;!-- total: 1083 --&gt;
&lt;!-- prod_bf1_1;paas.yql;queryyahooapiscomproductionbf1;885cf297-259f-11e7-b972-d4ae52974741 --&gt;
</code></pre>
<p>However, when I'm using xml the xml etree module to parse this string as an xml object, I'm getting errors like the object is not indexable and the object is not iterable. What exactly is the output of this code?</p>
<pre><code>import xml.etree.ElementTree as ET
d = ET.ElementTree(ET.fromstring(b))
</code></pre>
<p>EDIT: The errors are coming up when I'm trying to iterate through the children of d like so:</p>
<pre><code>for child in d:
    print child.tag
</code></pre>
<p>The error here is "TypeError: 'ElementTree' object is not iterable"</p>
<p>How can I access the children in this string xml to get specific values from it?</p>
</div>
<div class="post-text" itemprop="text">
<p>you are overdoing things when you try to convert the string to an elementtree element:</p>
<pre><code>import xml.etree.ElementTree as ET

b = '''&lt;?xml version="1.0" encoding="UTF-8"?&gt;...'''

element = ET.fromstring(b)  # that does it!
print(element.attrib)
</code></pre>
<p>now you can access <code>element</code> as you would any instance of <code>xml.etree.ElementTree.Element</code>.</p>
<p>you could do this for example to iterate over all children:</p>
<pre><code>for child in tree.iter():
    print(child, child.tag, child.text, child.attrib)
</code></pre>
</div>
<span class="comment-copy">Are you getting these errors from the actual parsing step or later when you actually try to use <code>d</code>?  If the latter, how are you trying to use <code>d</code>?</span>
<span class="comment-copy">whoops, should have mentioned that. It is when I'm trying to loop through d. Editing the question so that this is clear.</span>
<span class="comment-copy">Right, I had tried this before. when I try to print d, I get this: &lt;Element 'query' at 0x3385850&gt;  How do I access the object to get the data?</span>
<span class="comment-copy">@user241691 added how you can access tag, content (text) and attributes. the full documentation is here: <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#module-xml.etree.ElementTree" rel="nofollow noreferrer">docs.python.org/3/library/…</a></span>
<span class="comment-copy">Exactly what I wanted. Accepting answer.</span>
