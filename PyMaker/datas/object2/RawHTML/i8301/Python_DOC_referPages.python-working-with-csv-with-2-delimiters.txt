<div class="post-text" itemprop="text">
<p>I have a programs which outputs the data into a CSV file. These files contain 2 delimiters, these are , and "" for text. The text also contains commas.</p>
<p>How can I work with these 2 delimiters?</p>
<p>My current code gives me list index out of range. If the CSV file is needed I can provide it.</p>
<p>Current code:</p>
<pre><code>def readcsv():
with open('pythontest.csv') as csvfile:
    dialect = csv.Sniffer().sniff(csvfile.read(1024),delimiters=',"')
    csvfile.seek(0)
    reader = csv.reader(csvfile,dialect)
    for row in reader:
        asset_ip_addresses.append(row[0])
        service_protocollen.append(row[1])
        service_porten.append(row[2])
        vurn_cvssen.append(row[3])
        vurn_risk_scores.append(row[4])
        vurn_descriptions.append(row[5])
        vurn_cve_urls.append(row[6])
        vurn_solutions.append(row[7])
</code></pre>
<p>The CSV File im working with: <a href="http://www.pastebin.com/bUbDC419" rel="nofollow noreferrer">http://www.pastebin.com/bUbDC419</a></p>
<p>It seems to have problems with handling the second line. If i append the rows to a list the first row seems to be ok but the second row seems to take it as whole thing and not seperating the commas anymore. 
I guess it has something to do with the "enters"</p>
</div>
<div class="post-text" itemprop="text">
<p>I don't think you should need to define a custom dialect, unless I'm missing something.</p>
<p>The <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">official documentation</a> shows you can provide <code>quotechar</code> as a keyword to the <code>reader()</code> method. The example from the documentation modified for your code:</p>
<pre><code>import csv
with open('pythontest.csv') as csvfile:
    reader = csv.reader(csvfile, delimiter=',', quotechar='"')
    for row in reader:
        #do something to the row
</code></pre>
<p><code>row</code> is a list of strings for each item in the row with <code>"</code> quotes removed.</p>
<p>The issue with the index out of range suggests that one of the <code>row[x]</code> cannot be accessed.</p>
</div>
<div class="post-text" itemprop="text">
<p>OK, I think I understand what kind of file you are reading... let's say the content of your CSV file looks like this</p>
<pre><code>192.168.12.255,"Great site, a lot of good, recommended",0,"Last, first, middle"
192.168.0.255,"About cats, dogs, must visit!",1,"One, two, three"
</code></pre>
<p>Here is the code that will allow you to read it line by line, text in quotes will be taken out as single array element, but it will not split it. The parameter that you need is this <strong>quoting=csv.QUOTE_ALL</strong></p>
<pre><code>import csv

with open('students.csv', newline='') as f:
    reader = csv.reader(f, delimiter=',', quoting=csv.QUOTE_ALL)
    for row in reader:
        print(row[0]) 
        print(row[1])      
        print(row[2])  
        print(row[3])     
</code></pre>
<p>The printed output will look like this</p>
<pre><code>192.168.12.255                                                                                                       
Great site, a lot of good, recommended                                                                               
0                                                                                                                    
Last, first, middle                                                                                                  
192.168.0.255                                                                                                        
About cats, dogs, must visit!                                                                                        
1                                                                                                                    
One, two, three  
</code></pre>
<p>PS solution is based on the latest official documentation, see here <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">https://docs.python.org/3/library/csv.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>how about a quick solution like this 
a quick fix, that would split a row in csv like a,"b,c",d as strings a,b,c,d</p>
<pre><code>def readcsv():
with open('pythontest.csv') as csvfile:
    dialect = csv.Sniffer().sniff(csvfile.read(1024),delimiters=',"')
    csvfile.seek(0)
    reader = csv.reader(csvfile,dialect)
    for rowx in reader:
       row=[e.split(r',') if isinstance(e,str) else e for e in rowx]
       #do your stuff on row
</code></pre>
</div>
<span class="comment-copy">please, add few lines of CSV file that you are reading</span>
<span class="comment-copy"><a href="https://pastebin.com/bUbDC419" rel="nofollow noreferrer">pastebin.com/bUbDC419</a></span>
<span class="comment-copy">I have used a different smaller CSV file to show the result better. the following screenshot is with your code <a href="https://i.imgur.com/Fi13URw.png" rel="nofollow noreferrer">i.imgur.com/Fi13URw.png</a></span>
<span class="comment-copy">I have a feeling the issue is with your csv file. I see you are on Windows, please right click the file and choose edit, then show the contents of the file.  When opening a csv file with a spreadsheet program, it should put the data into it's own columns: <a href="http://i.imgur.com/yTH5MFz.png" rel="nofollow noreferrer">i.imgur.com/yTH5MFz.png</a>. However from your screenshot they are all in the same column.</span>
<span class="comment-copy">If I open the CSV file with libreoffice everything shows correctly just as your screenshot. If i open the csv file with notepad++ (<a href="https://i.imgur.com/h8XeBof.png" rel="nofollow noreferrer">i.imgur.com/h8XeBof.png</a>) there are multiple quotes which are not show when opend with excel, is there a way to work around this?</span>
<span class="comment-copy">it does exactly looke this. I dont know if you have tried it for yourself but the output is not like that</span>
<span class="comment-copy">I tested in Python3, my version is <b>Python 3.5.2</b>, try this in terminal to test it <b>$ python3 readcsv.py</b></span>
<span class="comment-copy">i've made a different csv file with the same result <a href="https://i.imgur.com/Vacwntp.png" rel="nofollow noreferrer">i.imgur.com/Vacwntp.png</a></span>
