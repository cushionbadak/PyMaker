<div class="post-text" itemprop="text">
<p>Using python3 how can get the total usable addresses from the following format which is the stdout from an os.system() call:</p>
<pre><code>------------------------------------------------
           TCP/IP NETWORK INFORMATION
------------------------------------------------
IP Entered = ..................: 215.1.7.0
CIDR = ........................: /24
Netmask = .....................: 255.255.255.0
Netmask (hex) = ...............: 0xffffff00
Wildcard Bits = ...............: 0.0.0.255
------------------------------------------------
Network Address = .............: 215.1.7.0
Broadcast Address = ...........: 215.1.7.255
Usable IP Addresses = .........: 254
First Usable IP Address = .....: 215.1.7.1
Last Usable IP Address = ......: 215.1.7.254
</code></pre>
<p>Any suggestions would be greatly appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Assuming that <code>output_lines</code> is a list of lines from the <code>os.system()</code> call:</p>
<pre><code>def find_usable_addresses(output_lines):
  for line in output_lines:
    if line.startswith('Usable IP Addresses'):
      value = line.split(': ')[1] # split to ('Usable...', '254') 
      return int(value)
</code></pre>
<p>This function will return <code>None</code> if the value is not found.</p>
</div>
<span class="comment-copy">Please clarify what you are trying to do. Do you need to extract the number 254 from the line "Usable IP Addresses = .........: 254" in your example?</span>
<span class="comment-copy">Yes, to extract the total usable addresses (254, 65534, etc.) and if there is a comma to strip it out so math can be done on the numbers extracted.</span>
<span class="comment-copy">The problem is that <code>os.system()</code> does not return you the output stream of the command it runs. Try using <a href="https://docs.python.org/3/library/os.html#os.popen" rel="nofollow noreferrer"><code>popen</code></a> instead: <code>output_lines = os.popen('that command').readlines()</code></span>
<span class="comment-copy">Sorry, I'm having difficulty formatting my comment to you and including the code.  It all ends up on a single word-wrapped line.  I appreciate your assistance and I will give os.popen() a go.</span>
<span class="comment-copy">OK, I made some progress but I get this error  <b>ValueError: invalid literal for int() with base 10: '65,534\n'</b>  Do I need to somehow lose the comma?</span>
<span class="comment-copy">Use <code>value.strip()</code> to remove the trailing newline.</span>
