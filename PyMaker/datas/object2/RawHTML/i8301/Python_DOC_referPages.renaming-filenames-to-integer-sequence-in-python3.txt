<div class="post-text" itemprop="text">
<p>I need to rename filenames in a folder containing many text files.
The renaming should follow the sequence of numbers for every file.
It should be like as follows:</p>
<pre><code>***given files***     ***renamed files***
abc.txt              1.txt
def.txt              2.txt
rsd.txt              3.txt
ijb.txt              4.txt
</code></pre>
<p>the above files are in a folder named <code>data</code></p>
<p>my code is like this </p>
<pre><code>import glob 
import os
file=sorted(glob.glob("/home/prasanth/Desktop/project/prgms/dt/details/*.txt"))
fp=[]
for b in file:
    fp.append(b)
i=1
for f in fp:
    n=f.replace('.html','')
    n=n.replace('.htm','')
    m=n.replace(n,str(i)+'.txt')
    i=i+1
    os.rename(f,m)
</code></pre>
<p>my problem is the files after renaming are moving into the folder where the python code is written.but i need the renamed files in the same folder in which they are present before </p>
</div>
<div class="post-text" itemprop="text">
<p>Great, so what have you tried?</p>
<p>As a starting point, have a look at the <a href="https://docs.python.org/3/library/os.html#module-os" rel="nofollow noreferrer"><code>os</code></a>-module, especially <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk()</code></a> and <a href="https://docs.python.org/3/library/os.html#os.rename" rel="nofollow noreferrer"><code>os.rename()</code></a>.</p>
<p>EDIT:</p>
<p>Your files are moved, because you replace the whole path with the number with <code>m=n.replace(n,str(i)+'.txt')</code>. This renames <code>subfolder\textfile.txt</code> to be renamed to <code>1.txt</code>, which moves the file to the current directory as a side effect.</p>
<p>Also I am not sure what you try to achieve with the htm(l)-replaces, since afterwards you replace everything with your number.</p>
<p>Additionally, you don't need to build a copy of the list of txt-files and afterwards iterate over it, you can do it directly on the original file list.</p>
<p>So this could probably work for you:</p>
<pre><code>import glob
import os

filelist=sorted(glob.glob("/home/prasanth/Desktop/project/prgms/dt/details/*.txt"))
i=1

for oldname in filelist:
    # ignore directories
    if os.path.isfile(oldname):
        # keep original path
        basepath=os.path.split(oldname)[0]
        newname=os.path.join(basepath, "{}.txt".format(str(i)))
        i=i+1
        print("Renaming {} to {}".format(oldname, newname))
        os.rename(oldname, newname)
</code></pre>
<p>Side note: the rename will fail when a file with the new file name already exists. You should probably handle that with <code>try ... except</code>.</p>
</div>
<span class="comment-copy">i had tried os.rename()  and every other code but not got exact solution</span>
<span class="comment-copy">So show what you have tried and the errors you encountered. Otherwise it is difficult to help you with your specific problem.</span>
<span class="comment-copy">Please add your code to your original question, so it is formatted nicely. On a first glance, your code "works" (as in: it is renaming text files) - please also add a description, what it should do and what it does instead. Maybe have another look at <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a>.</span>
<span class="comment-copy">This helps me to continue my code to further level..Thanks for the code</span>
