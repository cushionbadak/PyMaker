<div class="post-text" itemprop="text">
<p>Here is a demo what works for me and what doesn't:</p>
<pre><code>import os
path2   = 'D:\\'

# this works
for curdir, dirlist, flist in os.walk(path2):
    pass

# this fails
curdir, dirlist, flist = os.walk(path2)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The thing is that <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk()</code></a> returns a generator. So doing:</p>
<pre><code>curdir, dirlist, flist = os.walk(path2)
</code></pre>
<p>Might or might not work.</p>
<p>First let's consider this:</p>
<pre><code>for curdir, dirlist, flist in os.walk(path2):
    pass
</code></pre>
<p>This is essentially the same as assigning the generator returned by <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk()</code></a> to a name and continuously calling <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next()</code></a> on that until a <code>StopIteration</code> is raised.</p>
<pre><code>walk = os.walk(path2)

try:
    while True:
        dirpath, dirnames, filenames = next(walk)

        ... do something ...
except StopIteration:
    pass
</code></pre>
<p>Now if we go back to the other example:</p>
<pre><code>curdir, dirlist, flist = os.walk(path2)
</code></pre>
<p>Then the above is the same as doing:</p>
<pre><code>walk = os.walk(path2)
curdir = next(walk)
dirlist = next(walk)
flist = next(walk)
</code></pre>
<p>If the generator yields 3 or more values then that won't fail. If it however yields less than 3 values then it will fail, since there's less than 3 values to unpack.</p>
<p>So if the generator returned by <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk()</code></a> only yields a single value.</p>
<pre><code>curdir, dirlist, flist = os.walk(path2)
</code></pre>
<p>Then the above will result in the following error:</p>
<blockquote>
<p>ValueError: not enough values to unpack (expected 3, got 1)</p>
</blockquote>
<p>If it's because you only need the first value, then go ahead and directly call <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next()</code></a>. However be sure to catch any potential <code>StopIteration</code>.</p>
<pre><code>try:
    curdir, dirlist, flist = next(os.walk(path2))
except StopIteration:
    pass
</code></pre>
<p>Lastly. Unless it's because you're utilizing <code>dirlist</code> and <code>flist</code> as an easy way to get the directories and files at a given path. Then you might not need <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk</code></a> and can instead just use <a href="https://docs.python.org/3/library/os.html#os.listdir" rel="nofollow noreferrer"><code>os.listdir</code></a> or <a href="https://docs.python.org/3/library/os.html#os.scandir" rel="nofollow noreferrer"><code>os.scandir</code></a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>If I understand your question correctly what you want is not <code>os.walk</code> which outputs the list of files/directories in every subdirectory of <code>path2</code> but <a href="https://docs.python.org/3/library/os.html#os.scandir" rel="nofollow noreferrer"><code>os.scandir</code></a> which lists all entries inside <code>path2</code> itself.</p>
<p>Example from the docs linked above:</p>
<pre><code>with os.scandir(path) as it:
    for entry in it:
        if not entry.name.startswith('.') and entry.is_file():
            print(entry.name)
</code></pre>
</div>
<span class="comment-copy">and why do you believe the one that fails should work?</span>
<span class="comment-copy"><code>os.walk</code> yields zero or more 3-tuples. The assignment will fail with either too few values to unpack or too many values to unpack. Except in the case when it yields exactly 3 times. Even in that case the results won't be what you expect them to be.</span>
