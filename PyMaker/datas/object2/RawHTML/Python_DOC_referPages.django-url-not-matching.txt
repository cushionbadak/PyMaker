<div class="post-text" itemprop="text">
<p>I am doing a project and I have this problem with a specific url that doesn´t want to get matched with an url regex I made for it. Furthermore, it was working great until today.</p>
<p>Here is the html code with the button</p>
<pre><code>    &lt;button class="btn editar" onclick="location.href='{% url 'ver_caso' caso_id=caso.id %}';"&gt;Crear caso&lt;/button&gt;
</code></pre>
<p>And here all the urls I have in the urls.py file</p>
<pre><code>urlpatterns = [    

    # Uncomment the admin/doc line below to enable admin documentation:
    # url(r'^admin/doc/', include('django.contrib.admindocs.urls')),

    #Casos en curso
    url(r'^casos/en_curso/buscador_inteligente/editar_entidad/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;id_ent&gt;\d+)/(?P&lt;id_caso&gt;\d+)/$', views.editar_entidad, name='editar_entidad'),
    url(r'^casos/en_curso/buscador_inteligente/guardar_resultadoInteligente/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.guardar_resultadoInteligente, name='guardar_resultadoInteligente'),
    url(r'^casos/en_curso/buscador_guiado/guardar_resultadoGuiado/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.guardar_resultadoGuiado, name='guardar_resultadoGuiado'),
    url(r'^casos/en_curso/buscado_general/guardar_resultadoGeneral/(?P&lt;caso_id&gt;\d+)/(?P&lt;expresion&gt;.+)/$', views.guardar_resultadoGeneral, name='guardar_resultadoGeneral'),
    url(r'^casos/en_curso/buscador_inteligente/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.buscador_inteligente, name='buscador_inteligente'),
    url(r'^casos/en_curso/buscador_guiado/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.buscador_guiado, name='buscador_guiado'),
    url(r'casos/en_curso/compartir_casos/(?P&lt;caso_id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/$', views.compartir_casos, name='compartir_casos'),
    url(r'^casos/en_curso/administrar_casos/(?P&lt;tipo&gt;[A-z úé]+)/$', views.administrar_casos, name='administrar_casos'),
    url(r'^casos/en_curso/buscador_general/(?P&lt;caso_id&gt;\d+)/$', views.buscador_general, name='buscador_general'),
    url(r'^casos/en_curso/agregar_doc/(?P&lt;caso_id&gt;\d+)/$', views.agregar_doc, name='agregar_doc'),
    url(r'^casos/en_curso/nuevo_caso/$', views.nuevo_caso, name='nuevo_caso'),
    url(r'^casos/en_curso/ver_caso/(?P&lt;caso_id&gt;\d+)$', views.ver_caso, name='ver_caso'),
    url(r'^casos/en_curso/$', views.casos, name='casos'),

    #Resultados
    url(r'^resultados/eliminar_resultadoCaso/(?P&lt;caso_id&gt;\d+)/(?P&lt;resultado_id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/$', views.eliminar_resultadoCaso, name='eliminar_resultadoCaso'),
    url(r'^resultados/eliminar_resultado/(?P&lt;caso_id&gt;\d+)/(?P&lt;resultado_id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/$', views.eliminar_resultado, name='eliminar_resultado'),
    url(r'^resultados/crearInforme/(?P&lt;resultado_id&gt;\d+)/(?P&lt;tipo_informe&gt;[A-z úé]+)/$', views.crearInforme, name='crearInforme'),
    url(r'^resultados/ver_resultado/(?P&lt;resultado_id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/$', views.ver_resultado, name='ver_resultado'),
    url(r'^resultados/$', views.resultados, name='resultados'),

    #Casos finalizados
    url(r'^casos/documentos_caso/(?P&lt;caso_id&gt;\d+)/(?P&lt;destino&gt;FrontEnd/documentos_[a-z]+\.html)/$', views.documentos_caso, name='documentos_caso'),
    url(r'^casos/resultados_caso/(?P&lt;caso_id&gt;\d+)/(?P&lt;destino&gt;FrontEnd/resultados_[a-z]+\.html)/$', views.resultados_caso, name='resultados_caso'),
    url(r'^casos/informes_caso/(?P&lt;caso_id&gt;\d+)/(?P&lt;destino&gt;FrontEnd/informes_[a-z]+\.html)/$', views.informes_caso, name='informes_caso'),
    url(r'casos/finalizados/compartir_casosFinalizado/(?P&lt;caso_id&gt;\d+)/$', views.compartir_casoFinalizado, name='compartir_casoFinalizado'),
    url(r'^casos/finalizados/eliminar_finalizado/(?P&lt;caso_id&gt;\d+)/$', views.eliminar_finalizado, name='eliminar_finalizado'),
    url(r'^casos/finalizados/$', views.casos_finalizados, name='casos_finalizados'),

    #Documentos
    url(r'^documentos/mensaje_nuevo/(?P&lt;id_doc&gt;\d+)/(?P&lt;id_caso&gt;\d+)/$', views.mensaje_nuevo, name='mensaje_nuevo'),
    url(r'^documentos/eliminar_doc/(?P&lt;id_doc&gt;\d+)/(?P&lt;id_caso&gt;\d+)/$', views.eliminar_doc, name='eliminar_doc'),
    url(r'^documentos/agregar_docDocumentos/(?P&lt;caso_id&gt;\d+)/$', views.agregar_docDocumentos, name='agregar_docDocumentos'),
    url(r'^documentos/agregar_docCaso/(?P&lt;caso_id&gt;\d+)/$', views.agregar_docCaso, name='agregar_docCaso'),
    url(r'^documentos/ver_doc/(?P&lt;id_doc&gt;\d+)/$', views.ver_doc, name='ver_doc'),
    url(r'^documentos/$', views.documentos, name='documentos'),

    #Notas
    url(r'^notas/eliminar_nota/(?P&lt;id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;id_nota&gt;\d+)/$', views.eliminar_nota, name='eliminar_nota'),
    url(r'^ver_notas/eliminar_notacaso/(?P&lt;id_caso&gt;\d+)/(?P&lt;id_nota&gt;\d+)/$', views.eliminar_notacaso, name='eliminar_notacaso'),
    url(r'^notas/(?P&lt;id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/$', views.notas, name='notas'),
    url(r'^ver_notas/crear_nota/(?P&lt;id_caso&gt;\d+)/$', views.crear_nota, name='crear_nota'),
    url(r'^ver_notas/$', views.ver_notas, name='ver_notas'),

    #Informes
    url(r'^informes/eliminar_informe/(?P&lt;informe_id&gt;\d+)/$', views.eliminar_informe, name='eliminar_informe'),
    url(r'^informes/ver_informe/(?P&lt;id_informe&gt;\d+)/$', views.ver_informe, name='ver_informe'),
    url(r'^informes/$', views.informes, name='informes'),

    url(r'^login/$',
        django.contrib.auth.views.login,
        {
            'redirect_authenticated_user': True,
            'template_name': 'FrontEnd/login.html',
            'authentication_form': FrontEnd.forms.BootstrapAuthenticationForm,
            'extra_context':
            {
                'title': 'Iniciar sesión',
                'year': datetime.now().year,
            }
        },
        name='login'),
    url(r'^logout/$', views.logout_view, name='logout'),

    # Uncomment the next line to enable the admin:
    url(r'^admin/', include(admin.site.urls)),

    # Home
    url(r'^eliminar_docInicio/(?P&lt;id_doc&gt;\d+)/$', views.eliminar_docInicio, name='eliminar_docInicio'),
    url(r'^eliminar_mensaje/(?P&lt;id_msj&gt;\d+)/$', views.eliminar_mensaje, name='eliminar_mensaje'),
    url(r'^eliminar_usuario/$', views.eliminar_usuario, name='eliminar_usuario'),
    url(r'^crear_usuario/$', views.crear_usuario, name='crear_usuario'),
    url(r'^$', views.home, name='home'),
]
</code></pre>
<p>The view it is supossed to be working is this one</p>
<pre><code>@login_required
def ver_caso(request,caso_id):
    """ Editar un caso ya existente"""
    caso = Caso.objects.get(id=caso_id)
    check_owner(caso.propietario, request.user)
    if request.method == 'POST':
        #Actualizar el caso
        form = CasoFormEdit(instance=caso, data=request.POST)
        if form.is_valid():
            form.save()
            print("entro")
            return HttpResponseRedirect(reverse('casos'))
    else:
        #Solicita el caso para ser modificado, con información precargada
        form = CasoFormEdit(instance=caso)

    context = {'form':form, 
               'caso': caso, 
               'caso_nombre':caso.nombre, 
               'documentos':documentos,
               'title':'Editar caso',
               }

    return render(request,'FrontEnd/editar_caso.html',context)
</code></pre>
<p>I think this should be working great because I cannot find any error but it keep redirecting me to the same page I am when I click on that button</p>
<p>Here u can see what shows the console when the page loads and when I click in that button. It keeps doing that</p>
<pre><code>[15/Mar/2019 20:59:48] "GET / HTTP/1.1" 200 28390
[15/Mar/2019 20:59:49] "GET / HTTP/1.1" 200 28390
[15/Mar/2019 20:59:50] "GET / HTTP/1.1" 200 28390
[15/Mar/2019 20:59:51] "GET /casos/en_curso/ HTTP/1.1" 200 16825
[15/Mar/2019 20:59:51] "GET /casos/en_curso/ HTTP/1.1" 200 16825
[15/Mar/2019 20:59:53] "POST /casos/en_curso/ HTTP/1.1" 200 16825
[15/Mar/2019 20:59:53] "GET /casos/en_curso/ HTTP/1.1" 200 16825
[15/Mar/2019 21:00:02] "POST /casos/en_curso/ HTTP/1.1" 200 16825
[15/Mar/2019 21:00:02] "GET /casos/en_curso/ HTTP/1.1" 200 16825
</code></pre>
<p>Any help will be great. Thank you in advance</p>
<p><strong>UPDATE</strong></p>
<p>Responding FailSafe question, the url that doesnt work is this one</p>
<pre><code>url(r'^casos/en_curso/ver_caso/(?P&lt;caso_id&gt;\d+)$', views.ver_caso, name='ver_caso'),
</code></pre>
<p>it is located inside the first block of urls in urls.py file, is the one above the last</p>
<pre><code>#Casos en curso
    url(r'^casos/en_curso/buscador_inteligente/editar_entidad/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;id_ent&gt;\d+)/(?P&lt;id_caso&gt;\d+)/$', views.editar_entidad, name='editar_entidad'),
    url(r'^casos/en_curso/buscador_inteligente/guardar_resultadoInteligente/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.guardar_resultadoInteligente, name='guardar_resultadoInteligente'),
    url(r'^casos/en_curso/buscador_guiado/guardar_resultadoGuiado/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.guardar_resultadoGuiado, name='guardar_resultadoGuiado'),
    url(r'^casos/en_curso/buscado_general/guardar_resultadoGeneral/(?P&lt;caso_id&gt;\d+)/(?P&lt;expresion&gt;.+)/$', views.guardar_resultadoGeneral, name='guardar_resultadoGeneral'),
    url(r'^casos/en_curso/buscador_inteligente/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.buscador_inteligente, name='buscador_inteligente'),
    url(r'^casos/en_curso/buscador_guiado/(?P&lt;tipo&gt;[A-z úé]+)/(?P&lt;caso_id&gt;\d+)/$', views.buscador_guiado, name='buscador_guiado'),
    url(r'casos/en_curso/compartir_casos/(?P&lt;caso_id&gt;\d+)/(?P&lt;tipo&gt;[A-z úé]+)/$', views.compartir_casos, name='compartir_casos'),
    url(r'^casos/en_curso/administrar_casos/(?P&lt;tipo&gt;[A-z úé]+)/$', views.administrar_casos, name='administrar_casos'),
    url(r'^casos/en_curso/buscador_general/(?P&lt;caso_id&gt;\d+)/$', views.buscador_general, name='buscador_general'),
    url(r'^casos/en_curso/agregar_doc/(?P&lt;caso_id&gt;\d+)/$', views.agregar_doc, name='agregar_doc'),
    url(r'^casos/en_curso/nuevo_caso/$', views.nuevo_caso, name='nuevo_caso'),
    url(r'^casos/en_curso/ver_caso/(?P&lt;caso_id&gt;\d+)$', views.ver_caso, name='ver_caso'),
    url(r'^casos/en_curso/$', views.casos, name='casos'),
</code></pre>
<p>I am assuming when I click on that button that the url that is getting matched is the last of the block. If that is not what happens, then I have no clue about what it should be</p>
</div>
<div class="post-text" itemprop="text">
<p>Not a final solution, but the missing slash at the end of your url pattern may be unintentional (since all other urls have it), and this can have unintended consequences. Here's the pattern first without and then with the slash:</p>
<pre><code>url(r'^casos/en_curso/ver_caso/(?P&lt;caso_id&gt;\d+)$', views.ver_caso, name='ver_caso'),
url(r'^casos/en_curso/ver_caso/(?P&lt;caso_id&gt;\d+)/$', views.ver_caso, name='ver_caso'),
</code></pre>
<p>Apart from that, the problem seems to be in the template; you're calling a different URL (<code>/casos/en_curso/</code>) than you intend to. Have you tried entering a correct URL by hand, eg. <code>yoursite.com/casos/en_curso/ver_caso/1234/</code>? (After correcting the pattern to add the slash at the end.) </p>
<p>My guess is that it would work, showing that the url configuration is fine.</p>
</div>
<span class="comment-copy">Which URLs are not getting matched? An example of what's not working would help out.</span>
<span class="comment-copy">@FailSafe I updated the question responding some part of ur response. Im new posting and I dont know how to give u an example here</span>
<span class="comment-copy">Thanks for ur response, I tried both but none of them worked out. I also tried to use a span tag instead of the button one. But this solution rase me a 404 NOT FOUND PAGE error. Another thing I have tried is to avoid the caso_id variable and the url now is matching, dont know why. Any other idea would be great, I am really stuck with this one</span>
<span class="comment-copy">So, does the url work when entered manually in the browser or doesn't it? Is the button/span contained in a form? You may want to post more of the template as the error is likely there.</span>
<span class="comment-copy">I finally found what was raising the error, it was the check_owner function inside the view. It has nothing to do about the urls. Sorry for wasting ur time Endre</span>
