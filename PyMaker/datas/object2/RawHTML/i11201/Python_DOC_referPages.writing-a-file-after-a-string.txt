<div class="post-text" itemprop="text">
<p>I want to read and write grades(numbers) after a certain subject tag(string). So I have everything but I can't figure out how to find the tag and write after without replacing the numbers that were after it. </p>
<p>So, for example, valid input would be:</p>
<pre><code>MAT54324524342211
</code></pre>
<p>And what I have tried so far:</p>
<pre><code>save = open("grades.txt", "w")

def add(x, y):
    z = x / y * 100
    return z

def calc_grade(perc):
    if perc &lt; 50:
        return "1"
    if perc &lt;  60:
        return "2"
    if perc &lt; 75:
        return "3"
    if perc &lt; 90:
        return "4"
    if perc &gt;= 90:
        return "5"

def calc_command():
    num1 = input("Input your points: ")
    num2 = input("Input maximum points: ")
    num3 = add(float(num1), float(num2))
    grade = calc_grade(num3)
    print("This is your result:", str(num3) + "%")
    print("Your grade:", grade)
    save.write(grade)


while True:
    command = input("Input your command: ")
    if command == "CALC":
        calc_command()
    if command == "EXIT":
        break
</code></pre>
<p>Any ideas?
Hey sorry this is the old version of my code. The new version was that after printing my grade here was save.write(grade). Program is not finished. The final idea is that i will get a bunch of subject tags in my txt file and then the user will pick for which subject is the grade.</p>
</div>
<div class="post-text" itemprop="text">
<p>Please try not to reimplement things which already come with the standard library.</p>
<p>Some implementation of your script using <a href="https://docs.python.org/3/library/json.html" rel="nofollow">json</a> would be this:</p>
<pre><code>import os
import json


def read_grades(filename):
    if os.path.exists(filename):
        with open(filename, 'r') as f:
            try:
                return json.loads(f.read())
            except ValueError as ex:
                print('could not read', ex)
    return {}


def write_grades(filename, grades):
    with open(filename, 'w') as f:
        try:
            f.write(
                json.dumps(grades, indent=2, sort_keys=True)
            )
        except TypeError as ex:
            print('could not write', ex)


def question(text, cast=str):
    try:
        inp = input(text)
        return cast(inp)
    except Exception as ex:
        print('input error', ex)
        return question(text, cast=cast)


def calculator(grades):
    def add(x, y):
        assert y != 0, 'please don\'t do that'
        z = x / y
        return z * 100

    def perc(res):
        for n, p in enumerate([50, 60, 75, 90], start=1):
            if res &lt; p:
                return n
        return 5

    subject = question('enter subject: ').strip()
    points = question('your points: ', cast=float)
    max_points = question('maximum points: ', cast=float)

    result = add(points, max_points)
    grade = perc(result)

    print('&gt; {subject} result: {result:.2f}% grade: {grade}'.format(
        subject=subject.capitalize(),
        result=result, grade=grade
    ))

    grades.setdefault(subject.lower(), list())
    grades[subject.lower()].append(grade)

    return grades


def show(grades):
    print('&gt;&gt; grades')
    for subject in sorted(grades.keys()):
        print('&gt; {subject}: {grades}'.format(
            subject=subject.capitalize(),
            grades='; '.join(str(g) for g in grades[subject])
        ))


def main():
    filename = 'grades.json'
    grades = read_grades(filename)

    while True:

        grades = calculator(grades)
        show(grades)

        if not question('continue? (hit enter to quit) '):
            break

    write_grades(filename, grades)

if __name__ == '__main__':
    main()
</code></pre>
<p>The <code>grades.json</code> now contains a <code>dictionary</code> with subjects as keys, and a <code>list</code> of all grades as values:</p>
<pre><code>{
  "art": [
    3
  ],
  "math": [
    4,
    5
  ]
}
</code></pre>
</div>
<span class="comment-copy">Couldn't get your question. Can you demonstrate your need with some example ??</span>
<span class="comment-copy">Your question is rather vague. However, if you want to read data from that file don't open it in "w" mode. There's a good summary of all the standard file modes in <a href="http://stackoverflow.com/a/1466036/4014959">this answer</a>.</span>
<span class="comment-copy">Ok so for example this would be in the text file: MAT54355 and i want to write after MAT. Thats because i want to sort my grades by subjects or is there a better way</span>
<span class="comment-copy">You can't just insert data into a file. The simple way to do what you want is to read the whole file into a list of lines, search the list for the correct line, modify the line, then write the list back to the file.</span>
