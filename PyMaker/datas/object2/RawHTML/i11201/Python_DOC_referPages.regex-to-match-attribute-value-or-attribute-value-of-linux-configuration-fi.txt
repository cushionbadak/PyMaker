<div class="post-text" itemprop="text">
<p>Linux has these configuration files like sshd_config:</p>
<pre><code># Package generated configuration file
# See the sshd_config(5) manpage for details

# What ports, IPs and protocols we listen for
#A b
#Port 1234
# Use these options to restrict which interfaces/protocols sshd will bind to
#ListenAddress ::
#ListenAddress 0.0.0.0
Protocol 2
# HostKeys for protocol version 2
HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_dsa_key
HostKey /etc/ssh/ssh_host_ecdsa_key
</code></pre>
<p>I'm writing a simple python regex code to identity the lines commented that does not have a space after the <code>#</code> (so they're not really comments) but also the noncommented lines, like <code>attribute value</code>. It's been hard writing this regex. I tried to start with:</p>
<pre><code>#?[a-zA-Z0-9]+\s[a-zA-Z0-9]+
</code></pre>
<p>that is, the comment symbol is optional, but I need to match a word with 1 or more letters (the attribute), followed by another word with one or more letters (the value). But note that in:</p>
<pre><code># Use these options to restrict which interfaces/protocols sshd will bind to
</code></pre>
<p>it will match <code>Use these</code>, which is not what I want to do. I searched about <code>(?=)</code>, that will match what its before it, only if its followed by this condition, however I didn't suceed. Any help is appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use negative lookahead assertion:</p>
<pre><code>re.findall('^(?!#\s).*', s, re.MULTILINE)
</code></pre>
<p>For input given int the question it will provide following output:</p>
<pre><code>['',
 '#A b',
 '#Port 1234',
 '#ListenAddress ::',
 '#ListenAddress 0.0.0.0',
 'Protocol 2',
 'HostKey /etc/ssh/ssh_host_rsa_key',
 'HostKey /etc/ssh/ssh_host_dsa_key',
 'HostKey /etc/ssh/ssh_host_ecdsa_key']
</code></pre>
<p><strong>Update</strong> <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="nofollow noreferrer"><em>Negative lookahead assertation</em></a> matches only if next characters don't match. So in above <code>^</code> matches to beginning of line because <code>re.MULTILINE</code> is used. Then <code>(?!#\s)</code> matches everything except <code>#</code> character immediately followed by whitespace character. See <a href="https://regex101.com/r/C5tuh2/1" rel="nofollow noreferrer">regex101 demo</a>.</p>
</div>
<span class="comment-copy">Put a <code>^</code> at the beginning of your regex so it only matches at the beginning of a line.</span>
<span class="comment-copy">How exactly yhis regex works? Matches anything that does not start with # and a space? And that has any character except line breaks in front of it?</span>
<span class="comment-copy">@Gatonito Added short explanation, hope it helps</span>
