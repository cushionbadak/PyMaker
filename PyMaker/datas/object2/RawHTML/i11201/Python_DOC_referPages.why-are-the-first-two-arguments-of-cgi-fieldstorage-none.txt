<div class="post-text" itemprop="text">
<p>In a Python CGI environment, I used the following code to print values from a GET/POST request:</p>
<pre><code>import cgi
print(cgi.FieldStorage())
</code></pre>
<p>The output is:</p>
<pre><code>FieldStorage(None, None, [MiniFieldStorage('name', 'john')])
</code></pre>
<p>Here, I supplied the <code>name</code> parameter with a value of <code>'john'</code>, and I got it as expected.</p>
<p>But why are the first two values <code>None</code>?  What are they used for, and what do they hold?</p>
</div>
<div class="post-text" itemprop="text">
<p>According to the source of the <code>cgi.py</code> module, the <a href="https://hg.python.org/cpython/file/tip/Lib/cgi.py#l575" rel="nofollow"><code>FieldStorage.__repr__</code></a> method is:</p>
<pre><code>def __repr__(self):
    """Return a printable representation."""
    return "FieldStorage(%r, %r, %r)" % (
            self.name, self.filename, self.value)
</code></pre>
<p>Both <code>name</code> and <code>filename</code> are optional values.  For <code>FieldStorage</code>, the are set automatically from the <code>content-disposition</code> header, if any.</p>
<p><code>name</code> seems to be used as the key for this <code>FieldStorage</code> when using the <code>dict</code>-style methods like <code>keys</code> and <code>__getitem__</code>.</p>
<p><code>filename</code> is used by CGI scripts that accept file uploads.</p>
<p>If you get a <code>MiniFieldStorage</code> ("for use when no file uploads are possible"), it's <a href="https://hg.python.org/cpython/file/tip/Lib/cgi.py#l357" rel="nofollow"><code>__repr__</code></a> is just:</p>
<pre><code>def __repr__(self):
    """Return printable representation."""
    return "MiniFieldStorage(%r, %r)" % (self.name, self.value)
</code></pre>
<p>Same as above, minus the <code>filename</code> field.  Unlike <code>FieldStorage</code>, it takes the value of <code>name</code> in <code>__init__</code> and does nothing with it except repeat it in <code>__repr__</code>.  (It's probably also used as a dictionary key... somewhere.)</p>
<p>The doc-strings for these two classes are, frankly, much better than what you can find in the <a href="https://docs.python.org/3/library/cgi.html" rel="nofollow"><code>cgi</code> module's official docs</a>.  (Also, the <code>FieldStorage</code> class does a <em>lot</em> of different things, making it hard to describe in words.)</p>
</div>
