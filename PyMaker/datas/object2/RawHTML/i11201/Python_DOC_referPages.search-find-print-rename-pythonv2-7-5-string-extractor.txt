<div class="post-text" itemprop="text">
<p>This is my first post on StackOverflow so I apologise if it is too vague. 
Essentially, I have LOTS of files that are outputted from a program, and I am trying to automate the process of collecting all the Data. </p>
<p>All I want is the values of a string to be returned in a printed format. Which I have managed to achieve. However, I want to also make a column on the newly printed file to tell me which file that string came from. </p>
<p>I've only been using python for about 6 hours ... so any help would be very appreciated ! </p>
<p>Snippet of the file Content : </p>
<pre><code>  GROWTH DIRECTION =         0  0  1
  SLICE SHIFT  5 =              0.00 ANGSTROMS
  LATTICE ENERGY =            -21.40 KCAL/MOL
  SLICE ENERGY =              -21.40 KCAL/MOL
  ATTACHMENT ENERGY =           0.00 KCAL/MOL
  SURFACE ENERGY =              0.00
  -------------------------------------------
</code></pre>
<p>Here is what I have so far. </p>
<pre><code># This script is to be used to pull out lines from strings. 
import re # Standard Regular expression module


lattE = open("TestFile.txt", "r") # opens the assigned file
lattEW = open("Lattice_Energies2.txt", "w") # Writes a new document to include all the lines that use LATTICE


for line in lattE: # looks through every line in the file 
    if re.match("(.*)(L)ATTICE(.*)", line): #searches the lines for LATTICE 
        print &gt;&gt;lattEW, line,  # Prints the lines 
</code></pre>
<p>Current Output: </p>
<pre><code>  LATTICE ENERGY =            -21.40 KCAL/MOL
  LATTICE ENERGY =            -21.40 KCAL/MOL
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could use the file object's <code>name</code> attribute.</p>
<pre><code>for line in lattE:
    if re.match("text", line):
        print lattE.name, line,
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>So I've been searching a bit further and found this really useful post [<a href="https://askubuntu.com/questions/352198/reading-all-files-from-a-directory][1]">https://askubuntu.com/questions/352198/reading-all-files-from-a-directory][1]</a></p>
<p>And Tried to combine that with my existing code... and it doesn't seem to be printing to output file :| </p>
<pre><code>import sys 
import glob
import errno
import re

path = '\*.sum' 
files = glob.glob(path)
lattEW = open("Lattice_En.txt", "a")
for name in files: # 'file' is a builtin type, 'name' is a less-ambiguous variable name.
    try:
        with open(name) as f: # No need to specify 'r': this is the default.
            sys.stdout.write(f.read())
        for line in name: # looks through every line in the file
                if re.match("(.*)(L)ATTICE(.*)", line): #searches the lines for LATTICE
                    print &gt;&gt;lattEW, name, line, 
    except IOError as exc:
        if exc.errno != errno.EISDIR: # Do not fail if a directory is found, just ignore it.
            raise # Propagate other kinds of IOError 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Alternative method ... that actually worked. Thanks @Gabor Fekete. </p>
<pre><code>import fnmatch #Imports the synx for itteratively searching through Files 
import os 
import re #regex Expressions 
for file in os.listdir('/.'): #Goes through Files in Directory 
    if fnmatch.fnmatch(file, '*.sum'): # Selects files with .sum extension 
        lattE = open(file,"r")  #opens said files 
        lattEW = open("Latt_En.txt", "a") #Amends Summary file
        for line in lattE: # Goes through file 
            if re.match("(.*)(L)ATTICE(.*)", line): #Searches for term LATTICE
                print &gt;&gt;lattEW, lattE.name, line, #Prints to LattEW file , name and line 
</code></pre>
</div>
<span class="comment-copy">So, in your example you also want to print "TestFile.txt" string, right? Or is TestFile.txt already containing output from several files?</span>
<span class="comment-copy">Please add the python version...</span>
<span class="comment-copy">Also would be nice if you add a snippet of the file content.</span>
<span class="comment-copy">@user1308345 I have attached a snippet of the text file. That is just the name of the file I am testing with</span>
<span class="comment-copy">@Wind85 That is the Python version ? I don't understand what you mean</span>
<span class="comment-copy">So it would be       lattE = open("*.txt", "r") ??</span>
<span class="comment-copy">By writing <code>open(...)</code> the return value of this function creates a <a href="https://docs.python.org/3/glossary.html#term-file-object" rel="nofollow noreferrer">file-like object</a>, it will have a <code>name</code> attribute which will contain the underlying file's name (the string you called the open function with)</span>
<span class="comment-copy">AHHH!! That worked perfectly!   Now how do I get it to go through the different number of files ... so let's say that I have test_file1.txt , test_file2.txt etc ?</span>
<span class="comment-copy">You could iterate through the files in your folder or simply use another standard module called <a href="https://docs.python.org/3.5/library/fnmatch.html" rel="nofollow noreferrer"><code>fnmatch</code></a></span>
