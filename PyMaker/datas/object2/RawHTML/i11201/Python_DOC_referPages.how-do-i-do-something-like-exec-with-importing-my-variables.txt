<div class="post-text" itemprop="text">
<p>I'm trying to do something like this for a project:</p>
<pre><code>def printhi():
    print("Hi")
myinput = input() # for example printhi()
exec(myinput)
</code></pre>
<p>Now I get an error, because exec() just starts a new session and ignores my functions and variables. How can I change that?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/functions.html#exec" rel="nofollow"><code>exec</code></a> builtin takes two additional arguments that can be used to pass in the local and global scope:</p>
<pre><code>x = 10
exec("print(x)", globals(), locals()) # Prints "10"
</code></pre>
<p>Update: Given your example, I think a "better" solution (or at least something more realistic) is to not use exec. To call a function given by the user, try something like:</p>
<pre><code>mypinput = input()
choices = {'printhi': printhi}
if myinput in choices:
    function = choices[myinput]
    function()
else:
    print("Unknown function", myinput)
</code></pre>
</div>
<span class="comment-copy">Ah thank you very much. :)</span>
<span class="comment-copy">You are welcome :) Also welcome to Stack Overflow. Please see: <a href="http://stackoverflow.com/help/someone-answers">stackoverflow.com/help/someone-answers</a></span>
<span class="comment-copy">Thank you, but that was only a simple example. I'm coding a bot for the messenger Discord and I want to make an Execute-Command like this. *execute await bot.send_message(message.channel, "Hey, it's working: :D") But then I have a Syntax error at bot</span>
<span class="comment-copy">I don't recognize that syntax either. Is it <code>*execute await bot.send_message(...)</code>?</span>
<span class="comment-copy">Maybe the message should be <code>'print("Hey, it's working")'</code> if you exec it?</span>
