<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/10246418/typeerror-unsupported-operand-types-for-float-and-float">TypeError: unsupported operand type(s) for &amp;: 'float' and 'float'</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I'm trying to convert a continuous variable to a categorical variable using the following code:</p>
<pre><code>def score_to_categorical(x):
    if x&lt;0.25:
        return 'very bad'
    if x&gt;=0.25 &amp; x&lt;0.5:
        return 'bad'
    if x&gt;=0.5 &amp; x&lt;0.75:
        return 'good'
    else:
        return 'very good'

ConceptTemp['Score'] = ConceptTemp['Score'].apply(score_to_categorical)
ConceptTemp1['Score'] = ConceptTemp1['Score'].apply(score_to_categorical)
</code></pre>
<p>but I get the following error:</p>
<pre><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-72-7ec42b055d4f&gt; in &lt;module&gt;()
----&gt; 1 ConceptTemp['Score'] = ConceptTemp['Score'].apply(score_to_categorical)
      2 ConceptTemp1['Score'] = ConceptTemp1['Score'].apply(score_to_categorical)

E:\Anaconda2\lib\site-packages\pandas\core\series.pyc in apply(self, func, convert_dtype, args, **kwds)
   2167             values = lib.map_infer(values, lib.Timestamp)
   2168 
-&gt; 2169         mapped = lib.map_infer(values, f, convert=convert_dtype)
   2170         if len(mapped) and isinstance(mapped[0], Series):
   2171             from pandas.core.frame import DataFrame

pandas\src\inference.pyx in pandas.lib.map_infer (pandas\lib.c:62578)()

&lt;ipython-input-11-1c4f9c7bfafe&gt; in score_to_categorical(x)
     10     if x&lt;0.25:
     11         return 'very bad'
---&gt; 12     if x&gt;=0.25 &amp; x&lt;0.5:
     13         return 'bad'
     14     if x&gt;=0.5 &amp; x&lt;0.75:

TypeError: unsupported operand type(s) for &amp;: 'float' and 'numpy.float64'
</code></pre>
<p>I would've though that <code>float</code> and <code>numpy.float64</code> would be compatible but that doesn't seem to be the case.</p>
<p>Any help in this regard would be much appreciated. </p>
<p>TIA.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here <code>x&gt;=0.25 &amp; x&lt;0.5</code> <code>&amp;</code> performs a <a href="https://docs.python.org/3/reference/datamodel.html#object.__and__" rel="noreferrer"><em>bitwise AND operation</em></a> (for example, <code>1 &amp; 52</code> is zero, which will be treated as <code>False</code>), while you certainly meant to check whether both <code>x&gt;=0.25</code> <a href="https://docs.python.org/3.5/reference/expressions.html#boolean-operations" rel="noreferrer">and</a> <code>x&lt;0.5</code> are true.</p>
<p>So, do this:</p>
<pre><code>x&gt;=0.25 and x&lt;0.5
</code></pre>
<p>The same mistake is on the next line.</p>
</div>
<span class="comment-copy">yes, that solved it, thanks a lot.</span>
