<div class="post-text" itemprop="text">
<p>i have this script, it reads file(file consists of collected tweets), cleans it, gets frequency distribution and creates plot, but now i can work only with one file, what i need is to create function from it, to be able to pass more files. So i can create dataframe with results of freqdist from more files to plot it  </p>
<pre><code>f = open(.......)
text = f.read()
text = text.lower()
for p in list(punctuation):
    text = (text.replace(p, ''))

allWords = nltk.tokenize.word_tokenize(text)
allWordDist = nltk.FreqDist(w.lower() for w in allWords)
stopwords = set(stopwords.words('english'))

allWordExceptStopDist = nltk.FreqDist(w.lower() for w in allWords if w not in stopwords)
mostCommon = allWordExceptStopDist.most_common(25)

frame = pd.DataFrame(mostCommon, columns=['word', 'frequency'])
frame.set_index('word', inplace=True)
print(frame)
histog = frame.plot(kind='barh')
plt.show()
</code></pre>
<p>thank you very much for any help!</p>
</div>
<div class="post-text" itemprop="text">
<p>Is this what you meant?</p>
<pre><code>def readStuff( filename )
    with open(filename) as f:
        text = f.read()
    text = text.lower()
    for p in list(punctuation):
        text = (text.replace(p, ''))

    allWords = nltk.tokenize.word_tokenize(text)
    allWordDist = nltk.FreqDist(w.lower() for w in allWords)
    stopwords = set(stopwords.words('english'))

    allWordExceptStopDist = nltk.FreqDist(w.lower() for w in allWords if w not in stopwords)
    mostCommon = allWordExceptStopDist.most_common(25)

    frame = pd.DataFrame(mostCommon, columns=['word', 'frequency'])
    frame.set_index('word', inplace=True)
    print(frame)
    histog = frame.plot(kind='barh')
    plt.show()
</code></pre>
</div>
<span class="comment-copy">So you're asking "how do I make a function"? <a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions" rel="nofollow noreferrer">Here you go</a>.</span>
<span class="comment-copy">basically yes, i somehow cant figure out how to write it in function</span>
<span class="comment-copy">so your problem is to write a function in python, it is nothing to do with file read,dataframe or plot.</span>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/32409802/basic-explanation-of-python-functions">Basic explanation of python functions</a></span>
<span class="comment-copy">i think yes, thanks!</span>
<span class="comment-copy">Don't forget to mark it as correct so people know not to answer your question again :)</span>
<span class="comment-copy">This leaks the file handle, you should use <code>with open(filename) as f: ...</code></span>
<span class="comment-copy">I just took the code above and put it into a function, but @Daenyth is correct. Edited.</span>
<span class="comment-copy">thanks, i`ll try that</span>
