<div class="post-text" itemprop="text">
<p>I am creating a symlink with Python. First, I check if the file exists and then create the symlink.</p>
<pre><code>import os
project = 'test'

if os.path.isfile("../../project/json/nodes1.json.gz"):
    os.symlink("../../project/json/nodes1.json.gz","../simulations/"+project+"/nodes1.json.gz")
</code></pre>
<p>However, when I ran a script that required this symlink, it failed. On inspection with finder I get <code>The operation can’t be completed because the original item for “nodes1.json.gz” can’t be found.</code></p>
<p>I am sure I have the right paths and it is correctly setting the symlink. Is there an issue with using <code>.gz</code> files?</p>
</div>
<div class="post-text" itemprop="text">
<p>symlink paths are relative to the directory where the symlink lives. Your real file is two levels up from the current directory but your symlink is only one level up and then an extra level deep. If I make up names for your parent directories, it would be something like</p>
<pre><code>current directory     aaa/bbb/ccc
real file             aaa/project/json/nodes1.json.gz
symlink               aaa/bbb/simulations/project/nodes1.json.gz
</code></pre>
<p>Your symlink should be one more level deep</p>
<pre><code>../../../project/json/nodes1.json.gz 
</code></pre>
<p>A good way to check symlinks is to go into the directory holding the link and then follow it to see where things go wrong.</p>
<pre><code>td@mintyfresh ~/tmp/deleteme $ tree
.
└── aaa
    ├── bbb
    │   ├── ccc
    │   └── simulations
    │       └── project
    │           └── nodes1.json.gz -&gt; ../../project/json/nodes1.json.gz
    └── project
        └── json
            └── nodes1.json.gz

7 directories, 2 files
td@mintyfresh ~/tmp/deleteme $ cd aaa/bbb/simulations/project
td@mintyfresh ~/tmp/deleteme/aaa/bbb/simulations/project $ ls -l
total 0
lrwxrwxrwx 1 td td 36 Jun 16 12:06 nodes1.json.gz -&gt; ../../project/json/nodes1.json.gz
td@mintyfresh ~/tmp/deleteme/aaa/bbb/simulations/project $ cd ..
td@mintyfresh ~/tmp/deleteme/aaa/bbb/simulations $ cd ..
td@mintyfresh ~/tmp/deleteme/aaa/bbb $ cd project
bash: cd: project: No such file or directory
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Unless you specify the <code>dir_fd</code> argument to the <a href="https://docs.python.org/3/library/os.html#os.symlink" rel="nofollow"><code>os.symlink()</code></a> function, you need to specify the absolute path for both <code>src</code> and <code>dst</code> argument.  </p>
</div>
<span class="comment-copy">Thank you for the description. Flowfree was pointing me in the right direction but your explanation brought about a solution and I now understand! I also discovered <code>tree</code>, very useful!</span>
<span class="comment-copy">Ah! I'm using <code>2.7</code>, this appears to be for <code>3</code> only. I'm trying to find a solution.</span>
