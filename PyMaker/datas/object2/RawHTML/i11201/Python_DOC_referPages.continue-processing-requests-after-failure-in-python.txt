<div class="post-text" itemprop="text">
<p>I have a script that runs and submits urls in a text file via GET to an API and saves the response to a text file. However, the for loop quits if I get a failure in the first section and does not continue passing the others. How can I still grab the failure and continue on with the others without the script exiting before it finishes?</p>
<pre><code>sys.stdout=open("mylog.txt","w")
for row in range(0, len(exampleData)):  
    url = exampleData[row][0]
    print (url)
    response = requests.get(url, auth=(user, pwd))
    if response.status_code != 200:
        print('Failure Message {}' .format(response.text))
        work = 'failed'
        continue
    data = json.loads(response.text)    
    print(data)
    work = 'succeeded'
sys.stdout.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use continue instead of exit()</p>
</div>
<div class="post-text" itemprop="text">
<p>Use an <a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow">exception</a> to catch the failure and continue on. </p>
</div>
<div class="post-text" itemprop="text">
<p>Now that your loop control is corrected, it must be working correctly. It will print out a failure message every time it gets an error response (not 200). If you're only seeing one error message, you're only getting one non-200 response from the other side. If that's not what you expect, the problem is on the server side. (Or in the contents of <code>exampleData</code>.)</p>
<p>You need to debug your own server-client system. Simplify this loop so that the only thing it does is print diagnostic information about the response (e.g., print <code>status_code</code>), and find out what's really going on.</p>
</div>
<span class="comment-copy">Please fix the indentation in your code: <i>some</i> lines of code under the <code>for</code> loop must be indented, but it's impossible to guess how many.</span>
<span class="comment-copy">Thanks just did that</span>
<span class="comment-copy">Tried that, but my log file still only showed the first failure not all with continue. It did seem to process longer however.</span>
<span class="comment-copy">So rather than IF statement, use the Try and Except catch? IE:</span>
<span class="comment-copy">Yes, catch the exception and then continue.</span>
