<div class="post-text" itemprop="text">
<p>I am writing a python 2.7.11 program on Linux. The program creates 12 sub-processes with multiprocessing.Pool. Each sub-process has cpu affinity with one of the 12 cpus through the psutil library for python.</p>
<p>I use multiprocessing.Event to make 11 sub-processes wait for sub-process 0.</p>
<p>Then, in sub-processes 0, I call Intel's math kernel library to start a calculation with 12 threads. </p>
<p>Will the waiting sub-processes consume any cpu resources and affect the calculation by the 12 threads?</p>
<p>If so, how to avoid that? Or, how to test if that happens?</p>
<p>Will the main process affect calculation by the 12 threads?</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>Okay, I did a little research, and...</p>
<p>First, since the 12 threads are all in a single process, what happens in the other sub-processes should not effect the parent process in any way. There is some background processing happening by the OS to handle inter-process communications that will take place in the process where the OS's kernel is, presumably the parent process (process 0). However this is very minor and should not be effected by activity in other processes. </p>
<p>In other words, heavy activity in one process should not effect another process.</p>
<p>I would suggest two things. </p>
<p>1) Add one more process where your 12 threads are launched from. This will separate it from the parent thread where the OS resides.  </p>
<p>2) Do some time testing of your own. Set a variable at the start of each thread with the current millisecond timer. At the end of the processing, check how long it took. Then have the other processes do some pointless floating point calculations and see if that effects the average run time for the threads.</p>
<p>Doing some research on the <a href="https://docs.python.org/3/library/time.html#time.sleep" rel="nofollow">Time</a> module, the <a href="https://docs.python.org/2/library/multiprocessing.html" rel="nofollow">Multiprocessing</a> module and the <a href="https://docs.python.org/2/library/threading.html" rel="nofollow">Threading</a> module should help clarify the topic for you.</p>
</div>
<span class="comment-copy">Generally speaking, no. Assuming the operating system is assigning the processes to separate cores/processors in the system, one should not effect another. Lacking details, it is hard to be more specific. Can you post some sample code?</span>
<span class="comment-copy">the 12 subprocesses won't affect each other. But, will the "waiting" 12 subprocesses affect the 12 threads started by intel's mkl from subprocess 0? There are only 12 cpus.... i can try to work out a simplified version of the code. the whole thing, including the ctypes to interface python numpy  and intel mkl is quite long.</span>
