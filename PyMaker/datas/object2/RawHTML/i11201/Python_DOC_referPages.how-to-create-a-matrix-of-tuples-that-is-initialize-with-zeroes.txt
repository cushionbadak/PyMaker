<div class="post-text" itemprop="text">
<p>I am creating a picture and I use numpy. 
I tried something like that but got an error
    data = np.zeros((pic.size[0], pic.size[1],2),dtype= [[(0,0,0)],])
I am trying to make it look like</p>
<pre><code>[[(0,0,0),(0,0,0),(0,0,0)],[(0,0,0),(0,0,0)]]
</code></pre>
<p>how can i do it? i need to put this data in the putdata() method
which get matrix of tuples.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can create a <a href="http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.zeros.html#numpy.zeros" rel="nofollow"><code>NumPy array of zeros</code></a>, split it at <code>3rd index</code> and then <a href="https://docs.python.org/3/library/functions.html?highlight=map#map" rel="nofollow"><code>map</code></a> them to tuple with a loop comrehension, like so -</p>
<pre><code>split_zeros = np.split(np.zeros((5,3),dtype=int),[3],axis=0)
out = [map(tuple,item) for item in split_zeros]
</code></pre>
<p>Sample run -</p>
<pre><code>In [166]: split_zeros = np.split(np.zeros((5,3),dtype=int),[3],axis=0)

In [167]: [map(tuple,item) for item in split_zeros]
Out[167]: [[(0, 0, 0), (0, 0, 0), (0, 0, 0)], [(0, 0, 0), (0, 0, 0)]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When I test your first line I get an error</p>
<pre><code>In [156]: data=np.zeros((3,4,2),dtype= [[(0,0,0)],])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-156-9f6f75b73353&gt; in &lt;module&gt;()
----&gt; 1 data=np.zeros((3,4,2),dtype= [[(0,0,0)],])

TypeError: data type not understood
</code></pre>
<p>Does that expression run for you or not?  You make it sound like it does.  If it doesn't you should be clear about the error.</p>
<p>But what exactly do you mean by a matrix of tuples? Just something that displays </p>
<pre><code>[[(0,0,0),(0,0,0),(0,0,0)],[(0,0,0),(0,0,0)]]
</code></pre>
<p>You mention a <code>putdata</code> method.  What package are you talking about? Not <code>numpy</code>.</p>
<p>I can create a structure array that displays like this</p>
<pre><code>In [158]: np.zeros((2,2),dtype='i,i,i')
Out[158]: 
array([[(0, 0, 0), (0, 0, 0)],
       [(0, 0, 0), (0, 0, 0)]], 
      dtype=[('f0', '&lt;i4'), ('f1', '&lt;i4'), ('f2', '&lt;i4')])


In [159]: print(np.zeros((2,2),dtype='i,i,i'))
[[(0, 0, 0) (0, 0, 0)]
 [(0, 0, 0) (0, 0, 0)]]
</code></pre>
<p>Technically this doesn't contain tuples, though it uses the tuple syntax.  Converting it to a list may be better.</p>
<pre><code>In [160]: np.zeros((2,2),dtype='i,i,i').tolist()
Out[160]: [[(0, 0, 0), (0, 0, 0)], [(0, 0, 0), (0, 0, 0)]]
</code></pre>
<p>This last result is a nested list - list of lists of tuples.</p>
<p>But is really important that the inner elements be tuples?</p>
<pre><code>In [179]: np.zeros((2,2,3),int)
Out[179]: 
array([[[0, 0, 0],
        [0, 0, 0]],

       [[0, 0, 0],
        [0, 0, 0]]])

In [180]: np.zeros((2,2,3),int).tolist()
Out[180]: [[[0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0]]]
</code></pre>
<p>Often in Python lists and tuples are interchangeable.  </p>
<p>We need to know more about that <code>putdata</code> method.</p>
<p>===============</p>
<p>I'm guessing from a search that <code>putdata</code> is a <code>PIL</code> method.</p>
<p>In that case, this works:</p>
<pre><code>In [240]: from PIL import Image

In [241]: im=Image.new('RGB',(10,10))    
In [243]: im.putdata(np.ones((100,),dtype='i,i,i').tolist())
</code></pre>
<p><code>im.putdata(np.ones((10,10),dtype='i,i,i').tolist())</code> doesn't work; it looks like the data has to be a flat list</p>
<pre><code>[(0,0,0),(0,1,0), etc]
</code></pre>
<p><code>im.putdata([(0,1,0)]*100)</code> also works, since it is just a simple list replication of the tuple.</p>
</div>
<span class="comment-copy">thanks! my main problem was that i should have used a flat list in the putdata method.</span>
