<div class="post-text" itemprop="text">
<p>I have the following string:</p>
<blockquote>
<p>2016-04-29T00:00:00+01:00</p>
</blockquote>
<p>I want to turn it into a Unix date timestamp using Python.</p>
<p>I've tried this to convert it into a date object:</p>
<pre><code>dt = datetime.datetime.strptime(validated_data.get('scheduled_datetime', None), '%Y-%m-%dT%H:%M:%SZ')
</code></pre>
<p>But I get the following error:</p>
<pre><code>time data '2016-04-29T00:00:00+01:00' does not match format '%Y-%m-%dT%H:%M:%S'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>2016-04-29T00:00:00+01:00
</code></pre>
<p>is not in a form that <a href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior" rel="nofollow"><code>strptime</code></a> can understand. It supports</p>
<blockquote>
<p><code>%z</code> UTC offset in the form +HHMM or -HHMM</p>
</blockquote>
<p>but note that there is no colon <code>:</code> in the timezone!</p>
<p>So first remove the colon <code>:</code> from your input and then use <code>%z</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to return the current date in a specific format, you should use time.strftime(). </p>
<pre><code>import time
currentDate = time.strftime('%Y-%m-%dTT%H:%M:%SZ')
</code></pre>
<p>No need to over complicate things with datetime.</p>
<p>Note: You may need to change some of the formatting characters in order to get the output you want.</p>
</div>
<div class="post-text" itemprop="text">
<p>I doubt strptime supports %z in python 2.7. Either you can upgrade to python 3 version or use parser module</p>
<pre><code>&gt;&gt;&gt; from dateutil.parser import parse
&gt;&gt;&gt; parse(time_str)
    datetime.datetime(2016, 4, 29, 0, 0, tzinfo=tzoffset(None, 3600))
</code></pre>
</div>
<span class="comment-copy">@user3159253 Typo, should be <code>%Y-%m-%dT%H:%M:%S</code></span>
<span class="comment-copy"><code>unconverted data remains: +01:00</code> using <code>%Y-%m-%dT%H:%M:%S</code></span>
<span class="comment-copy">also tried: <code>%Y-%m-%dT%H:%M:%S%z</code></span>
<span class="comment-copy">Yes, you must first change your <i>input</i>  so that <code>strptime</code> can understand it. Either remove the timezone (<code>date[:-6]</code>) or remove the last <code>:</code>.</span>
<span class="comment-copy">I see, I found it understands when I do this <code>parse_datetime(validated_data.get('scheduled_datetime', None))</code> using <code>django.utils.dateparse</code> thanks</span>
