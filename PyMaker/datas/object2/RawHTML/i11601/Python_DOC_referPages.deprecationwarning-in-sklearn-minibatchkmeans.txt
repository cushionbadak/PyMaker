<div class="post-text" itemprop="text">
<pre><code>vectors = model.syn0

n_clusters_kmeans = 20 # more for visualization 100 better for clustering

min_kmeans = MiniBatchKMeans(init='k-means++', n_clusters=n_clusters_kmeans, n_init=10)
min_kmeans.fit(vectors)

X_reduced = TruncatedSVD(n_components=50,  random_state=0).fit_transform(vectors)
X_embedded = TSNE(n_components=2, perplexity=40, verbose=2).fit_transform(X_reduced)

fig = plt.figure(figsize=(10, 10))
ax = plt.axes(frameon=False)
plt.setp(ax, xticks=(), yticks=())
plt.subplots_adjust(left=0.0, bottom=0.0, right=1.0, top=0.9,     wspace=0.0, hspace=0.0)
plt.scatter(X_embedded[:, 0], X_embedded[:, 1], c=None, marker="x")
plt.show()
</code></pre>
<p>I want to plot vectors. I am using sklearn.cluster MiniBatchKMeans. 
Above code is giving me following deprecation error: </p>
<blockquote>
<p>/usr/local/lib/python3.5/site-packages/sklearn/cluster/k_means_.py:1328: DeprecationWarning: This function is deprecated. Please call randint(0, 99 + 1) instead
    0, n_samples - 1, self.batch_size) </p>
</blockquote>
<p>Any suggestions are appreciated.
Thanks </p>
</div>
<div class="post-text" itemprop="text">
<p>This is a known issue and a fix has already been merged for this. Please refer to <a href="https://github.com/scikit-learn/scikit-learn/issues/6863" rel="nofollow noreferrer">gh:scikit-learn#6863</a>.</p>
<p>Statistically the next release should be released around Oct. 2016. Till then following are the options:</p>
<p>--&gt; <strong>Suppress</strong> as mentioned in <a href="https://stackoverflow.com/a/38261393/2670370">frist's answer on this question</a></p>
<pre><code>import warnings
....
min_kmeans = MiniBatchKMeans(...)
with warnings.catch_warnings():
    warnings.simplefilter("ignore", category=DeprecationWarning)
    min_kmeans.fit(vectors)
# Rest part of the code
</code></pre>
<p>--&gt; <strong>Install</strong> scikit-learn from master: </p>
<pre><code>pip install git+git://github.com/scikit-learn/scikit-learn.git
</code></pre>
</div>
<div class="post-text" itemprop="text">
<h2>Temporarily Suppressing Warnings</h2>
<p>The best option to suppress this warning has been described in python's documentation for the <a href="https://docs.python.org/3/library/warnings.html#temporarily-suppressing-warnings" rel="nofollow">warnings</a> module.</p>
<p>In this case you can just wrap the clusterizer fitting method using <em>with</em> statement like this:</p>
<pre><code>import warnings
....
min_kmeans = MiniBatchKMeans(...)
with warnings.catch_warnings():
    warnings.simplefilter("ignore")
    min_kmeans.fit(vectors)
# Rest part of the code
</code></pre>
</div>
<span class="comment-copy">Try to ignore the warning and see if the code still works as desired. You can do so by :                                                                                     <code>import warnings</code> <code>warnings.filterwarnings("ignore", category=DeprecationWarning)</code></span>
<span class="comment-copy">Is there an update to that ?</span>
