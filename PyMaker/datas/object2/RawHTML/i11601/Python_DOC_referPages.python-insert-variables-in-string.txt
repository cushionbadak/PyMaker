<div class="post-text" itemprop="text">
<p>In python I have a below string</p>
<pre><code>body='{"mode":"sync","message":"43b","messages":[{"node1":44,"node2":45}]}'
</code></pre>
<p>I need to replace the hard coded values <code>44</code> and <code>45</code> with variables <code>v1</code> and <code>v2</code>.</p>
<p>I tried using format option, but didnt seem to work</p>
</div>
<div class="post-text" itemprop="text">
<p>You need string formatting:</p>
<pre><code>&gt;&gt;&gt; v1 = 44
&gt;&gt;&gt; v2 = 45
&gt;&gt;&gt; body='{"mode":"sync","message":"43b","messages":[{"node1":%s,"node2":%s}]}' % (v1, v2)
'{"mode":"sync","message":"43b","messages":[{"node1":40,"node2":45}]}'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/json.html" rel="nofollow"><code>json</code></a> module:</p>
<pre><code>import json

body = '{"mode":"sync","message":"43b","messages":[{"node1":44,"node2":45}]}'
j = json.loads(body)

v1 = "foo"
v2 = "bar"

j["messages"][0]["node1"] = v1
j["messages"][0]["node2"] = v2

print(json.dumps(j))
</code></pre>
<p>Output:</p>
<pre><code>{"mode": "sync", "message": "43b", "messages": [{"node2": "bar", "node1": "foo"}]}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you can convert this string to dict, and then you can replace it like this:</p>
<pre><code>body='{"mode":"sync","message":"43b","messages":[{"node1":44,"node2":45}]}'
import json
body = json.loads(body)
print body
v1 = "aaa"
v2 = "bbb"
body["messages"][0]["node1"] = v1
body["messages"][0]["node2"] = v2
body = json.dumps(body)
print body
</code></pre>
<p>result:</p>
<blockquote>
<p>{"message": "43b", "messages": [{"node1": "aaa", "node2": "bbb"}],
  "mode": "sync"}</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<pre><code>v1 = 44
v2 = 45
body='{"mode":"sync","message":"43b","messages":[{"node1":%s,"node2":%s}]}' % (v1, v2)
</code></pre>
<p>use <code>%d</code> instead of <code>%s</code> if you want a TypeError to be raised if v1 and/or v2 are not integers.</p>
</div>
<div class="post-text" itemprop="text">
<p>Below is a simple string formatting method in python to insert variables in string</p>
<p>a = "Hi, My name is {name}"; 
b = a.format(name='cool geek')</p>
</div>
<span class="comment-copy">What did you try and what didn't work?</span>
<span class="comment-copy">It worked. Thanks</span>
<span class="comment-copy">Glad to help. Please accept the answer if it worked for you.</span>
<span class="comment-copy">good to see that im not the only one, who thinks that json is the right way :)</span>
<span class="comment-copy">thanks for the response.</span>
<span class="comment-copy">thanks for the response.</span>
