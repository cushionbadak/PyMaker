<div class="post-text" itemprop="text">
<p>I have this code:</p>
<pre><code>from zipfile import ZipFile
import os
import glob
inp = raw_input("Specify a ZIP archive to extract:")
with ZipFile(inp) as zf:
    zf.extractall()
</code></pre>
<p>It works fine because it extracts all the files but how do I extract all the <code>.mp3</code> files in the archive that the user specifies.  </p>
</div>
<div class="post-text" itemprop="text">
<p>To extract just the MP3 files from a ZIP archive, you could do the following:</p>
<pre><code>from zipfile import ZipFile
import os

zip_file = r"c:\folder\myzip.zip"
target_folder = r"C:\Users\Fred\Desktop"

with ZipFile(zip_file, 'r') as my_zip:
    mp3_files = [name for name in my_zip.namelist() if os.path.splitext(name)[1].lower() == '.mp3']
    my_zip.extractall(target_folder, mp3_files)
</code></pre>
<p>The list of files inside the ZIP file can be obtained using the <a href="https://docs.python.org/2/library/zipfile.html#zipfile.ZipFile.namelist" rel="nofollow"><code>namelist</code></a> function. With this you can filter just those files ending with an <code>mp3</code> extension. The <a href="https://docs.python.org/2/library/zipfile.html#zipfile.ZipFile.extractall" rel="nofollow"><code>extractall</code></a> function lets you pass a list of all of the files you want to extract (it defaults to all files).</p>
</div>
<div class="post-text" itemprop="text">
<p>You could <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.namelist" rel="nofollow">get a list of the names</a> of the members in the list, and only <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.extract" rel="nofollow">extract</a> those ending with the suffix <code>.mp3</code>.</p>
</div>
<span class="comment-copy">By "mp3 files", do you mean "files whose names end in <code>.mp3</code>", or do you mean "files that are valid mp3 files regardless of their filename"? The former is easier.</span>
<span class="comment-copy">any could do, the name of the mp3 is different in every archive and there's guaranteed to be only one.</span>
<span class="comment-copy">does this work for python 2 as well?</span>
<span class="comment-copy">@Sol: yes since 2.6. Guess what single character to change in Joachim's URLs, to find the Python 2 documentation ;-)</span>
<span class="comment-copy">Stupid question, but how do you extract the files only ending with .mp3?</span>
<span class="comment-copy">@SolAnderson Try printing e.g. <code>'foo.mp3'[-4:]</code>. Experiment! :)</span>
<span class="comment-copy">But the mp3 is different in every archive. So how can I extract any mp3(s) present in the zip file.</span>
