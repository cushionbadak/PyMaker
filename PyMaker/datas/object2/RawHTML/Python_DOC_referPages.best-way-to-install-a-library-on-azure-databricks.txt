<div class="post-text" itemprop="text">
<p>I need to install azure library on my azure databricks. Right now I am installing it globally but sometime when cluster starts my notebook fails with error as below:</p>
<p>AttributeError: module 'lib' has no attribute 'SSL_ST_INIT'</p>
<p>what should be the best way to install a library on azure databricks, install it globally or install it locally on each notebook using dbutils.library.installPyPI(lib,version) ?</p>
</div>
<div class="post-text" itemprop="text">
<p>there are an existing SO thread <a href="https://stackoverflow.com/questions/54984230/databricks-cluster-does-not-initialize-azure-library-with-error-module-lib-ha">Databricks cluster does not initialize Azure library with error: module 'lib' has no attribute 'SSL_ST_INIT'</a> with the same issue and a similar SO thread <a href="https://stackoverflow.com/questions/43267157/python-attributeerror-module-object-has-no-attribute-ssl-st-init">Python AttributeError: 'module' object has no attribute 'SSL_ST_INIT'</a>, which you may refer to. </p>
<p>To downgrade a Python library, please first to uninstall it and then to install with the specified version, for example as below.</p>
<ol>
<li><code>pip uninstall azure</code></li>
<li><code>pip install azure==3.0.0</code></li>
</ol>
<p>For more details about how to install libraries on Azure Databricks, please see the offical topic <a href="https://docs.databricks.com/user-guide/libraries.html" rel="nofollow noreferrer"><code>Libraries</code></a>.</p>
</div>
<span class="comment-copy">I have gone through all these threads already. My question is what is the best way/practice to install a library on databricks, globally or locally?</span>
<span class="comment-copy">@shubhamnayak There is no standard answer for what the best way is. It's up to you and your scenario. The section <a href="https://docs.databricks.com/user-guide/libraries.html#library-lifecycles" rel="nofollow noreferrer"><code>Library lifecycles </code></a> is partial answer based on usage scope I think.</span>
