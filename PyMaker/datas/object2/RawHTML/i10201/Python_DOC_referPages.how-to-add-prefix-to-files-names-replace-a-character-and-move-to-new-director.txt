<div class="post-text" itemprop="text">
<p>For example, the files will look like <code>FG-4.jpg</code> <code>FG-5.jpg</code>, etc. and need to be copied to a new directory and named <code>test_FG_4.jpg</code> <code>test_FG_5.jpg</code>, etc. </p>
<p>Here is the updated code:</p>
<pre><code>import shutil
import glob
import os
InFolder = r"C:\test_in"
OutFolder = r"C:\test_out"

for f in glob.glob('*'):
    shutil.move(InFolder/*, OutFolder, copy_function=copy2)
    os.listdir(OutFolder)
    new_filename = f.replace("-","_")
    new_filename = "test_" + new_filename
    os.rename(f,new_filename)
</code></pre>
<p>I'm getting the error </p>
<pre><code>File "c:\copyRename2.py", line 8, in ?
  shutil.move(InFolder/*, OutFolder, copy_function=copy2)

invalid syntax: copyRename2.py, line 8, pos 26 in file c:\copyRename2.py, line 8
shutil.move(InFolder/*, OutFolder, copy_function=copy2)
</code></pre>
<p>First attempt:   </p>
<pre><code>import shutil
import glob
import os
InFolder = r"C:\test_in"
OutFolder = r"C:\test_out"

for f in glob.glob('*'):
    shutil.copyfile(f, OutFolder)
    new_filename = f.replace("-","_")
    new_filename = "test_" + new_filename
    os.rename(f,new_filename)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I am not sure about what you want. So this program checks for any file with extension .jpg and then copies them into a new folder("NewDir") by adding "Test_" to the file name. If the folder doesn't exist, the program creates the folder. Maybe you can make the changes you need based on this program.</p>
<pre><code>import shutil
import os
newdir="NewDir"
for m in (os.listdir()):
    if m[-4:]==(".txt"):

        if os.path.isdir(newdir):
            shutil.copy(m,newdir+"/"+"Test_"+m)
        else:
            os.mkdir(newdir)
            shutil.copy(m,newdir+"/"+"Test_"+m)
</code></pre>
</div>
<span class="comment-copy">Here's a tip: when you rename the file, you can also move it; because you can rename the file and its entire path at the same time.</span>
<span class="comment-copy">use <a href="https://docs.python.org/3/library/shutil.html#shutil.move" rel="nofollow noreferrer">shutil.move(InFolder/*, OutFolder, copy_function=copy2)</a> to copy your files to OutFolder. Then use <a href="https://docs.python.org/2/library/os.html#os.listdir" rel="nofollow noreferrer">os.listdir(OutFolderPath)</a>. It will give you list of files in your InFolder directory <code>[file1, file2]</code> and then you can change each filename using <code>os.rename(filename, 'test_'+filename)</code></span>
<span class="comment-copy">I updated the original post to reflect the changes you suggested but I don't think I implemented them correctly. The new error is also updated.</span>
