<div class="post-text" itemprop="text">
<p>I am new to python and I have a problem. I am trying to find keys with a value; however, the keys have multiple values.</p>
<pre><code>d = {
    'a': ['john', 'doe', 'jane'], 
    'b': ['james', 'danny', 'john'], 
    'C':['john', 'scott', 'jane'],
}
</code></pre>
<p>I want to find the value <code>john</code> in d and get the keys a, b and c or find <code>jane</code> and get keys a and c.</p>
</div>
<div class="post-text" itemprop="text">
<p>This can easily be done using a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow">list comprehension</a>. It iterates over every key/value pair from the dict's items list, which contains all key/value pairs (<code>for key,val in d.items()</code>) and selects only the pairs where the target string is contained in the value list (<code>if 'john' in val</code>), building a list out of the resulting keys (<code>[ key ... ]</code>).</p>
<pre><code>&gt;&gt;&gt; [ key for key,val in d.items() if 'john' in val ]
['b', 'a', 'C']
&gt;&gt;&gt; [ key for key,val in d.items() if 'jane' in val ]
['a', 'C']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>So you have to go through the dictionary items and if the find keyword is in the item list then the corresponding key has to be stored in a list and this list has to be displayed.</p>
<pre><code>d = {'a':['john', 'doe', 'jane'], 'b': ['james', 'danny', 'john'], 'C':['john', 'scott', 'jane'],}
find ='jane'
</code></pre>
<p>So this is how the logic is written in python</p>
<pre><code>print ([m for m in d.keys() if find in d[m]])
</code></pre>
<p>And it will give the following output</p>
<pre><code>['a', 'C']
</code></pre>
</div>
<span class="comment-copy">If this is really what you want to do, your dictionary is upside down. If you're going to lookup by names (e.g. <code>john</code>), those should be the keys.</span>
<span class="comment-copy">@idjaw I tried the following code. I didn't work at all. for name in d.keys():     if d[name] == 'john':         print name</span>
<span class="comment-copy">@import.zee The reason that code doesn't work is that the values are lists of multiple names, rather than individual name strings. So you can't test <code>if d[name] == 'john'</code> because <code>['john', 'doe', 'jane'] != 'john'</code>. Instead you need to use the <code>in</code> list memebership test operator: <code>if 'john' in d[name]</code></span>
<span class="comment-copy">Thanks @David. That worked perfectly</span>
