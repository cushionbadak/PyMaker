<div class="post-text" itemprop="text">
<p>How can I extract <em>string1#string2</em> from the bellow line?</p>
<pre><code>&lt;![CDATA[&lt;html&gt;&lt;body&gt;&lt;p style="margin:0;"&gt;string1#string2&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;]]&gt;
</code></pre>
<p>The # character and the structure of the line is always the same.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you wish to use a regex:</p>
<pre><code>&gt;&gt;&gt; re.search(r"&lt;p.*?&gt;(.+?)&lt;/p&gt;", txt).group(1)
'string1#string2'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Simple, buggy, not reliable:</p>
<pre><code>line.replace('&lt;![CDATA[&lt;html&gt;&lt;body&gt;&lt;p style="margin:0;"&gt;', "").replace('&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;]]&gt;', "").split("#")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>re.search(r'[^&gt;]+#[^&lt;]+',s).group()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would like to refer you to this <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">gem</a>:</p>
<p>In synthesis a regex is not the appropriate tool for this job<br/>
Also have you tried an <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">XML</a> parser instead? </p>
<p>EDIT: </p>
<pre><code>import xml.etree.ElementTree as ET
a = "&lt;html&gt;&lt;body&gt;&lt;p style=\"margin:0;\"&gt;string1#string2&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
root = ET.fromstring(a)
c = root[0][0].text

OUT:
c
'string1#string2'

d = c.replace('#', ' ').split()
Out: 
d 
['string1', 'string2']
</code></pre>
</div>
<span class="comment-copy">Quick, dirty, and without regex: <code>newline = oldline.replace('&lt;![CDATA[&lt;html&gt;&lt;body&gt;&lt;p style="margin:0;"&gt;','').replace('&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;]]&gt;','')</code>.</span>
<span class="comment-copy">or just <code>line[42:57]</code></span>
<span class="comment-copy">This is not an answer. The linked answer is epic, but that doesn't make this an answer.</span>
