<div class="post-text" itemprop="text">
<p>Trying to convert a text file to csv but in the converted file I am getting square brackets at the start and end of each line and single quotes surrounding each character.</p>
<p>in the 1st step, I am trying to remove the single quotes, but this seems to be not working</p>
<p>the code is given below:</p>
<pre><code>with open('New-file_0.csv','w') as p3:
    with open ('New-file_1','r') as p2: 
        for line in p2: 
            if not line.isspace(): 
                print(line.split(),file = p3)

with open ('final-file_1.csv','w') as p2:
    with open('New-file_0.csv','r') as p3: 
        for line in p3: 
            line=line.replace("'","") 
            print(line.split(),file = p2)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're implicitly converting the split array to a string when printing it, which isn't formatting it the way you want. Use join to convert the array back to a comma-separated string.</p>
<pre><code>print(",".join(line.split()), file=p2)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There are several issues here:</p>
<ol>
<li>Instead of printing to files, generally use <code>p3.write(myline)</code>.</li>
<li><code>split()</code> generates lists, which you are currently giving to your print function, so they are written to your files. What you want to give them instead is a string, e.g. <code>",".join(line.split())</code></li>
<li><p>Since in this case, you want to produce a .csv file, it would be better to circument all that and use the builtin csv module, which will take care of turning your list into a string:</p>
<pre><code>import csv

with open(output_file,'wb') as p3: # make sure to use 'wb' for binary writing, or you will get unwanted empty rows
    output_data = csv.writer(p3, delimiter=",")
    with open (input_file,'r') as p2:
        for line in p2:
            row = line.strip().split()
            if row:
                output_data.writerow(row)
</code></pre></li>
</ol>
<p>(This module also allows reading of .csv files into a list of rows using <code>csv.read()</code>).</p>
</div>
<span class="comment-copy">Please look at the <a href="https://docs.python.org/3/library/csv.html?highlight=csv#module-csv" rel="nofollow noreferrer"><code>csv</code></a> module it is designed for reading and writing csv files. <code>line.split()</code> returns a <code>list</code> the string literal of a <code>list</code> is <code>[...]</code> - hence what you are seeing in your file.</span>
<span class="comment-copy">This also does not seem to work as now I am getting some more braces</span>
<span class="comment-copy"><code>line.split()</code> will always never be empty, because at a minimum <code>line == '\n'</code>. You would need to <code>line.strip().split()</code> to get an empty list for the <code>if row:</code> condition to be useful</span>
<span class="comment-copy">@AChampion you're right, of course. Fixed my answer accordingly.</span>
