<div class="post-text" itemprop="text">
<p>I'm going through the book Python Crash Course and I'm stuck at the example given in the book. I even copy - pasted the script from the book and still got an error.</p>
<p>File called car.py</p>
<pre><code>"""A class that can be used to represent a car."""

class Car():
"""A simple attempt to represent a car."""

def __init__(self, make, model, year):
    """Initialize attributes to describe a car."""
    self.make = make
    self.model = model
    self.year = year
    self.odometer_reading = 20

def get_descriptive_name(self):
    """Return a neatly formatted descriptive name."""
    long_name = str(self.year) + " " + self.make +\
                " " + self.model
    return long_name.title()

def read_odometer(self):
    """Print a statement showing the car's mileage"""
    print("This car has " + str(self.odometer_reading) +
          " miles on it.")

def update_odometer(self, mileage):
    """
    Set the odometer reading to the given value.
    Reject the change if it attempts to roll the odometer back.
    """
    if mileage &gt;= self.odometer_reading:
        self.odometer_reading = mileage
    else:
        print("You can't roll back an odometer!")

def increment_odometer(self, miles):
    """Add the given amount to the odometer reading."""
    self.odometer_reading += miles

class Battery():
"""A simple attempt to model a battery for an electric car."""

def __init__(self, battery_size=60):
    """Initialize the battery's attributes."""
    self.battery_size = battery_size

def describe_battery(self):
    """Print a statement describing the battery size."""
    print("This car has a " + str(self.battery_size) + "-kWh battery.")

def get_range(self):
    """Print a statement about the range this battery provides."""
    if self.battery_size == 70:
        range = 240
    elif self.battery_size == 85:
        range = 270

    message = "This car can go approximately " + str(range)
    message += " miles on a full charge."
    print(message)

class ElectricCar(Car):
"""Models aspects of a car, specific to electric vehicles."""

def __init__(self, make, model, year):
    """
    Initialize attributes of the parent class.
    Then initialize attributes specific to an electric car.
    """
    super().__init__(make, model, year)
    self.battery = Battery()
</code></pre>
<p>Now, when I try to import the class by the following script (in file my_electric_car.py):</p>
<pre><code>from car import ElectricCar

my_tesla = ElectricCar("tesla", "model s", 2016)

print(my_tesla.get_descriptive_name())
my_tesla.battery.describe_battery()
my_tesla.battery.get_range()
</code></pre>
<p>Unfortunately I got an error:</p>
<pre><code>/usr/local/bin/python3.7 "/Users/XXX/Desktop/Python Crash Course/Chapter 9/my_electric_car.py"
2016 Tesla Model S
This car has a 60-kWh battery.
Traceback (most recent call last):
File "/Users/bielas/Desktop/Python Crash Course/Chapter 9/my_electric_car.py", line 7, in &lt;module&gt;
my_tesla.battery.get_range()
File "/Users/bielas/Desktop/Python Crash Course/Chapter 9/car.py", line       56, in get_range
message = "This car can go approximately " + str(range)
UnboundLocalError: local variable 'range' referenced before assignment

Process finished with exit code 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your battery has a initialized <code>self.battery_size</code> of 60. </p>
<p>What value <code>range</code> got if you do not change it to 70 or 85?</p>
<blockquote>
<pre><code>def get_range(self):
    """Print a statement about the range this battery provides."""
    if self.battery_size == 70:
        range = 240
    elif self.battery_size == 85:
        range = 270

    message = "This car can go approximately " + str(range)
    message += " miles on a full charge."
    print(message)
</code></pre>
<p>(citation of your code)</p>
</blockquote>
<p>Change to:</p>
<pre><code>     if self.battery_size == 70:
         range = 240
     elif self.battery_size == 85:
         range = 270
     else: 
         # chose a fitting value for 60 - or better: use a formular to calc range  
         # so you do not have to provide hardcoded range values for all charges
         # between 0 and 2000
         range = 200 # or smth like: range = self.battery_size // 3
</code></pre>
<hr/>
<p>Sidenote:</p>
<p>avoid using names that python already uses, this includes f.e. built-ins ( min, max, <em>range</em>, list, set, dict, ...) <a href="https://docs.python.org/3/library/functions.html" rel="nofollow noreferrer">built-ins Link </a>. You variable reassignes this name from the function to your values and you shadow them - hence can not use them anymore.</p>
</div>
<span class="comment-copy">think about what happens if <code>self.battery_size</code> is not equal to <code>70</code> or <code>85</code>?</span>
<span class="comment-copy">From your example here I feel that's a horrible book. You should probably not define a variable named <code>range</code>. Also the author didn't even include a <code>else</code> clause in the <code>if</code> statement.</span>
