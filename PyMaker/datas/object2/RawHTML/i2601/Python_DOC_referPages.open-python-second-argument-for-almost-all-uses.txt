<div class="post-text" itemprop="text">
<p>I'm new in Python and I'm creating a bot for a service called Discord, which maybe you know about.</p>
<p>I'd like to store configurations for users who use the bot in files and I'm quite not understanding how does the second argument of the read() function work.</p>
<p>I've read that depending on the letter you write, you will write the file, read it, etc.</p>
<p>The thing is that I'm quite not understanding how does this work.
If I have read properly, I think it is that mixing letters allows doing different actions.
Can anybody help me out? What string should I need or should I make more than one .read() for that?
I'd like to:</p>
<ul>
<li>If the file doesn't exist, create it</li>
<li>Ability to read the file</li>
<li>Ability to overwrite the file, setting the entire file to what I insert, not 
appending it.</li>
</ul>
<p>If someone could help me out, I'd really like it! Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>def trace_write(file, text_to_trace):
    write_trace = []
    if type(text_to_trace) ==  str:
        with open(file, 'wt+') as w:
            write_trace.append(text_to_trace)
            w.write(text_to_trace+'\n')
    if type(text_to_trace) == list or type(text_to_trace) == tuple:
        with open(file, 'wt+') as w:
            for line in text_to_trace:
                write_trace=text_to_trace
                w.write(line+'\n')
    return write_trace if write_trace != [] else 'Nothing to trace'
</code></pre>
<p>AFAIK there is no way to do this without opening the file in write mode, then closing the file after the writes are complete, then re-opening in read mode.</p>
<p>In response to the section about opening in a specific mode where it overwrites the file, not append, but also creates the file if it doesn't exist, you're looking to open in <code>wt+</code>.</p>
<p>I would expect that if you wanted to "trace" what was written previously, for logging lets says, we could create a new function as written above which handles the writing for us.</p>
<p>Please let me know if there is anything unanswered and I will do my best to amend this for you.</p>
<p>Expected output is below:</p>
<p><a href="https://i.stack.imgur.com/hbOYc.png" rel="nofollow noreferrer"><img alt="expected output:" src="https://i.stack.imgur.com/hbOYc.png"/></a></p>
<p>I really disagree with storing the information in a text file, purely for overhead's sake. I believe it would be far more suitable to use a pre-existing storage system that is tried and tested. Like, MongoDB or go the whole-hog and set up a database in SQL and the relevant functions you need to store and write to it.</p>
</div>
<span class="comment-copy">The docs explain what the <code>mode</code> argument values mean: <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">docs.python.org/3/library/functions.html#open</a></span>
<span class="comment-copy">@jonrsharpe I know, I just read that before I write the post but didn't get how to "mix" those letters</span>
<span class="comment-copy">What's the <i>specific problem</i> you've had trying to implement code using <code>open</code>? <a href="https://stackoverflow.com/posts/52128164/edit">Edit</a> to give a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a>.</span>
<span class="comment-copy">@Aimarekin what don't you get from it?</span>
<span class="comment-copy">I can't understand how to use the second argument to have the ability to read/write files. Do I need to use open() several times or use a specific second argument?</span>
<span class="comment-copy">Thank you! What I was searching for was that"there is no way to do this without opening the file in write mode, then closing the file after the writes are complete, then re-opening in read mode", the other rest of the answer did help too!</span>
