<div class="post-text" itemprop="text">
<p>Ok, so I've looked at all the other questions but I'm not really sure on how to apply what I've read to my code, and I'm not really to sure if it would work. So the text file I have looks like this:</p>
<pre class="lang-none prettyprint-override"><code>NeQua,High,
ImKol,Moderate,
YoTri,Moderate,
RoDen,High,
</code></pre>
<p>and my code is able to read the first line and cut out sections but the moment I add a search request for the second line it comes to an error. So how do I get it to read the next line?</p>
<p>This is the code I have so far:</p>
<pre><code>def main():
    global idin,clientid
    print("===================")
    print("=Activity Recorder=")
    print("===================")
    clientid=input("Please enter the client ID : ")
    print("")
    with open ("clientIntensity.txt") as search:
        for line in search:
            if clientid in line:
                idin=line[6:]#to extract high or moderate from the text
                idin=idin[:-2]
                print ("Intensity = ",idin)
                print("-",idin,"-")
                acti()
                break

            elif clientid not in line:
                search.next()
            else:
                print("Error")
                main()
def acti():
    global idin,clientid
    if idin == "High":
        print("Activites = Running, Swimming, Aerobics, Football, Tennis")
    elif idin == " Moderate ":
        print("Activities = Walking, Hiking, Cleaning, Skateboarding, Basketball")
    else:
        print("error 2")
</code></pre>
<p>I'm not really too sure on how to use the next function works.</p>
</div>
<div class="post-text" itemprop="text">
<p>The line:</p>
<pre><code>with open ("clientIntensity.txt") as search:
</code></pre>
<p>Creates a file-object called <code>search</code>. This file-object has <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer">many methods</a>, but not a <code>.next()</code> method. Hence calling <code>.next()</code> throws an error along the lines of "what do you want me to do!?".</p>
<hr/>
<p>However, you do know what you want to do, you want to iterate over each line and you are doing this with a for-loop. The beauty of the for-loop is that at the end of the current iteration, it continues on to the next iteration by itself until the end is reached (this end is actually a<code>StopIteration</code>).</p>
<p>So if you just want to continue onto the next line, just let the for-loop roll!</p>
<pre><code>with open ("clientIntensity.txt") as search:
    for line in search:
        if clientid in line:
            idin=line[6:]#to extract high or moderate from the text
            idin=idin[:-2]
            print ("Intensity = ",idin)
            print("-",idin,"-")
            acti()
            break
</code></pre>
<hr/>
<p>One final tip. If you have a string such as <code>hello,there,</code> it is a lot of effort to extract <code>there</code> through slicing as you are, but very easy to do so by using a method of the <code>string</code> object, namely <code>.split()</code>. This allows you to get a list of sub-strings by specifying a deliminator. For instance, <code>'hello,there,'.split(',')</code> gives <code>['hello', 'there', '']</code>. You can then just index the second word with <code>'hello,there,'.split(',')[1]</code>, giving <code>'there'</code>!</p>
<p><em>NOTE: The reason there is a third element returned from the split method is that the string ends in a comma, so when split on commas, an empty string at the end is also returned, but you can ignore this.</em></p>
</div>
<div class="post-text" itemprop="text">
<p>You don't need to call <code>next()</code>. You are already iterating over the lines of the file, so, don't do anything, and the next line will come at the next iteration.</p>
<pre><code>elif clientid not in line:
    pass
</code></pre>
<p>Unrelated to file reading: You if-elseif-else doesn't make sense. <code>clientid in line</code> is either true or false, so it doesn't make sense to have 3 conditions. Just remove the middle <code>elif</code> altogether`</p>
</div>
<div class="post-text" itemprop="text">
<p><code>for</code> loop already calls <code>next</code> for you.</p>
<p>Since you are reading a csv file (a file with values separated by commas) you should use the <code>csv</code> module - it automatically splits each line for you, so you don't have to slice each line yourself.</p>
<p>To further help you I also removed the globals and used parameter passing to pass the variable to the other function. Also I removed the recursive call to <code>main()</code> and used a loop to repeat the search. If you enter the empty string (just press enter), it should exit the loop and finish the program.</p>
<pre><code>import csv

def main():
    print("===================")
    print("=Activity Recorder=")
    print("===================")

    while True:
        clientid=input("Please enter the client ID: ")
        print("")
        if not clientid:
             break
        with open ("clientIntensity.txt") as f:
            search = csv.reader(f, delimiter=',')
            for row in search:
                if row[0] == clientid:
                    idin = row[1]
                    print ("Intensity = ", idin)
                    acti(idin)
                    break
            else:
                print('ERROR: Not found')

def acti(idin):
    if idin == "High":
        print("Activites = Running, Swimming, Aerobics, Football, Tennis")
    elif idin == "Moderate":
        print("Activities = Walking, Hiking, Cleaning, Skateboarding, Basketball")
    else:
        print("ERROR: Unknown idin")
</code></pre>
</div>
<span class="comment-copy">Why do you call main() from main() but never call main() itself?</span>
<span class="comment-copy">oh thank you very much! this simplified my life by so much!</span>
<span class="comment-copy">@RishabSudhir No problem</span>
<span class="comment-copy">omg thank you so much, it was this easy!</span>
<span class="comment-copy">@RishabSudhir: thanks. please accept answer if it solved the problem</span>
