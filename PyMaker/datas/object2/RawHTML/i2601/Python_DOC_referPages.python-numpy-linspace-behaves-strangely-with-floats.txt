<div class="post-text" itemprop="text">
<p>I have an issue with numpy linspace</p>
<pre><code>import numpy as np

temp = np.linspace(1,2,11)

for t in temp:
    print(t)
</code></pre>
<p>This return : </p>
<pre><code>1.0
1.1
1.2
1.3
1.4
1.5
1.6
1.7000000000000002
1.8
1.9
2.0
</code></pre>
<p>The 1.7 value looks definitely wrong.</p>
<p>It seems related to this issue <a href="https://github.com/numpy/numpy/issues/8909" rel="nofollow noreferrer">https://github.com/numpy/numpy/issues/8909</a></p>
<p>Does anybody ever had such a problem with numpy.linspace ? is it a known issue ?</p>
<p>François</p>
</div>
<div class="post-text" itemprop="text">
<p>This is nothing to do with <code>numpy</code>, consider:</p>
<pre><code>&gt;&gt;&gt; temp = np.linspace(1,2,11)
&gt;&gt;&gt; temp
array([1. , 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2. ])
&gt;&gt;&gt; #                                     ^ look, numpy displays it fine
&gt;&gt;&gt; for t in temp:
...     print(t)
... 
1.0
1.1
1.2
1.3
1.4
1.5
1.6
1.7000000000000002
1.8
1.9
2.0
</code></pre>
<hr/>
<p>The "issue" is with how computers represent floats in general. See: <a href="https://docs.python.org/3/tutorial/floatingpoint.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/floatingpoint.html</a>.</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/21895756/why-are-floating-point-numbers-inaccurate">Why Are Floating Point Numbers Inaccurate?</a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/588004/is-floating-point-math-broken">Is floating point math broken?</a></span>
<span class="comment-copy">Thanks for the information. The document you provided explain very well the problem. Today I learned something :-)</span>
<span class="comment-copy">@Francois Yeah it caught me out on a test concerning money before! You always want to store money as pence (I'm English) rather than pounds and pence: so <code>£3.45</code> should be <code>345</code> rather than <code>3.45</code> as there is no avoiding this.</span>
