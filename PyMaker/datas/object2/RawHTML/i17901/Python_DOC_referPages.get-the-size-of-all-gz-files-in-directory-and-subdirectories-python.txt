<div class="post-text" itemprop="text">
<p>I am trying to loop over all the zipped files in a directory and keep it's size. I saw that I can do that without extracting it, but when I try to do so, I get an ERROR:
 " IOError: [Errno 2] No such file or directory:'first_gz_file.*.gz' "
When I am looking for it,I can find it, so I don't understand why do I get the error.</p>
<p>this is my code:</p>
<pre><code>for directories in chosen_dirs:
    for root,dir,file in os.walk(directories):
        for o in file: 
            if o.endswith('.gz'):
                print (o)
                input_file = gzip.open(o, 'rb')
                try:
                    print(input_file.size)
                finally:
                    input_file.close()
</code></pre>
<p><strong>it does print the o files correctly (if I delete the lines below it)</strong></p>
<p>What goes wrong there?
thank you</p>
</div>
<div class="post-text" itemprop="text">
<p>Don't open the file use <code>os.path.getsize(path)</code></p>
<p>As for what goes wrong a quick check shows that a gzip object doesn't have a size method:</p>
<pre><code>&gt;&gt;&gt; g = gzip.open('temp.gz', 'wb')
&gt;&gt;&gt; dir(g)
['__abstractmethods__', '__class__', '__delattr__', '__doc__', '__enter__', 
'__exit__', '__format__', '__getattribute__', '__hash__', '__init__', '__iter__',
'__metaclass__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__',
'__setattr__', '__sizeof__', '__str__', '__subclasshook__', '_abc_cache', 
'_abc_negative_cache', '_abc_negative_cache_version', '_abc_registry', 
'_add_read_data', '_checkClosed', '_checkReadable', '_checkSeekable', 
'_checkWritable', '_check_closed', '_init_read', '_init_write', '_read', 
'_read_eof', '_read_gzip_header', '_unread', '_write_gzip_header', 'close', 
'closed', 'detach', 'filename', 'fileno', 'flush', 'isatty', 'max_read_chunk', 
'myfileobj', 'next', 'read', 'read1', 'readable', 'readinto', 'readline', 
'readlines', 'rewind', 'seek', 'seekable', 'tell', 'truncate', 'writable', 
'write', 'writelines']
&gt;&gt;&gt; 
</code></pre>
<p>I would add <strong>don't</strong> use <code>file</code> and <code>dir</code> as variable names as they are both reserved words in python that you might need to use in the original context they are both also lists in the context you are using them so use <code>root, dirs, files</code> or <code>root, dir_list file_list</code> for clarity.</p>
</div>
<span class="comment-copy">See the glob library <a href="http://docs.python.org/3/library/glob.html" rel="nofollow noreferrer">docs.python.org/3/library/glob.html</a></span>
<span class="comment-copy"><code>glob.glob</code> only looks in the specified directory, not its sub-directories.</span>
