<div class="post-text" itemprop="text">
<p>I'm working with a generator and I have the code below. I'm a little confused about its logic.</p>
<p>The generator in the function works fine as long as there is a 'False' at the end. Removing it causes a <code>StopIteration</code> exception when running the function.</p>
<p>Can anybody explain me the role of <code>False</code> here?</p>
<pre><code>&gt;&gt;&gt; def some(coll, pred= lambda x:x)
...    return next((True for item in coll if pred(item)),False)
... 
&gt;&gt;&gt; some([0,'',False])
False
&gt;&gt;&gt; def some(coll, pred= lambda x:x):
...     return next((True for item in coll if pred(item)))
...
&gt;&gt;&gt; some([0,'',False])
Traceback (most recent call last):
  File "&lt;pyshell#64&gt;", line 1, in &lt;module&gt;
    some([0,'',False])
  File "&lt;pyshell#63&gt;", line 2, in some
    return next((True for item in coll if pred(item)))
StopIteration
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are passing in a default value for the <a href="http://docs.python.org/3/library/functions.html#next" rel="nofollow"><code>next()</code> function</a> to return if the generator expression raises a <code>StopIteration</code> exception. The <code>False</code> is the default value returned here:</p>
<blockquote>
<p>Retrieve the next item from the <em>iterator</em> by calling its <a href="http://docs.python.org/3/library/stdtypes.html#iterator.__next__" rel="nofollow"><code>__next__()</code></a> method. If <em>default</em> is given, it is returned if the iterator is exhausted, otherwise <a href="http://docs.python.org/3/library/exceptions.html#StopIteration" rel="nofollow"><code>StopIteration</code></a> is raised.</p>
</blockquote>
<p>Raising <code>StopIteration</code> is how iterators communicate that they are done and can no longer be used to produce results. Generators are a specialised type of iterator.</p>
<p>You don't have to pass in <code>False</code>; any valid Python value will do. If you omit the <em>default</em> argument, you can also omit the generator parenthesis:</p>
<pre><code>next(True for item in coll if pred(item))
</code></pre>
</div>
<span class="comment-copy"><a href="http://docs.python.org/2/library/functions.html#next" rel="nofollow noreferrer">The documentation</a> is quite clear about that...</span>
