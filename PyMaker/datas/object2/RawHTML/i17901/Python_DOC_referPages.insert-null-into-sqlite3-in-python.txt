<div class="post-text" itemprop="text">
<p>I am trying to insert a <code>None</code> value into a row entry of my db. The table <code>present</code> exists</p>
<pre><code>db.execute("INSERT INTO present VALUES('test', ?, 9)", "This is a test!")
db.execute("INSERT INTO present VALUES('test2', ?, 10)", None)
</code></pre>
<p>but I get an error:</p>
<pre><code>ValueError: parameters are of unsupported type
</code></pre>
<p>how do I insert a blank value for the second field in the row?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use a tuple, I.E.:</p>
<pre><code>db.execute("INSERT INTO present VALUES('test2', ?, 10)", (None,))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<h3>Last time tested on: August 2018 </h3>
<ul>
<li>Python 3.6.1</li>
<li>Python 2.7.10</li>
</ul>
<hr/>
<p>I'm not sure if it was the case back when the original question was posted, but as of today:
</p>
<pre><code>db.execute("INSERT INTO present VALUES('test', ?, 9)", "This is a test!")
</code></pre>
<p>throws</p>
<pre><code>sqlite3.ProgrammingError: Incorrect number of bindings supplied. The current statement uses 1, and there are 15 supplied.
</code></pre>
<p>when ran.</p>
<p>Because <code>execute()</code> accepts <code>sql</code> — which is sql query to execute, and <code>parameters</code> — which is iterable, containing query parameters (currently this is true for both <a href="https://docs.python.org/2.7/library/sqlite3.html#sqlite3.Cursor.execute" rel="nofollow noreferrer">Python 2</a> and <a href="https://docs.python.org/3.7/library/sqlite3.html#sqlite3.Cursor.execute" rel="nofollow noreferrer">Python 3</a>. As string is iterable — it treats it accordingly.</p>
<p><a href="https://docs.python.org/3/library/sqlite3.html#introduction" rel="nofollow noreferrer">Docs</a> clearly state, that Python <code>None</code> type correspond to SQLite <code>NULL</code> type.</p>
<p>So, correct way to do it would be:
</p>
<pre><code>db.execute("INSERT INTO present VALUES('test2', :null, 10)", {'null':None})

#or

db.execute("INSERT INTO present VALUES('test2', ?, 10)", (None,))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem here is that the values that you're supplying are meant to be in either a list or a tuple. The second argument is expected the be a collection (array of some kind) that can be iterated over. If you supply a collection it will work, even if that collection only has the one value in it. Another problem arises though in that a string behaves like a collection of characters, and can be iterated over. So when you supply a single string without putting it in a collection itself, it says the "collection" is too big, compared to the number of bindings (question marks). The string "This is a test!" is 15 characters long, and can look like a collection (array) with 15 values when the len() function is used on it. So sqlite3 thinks you've passed a collection as it wants, but the size of the collection doesn't match the number of bindings you've got in the query.</p>
</div>
<span class="comment-copy">Did you try with NULL ?</span>
<span class="comment-copy">@opalenzuela passing 'NULL' as a string instead of None worked for me.</span>
<span class="comment-copy">the one with the tuple, (None,) is the correct syntax.</span>
<span class="comment-copy">@redcartel, they both correct see examples under the <code># And this is the named style:</code> for <a href="https://docs.python.org/2.7/library/sqlite3.html#sqlite3.Cursor.execute" rel="nofollow noreferrer">Python 2</a> and <a href="https://docs.python.org/3.7/library/sqlite3.html#sqlite3.Cursor.execute" rel="nofollow noreferrer">Python 3</a>.</span>
