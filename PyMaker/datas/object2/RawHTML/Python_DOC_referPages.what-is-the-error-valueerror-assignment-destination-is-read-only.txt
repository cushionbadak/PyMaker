<div class="post-text" itemprop="text">
<p>When I am opening a jpg file using cv2.imread() and it fails sometimes which is likely due to BGR format I used. So I switched to PLT to use RGB.</p>
<pre><code>import matplotlib.pyplot as plt
import numpy as np

def rgb_to_gray(img):
        grayImage = np.zeros(img.shape)
        R = np.array(img[:, :, 0])
        G = np.array(img[:, :, 1])
        B = np.array(img[:, :, 2])

        R = (R *.299)
        G = (G *.587)
        B = (B *.114)

        Avg = (R+G+B)
        grayImage = img

        for i in range(3):
           grayImage[:,:,i] = Avg

        return grayImage       

image_file = 'C:\A.jpg';
img = plt.imread(image_file,0)
gray = rgb_to_gray(img).copy()
</code></pre>
<p>How ever I am getting an error when I convert the image to gray scale. : "ValueError: assignment destination is read-only" How could I change my code here to avoid it?</p>
</div>
<div class="post-text" itemprop="text">
<p>This line appears redundant and causes the error, remove it:</p>
<pre><code>        grayImage = img
</code></pre>
</div>
<span class="comment-copy">Please add the full error message.</span>
<span class="comment-copy">This code seems to work. The image_file contains an escape sequence “\A” you should use a raw string or a double \\</span>
<span class="comment-copy">What was the purpose of <code>grayImage = img</code>?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/39554660/np-arrays-being-immutable-assignment-destination-is-read-only">np arrays being immutable - "assignment destination is read-only"</a></span>
<span class="comment-copy">Sounds like <code>C:\A.jpg</code> is read-only (either permission or code level).</span>
