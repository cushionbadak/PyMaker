<div class="post-text" itemprop="text">
<p>I need to write a python script that autostarts on boot and is executed every 5 minutes on a raspberry pi. How can this be done? in particular, how can I avoid having a script locking up the cpu running a infine loop waiting for the 5 minutes to be over?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can easily use <a href="http://en.wikipedia.org/wiki/Cron" rel="noreferrer">cron</a> for this task (schedule to run Python script). ;)</p>
<h2>How to setup cron</h2>
<p>I suppose that you have <em>cron</em> installed already; if not, then install some (<em>vixie-cron</em> for an example).</p>
<p>Create a new file <code>/etc/cron.d/&lt;any-name&gt;.cron</code> with the following content:</p>
<pre><code># run script every 5 minutes
*/5 * * * *   myuser  python /path/to/script.py

# run script after system (re)boot
@reboot       myuser  python /path/to/script.py
</code></pre>
<p>where <code>myuser</code> is the user to run the script (it shouldn’t be root if possible, for security reasons). If this doesn’t work, then try to append the content to <code>/etc/crontab</code> instead.</p>
<p>You might want to redirect stdout/stderr of the script to file, so you can check if everything works fine. This is same as in shell, just add something like <code>&gt;&gt;/var/log/&lt;any-name&gt;-info.log 2&gt;&gt;/var/log/&lt;any-name&gt;-error.log</code> after the script path.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="http://docs.python.org/3/library/time.html?highlight=sleep#time.sleep" rel="nofollow">time.sleep</a></p>
<pre><code>count = -1
while(not abort):
    count = (count+1) % 100
    if count == 0:
        print('hello world!')
    time.sleep(3)
</code></pre>
</div>
<span class="comment-copy">Use cron, but gevent will also be able to do the task nicely or sleep</span>
<span class="comment-copy">thanks! do you have an example on how to set it up on raspbian?</span>
<span class="comment-copy">It depends on OS you have on your Raspberry, it’s irrelevant that it’s a Raspberry, not PC. However it’s basically the same on all Linux distros. I’ve updated my answer, hope it helps.</span>
<span class="comment-copy">Ah, Raspbian is actually a distro, not some short for Raspberry Pi. :)</span>
<span class="comment-copy">thanks! root is disabled anyway on raspbian.. :) what if i need to make a reboot through my script? it wont work with a different user..</span>
<span class="comment-copy">Then you just run <code>sudo reboot</code> from the script…?</span>
