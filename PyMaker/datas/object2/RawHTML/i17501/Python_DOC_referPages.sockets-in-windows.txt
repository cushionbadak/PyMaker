<div class="post-text" itemprop="text">
<p>I wrote an example of programming sockets in Python.</p>
<pre><code># Prueba Sockets -Cliente-
import socket

s = socket.socket()
s.connect(("localhost", 9999))

while True:
      message = input("Enter the message: ")
      s.send(message)
      if message == "quit":
         break

print("Good bye")

s.close()

a = input("Enter key to End:")
</code></pre>
<p>While the server script is running I'd run the client script but it throws an error.</p>
<p>This is the output:</p>
<pre><code>Enter the message: Try this.
Traceback (most recent call last):
  File "C:/Users/sajime/PycharmProjects/Learning/SocketClient.py", line 9, in &lt;module&gt;
    s.send(message)
TypeError: 'str' does not support the buffer interface
</code></pre>
<p>Python 3.3 in Windows 7.</p>
<p>I'd tried with an integer instead the string, but it throws error too.</p>
<p>When the client stops by error the server goes to an endless loop printing empty messages.</p>
</div>
<div class="post-text" itemprop="text">
<p>In Python 3.x, <a href="http://docs.python.org/3/library/socket.html#socket.socket.send" rel="nofollow"><code>socket.send</code></a> accepts <code>bytes</code> object instead of <code>str</code> object. Encode the string.</p>
<p>Replace the following line:</p>
<pre><code>s.send(message)
</code></pre>
<p>with:</p>
<pre><code>s.send(message.encode())
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this :</p>
<pre><code>s.send(bytes(message, "UTF-8"))
</code></pre>
<p>Just like @falsetru said, the python 3.x api changed. You now need to send bytes instead of a string.</p>
</div>
<span class="comment-copy">Well, you always needed to send bytes. Python 2 just made it easier to be confused about when you had bytes and when you had unicode strings, and things mostly worked coincidentally.</span>
<span class="comment-copy">You're wrong, python2 socket.send api requires a string <code>socket.send(string[, flags])</code> from <a href="http://docs.python.org/2/library/socket.html#socket.socket.send" rel="nofollow noreferrer">docs.python.org/2/library/socket.html#socket.socket.send</a>  python3 requires bytes: <code>socket.send(bytes[, flags])</code> <a href="http://docs.python.org/3.3/library/socket.html#socket.socket.send" rel="nofollow noreferrer">docs.python.org/3.3/library/socket.html#socket.socket.send</a>  I know you mean that in the end, the <code>string</code> becomes <code>bytes</code> but we wouldn't be talking about the python2/3 socket api.</span>
<span class="comment-copy">Python 2 <code>str</code> objects are bytestrings.</span>
<span class="comment-copy">Ok, but... the server receives bytes.  How convert the bytes received in a string before printing?</span>
<span class="comment-copy">@Trimax: you <code>.decode()</code> them with the same codec you used to encode.</span>
