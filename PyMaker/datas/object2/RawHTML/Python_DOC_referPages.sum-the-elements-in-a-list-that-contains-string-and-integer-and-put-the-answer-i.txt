<div class="post-text" itemprop="text">
<p>I have to write a code to sum the grades of each student in the list and return the total.
My code is:</p>
<pre><code>list=['student1',10,20,40,'student2',20,20,40,'student3',20,30,40,'student4',20,10,30]
list2=[]
for i in range(0,len(list1),4):
    list2.append(list1[i])
    for j in range(len(list1)):
        if j%4 == 1:
            sum= list1[j]+list1[j+1]+list1[j+2]
            list2.append(sum)
print(list2)
</code></pre>
<p>the expected output should be like:</p>
<pre><code>['student1', 70, 'student2', 80,'student3', 90, 'student4', 60]
</code></pre>
<p>but i got this output:</p>
<pre><code>['student1', 70, 80, 90, 60, 'student2', 70, 80, 90, 60, 'student3', 70, 80, 90, 60, 'student4', 70, 80, 90, 60]
</code></pre>
<p>â€‹</p>
<p>so what is the wrong with my code?</p>
<p>â€‹</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do it with single loop:</p>
<pre><code>lst = ['student1', 10, 20, 40, 'student2', 20, 20, 40, 'student3', 20, 30, 40, 'student4', 20, 10, 30]
result = []
for i in range(0, len(lst), 4):
    result.extend((lst[i], sum(lst[i+1:i+4])))
</code></pre>
<p>Output:</p>
<pre><code>['student1', 70, 'student2', 80, 'student3', 90, 'student4', 60]
</code></pre>
<p>If number of marks are different from student to student, e.g.:</p>
<pre><code>lst = ['student1', 10, 20, 'student2', 10, 20, 30, 'student3', 10, 20, 30, 40, 'student4', 10, 20, 30, 40, 50]
</code></pre>
<p>Then:</p>
<pre><code>s = 0
result = [lst[0]]
for i in lst[1:]:
    try:
        s += int(i)
    except ValueError:
        result.extend((s, i))
        s = 0
result.append(s)
</code></pre>
<p>Output:</p>
<pre><code>['student1', 30, 'student2', 60, 'student3', 100, 'student4', 150]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In your second loop you loop again over your whole initial list1, thus you always append all the sums. If your list really always contains one name and three grades, you could instead get rid of the second loop and just use 'i' from your first loop as iterator for the sums, in the same manner as you are doing now.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>list1=['student1',10,20,40,'student2',20,20,40,'student3',20,30,40,'student4',20,10,30]
list2=[]
for i in range(0,len(list1),4):
    list2.append(list1[i])
    sum= list1[i+1]+list1[i+2]+list1[i+3]
    list2.append(sum)
print(list2)
</code></pre>
<p>produces </p>
<pre><code>['student1', 70, 'student2', 80, 'student3', 90, 'student4', 60]
</code></pre>
<p>The second for loop in code goes through every element in the list and take action whenever the index mod 4 is 1. You do not need two for loops.</p>
</div>
<div class="post-text" itemprop="text">
<p>i goes like this: 0, 4, 8, so you do not need the second for loop.</p>
<p>you already know where the numbers are.(i+1,i+2,i+3) and i is the student name.</p>
<pre><code>list1=['student1',10,20,40,'student2',20,20,40,'student3',20,30,40,'student4',20,10,30]
list2=[]
for i in range(0, len(list1), 4):
    list2.append(list1[i])
    sum = list1[i+1]+list1[i+2]+list1[i+3]
    list2.append(sum)
print(list2)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try</p>
<pre><code>in_lst = ['student1', 10, 20, 40, 'student2', 20, 20, 40, 'student3', 20, 30, 40, 'student4', 20, 10, 30]
out_lst = []
for x in range(0, len(in_lst), 4):
    student_entry = in_lst[x:x + 4]
    out_lst.append(student_entry[0])
    out_lst.append(sum(student_entry[1:]))
print(out_lst)
</code></pre>
<p>Output</p>
<pre><code>['student1', 70, 'student2', 80, 'student3', 90, 'student4', 60]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>here is solution, where you dont't need to worry about the no of sbject score by student.</p>
<pre><code>list1=['student1',10,20,40,'student2',20,20,40,'student3',20,30,40,'student4',20,10,30]

student_name =[]
student_name_index =[]

for i in range(len(list1)):        
    if type(list1[i]) == int:
        pass
    else:
        student_name.append(list1[i])
        student_name_index.append(i)

student_name_index.append(len(list1)-1)

total_marks=[]

for i in range(1,len(student_name_index)):
    total_marks.append(sum(list1[student_name_index[i-1]+1:student_name_index[i]]))

final_result =[]

for name, mark in zip(student_name,total_marks):
    final_result.append(name)
    final_result.append(mark)

print(final_result)

# output ['student1', 70, 'student2', 80, 'student3', 90, 'student4', 30] 
</code></pre>
</div>
<span class="comment-copy">What if there are more marks for a student?</span>
<span class="comment-copy">Then you're replacing <code>4</code> with actual+1 number of marks</span>
<span class="comment-copy">@Alderven I guess what Dirtybit mean was what if every student has a different subject score ( means 4 subject scores for student 1 3 for student 2 and so on)</span>
<span class="comment-copy">then you can check its class like: cur_sum = 0 cur = list[i] while not isinstance(cur, str):   cur_sum += list[i]</span>
<span class="comment-copy">Yep, guys see my updated answer.</span>
<span class="comment-copy">@DirtyBit  is this what you have asked from Alderven</span>
