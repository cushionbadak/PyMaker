<div class="post-text" itemprop="text">
<p>I have an object like:</p>
<pre><code>obj1 = {
    'k1' : 'v1', 
    'k2' : [
        {
            'k21' : '中文字符'
        }
    ]
}
</code></pre>
<p>I want to convert it to a string like :</p>
<pre><code>'''{ 'k1' : 'v1', 'k2' : [ { 'k21' : '中文字符' } ] } '''
</code></pre>
<p>using str() give me this:</p>
<pre><code>'''{'k2': [{'k21': '\xe4\xb8\xad\xe6\x96\x87\xe5\xad\x97\xe7\xac\xa6'}], 'k1': 'v1'}'''
</code></pre>
<p>Notice that '\xe4' has four chars. I guess that str() simply calls repr(). </p>
<p>One solution is traveling all the key of the object and recursively handle it. I am wondering is there any other way to achieve it. Such as converting the '\xe4' to '中' or directly convert obj1 to the excepted result.</p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>Like what @Cyber suggested, using <code>json</code> will be an option, like this:</p>
<pre><code>import json

In [11]: obj1 = {
    ...:     'k1' : 'v1', 
    ...:     'k2' : [
    ...:         {
    ...:             'k21' : '中文字符'
    ...:         }
    ...:     ]
    ...: }
         # remember to set ensure_ascii=False
In [12]: s = json.dumps(obj1, ensure_ascii=False)

In [13]: print s
{"k2": [{"k21": "中文字符"}], "k1": "v1"}
</code></pre>
<p>I'm on <strong>Python 2.7.8</strong></p>
</div>
<span class="comment-copy">The step of converting from the dictionary to the JSON string can easily be done using the <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer"><code>json</code> library</a></span>
<span class="comment-copy">that's required so your javascript structure can be represented as json. You're embedding unicode chars, which MUST use multiple bytes for "foreign" characters.</span>
<span class="comment-copy">Python 3 handles this fine, are you using 2.x?</span>
<span class="comment-copy">@JasonS yes, I am using 2.7.5. Do you mean str() in python 3 outputs what I want?</span>
<span class="comment-copy">@Cyber json.dumps() produce '''{"k2": [{"k21": "\u4e2d\u6587\u5b57\u7b26"}], "k1": "v1"}'''</span>
