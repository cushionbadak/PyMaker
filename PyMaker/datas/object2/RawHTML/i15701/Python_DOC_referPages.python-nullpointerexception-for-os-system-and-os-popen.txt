<div class="post-text" itemprop="text">
<p>I am getting a <code>NullPointerException</code> for <code>os.system()</code> and <code>os.popen()</code> on python 2.2.1. The weird thing is that i have two servers and this same code works fine on one but not on the other. What could be missing in the second server?</p>
<p>Below is the code snippet</p>
<pre><code>import sys
import os

print (sys.version)   #This line works on both servers and gives 2.2.1 os output 
os.system('pwd')
os.popen('hostname -f').read().rstrip('\n')
</code></pre>
<p>I get the following error in the second server:</p>
<pre><code>*File "/u01/oracle/mwhome/wlserver_10.3/common/wlst/modules/jython-modules.jar/Lib/javaos$py.class", line 333, in system
File "/u01/oracle/mwhome/wlserver_10.3/common/wlst/modules/jython-modules.jar/Lib/popen2.py", line 31, in ?
File "/u01/oracle/mwhome/wlserver_10.3/common/wlst/modules/jython-modules.jar/Lib/javashell.py", line 17, in ?
File "/u01/oracle/mwhome/wlserver_10.3/common/wlst/modules/jython-modules.jar/Lib/string$py.class", line 434, in ?
    at java.io.File.&lt;init&gt;(File.java:222)
    at java.lang.Package$1.run(Package.java:527)
    at java.lang.Package.defineSystemPackage(Package.java:520)
    at java.lang.Package.getSystemPackages(Package.java:511)
    at java.lang.ClassLoader.getPackages(ClassLoader.java:1513)
    at java.lang.ClassLoader.getPackages(ClassLoader.java:1511)
    at java.lang.Package.getPackages(Package.java:281)
    at org.python.core.JavaImportHelper.buildLoadedPackages(Unknown Source)
    at org.python.core.JavaImportHelper.tryAddPackage(Unknown Source)
    at org.python.core.imp.import_next(Unknown Source)
    at org.python.core.imp.import_name(Unknown Source)
    at org.python.core.imp.importName(Unknown Source)
    at org.python.core.ImportFunction.load(Unknown Source)
    at org.python.core.ImportFunction.__call__(Unknown Source)
    at org.python.core.PyObject.__call__(Unknown Source)
    at org.python.core.__builtin__.__import__(Unknown Source)
    at org.python.core.imp.importFromAs(Unknown Source)
    at org.python.core.imp.importFrom(Unknown Source)
    at string$py.f$0(C:\wlst\jython_2.2.1\Lib\string.py:434)
    at string$py.call_function(C:\wlst\jython_2.2.1\Lib\string.py)
    at org.python.core.PyTableCode.call(Unknown Source)
    at org.python.core.PyCode.call(Unknown Source)
    at org.python.core.imp.createFromCode(Unknown Source)
    at org.python.core.imp.createFromPyClass(Unknown Source)
    at org.python.core.ZipFileImporter$ZipFileLoader.load_module(Unknown Source)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
java.lang.NullPointerException: java.lang.NullPointerException*
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I could be wrong here but I noticed that there is 'C:\' in the stacktrace. If this is running on a windows system 'pwd' and 'hostname' likely wont work if os.system / popen are executing exactly what you put in the argument which is likely why you are getting the error. </p>
<p>I am not a windows guru by any means but I dont think those commands exist outside of *nix based OS's.</p>
</div>
<span class="comment-copy">It's worth a note that it's highly recommended to use <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer">the <code>subprocess</code> module</a> instead of <code>os.popen()</code> or <code>os.system()</code>.</span>
<span class="comment-copy">Hi Lattyware, I believe the subprocess module is NOT present in this python version (2.2.1). I get the "ImportError: no module named subprocess" when i try to import it.</span>
<span class="comment-copy">2.2.1? Ouch. Is this the Jython version for <code>wsadmin</code>? I've never seen anything require such an old version. I assume you are tied to it, but if not, please update to something less ancient.</span>
<span class="comment-copy">Hi Tim, Its a Linux server i am running on. But yeah, i wonder why that "C:\" path is present in stack trace</span>
<span class="comment-copy">What OS is it? Can you provide more details about the OS and python version you are running?</span>
<span class="comment-copy">The <code>C:\...</code> path present on the stacktrace is due the jython modules were build on Windows; it happens when you build native apps that the backtrace references the original path where the source file resided before it was compiled. Anyway, if you're running both Linuxes, it should be no problem here; tried to run the same script on both sides? Maybe is a problem of Jython and not of Python.</span>
