<div class="post-text" itemprop="text">
<p>I was looking for FTP server implemented in Python and came across this <a href="https://gist.github.com/scturtle/1035886" rel="nofollow">https://gist.github.com/scturtle/1035886</a> . I tried to understand it but being a web developer and fairly new Python I found it confusing.</p>
<p><strong>Here's what I don't understand :</strong></p>
<ol>
<li><p><strong>From where did this attribute appeared , Its not defined anywhere</strong> <br/> <em>Line no : 22, 23</em></p>
<pre><code>def run(self):
    self.conn.send('220 Welcome!\r\n')
</code></pre></li>
<li><p><strong>Where is this function / code defined ?</strong><br/> <em>Line no : 223, 224</em><br/></p>
<pre><code>ftp.daemon=True
ftp.start()
</code></pre></li>
</ol>
<p>I know basic <strong>OOP in Python</strong> any <strong>reference material to understand the code and become more power Python programmer will be appreciable</strong> . Thanks! </p>
</div>
<div class="post-text" itemprop="text">
<p>(1) The variable is defined in <code>__init__</code></p>
<pre><code>def __init__(self,(conn,addr)):
    self.conn=conn
    ...
</code></pre>
<p>(2) FTPserverThread inherits from threading.Thread. The attribute and method are defined in the parent class.</p>
<p>When puzzling through code that uses the standard python library, it helps to <a href="https://docs.python.org/3/library/index.html" rel="nofollow">read the docs</a>. Search for "threading" and read away.</p>
</div>
<div class="post-text" itemprop="text">
<p>In an assignment, python will create the attribute (variable) if not present. So in <code>init</code> it actually does <code>self.conn=conn</code> to create the attribute. <code>__init__</code> is pretty much the constructor that is called when an instance of the class is made. Same for <code>ftp.daemon</code>. Now, <code>ftp.start()</code> is inherited from <code>threading.Thread</code>.</p>
</div>
<span class="comment-copy">So from where is .send() inherited ? Sockets i think please explain.</span>
<span class="comment-copy">line 214 <code>th=FTPserverThread(self.sock.accept())</code> creates the thread and passes in 1 argument - the result of calling <code>self.sock.accept</code>. <code>self.sock</code> is a socket and the <a href="https://docs.python.org/3/library/socket.html?highlight=socket#module-socket" rel="nofollow noreferrer">socket documentation</a> tells you that it returns a (conn, address) tuple, <i>where conn is a new socket object</i>. So, going back to the socket documentation, you see it has a <code>send</code> method.</span>
<span class="comment-copy">Thanks a lot It helped me a lot</span>
<span class="comment-copy">So from where is <code>.send()</code> inherited ? Sockets i think please explain.</span>
