<div class="post-text" itemprop="text">
<p>I have a textfile with alot of lines and each line has a date at the start of it.
So I'm trying to get the entries for each date and count them (or sum them) and give the output "Date has X entries."
I did it with a specific date. I can give the date to the variable "search", but I want to get it for every date without changing it for every day.</p>
<p>Notice: The date is always in the format "dd.mm.yy".</p>
<pre><code>27.03.18 Entry 1
27.03.18 Entry 2
27.03.18 Entry 3
27.03.18 Entry 4
28.03.18 Entry 1
28.03.18 Entry 2
29.03.18 Entry 1
29.03.18 Entry 2
29.03.18 Entry 3
</code></pre>
<p>Output would be:</p>
<ul>
<li>27.03.18: 4</li>
<li>28.03.18: 2</li>
<li>29.03.18: 3</li>
</ul>
<p>Heres my code:</p>
<pre><code>with open('file.txt', 'r', encoding='utf-8') as f:
    numLines = 0
    for line in f:
        search="29.03.18"
        if search in line:
            numLines += 1
print("search, ": " ,numLines)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import collections
with open('file.txt', 'r', encoding='utf-8') as f:
    cnt = collections.Counter()
    for line in f:
        cnt[line.split(' ')[0]] += 1
    print(cnt)
</code></pre>
<p>output:
Counter({'27.03.18': 4, '29.03.18': 3, '28.03.18': 2})</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do that using <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer"><code>Counter</code></a> like:</p>
<h3>Code:</h3>
<pre><code>counts = Counter(datum.split(' ', 2)[0] for datum in data)
</code></pre>
<h3>Test Code:</h3>
<pre><code>data = [x.strip() for x in """
    27.03.18 Entry 1
    27.03.18 Entry 2
    27.03.18 Entry 3
    27.03.18 Entry 4
    28.03.18 Entry 1
    28.03.18 Entry 2
    29.03.18 Entry 1
    29.03.18 Entry 2
    29.03.18 Entry 3
""".split('\n')[1:-1]]

from collections import Counter
counts = Counter(datum.split(' ', 2)[0] for datum in data)
print(counts)
</code></pre>
<h3>Results:</h3>
<pre><code>Counter({u'27.03.18': 4, u'29.03.18': 3, u'28.03.18': 2})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just use the first 8 characters (the date) of the line as the key which you store in a dictionary and increment whenever the same date is encountered.</p>
<pre><code>with open('file.txt', 'r', encoding='utf-8') as f:
    counts = {}
    for line in f:
        # the setdefault will initialize the key; you could also use defaultdict to make it even nicer
        counts[line[:8]] = counts.setdefault(line[:8], 0) + 1
    print(counts)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could also use <a href="https://pandas.pydata.org/pandas-docs/stable/" rel="nofollow noreferrer">pandas</a></p>
<pre><code>import pandas as pd

data = pd.read_csv('file.txt', sep=" ", header=None)
data.columns = ["date", "entry", "count"]

print(data.groupby(['date']).agg('count')[['count']])
</code></pre>
</div>
