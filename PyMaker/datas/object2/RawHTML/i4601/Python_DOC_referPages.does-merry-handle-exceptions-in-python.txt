<div class="post-text" itemprop="text">
<p>i was looking for more pythonic ways to handle errors in python and i found <strong>merry</strong></p>
<p>if you never heard of it here is the documentation : <a href="https://github.com/miguelgrinberg/merry" rel="nofollow noreferrer">https://github.com/miguelgrinberg/merry</a></p>
<p>so i wrote a little code using merry </p>
<pre><code>from merry import Merry

merry = Merry()

@merry._try
def write_to_file(filename,data):
    with open(filename,'w') as file_obj:
        file_obj.write(data) 

@merry._except(FileNotFoundError)
def fileNotFoundError():
    print("File not found")

@merry._except(Exception)
def catch_all(e):
    print(f"exception occured :{e}")

@merry._else
def else_clause():
    print("no exceptions occured")

path = "C:/Users/User/Desktop1/dataHere.txt"
text = "top secret information"

write_to_file(path,text)     
</code></pre>
<p><strong>note that i changed path to raise</strong> </p>
<blockquote>
<p>FileNotFoundError</p>
</blockquote>
<p>i thought merry would handle the error but instead i got this output:</p>
<blockquote>
<p>[merry] Exception caught</p>
<p>Traceback (most recent call last):   File
  "C:\python36\lib\site-packages\merry.py", line 26, in wrapper
      ret = f(*args, **kwargs)   File "C:/Users/User/Desktop/merrymerry.py", line 7, in
  write_to_file
      with open(filename,'w') as file_obj: FileNotFoundError: [Errno 2] No such file or directory:
  'C:/Users/j.sinjaradze/Desktop1/dataHere.txt' 
  File not found</p>
</blockquote>
<p>is there anything i did wrong or its just merry does not work as i expected?</p>
</div>
<div class="post-text" itemprop="text">
<p>I think you misunderstood your output/how merry works. In your output you have:</p>
<pre><code>[merry] Exception caught
</code></pre>
<p>which indicates that merry caught the exception. Then comes the traceback of the exception, which merry outputs by default, followed by</p>
<pre><code>File not found
</code></pre>
<p>which is the result of your</p>
<pre><code>def fileNotFoundError():
    print("File not found")
</code></pre>
<p>so it all works just fine</p>
<p><strong>Appendix</strong>. Why does merry output the exception?</p>
<p>In the source code of merry (see github you linked), there is this line (merry.py:46):</p>
<pre><code>self.logger.exception('[merry] Exception caught')
</code></pre>
<p><code>self.logger</code> is previously created from a <code>logging.getLogger(logger_name)</code> call and the exception function prints the message provided additionally to the traceback of a previously occured exception(see <a href="https://docs.python.org/3/library/logging.html#logging.exception" rel="nofollow noreferrer">python logging documentation</a> for details).</p>
<p>From the source code I cannot see a way to change that behaviour without touching the source of <code>merry.py</code></p>
</div>
<span class="comment-copy">Thanks for answer ^_^ , but idon't understand why does it display traceback ?</span>
<span class="comment-copy">It's built into <code>merry</code>. See my edit</span>
<span class="comment-copy">@FlyingTeller You can access the logger (<a href="https://github.com/miguelgrinberg/merry#logging" rel="nofollow noreferrer">github.com/miguelgrinberg/merry#logging</a>) and change its level or add a filter to it. No need to alter the source.</span>
