<div class="post-text" itemprop="text">
<p>I've seen this page: <a href="https://docs.python.org/3/c-api/object.html" rel="nofollow noreferrer">https://docs.python.org/3/c-api/object.html</a> but there doesn't seem to be any way to call functions like <code>long_lshift</code> or <code>long_or</code>.</p>
<p>It's not essential to me to call these functions, I could also live with the more generic versions, although I'd prefer to call these.  Anyways, is there any way to use these?  What do I need to include?  Below is some example code, where I'd like to use them (simplified):</p>
<pre><code>size_t parse_varint(parse_state* state) {
    int64_t value[2] = { 0, 0 };
    size_t parsed = parse_varint_impl(state, value);
    PyObject* low = PyLong_FromLong(value[0]);
    PyObject* high;

    if (value[1] &gt; 0) {
         high = PyLong_FromLong(value[1]);
         PyObject* shift = PyLong_FromLong(64L);
         PyObject* high_shifted = long_lshift(high, shift);
         state-&gt;out = long_or(low, high_shifted);
    } else {
        state-&gt;out = low;
    }
    PyObject_Print(state-&gt;out, stdout, 0);
    return 0;
}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I couldn't find these functions in documentation, but they appear to be exported in <code>Python.h</code> header:</p>
<ul>
<li><code>PyNumber_Lshift</code> is the replacement for <code>long_shift</code> in my code.</li>
<li>Similarly, <code>PyNumber_Or</code> is the replacement for <code>long_or</code> in my code.</li>
</ul>
</div>
<span class="comment-copy">So, what happens with the aboev code? Does it compile? Do you get an error message or any warnings? At compile time or run time?</span>
<span class="comment-copy">@JohanL it doesn't compile because I don't know how to include the proper header.  I mean, I could just dig this header up from Python sources and include it, but I want this to compile on any machine where Python development package is installed, not just my machine.</span>
