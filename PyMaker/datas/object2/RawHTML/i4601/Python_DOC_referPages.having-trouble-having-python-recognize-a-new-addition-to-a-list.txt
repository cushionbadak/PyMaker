<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/1047318/easiest-way-to-persist-a-data-structure-to-a-file-in-python">Easiest way to persist a data structure to a file in python?</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I am writing a Python script that takes a username and determines if it is a valid username. If it is different from any other username and is greater than 6 characters, it is added to a list of usernames. If the username is shorter than 6 characters, or is the same as an existing username, the program ends and informs the user of the invalid name. My issue is if I put in a new username which gets added to the list, and then put in that same username again, it does not inform me that it is already taken. </p>
<pre><code>name_list = []
username = input("input your new username: ")
if len(username) &lt; 6:
    print('username is too short')
elif len(username) &gt;6:
    if username in name_list :
        print('username taken')
    elif username not in name_list:
        name_list.append(username)
</code></pre>
<p>Say I input JonnyBoy as the username; it gets added to the name_list. If I then run the program again using the same username, it does not recognize it is the same as an existing username. </p>
</div>
<div class="post-text" itemprop="text">
<p>Your list gets reset everytime you restart your script. You need to store the list in a file. Read that file next time you run the script to get the old list.
Have a look at this article: <a href="http://www.pythonforbeginners.com/files/reading-and-writing-files-in-python" rel="nofollow noreferrer">http://www.pythonforbeginners.com/files/reading-and-writing-files-in-python</a></p>
<p>In this case I think the json module will do a great job.
Just call <code>json.dump(name_list, file)</code> to store the list.</p>
<p>Example for writing the list to a file:</p>
<pre><code>with open("somefile.txt", "w") as file:
    json.dump(name_list, file)
</code></pre>
<p>And to read it:</p>
<pre><code>with open("somefile.txt") as file:
    name_list = json.load(file)
</code></pre>
</div>
<span class="comment-copy">Well where are you saving the usernames? Doesn't look like anywhere</span>
<span class="comment-copy">When you run the program again, it starts over with a whole new empty namespace, and then you do <code>name_list = []</code> and that's your list. If you want to store information across separate runs, you need to explicitly save it to disk somewhere and then load it back at startup. There are many ways to do that—json, csv, pickle, dbm, redis, sqlite3—with different strengths and weaknesses.</span>
<span class="comment-copy">every time you run the script it initializes <code>name_list</code> as <code>[]</code> and you're not saving the names anywhere so....how would it know?</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">The tutorial</a> is helpful here (but make sure you read all the way down to the JSON part).</span>
<span class="comment-copy">I recommend skipping everything that contains the word "pickle" while you're researching data persistence.</span>
<span class="comment-copy">Added an example.</span>
