<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/2668909/how-to-find-the-real-user-home-directory-using-python">How to find the real user home directory using python?</a>
<span class="question-originals-answer-count">
                    9 answers
                </span>
</li>
</ul>
</div>
<p>I need to get the location of the home directory of the current logged-on user. Currently, I've been using the following on Linux:</p>
<pre><code>os.getenv("HOME")
</code></pre>
<p>However, this does not work on Windows. What is the correct cross-platform way to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You want to use <a href="http://docs.python.org/library/os.path.html?highlight=os.path#os.path.expanduser" rel="noreferrer">os.path.expanduser</a>. This will ensure it works on all platforms</p>
<pre><code>from os.path import expanduser
home = expanduser("~")
</code></pre>
<p>If you're on Python 3.5+ you can use <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.home" rel="noreferrer">pathlib.Path.home()</a>:</p>
<pre><code>from pathlib import Path
home = str(Path.home())
</code></pre>
</div>
<span class="comment-copy">it should be noted that if the user is logged on to a domain on windows and has their profile home folder set in active directory then this will report that mapped network folder instead of the local home directory</span>
<span class="comment-copy">Should anyone just want the home directory rather than the user directory, you might try finding the user directory (<code>ud</code>) and doing this: <code>hd=os.sep.join(ud.split(os.sep)[:-1])</code></span>
<span class="comment-copy">I have a CLI application running under sudo and this uses root's home directory instead of the sudoer. Solution here:  <a href="https://stackoverflow.com/questions/5721529/running-python-script-as-root-with-sudo-what-is-the-username-of-the-effectiv" title="running python script as root with sudo what is the username of the effectiv">stackoverflow.com/questions/5721529/â€¦</a></span>
<span class="comment-copy">The <code>pathlib.Path.home()</code> is available from Python3.5 onwards (<a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.home" rel="nofollow noreferrer">docs.python.org/3/library/pathlib.html#pathlib.Path.home</a>)</span>
<span class="comment-copy">I wonder why nobody else mentioned it in this question, but if you need to know where another user's home directory is you can use <code>os.path.expanduser('~username')</code>. Probably applies only for Linux though.</span>
