<div class="post-text" itemprop="text">
<p>I have this code to encrypt and decrypt strings:</p>
<pre><code>mo = int(input("Select mode\n1. Encrypt\n2. Decrypt\n"))
def getHash(key):
    total = int(0)
    key = key
    for i in range(0,len(str(key))):
        print("No: "+str(i))
        num = ord(key[i])
        total += int(num)
    return total

if mo == 1:
    m = input("Enter a string to encrypt: ")
    k = input("Enter a password, don't forget this! ")
    enc = ''
    for i in range(0, len(m)):
        enc += (str(int(ord(m[i]))*getHash(k))+ " ")
    print(enc)
elif mo == 2:
    m = input("Enter an encrypted string: ")
    k = input("Enter the password to decrypt it: ")
    final = ''
    current = ''
    for i in range(0, len(m)):
        if m[i] != " ":
            current += m[i]
            print("Current find: "+current)
        elif m[i] == " ":
            print("Completed "  +current)
            for k in range(0,len(current)):
                print("Running " +"."*k)
                print("Hash: "+str(getHash(k)))
                char = int(current) / getHash(k)
                print(char)
                final += chr(char)
                current = ''
    print(final)
</code></pre>
<p>This works fine when encrypting but decrypting an encrypted peice of text it returns </p>
<p>Select mode
1. Encrypt
2. Decrypt
1
Enter a string to encrypt: test
Enter a password, don't forget this! test
No: 0
No: 1
No: 2
No: 3
No: 0
No: 1
No: 2
No: 3
No: 0
No: 1
No: 2
No: 3
No: 0
No: 1
No: 2
No: 3
51968 45248 51520 51968 </p>
<p>RESTART: C:\Users\leosk\AppData\Local\Programs\Python\Python35-32\encrypter.py 
Select mode
1. Encrypt
2. Decrypt
2
Enter an encrypted string: 51968 45248 51520 51968
Enter the password to decrypt it: test
Current find: 5
Current find: 51
Current find: 519
Current find: 5196
Current find: 51968
Completed 51968
Running 
No: 0
Traceback (most recent call last):
  File "C:\Users\leosk\AppData\Local\Programs\Python\Python35-32\encrypter.py", line 31, in 
    print("Hash: "+str(getHash(k)))
  File "C:\Users\leosk\AppData\Local\Programs\Python\Python35-32\encrypter.py", line 7, in getHash
    num = ord(key[i])
TypeError: 'int' object is not subscriptable </p>
</div>
<div class="post-text" itemprop="text">
<p>You are trying to use a value of type <em>int</em> as you would a <em>list</em>.</p>
<pre><code>k = input("Enter the password to decrypt it: ")
...
for k in range(0,len(current)):
</code></pre>
<p>I think you are by accident using a variable <em>k</em> as key once, and index later, and passing the index value into your gethash function.</p>
<pre><code>print("Hash: "+str(getHash(k)))
</code></pre>
</div>
<span class="comment-copy">what is <code>key</code> ? It seems it is number - ie. <code>123</code> - so you try to do  <code>123[i]</code></span>
<span class="comment-copy">Catch the error with <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">try/except</a> and print relavent variables to see what is happening, add other print statements at strategic locations to help trace it down.  Might be a good time to get familiar with <a href="https://docs.python.org/3/library/pdb.html" rel="nofollow noreferrer">The Python Debugger</a>.  As a last resort, visualize code execution at <a href="http://www.pythontutor.com/visualize.html#mode=edit" rel="nofollow noreferrer">pythontutor.com/visualize.html#mode=edit</a></span>
<span class="comment-copy">Look at the Traceback, it tells you which line(s) are causing the problem, at <code>print("Hash: "+str(getHash(k)))</code> what is <code>k</code> and what does <code>getHash()</code> do with it?</span>
<span class="comment-copy">FYI, the entire edit history of all questions and  answers are publicly available. Never post anything that is of a sensitive nature, or that you do not have permission to make publicly available.</span>
