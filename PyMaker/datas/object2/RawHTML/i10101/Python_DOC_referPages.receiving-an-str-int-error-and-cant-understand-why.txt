<div class="post-text" itemprop="text">
<p>I'm currently trying to find the complementary strand of DNA, meaning I have to replace all Ts with As, As with Ts, Cs with Gs, and Gs with Cs. I have been trying to find a way to do this that doesn't result in the program returning entirely one letter and I think I found the way but now every time I run it I receive an error telling me to convert a line to str and I can't place where it should be or why, here's the code I have currently:</p>
<pre><code>#open file with DNA strand
df = open('dnafile.txt','r')

#function for finding complementary strand
def encode(code,DNA):
    for k in code:
        DNA = DNA.replace(k,code[k])
    print('The complementary strand is: ' + DNA)

#carrying out function
code = {ord('A'):'T', ord('T'):'A', ord('G'):'C', ord('C'):'G'}
DNA = df.read()
encode(code,DNA)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are passing in <em>integers</em> as the first argument to <code>DNA.replace()</code> where it only takes <em>strings</em>; <code>ord('A')</code> produces an integer, and that's what you pass in as <code>k</code>:</p>
<pre><code>DNA = DNA.replace(k, code[k])
</code></pre>
<p>You could replace <code>ord('A')</code> with just <code>'A'</code> but then you have <em>new</em> issues, namely that the <code>C-&gt;G</code> replacement is going to be undone by the <code>G-&gt;C</code> replacement or vice versa.</p>
<p>You should instead use the <a href="https://docs.python.org/3/library/stdtypes.html#str.translate" rel="nofollow"><code>str.translate()</code> method</a>, and remove the loop:</p>
<pre><code>def encode(code,DNA):
    DNA = DNA.translate(code)
    print('The complementary strand is: ' + DNA)
</code></pre>
<p>Also see <a href="https://stackoverflow.com/questions/16322898/simultaneous-replace-functionality">Simultaneous .replace functionality</a> (which was linked to as a duplicate from your previous question, and it appears you only <em>partly</em> implemented my approach there).</p>
</div>
<span class="comment-copy">Have you considered using <a href="http://biopython.org/wiki/Biopython" rel="nofollow noreferrer"><code>biopython</code></a>? After creating a Sequence with an assigned Alphabet, just use the <a href="http://biopython.org/DIST/docs/tutorial/Tutorial.html#htoc23" rel="nofollow noreferrer"><code>reverse_complement()</code></a> method.</span>
