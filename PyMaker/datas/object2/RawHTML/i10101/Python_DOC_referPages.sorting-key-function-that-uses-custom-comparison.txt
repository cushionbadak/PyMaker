<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/2531952/how-to-use-a-custom-comparison-function-in-python-3">How to use a custom comparison function in Python 3?</a>
<span class="question-originals-answer-count">
                    5 answers
                </span>
</li>
</ul>
</div>
<p>Python 3 <a href="https://docs.python.org/3/whatsnew/3.0.html#ordering-comparisons" rel="nofollow">removes the <code>cmp</code> parameter to sorting functions</a>:</p>
<blockquote>
<p><code>builtin.sorted()</code> and <code>list.sort()</code> no longer accept the <code>cmp</code> argument providing a comparison function. Use the <code>key</code> argument instead.</p>
</blockquote>
<p>That's fine for orderings that can be determined just by inspecting a single item in the sequence (e.g. <code>key=str.lower</code>). But what about custom orderings that <em>must</em> have two items for inspection to determine their ordering?</p>
<pre class="lang-python prettyprint-override"><code>$ python2
Python 2.7.12+ (default, Sep  1 2016, 20:27:38)
[…]

&gt;&gt;&gt; digits = ['3', '30', '34', '32', '9', '5']
&gt;&gt;&gt; sorted(
...         digits,
...         cmp=(lambda a, b: cmp(a+b, b+a)),
...         reverse=True)
['9', '5', '34', '3', '32', '30']
</code></pre>
<p>That two-parameter <code>cmp</code> function can't be replaced with a one-parameter <code>key</code> function, can it?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/functools.html#functools.cmp_to_key" rel="nofollow"><code>functools.cmp_to_key</code></a> helper.</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; import functools
&gt;&gt;&gt; digits = ['3', '30', '34', '32', '9', '5']
&gt;&gt;&gt; sorted(
...         digits,
...         key=functools.cmp_to_key(lambda a, b: cmp(a+b, b+a)),
...         reverse=True)
['9', '5', '34', '3', '32', '30']
</code></pre>
<hr/>
<p>The <a href="https://docs.python.org/3/library/functions.html#sorted" rel="nofollow">Python 3 sorting functions take a ‘key’ parameter</a>:</p>
<blockquote>
<p><code>key</code> specifies a function of one argument that is used to extract a
  comparison key from each list element: <code>key=str.lower</code>. The default
  value is <code>None</code> (compare the elements directly).</p>
</blockquote>
<p>The <code>functools.cmp_to_key</code> helper is <a href="https://docs.python.org/3/library/functools.html#functools.cmp_to_key" rel="nofollow">designed to help you transition to
that style</a>:</p>
<blockquote>
<p>functools.cmp_to_key(func)</p>
<p>Transform an old-style comparison function to a key function. […]
  This function is primarily used as a transition tool for programs
  being converted from Python 2 which supported the use of comparison
  functions.</p>
</blockquote>
<p>This works in the latest Python 2 and Python 3.</p>
<p>The trick is done by creating a key function that takes an item for
comparison, and returns a custom object, which knows how to compare
itself as specified by your comparison function.</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; key_func = functools.cmp_to_key(lambda a, b: cmp(a+b, b+a))
&gt;&gt;&gt; key_func("32")
&lt;functools.K object at 0x7f6781ce0980&gt;
&gt;&gt;&gt; key_func("32") &lt; key_func("5")
True
</code></pre>
<p>See the <a href="https://docs.python.org/3/howto/sorting.html" rel="nofollow">Sorting HOWTO</a> for this and other tricks.</p>
</div>
<span class="comment-copy">That is a really bad target @TigerhawkT3, maybe this <a href="http://stackoverflow.com/questions/20202418/why-is-the-cmp-parameter-removed-from-sort-sorted-in-python3-0" title="why is the cmp parameter removed from sort sorted in python3 0">stackoverflow.com/questions/20202418/…</a> is better?</span>
<span class="comment-copy">@JimFasarakis-Hilliard - Why is it bad? The top answer explains how to implement this type of comparison sorting with a modern <code>key</code> argument, and another answer suggests <code>functools.cmp_to_key</code>, so there really is nothing unique about this new question.</span>
<span class="comment-copy">There are many additional possible duplicate questions, like <a href="http://stackoverflow.com/questions/30043067/python3-style-sorting-old-cmp-method-functionality-in-new-key-mechanism">this one</a> and <a href="http://stackoverflow.com/questions/20202418/why-is-the-cmp-parameter-removed-from-sort-sorted-in-python3-0">this one</a>, and probably several more if I had done more than 30 seconds of searching.</span>
<span class="comment-copy">@TigerhawkT3 Fair enough, just thought the alternative dup <i>might</i> be better :-). It's linked now so I'm fine with that.</span>
<span class="comment-copy">Also note that the <code>cmp</code> builtin does not exist in Python 3</span>
<span class="comment-copy">And congrats on reaching 10k</span>
<span class="comment-copy">Immediate self-answers aren't frowned upon per se, but ones that duplicate easily-located preexisting questions and their answers and demonstrate no research effort whatsoever are.</span>
<span class="comment-copy"><code>NameError: name 'cmp' is not defined</code></span>
<span class="comment-copy">@KAIZHAO, <code>cmp</code> is whatever it was defined in the question :-)</span>
