<div class="post-text" itemprop="text">
<p>I have the following function:</p>
<pre><code>function(['28-02-2016','31-02-2016'])
['february', '*']
</code></pre>
<p>EDIT (full function)</p>
<pre><code>import calendar
def function(monthList):
    months = {"01": "january", "02":"february", "03":"march", "04":"april", "05":"may", "06":"june", "07":"july", "08":"august", "09":"september", "10":"october", "11":"november", "12":"december"}
    returnList = []
    for monthStr in monthList:
            month = str(monthStr)[3:5]
    if month in months.keys():
        if int(monthStr[:2]) &lt;= calendar.monthrange(int(monthStr[-4:]), int(monthStr[3:5]))[1]:
            returnList.append(months[month])
        else:
            returnList.append("*")
    else:
        returnList.append("*")
return returnList
</code></pre>
<p>If the date is right, the function creates a list where the month is put, otherwise a <code>'*'</code> is put. But if I write:</p>
<pre><code>function([02-02-20a1]:
</code></pre>
<p>I get this error:</p>
<pre><code>     6         month = str(monthStr)[3:5]
     7         if month in months.keys():
---&gt; 8             if int(monthStr[:2]) &lt;= calendar.monthrange(int(monthStr[-4:]), int(monthStr[3:5]))[1]:
     9                 returnList.append(months[month])
    10             else:

ValueError: invalid literal for int() with base 10: '20a1'
</code></pre>
<p>So Python is telling me I have to put a control in the list number 8. How do I manage to tell the function to act like this?</p>
<pre><code>function(['02-02-19a1'])
[*]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use Python <code>time.strptime</code> and <code>time.strftime</code>:</p>
<pre><code>import time

def get_month(date_string):
    try:
        t = time.strptime(date_string,'%d-%m-%Y')
        return time.strftime('%B', t).lower()
    except ValueError:
        return '*'
</code></pre>
<p>If the date is invalid, <code>ValueError</code> will be raised, in which case you return <code>'*'</code>.</p>
<p>Call <code>get_month</code> for each date string in your function.</p>
<pre><code>def get_months(date_strings):
    return [get_month(date_string) for date_string in date_strings]
</code></pre>
</div>
<span class="comment-copy">It's telling you that <code>'20a1'</code> isn't a valid integer literal. If you get a <code>ValueError</code> you can assume it's not a valid date, so see <a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">docs.python.org/3/tutorial/errors.html</a> for error handling. Also, you can simplify significantly with <code>datetime</code>'s built-in parsing, which will deal correctly with e.g. leap years.</span>
<span class="comment-copy">Python tells that you have error in your code / input</span>
<span class="comment-copy">I have no idea what you mean by "controls". Clearly though "20a1" and "19a1" are not valid values to pass to <code>int</code>.</span>
<span class="comment-copy"><i>"Python is telling me I have to put a control in the list number 8"</i> - No. Where did you get that idea from? It is just telling you that <code>'20a1'</code> is not an integer. You should catch that exception and return <code>'*'</code>. I can't really give you a more specific answer because you did not show the whole function.</span>
<span class="comment-copy">@DanielRoseman int(*, base=10) you wanted to say</span>
<span class="comment-copy">That would not cover e.g. <code>function(['bla-7-99', 'iiiiiiiiiii'])</code></span>
<span class="comment-copy">Edited to use <code>strftime</code> and <code>strptime</code> instead.</span>
<span class="comment-copy">so i just have to add this little paragraph to the test of my function?</span>
<span class="comment-copy">@xli what if i wanted to add a list of potential dates as an input?</span>
<span class="comment-copy">You can add this function to your module. In your other function, call <code>get_month</code> for each potential date in the list, and add each result to a list, which you then return. More concisely, <code>return [get_month(monthStr) for monthStr in monthList]</code></span>
