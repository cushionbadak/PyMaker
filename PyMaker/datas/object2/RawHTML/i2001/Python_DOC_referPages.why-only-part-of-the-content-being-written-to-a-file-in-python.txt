<div class="post-text" itemprop="text">
<p>I am new to python and have been using unit testing to test methods in my program. I have been using <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/inputoutput.html</a> as a reference to read and write to files. I am not understanding why only some of the content is being written to the file in my unit test.</p>
<p>My current unit test file:</p>
<pre><code>class Test_test_States(unittest.TestCase):

    def setUp(self):
        self.test_case_number = 1
        self.file = open('Test_States_Results.txt', 'w')
        self.file.write('---Test States Results---\n')
        self.file.write('Test Case\tInput\t\tExpected Output\t\tResult\n')
        self.file.write('----------------------------------------------------------------\n')

    def tearDown(self):
        self.file.close()

    #Unit testing the States Display method
    def test_States_Display_States(self):
        current_states = States()
        file_path = 'pda.def'
        # Write the test case number
        self.file.write(' ' + str(self.test_case_number) + '\t')

        current_states.load(file_path)

        # Write the Input
        self.file.write(str(current_states.states) + '\t\t')

        # Write the Expected Output
        self.file.write('STATES: s0 s1 s2\t\t')

        display = current_states.display_states()
        try:
            self.assertEqual(display, 'STATES: s0 s1 s2')
            # Write the pass results
            self.file.write('Passed\n')
        except AssertionError:
            # Write the fail results
            self.file.write('Failed\n')
        # Increment test case number
        self.test_case_number += 1
</code></pre>
<p>The content that I am writing in my <code>setUp</code> is written to the file; however, the content I am trying to write to the file in my <code>test_States_Display_States</code> method is not being written to the file. I am not understanding why the content is not being written to the file.</p>
<p>How would I correctly write to the file in my <code>test_States_Display_States</code> method?</p>
</div>
<div class="post-text" itemprop="text">
<p>I tried it and it worked as expected with only <em>one</em> test case. If you have other tests in your file though, you don't want <code>setUp</code>, you want <code>setUpClass</code>. <code>setUp</code> and <code>tearDown</code> are called once before and after each test case. <code>setUpClass</code> and <code>tearDownClass</code> are called once before the whole test and once after. Having it be <code>setUp</code> meant that each time it was overwriting what's in your file. Here's what it should look like:</p>
<pre><code>@classmethod
def setUpClass(cls):
    cls.test_case_number = 1
    cls.file = open('Test_States_Results.txt', 'w')
    cls.file.write('---Test States Results---\n')
    cls.file.write('Test Case\tInput\t\tExpected Output\t\tResult\n')
    cls.file.write('----------------------------------------------------------------\n')

@classmethod
def tearDownClass(cls):
    cls.file.close()
</code></pre>
</div>
<span class="comment-copy">Are there other tests in your file?</span>
<span class="comment-copy">@Edgar R. Mondragon There are a total of 4 tests in my file. This is the only one I am currently trying to write to the file. As I wanted to make sure this one test was writing to the file before implementing the other tests to write to the output result file.</span>
