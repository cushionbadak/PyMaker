<div class="post-text" itemprop="text">
<p>I am working on implementing a program that will give me the result for the Positional inverted index of an xml file.
First I need to change the type of document number from string to int in order to use it later on.</p>
<p>Some of my code is the following:</p>
<pre><code>def index(document_directory, dictionary_file, postings_file):
    # preprocess docID list

        docID_list = [int(docID_string) for docID_string in os.listdir(document_directory)]
        docID_list.sort()
        stemmer = PorterStemmer()
        stopwords = nltk.corpus.stopwords.words('english')
        # stopwords = set(stopwords.words('english'))
        docs_indexed = 0    # counter for the number of docs indexed
        dictionary = {}     # key: term, value: docIDs containing term (incudes repeats)
            # for each document in corpus
        for docID in docID_list:
                if (LIMIT and docs_indexed == LIMIT): break
.
.
.
.
.
            # open files for writing   
        dict_file = codecs.open(dictionary_file, 'w', encoding='utf-8')
        post_file = open(postings_file, 'wb')
.
.
.
.
            # close files
        dict_file.close()
        post_file.close()    
.
.
.
.

"""
prints the proper command usage
"""
def print_usage():
    print ("usage: " + sys.argv[0] + "-i directory-of-documents -d dictionary-file -p postings-file")

.
.
.
if (RECORD_TIME): start = timeit.default_timer()                              # start time
index(document_directory, dictionary_file, postings_file)   # call the indexer
if (RECORD_TIME): stop = timeit.default_timer()                               # stop time
if (RECORD_TIME): print ('Indexing time:' + str(stop - start))                # print time taken
</code></pre>
<p>Now when I run it using the command: </p>
<blockquote>
<p>$ python def_ind.py -i "./index/" -d "output1111.txt" -p "output222.txt"</p>
</blockquote>
<p>I get the following error:</p>
<pre><code>Traceback (most recent call last):
  File "def_ind.py", line 161, in &lt;module&gt;
    index(document_directory, dictionary_file, postings_file)   # call the indexer
  File "def_ind.py", line 36, in index
    docID_list = [int(docID_string) for docID_string in os.listdir(document_directory)]
  File "def_ind.py", line 36, in &lt;listcomp&gt;
    docID_list = [int(docID_string) for docID_string in os.listdir(document_directory)]
ValueError: invalid literal for int() with base 10: '.DS_Store'
</code></pre>
<p>I understand that there is a string that can't be int, but I didn't know
how?
What am supposed to do in here?</p>
<p>I am trying to get output that will check each word how many times appeared in each document number and in which line.
for example:(document number: line number where the word found)</p>
<pre><code>  and:
    2: 5,7
    5: 5

flower:
    1: 8
    2: 4,6,8
    3: 6
    4: 6
    5: 6
</code></pre>
<p>snapshot from my xml file:</p>
<pre><code>    &lt;DOCNO&gt;1&lt;/DOCNO&gt;
    &lt;PROFILE&gt;_AN-BENBQAD8FT&lt;/PROFILE&gt;
    &lt;DATE&gt;910514
    &lt;/DATE&gt;
    &lt;HEADLINE&gt;
    FT  14 MAY 91 / (CORRECTED) Jubilee of a jet that did what it was designed
    to do
    &lt;/HEADLINE&gt;
    &lt;TEXT&gt;
       words, words, words
    &lt;/TEXT&gt;
    &lt;PUB&gt;The Financial Times
    &lt;/PUB&gt;
    &lt;PAGE&gt;
    London Page 7 Photograph (Omitted).
    &lt;/PAGE&gt;
    &lt;/DOC&gt;`
</code></pre>
<p>I am using python 3.7.</p>
<p>Note: I found many questions with the same error but non of them suited my situation.</p>
</div>
<div class="post-text" itemprop="text">
<p>The function <a href="https://docs.python.org/3/library/os.html#os.listdir" rel="nofollow noreferrer"><code>os.listdir()</code></a> returns names of files in that particular directory.</p>
<p>AS your error says, you are trying to cast these names to integers. That is the cause of your error, in this line:</p>
<pre><code>docID_list = [int(docID_string) for docID_string in os.listdir(document_directory)]
</code></pre>
<p>The code you pasted is a mess (maybe its just wrong indentation after pasting to StackOverflow); I cannot understand what you are trying to acomplish there. As far as I can see, you never actually use the values of the list <code>docID_list</code>, you just iterate over it. So why are you even casting the values to <code>int</code>?</p>
</div>
<span class="comment-copy">Maybe I am misunderstanding  your question, but you are listing the files in a directory and casting the names to int and wonder why it throws an exception?</span>
<span class="comment-copy">I am trying to take the document number from the xml file. What wrong did I make? am new to python tho.</span>
<span class="comment-copy">Please reduce your code to what is essential to the question.</span>
<span class="comment-copy">ok. I added an example of my xml file</span>
