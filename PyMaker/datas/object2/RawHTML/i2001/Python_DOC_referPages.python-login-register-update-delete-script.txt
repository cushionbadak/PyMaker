<div class="post-text" itemprop="text">
<p>For my school project I begin python script for login, register, update and delete user. But I don't know how to export data to database or a USERS.txt (dictionary).</p>
<p>This is my script :</p>
<pre><code>    # Import modules
import time
import os.path
import hashlib
import string
from random import *
min_char = 8
max_char = 12
allchar = string.ascii_letters + string.digits

# All accounts
users = {
    "root": {
        "password": "gucci-mane",
        "group": "admin",
        "mail": []
    }
}

f = open("users.txt","a+")


# Form validation
def validate(form):
    if len(form) &gt; 0:
        return False
    return True

#hash en MD5
def hash_password(password):
    b = bytes(password, 'utf-8')
    return hashlib.md5(b).hexdigest()

# Login authorization
def loginauth(username, password):
    if username in users:
        if password == users[username]["password"]:
            print("Login successful")
            return True
    return False

# Login
def login():
    while True:
        username = input("Username: ")
        if not len(username) &gt; 0:
            print("Username can't be blank")
        else:
            break
    while True:
        password = input("Password: ")
        if not len(password) &gt; 0:
            print("Password can't be blank")
        else:
            break

    if loginauth(username, password):
        return session(username, password)
    else:
        print("Invalid username or password")

# Register
def register():
        username = input("New username: ")
        if not len(username) &gt; 0:
            print("Username can't be blank")
        elif username in users:
            print("L'utilisateur existe d√©ja")
        else:
            password = "".join(choice(allchar) for x in range(randint(min_char, max_char)))
            tpassword = hash_password(password.strip('\n'))
            print("Creating account...")
            print ("Voici votre mot de passe :",password)
            users[username] = {}
            users[username]["password"] = password
            users[username]["group"] = "user"
            users[username]["mail"] = []
            f.write( str(users) )
            time.sleep(1)
            print("Account has been created")



# Send mail
def sendmail(username):
    while True:
        recipient = input("Recipient &gt; ")
        if not len(recipient) &gt; 0:
            print("Recipient can't be blank")
            continue
        elif recipient not in users:
            print("There is no account with that username")
            continue
        else:
            break
    while True:
        subject = input("Subject &gt; ")
        if not len(subject) &gt; 0:
            print("Subject can't be blank")
            continue
        else:
            break
    while True:
        context = input("Context &gt; ")
        if not len(context) &gt; 0:
            print("Context can't be blank")
        else:
            break
    print("Sending mail...")
    users[recipient]["mail"].append(["Sender: " + username, "Subject: " + subject, "Context: " + context])
    time.sleep(1)
    print("Mail has been sent to " + recipient)


# User session
def session(username, password):
    print("Welcome to your account " + username)
    print("Options: consultation | modification | delete account |  logout")
    if users[username]["group"] == "admin":
        print("")
    while True:
        option = input(username + " &gt; ")
        if option == "logout":
            print("Logging out...")
            break
        elif option == "consultation":
            print("Voici votre nom d'utilisateur : ", username)
            print("Voici votre mot de passe : ", password)

        elif option == "modification":
            print ("Quel est votre mdp actuel?")
            passe = input ("&gt; ")
            newpassword = input("tapez nouveau mdp : ")
            for passe in users():
                if passe == password:
                    users[passe] = newpassword
            replace_value('users', 'password')
            print("Your new password is : ", newpassword)

        elif option == "delete account":
            print("Whos account would you like to delete?")
            userinfo = input("&gt; ")
            if userinfo in users:
                print("Are you sure you want to delete " + userinfo + "'s account?")
                print("Options: yes | no")
                while True:
                    confirm = input("&gt; ")
                    if confirm == "yes":
                        print("Deleting " + userinfo + "'s account...")
                        del users[userinfo]
                        time.sleep(1)
                        print(userinfo + "'s account has been deleted")
                        break
                    elif confirm == "no":
                        print("Canceling account deletion...")
                        time.sleep(1)
                        print("Account deletion canceled")
                        break
                    else:
                        print(confirm + " is not an option")
            else:
                print("There is no account with that username")
    else:
        print(option + " is not an option")

# On startup
print("Welcome to the system. Please register or login.")
print("Options: register | login | exit")
while True:
    option = input("&gt; ")
    if option == "login":
        login()
    elif option == "register":
        register()
    elif option == "exit":
        break
    else:
        print(option + " is not an option")

# On exit
print("Shutting down...")
time.sleep(1)

f.close()
</code></pre>
<p>It is possible to help me store Username and Password to a file and update and change user password from the python script.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use Python's builtin <a href="https://docs.python.org/3/library/sqlite3.html" rel="nofollow noreferrer">sqlite3</a> database to save your data or use <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">os.open</a> to open a file and write in that.</p>
</div>
