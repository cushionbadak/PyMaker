<div class="post-text" itemprop="text">
<p>I have these files from a capture the flag event, DEFCON 22: </p>
<pre><code>balalaikacr3w_00001_20140808100030.cap
balalaikacr3w_00001_20140809100255.cap
mmibh_00115_20140809193255.cap
mmibh_00116_20140808193530.cap
</code></pre>
<p>and many more. There will be no changes in team names but each team has multiple files that range from 00001 to 00125 and that is shown after the team name. Then the file also shows the date (Y/M/D) as 20140808. The thing that changes is the day, not year or month.</p>
<p>I am looking for a way to dynamically open each file to read its information. I also have these teams in one directory. I want to use a wild card to get the team and the day. This is the code I have done in bash:</p>
<pre><code>ls | awk '/balala*/ &amp;&amp; /20140808/' | while read line;
</code></pre>
<p>I need to translate this to python and if possible using a dictionary. Here is what I have so far.</p>
<pre><code>def main():

teams = {'balalaikacr3w':1,'binja':2,'blue-lotus':3,'codered':4,'dragonsector':5,'gallopsled':6
,'hackingforchimac':7,'hitcon':8,'kaist':9,'mmibh':10,'mslc':11,'oracle':12,'penthackon':13,'ppp':14
,'raon_asrt':15,'reckless':16,'routards':17,'shellphish':18,'stratum':19,'team9447':20,'w3stormz':21}

for key in sorted(teams.iterkeys()):
    print (teams[key],": ", key, sep='')

x = str(raw_input("Please enter the name for the team that you would like to see: "))
#print(teams[str(x)]) # trying to get the name value rather than the key

Path = "~/sonomastate/cs496/"
filelist = os.listdir(Path)
for i in filelist:
    if i.startswith(teams[str(x)]):  # You could also add "and i.startswith('f')
        with open(Path + i, 'r') as f:
            for line in f:
                # Here you can check (with regex, if, or whatever if the keyword is in the document.)

date = {'2014-08-08':1, '2014-08-09':2,'2014-08-10':3}
for key in sorted(date.iterkeys()):
    print (date[key],": ", key, sep='')
y = int(input("Please entet the number for the date that you would like to load: "))

parser = argparse.ArgumentParser()
parser.add_argument('--name', type=str, default="balalaikacr3w_00001_20140808100030.cap", help="input file")
args = parser.parse_args()
sys.stdout.write(str(pcap_scan(args)))
</code></pre>
<p>Here is the output:</p>
<pre><code>1: balalaikacr3w
2: binja
3: blue-lotus
4: codered
5: dragonsector
6: gallopsled
7: hackingforchimac
8: hitcon
9: kaist
10: mmibh

Please enter the name for the team that you would like to see:

1: 2014-08-08
2: 2014-08-09
3: 2014-08-10
Please enter the number for the date that you would like to load:
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Have you tried <a href="https://docs.python.org/3/library/glob.html#glob.glob" rel="nofollow noreferrer">glob</a>?<br/>
Supports filename with wildcard characters.</p>
</div>
