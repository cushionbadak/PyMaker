<div class="post-text" itemprop="text">
<p>I have already checked some question-answers related to <strong>Unhashable type : 'list'</strong> in stackoverflow, but none of them helped me. Here is my partial code:</p>
<pre><code>keyvalue = {};
input_list_new = input_list;

for file in os.listdir('Directory/'):
    pathname = os.path.join('Directory/', file)
    dict_table = []; # creates blank 2d array
    with open(pathname) as dict_file:
        for line in dict_file:
            dict_table.append(line.strip().split("\t"))
    dict_list = [];
    for i in list(range(0, len(dict_table))):
        dict_list.append(dict_table[i][0])
    matched = list(set(dict_list) &amp; set(input_list)) 
    for i in list(range(0, len(matched))):
        temp = [dict_table[0][0]] + dict_table[(dict_list.index(matched[i]))]

        input_list_new.insert((input_list_new.index(matched[i])), temp)

        dict = {matched[i] : temp}
        keyvalue.update(dict)
</code></pre>
<p>where <code>dict_table</code> is a list of lists, <code>dict_list</code> is just a list &amp; <code>keyvalue</code> is a python dictionary. The entire code runs well when ever I comment the line <code>input_list_new.insert((input_list_new.index(matched[i])), temp)</code>, but without that line being commented, it shows <code>Unhashable type : 'list'</code> error.</p>
</div>
<div class="post-text" itemprop="text">
<p>The error message does not correspond to the line</p>
<pre><code>input_list_new.insert((input_list_new.index(matched[i])), temp)
</code></pre>
<p>being commented out. If anything, the culprit is the line</p>
<pre><code>dict = {matched[i] : temp}
</code></pre>
<p>The problem should be that you are trying to use a <strong>list</strong> as your <strong>dictionary</strong> key. Here is the problem in a simple reproducible way:</p>
<pre><code>{[]: 5}  # throws TypeError: unhashable type: 'list'
</code></pre>
<p>The reason it fails, is because a <strong>dictionary</strong> is also be called a <strong>hashmap</strong> (in other languages). The key must be hashable, and in Python trying to use a <strong>list</strong> as the key throws your error becauses lists are not hashable (see "hashable" entry <a href="https://docs.python.org/3/glossary.html" rel="nofollow">here</a>).</p>
<p>Avoid using a list as your dictionary key will fix the problem.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's my guess .... You mentioned that the error is with the line <code>matched = list(set(dict_list) &amp; set(input_list))</code> .. That is probably because in either <code>input_list</code> or <code>dict_list</code>, you have a list within a list .... the items in a set need to hashable, and hence immutable .. for example you cannot do <code>set([1,5,6,[1,3]])</code> ... that will give the unhashable type list error ... but you can do <code>set([1,5,6,(1,3)])</code> because a tuple is immutable and hashable</p>
</div>
<span class="comment-copy">I'd suggest eliminating the semi-colons; this is Python :)</span>
<span class="comment-copy">can you show the error exactly ? in which line is the error coming ?&gt;</span>
<span class="comment-copy">Please paste the full Traceback of the error into your question; put it in a code block to preserve formatting. BTW, it's a bad idea to use <code>dict</code> as a variable name as that shadows the built-in <code>dict</code> type, which can lead to mysterious bugs if you attempt to create a dictionary using <code>dict()</code>. That's not a problem for the partial code you've posted, but it may affect subsequent code in that function / module.</span>
<span class="comment-copy">Use pieces from the problem line to see which of those is causing the problem.  That is, put <code>matched[i]</code> on its on line, put <code>input...()</code> on its own, etc</span>
<span class="comment-copy">Some place or other you are using a list as a key to a dictionary or set, e.g. ` set([[1,2],3])` produces this error.  So does <code>{}[[1,2]]</code>.</span>
<span class="comment-copy">Hey Martin, thanks for your suggestion. But I'm not using a list as a key of the python dictionary, <code>matched[i]</code> is just a string.</span>
<span class="comment-copy">is it possible that a list is somehow inserted into <code>matched</code>? Can you do <code>print(matched[i])</code> each time before <code>dict = {matched[i] : temp}</code> and see the last value before it crashes? Also it would be very useful to see what line number the error happens on.</span>
<span class="comment-copy">A dictionary is not necessarily a hashmap so the terms aren't synonymous.</span>
