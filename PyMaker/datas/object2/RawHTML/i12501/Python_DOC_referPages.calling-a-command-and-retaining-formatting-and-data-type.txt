<div class="post-text" itemprop="text">
<p>I have a Linux command from here <a href="https://github.com/scragg0x/FFXIV-Scraper" rel="nofollow">https://github.com/scragg0x/FFXIV-Scraper</a>:</p>
<pre><code>lodestoner topics
</code></pre>
<p>That returns data like this:</p>
<pre><code>/usr/lib/python2.7/site-packages/beautifulsoup4-4.4.1-py2.7.egg/bs4/__init__.py:166: UserWarning: No parser was explicitly specified, so I'm using the best available HTML parser for this system ("lxml"). This usually isn't a problem, but if you run this code on another system, or in a different virtual environment, it may use a different parser and behave differently.

To get rid of this warning, change this:

 BeautifulSoup([your markup])

to this:

 BeautifulSoup([your markup], "lxml")

[
    {
        "body": "&lt;div class=\"area_inner_cont\"&gt;\n&lt;a href=\"//na.finalfantasyxiv.com/lodestone/topics/detail/2f33323151437bd543ae8637766e0bd3c6d741ac\"&gt;&lt;img alt=\"\" height=\"149\" src=\"http://img.finalfantasyxiv.com/t/2f33323151437bd543ae8637766e0bd3c6d741ac.png?1452844930\" width=\"570\"/&gt;&lt;/a&gt;\n\t\t\t\t\t\tThe date has been set for the twenty-seventh installment of the Letter from the Producer LIVE! Streaming live from &lt;b class=\"text-strong\"&gt;Kagoshima&lt;/b&gt;, Japan, Producer &amp;amp; Director Yoshi-P will answer questions from players across the globe. Don't miss this chance to get the latest information to come out of Eorzea!&lt;br/&gt;\n&lt;br/&gt;\r\nRead on for &lt;a href=\"//na.finalfantasyxiv.com/lodestone/topics/detail/2f33323151437bd543ae8637766e0bd3c6d741ac\" rel=\"2f33323151437bd543ae8637766e0bd3c6d741ac\"&gt;details&lt;/a&gt;.\n\t\t\t\t\t&lt;/div&gt;",
        "lang": "en",
        "title": "Letter from the Producer LIVE Part XXVII",
        "timestamp": 1452844800,
        "link": "//na.finalfantasyxiv.com/lodestone/topics/detail/2f33323151437bd543ae8637766e0bd3c6d741ac",
        "id": "2f33323151437bd543ae8637766e0bd3c6d741ac"
    },

.......

    "title": "The \u201dLetter from the Producer LIVE Part XXVI\u201d Digest Released!",
</code></pre>
<p>I'm looking to script this in Python and retain the formatting. I've done this:</p>
<pre><code>proc = subprocess.Popen(['lodestoner', 'topics'], stdout=subprocess.PIPE)
(xml, err) = proc.communicate()
exit_code = proc.wait()
</code></pre>
<p>But it does not seem to preserve the formatting:</p>
<pre><code>b'[\n    {\n        "body": "&lt;div class=\\"area_inner_cont\\"&gt;\\n&lt;a href=\\"//na.finalfantasyxiv.com/lodestone/topics/detail/2f33323151437bd543ae8637766e0bd3c6d741ac\\"&gt;&lt;img alt=\\"\\" height=\\"149\\" src=\\"http://img.finalfantasyxiv.com/t/2f33323151437bd543ae8637766e0bd3c6d741ac.png?1452844930\\" width=\\"570\\"/&gt;&lt;/a&gt;\\n\\t\\t\\t\\t\\t\\tThe date has been set for the twenty-seventh installment of the Letter from the Producer LIVE! Streaming live from &lt;b class=\\"text-strong\\"&gt;Kagoshima&lt;/b&gt;, Japan, Producer &amp;amp; Director Yoshi-P will answer questions from players across the globe. Don\'t miss this chance to get the latest information to come out of Eorzea!&lt;br/&gt;\\n&lt;br/&gt;\\r\\nRead on for &lt;a href=\\"//na.finalfantasyxiv.com/lodestone/topics/detail/2f33323151437bd543ae8637766e0bd3c6d741ac\\" rel=\\"2f33323151437bd543ae8637766e0bd3c6d741ac\\"&gt;details&lt;/a&gt;.\\n\\t\\t\\t\\t\\t&lt;/div&gt;", \n        "lang": "en", \n        "title": "Letter from the Producer LIVE Part XXVII", \n        "timestamp": 1452844800, \n        "link": "//na.finalfantasyxiv.com/lodestone/topics/detail/2f33323151437bd543ae8637766e0bd3c6d741ac", \n        "id": "2f33323151437bd543ae8637766e0bd3c6d741ac"\n    }]'
</code></pre>
<p>Am I missing anything? How can I bring this into Python and handle it properly (BeautifulSoup/XML)? For example, if I wanted to print <code>title</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>It's a json string (byte-string). Decode it using <a href="https://docs.python.org/3/library/json.html#json.loads" rel="nofollow"><code>json.loads</code></a> after decode the byte-string into a string:</p>
<pre><code>(xml, err) = ...
...

objects = json.loads(xml.decode())
print([o['title'] for o in objects])
</code></pre>
<hr/>
<p>If you want to just print the xml, decode <code>xml</code> (byte-string object) and print:</p>
<pre><code>print(xml.decode())
</code></pre>
</div>
<span class="comment-copy">I think that's on the right track, but some symbols seem to be tripping it up. It's printing: <code>['Letter from the Producer LIVE Part XXVII', 'Changes to the Disk Space Requirements for FINAL FANTASY XIV: A Realm Reborn on All Platforms', 'The â                                                                                                                                                     Ending script</code> and nothing more (there are 10+ items). I edited in that line/symbols to my OP.</span>
<span class="comment-copy"><code>\u201d</code> being the unicode tripping it up</span>
<span class="comment-copy">@Zeno, <code>'\u201d' == '”'</code>, What's wrong?</span>
<span class="comment-copy">Good call, it was just PuTTY not being able to render unicode. Had to make some client settings, displays now.</span>
