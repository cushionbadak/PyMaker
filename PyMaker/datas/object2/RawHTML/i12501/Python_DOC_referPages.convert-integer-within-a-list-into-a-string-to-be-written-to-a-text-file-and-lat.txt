<div class="post-text" itemprop="text">
<p>I am trying to make a <code>stats.txt</code> file where I can store <code>wins</code>, <code>draws</code>, and <code>losses</code>. Thus far, the only way I have been able to retrieve the values AND modify them when the program runs is by opening them with <code>.readlines()</code> and then assigning them to a variable as an integer within a list (see below).</p>
<p>My issue is that I can't seem to find a way to write them back to a text file as they are in list form. Can anyone point me in the right direction?</p>
<p>The text file is in this format:</p>
<pre><code>0\n
0\n
0\n
</code></pre>
<p>Nothing else is written in it other that the three 0's, followed by <code>enter.</code></p>
<p>My code is as follows:</p>
<pre><code>stats = open("C:/Users/JawshBawx/Documents/LiClipse Workspace/RPScLSp/RPScLSp_Src/Stats.txt","r")
lines = stats.readlines()
wins = list(int(val) for val in lines[0].split())
draws = list(int(val) for val in lines[1].split())
losses = list(int(val) for val in lines[2].split())
</code></pre>
<p>If I assign these without <code>list,</code> output becomes: <code>generator object &lt;genexpr&gt; at 0x0000011CEF216CA8</code> when printed, and I can't modify the values with +1.</p>
<pre><code>if result == 0:
    print("Draw!")
    draws = [x + 1 for x in draws]

elif result == 1:
    print(ai_var+" Wins!")
    losses = [x + 1 for x in losses]

elif result == 2:
    print(ai_var+" Wins!")
    losses = [x + 1 for x in losses]

elif result == 3:
    print(user_var+" Wins!")
    wins = [x + 1 for x in wins]

else:
    print(user_var+" Wins!")
    wins = [x + 1 for x in wins]

print(wins)
print(draws)
print(losses)

stats.close
with open("C:/Users/JawshBawx/Documents/LiClipse Workspace/RPScLSp/RPScLSp_Src/Stats.txt","w") as f:
    f.write(wins)
    f.write(draws)
    f.write(losses)
</code></pre>
<p>My result is:</p>
<pre><code>TypeError: write() argument must be str, not list
</code></pre>
<p>I cannot get this to convert to string, and write in in such a way that it will be retrieved in the same format as I need it to be as to be able to process i every time the program runs.</p>
<p>I'd rather just import the values in the text file as integers, modify them, then write them as integers, but I haven't found a way to do that yet. I know there must be better ways to do the above.</p>
</div>
<div class="post-text" itemprop="text">
<ol>
<li><p>You should use <a href="https://docs.python.org/3/library/stdtypes.html#str.strip" rel="nofollow"><code>str.strip()</code></a> instead of <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow"><code>str.split()</code></a> in this case. <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow"><code>str.split()</code></a> split the string by <em>empty letters</em> (spaces, newlines, tabs, etc.) and return a list.</p>
<p>However, it looks like that you don't need a list here and just want remove that <code>\n</code>, then, you can use <a href="https://docs.python.org/3/library/stdtypes.html#str.strip" rel="nofollow"><code>str.strip()</code></a>. Which removes the <em>empty letters</em> after and before the string.</p>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; s = '0\n'
&gt;&gt;&gt; s
'0\n'
&gt;&gt;&gt; s.strip()
'0'
&gt;&gt;&gt; s.split()
['0']   
&gt;&gt;&gt; int(s.strip())
0
</code></pre></li>
<li><p>Then, it's an int object. So you can just totally drop these <em>list comprehension</em> and use <code>object += 1</code>. </p>
<p>However, you can just use <code>str()</code> function to convert it to a string object when you write it back to a file. </p>
<p>Remember also add a <code>+\n</code> if you don't want them all in one line:</p>
<pre><code>with open("C:/Users/JawshBawx/Documents/LiClipse Workspace/RPScLSp/RPScLSp_Src/Stats.txt", "r") as f:
    lines = f.readlines()
    wins = int(lines[0].strip())
    draws = int(lines[1].strip())
    losses = int(lines[2].strip())

if result == 0:
    print("Draw!")
    draws += 1

elif result in [1, 2]:
    print(ai_var+" Wins!")
    losses += 1

else:
    print(user_var+" Wins!")
    wins += 1

with open("C:/Users/JawshBawx/Documents/LiClipse Workspace/RPScLSp/RPScLSp_Src/Stats.txt","w") as f:
    f.write(str(wins)+'\n')
    f.write(str(draws)+'\n')
    f.write(str(losses)+'\n')
</code></pre></li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>You want to use <code>writelines()</code> instead of <code>write()</code> to write an iterable object (such as a list of strings), similar to how the method for obtaining a single string is <code>read()</code> and the method to get a list of strings is <code>readlines()</code>.</p>
</div>
<span class="comment-copy">Note: <code>[int(val) for val in lines[0].split()]</code> doesn't require <code>list</code>.</span>
<span class="comment-copy"><code>stats.close</code> doesn't close the file, you need to <i>call</i> it <code>stats.close()</code></span>
<span class="comment-copy">Or use the <code>with</code> statement for reading as well. You're only doing <code>readlines()</code> on the file, after that you don't need the file and can close it.</span>
<span class="comment-copy">You have to convert the list to a string, as per the suggested TypeError. You could do e.g. <code>f.write(str(wins))</code>, but the saved output may not be what you want. Or something like <code>f.write(','.join([str(win) for win in wins]))</code>. By then, you may start to think about the csv module, or even numpy.</span>
<span class="comment-copy">This looks almost perfect! when I run this though, I'm getting this error at: wins += 1 TypeError: Can't convert 'int' object to str implicitly</span>
<span class="comment-copy">@Jawshbawx: Well, I've edited my answer. Take a look at it.</span>
<span class="comment-copy">PERFECT! Thank you very much, that was getting frustrating.</span>
