<div class="post-text" itemprop="text">
<p>I have a list of lists as follows</p>
<pre><code>[
['a', 1],
['b',2],
['c',1],
['a', 2],
['c', 5]
]
</code></pre>
<p>I want to normalize this list in such a way that for every, 'a', 'b', 'c' etc, I have only one unique entry in the list, and for every duplicate list, the second value which is the quantity is added so that I get something like:</p>
<pre><code>[
['a', 3], # so since 'a' already existed the quantity is added 1 + 2 becomes 3
['b',2],
['c',6]   # similarly for 'c' it becomes 1 + 5 = 6
]
</code></pre>
<p>How to do this with Python ?</p>
</div>
<div class="post-text" itemprop="text">
<p>I'd suggest use <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow"><code>collections.defaultdict()</code></a> like below:</p>
<pre><code>from collections import defaultdict

l = [
['a', 1],
['b',2],
['c',1],
['a', 2],
['c', 5]
]

d = defaultdict(int)
for key, value in l:
    d[key] += value

print(d.items())
</code></pre>
<p>Output:</p>
<pre><code>dict_items([('b', 2), ('a', 3), ('c', 6)])
</code></pre>
<hr/>
<p>Also you can use a <code>try...expect</code> instead of <code>collections.defaultdict()</code>...if you'd like:</p>
<pre><code>d = {}
for key, value in l:
    try:
        d[key] += value
    except KeyError:
        d[key] = value
</code></pre>
<hr/>
<p>Also, you can try <code>if...else</code>:</p>
<pre><code>d = {}
for key, value in l:
    if key in d:
        d[key] += value
    else:
        d[key] = value
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>here is a long way to do it, but returns a list, not a data object</p>
<pre><code>def normalizelist(inp):
 out=[]
 for key,count in inp:
  exist=0
  for place, val in enumerate(out):
   if (key==val[0]):
    out[place][1]+=count
    exist=1        #found it, so don't need to make it
    break          #no need to go further
  if (exist==0):   #didn't find it, therefor it needs to be added
   out.append([key,count])
 return out
</code></pre>
<p>hopefully that helps!</p>
</div>
<span class="comment-copy">It is also possible to add a condition like <b>if key in d:</b> in case you don't want to use try except block.</span>
<span class="comment-copy">@Rockybilly: Ah yeah, but I'd strongly recommend <code>defaultdict</code> anyways. And that would be slow than <code>try...expect</code>.</span>
<span class="comment-copy">Me too, just suggested that instead of try..except.</span>
<span class="comment-copy">@Rockybilly: Okay, I've edited.</span>
<span class="comment-copy">Actually the output of my answer <i>is</i> a list, if you want see a real list just use <code>list(d.items())</code>.</span>
<span class="comment-copy">idk, what I did makes more sense to me</span>
