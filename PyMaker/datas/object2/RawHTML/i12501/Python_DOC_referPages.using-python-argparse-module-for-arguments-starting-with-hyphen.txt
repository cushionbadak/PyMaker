<div class="post-text" itemprop="text">
<p>I am using Python 2.7. I am writing a script that uses argparse module for parsing command line arguments. The issue is there is an option -t, --tdiff that takes in time difference specified as +/-HH:MM:SS.</p>
<p>I coded the same as following, say in file myprog.py:</p>
<pre><code>parser.add_argument("-t", "--tdiff",
                    action="store",
                    dest="time_diff",
                    help = "Specify time difference as +/-HH:MM:SS.")
</code></pre>
<p>Now I can run the program like "./myprog.py -t +02:30:00" but not as "./myprog.py -t -02:30:00".</p>
<p>Running the prog with time difference with leading hyphen prints the usage. Please help how can I circumvent this. </p>
</div>
<div class="post-text" itemprop="text">
<p>I dislike changing the option prefix to something non-standard. Here are two approaches that I've used to handle option values that begin with a hyphen.</p>
<pre><code># Use a different symbol for negative times.
--tdiff ~02:30:00

# Use this syntax on the command line.
--tdiff=-02:30:00
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>That - prefix is being parsed as an option, you can try to workaround this by changing the prefix used for options with <a href="http://docs.python.org/dev/library/argparse.html#prefix-chars" rel="nofollow"><code>prefix_chars</code></a> Check out the example they give in the linked page.</p>
</div>
<span class="comment-copy">You can use a different prefix . . . <a href="https://docs.python.org/3/library/argparse.html#prefix-chars" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#prefix-chars</a></span>
<span class="comment-copy">+1 for the <code>--tdiff=-XX:XX:XX</code> option.  That's what I would do too (I'm not a fan of changing the prefix-chars either).</span>
<span class="comment-copy">Yup I checked. And it works without meddling with prefix_chars. Following usage works: <code>-t=-02:30:00</code> or <code>-t="-02:30:00"</code> or <code>-t-02:30:00</code>. Following doesn't work: <code>-t -02:30:00</code> or <code>-t "-02:30:00"</code>.</span>
<span class="comment-copy">I will accept this answer as this is closes to what I needed.</span>
<span class="comment-copy">You are totally right, quotes won't fix it. Did some search in the docs and found a correct workaround by using prefix_chars.</span>
