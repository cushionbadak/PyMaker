<div class="post-text" itemprop="text">
<p>Say I have a CSV file. 
It contains:</p>
<pre><code>a,b,c
1,2,3
4,5,6
7,8,9
</code></pre>
<p>How can I turn the column labeled 'a' into a list, without hard-coding a row to it?</p>
<p>Originally, I was doing a readline for the first line <code>a,b,c</code> and then hard-coding a row to each variable. But then I thought: what if I wanted to do it with the possibility of the CSV file not being arranged the same way - say:</p>
<pre><code>b,a,c
2,1,3
5,4,6
8,7,9
</code></pre>
<p>What's the best way to go about this?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/csv.html#csv.DictReader" rel="noreferrer"><code>csv.DictReader</code></a> turns each row of your CSV file into a dictionary with the column headers as keys. For your case (assuming the two examples in your question are named <code>abc.csv</code> and <code>bac.csv</code> respectively), you could use it like this:</p>
<pre><code>from csv import DictReader

with open("abc.csv") as f:
    a1 = [row["a"] for row in DictReader(f)]

with open("bac.csv") as f:
    a2 = [row["a"] for row in DictReader(f)]

# a1 == a2 == ['1', '4', '7']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can do this using the <a href="http://pandas.pydata.org/" rel="noreferrer">pandas</a> library:</p>
<pre><code>import pandas

data = pandas.read_csv("test.csv", header=0)
col_a = list(data.a)
col_b = list(data.b)
col_c = list(data.c)
</code></pre>
<p>The values in <code>col_a</code>, <code>col_b</code> and <code>col_c</code> are as follows:</p>
<pre><code>[1, 4, 7]
[2, 5, 8]
[3, 6, 9]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you can use <code>collections.defaultdict</code>:</p>
<pre><code>import collections
my_dict = collections.defaultdict(list)
with open('your_file') as f:
    header = next(f).strip().split(',')
    for x in f:
         x = x.strip().split(',')
         my_dict[header[0]].append(x[0])
         my_dict[header[1]].append(x[1])
         my_dict[header[2]].append(x[2])
</code></pre>
</div>
