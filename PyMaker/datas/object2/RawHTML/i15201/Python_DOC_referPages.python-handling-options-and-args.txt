<div class="post-text" itemprop="text">
<p>I have written a python code and I want to handle switches and arguments. So I want to tell script: </p>
<p>If you see <code>-u</code> then there is no <code>-d &lt;name&gt;</code> in arguments <code>print "sth"</code>:</p>
<pre><code>if sys.argv=='-u' and sys.argv!='-d':
    print "You must use the -d switch!"
    sys.exit()
</code></pre>
<p>Seems this is wrong method</p>
</div>
<div class="post-text" itemprop="text">
<p><code>sys.argv</code> is a <em>list</em> so you'd have to test for membership:</p>
<pre><code>if '-u' in sys.argv and '-d' not in sys.argv:
</code></pre>
<p>However, you'd be better of using the <a href="https://docs.python.org/3/library/argparse.html#module-argparse" rel="nofollow"><code>argparse</code> library</a> to handle command line interfaces for you. It won't handle interdependencies directly, but it is easy enough to extend the use and exit with a help message:</p>
<pre><code>import argparse
parser = argparse.ArgumentParser()
parser.add_argument("-u", action='store_true')
parser.add_argument("-d")
args = parser.parse_args()

if args.u and not args.d:
    parser.error('You must use the -d switch when setting -u!')
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; import argparse
&gt;&gt;&gt; parser = argparse.ArgumentParser()
&gt;&gt;&gt; parser.add_argument("-u", action='store_true')
_StoreTrueAction(option_strings=['-u'], dest='u', nargs=0, const=True, default=False, type=None, choices=None, help=None, metavar=None)
&gt;&gt;&gt; parser.add_argument("-d")
_StoreAction(option_strings=['-d'], dest='d', nargs=None, const=None, default=None, type=None, choices=None, help=None, metavar=None)
&gt;&gt;&gt; args = parser.parse_args(['-u'])
&gt;&gt;&gt; args.u
True
&gt;&gt;&gt; args.d
&gt;&gt;&gt; args.u and not args.d
True
&gt;&gt;&gt; args = parser.parse_args(['-u', '-d', 'foo'])
&gt;&gt;&gt; args.d
'foo'
&gt;&gt;&gt; args.u and not args.d
False
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>check if <code>u</code> <strong>is</strong>  in the list <code>sys.argv</code>  and <code>-d</code> <strong>is not</strong> in the list  <code>sys.argv</code>:</p>
<pre><code>if '-u'  in  sys.argv and '-d'  not in sys.argv:
    print "You must use the -d switch!"
    sys.exit()
</code></pre>
</div>
