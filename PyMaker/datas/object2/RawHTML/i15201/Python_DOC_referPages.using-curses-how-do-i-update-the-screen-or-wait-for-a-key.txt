<div class="post-text" itemprop="text">
<p>How do I update the screen or wait for a key at the same time? I'm using unicurses on Python but I think I would have the same problem in C.
Here's what I want to do in pseudo code:</p>
<pre><code>function startScreen(){
   stdscr = initscr()
   while True{
      - Update screen using a variable that is constantly changing (probably by a thread, right?)
      - Get a key with getch() - to close or interact with the screen
   }
}
</code></pre>
<p>My problem is that the screen doesn't update unless something happens, like resizing the screen or pressing a key. I was thinking about using the while loop (and a time.sleep(1)?) to update the screen and a thread to wait for keys. Is that possible? I don't know much about threads, that's why I'm asking. Is there a simpler way?</p>
<p>Thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>This can be done without any complicated multithreading. There is a function <code>curses.halfdelay</code> that can be also found in the unicurses library that you use. It takes the number of tenths of a second to wait until continuing. <a href="https://docs.python.org/3/library/curses.html#curses.halfdelay" rel="nofollow">https://docs.python.org/3/library/curses.html#curses.halfdelay</a></p>
<p>Here is an example code that refreshes every half a second unless there is a button that has been pressed, in which case it updates immediately.</p>
<pre><code>import curses
scr = curses.initscr()
curses.halfdelay(5)           # How many tenths of a second are waited, from 1 to 255
curses.noecho()               # Wont print the input
while True:
    char = scr.getch()        # This blocks (waits) until the time has elapsed,
                              # or there is input to be handled
    scr.clear()               # Clears the screen
    if char != curses.ERR:    # This is true if the user pressed something
        scr.addstr(0, 0, chr(char))
    else:
        scr.addstr(0, 0, "Waiting")
</code></pre>
</div>
<span class="comment-copy">Perfect! Thank you very much!</span>
