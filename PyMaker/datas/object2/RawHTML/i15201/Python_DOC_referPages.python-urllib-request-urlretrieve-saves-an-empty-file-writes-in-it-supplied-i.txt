<div class="post-text" itemprop="text">
<p>This is the type of file I want to download and save:</p>
<p><a href="http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&amp;id=562868704,585641505&amp;rettype=fasta&amp;retmode=text" rel="nofollow">http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&amp;id=562868704,585641505&amp;rettype=fasta&amp;retmode=text</a></p>
<p>...and this is the test code: </p>
<pre><code>import urllib.request
import xml.etree.ElementTree as ET
mystring = ' '
link = urllib.request.urlopen('http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?dbfrom=protein&amp;db=nuccore&amp;linkname=protein_nuccore_mrna&amp;id=13591999,149050462')
tree = ET.parse(link)
root = tree.getroot()
for branch in root.iter('Link'):
    for something in branch.iter('Id'):
        mystring += something.text + ','
mRNA = urllib.request.urlretrieve('http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&amp;id=' + mystring + '&amp;rettype=fasta&amp;retmode=text', 'C:/Users/User/Documents/mRNA.fasta')
</code></pre>
<p>It creates the file but is then empty, i have no clue what the problem is. Thank you for the help.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your resulting URL contains a space; you put it there yourself with:</p>
<pre><code>mystring = ' '
</code></pre>
<p>If I replace that with an empty string instead your code appears to work:</p>
<pre><code>mystring = ''
</code></pre>
<p>Rather than use string concatenation, you can use a list and use the <a href="https://docs.python.org/3/library/stdtypes.html#str.join" rel="nofollow"><code>str.join()</code> method</a> to build your value:</p>
<pre><code>elements = []
for element in root.findall('.//Link/Id'):
    elements.append(element.text)
mystring = ','.join(elements)
</code></pre>
<p>I used the <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.findall" rel="nofollow"><code>Element.findall()</code> method</a> with an <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#elementtree-xpath" rel="nofollow">XPath expression</a> to list all matching Id nodes.</p>
</div>
<span class="comment-copy">I can't bloody believe it... Thank you</span>
