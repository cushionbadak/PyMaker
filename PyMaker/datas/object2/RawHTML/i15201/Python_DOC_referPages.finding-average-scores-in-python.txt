<div class="post-text" itemprop="text">
<p>I have some code which gets a list from a text file and puts it into a dictionary. This is the code:</p>
<pre><code>fd = open('Results.txt')
lines = [line.strip() for line in fd]
adict = {}
for line in lines:
  splitted = [i for i in line.split(',')]
  key = splitted[0]
  adict[key] = splitted[1:]
s = addict
</code></pre>
<p>Then, using this, I find the top marks and the top average score from the results which are in this list. My current code is:</p>
<pre><code>avg_mark = lambda name:sum(s[name])/len(s[name])
for i in sorted(s.keys(),key=avg_mark,reverse=True):
    print (i,avg_mark(i),"\n")
</code></pre>
<p>However, it says:</p>
<pre><code>TypeError: unsupported operand type(s) for +: 'int' and 'str'
</code></pre>
<p>Can anyone fix this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Data read from a file is returned as <em>strings</em>, but <code>sum()</code> by default expects <em>numeric values</em>. You'l need to convert your data to numbers first.</p>
<p>You can use <code>int()</code> or <code>float()</code> to convert numeric values:</p>
<pre><code>adict[key] = [float(n) for n in splitted[1:]]
</code></pre>
<p>You appear to be reading CSV data; consider using the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow"><code>csv</code> module</a> to parse the file instead:</p>
<pre><code>import csv

with open('Results.txt', 'r', newline='') as fd:
    reader = csv.reader(fd)
    s = {row[0]: [float(c) for c in row[1:]] for row in reader}
</code></pre>
<p>If your first column is <em>quoted</em>, you can even have the <code>csv.reader()</code> do the string-to-float conversion for you; using <a href="https://docs.python.org/3/library/csv.html#csv.QUOTE_NONNUMERIC" rel="nofollow"><code>quoting=csv.QUOTE_NONNUMERIC</code></a> when creating the <code>csv.reader()</code> object will result in anything that doesn't use <code>"</code> around the column value to be passed to your Python code as a <code>float()</code>.</p>
</div>
<span class="comment-copy">thanks a lot everything works now</span>
