<div class="post-text" itemprop="text">
<p>I have a Pandas Series from an Excel spreadsheet that's mostly floats, but has some strings that weren't parsed because the currency was in a different locale:</p>
<pre><code>s = pd.Series(['1,23', '4.56,78', 1, 2.0, np.nan])
</code></pre>
<p>I'd like to select just those items that are strings so I can apply conversion:</p>
<pre><code>s[s.apply(type) == str] = s[s.apply(type) == str].str.replace('.', '').str.replace(',', '.')
s.astype(float)

0      1.23
1    456.78
2      1.00
3      2.00
4       NaN
dtype: float64
</code></pre>
<p>But I can't find a good (builtin, vectorized) way to get or select dtypes row-wise.  Is there a better way?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>str.translate</code> to do both things at the same time (convert, change the dtype):</p>
<pre><code>pd.to_numeric(s.str.translate(str.maketrans({'.': '', ',': '.'}))).fillna(s)

0      1.23
1    456.78
2      1.00
3      2.00
4       NaN
dtype: float64
</code></pre>
<p>The <code>dtype</code> will be <code>'float64'</code>.</p>
</div>
