<div class="post-text" itemprop="text">
<p>I need to get a picture from the message if it is there
I use rewritten version</p>
<p>I tried this:</p>
<pre><code>message.attachments[0]['url']
</code></pre>
<p>But getting an error</p>
<pre><code>    Ignoring exception in on_message
Traceback (most recent call last):
  File "C:\Users\vlad0\AppData\Roaming\Python\Python36\site-packages\discord\client.py", line 227, in _run_event
    await coro(*args, **kwargs)
  File "c:\Users\vlad0\Desktop\bot\bot.py", line 121, in on_message
    print(message.attachments[0]['url'])
TypeError: 'Attachment' object is not subscriptable
</code></pre>
<p>If you leave only the index or only attachments, you get this:</p>
<pre><code>&lt;discord.message.Attachment object at 0x00000228B8E3BE80&gt;
</code></pre>
<p>How can i get image url?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can directly get the url property from the object</p>
<pre><code>message.attachments[0].url
</code></pre>
<p>Basicaly, what the error saids it's that this object does not implement the <strong>getitem</strong> method that allows to get properties like a dict</p>
</div>
<span class="comment-copy">Evidently <code>[]</code> is not the correct way to get information from an Attachment object. Perhaps you should check its properties instead.</span>
