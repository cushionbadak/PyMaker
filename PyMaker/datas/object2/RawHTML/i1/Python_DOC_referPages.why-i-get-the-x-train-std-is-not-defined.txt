<div class="post-text" itemprop="text">
<p>May I know why I get the error message -</p>
<p>NameError: name 'X_train_std' is not defined</p>
<pre><code>from sklearn.linear_model import LogisticRegression

lr = LogisticRegression(C=1000.0, random_state=0)
lr.fit(X_train_std, y_train)

plot_decision_regions(X_combined_std,
                      y_combined, classifier=lr,
                      test_idx=range(105,150))

plt.xlabel('petal length [standardized]')
plt.ylabel('petal width [standardized]')
plt.legend(loc='upper left')
plt.tight_layout()

plt.show()

lr.predict_proba(X_test_std[0,:])

weights, params = [], []
for c in np.arange(-5, 5):
    lr = LogisticRegression(C=10**c, random_state=0)
    lr.fit(X_train_std, y_train)
    weights.append(lr.coef_[1])
    params.append(10**c)
weights = np.array(weights)
plt.plot(params, weights[:, 0],
         label='petal length')
plt.plot(params, weights[:, 1], linestyle='--',
         label='petal width')
plt.ylabel('weight coefficient')
plt.xlabel('C')
plt.legend(loc='upper left')
plt.xscale('log')
plt.show()
</code></pre>
<p>Plesea see the link -</p>
<p><a href="https://www.freecodecamp.org/forum/t/how-to-modify-my-python-logistic-regression/265795" rel="nofollow noreferrer">https://www.freecodecamp.org/forum/t/how-to-modify-my-python-logistic-regression/265795</a></p>
<p><a href="https://bytes.com/topic/python/answers/972352-why-i-get-x_train_std-not-defined#post3821849" rel="nofollow noreferrer">https://bytes.com/topic/python/answers/972352-why-i-get-x_train_std-not-defined#post3821849</a></p>
<p><a href="https://www.researchgate.net/post/Why_I_get_the_X_train_std_is_not_defined" rel="nofollow noreferrer">https://www.researchgate.net/post/Why_I_get_the_X_train_std_is_not_defined</a></p>
<p>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Well, <code>X_train_std</code> is not defined/declared. You need to declare the variable and give it a value before using it.</p>
<p>Like:</p>
<pre><code>X_train_std = 3
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You didn't copy enough of the sample code. Somewhere above this, there is likely a call to <code>train_test_split</code></p>
<p>Basically, to do what you want, you need a set of X variables, your Y variable (what will be predicted).  You normally split them into a training set and a test set, and in addition, many algorithms work better on standardized (zero mean, 1 standard deviation), which is what the _std probably means in your variable name.</p>
<p>The code that comes before your snippet probably looks something like:</p>
<pre><code>import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler

my_df = pd.DataFrame(....this is your data for the test...)
X = my_df[[X_variable_column_names_here]]
Y = my_df[Y_variable_column_name]
X_train, X_test, y_train, y_test = train_test_split(X, Y, test_size = 0.3)
scaler = StandardScaler()
X_train_std = scaler.fit_transform(X_train)
X_test_std = scaler.transform(X_test)
</code></pre>
<p>Edit: It looks from the axis labels on your plot that you're trying to do logistic regression against the Iris dataset. The fully worked example is here:
<a href="https://scikit-learn.org/stable/auto_examples/linear_model/plot_iris_logistic.html" rel="nofollow noreferrer">https://scikit-learn.org/stable/auto_examples/linear_model/plot_iris_logistic.html</a></p>
</div>
<span class="comment-copy">But why the whole programming is full of errors ?</span>
<span class="comment-copy">@vokoyo Did you write the code yourself?</span>
<span class="comment-copy">also from some books and some web pages</span>
<span class="comment-copy">why I get the error - NameError: name 'datasets' is not defined when  I  write                                                                                                                                                  # Load  the iris dataset  iris = datasets.load_iris()</span>
<span class="comment-copy">You didn't import the datasets module. <code>from sklearn import datasets</code></span>
<span class="comment-copy">Please see the link and attached file then give your suggestion</span>
