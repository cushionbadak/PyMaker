<div class="post-text" itemprop="text">
<p>I have a list of Apache logs that i want to loop through and split each element into a new list.</p>
<p>For example</p>
<pre><code>83.149.9.216 - - [17/May/2015:10:05:03 +0000] "GET /presentations/logstash-monitorama-2013/images/kibana-search.png HTTP/1.1" 200 203023 "http://semicomplete.com/presentations/logstash-monitorama-2013/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1700.77 Safari/537.36"
</code></pre>
<p>However, one of the entries does not have an end quote on the last element(User agent)</p>
<pre><code>46.118.127.106 - - [20/May/2015:12:05:17 +0000] "GET /scripts/grok-py-test/configlib.py HTTP/1.1" 200 235 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html
</code></pre>
<p>Iam currently using this regex, </p>
<pre><code>apacheTup = re.match('([(\d\.)]+) (.*) (.*) \[(.*?)\] "(.*?)" (\d+) (.*?) "(.*?)" "(.*?)"',fileStr).groups()
</code></pre>
<p>However, i get an error </p>
<blockquote>
<p>'NoneType' object has no attribute 'groups'</p>
</blockquote>
<p>the error occurs at the line without the ending quote. How do i change my regex so that it accepts the user agent with or without an ending quote?</p>
</div>
<div class="post-text" itemprop="text">
<p>You could add a trailing double quote when there isn't one.</p>
<pre><code>fileStr += '' if fileStr.endswith('"') else '"'
apacheTup = re.match( ....
</code></pre>
</div>
