<div class="post-text" itemprop="text">
<p>I <a href="https://stackoverflow.com/questions/40750049/some-websites-block-selenium-webdriver-how-does-this-work">read this</a> topic, but it doesn't helped me.</p>
<p>I'm trying to get some element, while it is my first action with the web.</p>
<p>Also, sometimes, on my first connection to the website, the request become broken and the website refuse anything</p>
<p>How does the website know that I'm using selenium? I didn't do any pattern action or fast actions..</p>
<p>This is the <a href="http://www.yad2.co.il" rel="nofollow noreferrer">website</a></p>
<p>Can anybody help me to figure this problem?</p>
<p>Here is my code</p>
<p><div class="snippet" data-babel="false" data-console="true" data-hide="false" data-lang="js">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>import selenium
from selenium import webdriver


def open_browser():
    chrome_options = webdriver.ChromeOptions()
    chrome_options.add_argument("--disable-infobars")
    browser = selenium.webdriver.Chrome("./chromedriver2.46.exe", chrome_options=chrome_options)
    browser.maximize_window()
    return browser


def go_to_yad2(browser):
    browser.get("https://www.yad2.co.il/products/all")


def open_category(browser):
    options_object = browser.find_element_by_xpath("//ul[@data-name='salesCatID']")
    print(options_object.text())


def main_method():
    browser = open_browser()
    go_to_yad2(browser)
    open_category(browser)


main_method()</code></pre>
</div>
</div>
</p>
</div>
<div class="post-text" itemprop="text">
<p>It is a bit unclear from your question exactly with which element were you trying to interact with and why on your <em>first connection to the website, the request become broken and the website refuse anything</em>.</p>
<p>Some more information interms of <em>message from the website</em>, exception would have helped us to debug the issue in a better way. However, I took your own code and did a couple of simple modifications and was able to extract text as follows:</p>
<ul>
<li><p>Code Block:</p>
<pre><code>from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.common.by import By
from selenium.webdriver.support import expected_conditions as EC

def open_browser():
    chrome_options = webdriver.ChromeOptions()
    chrome_options.add_argument('start-maximized')
    chrome_options.add_argument('disable-infobars')
    chrome_options.add_argument('--disable-extensions')
    browser = webdriver.Chrome(chrome_options=chrome_options, executable_path=r'C:\WebDrivers\chromedriver.exe')
    return browser

def go_to_yad2(browser):
    browser.get("https://www.yad2.co.il/products/all")

def open_category(browser):
    print(WebDriverWait(browser, 30).until(EC.visibility_of_element_located((By.XPATH, "//h3[@class='search_title']"))).text)

def main_method():
    browser = open_browser()
    go_to_yad2(browser)
    open_category(browser)

main_method()
</code></pre></li>
<li><p>Console Output (non-english characters doesn't renders on my localhost):</p></li>
</ul>
<p><a href="https://i.stack.imgur.com/pWvW2.png" rel="nofollow noreferrer"><img alt="nonenglish_chars" src="https://i.stack.imgur.com/pWvW2.png"/></a></p>
</div>
<span class="comment-copy"><i>sometimes, on my first connection to the website</i> First meaning what?  First of the day?  First of the hour?  First of the minute?</span>
<span class="comment-copy">First of the minute. I mean, changed my ip on vpn, trying to connect via selenium, then blocked.</span>
<span class="comment-copy">Either you're doing the vpn wrong and your ip address doesn't actually change, or the website is detecting you based on something other than your ip address.</span>
<span class="comment-copy">Nah, I see the website reloading, but after few seconds its again getting blocked</span>
<span class="comment-copy">YMMV: <a href="https://www.scrapehero.com/how-to-prevent-getting-blacklisted-while-scraping/" rel="nofollow noreferrer">scrapehero.com/â€¦</a></span>
