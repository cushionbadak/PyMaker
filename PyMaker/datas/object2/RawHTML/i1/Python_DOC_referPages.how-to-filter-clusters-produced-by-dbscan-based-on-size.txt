<div class="post-text" itemprop="text">
<p>I have applied DBSCAN to perform clustering on a dataset consisting of X, Y and Z coordinates of each point in a point cloud. I want to plot only the clusters which have less than 100 points. This is what I have so far:</p>
<pre><code>clustering = DBSCAN(eps=0.1, min_samples=20, metric='euclidean').fit(only_xy)
plt.scatter(only_xy[:, 0], only_xy[:, 1],
        c=clustering.labels_, cmap='rainbow')
clusters = clustering.components_
#Store the labels
labels = clustering.labels_

#Then get the frequency count of the non-negative labels
counts = np.bincount(labels[labels&gt;=0])

print(counts)

Output: 
[1278  564  208   47   36   30  191   54   24   18   40  915   26   20
   24  527   56  677   63   57   61 1544  512   21   45  187   39  132
   48   55  160   46   28   18   55   48   35   92   29   88   53   55
   24   52  114   49   34   34   38   52   38   53   69]
</code></pre>
<p>So I have found the number of points in each cluster, but I'm not sure how to select only the clusters which have less than 100 points. </p>
</div>
<div class="post-text" itemprop="text">
<p>You may find indexes of the labels where you have counts less than 100:</p>
<pre><code>ls, cs = np.unique(labels,return_counts=True)
dic = dict(zip(ls,cs))
idx = [i for i,label in enumerate(labels) if dic[label] &lt;100 and label &gt;= 0]
</code></pre>
<p>Then you may apply resulting index to your DBSCAN results and labels like (more or less):</p>
<pre><code>plt.scatter(only_xy[idx, 0], only_xy[idx, 1],
        c=clustering.labels_[idx], cmap='rainbow')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think if you run this code, you can get the labels, and cluster components of the cluster with size more than 100:</p>
<pre><code>from collections import Counter
labels_with_morethan100=[label for (label,count) in Counter(clustering.labels_).items() if count&gt;100]
clusters_biggerthan100= clustering.components_[np.isin(clustering.labels_[clustering.labels_&gt;=0], labels_with_morethan100)]
</code></pre>
</div>
<span class="comment-copy">Did you even try to continue? It must take longer to post here than to solve this.</span>
