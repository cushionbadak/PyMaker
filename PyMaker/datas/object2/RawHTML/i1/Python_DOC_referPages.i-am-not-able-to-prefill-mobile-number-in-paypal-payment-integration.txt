<div class="post-text" itemprop="text">
<pre><code>payment = Payment({
    "intent": "sale",

    "application_context": {
        "locale": "en_IN",
        "user_action": "commit",
        "shipping_preference": "NO_SHIPPING",
        "landing_page": "billing"
    },

    # Set payment method
    "payer": {
        "payment_method": "paypal",
        "payer_info": {
            "email": email,
            "first_name": first_name,
            "last_name": last_name,
            "shipping_address": {
            "phone": phone,
            }
        }
    },

    # Set redirect URLs
    "redirect_urls": {
        "return_url": "example.com/confpayment/",
        "cancel_url": "examplecom/payment_fail/"
    },
    # Set transaction object
    "transactions": [{
        "amount": {
            "total": str(amount),
            # "total": "1",
            "currency": "INR"
        },
        "description": "payment description"
    }]
})
</code></pre>
<p>I am getting <strong>Incoming JSON request does not map to API request</strong></p>
<blockquote>
<p>Error:<code>{'name': 'MALFORMED_REQUEST', 'message': 'Incoming JSON request does not map to API request', 'information_link': 'https://developer.paypal.com/webapps/developer/docs/api/#MALFORMED_REQUEST', 'debug_id': '51397a89429bd'}</code></p>
</blockquote>
<p>All other things are prefilled except for mobile number.
Please help me out on this.</p>
<p>I am not sure whether the API format is correct or not.</p>
</div>
<div class="post-text" itemprop="text">
<p>Edit preview code is wrong :</p>
<p>Documentation of the <code>payer</code> property here (link corrected to V2) :</p>
<p><a href="https://developer.paypal.com/docs/api/orders/v2/?mark=payer#definition-payer" rel="nofollow noreferrer">https://developer.paypal.com/docs/api/orders/v2/?mark=payer#definition-payer</a></p>
<p>Error, remove the extra comma at : <code>"phone": "",</code></p>
<pre><code>"payer_info": {
...
    "shipping_address": {
        "phone": ""
    }
 }
</code></pre>
<p>THIS CODE SEEMS TO BE WRONG :</p>
<p>Move the <code>phone</code> outside the <code>shipping_address</code> :</p>
<pre><code>"payer_info": {
...
    "shipping_address": {
    ...
    },
    "phone": ""
 }
</code></pre>
<p>Full samples here : <a href="http://www.seneca-re.com/wp-content/plugins/estatik/vendor/paypal/rest-api-sdk-php/sample/payments/ListPayments.php" rel="nofollow noreferrer">http://www.seneca-re.com/wp-content/plugins/estatik/vendor/paypal/rest-api-sdk-php/sample/payments/ListPayments.php</a></p>
</div>
<span class="comment-copy">Now I am geting this "This field currently not supported in this request"</span>
<span class="comment-copy">Now I am geting this "This field currently not supported in this request"</span>
<span class="comment-copy">Check the API you use, it seems avalaible on API V2 not on V1 : <a href="https://developer.paypal.com/docs/api/orders/v2/" rel="nofollow noreferrer">developer.paypal.com/docs/api/orders/v2</a>   =&gt; Orders / Phone</span>
<span class="comment-copy">Couldn't find anything useful here for phone number field</span>
<span class="comment-copy">Actually the position of this field in the JSON format is the main concern thats why I am getting this error.</span>
<span class="comment-copy">Have you try your code by removing the extra comma =&gt; "phone": phone not "phone": phone,</span>
