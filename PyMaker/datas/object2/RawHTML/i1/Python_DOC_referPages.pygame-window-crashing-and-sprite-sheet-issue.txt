<div class="post-text" itemprop="text">
<p>So I've been testing out this code, I found a tutorial on how I can add spritesheets in pygame and decided to try this one:
<a href="https://www.spriters-resource.com/3ds/dragonballzextremebutoden/sheet/67257/" rel="nofollow noreferrer">https://www.spriters-resource.com/3ds/dragonballzextremebutoden/sheet/67257/</a></p>
<p>I did as the video said and counted the columns and rows, this is my code:</p>
<pre><code>pygame.init()
CLOCK = pygame.time.Clock()
DS = pygame.display.set_mode((W, H))
FPS = 60

class spritesheet:
    def __init__(self, filename, cols, rows):
        self.sheet = pygame.image.load(filename).convert_alpha()

        self.cols = cols
        self.rows = rows
        self.totalCellCount = cols * rows

        self.rect = self.sheet.get_rect()
        w = self.cellWidth = self.rect.width / cols
        h = self.cellHeight = self.rect.height / rows
        hw, hh = self.cellCenter = (w / 2, h / 2)

        self.cells = list([(index % cols * w, index / cols * h, w, h) for index in range(self.totalCellCount)])
        self.handle = list([
            (0,0), (-hw, 0), (-w, 0),
            (0, -hh), (-hw, -hh), (-w, -hh),
            (0, -h), (-hw, -h), (-w, -h),])

    def draw(self, surface, cellIndex, x, y, handle = 0):
        surface.blit(self.sheet, 
        (x + self.handle[handle][0], y + self.handle[handle][1],
         self.cells[cellIndex][2], self.cells[cellIndex][3]))


s = spritesheet('Number18.png', 58, 6)

CENTER_HANDLE = 6

Index = 0

#mainloop
run = True
while run:

    s.draw(DS, Index % s.totalCellCount, HW, HH, CENTER_HANDLE)
    Index +=1

    #pygame.draw.circle(DS, WHITE, (HW, HW), 20, 10)
    DS.blit(bg,(0,0))

    pygame.display.update()
    CLOCK.tick(FPS)
    DS.fill(BLACK)
</code></pre>
<p>The line <code>s = spritesheet("Number18.png", 58, 6)</code> has the numbers 58, 6 which are basically the number of rows and columns I counted on this spritesheet block, but I'm getting problems such as the pygame window on "not responding", the image does not load up and I can't move the pygame screen.</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>I'm getting problems such as the pygame window on "not responding", [...]</p>
</blockquote>
<p>Th fist thing what you've to do is to add en event loop to the main loop of the application.<br/>
<code>pygame.event</code> removes a pending event message from the queue and returns it.
At least you should handle the <a href="https://www.pygame.org/docs/ref/event.html#pygame.event.EventType" rel="nofollow noreferrer"><code>QUIT</code></a> event.  Set the value of control variable for the main loop <code>False</code>: </p>
<pre class="lang-py prettyprint-override"><code>run = True
while run:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            run = False
</code></pre>
<p>The tiles in the sprite sheet don't have equal size. Limit the <code>cells</code> list to some parts of the sheet  which have equal size.<br/>
Try the following:</p>
<pre class="lang-py prettyprint-override"><code>class spritesheet:
    def __init__(self, filename, py, tw, th, tiles):
        self.sheet = pygame.image.load(filename).convert_alpha()

        self.py = py
        self.tw = tw
        self.th = th
        self.totalCellCount = tiles

        self.rect = self.sheet.get_rect()
        w, h = tw, th
        hw, hh = self.cellCenter = (w / 2, h / 2)

        self.cells = [(1+i*tw, self.py, tw-1, th-1) for i in range(tiles)]
        self.handle = list([
            (0,0), (-hw, 0), (-w, 0),
            (0, -hh), (-hw, -hh), (-w, -hh),
            (0, -h), (-hw, -h), (-w, -h),])
</code></pre>
<pre class="lang-py prettyprint-override"><code>s = spritesheet('Number18.png', 1085, 80, 134, 8)
</code></pre>
<hr/>
<blockquote>
<p>[...] the image does not load up [...]</p>
</blockquote>
<p>Make sure that the image is located int the working directory of the application.<br/>
If you want to draw a sub-image of a spritsheet then you've to set the <code>area</code> parameter (3rd parameter) of <a href="https://www.pygame.org/docs/ref/surface.html#pygame.Surface.blit" rel="nofollow noreferrer"><code>pygame.Surface.blit</code></a> to the rectangle area of the sub-image:</p>
<pre><code>def draw(self, surface, cellIndex, x, y, handle = 0):
    hdl = self.handle[handle]
    surface.blit(self.sheet, (x + hdl[0], y + hdl[1]), area=self.cells[cellIndex])
</code></pre>
<hr/>
<blockquote>
<p>[...] I can't move [...]</p>
</blockquote>
<p>You have to change the position of the sprite. Handle the <code>KEYDOWN</code> event. Store the position of the sprite (<code>px</code>, <code>py</code>). Change the position when the <code>K_UP</code>, <code>K_DOWN</code>, <code>K_LEFT</code> or <code>K_RIGHT</code> key is pressed:   </p>
<pre class="lang-py prettyprint-override"><code>run = True
px, py, speed = HW, HH, 10
while run:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            run = False
        elif event.type == pygame.KEYDOWN:
            if event.key == pygame.K_UP:
                py -= speed
            elif event.key == pygame.K_DOWN:
                py += speed
            elif event.key == pygame.K_LEFT:
                px -= speed
            elif event.key == pygame.K_RIGHT:
                px += speed
</code></pre>
</div>
<span class="comment-copy"><i>"the image does not load up"</i> are you sure that the image is located in the working directory of the application? Use an absolute path to the image for debug reasons.</span>
<span class="comment-copy">Can you try printing self.sheet after it is assigned a value?  Do you get any exception anywhere?</span>
<span class="comment-copy">I used the code (thank you for the help by the way) and while it did display the spritesheet, it well displayed the whole sprite sheet and i'm not sure why or where the sprite sheet thing went wrong.</span>
<span class="comment-copy">So i used your middle code and ended up getting this: <a href="https://gyazo.com/b753ffde1edf159c2a6887d81dfef1e9" rel="nofollow noreferrer">gyazo.com/b753ffde1edf159c2a6887d81dfef1e9</a></span>
<span class="comment-copy">It does shift by itself too</span>
<span class="comment-copy">Oh i see, but then again would it be possible to use that sheet for sprites though? Also I got a new sheet with 12 columns and 6 rows: <a href="https://i.pinimg.com/originals/b8/75/21/b875219df685340523351a6ed215c1b9.png" rel="nofollow noreferrer">i.pinimg.com/originals/b8/75/21/â€¦</a> and I managed to get it displayed on pygame but it ain't moving for some reason</span>
<span class="comment-copy">Yeah i resolved the issue, turns out I had to change the px, py variables into that index variable for the position to shift</span>
