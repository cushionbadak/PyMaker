<div class="post-text" itemprop="text">
<p>I am trying to get my program to collect and print the title of events from a website. The problem with my code is that it prints more than the title of the event. It provides the hyperlink as well. How to I get rid of the hyperlink?</p>
<pre><code>from urllib.request import urlopen
from bs4 import BeautifulSoup

url_toscrape = "https://www.ntu.edu.sg/events/Pages/default.aspx"
response = urllib.request.urlopen(url_toscrape)
info_type = response.info()
responseData = response.read()
soup = BeautifulSoup(responseData, 'lxml')

events_absAll = soup.find_all("div",{"class": "ntu_event_summary_title_first"})
for events in events_absAll:
    if len(events.text) &gt; 0:
        print(events.text.strip())
print(events_absAll)
</code></pre>
<p>Also, how do I get the for loop to keep repeating so that I can get the complete list of events such as the list below?</p>
<pre><code>-​​7th ASEF Rectors' Conference and Students' Forum (ARC7)
-Be a Youth Corps Leader 
-NIE Visiting Artist Programme January 2019
- Exercise Classes for You: Healthy Campus@NTU
-[eLearning Course] Information &amp; Media Literacy (From January 2019)
</code></pre>
<p>Thank you in advance</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use an attribute = value selector with <code>^</code> (starts with) operator to target the beginning part of the class attribute of each title</p>
<pre><code>import requests
from bs4 import BeautifulSoup

url = 'https://www.ntu.edu.sg/events/Pages/default.aspx'
response = requests.get(url)  
headers = {'User-Agent','Mozilla/5.0'}
soup = BeautifulSoup(response.content,'lxml')
titles = [item.text.replace('\u200b','') for item in soup.select("[class^='ntu_event_summary_title']")]
print(titles)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Continuing from the comments:</p>
<pre><code>from urllib.request import urlopen
from bs4 import BeautifulSoup

url_toscrape = "https://www.ntu.edu.sg/events/Pages/default.aspx"
response = urllib.request.urlopen(url_toscrape)
info_type = response.info()
responseData = response.read()
soup = BeautifulSoup(responseData, 'lxml')

events_absFirst = soup.find_all("div",{"class": "ntu_event_summary_title_first"})
events_absAll = soup.find_all("div",{"class": "ntu_event_summary_title"})
for first in events_absFirst:
    print(first.text.strip())
for events in events_absAll:
        print(events.text.strip())
</code></pre>
<p><strong>OR (even better)</strong>:</p>
<p>Using the class <code>ntu_event_detail</code> and finding the <code>a</code> inside it:</p>
<pre><code>import requests
from bs4 import BeautifulSoup

page = requests.get("https://www.ntu.edu.sg/events/Pages/default.aspx")
soup = BeautifulSoup(page.content, 'html.parser')

events_absAll = soup.find_all("div",{"class": "ntu_event_detail"})
for events in events_absAll:
    for a in events.find_all('a'):
        print(a.text.strip())
</code></pre>
<p><strong>OUTPUT</strong>:
​​</p>
<pre><code>7th ASEF Rectors' Conference and Students' Forum (ARC7)
​Be a Youth Corps Leader
​NIE Visiting Artist Programme January 2019
​Exercise Classes for You: Healthy Campus@NTU
​[eLearning Course] Information &amp; Media Literacy (From January 2019)
​[Workshop] Introduction to Zotero (Jan to Apr 2019)
​[Workshop] Introduction to Mendeley (Jan to Apr 2019)
​Sembcorp
Marine Green Wave Environmental Care Competition 2019 - Submit by 31 March 2019
​[Consultation] Consultation for EndNote-Mac Users (Jan to Apr 2019)
​The World Asian Business Case Competition, WACC 2019 at Seoul (proposal submission by 01 April 2019)
​Heartware Network
.
.
.
</code></pre>
<p><strong>EDIT</strong>:
A better way would be to create a <code>list</code>, store the results in it, filter the empty strings (if any):</p>
<pre><code>data =[]
for events in events_absAll:
    for a in events.find_all('a'):
        data.append(a.text)

filtered = list(filter(None, data))  # fastest
for elem in filtered: print(elem)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Thanks so much for helping me out. I now have another issue. I am trying to collect the event date, time and venue. They came out successfully but then it is not reader friendly. How do I get the date, time and venue to appear separately like:</p>
<pre><code>- event
Date:
Time:
Venue:
</code></pre>
<p>I was thinking of splitting but I ended up with lots of [] which made it looked even uglier. I thought of stripping but my regular expression but it does not appear to do anything. Any suggestions?</p>
<hr/>
<pre><code>from urllib.request import urlopen
from bs4 import BeautifulSoup
import re

url_toscrape = "https://www.ntu.edu.sg/events/Pages/default.aspx"
response = urllib.request.urlopen(url_toscrape)
info_type = response.info()
responseData = response.read()
soup = BeautifulSoup(responseData, 'lxml')

events_absFirst = soup.find_all("div",{"class": "ntu_event_summary_title_first"})
date_absAll = tr.find_all("div",{"class": "ntu_event_summary_date"})
events_absAll = tr.find_all("div",{"class": "ntu_event_summary_title"})

for first in events_absFirst:
    print('-',first.text.strip())
    print (' ',date)

for tr in soup.find_all("div",{"class":"ntu_event_detail"}):
    date_absAll = tr.find_all("div",{"class": "ntu_event_summary_date"})
    events_absAll = tr.find_all("div",{"class": "ntu_event_summary_title"})

    for events in events_absAll:
        events = events.text.strip()
    for date in date_absAll:
        date = date.text.strip('^Time.*')
    print ('-',events)
    print (' ',date)
</code></pre>
</div>
<span class="comment-copy">remove this <code>print(events_absAll)</code> and it won't print the url.</span>
<span class="comment-copy">and change this: <code>events_absAll = soup.find_all("div",{"class": "ntu_event_summary_title"})</code></span>
<span class="comment-copy">Only the first element has a different class, the rest all have one.</span>
<span class="comment-copy">you may consider accepting an answer that helped you: <a href="https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work" title="how does accepting an answer work">meta.stackexchange.com/questions/5234/…</a> cheers</span>
<span class="comment-copy">In your code you imported only <code>urlopen</code> and you are using it as  <code>response = urllib.request.urlopen(url_toscrape)</code> I think it would be <code>response = urlopen(url_toscrape)</code></span>
<span class="comment-copy">@zxy, Indeed. I edited with a preferred way using <code>requests</code> instead. cheers</span>
<span class="comment-copy">Thanks DirtyBit. I noticed the second set of code leave an extra space between each line compared to the first. Why is that?</span>
<span class="comment-copy">@dxb625 Posted an edit, kindly check!</span>
