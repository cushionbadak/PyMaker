<div class="post-text" itemprop="text">
<p>I found a script to Program to build a focused crawler in Python.
This script stopped in function (google_scrape). in this function I've been getting error whenever executing it. 
This error is (List Index Out Of Range)
Can you help me?</p>
<pre><code># Uses google search engine to find out the results for user query. 
def google_scrape(query):
    address = "http://www.google.com/search?q=%s&amp;num=100&amp;hl=en&amp;start=0" % (urllib.quote_plus(query))
    request = urllib2.Request(address, None, {'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11'})
    urlfile = urllib2.urlopen(request)   
    page = urlfile.read()
    soup = BeautifulSoup(page)
    links = []
    count = 0
    li = soup.findAll('li', attrs={'class':'g'})
    while count &lt; 10:
        sLink = li[count].find('a')
        links.append(sLink['href']) 
        count += 1
    return links
</code></pre>
<p>Error Stack:
<a href="https://i.stack.imgur.com/haY6i.jpg" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/haY6i.jpg"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-limit-argument" rel="nofollow noreferrer"><code>The limit argument</code></a>:</p>
<pre><code>li = soup.findAll('li', attrs={'class':'g'}, limit=10)

for elem in li:
    sLink = elem.find('a')
    links.append(sLink['href'])
    count += 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You might have less than 10 links, try:</p>
<pre><code>for count in range(len(li)):
    sLink = li[count].find('a')
    links.append(sLink['href']) 
    count += 1
</code></pre>
<p>Your code will work in case <code>li</code> has more than 10 elements, but will give you an error when it will have less than 10 elements because you will try to access an element outside list, which gives the index error. With a <code>for</code> and <code>range(len(li))</code> you can loop just on all the elements independently of how long the list is, preventing the index error.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could gather all and test length of returned list then slice list accordingly</p>
<pre><code>items = [item['href'] for item in soup.select('li.g a')]
length = len(items)
if length &lt; 10:
    final = items[:length + 1]
else:
    final = items[:10]
</code></pre>
</div>
<span class="comment-copy">Hint: <code>while count &lt; 10:</code> this is fishyyy</span>
<span class="comment-copy">You can set the maximum number of results with <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-limit-argument" rel="nofollow noreferrer"><code>limit</code></a>. Then loop over the results without using an index.</span>
