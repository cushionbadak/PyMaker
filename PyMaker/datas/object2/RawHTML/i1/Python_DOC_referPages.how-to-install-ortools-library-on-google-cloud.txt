<div class="post-text" itemprop="text">
<p>I am using the command <code>pip install -t lib/ ortools</code> , the library <code>ortools</code> is installed to the <code>lib/</code> folder. But when I deploy my Flask project that contains that library on the Google App Engine, I got the following error:</p>
<pre><code>(/base/alloc/tmpfs/dynamic_runtimes/python27g/931d17f05408b3ef/python27/python27_lib/versions/1/google/appengine/runtime/wsgi.py:263)
Traceback (most recent call last):
  File "/base/alloc/tmpfs/dynamic_runtimes/python27g/931d17f05408b3ef/python27/python27_lib/versions/1/google/appengine/runtime/wsgi.py", line 240, in Handle
    handler = _config_handle.add_wsgi_middleware(self._LoadHandler())
  File "/base/alloc/tmpfs/dynamic_runtimes/python27g/931d17f05408b3ef/python27/python27_lib/versions/1/google/appengine/runtime/wsgi.py", line 299, in _LoadHandler
    handler, path, err = LoadObject(self._handler)
  File "/base/alloc/tmpfs/dynamic_runtimes/python27g/931d17f05408b3ef/python27/python27_lib/versions/1/google/appengine/runtime/wsgi.py", line 85, in LoadObject
    obj = __import__(path[0])
  File "/base/data/home/apps/b~cidy-1539116366694/20190316t002011.416796594015344313/main.py", line 5, in &lt;module&gt;
    from ortools.constraint_solver import pywrapcp
  File "/base/data/home/apps/b~cidy-1539116366694/20190316t002011.416796594015344313/lib/ortools/constraint_solver/pywrapcp.py", line 17, in &lt;module&gt;
    _pywrapcp = swig_import_helper()
  File "/base/data/home/apps/b~cidy-1539116366694/20190316t002011.416796594015344313/lib/ortools/constraint_solver/pywrapcp.py", line 16, in swig_import_helper
    return importlib.import_module('_pywrapcp')
  File "/base/alloc/tmpfs/dynamic_runtimes/python27g/931d17f05408b3ef/python27/python27_dist/lib/python2.7/importlib/__init__.py", line 37, in import_module
    __import__(name)
ImportError: No module named _pywrapcp
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The 1st generation (Python 2.7) standard environment sandbox has very strict requirements. Particularly relevant in this context is the <a href="https://cloud.google.com/appengine/docs/standard/python/runtime#Python_Pure_Python" rel="nofollow noreferrer">Pure Python</a> one:</p>
<blockquote>
<p>All code for the Python runtime environment must be pure Python, and
  not include any C extensions or other code that must be compiled.</p>
</blockquote>
<p>The <code>OR-tools</code> fail to meet this requirement since they require (platform-specific) compilation. From <a href="https://developers.google.com/optimization/install/python/" rel="nofollow noreferrer">their installation page</a>:</p>
<blockquote>
<p><strong>Note</strong>: you can build OR-Tools suite from source for any supported platform only from that platform. OR-Tools Makefile does not support
  cross-compiling for any supported platform.</p>
</blockquote>
<p>You <em>might</em> still be able to use them on GAE:</p>
<ul>
<li>in the 2nd generation standard environment (Python 3.7, more relaxed restrictions) - but I'm not certain if pip-driven package builds are supported and if all the tools required for it are provided, YMMV</li>
<li>in the flexible environment, most likely using a <a href="https://cloud.google.com/appengine/docs/flexible/custom-runtimes/build" rel="nofollow noreferrer">custom-built runtime</a> which allows you to add even non-python dependencies - the extra libraries and tools you might need for building <code>ortools</code>.</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Do you run pip on macOS or Linux ? If build on macOS, please see <a href="https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27#vendoring" rel="nofollow noreferrer">Using Homebrew Python on macOS?</a></p>
<p>According to the official web of <a href="https://developers.google.com/optimization/install/python/" rel="nofollow noreferrer">OR-Tools Python</a>, I think ortools depends on the platform. </p>
<p>When you use platform dependency python lib, it's better use pip install -t lib/ ortools. 
on linux environment.</p>
</div>
<span class="comment-copy">IIUC You're attempting to deploy to App Engine and want to include ortools as part of the deployment. You'll need to vendor the ortools in order that they're part of the bundle that's shipped to App Engine w/ your app: <a href="https://cloud.google.com/appengine/docs/standard/python/tools/using-libraries-python-27" rel="nofollow noreferrer">cloud.google.com/appengine/docs/standard/python/tools/â€¦</a></span>
<span class="comment-copy">We do provide ortools for python 3.7 on manylinux. It should work on GAE.</span>
<span class="comment-copy">Please note that native libraries are pre-compiled. We do not provide source based modules.</span>
<span class="comment-copy">Even better - then they should work in both environments just via the <code>requirement.txt</code> files.</span>
<span class="comment-copy">Yes, the python interface of OR-Tools is a wrapper around C++ libraries. So the module are not pure python. We provide modules for Mac OS 10.14, visual studio 2017, and manylinux.</span>
