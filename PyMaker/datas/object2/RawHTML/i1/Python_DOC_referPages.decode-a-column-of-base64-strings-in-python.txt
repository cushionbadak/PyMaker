<div class="post-text" itemprop="text">
<p><strong>Situation:</strong> I have a column that I'll be extracting from SQL with hundreds of thousands of Base 64 strings that I would like to decode.</p>
<p>One decoded string looks like this:</p>
<pre><code>b'{"a":1,"b":2,"c":3,...}'
</code></pre>
<p><strong>Objective:</strong>
How can I simply extract the value of the first dictionary. In this case, this would be 1. I would like the results to end up in a <code>numpy</code> array or df.</p>
<p>I found the following code to help me decode one string but unsure how to use it for every row in a column.</p>
<pre><code>import base64
coded_string = '''value to decode'''
base64.b64decode(coded_string)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Assuming your snippet is well-formed Python (although, this seems more likely to be JSON), you can use <code>literal_eval</code>:</p>
<pre><code>from ast import literal_eval
from base64 import b64decode
from pprint import pprint

binary = b64decode(some_str)

lib = literal_eval(binary.decode('utf8'))
pprint(lib)
</code></pre>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer">docs.python.org/3/library/ast.html#ast.literal_eval</a></span>
<span class="comment-copy">Turn it into an object and access it like you would a dictionary.</span>
<span class="comment-copy">@TheIncorrigible1  get the following error message when parsing ValueError: malformed node or string:</span>
<span class="comment-copy">That's because you're passing a byte object, you need to decode it first: <code>result = ast.literal_eval(entry.decode('utf8'))</code></span>
<span class="comment-copy">sure if you dont mind post the answer so i can accept it as solved @TheIncorrigible1</span>
