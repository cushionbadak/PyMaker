<div class="post-text" itemprop="text">
<p>I am trying to have a function run once at a particular time. I have used  My code is the following: </p>
<pre><code>import pytz
import datetime
import time

def test_1():

    print("Working_1")


def test_2():

    print("Working_2")


while True:

    current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')

    if current_time == '2019-03-18T19:00:36Z':

        test_1()

        current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')


        if current_time &gt; '2019-03-18T19:00:36Z':

            break

        if current_time == '2019-03-18T19:00:36Z':

            test_2()


            current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')


            if current_time &gt; '2019-03-18T19:00:36Z':

                break
</code></pre>
<p>When I run my code it runs the first function followed by the second one until the end condition. </p>
<p>I want the function to run at the specified times in the <code>if</code> statement.</p>
<p>I think the problem is occurring about how loops are nested. I have tried multiple configurations of the <code>if</code> statement and break condition but just cannot get it.</p>
<p>Any help would be much appreciated, cheers.
Sandy           </p>
</div>
<div class="post-text" itemprop="text">
<p>I believe your code here doesn't work because it would require the time to be EXACTLY the timestamp given, and when accounting for run-time, even if minimal, this is quite unrealistic. A possible solution is to give a "time cushion", i.e a window around the execution time rather than an exact match for the if statement; however this is still quite unreliable.</p>
<p>If you don't mind using an external module, I would recommend you take a look at <a href="https://docs.python.org/library/sched.html" rel="nofollow noreferrer">sched</a> or <a href="https://apscheduler.readthedocs.io/en/v3.5.3/" rel="nofollow noreferrer">APScheduler</a>. I've personally used the latter, and it works great.</p>
</div>
<div class="post-text" itemprop="text">
<p>Taking my best guess at what you want: You want both functions to run, in order, at a particular time, yes? Something much simpler should work, like this:</p>
<pre><code>current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')
while current_time &lt; '2019-03-18T19:00:36Z':
    current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')
test_1()
test_2()
</code></pre>
<p>This will run both functions as soon as the clock hits or passes your target time.</p>
<p><strong>EDIT:</strong> If you want them to run at two different times:</p>
<pre><code>current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')
while current_time &lt; '&lt;first_time&gt;':
    current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')
test_1()
while current_time &lt; '&lt;second_time&gt;':
    current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M:%SZ')
test_2()
</code></pre>
<p>(where <code>&lt;first_time&gt;</code> is first chronologically)</p>
</div>
<span class="comment-copy">why is your code double-spaced..?</span>
<span class="comment-copy">I just find it a bit easier to read.</span>
<span class="comment-copy">What is the problem with your code? How did it not meet expectations?</span>
<span class="comment-copy">I would like the functions to run at the times specified in the if statement. This should be changed to sompoint in the future.</span>
<span class="comment-copy">All four of your <code>if</code> statements are comparing to the exact same time. From your post, I gather you intend things to happen at multiple different times. I'd start there.</span>
<span class="comment-copy">The current_time can be compared <code>'2019-03-18T18:35:36Z' &gt; '2019-03-18T18:34:36Z'</code> returns true</span>
<span class="comment-copy">What if I want the functions to be run at a particular time. Maybe this code will help you understand my question <code>def time():      current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M')     while current_time == '2019-03-18T19:37':         current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M')          test_1()          while current_time == '2019-03-18T19:38':         current_time = datetime.datetime.now(pytz.timezone('GMT')).strftime('%Y-%m-%dT%H:%M')          test_2()</code></span>
