<div class="post-text" itemprop="text">
<p>My question relates to creating a <code>for</code> loop using a python dictionary and jinja2. I want to use the value of each key/value pair as the source attribute for an  element in HTML. </p>
<p>---HTML/jinja2--- </p>
<pre><code>{% for song, mp3 in song_dict.items() %}
        &lt;li&gt; {{ song }} :&lt;audio controls&gt; &lt;source  src="{{ mp3 }}" type ="audio/mpeg"&gt;&lt;/audio&gt;{{ mp3 }}&lt;/li&gt;
{% endfor %}
</code></pre>
<hr/>
<p><strong>python snippet</strong>:</p>
<pre><code>def home():    
    song_dict = {"Pumba":'"static/PUMBA_1.mp3"', "You're Feet":'"static/youre feet mix 1.8.17_1.mp3"',
     "ratatatatata":'"static/ratatat.mp3"',
    "12 | 8":'"static/12_8 NO CLICK.mp3"', "Sage to Your Internet" : '"static/sage to your internet.mp3"',
    "EB":'"static/EB DEMO MIX NO CLICK.mp3"'}

    return render_template("pet_friend.html",
                            song_list = song_list,
                            song_dict = song_dict
                            )
</code></pre>
<hr/>
<p>I can get text to print after the audio player, but I cannot pass the path to the src attribute of the audio element.</p>
<p>Any help/suggestions would be greatly appreciated! </p>
</div>
<div class="post-text" itemprop="text">
<p>The path should be <code>'/static/PUMBA_1.mp3'</code> and not <code>'"static/PUMBA_1.mp3"'</code> (with a leading /)</p>
<p>But if you already store the files in a static folder, the easiest way to serve the files in jinja templates is to call this function : <a href="http://flask.pocoo.org/docs/1.0/tutorial/static/" rel="nofollow noreferrer"><code>url_for('static',filename=your_file.mp3)</code></a></p>
<p>it creates a path automatically to your static folder and allows you to change it without modifying everything (so you can remove all 'static' in <code>song_dict</code>).</p>
<hr/>
<p>Jinja Template :</p>
<pre><code>{% for song, mp3 in song_dict.items() %}
    &lt;li&gt;{{ song }}:&lt;audio controls&gt; 
                   &lt;source src="{{ url_for('static',filename=mp3) }}" type ="audio/mpeg"&gt;
                   &lt;/audio&gt;{{ mp3 }}&lt;/li&gt;
{% endfor %}
</code></pre>
<hr/>
<p>View (without every "static/" and double <code>' "" '</code>):</p>
<pre><code>def home():
    song_dict = {"Pumba":'PUMBA_1.mp3', "You're Feet":'youre feet mix 1.8.17_1.mp3',
     "ratatatatata":'ratatat.mp3'}

    return render_template("pet_friend.html",
                            song_dict = song_dict
                            )
</code></pre>
</div>
