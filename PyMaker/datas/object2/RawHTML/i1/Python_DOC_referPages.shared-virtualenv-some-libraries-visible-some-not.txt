<div class="post-text" itemprop="text">
<p>I have a python program that's used by a lot of non-technical users. It's shared with everyone on Dropbox. The easiest way to deliver it to everyone is to also share a virtualenv on dropbox. Everyone's dropbox is mounted in the same place. In the case I'm worried about, these are macs, so the dropbox is mounted at /Volumes/Dropbox. The program is in Dropbox/CYAN, the venvs are in  Dropbox/venvs/mac/.</p>
<p>When I create a venv, and pip all of my libraries, it works fine on the machine that it was created on, but other machines can't seem to see some of the libraries that have been installed.</p>
<p>For example, when I import pandas, it gives the error:</p>
<pre><code>&gt;&gt;&gt; import pandas
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/Volumes/Dropbox (CEP)/venvs/mac/test3/lib/python3.7/site-packages/pandas/__init__.py", line 19, in &lt;module&gt;
    "Missing required dependencies {0}".format(missing_dependencies))
ImportError: Missing required dependencies ['numpy', 'pytz']
</code></pre>
<p>numpy and pytz are present, and have correct permissions. </p>
<p>Is it possible that there are symlinks that dropbox is breaking? </p>
<p>NOTE: I know that virtualenv doesn't want to be used on multiple machines. But there is no other good way of doing this, and the paths are all identical, so it really shouldn't care. </p>
<p>Further note: I've considered making every user have their own virtualenv, but then when they do something stupid, I have to figure it out. If I maintain everything it's much simpler. </p>
<p>I've considered using Docker, but that makes things WAY too complicated for the users.</p>
<p>I've considered compiling everything, but I have multiple entry-points, so I'll end up having 12 copies of pandas running around.</p>
<p>I've posted multiple questions on this topic here, and everyone tries to convince me that "no, you should re-organize your entire structure and do it like THIS" and none of those actually work for my situation. I'm continually shocked that no one else seems to be trying to do what I'm doing, but ... eh...</p>
<p>So, basically, please don't try to talk me out of this architecture... it's the only model that seems to work for me. </p>
</div>
<div class="post-text" itemprop="text">
<p>Some python libraries such as numpy have to be built on the system on which it's running due to build dependencies on the system - which can vary vastly based on several factors. It won't be possible to make these work by sharing via dropbox unless all systems using it are identical to the one where it was built.</p>
</div>
<span class="comment-copy">"The easiest way to deliver it to everyone is to also share a virtualenv on dropbox... there is no other good way of doing this"—I find this hard to believe. Surely you could package the application up for your users?</span>
<span class="comment-copy">The problem is that the 'program' is actually a suite with a bunch of common libraries. Packaging up each entry point as a separate program is extremely cumbersome. Every time I change something I would have to re-release everything. I'm the only engineer at the organization. I don't have time to maintain that.</span>
<span class="comment-copy">The easiest thing to do would be to provide <code>requirements.txt</code> and instructions on how to create the necessary virtual environment.</span>
<span class="comment-copy"><code>numpy</code> and <code>pytz</code> are probably installed globally on your machine, and <code>pip</code> did not (re)install them in the virtual environment.</span>
<span class="comment-copy">With so many problems you've shown in your <a href="https://stackoverflow.com/search?tab=newest&amp;q=user%3a53491%20%5bpython%5d">questions</a> it's hard to believe the model works.</span>
<span class="comment-copy">All systems are identical macbooks running MacOS Mojave.</span>
<span class="comment-copy">Have you used the <code>--relocatable</code> flag while creating the virtualenv? <a href="https://virtualenv.pypa.io/en/stable/userguide/#making-environments-relocatable" rel="nofollow noreferrer">virtualenv.pypa.io/en/stable/userguide/…</a>  virtualenv is not meant to be moved from one system to another, though this experimental feature is available. If the systems are identical to every version of package installed (including c dependencies), then this might work.</span>
<span class="comment-copy">yes, Relocatable didn't help.</span>
