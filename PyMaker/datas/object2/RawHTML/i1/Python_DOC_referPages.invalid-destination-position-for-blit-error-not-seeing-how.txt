<div class="post-text" itemprop="text">
<p>I am programming a game that's basically using sprites, I was using a sprite sheet for this code and ended up getting the </p>
<blockquote>
<p>"invalid destination for blit" </p>
</blockquote>
<p>error.</p>
<pre><code>class spritesheet:
    def __init__(self, filename, cols, rows):
        self.sheet = pygame.image.load(filename).convert_alpha()

        self.cols = cols
        self.rows = rows
        self.totalCellCount = cols * rows

        self.rect = self.sheet.get_rect()
        w = self.cellWidth = self.rect.width / cols
        h = self.cellHeight = self.rect.height / rows
        hw, hh = self.cellCenter = (w / 2, h / 2)

        self.cells = list([(index % cols * w, index / cols * h, w, h) for index in range(self.totalCellCount)])
        self.handle = list([
            (0,0), (-hw, 0), (-w, 0),
            (0, -hh), (-hw, -hh), (-w, -hh),
            (0, -h), (-hw, -h), (-w, -h),])

    def draw(self, surface, cellIndex, x, y, handle = 0):
        surface.blit(self.sheet, (x + self.handle[handle][0], y + self.handle[handle][1], self.cells[cellIndex]))


s = spritesheet('Number18.png', 6, 58)


CENTER_HANDLE = 4

Index = 0

#mainloop
run = True
while run:

    s.draw(DS, Index % s.totalCellCount, HW, HH, CENTER_HANDLE)
    Index +=1

    pygame.draw.circle(DS, WHITE, (HW, HW), 2, 0)

    pygame.display.update()
    CLOCK.tick(FPS)
    DS.fill(BLACK)
</code></pre>
<p>This is basically my whole code and I'm getting a problem on the line</p>
<blockquote>
<pre><code> surface.blit(self.sheet, (x + self.handle[handle][0], y + self.handle[handle][1], self.cells[cellIndex]))
</code></pre>
</blockquote>
<p>constantly giving out the error that this is an invalid destination position for the <code>blit</code>, i've also noticed that my index has an effect on it too but i don't know what to do.</p>
</div>
<div class="post-text" itemprop="text">
<p>The 2nd (dest) parameter to <a href="https://www.pygame.org/docs/ref/surface.html#pygame.Surface.blit" rel="nofollow noreferrer"><code>pygame.Surface</code></a> has to be either a position (a tuple <code>(x, y)</code>) or a rectangle (a tuple <code>(x, y, h, w)</code>).</p>
<p>What yo do is to pass a tuple <code>(x, y, list)</code>:</p>
<blockquote>
<pre><code>surface.blit(self.sheet, 
    (x + self.handle[handle][0], y + self.handle[handle][1], self.cells[cellIndex]))
</code></pre>
</blockquote>
<p>If you want to set the destination by the position <code>(x + self.handle[handle][0], y + self.handle[handle][1])</code> and the width and height of <code>self.cells[cellIndex]</code>, then it has to be:</p>
<pre class="lang-py prettyprint-override"><code> hdl = self.handle[handle]
 cell = self.cells[cellIndex]
 surface.blit(self.sheet, (x + hdl[0], y + hdl[1], cell[2], cell[3]))
</code></pre>
</div>
<span class="comment-copy">Thank you man this really helped</span>
<span class="comment-copy">@TheForeigner You're welcome.</span>
