<div class="post-text" itemprop="text">
<p>I know how to get a cylinder but I want to depict something like toilet paper roll plotting archimedian spiral at the surface with the cylinder.</p>
<p><a href="https://stackoverflow.com/questions/53999426/how-to-parameterize-a-curved-cylinder">How to parameterize a curved cylinder?</a></p>
<p>But what I need is Toilet paper roll like the plot.</p>
<p>I figured out the math behind this can someone help me with python I need to plot it in 3D for the following equation 
In practice the formula <img src="https://latex.codecogs.com/gif.latex?%5Cpi(R%5E2-r%5E2)&amp;space;=&amp;space;Lh" title="\pi(R^2-r^2) = Lh"/> </p>
<p>I want to use L as parameter and my equation becomes </p>
<p><img src="https://latex.codecogs.com/gif.latex?R(L)=%5Csqrt%7B%5Cfrac%7BLh%7D%7B%5Cpi%7D+r%5E2%7D" title="R(L)=\sqrt{\frac{Lh}{\pi}+r^2}"/></p>
<p>Here h is metal thickness, r is inner radius of the roll. This formula is using circular approximation of the spiral roll. I also know length L =50 Can someone help me with matplotlib code</p>
<p>This is exactly what I need
<a href="http://pgfplots.net/tikz/examples/cylinder-spiral/" rel="nofollow noreferrer">http://pgfplots.net/tikz/examples/cylinder-spiral/</a>   please look at this link</p>
<p>Can someone help me to put it in Matplotlib<a href="https://i.stack.imgur.com/hURev.png" rel="nofollow noreferrer"><img alt="Cylindrical spiral" src="https://i.stack.imgur.com/hURev.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://i.stack.imgur.com/Pz8pT.jpg" rel="nofollow noreferrer"><img alt="cylinder-spiral" src="https://i.stack.imgur.com/Pz8pT.jpg"/></a>Below is the solution I somehow figured it out I would be happy if someone help me to better my solution </p>
<pre><code>L = 50
h= 0.5
r= 5.0[![plot][1]][1]
R = np.sqrt((L*h)/(np.pi)+r**r)
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
xpoints=[]
ypoints=[]

for theta in np.linspace(0,20,R):
        xpoints.append(1.1*theta*cos(theta))
        ypoints.append(1.1*theta*sin(theta))
        z = np.linspace(0,R)
        theta, z = np.meshgrid(t, z)
ax.plot_surface(xpoints,ypoints,z)
plt.show()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The parametric equation for a circle centered on the origin and radius <code>r</code> is,
<code>x = r \times sin(\theta)</code>
<code>y = r \times cos(\theta)</code>
where <code>\theta \in [0,2\pi]</code>.</p>
<p>For a spiral, the radius increases with \$\theta\$. Assuming that \$r\$ relies on <code>\theta</code> as <code>r = (a+b\theta)</code> it can be,
<code>x = (a+b\theta) sin(\theta)</code>
<code>y = (a+b\theta) cos(\theta)</code></p>
<p>For it to be a 3D figure with a vertical axis, you can add <code>z</code> in <code>linspace(0, L)</code> where <code>L</code> is the length of the cylinder. </p>
<pre><code>import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import math
import numpy as np

L = 50
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
xpoints=[]
ypoints=[]
a = 0.1
b = 0.1

for theta in np.linspace(0, 2*math.pi, 20):
    xpoints.append((a+b*theta)*math.cos(theta))
    ypoints.append((a+b*theta)*theta*math.sin(theta))
    z = np.linspace(0,L)
    theta, z = np.meshgrid(theta, z)
ax.plot_surface(xpoints,ypoints,z)
plt.show()
</code></pre>
<p>Since you have a working code, you can post it in Code review Stack Exchange where I can explain with typeset math.</p>
</div>
<span class="comment-copy">You can look into that spiral cylinder in the image I need to plot same thing using matplotlib , you can think it like a toilet paper roll</span>
