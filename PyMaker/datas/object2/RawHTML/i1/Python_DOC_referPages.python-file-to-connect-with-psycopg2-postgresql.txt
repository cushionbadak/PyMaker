<div class="post-text" itemprop="text">
<p>I am a php developer. I'm trying to create a little application with pyqt
I use this code which works fine </p>
<pre><code> import psycopg2

 try:
   myConnection = psycopg2.connect(host="localhost", user="openpg", password="", dbname="dbLaSolve")
   conn = myConnection.cursor()

 except(Exception, psycopg2.Error) as error :
   if(myConnection):
        print("Failed to insert record", error)

 sql = "insert into trens(nom,prenom)VALUES('RASOLO','Solofo')"
 conn.execute(sql)
 myConnection.commit()
</code></pre>
<p>But I would like to separate it in two files example 
<strong>conn.py</strong> for the part connection and 
<strong>insert.py</strong> to insert the data in the table postgreql
Like this for those who know php</p>
<p>connex.php</p>
<pre><code>try
{
    $conn = new PDO('mysql:host=localhost;dbname=dbLaSolve','root','');
}
catch(Exception $err)
{
    echo "Erreur de connexion à la base de donnée: ".$err-&gt;getMessage();
    exit();
}
</code></pre>
<p>insert.php</p>
<pre><code>require_once("connex.php");
$sql = "INSERT INTO trens ( `nom`, `prenom`)VALUES ('RASOLO','Solofo')";
$conn-&gt;exec($sql );
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>the file:
connex.py</p>
<pre><code>import psycopg2
myConnection = psycopg2.connect(host="localhost", port=5432, user="postgres", 
password="mypass", dbname="dell")
conn = myConnection.cursor()
</code></pre>
<p>and the file
insert.py (import de connex)</p>
<pre><code>from connect import  myConnection,conn,psycopg2

try:
    sql = "insert into trens VALUES('hola','mundo')"
    conn.execute(sql)
    myConnection.commit()

except(Exception, psycopg2.Error) as error :
    if(myConnection):
        print("Failed to insert record", error)
</code></pre>
</div>
<span class="comment-copy">Thanks Anthony for the anwer, I'm going to try it</span>
