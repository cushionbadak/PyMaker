<div class="post-text" itemprop="text">
<p>I'm making a script that extracts all the comments from the page source of a website.</p>
<pre><code>for addr in links:
    driver.get(addr)
    print(addr)
    for comments in soup.findAll(text=lambda text: isinstance(text, Comment)):
        comments.extract()
        print(comments)
</code></pre>
<p>Why does it only extract CDATA like this:</p>
<p><div class="snippet" data-babel="false" data-console="true" data-hide="false" data-lang="js">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>//&lt;![CDATA[
Feedback.Bootstrap.InitializeFeedback({page:true},"epf",true,false,false,false,false);;
//]]&gt;
//&lt;![CDATA[
function addRemoveListenersOnAll(){var t=_ge("b_content"),n,i,r;t&amp;&amp;(n=_d.createElement("STYLE"),n.id=styleIdString,n.innerText="#b_results h2&gt;a {padding: 16px 40px 0 6px;margin: -16px -40px 0 -6px;}",_d.head&amp;&amp;_d.head.appendChild(n),i=t.getElementsByClassName("b_ad"),i&amp;&amp;AddRemoveListener(i),r=t.getElementsByClassName("b_algo"),r&amp;&amp;AddRemoveListener(r))}function AddRemoveListener(n){for(var t,i,u=n.length,r=0;r&lt;u;r++)if(t=n[r].getElementsByTagName("CITE"),t&amp;&amp;t.length&gt;0)for(i=0;i&lt;t.length;i++)sj_be(t[i],"click",algo_c)}function mouseMoveAfterTouchHandler(){sj_ue(document,"mousemove",mouseMoveAfterTouchHandler);var n=_d.getElementById(styleIdString);n&amp;&amp;n.parentNode&amp;&amp;n.parentNode.removeChild(n);sj_log("CI.TTC","mouse","started");sj_ue(document,"mousemove",mouseMoveAfterTouchHandler)}function touchStartHandlerAll(n){n.pointerType==="touch"&amp;&amp;(addRemoveListenersOnAll(),sj_log("CI.TTC","touch","started"),sj_ue(document,"pointerdown",touchStartHandlerAll),document.addEventListener("mousemove",mouseMoveAfterTouchHandler))}var styleIdString="ttcDynStyle",algo_c=function(n){function i(n){var t=n.getElementsByTagName("a"),i;t&amp;&amp;t.length&gt;0&amp;&amp;(i=t[0],si_ct(i),sj_log("CI.TTC","click","touch"),_w.open(i.href,"_self"))}n=sj_ev(n);var t=sj_et(n);if(t){if(t.tagName=="A")return!0;while(t&amp;&amp;!(t.className.indexOf("b_algo")&gt;=0||t.className.indexOf("sb_add")&gt;=0)){if(t.tagName=="BODY")return;t=t.parentNode}}return t?(i(t),!0):(sj_sp(n),!1)};document.addEventListener("pointerdown",touchStartHandlerAll);Feedback.Bootstrap.InitializeFeedback({page:true},"sb_feedback",1,0,0);;
//]]&gt;</code></pre>
</div>
</div>
</p>
<p>but it doesn't extract regular comments like these:</p>
<p><div class="snippet" data-babel="false" data-console="true" data-hide="false" data-lang="js">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;!--div class="s-bk-lf"&gt;&lt;div class="acc-title" &gt;Следите за новостями и акциями нашего проекта!!!&lt;/div&gt; &lt;/div&gt;&lt;br--&gt;
&lt;!--LiveInternet counter--&gt;
&lt;!--img src="/img/ng6.png"width="150" height=""  hspace="100" vspace="80" align="left" --&gt;</code></pre>
</div>
</div>
</p>
<p>How can extract regular comments instead of just CDATA?</p>
</div>
<div class="post-text" itemprop="text">
<p>I figured out it was looking at html parsed by beautiful soup early in the script( which was from bing search results. </p>
<p>I fixed it by adding beautifulsoup in the loop.</p>
<pre><code>for addr in links:
    print(addr)
    driver.get(addr)
    html = driver.page_source
    soup = BeautifulSoup(html, "html.parser")
    for comments in soup.findAll(text=lambda text: isinstance(text, Comment)):
        comments.extract()
        print(comments)
</code></pre>
<p>Its not clean since I just copied html and soup from earlier in the script, but it did work.</p>
</div>
