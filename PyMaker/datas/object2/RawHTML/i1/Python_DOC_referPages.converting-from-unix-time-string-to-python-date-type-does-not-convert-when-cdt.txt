<div class="post-text" itemprop="text">
<p>I have a date time string in this format in python</p>
<pre><code>"Wed Mar 20 00:52:54 CDT 2019 20 Mar 2019"
</code></pre>
<p>I am trying to convert this to python date time format using below code</p>
<pre><code>datetime.datetime.strptime('Wed Mar 20 00:52:54 CDT 2019', "%a %b %d %H:%M:%S %Y")
</code></pre>
<p>But it gives error as CDT is present in the text. How to handle this problem. I am not sure if CDT will be present for all dates. In both cases i want to convert.</p>
<p>My requirement is only to get the difference in days between this date and now</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>CDT</code> in the format, then calculate the difference between now and that date. Finally print <code>delta.days</code>.</p>
<pre><code>from datetime import datetime

date0 = datetime.strptime('Wed Mar 20 00:52:54 CDT 2019', "%a %b %d %H:%M:%S CDT %Y")
date_now = datetime.now()

delta = date_now - date0

print(delta.days)
</code></pre>
<p>Output in this case:</p>
<pre><code>0
</code></pre>
<p>If you're not sure if there will be CDT, check the string before passing it to <code>strptime</code>. Or use <code>try/except</code>:</p>
<pre><code>try:
    date0 = datetime.strptime(string, "%a %b %d %H:%M:%S CDT %Y")
except ValueError:
    date0 = datetime.strptime(string, "%a %b %d %H:%M:%S %Y")
</code></pre>
</div>
<span class="comment-copy">Yes i was able to do this. But i was looking for a way to fix this without checking for CDT in each date.</span>
<span class="comment-copy">I don't think there's a way to use optional bits inside <code>strptime</code> format, see my edit, I think <code>try/except</code> would fit your needs.</span>
