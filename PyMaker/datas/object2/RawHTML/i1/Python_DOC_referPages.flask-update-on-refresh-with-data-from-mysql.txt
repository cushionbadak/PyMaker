<div class="post-text" itemprop="text">
<p>I am trying to make webpage with flask which displays data from mysql table.  My code is:</p>
<pre><code>@app.route("/")
def index():
    cursor = db.cursor()
    cursor.execute('SELECT * from private')
    privateDB = cursor.fetchall()
    cursor.close()

    return render_template('index.html', t=privateDB)
</code></pre>
<p>However whenever I refresh the page I get old data, it doesn't fetch new updated data. How to fix? Thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>Try it with this code</p>
<pre><code>@app.route("/")
def index():
    connection = mysql.connect()
    cursor = connection.cursor()
    cursor.execute("SELECT * from private")
    data = cursor.fetchall()

    return render_template('index.html', data=data)
</code></pre>
</div>
<span class="comment-copy">Yep. Moving the .connect() to the function helped. Thanks</span>
