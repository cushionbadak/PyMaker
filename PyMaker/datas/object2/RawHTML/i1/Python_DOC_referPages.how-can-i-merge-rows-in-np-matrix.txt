<div class="post-text" itemprop="text">
<p>I've got a numpy matrix that has 2 rows and N columns, e.g. (if <code>N=4</code>):</p>
<pre><code>[[ 1  3  5   7]
 [ 2  4  6   8]]
</code></pre>
<p>The goal is create a string <code>1,2,3,4,5,6,7,8</code>.</p>
<ul>
<li>Merge the rows such that the elements from the first row have the even (1, 3, ..., N - 1) positions (the index starts from 1) and the elements from the second row have the odd positions (2, 4, ..., N).</li>
</ul>
<p>The following code works but it isn't really nice:</p>
<pre><code>    xs = []
    for i in range(number_of_cols):
        xs.append(nums.item(0, i))
    ys = []
    for i in range(number_of_cols):
        ys.append(nums.item(1, i))
    nums_str = ""
    for i in range(number_of_cols):
        nums_str += '{},{},'.format(xs[i], ys[i])
</code></pre>
<ul>
<li>Join the result list with a comma as a delimiter (<code>row.join(',')</code>)</li>
</ul>
<p>How can I merge the rows using built in functions (or just in a more elegant way overall)?</p>
</div>
<div class="post-text" itemprop="text">
<p>Specify <code>F</code> order when flattening (or ravel):</p>
<pre><code>In [279]: arr = np.array([[1,3,5,7],[2,4,6,8]])                                           
In [280]: arr                                                                             
Out[280]: 
array([[1, 3, 5, 7],
       [2, 4, 6, 8]])
In [281]: arr.ravel(order='F')                                                            
Out[281]: array([1, 2, 3, 4, 5, 6, 7, 8])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Joining rows can be done this way :</p>
<pre><code>&gt;&gt;&gt; a = np.arange(12).reshape(3,4)
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
&gt;&gt;&gt; np.hstack([a[i,:] for i in range(a.shape[0])])
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
</code></pre>
<p>Then it's simple to convert this array into string.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's one way of doing it:</p>
<pre><code>out_str = ','.join(nums.T.ravel().astype('str'))
</code></pre>
<p>We are first transposing the array with <code>.T</code>, then flattening it with <code>.ravel()</code>, then converting each element from <code>int</code> to <code>str</code>, and then applying `','.join() to combine all the str elements</p>
<p><strong>Trying it out:</strong></p>
<pre><code>import numpy as np

nums = np.array([[1,3,5,7],[2,4,6,8]])
out_str = ','.join(nums.T.ravel().astype('str'))
print (out_str)
</code></pre>
<p><strong>Result:</strong></p>
<pre><code>1,2,3,4,5,6,7,8
</code></pre>
</div>
<span class="comment-copy">You probably need to use <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.flatten.html" rel="nofollow noreferrer"><code>flatten()</code></a></span>
