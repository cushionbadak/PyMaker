<div class="post-text" itemprop="text">
<pre><code>    ds = xr.open_dataset(f)
    hlos = ds.rayleigh_hloswind_windresult_rayleigh_wind_velocity.data
    lats = ds.rayleigh_geolocation_windresult_geolocation_latitude_cog.data 

&gt;&gt;&gt; hlos
array([  419., -1013.,  -584., ..., -6791., 32767., 32767.], dtype=float32)
&gt;&gt;&gt; lats
array([84.36244 , 84.359972, 84.371422, ..., 83.43806 , 83.672662,
       83.513285])
</code></pre>
<p>f is a netcdf file with the variable hlos which is the wind velocity and lats which is the latitude. I created a DataArray:</p>
<pre><code>da_lat = xr.DataArray(hlos, dims=['lat'], coords = {'lat': lats})
&gt;&gt;&gt; da_lat
&lt;xarray.DataArray (lat: 19703)&gt;
array([  419., -1013.,  -584., ..., -6791., 32767., 32767.],
      dtype=float32)
Coordinates:
  * lat      (lat) float64 84.36 84.36 84.37 ... 83.67 83.51
</code></pre>
<p>Now I would like to select like: <code>da_lat.sel(lat = 84.36).values</code>, but this gives me a KeyError:84.36
Does anyone knoe what's the problem in this case? </p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>KeyError</code> is a result of the fact that there is not an <em>exact</em> match for the latitude 84.36 in the latitude coordinate.  The exact match looks like it would be 84.36244 (or perhaps 84.359972).  Xarray offers a nice way of working around this, as you can specify a <code>method</code> in the <code>sel</code> method which controls how it deals with inexact matches.</p>
<p>In this case it looks like you might want something like <code>method='nearest'</code>:</p>
<pre class="lang-py prettyprint-override"><code>da_lat.sel(lat=84.36, method='nearest')
</code></pre>
<p>See the <a href="http://xarray.pydata.org/en/stable/generated/xarray.Dataset.sel.html#xarray.Dataset.sel" rel="nofollow noreferrer">documentation for <code>Dataset.sel</code></a> for more details.</p>
</div>
<span class="comment-copy">thanks! That works</span>
