<div class="post-text" itemprop="text">
<p>I'm trying to extract multiple columns from a text file and ended up with the code below, which extracts all the columns from <code>17</code> to the last. I am trying to figure out a regex combination to tell the code what other exact columns to retrieve, but am kinda stuck.</p>
<p>Can someone please give me a hint?</p>
<pre><code>f = open("datafile1.txt", "r")
g = open("datafile2.txt", "w")

for line in f:
  if line.strip():
    g.write("\t".join(line.split("\t")[17:]))

f.close()
g.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can achieve that with a simple list comprehension, like this:</p>
<pre><code>f = open("datafile1.txt", "r")
g = open("datafile2.txt", "w")

for line in f:
  if line.strip():
    g.write("\t".join([line.split("\t")[i] for i in [18, 26, 41, 45]]))

f.close()
g.close()
</code></pre>
</div>
<span class="comment-copy">Why don't you read it with pandas? and keep only the columns you want</span>
<span class="comment-copy">What columns do you want to read?</span>
<span class="comment-copy">If it is a tab-separated file you can read it with  the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv</a> module from the standard library.  Using csv (or Pandas) is better than trying to use a regex which will break if any column has embedded tabs.</span>
<span class="comment-copy">Alberto, i should for sure be using pandas, and am installing the module. But since i already started this task without it i figured to finish it that way.</span>
<span class="comment-copy">Amir, would need to read columns 18, 26, 41 and 45.</span>
