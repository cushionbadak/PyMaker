<div class="post-text" itemprop="text">
<p>I am trying to use FFmpegWriter in order to write a video, which is most of the time working. But, sometimes it just does not want to close the video at the end and return simply this error "AttributeError: 'FFmpegWriter' object has no attribute '_proc'" which does not make sense to me, mostly because it works sometimes, and sometimes not. Also, sometimes restarting the kernel helps, but not always... any help is greatly appreciated. 
Here is the code and error:</p>
<pre><code>writer = skvideo.io.FFmpegWriter(path_to_video, 
            inputdict={'-r': str(fps), '-s':'{}x{}'.format(width,height)},
            outputdict={'-r': str(fps), '-c:v': 'libx264', '-crf': str(crf), '-preset': 'ultrafast', '-pix_fmt':'yuvj420p'}) 

'''...'''
#add frame to video
writer.writeFrame(li_images[i])
#close video
writer.close()
</code></pre>
<p>produce this error:</p>
<pre><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-9-5f6d4868f1d2&gt; in &lt;module&gt;()
----&gt; 1 writer.close()

c:\users\user\anaconda3\lib\site-packages\skvideo\io\ffmpeg.py in close(self)
    428 
    429         """
--&gt; 430         if self._proc is None:  # pragma: no cover
    431             return  # no process
    432         if self._proc.poll() is not None:

AttributeError: 'FFmpegWriter' object has no attribute '_proc'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Due to a stupid error in my code, certain video that I was trying to save were actually empty... which was the source of the error. 
Anyway, thanks llogan for your help and sorry for this mistake</p>
</div>
<span class="comment-copy">Looks like a wrapper to the ffmpeg cli tool. Can you duplicate whatever issue you're experiencing with just the ffmpeg cli tool? Or at least provide the log from the ffmpeg process when it fails. Otherwise, blame the wrapper.</span>
<span class="comment-copy">Hi llogan! Thank you very much for your answer. sorry for the alte replay, I was waiting for another error to come. the only log provided is "[W 10:08:41.339 NotebookApp] Notebook name.ipynb is not trusted"... does it help? What is the ffmped cli tool? I could not find on internet. Thank you for your help!</span>
<span class="comment-copy">Actually the error whosed again, and their is no log showed on the terminal (I am using jupyter notebook)...</span>
<span class="comment-copy"><code>-c:v</code>, <code>-crf</code>, and <code>-preset</code> are some options for the ffmpeg command-line tool, so it appears your script executes the command line tool. The log you provided is not from ffmpeg. If you add <code>-report</code> to <code>inputdict</code> or <code>outputdict</code> then it will create a log file (assuming ffmpeg is actually executed) named something like <code>ffmpeg-20190319-093108.log</code>.</span>
