<div class="post-text" itemprop="text">
<p>I'm trying to add the peaks of a graph into an array and plot them in my figure. Here's my code:</p>
<pre><code>import matplotlib.pyplot as plt
import numpy as np


t,x,y = np.loadtxt(r"C:\Users\haako\Documents\NTNU\Fysikk\Python\film2.txt", delimiter='    ', unpack=True)

plt.plot(t,x)
plt.xlabel("t-value")
plt.ylabel("x-value")
plt.show()
</code></pre>
<p><a href="https://i.stack.imgur.com/Bn48y.png" rel="nofollow noreferrer"><img alt="Picture of the graph" src="https://i.stack.imgur.com/Bn48y.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>You just take the derivative. Here I have taken several gradients to ensure that the point we find is at the top and not just a fluke:</p>
<pre><code>import math
import matplotlib.pyplot as plt

x_array = []
y_array = []

for num in range(0, 10000):
    x = num/100
    y = math.sin(x) * (.99 ** x)
    x_array.append(x)
    y_array.append(y)

x_maximums = []
y_maximums = []

for i in range(2, len(y_array) - 2):
    if y_array[i - 2] &lt; y_array[i - 1] and y_array[i - 1] &lt; y_array[i] and y_array[i + 2] &lt; y_array[i + 1] and y_array[i + 1] &lt; y_array[i]:
        y_maximums.append(y_array[i])
        x_maximums.append(x_array[i])


plt.plot(x_array, y_array)
plt.scatter(x_maximums, y_maximums, color='k')
plt.show()
</code></pre>
<p>Outputs:
<a href="https://i.stack.imgur.com/JN0QQ.png" rel="nofollow noreferrer"><img alt="Plot with peaks shown" src="https://i.stack.imgur.com/JN0QQ.png"/></a>
<strong>NOTE</strong> The redundant derivatives like I took are not necessary for my post. I've included them because it's possible that your set of data has small variations between the numbers that would incorrectly mark some as being local maximum if you only compared to the two nearest numbers (Common in experimental data). Can alternatively take the derivatives like:</p>
<pre><code>if y_array[i - 2] &lt; y_array[i] and y_array[i - 1] &lt; y_array[i] and y_array[i + 2] &lt; y_array[i] and y_array[i + 1] &lt; y_array[i]:
</code></pre>
<p>If that makes more sense to you, or maybe even in some other way if you are still getting weird results!</p>
</div>
<span class="comment-copy">Can you be more specific? What is a peak and how do you want to draw it out?</span>
<span class="comment-copy">@YilunZhang I imagine it is like my vibrations course that wanted to find the maximum deflection with each oscillation like I posted below</span>
