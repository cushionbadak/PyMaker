<div class="post-text" itemprop="text">
<p>I want to use Weka in my python code, so I install java-wrapper python(2.7.16 ) according to <a href="https://fracpete.github.io/python-weka-wrapper/install.html" rel="nofollow noreferrer">https://fracpete.github.io/python-weka-wrapper/install.html</a> and my java version is:
java version "1.8.0_201"
Java(TM) SE Runtime Environment (build 1.8.0_201-b09)
Java HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)</p>
<p>Also, I added the JDK path to  user variable PATH according to <a href="https://troubleshooter.xyz/wiki/fix-java-virtual-machine-jvm-not-found-error/" rel="nofollow noreferrer">https://troubleshooter.xyz/wiki/fix-java-virtual-machine-jvm-not-found-error/</a></p>
<p>but it raise error:</p>
<pre><code>   &gt;&gt;&gt;import os
   &gt;&gt;&gt;import traceback
   &gt;&gt;&gt;import weka.core.jvm as jvm
   Traceback (most recent call last):
   File "&lt;stdin&gt;", line 1, in &lt;module&gt;
   File "C:\Python27\lib\site-packages\weka\core\jvm.py", line 17, in 
   &lt;module&gt;
    import javabridge
   File "C:\Python27\lib\site-packages\javabridge\__init__.py", line 38, in 
    &lt;module&gt;
    from .jutil import start_vm, kill_vm, vm, activate_awt, deactivate_awt
    File "C:\Python27\lib\site-packages\javabridge\jutil.py", line 151, in 
    &lt;module&gt;
    os.pathsep + os.path.join(find_javahome(), "bin")
    File "C:\Python27\lib\site-packages\javabridge\jutil.py", line 139, in 
    _find_jvm
    raise JVMNotFoundError()
    javabridge.jutil.JVMNotFoundError: Can't find the Java Virtual Machine
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I'm not a Windows user and setting up Python always seems to be riddled with issues... But I finally had some time setting up a Windows 10 instance... Here is what I did:</p>
<ul>
<li>no <code>JAVA_HOME</code> variable defined</li>
<li>Location of java executable:</li>
</ul>
<pre><code>where java
C:\Program Files (x86)\Common Files\Oracle\Java\javapath\java.exe
C:\ProgramData\Oracle\Java\javapath\java.exe
</code></pre>
<ul>
<li>Java version installed:</li>
</ul>
<pre><code>java -version
java version "1.8.0_171"
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)
</code></pre>
<ul>
<li><p>VC++ compiler for Python 2.7 (for compiling javabridge)</p>
<p><a href="http://aka.ms/vcpython27" rel="nofollow noreferrer">http://aka.ms/vcpython27</a></p></li>
<li><p>Anaconda for Python 2.7 (4.3.0.1)</p>
<p><a href="https://repo.continuum.io/archive/Anaconda2-4.3.0.1-Windows-x86_64.exe" rel="nofollow noreferrer">https://repo.continuum.io/archive/Anaconda2-4.3.0.1-Windows-x86_64.exe</a></p></li>
<li><p>value of PATH after installing anaconda:</p></li>
</ul>
<pre><code>C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\ProgramData\Oracle\Java\javapath;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Anaconda2;C:\Anaconda2\Scripts;C:\Anaconda2\Library\bin;C:\Users\fracpete\AppData\Local\Microsoft\WindowsApps;
</code></pre>
<ul>
<li>create anaconda environment for pww (numpy needs to be installed through anaconda):</li>
</ul>
<pre><code>conda create -n py27-pww numpy
</code></pre>
<ul>
<li>activate environment:</li>
</ul>
<pre><code>activate py27-pww
</code></pre>
<ul>
<li>installing pww:</li>
</ul>
<pre><code>pip install python-weka-wrapper
</code></pre>
<ul>
<li>testing pww:</li>
</ul>
<pre class="lang-py prettyprint-override"><code>python
import weka.core.jvm as jvm
jvm.start()
from weka.classifiers import Classifeir
cls = Classifier(classname="weka.classifiers.trees.J48")
print(cls)
jvm.stop()
</code></pre>
</div>
<span class="comment-copy">Did you install a 64bit version of Python 2.7? See <a href="https://intelligea.wordpress.com/2015/08/05/check-if-python-version-is-64-or-32-bit/" rel="nofollow noreferrer">this post</a> on how to determine the bitness of your Python shell.</span>
<span class="comment-copy">my Python shell is 64 bit (2.7.16.amd64.msi) I find a guide in <a href="https://forum.image.sc/t/error-when-trying-to-open-cellprofiler-analyst/12572/6" rel="nofollow noreferrer">forum.image.sc/t/error-when-trying-to-open-cellprofiler-analyst/…</a> but I don`t understand the final solution. I am using Windows 10, Does it may be related to my Windows?</span>
<span class="comment-copy">Have you set the JAVA_HOME environment variable?</span>
<span class="comment-copy">yes, for both user variable and system variable --&gt; JAVA_HOME=C:\Program Files\Java\jdk1.8.0_181\bin and JAVA_HOME= C:\Program Files\Java\jre1.8.0_181\bin –</span>
<span class="comment-copy">while setting JAVA_HOME omit bin directory. set it like: JAVA_HOME=C:\Program Files\Java\jdk1.8.0_181. bin directory is used while setting path</span>
<span class="comment-copy">Thank you so much for your help.  I did steps above and I used py27-pww (it seems that the problem related to PATH is solved).</span>
<span class="comment-copy">&gt;&gt;&gt; jvm.start()     DEBUG:weka.core.jvm:Adding bundled jars     DEBUG:weka.core.jvm:Classpath=['C....']      DEBUG:weka.core.jvm:MaxHeapSize=default      DEBUG:weka.core.jvm:Package support disabled</span>
<span class="comment-copy">&gt;&gt;&gt; from weka.classifiers import Classifeir      ..../usr/share/java/weka.jar:/usr/share/java/libsvm.jar       not found. Ensure the file is installed or update your environment's WEKA_JAR_PATH to only include valid locations.</span>
<span class="comment-copy">Read the documentation on <a href="http://fracpete.github.io/python-weka-wrapper/api.html#java-virtual-machine" rel="nofollow noreferrer">how to start the JVM with package support</a> (off by default) and <a href="http://fracpete.github.io/python-weka-wrapper/api.html#packages" rel="nofollow noreferrer">how to handle packages</a> within pww.</span>
