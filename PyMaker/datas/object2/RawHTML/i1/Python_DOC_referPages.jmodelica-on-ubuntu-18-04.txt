<div class="post-text" itemprop="text">
<p>Hello JModelica community. I already managed to compile JModelica on CentOS, but I am still failing on Ubuntu 18.04. The compilation itself is successful, but running</p>
<pre class="lang-py prettyprint-override"><code>from pyjmi.examples import cstr_casadi
cstr_casadi.run_demo()
</code></pre>
<p>fails with</p>
<pre class="lang-py prettyprint-override"><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-4-33de447ae4ee&gt; in &lt;module&gt;()
----&gt; 1 cstr_casadi.run_demo()

/opt/JModelica.org/Python/pyjmi/examples/cstr_casadi.pyc in run_demo(with_plots)
    179 
    180     # Solve the optimal control problem
--&gt; 181     res = op.optimize(options=opt_opts)
    182 
    183     # Extract variable profiles

/opt/JModelica.org/Python/pyjmi/casadi_interface.pyc in optimize(self, algorithm, options)
    446                              "algorithm.")
    447         return self._exec_algorithm('pyjmi.jmi_algorithm_drivers',
--&gt; 448                                     algorithm, options)
    449 
    450     # Make solve synonymous with optimize

/opt/JModelica.org/Python/pyjmi/common/core.pyc in _exec_algorithm(self, module, algorithm, options)
    166         alg = algorithm(self, options)
    167         # solve optimization problem/initialize
--&gt; 168         alg.solve()
    169         # get and return result
    170         return alg.get_result()

/opt/JModelica.org/Python/pyjmi/jmi_algorithm_drivers.pyc in solve(self)
    351         Solve the optimization problem using ipopt solver.
    352         """
--&gt; 353         self.nlp.solve_and_write_result()
    354 
    355     def get_result(self):

/opt/JModelica.org/Python/pyjmi/optimization/casadi_collocation.pyc in solve_and_write_result(self)
    995         t0 = time.clock()
    996         # todo: account for preprocessing time within solve_nlp separately?
--&gt; 997         self.times['sol'] = self.solve_nlp()
    998         self.result_file_name = self.export_result_dymola(self.result_file_name)
    999         self.times['post_processing'] = time.clock() - t0 - self.times['sol'] - self.extra_update

/opt/JModelica.org/Python/pyjmi/optimization/casadi_collocation.pyc in solve_nlp(self)
    610 
    611         # Get the result
--&gt; 612         primal_opt = N.array(self.solver_object.output(casadi.NLP_SOLVER_X))
    613         self.primal_opt = primal_opt.reshape(-1)
    614         if self.order != "default":

/opt/JModelica.org/Python/casadi/casadi_core.pyc in &lt;lambda&gt;(self, name)
  30560     for _s in [Function]:
  30561         __swig_getmethods__.update(getattr(_s, '__swig_getmethods__', {}))
&gt; 30562     __getattr__ = lambda self, name: _swig_getattr(self, NlpSolver, name)
  30563     __repr__ = _swig_repr
  30564 

/opt/JModelica.org/Python/casadi/casadi_core.pyc in _swig_getattr(self, class_type, name)
     78     if method:
     79         return method(self)
---&gt; 80     raise AttributeError("'%s' object has no attribute '%s'" % (class_type.__name__, name))
     81 
     82 

AttributeError: 'NlpSolver' object has no attribute 'output'
</code></pre>
<p>I tried downgrading several packages, but the problem remains. I have the same error on Arch Linux btw.</p>
<p>I know Ubuntu 18.04 is not officially supported, but I am hoping someone already found a solution to this problem.</p>
<p>EDIT:
Logs from <code>make install</code>  and <code>make casadi_interface</code>:</p>
<p><a href="https://pastebin.com/ADRyE7XV" rel="nofollow noreferrer">https://pastebin.com/ADRyE7XV</a></p>
<p><a href="https://pastebin.com/dL4SCWdb" rel="nofollow noreferrer">https://pastebin.com/dL4SCWdb</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Seems you load the wrong casadi version.
Can you check the output</p>
<pre><code>from casadi import __version__
print(__version__)
</code></pre>
</div>
<span class="comment-copy">The output is <code>2.1.0+</code> which seems to be correct.</span>
<span class="comment-copy">Can you add some logs e.g.  <code>make casadi_interface -j4 2&gt; make-casadi-errors.txt</code></span>
<span class="comment-copy">I added logs from <code>make install</code> and <code>make casadi_interface</code>.</span>
