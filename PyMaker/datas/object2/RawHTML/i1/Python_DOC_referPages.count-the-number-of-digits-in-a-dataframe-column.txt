<div class="post-text" itemprop="text">
<p><strong>Question</strong></p>
<p>I have an email_alias column and I'd like to find the number of integers in that column (per row) in another column using Python. So far I can only count the total number of numbers in the entire column. </p>
<p><strong>Attempt</strong></p>
<p>I tried: <code>df['count_numbers'] = sum(c.isdigit() for c in df['email_alias'])</code></p>
<p><strong>Example</strong>:</p>
<pre><code>email_alias       count_numbers
thisisatest111      3
testnumber2         1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.apply.html" rel="nofollow noreferrer"><code>apply</code></a> a custom python function to the column. I don't think there's a vectorized way. <code>sum()</code> here takes advantage of the fact that <a href="https://stackoverflow.com/questions/8169001/why-is-bool-a-subclass-of-int">bools are a subclass of ints</a> so all <code>True</code> values are equal to <code>1</code>.</p>
<pre><code>import pandas as pd

def count_digits(string):
    return sum(item.isdigit() for item in string)

df = pd.DataFrame({'a': ['thisisatest111', 'testnumber2']})
df['counts'] = df['a'].apply(count_digits)
</code></pre>
<p>Your approach of:</p>
<pre><code>df['count_numbers'] = sum(c.isdigit() for c in df['email_alias']) 
</code></pre>
<p>could not work because <code>df['count_numbers'] =</code> is an assignment to <em>every value in that column</em>. Here, <code>apply</code> implicitly iterates over the rows (but in Python time, so it's not vectorized). Then again, most of the <code>.str</code> accessor methods of Pandas are, too, despite the syntax suggesting it will go faster than a <code>for</code> loop.</p>
</div>
<span class="comment-copy">Presumably you tried something from your research around this problem; what was the issue with your implementation?</span>
<span class="comment-copy">I tried: df['count_numbers'] = sum(c.isdigit() for c in df['email_alias'])</span>
