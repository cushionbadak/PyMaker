<div class="post-text" itemprop="text">
<p>I have two Python scripts. One uses the <a href="https://docs.python.org/2/library/urllib2.html" rel="noreferrer">Urllib2 library</a> and one uses the <a href="http://docs.python-requests.org/" rel="noreferrer">Requests library</a>.</p>
<p>I have found Requests easier to implement, but I can't find an equivalent for urlib2's <code>read()</code> function. For example:</p>
<pre><code>...
response = url.urlopen(req)
print response.geturl()
print response.getcode()
data = response.read()
print data
</code></pre>
<p>Once I have built up my post url, <code>data = response.read()</code> gives me the content - I am trying to connect to a vcloud director api instance and the response shows the endpoints that I have access to. However if I use the Requests library as follows.....</p>
<pre><code>....

def post_call(username, org, password, key, secret):

    endpoint = '&lt;URL ENDPOINT&gt;'
    post_url = endpoint + 'sessions'
    get_url = endpoint + 'org'
    headers = {'Accept':'application/*+xml;version=5.1', \
               'Authorization':'Basic  '+ base64.b64encode(username + "@" + org + ":" + password), \
               'x-id-sec':base64.b64encode(key + ":" + secret)}
    print headers
    post_call = requests.post(post_url, data=None, headers = headers)
    print post_call, "POST call"
    print post_call.text, "TEXT"
    print post_call.content, "CONTENT"
    post_call.status_code, "STATUS CODE"

....
</code></pre>
<p>....the <code>print post_call.text</code> and <code>print post_call.content</code> returns nothing, even though the status code equals 200 in the requests post call.</p>
<p>Why isn't my response from Requests returning any text or content?</p>
</div>
<div class="post-text" itemprop="text">
<p>Requests doesn't have an equivalent to Urlib2's <code>read()</code>. </p>
<pre><code>&gt;&gt;&gt; import requests
&gt;&gt;&gt; response = requests.get("http://www.google.com")
&gt;&gt;&gt; print response.content
'&lt;!doctype html&gt;&lt;html itemscope="" itemtype="http://schema.org/WebPage"&gt;&lt;head&gt;....'
&gt;&gt;&gt; print response.content == response.text
True
</code></pre>
<p>It looks like the POST request you are making is returning no content. Which is often the case with a POST request. Perhaps it set a cookie? The status code is telling you that the POST succeeded after all.  </p>
</div>
<span class="comment-copy">Do you know the type of response you should get from the URL? Json, xml, etc?  What is the response you are getting from urllib2?</span>
<span class="comment-copy">The POST request may be returning a redirect response. Check the response headers: <code>post_call.headers</code></span>
<span class="comment-copy">ok - thanks. Maybe i'm getting confused somewhere. urllib2 shows me content so I need to understand what I am doing wrong and the different calls between the 2 libraries.</span>
<span class="comment-copy">At a certain endpoint I want to read the request but I'm unable to using requests.get("url"). Moreover it takes unreasonable time to execute. Giving no arguments also throws an error saying 1 argument needed.</span>
<span class="comment-copy">Check the response code. You're probably getting a timeout rather than a 2XX response. That would explain why it takes such a long time as well.</span>
