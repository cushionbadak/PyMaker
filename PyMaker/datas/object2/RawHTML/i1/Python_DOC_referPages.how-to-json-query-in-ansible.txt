<div class="post-text" itemprop="text">
<p>I am using <strong>ec2_lc_facts</strong> ansible module and registering the output to a variable called <strong>lc_facts</strong>.  I am able to grab the <strong>block_device_mappings</strong> value using json query <strong>"{{ lc_facts.launch_configurations|json_query('[*].block_device_mappings') }}"</strong> but want to grab the <strong>volume_size</strong> and <strong>volume_type</strong> from the following output.  Please help. </p>
<pre><code> "lc_facts": {
        "changed": false, 
        "failed": false, 
        "launch_configurations": [
            {
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1", 
                        "ebs": {
                            "delete_on_termination": true, 
                            "volume_size": 40, 
                            "volume_type": "gp2"
                        }
                    }
                ]
            }
       ]
  }
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The query below</p>
<pre><code>- debug:
    msg: "{{ lc_facts.launch_configurations|json_query('[*].block_device_mappings[0].ebs.[volume_size, volume_type]') }}"
</code></pre>
<p>gives</p>
<pre><code>    "msg": [
    [
        40, 
        "gp2"
    ]
]
</code></pre>
<p>To get hashes use this one</p>
<pre><code>- debug:                                                                                                                          
    msg: "{{ lc_facts.launch_configurations|json_query('[*].block_device_mappings[0].ebs.{size: volume_size, type: volume_type}') }}" 
</code></pre>
</div>
