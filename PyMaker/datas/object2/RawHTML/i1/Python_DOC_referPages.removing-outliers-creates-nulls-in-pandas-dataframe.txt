<div class="post-text" itemprop="text">
<p>I have a non null dataframe df which has about 100 columns. I want to remove outliers from each column, for which I'm doing the following.</p>
<pre><code>df1 = df[np.abs(df - df.mean()) &lt;= (3*df.std())]
</code></pre>
<p>I would expect df1 to contain lesser number of records than df but using the above method, shape remains same. In addition it is also creating a lof of null values. </p>
<p>My understanding is that its removing outliers but in place of the outliers now I have nulls. Is my understanding correct? </p>
</div>
<div class="post-text" itemprop="text">
<p>Your understanding is correct. It is removing outliers and replacing them with NaN:</p>
<pre><code>np.random.seed(0)
df = pd.DataFrame(np.random.normal(0,1,(100,10)))

idx = np.abs(df - df.mean()) &lt;= (3*df.std())
outlier_locations = np.where(idx == False)
df1 = df[idx]

print(outlier_locations)

    (array([58]), array([9]))
</code></pre>
<p>If you expect df1 to contain less records than df, then perhaps you are wanting to drop the rows or columns that contain the outliers, or simply remove the entry in the row so you are left with ragged arrays.</p>
</div>
<span class="comment-copy">Try <code>df[(np.abs(df - df.mean()) &lt;= (3*df.std())).all()]</code>.</span>
<span class="comment-copy">@Graipher - Thanks.  Got the following error : IndexingError: Unalignable boolean Series provided as indexer (index of the boolean Series and of the indexed object do not match</span>
<span class="comment-copy">you aren't subsetting/slicing your original dataframe anywhere.   <a href="https://stackoverflow.com/questions/19237878/subsetting-a-python-dataframe" title="subsetting a python dataframe">stackoverflow.com/questions/19237878/â€¦</a></span>
