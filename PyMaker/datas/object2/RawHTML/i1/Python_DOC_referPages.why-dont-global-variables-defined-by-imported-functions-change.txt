<div class="post-text" itemprop="text">
<p>I have a function in a file:</p>
<pre><code>global_value = 100    #defualt
def function(new_value):
    global global_value
    print(global_value,new_value)
    global_value = new_value
</code></pre>
<p>function() takes in a value,compares it to global_value and then sets the global_value to new_value. </p>
<p>I am not using this function within the file, rather importing it.</p>
<p>(file2:)</p>
<pre><code>from file import *
value = input("enter value")
function(value)
print(global_value)
</code></pre>
<p>The function works correctly however at the end global_value is shown to be equal to 100 (it's defualt value), not the input.
What can I do to make global_value change in file2 as well?</p>
<p>thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>Global variables in Python aren't really global; they are scoped to a particular module.</p>
<p>After you execute <code>from file import *</code>, you have <em>two</em> variables; <code>file.global_variable</code>, which is the one that <code>file.function</code> updates, and a new <code>global_variable</code> in the current module which is <em>initialized</em> using the original value of <code>file.global_variable</code>, but is never updated by <code>function</code>.</p>
<p>Each function contains a reference to the global scope in which the function was <em>defined</em>. In Python 2 it's <code>file.function.func_globals</code>; in Python 3 its <code>tmp.function.__globals__</code>. That is the scope in which any of its "global" variables are looked up, not the scope in which the function is <em>called</em>.</p>
<p>Add a plain <code>import file</code> to your second file, then run <code>print(global_variable, file.global_variable)</code> to see the difference.</p>
</div>
<span class="comment-copy"><code>:</code> is missing after <code>range(5)</code></span>
<span class="comment-copy">Apart from the missing <code>:</code> your code works fine when I try it.</span>
<span class="comment-copy">@khelwood What's the value of <code>global_value</code> after running that code? I get 100, and I think that's what the question is about.</span>
<span class="comment-copy">Each turn through the loop correctly reports to me the value from the previous iteration and the value entered in this iteration. If there's some later step where reading global_value gives a different value, that code should be part of the question, along with the output.</span>
<span class="comment-copy">yes it seems like every time i run the function global_value is redefined with its defualt value.</span>
