<div class="post-text" itemprop="text">
<p>I need to extract some column and change into array format, In python, let say i have a text.txt that have a simple datafirst column is 1,4,7, second
column is 2,5,8 and thrid column is 3,6,9, I want it to become the format for mathematica to use
{{1,4,7},{2,5,6},{3,6,9}}</p>
<p>My python code is like that</p>
<pre><code>col1 = []
col2 = []
col3 = []

with open("test.txt", "r") as f:
    for line in f:
        first = line.split()[2]
        col1.append(first)
        col2.append(second)
        col3.append(third)

A=col1
print(col1,col2,col3)
</code></pre>
<p>But the python give me the output
[1,4,7],[2,5,8],[3,6,9]
I want to ask how to make the format of 
{{1,4,7},{2,5,6},{3,6,9}}, Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>If string data type is OK for you:</p>
<pre><code>import csv

result = []
with open('test.txt') as f:
    reader = csv.reader(f)
    for row in reader:
        result.append([int(x) for x in row])
result = str(result).replace('[', '{').replace(']', '}')
</code></pre>
<p>Output:</p>
<pre><code>{{1, 4, 7}, {2, 5, 8}, {3, 6, 9}}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can just correct the printing of the lists:</p>
<pre><code>str(col1).replace('[', '{').replace(']', '}')
</code></pre>
<p>Alternative, for simpler reading, use <code>numpy</code>:</p>
<pre><code>import numpy as np
m = np.loadtxt('test.txt', delimiter=',', usecols=[0,1,2], dtype=int)
print(str(m.transpose()).replace('[', '{').replace(']', '}').replace('\n', '').replace(' ', ','))
</code></pre>
<p>If the lines do not end by a comma, you can remove the argument <code>usecols</code>.</p>
<p>Output:</p>
<pre><code>{{1,4,7},{2,5,8},{3,6,9}}
</code></pre>
</div>
<span class="comment-copy">You are appending values in <code>list</code>, use <code>dict</code> instead.</span>
<span class="comment-copy"><code>{{1,4,7},{2,5,6},{3,6,9}}</code> is literally set of sets which cannot happen (set is unhashable) so you are asking for something else I guess.</span>
