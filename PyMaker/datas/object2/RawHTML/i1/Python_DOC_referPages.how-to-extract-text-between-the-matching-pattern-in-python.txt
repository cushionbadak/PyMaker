<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/18865058/extract-values-between-two-strings-in-a-text-file-using-python">Extract Values between two strings in a text file using python</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I am new to python and wanted to try it to extract text between the matching pattern in each line of my tab delimited text file (mydata)</p>
<p>mydata.txt:</p>
<pre><code>Sequence                                                                                                            tRNA    Bounds  tRNA    Anti    Intron Bounds   Cove
Name                                                                                                            tRNA #  Begin   End Type    Codon   Begin   End Score
--------                                                                                                        ------  ----    ------  ----    -----   -----   ----    ------
lcl|NC_035155.1_gene_75[locus_tag=SS1G_20133][db_xref=GeneID:33                                                 1   1   71  Pseudo  ??? 0   0   -1
lcl|NC_035155.1_gene_73[locus_tag=SS1G_20131][db_xref=GeneID:33                                                 1   1   73  Pseudo  ??? 0   0   -1
lcl|NC_035155.1_gene_72[locus_tag=SS1G_20130][db_xref=GeneID:33                                                 1   1   71  Pseudo  ??? 0   0   -1
lcl|NC_035155.1_gene_71[locus_tag=SS1G_20129][db_xref=GeneID:33                                                 1   1   72  Pseudo  ??? 0   0   -1
lcl|NC_035155.1_gene_62[locus_tag=SS1G_20127][db_xref=GeneID:33                                                 1   1   71  Pseudo  ??? 0   0   -1
</code></pre>
<p>Code I tried:</p>
<pre><code>lines = [] #Declare an empty list named "lines"
with open('/media/owner/c3c5fbb4-73f6-45dc-a475-988ad914056e/phasing/trna/test.txt') as input_data:
    # Skips text before the beginning of the interesting block:
    for line in input_data:
        # print(line)
        if line.strip() == "locus_tag=":  # Or whatever test is needed
            break
    # Reads text until the end of the block:
    for line in input_data:  # This keeps reading the file
        if line.strip() == "][db":
            break
        print(line)  # Line is extracted (or block_of_lines.append(line), etc.)
</code></pre>
<p>I want to grab texts between <code>[locus_tag=</code> and <code>][db_xre</code> and get these as my results:</p>
<pre><code>SS1G_20133
SS1G_20131
SS1G_20130
SS1G_20129
SS1G_20127
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If I'm understanding correctly, this should work for a given line of your data:</p>
<pre><code>data = line.split("locus_tag=")[1].split("][db_xref")[0]
</code></pre>
<p>The idea is to split the string on <code>locus_tag=</code>, take the 2nd element, then split that string on <code>][db_xref</code> and take the first element.</p>
<p>If you want help with the outer loop it could look like:</p>
<pre><code>for line in open(file_path, 'r'):
    if "locus_tag" in line:
        data = line.split("locus_tag=")[1].split("][db_xref")[0]
        print(data)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>re.search</code> with positive lookbehind and positive lookahead patterns:</p>
<pre><code>import re
...
for line in input_data:
    match = re.search(r'(?&lt;=\[locus_tag=).*(?=\]\[db_xre)', line)
    if match:
        print(match.group())
</code></pre>
</div>
