<div class="post-text" itemprop="text">
<p>On server 1 i have ansible 2.4.2.0 with python version = 2.7.5 : </p>
<p>On server 2 i have ansible 2.6.0 with python version = 3.6.3 :</p>
<p>on Server 1, this works fine , by calling a dictionary <strong><em>roles/webapp/defaults/main.yml</em></strong> inside <strong><em>roles/webapp/vars/main.yml</em></strong>:</p>
<pre><code>nexus_download_url: '{{ nexus_redirect_base_url }}?r={{ nexus_repo_name }}&amp;g={{ apps[application_name].artifact_group_id }}&amp;a={{ application_name }}&amp;v={{ application_version }}&amp;c=exec&amp;e=jar'
</code></pre>
<p>While on server 2 i get following error : </p>
<pre><code>{"msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute...}
</code></pre>
<p>The issue is linked to : </p>
<pre><code>&amp;g={{ apps[application_name].artifact_group_id }}
</code></pre>
<p>Is there any modifications done between the two ansible version on dictionary syntax , i didn't find anything on ansible changelog for both version 2.5 and 2.6 ?</p>
</div>
<div class="post-text" itemprop="text">
<p>I have tried two things and it worked :</p>
<ol>
<li>Adding the dictionary directly inside <strong><em>/role/test/vars/main.yml</em></strong></li>
<li><p>add to the ansible config file (ansible.cfg)</p>
<p>hash_behaviour = merge</p></li>
</ol>
</div>
<span class="comment-copy">It's not an answer but wanted to confirm if we specify the nexus_download_url within " "(double quotes)</span>
<span class="comment-copy">yes we do when passing parameter to playbook.</span>
