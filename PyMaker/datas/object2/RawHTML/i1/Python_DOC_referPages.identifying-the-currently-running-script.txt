<div class="post-text" itemprop="text">
<p>Say I have a <code>config.py</code> that manages the command-line arguments</p>
<pre><code>parser = argparse.ArgumentParser()
parser.add_argument('common_argument')
args = parser.parse_args()
input_common = args. common_argument
</code></pre>
<p>This file is imported from many other script which I execute in my project. However, among those are scripts that expect additional arguments, e.g. <code>special_file.py</code>. How can I add these arguments?</p>
<p><strong>Alternative 1</strong></p>
<p>In <code>config.py</code>, I identify the script that is importing it to add the additional argument. Say there was a variable like <code>__importing_file__</code>, then I could do</p>
<pre><code>if __importing_file__ == 'special_file':
    parser.add_argument('special_argument')
</code></pre>
<p>However, I couldn't find out how to identify the currently running script. Is it possible?</p>
<p><strong>Alternative 2</strong></p>
<p>In my <code>special_file.py</code> I can simply add another argument and parse again, i.e.</p>
<pre><code>from config import *

parser.add_argument('special_argument')
args = parser.parse_args()
input_special = args.special_argument
</code></pre>
<p>However, python does not recognize the <code>special_argument</code>.</p>
<p>Is there a solution to this problem?   </p>
</div>
<div class="post-text" itemprop="text">
<p>What you are looking for is <code>__file__</code>. This is however <strong>NOT</strong> to be mistaken with <code>sys.argv[0]</code>.</p>
<p><code>sys.argv[0]</code> gives the module's entrypoint i.e where the application was started from. <strong>IF</strong> this was a <strong>django</strong> app <code>sys.argv[0]</code> would have given <code>manage.py</code> while <code>__file__</code> would have returned the <strong>absolute</strong> path of the currently running script.</p>
</div>
<span class="comment-copy">I can't confirm this. If I add <code>print(__file__)</code> to the module that is imported, it shows the path to the module that is being imported.</span>
<span class="comment-copy">Have you tried <code>sys.argv[0]</code></span>
