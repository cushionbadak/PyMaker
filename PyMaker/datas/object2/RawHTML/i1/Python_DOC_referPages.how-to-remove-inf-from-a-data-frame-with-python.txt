<div class="post-text" itemprop="text">
<p>I have some files with <code>=-inf</code> cells. I have been trying to remove it with: </p>
<p><code>.replace(np.inf, 0).replace(np.nan,0)</code></p>
<p>However it stays there, I also check if the data frame has any infinity number with:</p>
<p><code>df.isnull().values.any()
np.all(np.isfinite(df))</code></p>
<p>But none of them finds =-inf or NA. </p>
<p>How could I replace this kind of issue with Python? </p>
<p><a href="https://i.stack.imgur.com/cH5J4.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/cH5J4.png"/></a> </p>
<p><a href="https://i.stack.imgur.com/9Do0G.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/9Do0G.png"/></a></p>
<p>EDIT:
Download the actual csv file here:
<a href="https://drive.google.com/file/d/1ol_DfiUbkybLx-ksne3rszyODTARzMJM/view?usp=sharing" rel="nofollow noreferrer">https://drive.google.com/file/d/1ol_DfiUbkybLx-ksne3rszyODTARzMJM/view?usp=sharing</a></p>
<pre><code>df = pd.read_csv('test.csv')
labels = np.array(df['class'])

features= df.drop('class', axis = 1)
feature_list = list(features.columns)
features = np.array(df)

clf= RandomForestClassifier(n_estimators=100, random_state=20)
scores = cross_val_score(clf, features, labels, cv=10)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Problem is negative infinite, so need replace it:</p>
<pre><code>df = df.replace(-np.inf, 0)
</code></pre>
<p>More general solution is:</p>
<pre><code>df = df.replace([np.inf, -np.inf], 0).fillna(0)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>np.NINF</code> is negative infinity. Simply replace it with 0.</p>
<pre><code>df = df.replace(np.NINF, 0)
</code></pre>
</div>
<span class="comment-copy">Please show your code and example data we could use to reproduce</span>
<span class="comment-copy">@anonjnr I have updated the issue, I added the CSV file and also the code, with this you are able to reproduce.</span>
<span class="comment-copy">I think you need <code>df = df.replace([np.inf, -np.inf], 0)</code></span>
<span class="comment-copy">because negative inf are not replaced</span>
<span class="comment-copy">@jezrael thank you a lot, you are completely right, I don't know why I didn't think about that. Yes, Please make it an answer so I can make your answer as the right one.</span>
