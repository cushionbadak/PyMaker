<div class="post-text" itemprop="text">
<p>how to use python re to get all image src
for example</p>
<pre><code>a = "images src &lt;img src=\"http://aa/6.png\" /&gt; &lt;img src=\"http://aa/7.png\" /&gt; "
</code></pre>
<p>i want to get</p>
<pre><code>data = {
'content': 'images src',
'src': ['http://aa/6.png', 'http://aa/7.png']
}
</code></pre>
<p>how to do it</p>
</div>
<div class="post-text" itemprop="text">
<p>Can do it with <code>regex</code>:</p>
<pre><code>import re

data = {'content': 'images src',
        'src': re.findall('src="([^"]+)"', a)
</code></pre>
<p>Output:</p>
<pre><code>{'content': 'images src', 'src': ['http://aa/6.png', 'http://aa/7.png']}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using something which is beautiful, <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="nofollow noreferrer"><code>beautifulsoup</code></a>:</p>
<pre><code>from bs4 import BeautifulSoup

a = "images src &lt;img src=\"http://aa/6.png\" /&gt; &lt;img src=\"http://aa/7.png\" /&gt; "
soup = BeautifulSoup(a, 'html.parser')
page_images = [image["src"] for image in soup.findAll("img")]
print(page_images)
</code></pre>
<p>Hence using a <code>dict</code> to store the results:</p>
<pre><code>from bs4 import BeautifulSoup        
data = {}
a = "images src &lt;img src=\"http://aa/6.png\" /&gt; &lt;img src=\"http://aa/7.png\" /&gt; "
soup = BeautifulSoup(a, 'html.parser')
page_images = [image["src"] for image in soup.findAll("img")]

content = a.split("&lt;")[0]
data['content'] = content
data['src'] = page_images

print(data)
</code></pre>
<p><strong>OUTPUT</strong>:</p>
<pre><code>{'content': 'images src ', 'src': ['http://aa/6.png', 'http://aa/7.png']}
</code></pre>
<p>But if regex is preferred:</p>
<pre><code>import re

data = {}
a = "images src &lt;img src=\"http://aa/6.png\" /&gt; &lt;img src=\"http://aa/7.png\" /&gt; "
content = a.split("&lt;")[0]

data['content'] = content
if re.search('src="([^"]+)"',a):
  data['src'] = re.findall ('src="(.*?)"', a, re.DOTALL)

print(data)
</code></pre>
<p><strong>OUTPUT</strong>:</p>
<pre><code>{'content': 'images src ', 'src': ['http://aa/6.png', 'http://aa/7.png']}
</code></pre>
</div>
<span class="comment-copy"><i>how to do it</i> - by using a html parser</span>
<span class="comment-copy">Hardcoding the <code>content</code>  is probably not a good idea?</span>
<span class="comment-copy">It's not critical since OP asked how to <code>get all image src</code> not how to get <code>content</code>.</span>
<span class="comment-copy">Maybe a  more safe regex would be like so <code>.*&lt;img +src *= *" *([a-zA-Z0-9:\/.]+) *" +\/&gt;.*</code></span>
<span class="comment-copy">Plus one for using an html parser good sir :)</span>
<span class="comment-copy">@MattB. glad to see you again! :)</span>
