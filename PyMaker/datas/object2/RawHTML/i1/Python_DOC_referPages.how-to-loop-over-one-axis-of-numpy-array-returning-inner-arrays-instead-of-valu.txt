<div class="post-text" itemprop="text">
<p>I have several arrays of data, collected into a single array. I want to loop over it, and do operations on each of the inner arrays. What would be the correct way to do this in Numpy</p>
<pre><code>import numpy as np

a = np.arange(9)
a = a.reshape(3,3)
for val in np.nditer(a):
    print(val)
</code></pre>
<p>and this gives:</p>
<pre><code>0
1
2
3
4
5
6
7
8
</code></pre>
<p>But what I want is (something like):</p>
<pre><code>array([0 1 2])
array([3 4 5])
array([6 7 8])
</code></pre>
<p>I have been looking at this page: <a href="https://docs.scipy.org/doc/numpy-1.15.0/reference/arrays.nditer.html" rel="nofollow noreferrer">https://docs.scipy.org/doc/numpy-1.15.0/reference/arrays.nditer.html</a> but so far have not found the answer. I also know I can do it with a plain for loop but I am assuming there is a more correct way. Any help would be appreciated, thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.apply_along_axis.html" rel="nofollow noreferrer"><code>apply_along_axis</code></a> but it depends on what your ultimate goal/output is. Here is a simple example showing this.</p>
<pre><code>a

array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])

np.apply_along_axis(lambda x: x + 1, 0, a)

array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Actually when you use reshape it will return an array of lists not arrays.</p>
<p>If you would like to get each individual list you could just use</p>
<pre><code>a = np.arange(9)
a = a.reshape(3,3)
for val in a:
    print(val)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Why not just simply loop over the array where you get individual rows in the for loop</p>
<pre><code>import numpy as np

a = np.arange(9)
a = a.reshape(3,3)

for val in a:
    print(val)

# [0 1 2]
# [3 4 5]
# [6 7 8]   
</code></pre>
</div>
<span class="comment-copy">numpy is useful for vectorized operations. For what purpose are you trying to iterate over the rows of the ndarray? What operations do you want to perform?</span>
<span class="comment-copy">Don't use <code>nditer</code>.  It isn't the 'correct way' to iterate on arrays, at least not in Python code.  You are encouraged to use it when writing C code, but not when writing Python code.  As you discovered its default behavior is to iterate on all elements, not on a specific dimension.</span>
<span class="comment-copy">The linked page should be read all the way to the end.  The cython example is really the main point of this document.</span>
