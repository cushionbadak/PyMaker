<div class="post-text" itemprop="text">
<p>I am recently working with Pandas and I am facing issue while data cleaning process Here I need to replace column value having dot pattern i.e "..." or "............" in Pandas to NaN    </p>
<p><a href="https://i.stack.imgur.com/Nvey5.png" rel="nofollow noreferrer">My actual dataframe i.e. energy </a></p>
<p>What I am doing now is simply using replace method to replace this dotted pattern to NaN</p>
<p>Here's my code:</p>
<pre><code>energy.replace('...*','NaN', regex=True, inplace=True)
</code></pre>
<p>My output:</p>
<p><a href="https://i.stack.imgur.com/AIG6v.png" rel="nofollow noreferrer">My output after the above code</a></p>
<p>I have successfully cleaned my data having <strong>dotted pattern to NaN</strong> but my <strong>country column all value also got changed to NaN</strong> as seen in 2nd image. I tried searching this issue on how to change only selected column values and got various method but none work for my scenarios.</p>
<p>Can anyone help me on this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Your country column changed because you are using a regex and in regex <code>.</code> is a symbol for <em>anything</em>. You might want to use a regex like this <code>'\.+'</code> which will match any number of <code>.</code> characters. This is a solution that does not require you to restrict execution to a certain column.</p>
<p>The output when using <code>\.+</code> in <code>energy.replace(r'\.+', 'NaN', regex=True, inplace=True)</code> on my mocked model of your data is:</p>
<pre><code>&gt;&gt;&gt; energy
       Country Energy Supply Energy Supply Per Capita  % Renewable
0  some_string      16846846                      484     85.48648
1  some_string      16846846                      484     85.48648
2  some_string      16846846                      484     85.48648
3  some_string           NaN                      NaN     85.48648
4  some_string      16846846                      484     85.48648
</code></pre>
<p>For completeness sake, you can also restrict the execution to just a certain column, by calling the replace function only on that column:</p>
<pre><code>energy['Energy Supply'].replace(r'\.+', 'NaN', regex=True, inplace=True)
</code></pre>
<p>This gives the output of:</p>
<pre><code>&gt;&gt;&gt; energy
       Country Energy Supply Energy Supply Per Capita % Renewable
0  some_string      16846846                      484     85.4865
1  some_string      16846846                      484     85.4865
2  some_string      16846846                      484     85.4865
3  some_string           NaN                      ...     85.4865
4  some_string      16846846                      484     85.4865
</code></pre>
</div>
<span class="comment-copy">I have cleaned my data correctly without changing country name by applying replace method to individual column                                                                                                                                              <b>energy['Column_Name'].replace('\.*','NaN', regex=True, inplace=True)</b>              But this is not a suitable method as if I would have got 90 columns with this <b>" ... "</b> pattern in column and I want that value to get replaced with NaN applying replace method column wise would be really bad !!!</span>
<span class="comment-copy">I have tried this regex ' \.* ' also but it is printing NaN after each letter of country in country column. eg: NaNANaNlNaNbNaNaNaNnNaNiNaNaNaN for Albania country</span>
<span class="comment-copy">@AnkurSingh My bad, I used <code>*</code> instead of <code>+</code> which meant it inserted NaN even whithou the dot being present. I updated my answer accordingly.</span>
