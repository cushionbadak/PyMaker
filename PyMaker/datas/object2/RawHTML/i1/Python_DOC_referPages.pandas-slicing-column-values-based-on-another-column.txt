<div class="post-text" itemprop="text">
<p>How can I slice column values based on first &amp; last character location indicators from two other columns?</p>
<p><strong>Here is the code for a sample df:</strong></p>
<pre><code>import pandas as pd

d = {'W': ['abcde','abcde','abcde','abcde']}
df = pd.DataFrame(data=d)

df['First']=[0,0,0,0]
df['Last']=[1,2,3,5]
df['Slice']=['a','ab','abc','abcde']

print(df.head())   
</code></pre>
<p><strong>Code output:</strong></p>
<h2><a href="https://i.stack.imgur.com/ontVZ.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/ontVZ.png"/></a></h2>
<p><strong>Desired Output:</strong></p>
<p><a href="https://i.stack.imgur.com/VW5fh.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/VW5fh.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>Just do it with for loop , you may worry about the speed , please check <a href="https://stackoverflow.com/questions/54028199/for-loops-with-pandas-when-should-i-care">For loops with pandas - When should I care?</a></p>
<pre><code>df['Slice']=[x[y:z]for x,y,z in zip(df.W,df.First,df.Last)]
df
Out[918]: 
       W  First  Last  Slice
0  abcde      0     1      a
1  abcde      0     2     ab
2  abcde      0     3    abc
3  abcde      0     5  abcde
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I am not sure if this will be faster, but a similar approach would be:</p>
<pre><code>df['Slice'] = df.apply(lambda x: x[0][x[1]:x[2]],axis=1)
</code></pre>
<p>Briefly, you go through each row (<code>axis=1</code>) and apply a custom function. The function takes the row (stored as <code>x</code>), and slices the first element using the second and third elements as indices for the slicing (that's the <code>lambda</code> part). I will be happy to elaborate more if this isn't clear.</p>
</div>
