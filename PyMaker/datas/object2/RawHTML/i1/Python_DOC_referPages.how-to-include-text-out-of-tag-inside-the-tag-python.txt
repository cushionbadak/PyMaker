<div class="post-text" itemprop="text">
<p>I faced a problem while parsing XML using BeautifulSoap and Python.</p>
<p>For example part of XML content provided below:</p>
<pre><code>xml = '''&lt;line b="498" baseline="488" l="520" r="1248" t="456"&gt;
     &lt;formatting lang="EnglishUnitedStates"&gt;
       $
      &lt;price appendorder="10" class="extraction-tag" confidence="1/1" data-original-title="Price" data-toggle="tooltip" data-value="25.00" style="background-color: rgb(192, 185, 178);" tagorder="10"&gt;
       25.00
      &lt;/price&gt;
      .
     &lt;/formatting&gt;
    &lt;/line&gt;'''

soup = BeautifulSoup(xml, "lxml-xml")
tag = soup.price
tag['data-value'] = "$25.00"
tag.string = "$25.00"
outside_tag_str = str(tag.find_parent())
new_outside_tag_str = outside_tag_str.replace("$&lt;", "&lt;")
print(new_outside_tag_str)


#prints: &lt;formatting lang="EnglishUnitedStates"&gt;
      $
      &lt;price appendorder="10" class="extraction-tag" confidence="1/1" data-original-title="Price" data-toggle="tooltip" data-value="$25.00" style="background-color: rgb(192, 185, 178);" tagorder="10"&gt;$25.00&lt;/price&gt;
      .
     &lt;/formatting&gt;
</code></pre>
<p>As you can see, I want to include dollar sign into  tag, but my code returns dollar sing inside and outside the tag. What I am doing wrong? I want to be returned:</p>
<pre><code>&lt;formatting lang="EnglishUnitedStates"&gt;
  &lt;price appendorder="10" class="extraction-tag" confidence="1/1" data-original-title="Price" data-toggle="tooltip" data-value="$25.00" style="background-color: rgb(192, 185, 178);" tagorder="10"&gt;$25.00&lt;/price&gt;
  .
 &lt;/formatting&gt;
</code></pre>
<p>Any help would be greatly appreciated, thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p><strong>Replace this</strong>:</p>
<pre><code>new_outside_tag_str = outside_tag_str.replace("$&lt;", "&lt;")
</code></pre>
<p><strong>with this</strong>:</p>
<pre><code>new_outside_tag_str = outside_tag_str.replace(" $", "")
</code></pre>
<p><strong>Why?</strong></p>
<p>Because you need to replace exactly <code>$</code> ( space followed by dollar sign) with an empty string, previously you were aiming for an invalid string.</p>
<p><strong>Hence</strong>:</p>
<pre><code>xml = '''&lt;line b="498" baseline="488" l="520" r="1248" t="456"&gt;
     &lt;formatting lang="EnglishUnitedStates"&gt;
       $
      &lt;price appendorder="10" class="extraction-tag" confidence="1/1" data-original-title="Price" data-toggle="tooltip" data-value="25.00" style="background-color: rgb(192, 185, 178);" tagorder="10"&gt;
       25.00
      &lt;/price&gt;
      .
     &lt;/formatting&gt;
    &lt;/line&gt;'''

soup = BeautifulSoup(xml, "lxml-xml")
tag = soup.price
tag['data-value'] = "$25.00"
tag.string = "$25.00"
outside_tag_str = str(tag.find_parent())
new_outside_tag_str = outside_tag_str.replace(" $", "")
print(new_outside_tag_str)
</code></pre>
<p><strong>OUTPUT</strong>:</p>
<pre><code>&lt;formatting lang="EnglishUnitedStates"&gt;

      &lt;price appendorder="10" class="extraction-tag" confidence="1/1" data-original-title="Price" data-toggle="tooltip" data-value="$25.00" style="background-color: rgb(192, 185, 178);" tagorder="10"&gt;$25.00&lt;/price&gt;
      .
     &lt;/formatting&gt;
</code></pre>
</div>
<span class="comment-copy"><code>new_outside_tag_str = outside_tag_str.replace("$&lt;", "&lt;")</code> looks fishhyy</span>
<span class="comment-copy">I am a new one with python, so if you point out the error I will be grateful</span>
<span class="comment-copy">No worries. see if the answer posted below helps?</span>
