<div class="post-text" itemprop="text">
<p>I want to set the color of different scatters and here comes the error, as is shown in the following code:</p>
<pre><code>import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
import numpy as np


points = np.array([[1,2,3]])
labels = np.array([1])
colors = [[255, 0, 0],[0, 255, 0],[0, 0, 255], [255, 255, 0],[255, 0, 255],[0,255,255],[128,255,128]]

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

for i in range(0,len(points)):
    print('point and label')
    print(points[i], labels[i])
    color = colors[labels[i]-1]
    print([0,0,0])
    ax.scatter(points[i,0], points[i,1],zs=points[i,2],c=[0,0,0]) # work
    print(color)
    ax.scatter(points[i,0], points[i,1],zs=points[i,2],c=color) # error
    print('finish')
plt.savefig('a.jpg',format='jpg')
</code></pre>
<p>The problem is that, if I set the <code>c</code> of the <code>ax.scatter</code> as [0,0,0], it works. However, if I set it to a list chosen from the <code>colors</code> I defined, it reports errors.</p>
<p>The complete print message is shown as follows (including the error message):</p>
<pre><code>point and label
(array([1, 2, 3]), 1)
[0, 0, 0]
[255, 0, 0]
Traceback (most recent call last):
  File "plot.py", line 47, in &lt;module&gt;
    ax.scatter(points[i,0], points[i,1],zs=points[i,2],c=color) # error
  File "mypath/local/lib/python2.7/site-packages/mpl_toolkits/mplot3d/axes3d.py", line 2362, in scatter
    xs, ys, s=s, c=c, *args, **kwargs)
  File "mypath/local/lib/python2.7/site-packages/matplotlib/__init__.py", line 1867, in inner
    return func(ax, *args, **kwargs)
  File "mypath/local/lib/python2.7/site-packages/matplotlib/axes/_axes.py", line 4293, in scatter
    .format(c.shape, x.size, y.size))
AttributeError: 'list' object has no attribute 'shape'
</code></pre>
<p>What's wrong with my code and how to set the color of 3D scatter?</p>
<p>Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>I cannot reproduce your error using matplotlib 3.0.1. However, here are a few suggestions.</p>
<p>First, <a href="https://matplotlib.org/api/colors_api.html?highlight=colors#module-matplotlib.colors" rel="nofollow noreferrer">matplotlib expects RGB[A] values to be in the range 0–1</a> and not 0–255</p>
<p>Second, do you really need to process your points in a loop? Your code could be simplified to a one line call to <code>scatter</code>:</p>
<pre><code>points = np.random.random(size=(7,3))
colors = np.array([[1, 0, 0],[0, 1, 0],[0, 0, 1], [1, 1, 0],[1, 0, 1],[0,1,1],[0.5,1,0.5]])

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
ax.scatter(points[:,0], points[:,1], zs=points[:,2], c=colors, s=100)
</code></pre>
<p><a href="https://i.stack.imgur.com/FCMhI.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/FCMhI.png"/></a></p>
<p>Third, if you have to pass points one at a time, you should have received a warning like:</p>
<blockquote>
<p>'c' argument looks like a single numeric RGB or RGBA sequence, which
  should be avoided as value-mapping will have precedence in case its
  length matches with 'x' &amp; 'y'.  Please use a 2-D array with a single
  row if you really want to specify the same RGB or RGBA value for all
  points.</p>
</blockquote>
<p>As it clearly states, when passing a single color, you should still use a 2D array to specify the color, i.e. <code>ax.scatter(x,y,zs=z,c=[[0,0,0]])</code></p>
</div>
