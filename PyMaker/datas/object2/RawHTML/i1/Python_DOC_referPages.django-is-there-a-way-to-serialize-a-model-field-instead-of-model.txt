<div class="post-text" itemprop="text">
<p>is there a way to implement a serializer for a field?</p>
<p>I have a custom field that is subclass of models.TextField like this:</p>
<pre><code>class UpperCaseField(models.TextField):
   pass
</code></pre>
<p>I would like to use it in a Person model like this:</p>
<pre><code>class Person(models.Model):
   first_name = models.TextField()
   last_name = UpperCaseField()
</code></pre>
<p>Users can create Person object like this:</p>
<pre><code>student = Person(first_name='John', last_name='Doe')
</code></pre>
<p>but I want to save it as <code>John DOE</code>, instead of <code>John Doe</code>.</p>
<p>For each object save, I would like to convert <code>last_name</code> to uppercase before saving DB. so I need to write a serializer for <code>UpperCaseField</code>. How can I do this? I know that I can use pre-save signals or I can override model's <code>save</code> method but all these solutions are model-level solutions. I want to do it on field-level, so I dont have to repeat same logic on any other models that I use <code>UpperCaseField</code> as field.</p>
<p>Thank you for your time!</p>
</div>
<div class="post-text" itemprop="text">
<p>Are you asking about serializers in the context of DRF? If so, I think what you want to do is provide a way of de-serialization, so field will be saved in uppercase. </p>
<p>You can define a custom serializer field by subclassing <strong>Field</strong> as explained here: <a href="https://www.django-rest-framework.org/api-guide/fields/#custom-fields" rel="nofollow noreferrer">https://www.django-rest-framework.org/api-guide/fields/#custom-fields</a> . In the <strong>to_internal_value</strong> method, you can convert the value to uppercase. Then in your model serializer, you can use this custom field for model fields you want to save as uppercase. You wouldn't need to define a custom model field for this to work, just the serializer field would be sufficient.</p>
</div>
<span class="comment-copy">For those wondering, I believe <code>get_prep_value</code> solves my problem. I will do the research and necessary tests, then update my question with an answer, hopefully.</span>
<span class="comment-copy">This doesn't have anything to do with serializing.</span>
<span class="comment-copy"><a href="https://stackoverflow.com/questions/19498740/how-can-i-make-all-charfield-in-uppercase-direct-in-model" title="how can i make all charfield in uppercase direct in model">stackoverflow.com/questions/19498740/â€¦</a></span>
