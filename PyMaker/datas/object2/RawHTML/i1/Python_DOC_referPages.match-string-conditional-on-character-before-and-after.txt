<div class="post-text" itemprop="text">
<p>Regex is always giving me a headache. I am trying to match a pattern, where it would only match if and only if both characters before and after are not a digit. It is okay, if one of the characters is a digit.</p>
<p>I.e. for the string "Zeitraum vom 1. 6. -30. 6." i am trying to match the dash (-), however the pattern should not be matched for "12-3-2019" (where both characters before and after the dash are digits).</p>
<p>Currently I am trying exclusions, but that seems to match if neither of the characters are a digit.</p>
<pre><code>[^\d]-[^\d]
</code></pre>
<p>Thank you</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use an alternation:</p>
<pre><code>(?&lt;!\d)-|-(?!\d)
</code></pre>
<p>This matching an hyphen not preceeded by digit OR not followed by digit</p>
</div>
<div class="post-text" itemprop="text">
<p>You may use </p>
<pre><code>r'-(?&lt;!\d-(?=\d))'
</code></pre>
<p>See the <a href="https://regex101.com/r/Fssgng/1" rel="nofollow noreferrer">regex demo</a></p>
<p>It matches a <code>-</code> that is not preceded with a digit and <code>-</code> that is immediately followed with a digit. </p>
<p>Note that the <code>(?=\d)</code> lookahead  is required rather than a simple <code>\d</code> because <code>(?&lt;!\d-\d)</code> after <code>-</code> would be able to fail the match when backtracking.</p>
<p><strong>Details</strong></p>
<ul>
<li><code>-</code> - a hyphen </li>
<li><code>(?&lt;!</code> - start of a negative lookbehind: fail the match if, immediately to the left of the current location, there is

<ul>
<li><code>\d</code> - a digit</li>
<li><code>-</code> - a hyphen</li>
<li><code>(?=\d)</code> - followed with <code>\d</code></li>
</ul></li>
<li><code>)</code>  - end of the lookbehind</li>
</ul>
</div>
<span class="comment-copy">Wonderful!! This seems to be working, could you explain what it does why? :D</span>
<span class="comment-copy">@FabianBosler: <code>(?&lt;!..)</code> construction is negative lookbehind, a zero-length assertion yhat make sure we haven't a digit before the current position.See: <a href="https://www.regular-expressions.info/lookaround.html" rel="nofollow noreferrer">regular-expressions.info/lookaround.html</a></span>
<span class="comment-copy">Perfect, you guys are awesome. @Wiktor, will accept Totos answer, because he was fast and I find his solution marginally easier to read.</span>
<span class="comment-copy">@FabianBosler My answer was the first, but you may suit yourself.</span>
<span class="comment-copy">@FabianBosler Check <a href="https://ideone.com/EqXmAf" rel="nofollow noreferrer">this performance test</a>, BTW.</span>
<span class="comment-copy">@WiktorStribi≈ºew still trying to understand yours. Why does <code>3--3</code> matches? There is a digit, a hyphen and it's followed by a digit</span>
<span class="comment-copy">@Cid You need to read about <a href="https://www.rexegg.com/regex-lookarounds.html#position" rel="nofollow noreferrer">back-to-the-future lookbehind</a>. That <code>-</code> must <i>consume</i> the hyphen so that the lookbehind pattern could stop consuming further and backtrack where we do not want it to. You may think of it as an "anchor".</span>
