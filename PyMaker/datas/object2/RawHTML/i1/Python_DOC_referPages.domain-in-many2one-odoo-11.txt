<div class="post-text" itemprop="text">
<p>I have three models </p>
<pre><code>class ZohoTags(models.Model):
    _name = 'zoho.tags'

    name = fields.Char(string="Tags")
    tag_id = fields.Char(string="Tag Id")


class TagsLine(models.Model):
    _name = 'zoho.tags.line'

    x_zoho_tags = fields.Many2one('zoho.tags', string='Tags')
    x_tags_option = fields.Many2one('zoho.tag.option', string='Tags Option', domain="[('tag_ids', '=', x_zoho_tags.tag_id)]")
    rules_id = fields.Many2one('hr.salary.rule')


class TagOptions(models.Model):
     _name = 'zoho.tag.option'

     name = fields.Char(string="tag option name")
     option_tag_id = fields.Char(string="tag option id")
     tag_ids = fields.Char(string="tag_id")
</code></pre>
<p>In the <code>zoho.tags</code> model, I have a field called <code>tag_id</code> and in the <code>zoho.tag.option</code>, I have <code>tag_ids</code> and both are having the same values. </p>
<p>In the <code>zoho.tags.line</code> model, I have a <code>Many2one</code> field called <code>x_zoho_tags</code>, which shows a list of tags like: <code>division, state, etc.</code> and <code>x_tags_option</code>, which shows options for each tag, such as: </p>
<blockquote>
<p>Tag (division) has options (A,B,C) and these options are having the same <code>tag_ids</code> stored for (division) tag </p>
</blockquote>
<p><strong>I want to add a domain to <code>x_tags_option</code> in order to filter <code>x_tag_option</code> 
to show only options that are having the same <code>tag_id</code>.</strong></p>
<p>So when I select <code>division</code> from <code>x_zoho_tags</code>, then <code>x_tags_option</code> should show only <code>A, B and C</code>.</p>
<p>I have tried to add this line below, but it does not work</p>
<pre><code>domain="[('tag_ids', '=', x_zoho_tags.tag_id)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I have figure it out. This is how I have done it:</p>
<p>In python:</p>
<pre><code>  @api.onchange('x_zoho_tags')
  def onchange_tags(self):
      res = {}
      if self.x_zoho_tags:
         res['domain'] = {'x_tags_option': [('tag_ids', '=', self.x_zoho_tags.tag_id)]}
      return res
</code></pre>
<p>In XML:</p>
<pre><code> &lt;field name="x_zoho_tags"/&gt;
 &lt;field name="x_tags_option" onchange="onchange_tags(x_zoho_tags)"/&gt;
</code></pre>
</div>
