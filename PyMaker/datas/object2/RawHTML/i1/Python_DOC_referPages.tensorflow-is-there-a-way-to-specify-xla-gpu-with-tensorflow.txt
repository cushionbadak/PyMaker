<div class="post-text" itemprop="text">
<p>following code is used to specify device on which tf node is running on</p>
<pre><code>with tf.device('/cpu:0'):
  a = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')
</code></pre>
<p>i have already known:
<a href="https://stackoverflow.com/q/52943489/11170845">this post</a>, <a href="https://www.tensorflow.org/xla/overview" rel="nofollow noreferrer">tensorflow doc</a> and <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/mnist/mnist_softmax_xla.py" rel="nofollow noreferrer">xla demo</a></p>
<p>what i want to know is:</p>
<p>is there a way to specify XLA_GPU as the device on which tf node is running on</p>
<pre><code>with tf.device('/XLA_GPU:0'):
  a = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')
</code></pre>
<p>executing the code above gives <code>ValueError: Unknown attribute: 'device' in '/job:localhost/replica:0/task:0/device:/XLA_GPU:0'</code></p>
<p>this is 100% reproducible on google colab.</p>
</div>
<div class="post-text" itemprop="text">
<p>try 'device:XLA_GPU:0'</p>
<pre><code>with tf.device('device:XLA_GPU:0'):
  a = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], shape=[2, 3], name='a')
</code></pre>
</div>
