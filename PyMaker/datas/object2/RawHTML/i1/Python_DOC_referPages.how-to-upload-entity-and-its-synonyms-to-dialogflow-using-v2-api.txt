<div class="post-text" itemprop="text">
<p>I am trying to upload entity and it's synonyms to DialogFlow. As far as I have researched, we can only create entities in JSON/ CSV format and upload it directly. 
<a href="https://cloud.google.com/dialogflow-enterprise/docs/reference/rest/v2/Entity" rel="nofollow noreferrer">Doc</a>
or Upload directly from the Web Application.</p>
<p>Is there a way to upload using V2 API from python?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://github.com/googleapis/dialogflow-python-client-v2" rel="nofollow noreferrer">Python SDK for Dialogflow</a> to create entity type and entities.</p>
<p>Here is the basic code, you can change it according to your need:  </p>
<pre><code>def create_entity(project_id, entity_type_id, entity_value, synonyms):
    """Create an entity of the given entity type."""
    import dialogflow_v2 as dialogflow
    entity_types_client = dialogflow.EntityTypesClient()

    # Note: synonyms must be exactly [entity_value] if the
    # entity_type's kind is KIND_LIST
    synonyms = synonyms or [entity_value]

    entity_type_path = entity_types_client.entity_type_path(
        project_id, entity_type_id)

    entity = dialogflow.types.EntityType.Entity()
    entity.value = entity_value
    entity.synonyms.extend(synonyms)

    response = entity_types_client.batch_create_entities(
        entity_type_path, [entity])

    print('Entity created: {}'.format(response))
</code></pre>
<p>You would need to create entity_type, you can do so using following code:  </p>
<pre><code>def create_entity_type(project_id, display_name, kind):
    """Create an entity type with the given display name."""
    import dialogflow_v2 as dialogflow
    entity_types_client = dialogflow.EntityTypesClient()

    parent = entity_types_client.project_agent_path(project_id)
    entity_type = dialogflow.types.EntityType(
        display_name=display_name, kind=kind)

    response = entity_types_client.create_entity_type(parent, entity_type)

    print('Entity type created: \n{}'.format(response))
</code></pre>
<p>Hope it helps.</p>
</div>
<span class="comment-copy">I've set GOOGLE_APPLICATION_CREDENTIALS as dialogflow's developer token but it throws Credential Error. How do I access my agent with my developer token?</span>
<span class="comment-copy">if you are using dialogflow v2, you need to follow <a href="https://dialogflow.com/docs/reference/v2-auth-setup" rel="nofollow noreferrer">this guide</a></span>
<span class="comment-copy">Thank you. I was confused why it did not work, I forgot to set path. Thanks anyway.</span>
