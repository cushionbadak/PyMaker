<div class="post-text" itemprop="text">
<p>I have the following Python plotnine code:</p>
<pre class="lang-py prettyprint-override"><code>    ggplot(df)
    + geom_point(aes("Distance", "Force"), size=2)
    + geom_path(aes("xfit", "yfit"))
</code></pre>
<p>Where Distance, Force, xfit, and yfit are just lists of values from my dataframe.</p>
<p>That produces this plot:</p>
<p><img alt="enter image description here" src="https://i.stack.imgur.com/YIOAo.png"/></p>
<p>I am trying to add error bars to all the points. The way to do this seems to be using: <code>+ geom_errorbar()</code> which in R with ggplot2 is very straightforward: <code>geom_errorbar(ymin = Length - yerr, ymax = Length + yerr)</code>. However, I haven't been able to get it to work in python with plotnine, and there don't seem to be any code examples using errorbars.</p>
<p><a href="https://plotnine.readthedocs.io/en/stable/generated/plotnine.geoms.geom_errorbar.html#plotnine.geoms.geom_errorbar" rel="nofollow noreferrer">Here is the documentation on the function</a>. I didn't find it helpful though.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://github.com/TyberiusPrime" rel="nofollow noreferrer">TyberiusPrime</a> on GitHub answered the question <a href="https://github.com/has2k1/plotnine/issues/268" rel="nofollow noreferrer">here.</a> I'll paste the answer below in case it disappears from GitHub for some reason. The question I asked there was the exact as here same.</p>
<p>It's just as straight forward in plotnine, using strings instead of alternative evaluation. Note that you have defined your aes on the geom_point and not on the plot, so you have to tell the error bar about the x values.</p>
<pre class="lang-py prettyprint-override"><code>from plotnine import *
import pandas as pd
df = pd.DataFrame({"Distance": [1,2,3], 'Force': [4,5.5,6], 'yerr': [0.1, 0.5, 3]})
ggplot(df) + geom_point(aes("Distance", "Force"), size=2) + geom_errorbar(aes(x="Distance", ymin="Force-yerr",ymax="Force+yerr"))
</code></pre>
<p><a href="https://i.stack.imgur.com/Zvvst.png" rel="nofollow noreferrer"><img alt="plot with errorbars" src="https://i.stack.imgur.com/Zvvst.png"/></a></p>
</div>
