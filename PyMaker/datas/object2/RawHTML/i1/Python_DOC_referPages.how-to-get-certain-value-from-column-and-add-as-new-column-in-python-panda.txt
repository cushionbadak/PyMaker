<div class="post-text" itemprop="text">
<p>I have a dataframe with information <code>data1</code> and would like to add a column <code>data2</code> containing only the names from <code>data1</code>:</p>
<pre><code>       data1                                         data2
0      info  name: Michael Jackson      New York     Michael Jackson
1      info 12 name: Michael Jordan III Los Angeles  Michael Jordan III 
</code></pre>
<p>Do you know how I can do this? </p>
</div>
<div class="post-text" itemprop="text">
<p>Without an unambiguous delimiter, this isn't trivial, since you have both spaces within names, multiple lengths of names (2 words, 3 words), and a trailing column which also may have multiple words with spaces.</p>
<p>Splitting the string you can achieve this partial solution:</p>
<pre><code>df['data2'] = df['data1'].str.split(': ').str[-1]
</code></pre>
<p></p>
<pre><code>&gt;&gt;&gt; print(df)

                                          data1                           data2
0     info  name: Michael Jackson      New York   Michael Jackson      New York
1  info 12 name: Michael Jordan III Los Angeles  Michael Jordan III Los Angeles
</code></pre>
<p>If you had a list of 'cities' you might be able to accomplish the complete solution:</p>
<pre><code>def replace(string, substitutions):
    """Replaces multiple substrings in a string."""
    substrings = sorted(substitutions, key=len, reverse=True)
    regex = re.compile('|'.join(map(re.escape, substrings)))
    return regex.sub(lambda match: substitutions[match.group(0)], string)

# List of cities to remove from strings
cities = ['New York', 'Los Angeles']
# Dictionary matching each city with the empty string
substitutions = {city:'' for city in cities}

# Splitting to create new column as above
df['data2'] = df['data1'].str.split(': ').str[-1]
# Applying replacements to new column
df['data2'] = df['data2'].map(lambda x: replace(x, substitutions).strip())
</code></pre>
<p></p>
<pre><code>&gt;&gt;&gt;print(df)

                                          data1               data2
0     info  name: Michael Jackson      New York     Michael Jackson
1  info 12 name: Michael Jordan III Los Angeles  Michael Jordan III
</code></pre>
<p>Credit to <a href="https://gist.github.com/carlsmith/b2e6ba538ca6f58689b4c18f46fef11c" rel="nofollow noreferrer">carlsmith</a> for the replace function.</p>
</div>
