<div class="post-text" itemprop="text">
<p>so I have a script in python that posts tweets to my twitter account. I'm using tweepy.</p>
<p>When I run the script manually with either <code>./run_my_script.py</code> or <code>python run_my_script.py</code> it works just fine.</p>
<p>I'm trying to run it via cronjob and no matter what interval I use (every minute, every 30 minutes, every 4 hours, etc), I get this same error:</p>
<blockquote>
<p>Error Failed to send request:
  HTTPSConnectionPool(host='api.twitter.com', port=443): Max retries
  exceeded with url:
  /1.1/statuses/update_with_media.json?status=information_related_to_my_tweet(Caused
  by ConnectTimeoutError(, 'Connection to api.twitter.com timed out.
  (connect timeout=60)'))</p>
</blockquote>
<p>Does anyone know how it's possible that I'm receiving this error? I'm only calling </p>
<pre><code>api.update_with_media(media, tweet)
</code></pre>
<p>once in the code.</p>
<p>My crontab looks like this</p>
<pre><code>PATH = "my_path_on_my_local_machine"

SHELL = "/bin/bash"

HOME = '/my/home/directory/goes/here"

*/30 * * * * cd the_directory_my_script_is_in &amp;&amp; ./run_my_script.py
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I'm behind a company proxy. The reason that it worked when I ran the script myself and why it didn't work via cron job is because I didn't source my bash_profile and the connection would not pass through the proxy.</p>
<p>My crontab now looks like</p>
<pre><code>*/30 * * * * cd the_directory_my_script_is_in &amp;&amp; source ~/.bash_profile &amp;&amp; ./run_my_script.py
</code></pre>
</div>
