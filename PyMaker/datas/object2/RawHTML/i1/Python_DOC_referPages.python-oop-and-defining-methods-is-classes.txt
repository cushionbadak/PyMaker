<div class="post-text" itemprop="text">
<p>I'm learning Python OOP now and confused with somethings in the code below:</p>
<pre><code>class Player:
    def __init__(self, name):
        self.name = name

    def __str__(self):
        return f"{self.name}"

class Team:
    def __init__(self, name, players=None):
        self.name = name
        if players is not None:
            self._players = list(players)
        else:
            self._players = []

    def add_player(self, obj):
        self._players.append(obj)

    def __iter__(self):
        return iter(self._players)

    def __str__(self):
        out = [f"Team: {self.name}", "Players:"]
        out.extend(str(player) for player in self)
        return "\n".join(out)

if __name__ == "__main__":
    players = [Player("Afrasiab"),
               Player("Babak"),
               Player("Garshasp"),
               Player("Jamshid"),
               Player("Keyumars"),
               Player("Katayoun"),
               Player("Roham"),
               Player("Tahmoores")]

    iran = Team("Iran", players)
    print(iran)

    # equivalent:
    print("Team:", iran.name)
    print("Players:")
    for player in iran:
        print(player)
</code></pre>
<p>I'm wondering:</p>
<p>Why there is an underscore before <em>players</em> in 12th line of the code?</p>
<pre><code>self._players = list(players)
</code></pre>
<p>In a nutshell, could you please explain how this code works?</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>why there is an underscore before players in <strong>init</strong> of class Team</p>
</blockquote>
<p>The <code>__init__</code> method in Python is what a <em>Constructor</em> is in most other OOP languages.
This is a method that is called whenever a object of a class is instantiated.
That means when you call Player("NameOfPlayer") that init method is called.</p>
<blockquote>
<p>Why we should check if players is not None</p>
</blockquote>
<p>if you hand <code>None</code> as a players list <code>list(None)</code> causes a TypeError.   </p>
<blockquote>
<p>Why we should put a list before players in list(players)</p>
</blockquote>
<p>That is imho a little strange code, you should check here if the type is a list of Players or Player and otherwise throw an error.</p>
<p>In addition to @Lomtrur's comment the underscore at the self._players variable indicates that _players is a private variable.   </p>
</div>
<span class="comment-copy">Please ask <i>one</i> question, not <i>four</i>.</span>
<span class="comment-copy"><a href="//stackoverflow.com/q/1301346">What is the meaning of a single and a double underscore before an object name?</a></span>
<span class="comment-copy">Pretty sure the underscore question refers to <code>self._players = list(players)</code>.</span>
