<div class="post-text" itemprop="text">
<p>I am trying to take the average of every 2 values in an array and store the new data in a new array.</p>
<p>This is as far as I can get:</p>
<pre><code>y1 = np.array([1,2,3,4,5,6,7,8,9,10])

avgy = [0]*(len(y1)//2)

for i in range (0, len(y1)-1):
    if (2*(1+i)&lt;=len(y1)):
        avgy[i] = ( y1[i+2[i]] + y1[2+2*i] )/2

print(avgy)
</code></pre>
<p>This is the error message I get:</p>
<pre><code>TypeError                                 Traceback (most recent call last)
&lt;ipython-input-8-624d78987390&gt; in &lt;module&gt;()
      9 for i in range (0, len(y1)-1):
     10     if (2*(1+i)&lt;=len(y1)):
---&gt; 11         avgy[i] = ( y1[i+2[i]] + y1[2+2*i] )/2
     12 
     13 print(avgy)

TypeError: 'int' object is not subscriptable
</code></pre>
<p>I would appreciate any help that can be given.
Oliver</p>
</div>
<div class="post-text" itemprop="text">
<p>I think this is a simple typo. <code>y1[i+2[i]] + y1[2+2*i]</code> should be</p>
<pre><code>y1[2*i] + y1[2*i+1]
</code></pre>
<p>Python lists start at index 0.</p>
<p>You may need to adjust your <code>if</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>A neat (if a bit tricky) way to do this is to use slices and <code>zip</code> in a creative way - see console transcript below.</p>
<pre class="lang-py prettyprint-override"><code># Input data.
&gt;&gt;&gt; y1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# Look at the even and odd values.
&gt;&gt;&gt; y1[::2], y1[1::2]
([1, 3, 5, 7, 9], [2, 4, 6, 8, 10])

# Use zip to transpose these two lists of five into five lists of two.
&gt;&gt;&gt; zip(*(y1[::2], y1[1::2]))
[(1, 2), (3, 4), (5, 6), (7, 8), (9, 10)]

# Use a list comprehension over the pairs to average them.
&gt;&gt;&gt; [(a + b) / 2. for (a, b) in zip(*(y1[::2], y1[1::2]))]
[1.5, 3.5, 5.5, 7.5, 9.5]
</code></pre>
<p>This will crash if the list's length isn't divisible by two.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>y1 = [1,2,3,4,5,6,7,8,9,10]

avgy = []
for i in range(0,len(y1),2):
    avgy.append((y1[i]+y1[i+1])/2)

print(avgy)
</code></pre>
<p>This will give you a list with averages</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>y1 = np.array([1,2,3,4,5,6,7,8,9,10)]

avgy = ((y1 + np.roll(y1,1))/2.0)[1::2]
</code></pre>
<p>EDIT: this method works around 20x faster than using for loop and around 90x faster than using zip and list comprehension.</p>
</div>
<span class="comment-copy">What exactly is <code>i+2[i]</code> supposed to do?  That is what is causing your error.</span>
