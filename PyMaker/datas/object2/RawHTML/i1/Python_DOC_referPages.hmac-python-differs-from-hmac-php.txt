<div class="post-text" itemprop="text">
<p>Im migrating my lumen code to python, for hmac function I have this:</p>
<p><em>PHP</em></p>
<pre><code>$hash = hash_hmac(
  'sha256',
  'user@email.com', 
  'message'
);
</code></pre>
<p><em>Python 3</em></p>
<pre><code>import hmac
import hashlib

user_hash = hmac.new(b'user@email.com', b'message', hashlib.sha256).hexdigest()
</code></pre>
<p>The problem is that both results doesnt match:  </p>
<p><em>PHP Output</em></p>
<pre><code>413777aac2561ca3acd6d49c95df9ecae4c6e2f6bc9adc40bbb77650d7b4c459
</code></pre>
<p><em>Python Output</em></p>
<pre><code>42879f50e909799d93b835a81a65c03cf78a56ef1c038ac75c8ab3f211d083ea
</code></pre>
<p>I guess the problem is how python 3 interpret string but I cant figure it out. Any help please?</p>
</div>
<div class="post-text" itemprop="text">
<p>The order of arguments to HMAC makes a difference:</p>
<pre class="lang-none prettyprint-override"><code>&gt;&gt;&gt; hmac.new(b'user@email.com', b'message', hashlib.sha256).hexdigest()
'42879f50e909799d93b835a81a65c03cf78a56ef1c038ac75c8ab3f211d083ea'

&gt;&gt;&gt; hmac.new(b'message', b'user@email.com', hashlib.sha256).hexdigest()
'413777aac2561ca3acd6d49c95df9ecae4c6e2f6bc9adc40bbb77650d7b4c459'
</code></pre>
<p>In <code>hmac.new</code>, the first argument is the <code>key</code> (the starting key for the hash), and the second argument is the <code>msg</code>, the message to be digested.</p>
</div>
<span class="comment-copy">What is your secret and what your text? If you switch <code>user@email.com</code> and <code>message</code>, the output will be the same as with python</span>
<span class="comment-copy">That was just the problem! thank you very much!</span>
