<div class="post-text" itemprop="text">
<pre><code>import requests
from bs4 import BeautifulSoup
import csv
from datetime import datetime  
r = requests.get('http://www.amazon.in/s/ref=nb_sb_noss_2?url=search-alias%3Daps&amp;field-keywords=hp+laptops')
from bs4 import BeautifulSoup  
soup = BeautifulSoup(r.text, 'html.parser')  
results = soup.find_all('ul', attrs={'class':'class="s-result-list s-col-1 s-col-ws-1 s-result-list-hgrid s-height-equalized s-list-view s-text-condensed s-item-container-height-auto"'})
records = []  
for result in results:  
    name = result.findAll('h2', attrs={'class':'a-size-medium s-inline  s-access-title  a-text-normal'}).text # result not results
    price = result.findAll('span', attrs={'class':'a-size-base a-color-price s-price a-text-bold'}).text[13:-11]
    records.append((name, price,))

with open('indd.xls', 'a') as csv_file:
    writer = csv.writer(csv_file)


for name, price in records:
    writer.writerow([name, price, datetime.now()])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>if you read the response you get back you'd see:</p>
<pre><code>To discuss automated access to Amazon data please contact api-services-support@amazon.com.
    For information about migrating to our APIs refer to our Marketplace APIs at https://developer.amazonservices.in/ref=rm_c_sv, or our Product Advertising API at https://affiliate-program.amazon.in/gp/advertising/api/detail/main.html/ref=rm_c_ac for advertising use cases.
</code></pre>
</div>
<span class="comment-copy">For starter: <code>print(records)</code> and do you see what you should be seeing?</span>
<span class="comment-copy"><code>for name, price in records:</code> this is going outside the file scope, note that it should be indented inside it.</span>
<span class="comment-copy">Welcome to Stack Overflow. Please read <a href="https://meta.stackoverflow.com/q/284236/354577">Why is "Can someone help me?" not an actual question?</a></span>
<span class="comment-copy"><code>records</code> returns empty <code>[]</code>. Might want to fix that first!</span>
<span class="comment-copy">im getting an idea that records are nil,but name ,price will work if ill somehow get done with records issue,if you can provide in coding form it would be easier for me.</span>
<span class="comment-copy">yep,i saw that while looking for mistakes,thank you for the support</span>
