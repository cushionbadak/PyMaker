<div class="post-text" itemprop="text">
<p>All,</p>
<p>My dataset looks like following.I am trying to use <code>Altair</code> library to plot my visualization such that day of week is on x-axis, pickups is on y-axis, there are two plots one plot with snow= Y and other plot with snow=N, and color is based on my borough. I was successful in plotting two plots. However, all the bars are stacked on each other. I would like to unstack the plots. Below is my <code>ALtair</code> code.</p>
<p><strong>dput of dataset</strong></p>
<pre><code>{'borough': {0: 'Bronx', 1: 'Brooklyn', 3: 'Manhattan', 4: 'Queens', 5: 'Staten Island',29094: 'Bronx', 29095: 'Brooklyn', 29097: 'Manhattan', 29098: 'Queens', 29099: 'Staten Island'}, 'pickups': {0: 152, 1: 1519, 3: 5258, 4: 405, 5: 6,29094: 67, 29095: 990, 29097: 3828, 29098: 580, 29099: 0}, 'snow': {0: 'N', 1: 'N', 3: 'N', 4: 'N', 5: 'N',29094: 'N', 29095: 'N', 29097: 'N', 29098: 'N', 29099: 'N'}, 'day_of_week': {0: 'Wednesday', 1: 'Wednesday', 3: 'Wednesday', 4: 'Wednesday', 5: 'Wednesday',29094: 'Monday', 29095: 'Monday', 29097: 'Monday', 29098: 'Monday', 29099: 'Monday'}}
</code></pre>
<p><strong>Altair Code:</strong></p>
<pre><code>alt.Chart(df).mark_bar().encode(
    x='day_of_week:O',
    y='pickups:Q',
    color='borough:N',
    column='snow:N'
)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can create unstacked bars using a column encoding in combination with an x encoding, following the example of <a href="https://altair-viz.github.io/gallery/grouped_bar_chart.html" rel="nofollow noreferrer">Altair's Grouped Bar Chart</a>. For your data it might look something like this:</p>
<pre><code>import pandas as pd
import altair as alt

data = {'borough': {0: 'Bronx', 1: 'Brooklyn', 3: 'Manhattan', 4: 'Queens', 5: 'Staten Island',29094: 'Bronx', 29095: 'Brooklyn', 29097: 'Manhattan', 29098: 'Queens', 29099: 'Staten Island'}, 'pickups': {0: 152, 1: 1519, 3: 5258, 4: 405, 5: 6,29094: 67, 29095: 990, 29097: 3828, 29098: 580, 29099: 0}, 'snow': {0: 'N', 1: 'N', 3: 'N', 4: 'N', 5: 'N',29094: 'N', 29095: 'N', 29097: 'N', 29098: 'N', 29099: 'N'}, 'day_of_week': {0: 'Wednesday', 1: 'Wednesday', 3: 'Wednesday', 4: 'Wednesday', 5: 'Wednesday',29094: 'Monday', 29095: 'Monday', 29097: 'Monday', 29098: 'Monday', 29099: 'Monday'}}
df = pd.DataFrame(data)

alt.Chart(df).mark_bar().encode(
    x=alt.X('borough:N', axis=None),
    y='pickups:Q',
    color='borough:N',
    column='day_of_week:N'
).properties(width=80)
</code></pre>
<p><a href="https://i.stack.imgur.com/hIS6F.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/hIS6F.png"/></a></p>
</div>
<span class="comment-copy">@jakevdp.Thanks! I would also like to use my snow variable which consist of Y and N values. Thus, my x-axis will be Snow 'Y','N'. Instead of borough on X-axis. My color needs to  be borough.How should I approach that ?</span>
<span class="comment-copy">You can't have nested column encodings in the current Altair release, unfortunately. But this will be possible in Altair 3 once vega-lite 3 is released.</span>
<span class="comment-copy">Great.. Thanks!</span>
