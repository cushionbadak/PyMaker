<div class="post-text" itemprop="text">
<p>I am trying to go through each DIV element, write some data and finally click submit. However, I am not sure why but writing the values and click the submit button is always on the same element.</p>
<p>for example:</p>
<pre><code>&lt;div id="random_id" class="section"&gt;
  Last name:&lt;br&gt;
  &lt;input type="text" id="lastname"&gt;&lt;br&gt;&lt;br&gt;
  &lt;input type="submit" value="Submit" id="submit"&gt;
&lt;/div&gt;

 &lt;div id="random_id" class="section"&gt;
    Last name:&lt;br&gt;
    &lt;input type="text" id="lastname"&gt;&lt;br&gt;&lt;br&gt;
    &lt;input type="submit" value="Submit" id="submit"&gt;
&lt;/div&gt;

&lt;div id="random_id" class="section"&gt;
    Last name:&lt;br&gt;
    &lt;input type="text" id="lastname"&gt;&lt;br&gt;&lt;br&gt;
    &lt;input type="submit" value="Submit" id="submit"&gt;
&lt;/div&gt;

&lt;div id="random_id" class="section"&gt;
    Last name:&lt;br&gt;
    &lt;input type="text" id="lastname"&gt;&lt;br&gt;&lt;br&gt;
    &lt;input type="submit" value="Submit" id="submit"&gt;
&lt;/div&gt;
</code></pre>
<p>I wrote the following python script to loop all sections, fill data inside and click submit. </p>
<pre><code>elements = driver.find_elements_by_xpath("//div[@class='section']")
for element in elements:
    element.find_element_by_xpath("//div[@id='section']").send_keys("hello world")
    element.find_element_by_xpath("//div[@id='submit']").click()
</code></pre>
<p>When I run the script, only the first element is filled and clicked for 3 times.</p>
</div>
<div class="post-text" itemprop="text">
<p>Only first element is filled, because when you use <code>element.child_element</code> with xpath in Selenium you have to add <code>./</code>, <code>child::tag</code> or use <code>descendant::tag</code> to make it relative to parent, otherwise it's an absolute. You can find <a href="https://stackoverflow.com/questions/35606708/what-is-the-difference-between-and-in-xpath/35606964">here</a>.</p>
<pre><code>element.find_element_by_xpath(".//input[@id='lastname']")
element.find_element_by_xpath("child::input[@id='lastname']")
element.find_element_by_xpath("descendant::input[@id='lastname']")
</code></pre>
<hr/>
<p>How to do with xpath:</p>
<pre><code>elements = driver.find_elements_by_xpath("//div[@class='section']")
for element in elements:
    element.find_element_by_xpath(".//input[@id='lastname']").send_keys("hello world")
    element.find_element_by_xpath(".//input[@id='submit']").click()
</code></pre>
<p>How to do with css selector:</p>
<pre><code>elements = driver.find_elements_by_css_selector(".section")
for element in elements:
    element.find_element_by_css_selector("#lastname").send_keys("hello world")
    element.find_element_by_css_selector("#submit").click()
</code></pre>
</div>
<span class="comment-copy">because you're using the same xpath in the loop. Pretty sure xpath is unique in the whole DOM</span>
<span class="comment-copy">Why not just suggesting  by 'id' over css_selector in the loop?</span>
