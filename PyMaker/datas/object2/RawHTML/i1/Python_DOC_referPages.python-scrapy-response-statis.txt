<div class="post-text" itemprop="text">
<pre><code>def all_type(self, response):
    if response.url is 'http://www.ccdy.cn/zhuanti/' and response.url is 'http://www.ccdy.cn/difang/':
        if response.status != 404:
            yield scrapy.Request(url=response.url, callback=self.all_article)
            for i in range(0, 24):
                type_url = response.url + 'index_' + str(i) + '.htm'
                yield scrapy.Request(url=type_url, callback=self.all_type)
</code></pre>
<p>Why have I disabled the status code to 404 and no longer access it, but the crawler still accesses the 404 page? This is a crawler written by <code>scrapy</code>. The main problem is <code>response.status != 404</code> does not work.</p>
</div>
<div class="post-text" itemprop="text">
<p>This function is never going to do anything, because the first <strong>if</strong> conditional:</p>
<pre><code>if response.url is 'http://www.ccdy.cn/zhuanti/' and response.url is 'http://www.ccdy.cn/difang/':
</code></pre>
<p>will always be False, and so it will never go inside the <strong>if</strong> code block.  Maybe you want an OR there instead of an AND?</p>
<p>...or maybe your indentation is wrong, or at least coming to me wrong.  In any case, the <strong>if</strong> makes no sense because it is obviously always going to be False.</p>
</div>
<span class="comment-copy">Can you print "response.status" just before the print statement and provide the result?</span>
