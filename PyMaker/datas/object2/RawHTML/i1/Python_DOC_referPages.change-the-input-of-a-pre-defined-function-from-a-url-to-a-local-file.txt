<div class="post-text" itemprop="text">
<p>I need to change this function from url input to a local file input</p>
<pre><code>def download_and_resize_image(url, new_width=256, new_height=256,display=False):

    _, filename = tempfile.mkstemp(suffix=".jpg")
    response = urlopen(url)
    image_data = response.read()
    image_data = BytesIO(image_data)
    pil_image = Image.open(image_data)
    pil_image = ImageOps.fit(pil_image, (new_width, new_height), Image.ANTIALIAS)
    pil_image_rgb = pil_image.convert("RGB")
    pil_image_rgb.save(filename, format="JPEG", quality=90)
    print("Image downloaded to %s." % filename)
    if display:
      display_image(pil_image)
    return filename
</code></pre>
<p>This code was given to me by my teacher. How can I change the input to a local file?</p>
<p>I looked in the request library but I was not lucky with a function. Is there a predefined function to grab a local file or how /what changes should I make on the predefined function?</p>
</div>
<div class="post-text" itemprop="text">
<p>Just pass the <code>filepath</code> in as the argument and read from <code>fileapth</code>. 
Try this.</p>
<pre><code>def download_and_resize_image(filepath, new_width=256, new_height=256,display=False):

# _, filename = tempfile.mkstemp(suffix=".jpg")
# response = urlopen(url)
# image_data = response.read()
# image_data = BytesIO(image_data)
pil_image = Image.open(filepath)
pil_image = ImageOps.fit(pil_image, (new_width, new_height), Image.ANTIALIAS)
pil_image_rgb = pil_image.convert("RGB")
pil_image_rgb.save(filename, format="JPEG", quality=90)
print("Image downloaded to %s." % filename)
if display:
display_image(pil_image)
return filename
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The Image.open method takes a file-path and a mode. <a href="https://pillow.readthedocs.io/en/4.1.x/reference/Image.html#functions" rel="nofollow noreferrer">See here</a>. You should be able to replace url with filepath and put that in Image.open</p>
<pre><code>pil_image = Image.open(filepath)
</code></pre>
</div>
<span class="comment-copy">What kind of local input ? <code>json</code>,<code>csv</code> or <code>text</code> file ? Please put sample and input and it's type.</span>
<span class="comment-copy">a local jpg file example frame.jpg</span>
<span class="comment-copy">A URL can refer to a local file via a "file://..." URL. This code might work as is.</span>
<span class="comment-copy">I changed response= urlopen(url)    to    response = cv2.imread(url)  but it didn't work I also tried ''file://....." not working the error is (syntax error) 'unicodeescape' codec can't decode bytes in position 2-3: truncated \UXXXXXXXX escape</span>
<span class="comment-copy">here is my complete code      (<a href="https://colab.research.google.com/drive/1zhMRwYr59FUXyhLi0w9YeR9mq1NwodPo" rel="nofollow noreferrer">colab.research.google.com/drive/…</a>)  I get error in the image_file = "...….. line</span>
<span class="comment-copy">You are facing issue with the escape character. Check how to give pah in python. I believe you can solve that.</span>
