<div class="post-text" itemprop="text">
<p>I want to add a <strong>Sessions</strong> tabs to my Django project:</p>
<p><strong>navbar.html</strong></p>
<pre><code> &lt;li&gt;&lt;a href="{% url 'user_sessions:session_list' %}"&gt;Sessions&lt;/a&gt;&lt;/li&gt;
</code></pre>
<p>But i keep getting the following error:</p>
<pre><code>'User' object has no attribute 'session_set''User' object has no attribute 'session_set'
Exception Location: C:\Users\User\lib\site-packages\django\utils\functional.py in inner, line 214
</code></pre>
<p>I don't know where this error comes from, i did not find any other reference online, can anyone help me?</p>
<p>Here is the login view that i'm using: <a href="https://github.com/Bouke/django-two-factor-auth/blob/master/two_factor/views/core.py" rel="nofollow noreferrer">https://github.com/Bouke/django-two-factor-auth/blob/master/two_factor/views/core.py</a></p>
<p><strong>Full traceback</strong></p>
<pre><code>Environment:


Request Method: GET
Request URL: http://127.0.0.1:8000/account/sessions/

Django Version: 2.1.7
Python Version: 3.7.0
Installed Applications:
['django.contrib.admin',
 'django.contrib.auth',
 'django.contrib.contenttypes',
 'django.contrib.sessions',
 'django.contrib.messages',
 'django.contrib.staticfiles',
 'main.apps.MainConfig',
 'tinymce',
 'captcha',
 'django.contrib.sites',
 'django_otp',
 'django_otp.plugins.otp_static',
 'django_otp.plugins.otp_totp',
 'two_factor']
Installed Middleware:
['django.middleware.security.SecurityMiddleware',
 'django.contrib.sessions.middleware.SessionMiddleware',
 'django.middleware.common.CommonMiddleware',
 'django.middleware.csrf.CsrfViewMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django.contrib.messages.middleware.MessageMiddleware',
 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 'django.contrib.auth.middleware.AuthenticationMiddleware',
 'django_otp.middleware.OTPMiddleware']



Traceback:

File "C:\Users\User\lib\site-packages\django\core\handlers\exception.py" in inner
  34.             response = get_response(request)

File "C:\Users\User\lib\site-packages\django\core\handlers\base.py" in _get_response
  126.                 response = self.process_exception_by_middleware(e, request)

File "C:\Users\User\lib\site-packages\django\core\handlers\base.py" in _get_response
  124.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)

File "C:\Users\User\lib\site-packages\django\views\generic\base.py" in view
  68.             return self.dispatch(request, *args, **kwargs)

File "C:\Users\User\lib\site-packages\django\utils\decorators.py" in _wrapper
  45.         return bound_method(*args, **kwargs)

File "C:\Users\User\lib\site-packages\django\contrib\auth\decorators.py" in _wrapped_view
  21.                 return view_func(request, *args, **kwargs)

File "C:\Users\User\lib\site-packages\user_sessions\views.py" in dispatch
  22.                                                         **kwargs)

File "C:\Users\User\lib\site-packages\django\views\generic\base.py" in dispatch
  88.         return handler(request, *args, **kwargs)

File "C:\Users\User\lib\site-packages\django\views\generic\list.py" in get
  142.         self.object_list = self.get_queryset()

File "C:\Users\User\lib\site-packages\user_sessions\views.py" in get_queryset
  14.         return self.request.user.session_set\

File "C:\Users\User\lib\site-packages\django\utils\functional.py" in inner
  214.         return func(self._wrapped, *args)

File "C:\Users\User\lib\site-packages\django\utils\functional.py" in inner
  214.         return func(self._wrapped, *args)

Exception Type: AttributeError at /account/sessions/
Exception Value: 'User' object has no attribute 'session_set'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to replace <code>django.contrib.sessions</code> in your <code>INSTALLED_APPS</code> with <code>user_sessions</code> if you want to use django-user-sessions. This will setup its models correctly.</p>
<p>Furthermore make sure you have also followed all other <a href="https://django-user-sessions.readthedocs.io/en/stable/installation.html" rel="nofollow noreferrer">installation instructions</a>.</p>
</div>
<span class="comment-copy">You seem to be using this package <a href="https://django-user-sessions.readthedocs.io/en/stable/installation.html" rel="nofollow noreferrer">django-user-sessions.readthedocs.io/en/stable/installation.html</a> if so please follow the install instructions</span>
<span class="comment-copy">add <code>user_sessions</code> to your installed apps and migrate if you want to use sessions with foreign keys to users. See also the example app's <a href="https://github.com/Bouke/django-two-factor-auth/blob/master/example/settings.py" rel="nofollow noreferrer">settings.py</a></span>
<span class="comment-copy">Yes! Thank you both! I suspected it was an import error, but since i noticed that i already had a Session module on my INSTALLED_APPS, i was not able to figure out what i was missing!</span>
<span class="comment-copy">Indeed, my error was to use django.contrib.sessions instead of django-user-sessions. Installing and adding to my INSTALLED_APPS django-user-sessions worked!</span>
