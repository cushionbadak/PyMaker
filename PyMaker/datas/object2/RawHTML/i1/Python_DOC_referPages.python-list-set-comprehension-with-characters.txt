<div class="post-text" itemprop="text">
<p>I was trying to get a set of all characters from a list of strings using two level comprehension:</p>
<pre><code>words = ['foo','bar']
s = {c for c in w for w in l}
</code></pre>
<p>But got the following error:</p>
<pre><code>NameError: name 'w' is not defined
</code></pre>
<p>I wonder if it is because w is not a list object. If so is there any other way we can quickly get character set from a list of strings?</p>
</div>
<div class="post-text" itemprop="text">
<p>A <a href="https://docs.python.org/3/reference/expressions.html#displays-for-lists-sets-and-dictionaries" rel="nofollow noreferrer">comprehension in python</a> ist evaluated from the left to right. That means, your outer loop has to come first. Therefore you need to swap the loops:</p>
<pre><code> words = ['foo','bar']
 s = {c for w in words for c in w}
</code></pre>
<p>Output:</p>
<pre><code> {'a', 'b', 'r', 'f', 'o'}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this : </p>
<pre><code>words = ['foo','bar']
s = [[c1 for c1 in word] for word in words]
print(s)
</code></pre>
<p>Output : </p>
<pre><code>[['f', 'o', 'o'], ['b', 'a', 'r']]
</code></pre>
</div>
<span class="comment-copy">you never used the <code>words</code> variable. im a bit confused if you expect this to run.</span>
<span class="comment-copy">My bad. I was copying some codes. The name of list should be l instead of ‘words’</span>
<span class="comment-copy">I think it misses one character, the second "o"?</span>
<span class="comment-copy">@J.K no, sets only hold unique items.</span>
<span class="comment-copy">@juanpa.arrivillaga is right, if you want all characters, including duplicates you need a list instead of a set, simply replace the curly brackets <code>{}</code> with square brackets <code>[]</code></span>
<span class="comment-copy">@juanpa.arrivillaga, I thought he wanted to output all characters.</span>
