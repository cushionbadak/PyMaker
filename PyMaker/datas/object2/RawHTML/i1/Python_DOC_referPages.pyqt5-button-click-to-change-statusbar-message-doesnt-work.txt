<div class="post-text" itemprop="text">
<p>Is it possible to pass variables through slots so I can print out certain text?
Trying to pass variable 'DiffP' which is defined in another function to slot.</p>
<p>'DiffP' changes based on which file is selected.</p>
<pre><code>def addLineEdit(self):
    try:
        self.clearLayout()
        self.FileButton ={}
        self.Input = {}
        self.TotalInput = []
        for i in range(int(self.numberLine.text())):
            self.FileButton[i] = QtWidgets.QPushButton(self.centralwidget)
            self.FileButton[i].setText('Case {}'.format(i+1))
            self.FileButton[i].setFlat(True)
            self.FileButton[i].setMaximumSize(QtCore.QSize(50, 50))
            self.hboxlayout[0].addWidget(self.FileButton[i])
            self.FileButton[i].clicked.connect(lambda i=i: self.openfile(i))
            self.buttonGroup.addButton(self.FileButton[i],i)
            self.buttonGroup.buttonClicked['int'].connect(self.input)

def searchfile(self,dir):
        with open(dir) as f:
            content = f.readlines()
            MainList = content[44].split()
            RPM = round(float(MainList[0]), 2)
            Ps = round(float(MainList[1]), 2)
            Ts = round(float(MainList[2]), 2)
            Pd = round(float(MainList[3]), 2)
            Ratio = round(Pd / Ps, 2)
            DiffP = round(Pd - Ps, 2)
@pyqtSlot(int)
def input(self,button_or_id,DiffP):
    if isinstance(button_or_id, int):
        if button_or_id == 0:
            self.TotalInput[0].setText(str(DiffP))
        elif button_or_id == 1:
            self.TotalInput[54].setText('1')

def openfile(self,i):
    filename = QtWidgets.QFileDialog.getOpenFileName(self, 'Choose file')
    dir = filename[0]
    directory = os.path.split(dir)[0]
    return self.searchfile(dir)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem can be solved in 2 ways:</p>
<h2>Using lambda functions:</h2>
<p>In general:</p>
<pre><code>    obj.signal.connect(lambda param1, param2, ..., arg1=val1, arg2= value2, ... : fun(param1, param2,... , arg1, arg2, ....))

def fun(param1, param2,... , arg1, arg2, ....):
    [...]
</code></pre>
<p>where:</p>
<ul>
<li>param1, param2, ... : are the parameters sent by the signal</li>
<li>arg1, arg2, ...: are the extra parameters that you want to spend</li>
</ul>
<p>In your case:</p>
<pre><code>    self.buttonGroup.buttonClicked['int'].connect(lambda i: self.input(i, "text"))

@pyqtSlot(int)
def input(self, button_or_id, DiffP):
    if isinstance(button_or_id, int):
        if button_or_id == 0:
            self.TotalInput[0].setText(DiffP)
        elif button_or_id == 1:
            self.TotalInput[54].setText('1')
</code></pre>
<hr/>
<h2>Using <code>functools.partial</code>:</h2>
<p>In general:</p>
<pre><code>    obj.signal.connect(partial(fun, args1, arg2, ... ))

def fun(arg1, arg2, ..., param1, param2, ...):
    [...]
</code></pre>
<p>where:</p>
<ul>
<li>param1, param2, ... : are the parameters sent by the signal</li>
<li>arg1, arg2, ...: are the extra parameters that you want to spend</li>
</ul>
<p>In your case:</p>
<pre><code>from functools import partial

    [...]
    self.buttonGroup.buttonClicked['int'].connect(partial(self.input, "text"))


@pyqtSlot(int)
def input(self, DiffP, button_or_id):
    if isinstance(button_or_id, int):
        if button_or_id == 0:
            self.TotalInput[0].setText(DiffP)
        elif button_or_id == 1:
            self.TotalInput[54].setText('1')
</code></pre>
</div>
<span class="comment-copy">I added more code to show my issue. 'DiffP' is a variable from another function. I wasn't very specific to begin with. I used slot to identify which button is pressed, but I want to get variables from the searchfile function and use them in the slot, is that possible?</span>
<span class="comment-copy">Yes, the file is going to change, based on which the user selects. So 'DiffP ' may be different values.</span>
<span class="comment-copy">I used QButtonGroup to keep track of the buttons and add an id to each one of them, it is all I could think of to make sure which button was clicked</span>
<span class="comment-copy">Yes, that's correct.</span>
<span class="comment-copy">I copy and pasted from another function, and didn't delete it, I changed the code above to reflect it.</span>
