<div class="post-text" itemprop="text">
<p>Today, I used <code>math.log()</code> function to get the logarithm of 4913 to the given base 17. The answer is 3, but when I ran the code below, I got 2.9999999999999996.</p>
<p>1) Is it because <code>math.log(x, b)</code>'s calculation is <code>log(x) / log(b)</code>?</p>
<p>2) Is there any solution to get the correct answer 3?</p>
<pre><code>import math
print(math.log(4913,17))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<ol>
<li>Yes, the <a href="https://docs.python.org/3/library/math.html" rel="nofollow noreferrer">documentation</a> says so explicitly.</li>
<li><p>Another solution is to use the Decimal class, from the "decimal" library:</p>
<pre><code>import math
from decimal import Decimal, getcontext
getcontext().prec = 6
Decimal(math.log(4913))/Decimal(math.log(17))
</code></pre></li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>you could use the <a href="https://gmpy2.readthedocs.io/en/latest/" rel="nofollow noreferrer"><code>gmpy2</code></a> library:</p>
<pre><code>import gmpy2

print(gmpy2.iroot(4913, 3))
# (mpz(17), True)

print(gmpy2.iroot(4913 + 1, 3))
# (mpz(17), False)
</code></pre>
<p>which tells you the result and whether or not it is exact.</p>
<p>also have a look at <a href="https://stackoverflow.com/questions/48042460/log-precision-in-python">Log precision in python</a> and <a href="https://stackoverflow.com/questions/588004/is-floating-point-math-broken">Is floating point math broken?</a>.</p>
</div>
<span class="comment-copy">Your conjecture (#1) is quite likely. As for #2, there are many methods. Do you know a priori that the answer will be an integer?</span>
<span class="comment-copy">Better duplicate: <a href="https://stackoverflow.com/questions/48042460/log-precision-in-python">Log precision in python</a></span>
<span class="comment-copy">@nwellnhof i reopened the question as the OP also wants to know how to get an integer solution.</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/588004/is-floating-point-math-broken">Is floating point math broken?</a></span>
<span class="comment-copy">or <code>Decimal(4913).ln() / Decimal(17).ln()</code></span>
<span class="comment-copy">Thank you. I think I need to study decimal class :)</span>
<span class="comment-copy">Thank you so much for the answer!</span>
