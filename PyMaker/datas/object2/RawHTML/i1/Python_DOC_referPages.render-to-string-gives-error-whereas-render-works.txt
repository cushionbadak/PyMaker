<div class="post-text" itemprop="text">
<p>I am trying to render a response back to an Ajaz request. The view is reached in the python code, but if I try and render the response to string using render_to_string then I get an error stating:</p>
<blockquote>
<p>django.template.exceptions.TemplateDoesNotExist: </p>
</blockquote>
<p>If I run the render method with the same parameters then I don't get an error. The code for each looks like:</p>
<pre><code>    html = render_to_string(request, 'planner/viewconnections.html', { 'routes' : routelist })
    render(request, 'planner/viewconnections.html', { 'routes' : routelist })
</code></pre>
<p>Obviously the first one is what I want to run so I can obtain the raw html back to the AJAX success function.</p>
<p>My templates configuration in settings.py looks like:</p>
<pre><code>TEMPLATES = [
{
    'BACKEND': 'django.template.backends.django.DjangoTemplates',
    'DIRS': [],
    'APP_DIRS': True,
    'OPTIONS': {
        'context_processors': [
            'django.template.context_processors.debug',
            'django.template.context_processors.request',
            'django.contrib.auth.context_processors.auth',
            'django.contrib.messages.context_processors.messages',
        ],
    },
},
</code></pre>
<p>]</p>
<p>I have tried adding the template directory as below, but I still get the same error.</p>
<pre><code>ROJECT_ROOT = os.path.abspath(os.path.join(os.path.dirname((__file__)),".."))

   # Other settings...
   TEMPLATE_DIRS = (
    os.path.join(PROJECT_ROOT, "planner/templates"),
)
</code></pre>
<p>Can someone help? My search on this problem let me to add the TEMPLATE_DIRS in settings, but that didn't work. I don't understand why one render method can pick up the template, but the other doesn't.</p>
</div>
<div class="post-text" itemprop="text">
<p>in django render_to_string <strong>request</strong> paramter is not required</p>
<p><strong>syntax</strong> </p>
<pre><code>render_to_string(template_name, context=None, request=None, using=None)



 html = render_to_string('planner/viewconnections.html', { 'routes' : routelist })
</code></pre>
<p>refer this <a href="https://docs.djangoproject.com/en/2.1/topics/templates/#django.template.loader.render_to_string" rel="nofollow noreferrer">https://docs.djangoproject.com/en/2.1/topics/templates/#django.template.loader.render_to_string</a></p>
</div>
<span class="comment-copy">not sure about the order of the arguments, check <a href="https://docs.djangoproject.com/en/2.1/topics/templates/#django.template.loader.render_to_string" rel="nofollow noreferrer">docs.djangoproject.com/en/2.1/topics/templates/â€¦</a></span>
<span class="comment-copy">Many thanks, that is working now.</span>
