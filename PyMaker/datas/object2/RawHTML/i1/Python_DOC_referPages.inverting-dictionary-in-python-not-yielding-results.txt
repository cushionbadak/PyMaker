<div class="post-text" itemprop="text">
<p>I'm doing an assignment that asks me to create a dictionary and then invert it based on "Think Python" book function. The function has to invert my dictionary and turn each list item into separated keys.</p>
<p>I created a dictionary that shows similar soccer players for the sake of the assignment however I thought that my function should be returning the inverted dictionary by now but it isn't.</p>
<pre><code>    def soccer():
    splayers = dict()
splayers = {'Ronaldo': 'Messi', 'Buffon': 'Courtois', 'Mbappe': 'Vinicius'}
def invert_dict(splayers):
     inverse = dict()
     for key in splayers:
          val = splayers[key]
          if val not in inverse:
               inverse[val] = [key]
          else:
               inverse[val].append(key)
     return inverse
</code></pre>
<p>Thoughts? Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You can make this somewhat simpler using the setdefault() method.</p>
<pre><code>splayers = {'Ronaldo': 'Messi', 'Buffon': 'Courtois', 'Mbappe': 'Vinicius'}
inverted = dict()
for k,v in splayers.items():
    inverted.setdefault(v,[]).append(k)
</code></pre>
<p>You could also do it on a single line using groupby() from itertools but it will be less efficient and not as legible:</p>
<pre><code>from itertools import groupby
inverted = { key:list(values) for key,values in groupby(sorted(splayers),lambda x:splayers[x]) }
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="https://www.python.org/dev/peps/pep-0274/" rel="nofollow noreferrer">dict comprehension</a>:</p>
<pre><code>&gt;&gt; splayers = {'Ronaldo': 'Messi', 'Buffon': 'Courtois', 'Mbappe': 'Vinicius'}
&gt;&gt; splayers_inv = {value: key for key, value in splayers.items()}
&gt;&gt; splayers_inv
{'Courtois': 'Buffon', 'Messi': 'Ronaldo', 'Vinicius': 'Mbappe'}
</code></pre>
</div>
<span class="comment-copy">Please format the code. Although, it doesn't look like you are actually calling your function anywhere</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/483666/python-reverse-invert-a-mapping">Python reverse / invert a mapping</a></span>
<span class="comment-copy">If you read his code, he needs to handle the case where two players have the same last name by storing each first name as a list and appending to that list.</span>
