<div class="post-text" itemprop="text">
<p>I am trying to retrieve data from server through a client using requests.post 
task id id a random id </p>
<p>here is the server</p>
<pre><code>from json import dumps
from werkzeug.exceptions import BadRequest
from flask import (
        Flask,
        Response,
        request
    )


from utils import get_random_id


    app = Flask(__name__)

    tasks = {
        get_random_id(): {
            "task": "write server mock",
            "completed": True
        }
        #print(get_random_id())
    }

    @app.route(
        '/tasks',
        methods=['GET']
    )
    def list_tasks():
        li = [
            {
                "id": task_id,
                "task": values["task"],
                "completed": values["completed"]
            } for task_id, values in tasks.iteritems()
        ]
        #print(li)
        return Response(
            dumps(li),
            mimetype='application/json'
        )

if __name__ == "__main__":
    pass
</code></pre>
<p>Here is the client:</p>
<pre><code>from flask import Flask,request
#importing server file that i made
import server

app = Flask(__name__)
app.testing = True


@app.route('/')
def index():
    return request.url


response = app.test_client(server)

print(response)
</code></pre>
<p>I want to retrieve the posts in my python file all I manage to generate is response of the client </p>
<p>How do I get the table?
Do I use API Endpoints? </p>
<p>Please help me fix this error</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to use some HTTP library for making a request.
Try <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer">http://docs.python-requests.org/en/master/</a></p>
<p>Example:</p>
<pre><code>import requests
r = requests.get('{your server url}/tasks')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>test_client</code> method will create a client for you. And then you should use that client to query your server (either POST or GET or whatever). So you could use something like the following:</p>
<pre class="lang-py prettyprint-override"><code>with server.test_client() as c:
    resp = c.get('/tasks')
    data = json.loads(resp.data)
    print(data)
</code></pre>
</div>
