<div class="post-text" itemprop="text">
<p>I have a text file with data I would like to import into an Access database.  The text file contains a few paragraphs that I want to go into one row. I've separated where I want each row by "@@@"</p>
<p>So here's an example of what I have: </p>
<p>@@@ I would like to go to school because it's so much fun. Blah Blah Blah Blah. I am having so much fun today. @@@ I am so happy for no reason. Blah Blah Blah Blah Blah. I am having so much fun today. </p>
<p>I would like this to appear like this: </p>
<blockquote>
<p>ID | Reporttext</p>
<p>1  | I would like to go to school because it's so much fun. Blah Blah
  Blah Blah. I am having so much fun today.</p>
<p>2  | I am so happy for no reason. Blah Blah Blah Blah Blah. I am
  having so much fun today.</p>
</blockquote>
<p>However, I know I am close with my code, but I am getting this: </p>
<blockquote>
<p>ID | Reporttext</p>
<p>1  | I would like to go to school because it's so much fun. Blah Blah
  Blah Blah.</p>
<p>2  | I am having so much fun today.</p>
<p>3  | I am so happy for no reason. Blah Blah Blah Blah Blah. I am
  having so much </p>
<p>4  | I am having so much fun today.</p>
</blockquote>
<p>I tried an IF statement to only add the ID if there was "@@@" in the line, but I couldn't get it to work. If I did that though, I figure it should work. I have ID and reporttext using a semicolon for the delimiter. </p>
<p>Here's my code: </p>
<pre><code>import csv

with open("by2.txt") as txt, open('theoutput2.txt', 'a') as csvfile:
    writer = csv.writer(csvfile, delimiter=';')
    writer.writerow(('ID', 'Reporttext'))
    Id = 1
    for line in txt:
        words = line.strip().split("@@@")
        for word in words:
            writer.writerow((id, word.strip()))
            id += 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can combine <code>split("@@@")</code> and <code>enumerate(iterable,start_index)</code> in conjunction with a generator expression:</p>
<pre><code>t = """@@@ I would like to go to school because it's so much fun. Blah Blah Blah Blah. I am having so much fun today. @@@ I am so happy for no reason. Blah Blah Blah Blah Blah. I am having so much fun today."""

# split and enumerate(starting at 1)
# the if conditional inside the generator expression eleminates empty lines  
data = list(enumerate( (x.strip() for x in t.split("@@@") if x.strip()), 1))

print(data)
print("")

import csv
with open("t.txt", "w", newline = "") as csvfile:
    writer = csv.writer(csvfile, delimiter=';')
    writer.writerow(('ID', 'Reporttext'))
    writer.writerows(data)

print( open("t.txt").read())
</code></pre>
<p>Output:</p>
<pre><code># data
[(1, "I would like to go to school because it's so much fun. Blah Blah Blah Blah. I am having so much fun today."), 
 (2, 'I am so happy for no reason. Blah Blah Blah Blah Blah. I am having so much fun today.')]


# file
ID;Reporttext
1;I would like to go to school because it's so much fun. Blah Blah Blah Blah. I am having so much fun today.
2;I am so happy for no reason. Blah Blah Blah Blah Blah. I am having so much fun today.
</code></pre>
<p>Doku:</p>
<ul>
<li><a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow noreferrer">split()</a></li>
<li><a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer">enumerate()</a> </li>
</ul>
</div>
