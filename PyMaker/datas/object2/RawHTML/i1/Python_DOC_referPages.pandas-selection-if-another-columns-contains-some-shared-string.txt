<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/55183604/check-element-wise-for-existence-of-string">check element-wise for existence of string</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>I have following pandas dataframe:</p>
<pre><code>   countryCode   Name   number      myprice prices
           DZ  name1  number1         US.p    nan
           DZ  name1  number1  AU.currency    45
           DZ  name1  number1  DZ.currency    55
           DZ  name1  number1         DZ.p    62
           DZ  name1  number1         AU.p     73
           DZ  name1  number1  US.currency    nan
           AU  name1  number1         US.p    nan
           AU  name1  number1  AU.currency    77
</code></pre>
<p>I would like to select rows only when the string in countryCode lies in the column myprice.</p>
<p>Required:</p>
<pre><code>   countryCode   Name   number      myprice prices
           DZ  name1  number1  DZ.currency     55.0
           DZ  name1  number1         DZ.p     62.0
           AU  name1  number1  AU.currency     77.0
</code></pre>
<p>I tried following:</p>
<pre><code>df = pd.read_clipboard()
df[df.countryCode.isin(df.myprice)]
df[df.myprice.str.contains(df.countryCode.str)]
</code></pre>
<p>I have been trying for a while but to no avail.</p>
<p>How can this be done?</p>
</div>
<div class="post-text" itemprop="text">
<p>looking at your example you can try:</p>
<pre><code>df[df.countryCode.eq(df.myprice.str.split(".").str[0])]

  countryCode   Name   number      myprice  prices
2          DZ  name1  number1  DZ.currency    55.0
3          DZ  name1  number1         DZ.p    62.0
7          AU  name1  number1  AU.currency    77.0
</code></pre>
</div>
<span class="comment-copy">maybe <code>df.apply(lambda x: x['countryCode'] in x['myprice'], axis=1)</code> ?</span>
<span class="comment-copy">Can it be generalized, such as when <code>myprice</code> is <code>currency.DZ</code> ?</span>
<span class="comment-copy"><code>[b in a for a, b in zip(df['myprice'], df['countryCode'])]</code> same what is there in the lined answer. :)</span>
