<div class="post-text" itemprop="text">
<p>I have a problem where the <code>yaxis</code> ticks gets removed when using <code>a0.axhline</code>. I want to draw a line at <code>y = 0</code> but also keep <code>yaxis</code> ticks. How to achieve this?</p>
<p>With axhline: 
<a href="https://i.stack.imgur.com/EL96K.png" rel="nofollow noreferrer"><img alt="With axhline" src="https://i.stack.imgur.com/EL96K.png"/></a></p>
<p>Without axhline:
<a href="https://i.stack.imgur.com/ady30.png" rel="nofollow noreferrer"><img alt="Without axhline" src="https://i.stack.imgur.com/ady30.png"/></a></p>
<p>code:</p>
<pre><code>plt.style.use('ggplot')
f, a0 = plt.subplots(1,1)
a0.axhline(color='dimgray', y='0', alpha=0.3, linestyle='-- ')
a0.set_title("Revolutions Per Minute")
a0.plot (step['time'], step['RPM'], color='royalblue')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You set the position of the line as a string, <code>ax.axhline(y='0', ...)</code>. This will lead to it being interpreted as a category; and because it is the only category on the axis, no further ticklabels are shown. Instead, use numbers:</p>
<pre><code>ax.axhline(y=0, ...)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could set the <code>yticks</code> and <code>yticklables</code> manually:</p>
<pre><code>plt.style.use('ggplot')
f, a0 = plt.subplots(1,1)
a0.axhline(color='dimgray', y='0', alpha=0.3, linestyle='-- ')
a0.set_yticks([1, 2, 3])
a0.set_yticklabels([1, 2, 3])
a0.set_title("Revolutions Per Minute")
a0.plot (step['time'], step['RPM'], color='royalblue')
</code></pre>
<p>Edit: You could also get them from the axis if you plot first and add the line afterwards.</p>
<pre><code>plt.style.use('ggplot')
f, a0 = plt.subplots(1,1)
a0.plot (step['time'], step['RPM'], color='royalblue')
yticks = a0.get_yticks()
a0.set_yticks(yticks)
a0.set_yticklabels(yticks)
a0.axhline(color='dimgray', y='0', alpha=0.3, linestyle='--')
a0.set_title("Revolutions Per Minute")
</code></pre>
</div>
