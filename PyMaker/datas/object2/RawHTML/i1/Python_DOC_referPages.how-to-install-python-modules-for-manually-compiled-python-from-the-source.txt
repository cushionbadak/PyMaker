<div class="post-text" itemprop="text">
<p>I have installed python from the source code because I want to link it to a specific version of openssl that is different from the system's shipped openssl (I am using Ubuntu 18.04). </p>
<p>I used this shell script posted <a href="http://#%20new%20openssl%20install%20curl%20https://www.openssl.org/source/openssl-1.0.2g.tar.gz%20%7C%20tar%20xz%20&amp;&amp;%20cd%20openssl-1.0.2g%20&amp;&amp;%20./config%20shared%20--prefix=/usr/local/%20&amp;&amp;%20make%20&amp;&amp;%20make%20install%20%20#%20Python%20install%20script%20export%20LDFLAGS=%22-L/usr/local/lib/%22%20export%20LD_LIBRARY_PATH=%22/usr/local/lib/%22%20export%20CPPFLAGS=%22-I/usr/local/include%20-I/usr/local/include/openssl%22%20apt-get%20update%20apt-get%20install%20build-essential%20checkinstall%20-y%20apt-get%20install%20libreadline-gplv2-dev%20libncursesw5-dev%20libssl-dev%20libsqlite3-dev%20tk-dev%20libgdbm-dev%20libc6-dev%20libbz2-dev%20-y%20cd%20/home/web/%20wget%20https://www.python.org/ftp/python/2.7.11/Python-2.7.11.tgz%20%7C%20tar%20xzf%20Python-2.7.11.tgz%20&amp;&amp;%20cd%20Python-2.7.11%20%20./configure%20--prefix=/usr/local/%20%20make%20altinstall" rel="nofollow noreferrer">here</a> and installed the desired versions of python and openssl (not that unlike the posted solution, I used <code>make install</code> not <code>altinstall</code>). </p>
<pre><code># new openssl install
curl https://www.openssl.org/source/openssl-1.0.2g.tar.gz | tar xz &amp;&amp; cd openssl-1.0.2g &amp;&amp; ./config shared --prefix=/usr/local/ &amp;&amp; make &amp;&amp; make install

# Python install script
export LDFLAGS="-L/usr/local/lib/"
export LD_LIBRARY_PATH="/usr/local/lib/"
export CPPFLAGS="-I/usr/local/include -I/usr/local/include/openssl"
apt-get update
apt-get install build-essential checkinstall -y
apt-get install libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev -y
cd /home/web/
wget https://www.python.org/ftp/python/2.7.11/Python-2.7.11.tgz | tar xzf Python-2.7.11.tgz &amp;&amp; cd Python-2.7.11 
./configure --prefix=/usr/local/ 
make install
</code></pre>
<p>I got the python and openssl versions I want (python 3.6.5 and OpenSSL 1.1.1a). But the new python can not recognize the modules I had before. </p>
<p>1) How can I install them in the newly manually installed python? </p>
<p>2) I already have python 3.6.5 in my system, when I type python3, it seems to point to the newly installed one. Ho can I use the system one?</p>
<p>EDIT:</p>
<p>I installed python3.6.5 in the Download directory. From inside the Downloads, I run:</p>
<pre><code>~/Downloads$ pip3 install requests --target=Python-3.5.6
</code></pre>
<p>I get error:</p>
<pre><code>Collecting requests
  Using cached https://files.pythonhosted.org/packages/7d/e3/20f3d364d6c8e5d2353c72a67778eb189176f08e873c9900e10c0287b84b/requests-2.21.0-py2.py3-none-any.whl
Collecting certifi&gt;=2017.4.17 (from requests)
  Using cached https://files.pythonhosted.org/packages/60/75/f692a584e85b7eaba0e03827b3d51f45f571c2e793dd731e598828d380aa/certifi-2019.3.9-py2.py3-none-any.whl
Collecting chardet&lt;3.1.0,&gt;=3.0.2 (from requests)
  Using cached https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl
Collecting idna&lt;2.9,&gt;=2.5 (from requests)
  Using cached https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl
Collecting urllib3&lt;1.25,&gt;=1.21.1 (from requests)
  Using cached https://files.pythonhosted.org/packages/62/00/ee1d7de624db8ba7090d1226aebefab96a2c71cd5cfa7629d6ad3f61b79e/urllib3-1.24.1-py2.py3-none-any.whl
Installing collected packages: certifi, chardet, idna, urllib3, requests
Exception:
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/pip/basecommand.py", line 215, in main
    status = self.run(options, args)
  File "/usr/lib/python3/dist-packages/pip/commands/install.py", line 360, in run
    prefix=options.prefix_path,
  File "/usr/lib/python3/dist-packages/pip/req/req_set.py", line 784, in install
    **kwargs
  File "/usr/lib/python3/dist-packages/pip/req/req_install.py", line 851, in install
    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)
  File "/usr/lib/python3/dist-packages/pip/req/req_install.py", line 1064, in move_wheel_files
    isolated=self.isolated,
  File "/usr/lib/python3/dist-packages/pip/wheel.py", line 247, in move_wheel_files
    prefix=prefix,
  File "/usr/lib/python3/dist-packages/pip/locations.py", line 153, in distutils_scheme
    i.finalize_options()
  File "/usr/lib/python3.6/distutils/command/install.py", line 274, in finalize_options
    raise DistutilsOptionError("can't combine user with prefix, "
distutils.errors.DistutilsOptionError: can't combine user with prefix, exec_prefix/home, or install_(plat)base
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>1) If the location of installed python package is <code>/path/to/python</code>, you can install modules to it with <code>pip install module --target=/path/to/python</code></p>
<p>2) For example, make a <a href="https://askubuntu.com/questions/17536/how-do-i-create-a-permanent-bash-alias">permanent bash alias</a> <code>python3 = '/path/to/old/python3'</code> </p>
</div>
<span class="comment-copy">use virtual environment</span>
<span class="comment-copy">Can you see the edited post please?</span>
<span class="comment-copy">Maybe you can find some information about this error <a href="https://stackoverflow.com/questions/4495120/combine-user-with-prefix-error-with-setup-py-install">here</a> and <a href="https://askubuntu.com/questions/924564/installing-python-packages-using-pip">here</a></span>
