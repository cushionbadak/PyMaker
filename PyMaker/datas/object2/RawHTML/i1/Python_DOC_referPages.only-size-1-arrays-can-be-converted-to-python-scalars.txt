<div class="post-text" itemprop="text">
<p>I was trying to practice python image pixel color histogram </p>
<pre><code>import cv2
import numpy as np
import matplotlib.pyplot as plt


img = cv2.imread('image.jpg')


gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)


hist = cv2.calcHist([gray], [0], None, [256], [0, 256])


plt.bar(range(1,257), hist)
plt.show()
</code></pre>
<p>and it gives an error</p>
<pre><code>Traceback (most recent call last):
  File "C:/Users/jmu/Desktop/123.py", line 15, in &lt;module&gt;
    plt.bar(range(1,257), hist)
  File "C:\Users\jmu\AppData\Local\Programs\Python\Python37-32\lib\site-packages\matplotlib\pyplot.py", line 2457, in bar
    **({"data": data} if data is not None else {}), **kwargs)
  File "C:\Users\jmu\AppData\Local\Programs\Python\Python37-32\lib\site-packages\matplotlib\__init__.py", line 1810, in inner
    return func(ax, *args, **kwargs)
  File "C:\Users\jmu\AppData\Local\Programs\Python\Python37-32\lib\site-packages\matplotlib\axes\_axes.py", line 2296, in bar
    label='_nolegend_',
  File "C:\Users\jmu\AppData\Local\Programs\Python\Python37-32\lib\site-packages\matplotlib\patches.py", line 658, in __init__
    Patch.__init__(self, **kwargs)
  File "C:\Users\jmu\AppData\Local\Programs\Python\Python37-32\lib\site-packages\matplotlib\patches.py", line 87, in __init__
    self.set_linewidth(linewidth)
  File "C:\Users\jmu\AppData\Local\Programs\Python\Python37-32\lib\site-packages\matplotlib\patches.py", line 348, in set_linewidth
    self._linewidth = float(w)
TypeError: only size-1 arrays can be converted to Python scalars
</code></pre>
<p>HOW can I fix it</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>plt.bar(range(1,257), hist.reshape(256))
</code></pre>
<p>Or if you want to avoid hard coding number</p>
<pre><code>plt.bar(range(len(hist)), hist.reshape(-1))
</code></pre>
<p>Signature of bar is </p>
<p><code>matplotlib.pyplot.bar(x, height, width=0.8, bottom=None, *, align='center', data=None, **kwargs)</code></p>
<p><code>height : scalar or sequence of scalars</code></p>
<p><a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.bar.html" rel="nofollow noreferrer">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.bar.html</a></p>
<p>So reshape your height to a sequence.</p>
</div>
