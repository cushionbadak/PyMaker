<div class="post-text" itemprop="text">
<p>I am trying to open csv files (two) and subtract values from two columns from those two files. I call the data into arrays, and then use a map and operator.sub to get this, but I am getting stuck on outputting that data as print or as another csv.</p>
<p>I have data in the form of two columns - a1, b1 and a2, b2 in two files. I want to find subtract b2(i) and b1(i), and make a new csv file with the difference "b". Data values are a bit large to copy here. For example, 1,10, /n 2, 15 /n 3 20, etc. and 1,20 /n 2,20 /n 3, 30. I should get 5, 5, 10 as output list or as an array or even as an output file.</p>
<p>My problem - I am not getting any output, but error saying "list" is not callable. I searched through a lot of details on the built-in function matter, but still don't know where I am messing up.</p>
<pre><code>import csv
try:
    from itertools import imap
except ImportError:
    # Python 3...
    imap=map
from operator import sub

a = []
b = []
c = []

with open('1.csv') as csvDataFile:
    csvReader = csv.reader(csvDataFile)
    for row in csvReader:
        a.append(row[1])

with open('2.csv') as csvDataFile:
    csvReader = csv.reader(csvDataFile)
    for row in csvReader:
        b.append(row[1])

c = list(imap(sub, a, b))

print(c)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just create an output file and put data inside </p>
<p>You may use <code>pandas</code> or just current <code>csv</code> lib</p>
<pre><code>with open('my_output.csv', mode='w') as output_file:
    writer = csv.writer(output_file, delimiter=',', quotechar='"', quoting=csv.QUOTE_MINIMAL)

    writer.writerow(['John Smith', 'Accounting', 'November'])
</code></pre>
</div>
<span class="comment-copy">Where about does the problem lie? Is it only in creating the output csv file? If so you can probably narrow the scope of your issue by providing the data you want written to the output, instead of all the code to produce it, which you know works ok. If its a bit long just provide a small sample.</span>
<span class="comment-copy">I agree with @PaulRooney, I did not find any issues in the codes above, if you just want to output a new csv file, it is better to re-edit your question to make it clear. Regards.</span>
<span class="comment-copy">Thanks. I have data in the form of two columns - a1, b1 and a2, b2 in two files. I want to find subtract b2(i) and b1(i), and make a new csv file with the difference "b". Data values are a bit large to copy here. For example, 1,10, /n 2, 15 /n 3 20, etc. and 1,20 /n 2,20 /n 3, 30. I should get 5, 5, 10 as output list.</span>
<span class="comment-copy">@Dr.Viper can I suggest that you add this information to your question? It's much easier understand when its well formatted. Also the full traceback error would be useful. Another thing you realise using imap is a bit pointless if you are going to convert it straight to a list :)</span>
<span class="comment-copy">Is it possible that you have accidentally redefined <code>list</code> by assigning a value to it at some point? Have you tested in a freshly restarted kernel? This code looks like it should work.</span>
