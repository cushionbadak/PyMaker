<div class="post-text" itemprop="text">
<p>I've just learnt that to clear a line that you printed in Python, do this:
sys.stdout.write('\x1b[2K')</p>
<p>Why is it so complicated? what does that weird code mean? and is there any alternative in print command?</p>
<p>Print does offer "end" option that allows to go back and forth in lines, but no way to clear what you printed. Overwriting via \r doesn't always work especially if the new line is shorter than the old one. You will get traces from the old line, so I need clearing first.
Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>\x1b[2K</code> is what's known as an <a href="https://en.wikipedia.org/wiki/ANSI_escape_code" rel="nofollow noreferrer">ANSI terminal control sequence</a>. They are a legacy of the 1970s and still used today (but vastly extended) to control terminal emulators.</p>
<p><code>\x1b</code> is the ASCII for ESCAPE (literally the ESC key on your keyboard). <code>[2K</code> is the command "erase the current line".</p>
<p>There are many libraries in Python for working with the terminal, such as <a href="http://urwid.org/" rel="nofollow noreferrer">Urwid</a>. These libraries will hide the inner workings of the terminal from you and give you higher-level constructs to create TUIs.</p>
</div>
<div class="post-text" itemprop="text">
<h1>Alternative to print on a single line</h1>
<p>I have a script that prints the x, y coordinates of the mouse as such:</p>
<pre><code>import pyautogui
import time
while True:
    x, y = pyautogui.position()
    position_string = "X: {} Y: {}".format(str(x).rjust(4), str(y).rjust(4))
    print(position_string, end='')
    print('\b' * len(position_string), end='', flush=True)
    time.sleep(1)
</code></pre>
<p>Where I will point out that you can print the backspace character ('\b') the amount of times that there are characters on the screen (<code>len(position_string)</code>), and when used with the <code>end=''</code> and <code>flush=True</code> options this will constantly print on a single line within your console. I should also note that this does not work in IDLE, but only on an actual command line! In IDLE the backspace characters are actually printed as some weird square shape...</p>
</div>
<div class="post-text" itemprop="text">
<p>This is called <a href="https://en.wikipedia.org/wiki/ANSI_escape_code" rel="nofollow noreferrer">ANSI escape code</a> . <code>2K</code> is the name for <code>Erase in Line</code>. Quote from the link:</p>
<blockquote>
<p>Erases part of the line. If n is 0 (or missing), clear from cursor to the end of the line. If n is 1, clear from cursor to beginning of the line. If n is 2, clear entire line. Cursor position does not change.</p>
</blockquote>
<p>You can also try <code>echo -e '\x1b[2k'</code> in the terminal for better understanding.</p>
</div>
<div class="post-text" itemprop="text">
<p>However, there is a much more efficient way of doing this:
You can use the print() command as usual, and delete the screen using </p>
<pre><code>os.system("cls") # For Windows
</code></pre>
<p>or</p>
<pre><code>os.system("clear") # For Linux
</code></pre>
</div>
<span class="comment-copy">Good. I'll check out that library.</span>
<span class="comment-copy">Nice trick, but you have keep track of how much you printed so you later press enough back spaces to erase them. A headache if you are in a hurry.</span>
<span class="comment-copy">I'm not sure why this was down voted. I wouldn't say it is more efficient, but it would clear the screen...</span>
<span class="comment-copy">@Reedinationer I've just tried it in Jupyternotebook, didn't work. It returned 0. And it didn't clear anything. Besides, I don't want to clear everything.</span>
<span class="comment-copy">@Alex Oh OK. I think you are supposed to leave comments when you downvote so the poster can know what was wrong and possibly edit it to fix the post. Plus people that visit the site in the future can read what the issues were with a certain piece of code :)</span>
<span class="comment-copy">@Reedinationer It wasn't me, sorry. I am a newcomer and I'm not allowed to vote. Thank you anyway.</span>
