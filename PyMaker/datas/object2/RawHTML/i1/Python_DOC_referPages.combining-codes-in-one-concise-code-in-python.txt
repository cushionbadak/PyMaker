<div class="post-text" itemprop="text">
<p>I have a dataset :</p>
<pre><code>df = pd.DataFrame({ 
    'region'  : ['a', 'a', 'a','b','b','b','c','c','c','c','d','d','d','f','f','f','f','g','g','g','g','g'],
    'month' : [8,9,10,12,1,2,8,9,10,11,10,11,12,1,2,3,4,8,9,10,11,12],
    'incident_count' : [5,7,3, 34,23,29,5,2,5,4,12,21,15,34,41,35,14,  25,32,43,21,19]})
</code></pre>
<p>I performed the following operations:</p>
<pre><code>df = df.groupby(['region', 'month']).incident_count.sum().reset_index()
</code></pre>
<p>calculated the slope per region :</p>
<pre><code>from scipy.stats import linregress

df1 = df.groupby('region').apply(lambda v: linregress(v.month, v.incident_count)[0]).reset_index()
</code></pre>
<p>Now I want to have these codes on one line of code. How can i do that?</p>
</div>
<div class="post-text" itemprop="text">
<p>I am not too sure why you would want to write a one-liner since it would look huge.</p>
<p>The obvious answer would be just to pipe the two lines you wrote</p>
<pre><code>df.groupby(['region', 'month']).incident_count.sum().reset_index().groupby('region').apply(lambda v: linregress(v.month, v.incident_count)[0]).reset_index()
</code></pre>
<p>You could give us more info on what exactly you are trying to do</p>
</div>
<span class="comment-copy">what do you mean by 'one concise code' ? just one line of code?</span>
<span class="comment-copy">I want to add this to a dashboard later and I am being asked to try to get the same information with just one line of code. I am new to this and still wondering around. If you have any other opproach this I'd like to hear it.</span>
