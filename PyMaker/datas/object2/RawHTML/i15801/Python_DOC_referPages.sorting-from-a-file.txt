<div class="post-text" itemprop="text">
<p>I'm attempting to read values from a file and then sort them, and then rewriting the values back to the file. The file contains the following syntax for the value: <code>NAME, SCORE/10</code>. Each new value begins on a new line e.g:</p>
<pre><code>TEST, 5/10
TEST2, 2/10
</code></pre>
<p>Currently, I have the sorting of A - Z working. However, I am having difficulty sorting via the values. Could anybody help me with sorting from Highest Num - Lowest Num? (10 - 0)</p>
<p>The code I have currently to read the Values is this:</p>
<pre><code>def splitList(alist):
    a = []
    i = 0
    for i in range(alist.count("\n")):
        a = a.append(alist[:])
        i =+ 1
    return a
</code></pre>
<p>And this is what I have to sort from Highest to Lowest:</p>
<pre><code>def sortFile(filePath, mode = "ABC"):
    if mode == "321":
        try:
            f = open(filePath, "r")
            try:
                lines = f.readlines()
                print(lines)
                lines = lines.sort(key=lambda x: x[2], reverse=True)
                print(lines)
                f.close()
                f = open(filePath, "w")
                f.writelines(lines)
            finally:
                f.close()
        except IOError:
            pass
        return True
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Pseudocode, do not attempt to copy paste. Write a function that strips the string values for sorting functions inside the sorting method, then return which one is superior.</p>
<pre><code>def sort(line1, line2) {
  //strip the lines for their values, then compare and return value
  returns 1 if line1 &gt; line2, -1 if line1 &lt; line2, 0 if line1 == line2
}

for(int i = 0; i &lt; arraylength, i++) {
 line1 = array[i];
 line2 = array[i+1];
 placeholderline = null;
 int ordering = sort(line1, line2);
 if(ordering = 1) {
  placeholderline = line2;
  array[i+1] = line1;
  array[i] = line2;
 }     
</code></pre>
<p>//ordering is already ok if they are equal or 1 is smaller than 2 depending on ascending/descending</p>
<p>Does this help? I am not a python expert so it's hard for me to provide python specific answers but the principle is the same.</p>
</div>
<div class="post-text" itemprop="text">
<p>Define sorting criteria however you like:</p>
<pre><code>def key_az_reverse_numeric(line):
    alpha, sep, score10 = line.partition(',')
    score10 = score10.strip()
    if sep and score10.endswith('/10'): 
       try:
           return alpha.strip(), -int(score10[:-len('/10')])
       except ValueError:
           pass
    return '', float('-inf') # default
</code></pre>
<p>And use it to sort the file:</p>
<pre><code>def sort_file(filename):
    with open(filename) as file:
        lines = file.readlines() # assume the last line has newline
    lines.sort(key=key_az_reverse_numeric)
    with open(filename, 'w') as file:
        file.writelines(lines)
</code></pre>
<p>To sort a large file that do not fit in memory, you could <a href="https://stackoverflow.com/a/16954837/4279">sort the file in small batches and merge the sorted results</a>.</p>
<p>To find out what <code>line.partition(',')</code> means you could search google using keywords: <code>python partition</code>. The first result points to the Python docs for <code>str.partition</code> method. <code>line</code> is a string so it looks like what we need. <a href="https://docs.python.org/3/library/stdtypes.html#str.partition" rel="nofollow noreferrer">Click the link.</a></p>
</div>
<span class="comment-copy">But what is you 'difficulty'? Does the program sort anything, but results are incorrect? Does it drop some data or duplicates it? Does it run at all?</span>
<span class="comment-copy">@CiaPan the problem is this (High - Low) <code>f.writelines(lines) TypeError: 'NoneType' object is not iterable</code></span>
<span class="comment-copy">So the problem is the <code>lines</code> object returned from <code>sort()</code> is not proper. But didn't <code>print()</code> complain about it earlier? Could you add example - what data you try to sort, what was the printout of the data before and after <code>sort()</code>?</span>
<span class="comment-copy">@CiaPan It returns all the lines of the text file as a list seperated by the commas but, after the sort, it then returns <code>none</code></span>
<span class="comment-copy">...and now you can ask the right question: "what's wrong with my call to <code>sort()</code> and how can I correct it".</span>
<span class="comment-copy">Could you please explain what the line <code>alpha, sep, score10 = line.partition(',')</code> means please? I understand that you're splitting the string, but why do you need 3 variables to carry this value?</span>
<span class="comment-copy">@artman41: I've added instructions how to find out what is <code>line.partition()</code>.</span>
<span class="comment-copy">ah, makes a lot more sense now - need 3 variables, one for each part of the tuple</span>
