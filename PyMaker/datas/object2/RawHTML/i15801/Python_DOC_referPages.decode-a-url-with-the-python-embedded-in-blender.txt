<div class="post-text" itemprop="text">
<p>I have this trouble:
I'm working in a script for Blender, that takes an text who comes from a URL and make a 3D object of the text.</p>
<p>This text could be written in any language for example: Spanish, English, Russian, Arabic, Chinese, others...</p>
<p>And for have in mind, the Python that comes with Blender, doesn't have all libraries, in particular doesn't have urllib. Also I can't install any external libraries.</p>
<p>So I copied and pasted the unquote function in my code to transform the text. And here started the troubles.</p>
<p>For example if I get: </p>
<p><code>'Hello%20World'</code> after the unquote I get <code>'Hello World'</code> and it's fine.</p>
<p>But if the text is:</p>
<p><code>'%C3%A1%20%C3%A9%20%C3%AD%20%C3%B3%20%C3%BA'</code></p>
<p>After the unquote is <code>'Ã¡ Ã© Ã­ Ã³ ÃºÃ¡ Ã© Ã­ Ã³ Ãº'</code> And what I wanted is : <code>'á é í ó ú'</code></p>
<p>And finally if I have this text:</p>
<p><code>'%D9%86%D9%86%D8%AA%D9%8A%D9%84%D8%AA%D9%8A%D8%A8%D9%88%D8%AA'</code> </p>
<p>Which is decoded into <code>'ÙÙØªÙÙØªÙØ¨ÙØªÙÙØªÙÙØªÙØ¨ÙØª'</code>, but I expect: <code>'ننتيلتيبوت'</code> </p>
<p>As far as I researched, the problem is the encoding of the string, because if I do this:</p>
<pre><code>userText = unquote('%C3%A1%20%C3%A9%20%C3%AD%20%C3%B3%20%C3%BA').encode('latin-1').decode('utf-8')
</code></pre>
<p>The string is converted correctly and I get : <code>'á é í ó ú'</code>. But in the case the text be arabic, this doesn't work. 
And I didn't figure out what's it's the correctly encode for Arabic text, because those that appear en <a href="https://docs.python.org/3/library/codecs.html#standard-encodings" rel="nofollow">encoding python documentation</a> didn't worked.</p>
<p>Anyway the problem it's more general, because I don't have chances to know how is the text, I only have the part of the url where the text lies.</p>
<p>The curious fact is that hardcoding the string in any type of text in my code, works properly.</p>
<p>So, anyone knows a way to properly encode and decode this URL to a string in the right way ?</p>
<p>Thanks,</p>
<p>Gonza.</p>
</div>
<div class="post-text" itemprop="text">
<p>I figured out, that the problem was work with an outdated <a href="http://www.opensource.apple.com/source/python/python-3/python/Lib/urllib.py" rel="nofollow">urllib</a>.</p>
<p>Recently I tried with the urllib for Python 3 that lies in my computer and worked perfectly. Was my mistake for no checking what I was using.</p>
<p>And I managed to import the parse.py in my code :D </p>
<p>Now I only do <code>userText = parse.unquote(url)</code></p>
</div>
<span class="comment-copy">You should always check for that kind of things @gjg.</span>
