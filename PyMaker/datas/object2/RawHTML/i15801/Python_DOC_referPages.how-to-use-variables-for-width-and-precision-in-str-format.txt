<div class="post-text" itemprop="text">
<p>How can I use a variable in the str.format() specification for width and precision?</p>
<p>(I'm in Python 3.)</p>
<p>This works fine:</p>
<pre><code>print('    {:&lt;127.127}  {:&lt;}'.format(value[1], value[0]))
</code></pre>
<p>But this gives an error:</p>
<pre><code>SHOWLEN = 127
print('    {:&lt;SHOWLEN.SHOWLEN}  {:&lt;}'.format(value[1], value[0]))
</code></pre>
<p>Specifically, I get:</p>
<pre><code>Traceback (most recent call last):

  File "C:\Users\Dave\Desktop\index\treeIndex.py", line 101, in &lt;module&gt;
    treeIndex(sys.argv[1])

  File "C:\Users\Dave\Desktop\index\treeIndex.py", line 96, in treeIndex
    print('    {:&lt;SHOWLEN.SHOWLEN}  {:&lt;}'.format(value[1], value[0]))

ValueError: Invalid format specifier
</code></pre>
<p>How can I use a variable for the precision and width?</p>
</div>
<div class="post-text" itemprop="text">
<p>try</p>
<pre><code>print(('    {:&lt;' + str(SHOWLEN) + '.' 
    + str(SHOWLEN) +'}  {:&lt;}').format(value[1], value[0]))
</code></pre>
<p>This builds a format string from the variable value.</p>
</div>
<div class="post-text" itemprop="text">
<p>Encase <code>SHOWLEN</code> in brackets</p>
<pre><code>"{varname:&lt;{SHOWLEN}.{SHOWLEN}f}".format(varname=34.54, SHOWLEN=8)
</code></pre>
<p>This is evident from the following quote from the <a href="https://docs.python.org/3/library/string.html#formatstrings" rel="nofollow">Format String Syntax</a> documentation:</p>
<blockquote>
<p>A format_spec field can also include nested replacement fields within
  it. These nested replacement fields can contain only a field name;
  conversion flags and format specifications are not allowed. The
  replacement fields within the format_spec are substituted before the
  format_spec string is interpreted. This allows the formatting of a
  value to be dynamically specified.</p>
</blockquote>
</div>
<span class="comment-copy">Thanks, but why does that matter?</span>
<span class="comment-copy">It's how the spec works. I've updated my answer with a quote and reference.</span>
