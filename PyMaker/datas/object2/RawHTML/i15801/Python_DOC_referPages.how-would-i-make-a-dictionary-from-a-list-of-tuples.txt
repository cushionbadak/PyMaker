<div class="post-text" itemprop="text">
<p>How would I go about making a dictionary from a list like this:</p>
<pre><code>list = [('a', [10,3]), ('a', [30,20]), ('b', [96,45]), ('b', [4,20])]
</code></pre>
<p>The result I want is:</p>
<pre><code>dict = { 'a':[10,3,30,20], 'b':[96,45,4,20] }
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="noreferrer"><code>collections.defaultdict</code></a> for this:</p>
<pre><code>&gt;&gt;&gt; from collections import defaultdict
&gt;&gt;&gt; lst = [('a', [10,3]), ('a', [30,20]), ('b', [96,45]), ('b', [4,20])]
&gt;&gt;&gt; dct = defaultdict(list)
&gt;&gt;&gt; for x, y in lst:
...     dct[x] += y
...
&gt;&gt;&gt; dct
defaultdict(&lt;class 'list'&gt;, {'a': [10, 3, 30, 20], 'b': [96, 45, 4, 20]})
&gt;&gt;&gt;
</code></pre>
<p>Or, if you want to avoid the import, try <a href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" rel="noreferrer"><code>dict.setdefault</code></a>:</p>
<pre><code>&gt;&gt;&gt; lst = [('a', [10,3]), ('a', [30,20]), ('b', [96,45]), ('b', [4,20])]
&gt;&gt;&gt; dct = {}
&gt;&gt;&gt; for x, y in lst:
...     dct.setdefault(x, []).extend(y)
...
&gt;&gt;&gt; dct
{'a': [10, 3, 30, 20], 'b': [96, 45, 4, 20]}
&gt;&gt;&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This also works: (it assumes your items are already sorted by key. If not, then just used <code>sortedi(items)</code> instead)</p>
<pre><code>from itertools import groupby
from operator import itemgetter

items = [('a', [10,3]), ('a', [30,20]), ('b', [96,45]), ('b', [4,20])]
d = dict((key, sum((list_ for _key, list_ in group), []))
    # for each group create a key, value tuple. with the value being the
    # concatenation of all the lists in the group. eg. [10, 3] + [30, 20]
    for key, group in groupby(items, itemgetter(0)))
    # group elements in items by the first item in each element
</code></pre>
</div>
<span class="comment-copy">Ah, just a bit quicker than me!</span>
<span class="comment-copy">Wow! that makes a lot of sense. Thanks for the quick answer too</span>
<span class="comment-copy">Small warning: a <code>defaultdict</code> doesn't act completely like a <code>dict</code> - so you may wish to <code>dict()</code> it before using it after you've done this.</span>
