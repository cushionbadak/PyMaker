<div class="post-text" itemprop="text">
<pre><code>import filecmp

user = 't'
con = open(user + '.txt','a')
new = open(user + 'newfile.txt','a')
if filecmp.cmp(con, new) == True:
   print('good')
else:
    print('bad')
</code></pre>
<p>The files t.txt and tnewfile.txt both have the letter w in them.
Why does it throw a TypeError? </p>
<pre><code>TypeError: coercing to Unicode: need string or buffer, file found
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/filecmp.html#filecmp.cmp" rel="nofollow"><code>filecmp.cmp()</code></a> function takes file <strong>names</strong>, i.e. strings, not open file objects.</p>
<p>The following should work:</p>
<pre><code>user = 't'
con = user + '.txt'
new = user + 'newfile.txt'
if filecmp.cmp(con, new):
    print('good')
else:
    print('bad')
</code></pre>
<p>Note that you don't need to use <code>== True</code> here; that's entirely redundant and even prone to errors.</p>
</div>
<span class="comment-copy">As a side note, why are you opening the files in <code>a</code> mode if you just want to read them? Depending on your platform, this may immediately start you at the end of the file, or even jump back to the end of the file after every operation (either way, meaning you'll be comparing the final 0 bytes of each file, which isn't very interesting). This isn't your actual problem here, but if your actual problem didn't exist, it would mean you always print <code>'good'</code>.</span>
<span class="comment-copy">Thank you very much, my group and I have been stuck on that for a while.</span>
