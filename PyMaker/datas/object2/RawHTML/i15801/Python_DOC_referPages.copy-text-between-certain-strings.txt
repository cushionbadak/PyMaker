<div class="post-text" itemprop="text">
<p>I have a ~8MB file that I want to split up. The file is structured like this:</p>
<pre><code>XYZ DATA 
File01
...
...
...
XYZ DATA
File02 
...
</code></pre>
<p>In this file I have ~50 so called-headers, which is the <code>XYZ DATA File01</code> and so on. Between those headers is an undefined amount of text. I want to split up every header + following text in a single file. Therefore I am looking for the <code>XYZ DATA</code>, because this is always repeating in the original file. Every new file should have a filename matching the string in the second row after <code>XYZ DATA</code>.</p>
<p>I was able to identify the rows with <code>XYZ DATA</code>, but then I only know how to write this line into a new file, but I want to write everything starting from <code>XYZ DATA</code> to the next <code>XYZ DATA</code> into a new file.</p>
<p>For me this is a difficult thing to do. I don't want to have here the complete code for this, I want to have some hints. Does anyone have an idea what I have to do. Maybe a tutorial where I can look it up?</p>
</div>
<div class="post-text" itemprop="text">
<p>You should have a state variable. The variable can have one of three states (can be integer values that represent the state)</p>
<ul>
<li>starting - the state your program has initially
<li>new file - you have just read a XYZ DATA line
<li>processing - you have read any line that is not an XYZ DATA
</li></li></li></ul>
<p>While you loop through the file you set the state variable to a state. Initially it is "starting". When you read an XYZ DATA line, set the state to "new file" (the state could be an integer and some value like 2 represents "new file". When you set the state to "new file", save that line and if the state was not currently "starting" then close the output file. When you read a line and the state is "new file" set the state to "processing" and use the string split command to get the first field on that line. Use that filename to open the file and write the saved XYZ line and the current line. After the loop close your open files.</p>
</div>
<span class="comment-copy">We don't really do <i>"some hints"</i> here, and recommendations for tutorials (and other off-site resources) are explicitly off-topic.</span>
<span class="comment-copy">- read the file - split the file whenever you find "XYZ DATA". Then loop through the list, and store them in seperated small files</span>
<span class="comment-copy">Thanks for your answer, I read some tutorials and I think I know how to use state variables :) My issue know is, that between my XYZ DATA I have char like this: '£˜ŒìšÄ2¡ÄY•È“‘Àå' It some kind of code which python cannot read, but by an hex editor. At least I cannot print or copy it with python. Is there any possibility to make python copy that stuff to a different file?</span>
<span class="comment-copy">@user3429343 The data may be in Unicode which Python doesn't appear to handle automatically. See <a href="https://docs.python.org/2/howto/unicode.html" rel="nofollow noreferrer">docs.python.org/2/howto/unicode.html</a> or <a href="https://docs.python.org/3/howto/unicode.html" rel="nofollow noreferrer">docs.python.org/3/howto/unicode.html</a> . If it is Unicode there are editors that should be able to read it. If a Unicode-aware editor chokes on it, it may be some kind of binary data, in which case you will have to read/write the file with binary-file input/output routines.</span>
