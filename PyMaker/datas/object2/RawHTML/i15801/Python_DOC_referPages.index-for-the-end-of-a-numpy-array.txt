<div class="post-text" itemprop="text">
<p>I have a function that loads some data into a 2D numpy array. I want to let the function call specify a number of rows and columns that can be removed from the beginning and the end. If no parameter is specified, it returns all the data.</p>
<pre><code>import numpy as np
function load_data(min_row, max_row, min_col, max_col):
    a = np.loadtxt('/path/to/mydata.txt')[min_row:max_row,min_col:max_col]
</code></pre>
<p>Now, <code>min_row</code> and <code>min_col</code> could default to <code>0</code>. How can I set the defaults for <code>max_col</code> and <code>max_row</code> to refer to the end of the array?</p>
<p>My only solution is:</p>
<pre><code>function load_data(min_row=0, max_row=None, min_col=0, max_col=None):
    a = np.loadtxt('/path/to/mydata.txt')
    if not max_row: max_row = a.shape[0]
    if not max_col: max_col = a.shape[1]
    a = a[min_row:max_row,min_col:max_col]
</code></pre>
<p>Is there a better solution, something like:</p>
<pre><code>function load_data(min_row=0, max_row="end", min_col=0, max_col="end"):
    a = np.loadtxt('/path/to/mydata.txt')[min_row:max_row,min_col:max_col]
</code></pre>
<p>For the record, example data could be:</p>
<pre><code>np.array([[1, 2, 3, 4, 5],
          [1, 2, 3, 4, 5],
          [1, 2, 3, 4, 5],
          [1, 2, 3, 4, 5],
          [1, 2, 3, 4, 5]])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can just use <code>None</code> directly in the slice, for example,</p>
<pre><code>x = np.arange(10)
x[2:None]    # array([5, 6, 7, 8, 9])
</code></pre>
<p>or you could write your function like:</p>
<pre><code>function load_data(min_row=0, max_row=None, min_col=0, max_col=None):
    a = np.loadtxt('/path/to/mydata.txt')
    a = a[min_row:max_row,min_col:max_col]
</code></pre>
<p>Here, you could also replace you min defaults with <code>None</code> too.  This works because <code>None</code> is used as the defaults in the <a href="https://docs.python.org/3/library/functions.html#slice" rel="nofollow">slice object</a>.  For more explicit docs on using <code>None</code> in numpy slicing, see the Note box at the end of the <a href="http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#basic-slicing" rel="nofollow">Basic Slicing docs description</a>.</p>
</div>
<span class="comment-copy">you can also just omit the <code>None</code> leading to <code>x[2:]</code> and <code>a[min_row:, min_col:]</code></span>
