<div class="post-text" itemprop="text">
<p>I am loading the source code of a web page as a string and then want to search that string for a specific phrase.</p>
<p>This is what I have so far:</p>
<pre><code>from urllib import request
r = request.urlopen("http://www.dsfire.gov.uk/News/Newsdesk/IncidentsPast7days.cfm?    siteCategoryId=3&amp;T1ID=26&amp;T2ID=35")
bytecode = r.read()
htmlstr = bytecode.decode() #htmlstr is now source code for page

if htmlstr.find("Todays Incidents of Interest (0)")
    print("no incidents today")
</code></pre>
<p>I want to see if there have been any incidents today - if there haven't, there is no need to continue. I have waited until I know the number of incidents is greater than <code>0</code> (by going to the site and manually monitoring) but I still get it found; what am I doing wrong?</p>
<p>Or is there a way of grabbing that phrase and seeing what the number is in the brackets? This might be useful, as I will set up a loop later based on that number.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/stdtypes.html#str.find" rel="nofollow"><code>string.find()</code></a> returns -1 on failure, not false.</p>
</div>
<span class="comment-copy">We need more informations : What's the language ? Some variable types are missing... tell us more</span>
<span class="comment-copy">You should use an HTML parser (BeautifulSoup is one of Python's most popular).</span>
<span class="comment-copy">sorry its Python i thought i'd put that, there is a lot missing from the code as i'm just starting. Basically i'm making an mobile app that will load up incidents from the page i've included in the post for particular fire stations, for example the user will have a drop down list with all fire stations in devon and somerset and they pic theirs, the app searches through the links on the newsdesk and displays any incidents with that station</span>
<span class="comment-copy">yeah thanks that helps! i will look into beautifulsoup thanks for your time</span>
<span class="comment-copy">thanks for looking but that doesn't really help me with my questions</span>
<span class="comment-copy">You were wondering why your conditional isn't working. I'm letting you know that when the string isn't found (right now for example), your <code>find()</code> call is returning <code>-1</code>. Which isn't a false value. So your call should be either <code>if htmlstr.find("Todays Incidents of Interest (0)") != -1:</code> or <code>if "Todays Incidents of Interest (0)" in htmlstr:</code></span>
<span class="comment-copy">oh ok just saw the entire post lol thans that will help me alot!</span>
<span class="comment-copy">@Raif this answers your direct question - your real issue appears to be something else completely though... I'd suggest using <a href="http://docs.python-requests.org/en/latest/" rel="nofollow noreferrer">requests</a> instead of the stdlib for your retrieving data (automatically handles decoding for you, and has a much nicer interface) and <a href="http://www.crummy.com/software/BeautifulSoup/" rel="nofollow noreferrer">BeautifulSoup</a> to parse the elements you want from the <code>select</code> list... You'll end up with 2/3 lines of code in total :) (minus imports)</span>
<span class="comment-copy">Thanks @Jon, I will look into it as it sounds much better to have only three lines of code! is beautifulsoup a library i can import? i saw it had to be installed when i did a quick search</span>
