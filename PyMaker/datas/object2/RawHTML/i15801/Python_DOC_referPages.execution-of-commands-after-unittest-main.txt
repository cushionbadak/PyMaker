<div class="post-text" itemprop="text">
<p>I am calling the following script from another Python script:</p>
<blockquote>
<p>test.py logfile</p>
</blockquote>
<p>It should run the test and save the result in the logfile.
But for some reason the commands after <code>unittest.main(testRunner=runner)</code> are not being executed.
I am not even sure if the file gets closed after writing to it.
Is there another way to script it?!</p>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import Select
from selenium.common.exceptions import NoSuchElementException
from selenium.common.exceptions import NoAlertPresentException
import unittest, time, re, sys

    class SeleniumYahooTest(unittest.TestCase):
        def setUp(self):
            self.driver = webdriver.Firefox()
            self.driver.implicitly_wait(30)
            self.base_url = "https://www.yahoo.com"
            self.verificationErrors = []
            self.accept_next_alert = True
       . 
       .
       .

        def tearDown(self):
            self.driver.quit()
            self.assertEqual([], self.verificationErrors)


if __name__ == '__main__':

if len(sys.argv)&gt;1:
   testcase_name = sys.argv[0]
   result_file = sys.argv[1]
   del(sys.argv[1:])
f = open(result_file, "a")
result_file.write("This is Test " + testcase_name + " " + time.strftime("%c"))
print(testcase_name," is running!!!!")
runner = unittest.TextTestRunner(f)
unittest.main(testRunner=runner)
f.close()
print(testcase_name," is finished!!!!")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/unittest.html#unittest.main" rel="nofollow"><code>unittest.main</code></a> accepts an optional parameter <code>exit</code>. The default value for it is <code>True</code>; cause <code>sys.exit</code> to be called. Explicitly pass <code>False</code> to prevent that.</p>
<pre><code>...
unittest.main(testRunner=runner, exit=False)
...
</code></pre>
</div>
