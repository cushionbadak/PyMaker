<div class="post-text" itemprop="text">
<p>I have a data.CSV file containg the following data</p>
<blockquote>
<p>column1,column2,amount,    column3</p>
<p>name1,empId1,<strong>34.12</strong>,241682-27638-CIGGNT</p>
<p>name2,empId2,<strong>22.14</strong>,241682-27638-OCGGINT</p>
<p>name3,empId3,<strong>18.98</strong>,241942-37190-GGDIV</p>
<p>name4,empId4,<strong>8.98</strong>,241942-37190-GGDIV</p>
<p>name5,empId5,<strong>234.098</strong>,241942-37190-CHYOF</p>
</blockquote>
<p>The <strong>bold</strong> entries is the currency amount.I want to add the <strong>column3</strong> and <strong>amount</strong> entries into a dictionary in python.But if the entry in the column3 repeates it should add the currency amount and insert it into the dictionary.</p>
<p>The output should be as below.</p>
<pre><code>  {'241682-27638-CIGGNT':'34.12','241682-27638-OCGGINT':'22.14','241942-37190-GGDIV':'27.92','241942-37190-CHYOF':'234.098'}
</code></pre>
<p>I tried by the below code but it is just updating(overwriting the currency amount) the previous entry(instead of adding it to the previous amount)</p>
<pre><code>import csv

path = "file_path"

file=open( path +"data.CSV", "r")
reader = csv.reader(file)

counterlist = {}

for row in reader :

    #print row[3]
    #print row[2]
    if counterlist.has_key(row[3]):

        row[2]+=row[3].value
        counterlist.update({row[3]:row[2]})

     else:
         counterlist.update({row[3]:row[2]})

print counterlist
</code></pre>
<p>Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use a <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow">defaultdict</a>:</p>
<pre><code>from collections import defaultdict

# ...

counterlist = defaultdict(float)
for row in reader:
    counterlist[row[3]] += float(row[2])
</code></pre>
</div>
