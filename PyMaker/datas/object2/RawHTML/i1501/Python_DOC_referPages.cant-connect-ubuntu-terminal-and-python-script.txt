<div class="post-text" itemprop="text">
<p>Im trying to use ubuntu terminal through python script.</p>
<p>The script receives the command text(from input() for test), sends it to the terminal, the terminal return the result of the command, script print result in a console.</p>
<p>I already get that I should use subprocess Popen and PIPE, but after inputing 1st command, script print only b'', after 2nd raise error "ValueError: Cannot send input after starting communication"</p>
<p>my test code(yes, its bad):</p>
<pre><code>import subprocess as sb
from subprocess import PIPE, Popen

p=Popen(['gnome-terminal'],stdout=PIPE,stdin=PIPE,stderr=PIPE)

command = 'cmd'
while True:
    command = input()
    out_data, err_data = p.communicate(command.encode())
    print(repr(out_data))
</code></pre>
<p>I know I do it in a wrong way, but can't find right. Sorry for English.Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do this using the os module:</p>
<pre><code>#!/usr/bin/env python

import os
output = os.listdir('path_to_folder')  # output is a list
# Do whatever you want to output
</code></pre>
<p>You can read more about what else the os module can do at <a href="https://docs.python.org/3/library/os.html" rel="nofollow noreferrer">https://docs.python.org/3/library/os.html</a>. Note that the methods in the module are portable across different OSes, so you can in fact use your script outside Ubuntu.</p>
</div>
