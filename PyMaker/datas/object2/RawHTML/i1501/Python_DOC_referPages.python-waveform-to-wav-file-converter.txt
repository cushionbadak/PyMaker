<div class="post-text" itemprop="text">
<p>I am looking for a way to convert a waveform that is composed of time on the x axis and amplitude on the y axis into a wav or any other audio file.  Code or a python library is much appreciated  </p>
<p><a href="https://i.stack.imgur.com/VWdwo.png" rel="nofollow noreferrer">Here is the waveform that I want to convert</a></p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the standard <code>wave</code> library. Here is a function that I use. You can modify it further if you need more channels or a different sample width.</p>
<pre><code>import wave
import struct

def signal_to_wav(signal, fname, Fs):
    """Convert a numpy array into a wav file.

     Args
     ----
     signal : 1-D numpy array
         An array containing the audio signal.
     fname : str
         Name of the audio file where the signal will be saved.
     Fs: int
        Sampling rate of the signal.

    """
    data = struct.pack('&lt;' + ('h'*len(signal)), *signal)
    wav_file = wave.open(fname, 'wb')
    wav_file.setnchannels(1)
    wav_file.setsampwidth(2)
    wav_file.setframerate(Fs)
    wav_file.writeframes(data)
    wav_file.close()
</code></pre>
<p>Some links to the documentation:</p>
<p><a href="https://docs.python.org/3/library/wave.html" rel="nofollow noreferrer">https://docs.python.org/3/library/wave.html</a></p>
<p><a href="https://docs.python.org/2/library/wave.html" rel="nofollow noreferrer">https://docs.python.org/2/library/wave.html</a></p>
</div>
<span class="comment-copy">(str(len(signal)) + 'h') will also work + i think thats more memory efficient.  + i think you should mention my amplitude he means displacement, as a fixed displacement sound wouldn't sound like anything</span>
