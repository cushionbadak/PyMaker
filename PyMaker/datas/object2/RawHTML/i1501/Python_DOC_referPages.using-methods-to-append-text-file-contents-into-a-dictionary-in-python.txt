<div class="post-text" itemprop="text">
<p>So I have a .txt file and I want to use methods within this class, <code>Map</code>, to append its contents into a <code>aDictionary</code>.</p>
<pre><code>class Map:

    def __init__(self, dataText):
        self.dataText = dataText
        self.aDictionary = {}        

dataFile = open('data.txt', 'r')
c1 = Map(dataFile)
</code></pre>
<p>My <code>data.txt</code> file looks something like this:</p>
<blockquote>
<p>hello, world  </p>
<p>how, are</p>
<p>you, today</p>
</blockquote>
<p>and I want <code>aDictionary</code> to print this output:</p>
<pre><code>{how: are, you: today}
</code></pre>
<p>Im not very good at manipulating files as I continue to get type errors and what not. Is there an easy way of performing this task using methods within the class?</p>
</div>
<div class="post-text" itemprop="text">
<p>First you need to read the content of the file. Once you have the content of the file, you could create the dictionary like this (assuming <code>content</code> contains the <em>content</em> of <code>data.txt</code>):</p>
<pre><code>content = """hello, world

how, are

you, today"""

d = {}
for line in content.splitlines():
    if line:
        key, value = map(str.strip, line.split(','))
        d[key] = value

print(d)
</code></pre>
<p><strong>Output</strong></p>
<pre><code>{'you': 'today', 'how': 'are', 'hello': 'world'}
</code></pre>
<p>The idea is to iterate of over the lines using a <code>for</code> loop, then check if the line is not empty (<code>if line</code>), in case the line is not empty, split on comma (<code>line.split(',')</code>) and remove the trailing whitespaces (<code>str.strip</code>) for each of the values in the list using <a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow noreferrer">map</a>.</p>
<p>Or using a <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">dictionary comprehension</a>:</p>
<pre><code>content = """hello, world

how, are

you, today"""

it = (map(str.strip, line.split(',')) for line in content.splitlines() if line)
d = {key: value for key, value in it}
print(d)
</code></pre>
<p>To read the content of the file you can do the following:</p>
<pre><code>content = self.dataText.read()
</code></pre>
<p><strong>Further</strong></p>
<ol>
<li><a href="https://stackoverflow.com/questions/7409780/reading-entire-file-in-python">Reading entire file in Python</a></li>
<li><a href="https://stackoverflow.com/questions/3277503/how-to-read-a-file-line-by-line-into-a-list">How to read a file line-by-line into a list?</a></li>
</ol>
</div>
<span class="comment-copy">I got an error of AttributeError: '_io.TextIOWrapper' object has no attribute 'splitlines' when replacing 'content' with 'self.dataText;</span>
<span class="comment-copy">Because you need to read the content of the file</span>
<span class="comment-copy">Ok that worked! can you please explain how your first method works? Im quite new to dictionaries and file manipulation in python. Thank you so much!</span>
<span class="comment-copy">@CosmicCat Updated the answer!</span>
