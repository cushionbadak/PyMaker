<div class="post-text" itemprop="text">
<p>I'm trying to call a function using a name of a var dinamically, but I don't know if this is possible, something like that:</p>
<pre><code>fight_movies = list() # var how I want to use in function call
win_movies = list() # var how I want to use in function call
knowledge_movies = list() # var how I want to use in function call
biography_movies = list() # var how I want to use in function call

for genre in genres:
    .... Ommited #\/\/\/\/\/\/ Here is where I call the function
    write_jsonl(genre + '_movies', genre, rating, title, genre) #here is the call of the function


def write_jsonl(movie_list, genre, rating, title, json_name):
    dict = {'title': title, 'genre': genre, 'rating': rating}
    movie_list.append(dict)
    # print(action_movies)
    with jsonlines.open(json_name+'.jsonl', mode='w') as writer:
        writer.write(movie_list)
</code></pre>
<p>I'm trying to pass the variable name as a list dynamically, but I'm not sure if that's possible in python, any suggestions?</p>
<pre><code>Error: Traceback (most recent call last):
  File "bucky.py", line 58, in &lt;module&gt;
    web_crawling()
  File "bucky.py", line 34, in web_crawling
    write_jsonl(genre + '_movies', genre, rating, title, genre)
  File "bucky.py", line 52, in write_jsonl
    movie_list.append(dict)
AttributeError: 'str' object has no attribute 'append'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just use a dictionary:</p>
<pre><code>genres_dict = {k: [] for k in ('fight', 'win', 'knowledge', 'biography')}

for genre in genres:
    write_jsonl(genres_dict[genre], genre, rating, title, genre)
</code></pre>
<p>A variable number of variable is <em>not</em> the recommended approach.</p>
<p>Related: <a href="https://stackoverflow.com/questions/1373164/how-do-i-create-a-variable-number-of-variables">How do I create a variable number of variables?</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could find your variables in <a href="https://docs.python.org/3/library/functions.html#locals" rel="nofollow noreferrer"><code>locals()</code></a>/<a href="https://docs.python.org/3/library/functions.html#globals" rel="nofollow noreferrer"><code>globals()</code></a> like so</p>
<pre><code>for genre in genres:
    #.... Ommited \/\/\/\/\/\/ Here is where I call the function
    write_jsonl(locals()[genre + '_movies'], genre, rating, title, genre) #here is the call of the function
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As suggested by most use a dictionary, and then if you want and I think what you are intending for it to do is to then store the dictionary in a list. However, your code shows a problem where you passed a string for what I believe you intend to be a list.</p>
<pre><code>def write_jsonl(movie_list, genre, rating, title, json_name):
    d= {'title': title, 'genre': genre, 'rating': rating}
    movie_list.append(d) #&lt;-- movie_list based on your traceback is a str
    # print(action_movies)
    with jsonlines.open(json_name+'.jsonl', mode='w') as writer:
        writer.write(movie_list)
</code></pre>
<p>The example below works as intended:</p>
<pre><code>all_movie_list = []

def write_jsonl(movie_list, genre, rating, title, json_name):
    d= {'title': title, 'genre': genre, 'rating': rating}
    movie_list.append(d)
    # print(action_movies)
    with jsonlines.open(json_name+'.jsonl', mode='w') as writer:
        writer.write(movie_list)

write_jsonl(all_movie_list,'Crime','10','Godfather','test')

all_movie_list
[{'title': 'Godfather', 'genre': 'Crime', 'rating': '10'}]
</code></pre>
<p>The better way is to store your list of titles by genre in a dictionary, you can use the <code>defaultdict</code> data model from the Python standard library for that.</p>
<pre><code>from collections import defaultdict
movie_list = defaultdict(list)

def write_jsonl(movie_list, genre, rating, title, json_name):
    d= {'title': title, 'genre': genre, 'rating': rating}
    movie_list['{}_movies'.format(genre)].append(d)
    # print(action_movies)
    with jsonlines.open(json_name+'.jsonl', mode='w') as writer:
        writer.write(movie_list)

movie_list
&gt;&gt;defaultdict(list,
            {'Crime_movies': [{'title': 'Godfather',
               'genre': 'Crime',
               'rating': '10'}]})

movie_list['Crime_movies']
&gt;&gt;[{'title': 'Godfather', 'genre': 'Crime', 'rating': '10'}]
</code></pre>
<p>Also do not use inbuilt method or reserved names as variables, I replaced your <code>dict</code> variable to just <code>d</code>.</p>
</div>
<span class="comment-copy">Don't do this. Use a dictionary.</span>
<span class="comment-copy">Yeah, you're right Filip Mlynarski, but I believe what he's trying to do is to pass this dynamically so he doesn't  have to keep calling the function multiple times and creating multiple ifs for each genre</span>
