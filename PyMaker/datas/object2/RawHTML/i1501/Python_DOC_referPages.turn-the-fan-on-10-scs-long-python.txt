<div class="post-text" itemprop="text">
<p>This is my code turning the fan on i run the sleep on separate thread because it makes the entire script sleep</p>
<pre><code>def fan_on():
    GPIO.setwarnings(False)
    GPIO.setmode(GPIO.BCM)
    FAN_PIN = 23
    GPIO.setup(FAN_PIN,GPIO.OUT)
    GPIO.output(FAN_PIN,True)
    t = Thread(target=sleep_fan)
    t.deamon = True
    t.start()

def sleep_fan():
    time.sleep(10)
</code></pre>
<p>The script is running however im not getting 10 scs it is only 1 or 2 seconds? How to fix this? TIA</p>
</div>
<div class="post-text" itemprop="text">
<p>I'm going to assume that your program dies before the 10 seconds are up, which is what kills the fan. The misspelling of <code>daemon</code> in <code>t.deamon = True</code> doesn't matter here.</p>
<p>Probably better to join on that thread in your main function.</p>
<pre><code>def fan_on():
    GPIO.setwarnings(False)
    GPIO.setmode(GPIO.BCM)
    FAN_PIN = 23
    GPIO.setup(FAN_PIN,GPIO.OUT)
    GPIO.output(FAN_PIN,True)
    t = Thread(target=sleep_fan)
    t.deamon = True
    t.start()
    return t

fan_thread = fan_on()
fan_thread.join()  # waits for thread to exit before moving on.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As Adam Smith said, the problem is because of your new thread dying almost instantly after creation and not because of daemon. Hence, you should use the join method.</p>
</div>
<span class="comment-copy">Should be <code>daemon</code> not <code>deamon</code></span>
<span class="comment-copy">Sir i have use the join and it is sucvessfully ran the fan by 10 scs however does this join affects the entire code? Because the sleep make the entire script to sleep after i used the join</span>
<span class="comment-copy">@Beginner yes it does, but since your current problem is that the program dies before 10 seconds is up, that shouldn't be an issue, just make sure that your last instruction is to join on your fan thread.</span>
<span class="comment-copy">sir how can I make not the entire script to sleep? after using the join?</span>
<span class="comment-copy">Strongly disagree. <code>setDaemon</code> is a silly name for a silly method, and even <a href="https://docs.python.org/3/library/threading.html?highlight=threading#threading.Thread.setDaemon" rel="nofollow noreferrer">the documentation</a> includes this line: "Old getter/setter API for daemon; use it directly as a property instead."</span>
<span class="comment-copy">additionally this has nothing to do with the problem in this code.</span>
<span class="comment-copy">Oh, my bad. Thanks for the reply. Will edit the answer.</span>
