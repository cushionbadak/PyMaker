<div class="post-text" itemprop="text">
<p>So I have a CSV file of users which is in the format: </p>
<pre><code>"Lastname, Firstname account_last_used_date"
</code></pre>
<p>I've tried dateutil parser, however it states this list is an invalid string.  I need to keep the names and the dates together.  I've also tried datetime but i'm having issues with "datetime not defined". I'm very new to Python, so forgive me if i've missed an easy solution.</p>
<pre><code>import re
from datetime import date

with open("5cUserReport.csv","r") as dilly:
    li = [(x.replace("\n","")) for x in dilly]
    li2 = [(x.replace(",","")) for x in li]

    for x in li2:
        match = re.search(r"\d{2}-\d{2}-\d{4}", x)
        date = datetime.strptime(match.group(), "%d-%m-%Y").x()
        print(date)
</code></pre>
<p>The end goal is I need to check if the date the user last logged in is longer than 4 months.  Honestly, any help here is massively welcome!</p>
<p>The CSV format is:</p>
<pre class="lang-none prettyprint-override"><code>am_testuser1 02/12/2017 08:42:48
am_testuser11 13/10/2017 17:44:16
am_testuser20 27/10/2017 16:31:07
am_testuser5 23/08/2017 09:42:41
am_testuser50 21/10/2017 15:38:12
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Edit: Edited the answer based on the given csv</p>
<p>You could do something like this with pandas</p>
<pre><code>import pandas as pd

colnames = ['Lastname,   Firstname', 'Date', 'Time']
df = pd.read_csv('5cUserReport.csv', delim_whitespace=True, skiprows=1, names=colnames, parse_dates={'account_last_used_date': [1,2]}, dayfirst =True)

more_than_4_months_ago = df[df['account_last_used_date'] &lt; (pd.to_datetime('now') - pd.DateOffset(months=4))]
print(more_than_4_months_ago)
</code></pre>
<p>The DataFrame <code>more_than_4_months_ago</code> will give you a subset of all records, based on if the  account_last_used_date is more than 4 months ago.</p>
<p>This is based on the given format. Allthough I doubt that this is your actual format, since the given usernames don't really match the format 'firstname, lastname'</p>
<pre><code>Lastname, Firstname account_last_used_date
am_testuser1 02/12/2017 08:42:48
am_testuser11 13/10/2018 17:44:16
am_testuser20 27/10/2017 16:31:07
am_testuser5 23/08/2018 09:42:41
am_testuser50 21/10/2017 15:38:12
</code></pre>
<p>(I edited 2 lines to 2018, so that the test actually shows that it works). </p>
</div>
<span class="comment-copy">It would help if you'd show the format of the date string in your data.</span>
<span class="comment-copy">Read about <a href="https://docs.python.org/3/library/csv.html#module-csv" rel="nofollow noreferrer">module-csv</a> and <a href="https://stackoverflow.com/questions/52132977/efficient-timedelta-calculator">efficient-timedelta-calculator</a></span>
<span class="comment-copy">Could you post a small example of your csv? You could probably read the csv with pandas <code>pd.read_csv()</code> function. It also has a lot of dateparse options. If you have the date parsed correctly, chhecking if the last login was more then 4 months ago is pretty straightforward.</span>
<span class="comment-copy">Given your example of the csv, I've edited my answer below.</span>
