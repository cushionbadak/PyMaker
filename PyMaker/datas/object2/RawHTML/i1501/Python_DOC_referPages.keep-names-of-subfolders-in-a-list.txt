<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/3207219/how-do-i-list-all-files-of-a-directory">How do I list all files of a directory?</a>
<span class="question-originals-answer-count">
                    27 answers
                </span>
</li>
</ul>
</div>
<p>In this a variable there is a folder called <code>main_folder</code>.
This folder has two folders:</p>
<p><code>111</code>,<code>222</code></p>
<p>I need to get the names of these folders in a list.</p>
<p>Tried this:</p>
<pre><code>a = r'C:\Users\user\Desktop\main_folder'
import os 
for root, dirs, files in os.walk(a):
    print(dirs)
</code></pre>
<p>gives:</p>
<pre><code>['111', '222'] # &lt;--------------This only needed
[]
[]
</code></pre>
<p>How to keep only the first list and not the empty ones which I think describe the contents of these folders since they don't have folders.</p>
</div>
<div class="post-text" itemprop="text">
<p>This function will do the job:</p>
<pre><code>import os
def get_immediate_subdirectories(a_dir): ##a_dir is the path of the main folder
    return [name for name in os.listdir(a_dir) ## returns all the immediate subfolders
            if os.path.isdir(os.path.join(a_dir, name))] ## keeps checking the name + file is here
</code></pre>
<p>Calling Function:</p>
<pre><code>get_immediate_subdirectories("Path")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Iterate just once via <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next</code></a>:</p>
<pre><code>import os

a = r'C:\Users\user\Desktop\main_folder'
walker = os.walk(a)
res = next((dirs for _, dirs, _ in walker), [])
</code></pre>
<p>If necessary, you can continue iterating <code>walker</code> via additional <code>next</code> calls.</p>
</div>
<span class="comment-copy">If you just need the two top-level directories, why are you using os.walk?</span>
