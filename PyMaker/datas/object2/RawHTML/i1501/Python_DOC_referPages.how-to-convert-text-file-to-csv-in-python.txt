<div class="post-text" itemprop="text">
<p>I need to convert text file to csv file.Below command is not working in python, which is working fine in shell prompt.Please help me to fix the issue.</p>
<pre><code>subprocess.call("sed 's/[[:space:]]\+/,/g' test.txt &gt; test.csv")
</code></pre>
<p>Content of test.txt</p>
<pre><code>jega mca
divya BE
ramya MA
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Add <code>shell=True</code> </p>
<pre><code>subprocess.call("sed 's/[[:space:]]\+/,/g' test.txt &gt; test.csv", shell=True) 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>maybe use plain python:</p>
<pre><code>result = ''

with open('file.txt') as f:
    result = '\n'.join(f.readlines())

with open('output.csv') as f:
    for line in result.split('\n'):
        line = line.replace(' ', ',')
        f.write(line + '\n')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>pandas</code> library to do that. The following code might work:</p>
<pre><code>import pandas as pd
data = pd.read_csv('test.txt', sep=" ", header=None)
df.to_csv(test.csv, sep=',')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here is another solution using the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv</a> python library:</p>
<pre><code>import csv
with open('test.txt', 'r') as f:
    content = f.readlines()
    with open('test.csv', 'w+',  newline = '') as csvFile:
        csvWriter = csv.writer(csvFile, delimiter = ' ')
        for elem in content:
            csvWriter.writerow([elem.strip()])
</code></pre>
</div>
<span class="comment-copy">you should use the csv module <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">docs.python.org/3/library/csv.html</a></span>
