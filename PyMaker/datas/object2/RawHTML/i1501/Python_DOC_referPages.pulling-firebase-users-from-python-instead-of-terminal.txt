<div class="post-text" itemprop="text">
<p>I found (and tried successfully) to pull the user emails using terminal but was wondering if anyone knew how to do it from python? My program needs to the file daily and I'm trying to automate it. </p>
<p>Here's what I have </p>
<pre><code>import firebase_admin
from firebase_admin import credentials

cred = credentials.Certificate("cred file")
firebase_admin.initialize_app(cred)

emails = (firebase auth:export account_file.csv)
</code></pre>
<p>then I try and read it, but the auth:export line is where it breaks giving me a syntax error</p>
</div>
<div class="post-text" itemprop="text">
<p><code>emails = (firebase auth:export account_file.csv)</code> is not a correct sintax in python.</p>
<p>Haven't used it, but this function seems to list firebase users: </p>
<pre><code>firebase_admin.auth.list_users(page_token=None, max_results=1000, app=None)
</code></pre>
<p>Check documentation <a href="https://firebase.google.com/docs/reference/admin/python/firebase_admin.auth" rel="nofollow noreferrer">here</a>.</p>
<p>Once you have all your users toghether in some variable like <code>firebase_users</code>, you'll need to export them to <code>.csv</code>.</p>
<pre><code>import csv
with open('firebase_users.csv', 'w', newline='') as csvfile:
    fieldnames = ['first_name', 'mail']
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
    for user in firebase_users:
        writer.writerow(user)
</code></pre>
<p>Also check <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">here</a> for python csv package.</p>
<p>As I said, haven't tried it. I'll do it later to refresh any possible mistake.</p>
</div>
<span class="comment-copy">import os ,os.system("command") ,try if this works?</span>
<span class="comment-copy">I'll give this a shot and see what it can do</span>
