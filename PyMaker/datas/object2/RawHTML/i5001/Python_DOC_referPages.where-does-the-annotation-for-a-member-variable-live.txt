<div class="post-text" itemprop="text">
<p>if i do something like this:</p>
<pre><code>def f(x: str):
    pass
</code></pre>
<p>i can easily see this type hint for <code>x</code> if i do:</p>
<pre><code>print(f.__annotations__)
</code></pre>
<p>however, i can't seem to figure out where the annotations live if i do something like this:</p>
<pre><code>class C:
    def __init__(self):
        self.where_is_this_vars_annotation_stored: int = 4
</code></pre>
<p>does anyone know which <code>__annotations__</code> dict contains <code>where_is_this_vars_annotation_stored</code>'s type hint?</p>
</div>
<div class="post-text" itemprop="text">
<p>i ended up writing something that uses <code>inspect</code>, <code>ast</code>, <code>exec</code>, and <code>eval</code> to solve this for me. </p>
<p><a href="https://gist.github.com/sweettuse/f5fa022a0abadf3fc368105fcccc46c1" rel="nofollow noreferrer">https://gist.github.com/sweettuse/f5fa022a0abadf3fc368105fcccc46c1</a></p>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/inspect.html#types-and-members" rel="nofollow noreferrer"><code>__annotations__</code> does not exist under class</a>.  Perhaps there's a workaround for it.</span>
<span class="comment-copy"><code>__annotations__</code> does exist if you do something like <code>class C: i: int</code></span>
<span class="comment-copy">Interesting, perhaps I wasn't looking deep enough.  It seems classes will create <code>__annotations__</code> to the mapping when there's annotated class attributes, but not for instance attributes which is what you're looking for.</span>
