<div class="post-text" itemprop="text">
<p>How can I exit child process when parent process is stoped? </p>
<p>Following is my code. </p>
<p>I want to stop all execution when there is KeyboardInterrupt.</p>
<pre><code>import os, sys
scripts = ["script_1.py","script_2.py"]
try:
    for script in scripts:
        command = 'python ' + script
        os.system(command)
except KeyboardInterrupt:
    os._exit(1)
except Exception as e:
    raise e
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Since you are trying to execute Python scripts within another Python script, let's do this in a Pythonic way and get rid of <code>os.system</code> for <a href="https://docs.python.org/3/library/importlib.html#importlib.import_module" rel="nofollow noreferrer"><code>importlib.import_module</code></a></p>
<pre><code>import os
import importlib

scripts = ['script_1.py', 'script_2.py']

for filename in scripts:
    modulename, ext = os.path.splitext(filename)
    importlib.import_module(modulename)
</code></pre>
<hr/>
<p>If your scripts are like:</p>
<pre><code>if __name__ == '__main__':
     # code here
     print('hello')
</code></pre>
<p>It will not works, because the <code>if __name__ == '__main__':</code> is here to ensure the part under <code>if</code> will be executed only if the file is executed as a script (and not as a module).</p>
<p>So, in this case the better thing to do is something like:</p>
<p><code>script_1.py</code>:</p>
<pre><code>def main():
    # code here
    print('hello') 
</code></pre>
<p>And in the main script:</p>
<pre><code>import os
import importlib

scripts = ['script_1.py', 'script_2.py']

for filename in scripts:
    modulename, ext = os.path.splitext(filename)
    module = importlib.import_module(modulename)
    module.main()
</code></pre>
</div>
<span class="comment-copy">What's you <i>Operating System</i>? Not sure about <code>system</code>, you should check <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer">docs.python.org/3/library/subprocess.html</a>.</span>
<span class="comment-copy">My Operating System is Ubuntu 14</span>
<span class="comment-copy">I tried using <code>subprocess.Popen</code>, and when pressing <i>Ctrl + C</i>, the process and it's active child died.</span>
<span class="comment-copy">Yes I have adopted the subprocess.Popen() solution. Thank you so much .</span>
