<div class="post-text" itemprop="text">
<p>I tried to change my Vigenere program so that it will output the message with spaces. 
It should do this: 
translatedMessage('JPZFR DTZA NKC HFHOUC', 'cloudy', 'd') =&gt; 'HELLO FROM THE FUTURE'</p>
<pre><code> def translateMessage(message, key, mode):
    translated = ''
    alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
    keyIndex = 0
    message = message.upper()
    key = key.upper()

    for symbol in message:
        xyz = alphabet.find(symbol.upper())
        if xyz != -1:
            if mode == 'encrypt' or 'e':
                xyz += alphabet.find(key[keyIndex]) + 1
            elif mode == 'decrypt' or 'd':
                xyz -= alphabet.find(key[keyIndex]) + 1

            xyz %= len(alphabet)

            if symbol.isupper():
                translated += alphabet[xyz]
            elif symbol.islower():
                translated += alphabet[xyz].lower()

            keyIndex += 1
            if keyIndex == len(key):
                keyIndex = 0
        else : translated += symbol #this will add space as it is

    return translated
</code></pre>
<p>Instead it gives this: 
translatedMessage('JPZFR DTZA NKC HFHOUC', 'cloudy', 'd') =&gt; 'MBOAV CWLP IOB KRWJYB'</p>
</div>
<div class="post-text" itemprop="text">
<p>Your code looks mainly fine, but you can notice that you always encrypt, whatever mode you choose.</p>
<p>This is caused by your </p>
<pre><code>if mode == 'encrypt' or 'e':
</code></pre>
<p>line. Because <code>or</code> has a lower <a href="https://docs.python.org/3/reference/expressions.html#operator-precedence" rel="nofollow noreferrer">operator precedence</a> than <code>==</code>, this gets parsed as:</p>
<pre><code>if (mode == 'encrypt') or 'e':
</code></pre>
<p>As <code>mode</code> is 'd', <code>(mode == 'encrypt')</code> is <code>False</code>. But as <code>'e'</code> is a non-empty string, it evaluates to <code>True</code> in boolean context.
So, <code>(mode == 'encrypt') or 'e'</code> is always <code>True</code>, whatever mode you choose.</p>
<p>What you need is:</p>
<pre><code>  if mode == 'encrypt' or mode =='e':
</code></pre>
</div>
<span class="comment-copy">Just a note: instead of your <code>alphabet</code> you can use <a href="https://docs.python.org/3/library/string.html#string.ascii_uppercase" rel="nofollow noreferrer">string.ascii_uppercase</a></span>
<span class="comment-copy">What is the question?  Have you tried printing within the loop to see what might be happening?</span>
<span class="comment-copy"><code>mode.lower() in ('encrypt', 'e')</code> may be simpler and more efficient. +1 regardless.</span>
<span class="comment-copy">@t.m.adam Right, I'll add it, thanks.</span>
<span class="comment-copy"><code>{'encrypt', 'e'}</code> would be even better</span>
<span class="comment-copy">This fixed it, thanks.</span>
