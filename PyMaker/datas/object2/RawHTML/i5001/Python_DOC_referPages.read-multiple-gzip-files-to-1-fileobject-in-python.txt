<div class="post-text" itemprop="text">
<p>i want to read multiple gzip file to 1 file object 
currently i am doing</p>
<pre><code>import gzip 
a = gzip.open(path2zipfile1) 
for line in a.readline()
  #do some stuff
</code></pre>
<p>but i need to read from say 2 files </p>
<pre><code>a = gzip.open(path2zipfile1)  #read zip1
a = gzip.open(path2zipfile2, 'rU') #appending file object with contents of 2nd file 
for line in a.readlines()
  #this should give me contents from zip1 then zip2
</code></pre>
<p>unable to find the right mode to do so</p>
</div>
<div class="post-text" itemprop="text">
<p>use <a href="https://docs.python.org/3/library/itertools.html#itertools.chain" rel="nofollow noreferrer"><code>itertools.chain</code></a>:</p>
<pre><code>import itertools, gzip

files = ['path2zipfile1', 'path2zipfile2']
it = (gzip.open(f, 'rt') for f in files)

for line in itertools.chain.from_iterable(it):
    print(line)
</code></pre>
<p>another version without <code>itertools</code>:</p>
<pre><code>def gen(files):
    for f in files:
        fo = gzip.open(f, 'rt')
        while True:
            line = fo.readline()
            if not line:
                break
            yield line

files = ['path2zipfile1', 'path2zipfile2']
for line in gen(files):
    print(line)
</code></pre>
</div>
<span class="comment-copy">This works for me, can you tell what i was doing wrong and how itertools made it work. TIA</span>
<span class="comment-copy">@pythonRcpp IMO <a href="https://docs.python.org/3/library/itertools.html#itertools.chain" rel="nofollow noreferrer">doc of <code>chain</code></a> explains better than me ... I would like to answer your question regarding the doc.</span>
<span class="comment-copy">@pythonRcpp I added a version without <code>itertools</code>, which is mostly equivalent.</span>
<span class="comment-copy">I realised I was supposed to use a.readlines() and not a.readline(). edited</span>
<span class="comment-copy">@pythonRcpp I see, but the answer not affected.</span>
