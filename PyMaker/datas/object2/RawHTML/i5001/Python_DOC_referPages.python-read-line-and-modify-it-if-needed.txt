<div class="post-text" itemprop="text">
<p>let's say I have a file <code>Example.txt</code> like this:</p>
<pre><code>alpha_1 = 10

%alpha_2 = 20
</code></pre>
<p>Now, I'd like to have a python script which performs these tasks:</p>
<ol>
<li><p>If the line containing <code>alpha_1</code> parameter is not commented (<code>%</code> symbol), to rewrite the line adding <code>%</code>, like it is with <code>alpha_2</code></p></li>
<li><p>To perform the task in 1. independently of the line order</p></li>
<li><p>To leave untouched the rest of the file <code>Example.txt</code></p></li>
</ol>
<p>The file I wrote is:</p>
<pre><code>with open('Example.txt', 'r+') as config:
      while 1:
        line = config.readline()
        if not line:
           break

    # remove line returns
    line = line.strip('\r\n')
    # make sure it has useful data
    if (not "=" in line) or (line[0] == '%'):
      continue
    # split across equal sign
    line = line.split("=",1)
    this_param = line[0].strip()
    this_value = line[1].strip()

    for case in switch(this_param):    

       if case("alpha1"):
          string = ('% alpha1 =', this_value )
          s = str(string)
          config.write(s)
</code></pre>
<p>Up to now the output is the same <code>Example.txt</code> with a further line <code>(%alpha1 =, 10)</code> down the original line <code>alpha1 = 10</code>.</p>
<p>Thanks everybody</p>
</div>
<div class="post-text" itemprop="text">
<p>I found the solution after a while. Everything can be easily done writing everything on another file and substituting it at the end.</p>
<pre><code>configfile2 = open('Example.txt' + '_temp',"w")
    with open('Example.txt', 'r') as configfile:
      while 1:          
       line = configfile.readline()
       string = line
       if not line:
        break

       # remove line returns
       line = line.strip('\r\n')
       # make sure it has useful data
       if (not "=" in line) or (line[0] == '%'):  
         configfile2.write(string)
       else: 
         # split across equal sign
         line = line.split("=",1)
         this_param = line[0].strip()
         this_value = line[1].strip()

         #float values
         if this_param == "alpha1":
           stringalt = '% alpha1 = '+ this_value + '   \r\n'
           configfile2.write(stringalt)                            
         else:
           configfile2.write(string) 

    configfile.close()    
    configfile2.close()
    # the file is now replaced
    os.remove('Example.txt' )
    os.rename('Example.txt' + '_temp','Example.txt' )
</code></pre>
</div>
<span class="comment-copy">Welcome to Stack Overflow. Please take the <a href="https://stackoverflow.com/tour">tour</a> and read about <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a>. There is no Python in your question other than asking us to write it. We're here to help you write better Python, but you need to make a start at least. Have a look at the <a href="https://docs.python.org/3/library/fileinput.html" rel="nofollow noreferrer"><b><code>fileinput</code></b></a> module function <a href="https://docs.python.org/3/library/fileinput.html#fileinput.input" rel="nofollow noreferrer"><code>input</code></a> with parameter <code>inplace=True</code> for starters.</span>
