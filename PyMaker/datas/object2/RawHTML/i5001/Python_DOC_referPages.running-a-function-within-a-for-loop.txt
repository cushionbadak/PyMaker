<div class="post-text" itemprop="text">
<p>Trying to calculate and classify BMI from a function I created, while putting it into a FOR LOOP that will open and read the file with height and weight (bmi.txt), create new variables in addition to height and weight for BMI and classification, and write that to a new file (bmi_calculated). I've got a start on the read and write file code working (though it's flipping the columns), and the function to calculate and classify BMI, but I'm not sure how to combine them to run the function within the FOR LOOP.</p>
<p>BMI function:</p>
<pre><code>def BMI(height, weight):
    bmi = weight / height ** 2
    bmi = round(bmi, 1)

    if bmi &lt;= 18.5: result = 'underweight.'
    elif 18.5 &lt; bmi &lt;= 25: result = 'a healthy weight.'
    elif 25 &lt; bmi &lt;= 29.9: result = 'overweight.'
    else: result = 'obese.'

    return [height, weight, bmi, result]

h = float(input('Your height in meters: '))
w = float(input('Your weight in kilos: '))      
my_list = ["A height of", "and a weight of", "represent a BMI of", 
"which is"]
results = BMI(h, w)
print(my_list[0], results[0], my_list[1], results[1], my_list[2], 
results[2], my_list[3], results[3])
</code></pre>
<p>Read/write code:</p>
<pre><code>infile = open("bmi.txt", "r")
outfile = open("bmi_calculated.txt", "w")
line = infile.readline()
for line in infile:
    line = line.strip()
    elements = line.split("\t")
    outfile.write(elements[1] + "\t" + elements[0] + "\n")
infile.close()
outfile.close()
</code></pre>
<p>EDIT: This is my attempt to call the function in the for loop, in response to one of the comments. I'm new to Python and not sure how to do this, which is why I'm asking for help:</p>
<pre><code>def BMI(height, weight):
    bmi = weight / height ** 2
    bmi = round(bmi, 1)

    if bmi &lt;= 18.5: result = 'underweight.'
    elif 18.5 &lt; bmi &lt;= 25: result = 'a healthy weight.'
    elif 25 &lt; bmi &lt;= 29.9: result = 'overweight.'
    else: result = 'obese.'

    return [height, weight, bmi, result]

infile = open("bmi.txt", "r")
outfile = open("bmi_calculated.txt", "w")
line = infile.readline()
for line in infile:
    line = line.strip()
    elements = line.split("\t")
    outfile.write(elements[1] + "\t" + elements[0] + "\n")
    print(BMI)
infile.close()
outfile.close()
</code></pre>
<p>This code doesn't add BMI or classification of overweight/obsese/etc to the outfile, and returns this "function BMI at 0x113fc4400" in repetition in the IDLE shell for the number for rows in the bmi.txt file.</p>
</div>
<div class="post-text" itemprop="text">
<p>I think it would be better if you get first all data from <code>bmi.txt</code> and then write the result(s) to another file.</p>
<pre><code>my bmi.txt (two columns, tab separated)
100    100
200    200

def get_bmi_data(bmi_file):
    with open(bmi_file, "r") as f:
        raw_bmi_data = f.readlines()
    bmi_data =  [list(map(int, data.strip().split("\t"))) for data in raw_bmi_data]
    return bmi_data

bmi_data = get_bmi_data("bmi.txt")
# print(bmi_data) -&gt;  [[100, 100], [200, 200]]
</code></pre>
<p>And then, for each data, you calculate and write to <code>bmi_calculated.txt</code></p>
<pre><code>def calculate_and_write(bmi_data):
    with open("bmi_calculated.txt", "w") as f:
        for data in bmi_data:
            height = data[0]
            weight = data[1]
            # change BMI method to return bmi and result
            bmi, result = BMI(height, weight)
            mytemplate = "A height of {} and a weight of {} represent a BMI of {} which is {}\n"
            to_write = mytemplate.format(height, weight, bmi, result)
            f.write(to_write)
</code></pre>
</div>
<span class="comment-copy">What's stopping you from just putting the function call in the for loop?</span>
<span class="comment-copy">As an aside, something like <code>"A height of {} and a weight of {} represent a BMI of {} which is {}".format(*results)</code> is a <i>much</i> easier way of doing string interpolation than what you're doing</span>
<span class="comment-copy">Does the <code>elements</code> array contain the height and weight values from the <code>infile</code>? Have you tried calling the <code>BMI</code> function in the for-loop like <code>results = BMI(elements[0], elements[1])</code> and then writing your <code>results</code> to the <code>outfile</code>?</span>
<span class="comment-copy">You have (or should have) references to height and weight before you call <code>BMI</code>; there's no reason to return them as well.</span>
<span class="comment-copy">A side note: It's a good idea to use <a href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="nofollow noreferrer"><code>with</code> statements</a> for opening files.</span>
