<div class="post-text" itemprop="text">
<pre><code>import cv2, time
import numpy as np
</code></pre>
<p>I want to make this code not overwrite the previously saved video </p>
<pre><code>video = cv2.VideoCapture(0)

fourcc = cv2.VideoWriter_fourcc(*"XVID")
</code></pre>
<p>This line of code makes the video save as output.avi all the time while I want to make it so that it saves the date of that day    </p>
<pre><code>out = cv2.VideoWriter('output.avi', fourcc, 20.0, (640,480))

a = 0

while True:    
    a = a + 1 

    check, frame = video.read()
    print(check)
    print(frame)

    out.write(frame)

    cv2.imshow("Capturing", frame)
</code></pre>
<p>I feel as if I used an if statement somewhere around here then it could make the video no overwrite the previous video however I have tried but it did not work    </p>
<pre><code>    key = cv2.waitKey(1)    

    if key == ord('q') :
        break

print(a)

video.release()
out.release()
cv2.destroyAllWindows()
</code></pre>
<p>I also want to make this code save the video as the current date of day if that is possible</p>
</div>
<div class="post-text" itemprop="text">
<p>You simply format the filename and put the date in it:</p>
<pre><code>import datetime

filename = 'output_{0}.avi'.format(datetime.datetime.now().strftime("%Y-%m-%d"))
print (filename)
</code></pre>
<p>Output:</p>
<pre><code>output_2018-02-25.avi
</code></pre>
<p>Then you supply it to your video-create method:</p>
<pre><code>out = cv2.VideoWriter(filename, fourcc, 20.0, (640,480))
</code></pre>
<p>Look here for formatting tips for <a href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior" rel="nofollow noreferrer">datetime.strftime</a></p>
<hr/>
<p>Probably best to put it inside a function that gives you the correct name, also checking if that file already exists and eventually adding a running number as well:</p>
<pre><code>import datetime 
import os

def getAviNameWithDate(nameIn="output.avi"):
    """Needs a file ending on .avi, inserts _&lt;date&gt; before .avi. 

    If file exists, it appends a additional _number after the &lt;date&gt; 
    ensuring filename uniqueness at this time."""
    if not nameIn.endswith(".avi"):
        raise ValueError("filename must end on .avi")

    filename = nameIn.replace(".avi","_{0}.avi")
                     .format(datetime.datetime.now().strftime("%Y-%m-%d"))

    if os.path.isfile(filename):             # if already exists
        fn2 = filename[0:-4]+'_{0}.avi'          # modify pattern to include a number
        count = 1
        while os.path.isfile(fn2.format(count)): # increase number until file not exists
            count += 1
        return fn2.format(count)                 # return file with number in it

    else:                                    # filename ok, return it
        return filename

# test it   
for _ in range(5):
    with open(getAviNameWithDate("a.avi"),"w") as w:
        w.write("1")
</code></pre>
<p>Execute the snippit to see how it creates:</p>
<pre><code>a_2018-02-25.avi
a_2018-02-25_1.avi
a_2018-02-25_2.avi
a_2018-02-25_3.avi
a_2018-02-25_4.avi
</code></pre>
</div>
<span class="comment-copy">Thank you so much for your help however I am still quite new to python so I was trying put use the function getAviNameWithDate however I struggle to find the write place to put the code and use it ( or run it all together )</span>
<span class="comment-copy">@CoffeeWaterController <code>out = cv2.VideoWriter(getAviNameWithDate("output.avi"), fourcc, 20.0, (640,480))</code> should do if. I mostly put function at the top of my py files below the imports.</span>
