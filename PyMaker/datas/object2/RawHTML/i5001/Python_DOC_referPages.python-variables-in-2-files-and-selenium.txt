<div class="post-text" itemprop="text">
<p>I’ve created the <code>main.py</code> and the <code>login.py</code>, then I tried to link the 2 files together. I don’t know how to correctly link these 2 files.</p>
<p>I’m using selenium and the program works, but it opens 2 chrome windows (When I want to open just one) then, the second one goes ahead and works perfectly but when it stops to do the login file suddently this error comes:</p>
<pre><code>Traceback (most recent call last):
File "C:/Users/alebu/PycharmProjects/selenium/Main.py", line 9, in &lt;module&gt;
Login.login()
File "C:\Users\alebu\PycharmProjects\selenium\Login.py", line 6, in login
Main.browser.find_element_by_link_text('Log in').click()
File "C:\Users\alebu\PycharmProjects\selenium\venv\lib\site-
packages\selenium\webdriver\remote\webdriver.py", line 419, in 
find_element_by_link_text
return self.find_element(by=By.LINK_TEXT, value=link_text)
File "C:\Users\alebu\PycharmProjects\selenium\venv\lib\site-
packages\selenium\webdriver\remote\webdriver.py", line 955, in find_element
'value': value})['value']
File "C:\Users\alebu\PycharmProjects\selenium\venv\lib\site-
packages\selenium\webdriver\remote\webdriver.py", line 312, in execute
self.error_handler.check_response(response)
File "C:\Users\alebu\PycharmProjects\selenium\venv\lib\site-
packages\selenium\webdriver\remote\errorhandler.py", line 242, in 
check_response
raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.NoSuchElementException: Message: no such element: 
Unable to locate element: {"method":"link text","selector":"Log in"}
(Session info: chrome=64.0.3282.167)
(Driver info: chromedriver=2.35.528161 
(5b82f2d2aae0ca24b877009200ced9065a772e73),platform=Windows NT 10.0.16299 
x86_64)


Process finished with exit code 1
</code></pre>
<p>probably I’ve done something wrong with the variables
the main.py</p>
<pre><code>from selenium import webdriver
import Login

driver_location = "C:\webDrivers\chromedriver.exe"
options = webdriver.ChromeOptions()
options.add_argument('--lang=en')
browser = webdriver.Chrome(executable_path=driver_location, 
chrome_options=options)
Login.login()
</code></pre>
<p>the login.py</p>
<pre><code>def login():
    import Main
    from time import sleep
    Main.browser.get('https://www.instagram.com')

    Main.browser.find_element_by_link_text('Log in').click()

    Main.browser.find_element_by_name('username').send_keys('*******')
    Main.browser.find_element_by_name('password').send_keys(********')

    Main.browser.find_element_by_xpath('//form/span/button[text()="Log 
    in"]').click()
    sleep(3)
    Main.browser.find_element_by_link_text('Not Now').click()
    sleep(2)
    print("Logged In")
</code></pre>
<p>The weird thing is: before the program was in one unique file and it worked perfectly.</p>
</div>
<div class="post-text" itemprop="text">
<p>I would suggest you read some material on how <code>import</code> works in python <a href="https://docs.python.org/3/reference/import.html" rel="nofollow noreferrer">here</a>.</p>
<p>to get what you have working properly quickly, you should not <code>import Main</code> in your login function. Try passing the driver as an argument in your <code>login</code> function as so (Note: after passing the browser as an argument and not importing <code>Main</code>, you will no longer need to use <code>Main.browser</code>, just <code>browser</code>):</p>
<pre><code>from time import sleep
def login(browser):
    browser.get('https://www.instagram.com')
</code></pre>
<p>Then when you go to call <code>login</code> from your <code>main</code>, you will want to pass <code>browser</code> as an argument:</p>
<pre><code>Login.login(browser)
</code></pre>
<p>This should fix the problem you were having with two browsers opening. If the issue is still occurring with the <code>Log in</code> link not found please read <a href="http://selenium-python.readthedocs.io/api.html" rel="nofollow noreferrer">this</a> and ask a new question if you have a clear understanding of how it works and require more help.</p>
</div>
<span class="comment-copy">thankyou, this works perfectly</span>
