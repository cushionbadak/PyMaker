<div class="post-text" itemprop="text">
<p>My first dabble with Python and JSON.
In the example below, I am loading JSON data and writing the values to a text file.</p>
<p>Is it possible to output the attribute names (<code>name</code>, <code>role</code>, and <code>ID</code>) as the first line of the text file? Obviously I could hard code the attributes (or column names as that is what I am after), but wondered if there was a more dynamic way to do this....what if I don't know the attribute names?</p>
<pre><code>resp = reqSession.get(url, headers=head, verify=False)
json_data = json.loads(resp.text)

file = open("testfile.txt","w")
file.write("There are currently " + str(len(json_data)) + " USERS in " + model + "\n")

for users in json_data:
    #print(users["name"] + "," + users["role"] + "," + users["id"])
    file.write(users["name"] + "," + users["role"] + "," + users["id"] + "\n")
file.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>An object within a JSON string parsed via <code>json.loads</code> will be converted into a dictionary, thus all you need to do in order to iterate through the object and write their values is the following</p>
<pre><code>for key, value in json_data.items():
    file.write("{}: {}\n".format(key, value)
</code></pre>
<p>If you only want to write the values, as shown in your example, you could also do something like this</p>
</div>
<span class="comment-copy">What is <code>reqSession</code>? Also you should look into the <code>csv</code> module.  <code>csv.DictWriter</code> does this for you.</span>
<span class="comment-copy">You can access the keys of a dictionary with... <code>.keys()</code>. But yes, the <a href="https://docs.python.org/3/library/csv.html#csv.DictWriter" rel="nofollow noreferrer"><code>DictWriter</code></a> is probably what you're looking for, it will help you deal with ordering issues etc.</span>
<span class="comment-copy">instead of open and close try using the <code>with</code> statement - <a href="http://www.pythonforbeginners.com/files/with-statement-in-python" rel="nofollow noreferrer">pythonforbeginners.com/files/with-statement-in-python</a></span>
<span class="comment-copy">If you add sample JSON data then folks may be able give you more concrete answer. Alternately, add the code to get the data from a url that others can also use for testing.</span>
