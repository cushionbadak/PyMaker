<div class="post-text" itemprop="text">
<p>I have a list of dictionary items as follows:</p>
<pre><code>[{'answer_type': 'Yes', 'answer__count': 5}, {'answer_type': 'No', 
'answer__count': 3}, {'answer_type': 'Maybe', 'answer__count': 2}]
</code></pre>
<p>I would like to convert it to the following form:</p>
<pre><code>[{'Yes': 5}, {'No': 3}, {'Maybe': 2}]
</code></pre>
<p>I know that I could loop through the dictionary, pull out the items I want and create a new dictionary, but I wanted to know if there is a more elegant way. What is the most efficient way to do this conversion? Thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>Assuming your data is stored in <code>d</code>, there are several ways to do this:</p>
<h1>List Comprehension</h1>
<p>For every iterable you can use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>, so iterate over the items with <code>[it for it in iterable]</code> (you can use list comprehensions in dictionaries, too).</p>
<pre><code>In [6]: [{dic['answer_type']: dic['answer__count']} for dic in d]
Out[6]: [{'Yes': 5}, {'No': 3}, {'Maybe': 2}]
</code></pre>
<h1>Functional Approach</h1>
<p>If you are more the functional programming guy, consider using a <a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow noreferrer">map</a>, which applies a function to each element of an iterable (this is my preferred approach, if I have to do this again and again with a list, I only have to define the function once then):</p>
<pre><code>In [2]: map(lambda dic: {dic['answer_type']: dic['answer__count']}, d)
Out[2]: [{'Yes': 5}, {'No': 3}, {'Maybe': 2}]
</code></pre>
<p>For some people this is not as good to read as list comprehensions, for some it's better, depends on personal feelings. This will work with python2, in py3 it gives you an iterator, so you have to use <code>list</code> around the map to get the list.</p>
</div>
<div class="post-text" itemprop="text">
<p>Let's say that your list of dictionaries is called <code>data</code>.</p>
<p>Then you can convert it with the following code:</p>
<pre><code>newdata = [{dic['answer_type']: dic['answer__count']} for dic in data]
</code></pre>
<p>If you don't understand this code well, take a look at <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="noreferrer">Python comprehensions</a></p>
</div>
<span class="comment-copy">Please review your comprehension results. The first comprehension code is incorrect, you can't use it because dicts are not ordered. It will produce unstable results, meaning that sometimes {yes:5}, and sometimes {5:yes}. Your second comprehension code is correct, but the result is not what it generates.</span>
<span class="comment-copy">Oh yes, you're totally right, corrected! Thanks!</span>
<span class="comment-copy">List/dict comprehension always looks kool.</span>
<span class="comment-copy">The question states <code>answer__count</code> with two underscores, not one.</span>
<span class="comment-copy">Oh, didn't noticed the two underscores, I modified ;)</span>
