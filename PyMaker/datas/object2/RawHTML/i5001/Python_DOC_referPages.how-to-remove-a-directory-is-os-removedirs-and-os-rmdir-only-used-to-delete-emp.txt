<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/6996603/delete-a-file-or-folder">Delete a file or folder</a>
<span class="question-originals-answer-count">
                    10 answers
                </span>
</li>
</ul>
</div>
<p>Whenever I try to use them to remove dirs with things in them I get this error message</p>
<pre><code>import os
os.chdir('/Users/mustafa/Desktop')
os.makedirs('new-file/sub-file')
os.removedirs('new-file') 
</code></pre>
<blockquote>
<p>"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.py", line 170, in removedirs
      rmdir(name)
  OSError: [Errno 66] Directory not empty: 'new-file'</p>
</blockquote>
<p>However I think I saw people using those commands to delete dirs that weren't empty, so what am I doing wrong? Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>You should be using <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" rel="noreferrer"><strong><code>shutil.rmtree</code></strong></a> to recursively delete directory:</p>
<pre><code>import shutil
shutil.rmtree('/path/to/your/dir/')
</code></pre>
<p>Answer to your question:</p>
<blockquote>
<p>Is <code>os.removedirs</code> and <code>os.rmdir</code> only used to delete empty directories?</p>
</blockquote>
<p>Yes, they can only be used to delete empty directories. </p>
<hr/>
<p>Below is the description from official Python document which clearly stats that.</p>
<p><a href="https://docs.python.org/3/library/os.html#os.rmdir" rel="noreferrer"><strong><code>os.rmdir(path, *, dir_fd=None)</code></strong></a></p>
<blockquote>
<p>Remove (delete) the directory path. <strong>Only works when the directory is empty</strong>, otherwise, OSError is raised. In order to remove whole directory trees, shutil.rmtree() can be used.</p>
</blockquote>
<p><a href="https://docs.python.org/3/library/os.html#os.removedirs" rel="noreferrer"><strong><code>os.removedirs(name)</code></strong></a></p>
<blockquote>
<p>Remove directories recursively. Works like <code>rmdir()</code> except that, if the leaf directory is successfully removed, removedirs() tries to successively remove every parent directory mentioned in path until an error is raised (which is ignored, because it generally means that a parent directory is not empty). For example, os.removedirs('foo/bar/baz') will first remove the directory 'foo/bar/baz', and then remove 'foo/bar' and 'foo' <strong>if they are empty</strong>. Raises OSError if the leaf directory could not be successfully removed.</p>
</blockquote>
</div>
