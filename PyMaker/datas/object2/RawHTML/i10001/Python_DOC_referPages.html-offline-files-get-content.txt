<div class="post-text" itemprop="text">
<p>I have really much offline html files and I need get from them name, adress etc. And create CSV. </p>
<p>I first try to do it witch batch - example:</p>
<pre><code>for /r %%i in (*) DO (
  findstr /o "name" %%i &gt;&gt; results.txt
  ECHO ; &gt;&gt; results.txt

  findstr /o "STREET" %%i &gt;&gt; results.txt
  ECHO ; &gt;&gt; results.txt

  etc

ECHO xxxendlinexxx &gt;&gt; results.txt                                       
)
</code></pre>
<p>It works, but this give me long file what need hard work with Regular expresion... I think there must be better way how to read TAG content in HTML.</p>
<p>I found Python HTML parser:</p>
<pre><code>from html.parser import HTMLParser
</code></pre>
<p>But I dont know hot to use for offline file and specific TAG (id="something"). I googling, watch tuts on youtube, but I dont find easy a understandable solution.</p>
<p>Can you help? Best with example:</p>
<ol>
<li>How open file  </li>
<li>How find content in specific tag</li>
<li>Save content to another file</li>
</ol>
<p>Thank you for help. </p>
</div>
<div class="post-text" itemprop="text">
<p>If you want use html.parser, take an example, you want create a parse who get all main title (h1):</p>
<pre><code>from html.parser import HTMLParser

class MyHTMLParser(HTMLParser):
    my_titles = []
    target_id = ['article-1-b', 'article-2-a']
    COPY_DATA = False

    def handle_starttag(self, tag, attrs):
       if tag == 'h1':
           if 'id' in attrs and attrs['id'] in target_id:
               self.COPY_DATA = True

    def handle_data(self, data):
        if self.COPY_DATA:
            self.my_titles.append(data)
            self.COPY_DATA = False


parser = MyHTMLParser()
with open('my_file.html') as f:
    parser.feed(f.read())

print(parser.my_titles)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use module <code>xml</code> instead of <code>html.parser</code> to work with xml or html. It is easier.</p>
<p>I use module <code>xml.etree</code> but there are others (doc: <a href="https://docs.python.org/3/library/xml.html" rel="nofollow noreferrer">xml</a>)</p>
<p>You can read from file (<code>ET.parse(filename)</code>) but in example I use string.</p>
<p>You have to learn how to use <code>xpath</code> (ie. <code>'.//div[@id="something"]'</code>) to find elements.</p>
<pre><code>import xml.etree.ElementTree as ET

html_string = '''&lt;html&gt;
&lt;body&gt;
&lt;div id="something"&gt;Hello&lt;/div&gt;
&lt;div id="something"&gt;World&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;'''

#tree = ET.parse(filename)
tree = ET.fromstring(html_string)

divs = tree.findall('.//div[@id="something"]')

# --- screen ---

for d in divs:
    print(d.text)

# --- file ---

with open('output.txt') as f:
    for d in divs:
        f.write(d.text + '\n')
</code></pre>
</div>
<span class="comment-copy">If you don't provide an example html file with the required data and an example of what you want your csv to look like, how do you expect us to create a reasonable solution?</span>
<span class="comment-copy">Thank you, this help.  But i have a litte more question - I can add more tags - like H2 etc. But in some cases i must use "id" or "class" etc. for finding the right tag, I found some code here on stacoverflow - it works, bud im not able to combinate that together in one function. Did you understand? There is <a href="http://stackoverflow.com/questions/3276040/how-can-i-use-the-python-htmlparser-library-to-extract-data-from-a-specific-div" title="how can i use the python htmlparser library to extract data from a specific div">stackoverflow.com/questions/3276040/â€¦</a></span>
<span class="comment-copy">I don't sure to understand but I have edited code. Look and tell me.</span>
