<div class="post-text" itemprop="text">
<p>So I have a python list (called lst in the snippet below) of urls.</p>
<pre><code>/this/is/the/first/url/file.zip
/this/is/the/second/url/file.zip
...
</code></pre>
<p>I want to create another list of only the /file.zip part of each url. So far I have this:</p>
<pre><code>lst2 = []
for i in lst:
    lst2.append(i[0].split('/')][-1])
</code></pre>
<p>and it returns the /file.zip part as expected. But my question is how can I do this for the entire list?</p>
</div>
<div class="post-text" itemprop="text">
<p>Assuming <code>lst = [url1, url2, ...]</code>, your current code is very close to working optimally.</p>
<p>The last line of the code <code>lst2.append(i[0].split('/')][-1])</code> is where the problems lie.</p>
<p>By calling <code>i[0]</code> you are essentially getting the first character of the <code>i</code> string (since the <code>i</code> derives from the strings inside <code>lst</code>), and then splitting it based on <code>/</code>, which would not work. Then you have an error with the lone <code>]</code> after the <code>split</code>.</p>
<p>So, to fix this code, here is what you would do.</p>
<pre><code>lst2 = []
for i in lst:
    lst2.append(i.split('/')[-1])
</code></pre>
<p>and then, printing <code>lst2</code> would give</p>
<blockquote>
<p>['file.zip', 'file1.zip', ...]</p>
</blockquote>
<p>which is your desired output.</p>
<hr/>
<p>To explain, <code>i in lst</code> is getting every item inside the <code>lst</code> list, which are strings. Then, inside the loop, the string <code>i</code> is being split according to the <code>/</code> inside it, which generates another array. But you want the final part of that string, hence the final item in the array, which can be accessed using <code>[-1]</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a list comprehension:</p>
<pre><code>lst2 = [url.rsplit('/', 1)[-1] for url in lst]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can accomplish this with a <a href="https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>. </p>
<pre><code>lst = [
'/this/is/the/url/file.zip',
'/this/is/the/url/file1.zip',
'/this/is/the/url/file2.zip',
'/this/is/the/url/file3.zip',
'/this/is/the/url/file4.zip',
]

lst2 = [l.split('/')[-1] for l in lst]
</code></pre>
<p><code>lst2</code> now looks like this:</p>
<pre><code>['file.zip', 'file1.zip', 'file2.zip', 'file3.zip', 'file4.zip']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In addition to @Wintro answer:</p>
<p>Do you need the leading '/' in your results (/file1.zip) ? Then you have to preprend it again because <code>split()</code> will make it disappear.</p>
<p>I suggest that you use python builtin <code>pathlib</code> or <code>os.path.basename</code> or <code>os.path.split</code>: <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">https://docs.python.org/3/library/pathlib.html</a> <a href="https://docs.python.org/2/library/os.path.html#os.path.basename" rel="nofollow noreferrer">https://docs.python.org/2/library/os.path.html#os.path.basename</a></p>
<p>Also, you can use loop comprehension:</p>
<pre><code>urllst = ["url1/file1.zip", "url2/file2.zip", "..."]
filelst = ['/' + url.split('/')[-1] for url in lst]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Although it may not be necessary in this case, it is always a good idea to use the proper library for these functions. In this case, that is the <code>os</code> module:</p>
<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; [os.path.basename(i) for i in lst]
['file.zip', 'file1.zip', 'file2.zip', 'file3.zip', 'file4.zip']
</code></pre>
</div>
<span class="comment-copy">What is <code>lst</code> here?</span>
<span class="comment-copy">It's the python list that contains the urls.  I edited the post for clarification</span>
<span class="comment-copy">@Wintro.  That's the same recipe I thought would work too but I get this message when I run it: AttributeError: 'list' object has no attribute 'split'</span>
<span class="comment-copy">I do not understand <b>how</b> your code can work "as expected", it is buggy as explained by Wintro.</span>
<span class="comment-copy">@e9e9s are you sure you are putting it exactly as it is? It is working normally for me in Python2.7 and 3.5.</span>
