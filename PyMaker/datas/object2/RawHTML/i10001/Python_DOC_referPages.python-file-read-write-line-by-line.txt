<div class="post-text" itemprop="text">
<p>I am studying python file I/O. I made a simple program(<strong>main.py</strong>). </p>
<p>My goal is read line by line and write line by line.</p>
<pre><code>fstream = open("input2.txt", 'r');
line = fstream.readline()
while line:
    print(line);
    line = fstream.readline()

fstream.close()
</code></pre>
<p>below are my <code>input2.txt</code> file</p>
<pre><code>start.
hello world.
hello python.
I am studying file I/O in python
end.
</code></pre>
<p>when I run python program</p>
<blockquote>
<p>python main.py</p>
</blockquote>
<p>Then, result is ...</p>
<pre><code>start.

hello world.

hello python.

I am studying file I/O in python

end.
</code></pre>
<p>That is not the same as I expected.</p>
<p>So I modified the main.py</p>
<pre><code>fstream = open("input2.txt", 'r');
line = fstream.read().split("\n")
while line:
print(line);
line = fstream.read().split("\n")

fstream.close()
</code></pre>
<p>However my program diged into <strong>infinite loop.</strong></p>
<p><a href="https://i.stack.imgur.com/oTy2O.png" rel="nofollow noreferrer">picture of infinite loop</a></p>
<p>To solve this problem what should I do?</p>
<hr/>
<p>The result I expected is the following.</p>
<pre><code>start.
hello world.
hello python.
I am studying file I/O in python
end.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The print function will automatically add a new line character. So </p>
<pre><code>print msg
</code></pre>
<p>will print content of variable msg followed by a new line</p>
<p>If you do not want python to print the trailing new line, you have to add a comma to the end. This will print msg without the trailing newline. And if msg already has a new line which is the case when reading new lines from a file, you will see a single new line in place of double new lines.</p>
<pre><code>print msg,
</code></pre>
<p>If you are using python 3 where print is called as a function, you can specify the end argument. See <a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow noreferrer">https://docs.python.org/3/library/functions.html#print</a></p>
<pre><code>print(msg, end = '')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>First of all, use a <code>with</code> statement to open the file so that you don't need to close it explicitly. Second, don't use a <code>while</code> loop for this; you can iterate over a file directly. Third, use the <code>rstrip</code> method to remove any trailing whitespace from line you read (or <code>rstrip('\n')</code> to remove only trailing newlines):</p>
<pre><code>with open("input2.txt", 'r') as fstream:
    for line in fstream:
        line = line.rstrip('\n')
        print(line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In addition to the answers above; You can also use .splitlines()</p>
<pre><code>fstream = open("input2.txt", 'r');
line = fstream.readline().splitlines()
while line:
    print(line[0]);
    line = fstream.readline().splitlines()

fstream.close()
</code></pre>
</div>
<span class="comment-copy"><code>import sys</code>, <code>sys.stdout.write</code> instead of <code>print</code></span>
<span class="comment-copy">Try <code>rstrip()</code>.</span>
<span class="comment-copy">Don't post Python code without indentation. Badly indented Python code is nonsense.</span>
<span class="comment-copy">I think, you must close the file stream after using</span>
<span class="comment-copy">@SergeyUr No, that's the point of the <code>with</code> statement; it guarantees the file is closed, even if an uncaught exception is raised in the body of the <code>with</code> statement.</span>
