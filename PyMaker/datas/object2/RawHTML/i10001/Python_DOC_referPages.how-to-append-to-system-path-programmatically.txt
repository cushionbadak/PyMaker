<div class="post-text" itemprop="text">
<p>In python how can I programmatically append to my system path? I'm aware of <code>sys.path.append</code> and just searched the docs, I'm a little confused though. It tells me that <code>sys.path.append</code> only appends to the <code>PYTHONPATH</code> and not the actual system path. Is there a way I can programmatically append to the system path temporarily?</p>
</div>
<div class="post-text" itemprop="text">
<p>Just update the environment <code>PATH</code> variable: </p>
<pre><code>old_path = os.environ['PATH']
try:
    os.environ['PATH'] = "{}{}{}".format('/my/new/path', os.pathsep, old_path)
finally:
    os.environ['PATH'] = old_path
</code></pre>
<p>Alternately, its common for programs to keep a separate environment they use when calling other tools.</p>
<pre><code>env = os.environ.copy()
env['PATH'] = "{}{}{}".format('/my/new/path', os.pathsep, env['PATH'])
# change other env here...
subprocess.check_call(['my', 'tool'], env=env)
</code></pre>
</div>
<span class="comment-copy">That works perfectly, so am I correct that <code>sys.append.path</code> only does the <code>PYTHONPATH</code> itself?</span>
<span class="comment-copy">@Pyth0nicPenguin First of all it is <a href="https://docs.python.org/3/library/sys.html#sys.path" rel="nofollow noreferrer"><code>sys.path</code></a>(<code>.append</code>) and yes only <code>PYTHONPATH</code>.</span>
<span class="comment-copy">@Pyth0nicPenguin - Not quite. <code>sys.path.append</code> appends to the module lookup path for the running program only. If it executes other programs, they will only see the <code>PYTHONPATH</code> from the original environment. - And I mean execute as a child process, not import. If you execute other python scripts and want them to see a different path, you need to play the same <code>os.environ</code> game with <code>PYTHONPATH</code>.</span>
