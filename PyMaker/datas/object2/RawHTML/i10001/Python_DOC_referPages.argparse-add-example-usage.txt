<div class="post-text" itemprop="text">
<p>I use argparse to deal with input parameters, and it outputs the following with parser.print_help():</p>
<pre><code>optional arguments:
  -h, --help            show this help message and exit
  -t TEMPLATES, --templates TEMPLATES
                    template names to make, should be defined as section
                    name in conf, and have related file in templates/
                    folder
  -c CONFPATH, --confpath CONFPATH
                    configuration path for template detail info
</code></pre>
<p>my code looks like the following:</p>
<pre><code>    import argparse
    parser = argparse.ArgumentParser(prog='base_maker', description='template maker')
    parser.add_argument('-t', '--templates', help='template names to make, should be defined as section name in conf, and have related file in templates/ folder', type=str)
    parser.add_argument('-c', '--confpath', help='configuration path for template detail info', type=str, default=os.path.join(basepath, 'conf/maker.conf'))
</code></pre>
<p>However, I want to add a detailed example about how to use -t/--template, like (added in the <strong>example</strong> part):</p>
<pre><code>optional arguments:
  -h, --help            show this help message and exit
  -t TEMPLATES, --templates TEMPLATES
                    template names to make, should be defined as section
                    name in conf, and have related file in templates/
                    folder
  -c CONFPATH, --confpath CONFPATH
                    configuration path for template detail info

 example:

     python test.py -t template/test.py
     python test.py -t template/test -c conf/test.conf
     python test.py -t test.py
</code></pre>
<p>I don't know which attribute should be used to add "example" part, I check <a href="https://stackoverflow.com/questions/10930635/print-program-usage-example-with-argparse-module">Print program usage example with argparse modulen</a>, but it's unclear and without detailed example when I check <a href="https://docs.python.org/3/library/argparse.html#epilog" rel="noreferrer">epilog in the official doc</a>.</p>
<p>Could anyone give me a example about how to achieve that? Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to use the epilog and the formatter_class arguments to ArgumentParser if you want to have the help the example printed at the end (epilog) and to preserve the whitespace/formatting (formatter_class set to RawDescriptionHelpFormatter).</p>
<p>Example by modifying your example above:</p>
<pre><code>import argparse

example_text = '''example:

 python test.py -t template/test.py
 python test.py -t template/test -c conf/test.conf
 python test.py -t test.py'''

parser = argparse.ArgumentParser(prog='base_maker',
                                 description='template maker',
                                 epilog=example_text,
                                 formatter_class=argparse.RawDescriptionHelpFormatter)

parser.add_argument('-t', '--templates', help='template names to make, should be defined as section name in conf, and have related file in templates/ folder', type=str)
parser.add_argument('-c', '--confpath', help='configuration path for template detail info', type=str, default=os.path.join(basepath, 'conf/maker.conf'))
</code></pre>
</div>
<span class="comment-copy">Have you tried using the mentioned <code>epilog</code>? What's wrong with it?</span>
<span class="comment-copy">yes,  but how to change line inside it, I want to have multi-lines of explanation, and then I wonder whether there is a better way for it</span>
<span class="comment-copy">Have you tried passing a <code>"""multiline string"""</code> to <code>epilog</code>? I'd guess that would do it, line breaks within that will be retained. You can keep it neat as I show <a href="http://codereview.stackexchange.com/a/60369/32391">here</a>.</span>
<span class="comment-copy">Accurate, thanks, it needs formatter_class setting :)</span>
