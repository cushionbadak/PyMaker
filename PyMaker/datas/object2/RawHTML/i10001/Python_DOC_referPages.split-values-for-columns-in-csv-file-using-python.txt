<div class="post-text" itemprop="text">
<pre><code>import urllib
import csv

@manager.command
def list_routes():
    for rule in app.url_map.iter_rules():
        options = {}

    for arg in rule.arguments:
        options[arg] = "[{0}]".format(arg)

    url = rule.rule
    line = urllib.parse.unquote("{}{} ".format(rule.endpoint, url))

    with open('urls.cvs', 'a') as out:
        spamwriter = csv.writer(out, lineterminator='', dialect='excel')
        spamwriter.writerows(line)
        spamwriter.writerows('\n')
</code></pre>
<p>I need to fill in the csv file so that rule.endpoint and url have separate columns.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your <a href="https://docs.python.org/3/library/csv.html#csv.csvwriter.writerows" rel="nofollow"><code>writerows</code></a> parameter just needs to be a list of lists of the values the row should contain. So for example <code>writer.writerows([[1, 2], [3, 4]])</code> will add two rows where each row contains two values. As you add only one row you can use <code>writerow</code>:</p>
<pre><code>spamwriter.writerow([rule.endpoint, url])
</code></pre>
<p>Here is a mock-up. I'm using <code>BytesIO</code> so that I don't need to actually write to a file:</p>
<pre><code>import csv
import io
c = io.BytesIO()
w = csv.writer(c, lineterminator="", dialect="excel")
w.writerow(['endpoint', 'url'])
print(c.getvalue())  # prints: endpoint,url
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import csv
@manager.command
def list_routes():
    with open('urls.csv', 'w') as out:
        csv_writer = csv.writer(out, lineterminator='\n')
        csv_writer.writerows([[rule.endpoint, rule.rule] for rule in app.url_map.iter_rules()])
</code></pre>
</div>
<span class="comment-copy">you have incorrect indentions.</span>
<span class="comment-copy">Try <code>line = urllib.parse.unquote("{},{} ".format(rule.endpoint, url))</code> and then <code>writerow</code> instead of <code>writerows</code></span>
<span class="comment-copy">don't work. the result is written in one column</span>
<span class="comment-copy">Could you be more specific what you get and what you expect? I tested it and it seemed to work for me.</span>
