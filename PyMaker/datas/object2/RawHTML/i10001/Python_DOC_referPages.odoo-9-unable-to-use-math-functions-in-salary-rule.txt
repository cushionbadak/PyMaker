<div class="post-text" itemprop="text">
<p>First of all, I'm a Python beginner and learning to use Odoo now. I have been trying roundup the result using Python Code in Salary Rule.</p>
<p>Payroll\Configuration\Salary Rules</p>
<p>I found out there is a math function of math.ceil() to roundup the result. So I code the code below:</p>
<pre><code>import math
result = math.ceil(categories.BASIC * 0.05)
</code></pre>
<p>But I couldn't get it to work. Did I import the math library correctly?</p>
</div>
<div class="post-text" itemprop="text">
<p>Unfortunately you can't import python modules there, an alternative is to use the inbuilt <a href="https://docs.python.org/3/library/functions.html#round" rel="nofollow noreferrer"><code>round</code></a> function in python</p>
<pre><code>result = round((categories.BASIC * 0.05) + 0.5)
</code></pre>
<p>Here i just specified to round the result to 2 digits but it can be anything you want</p>
</div>
<span class="comment-copy">"... couldn't get it to work."  Is there an error somewhere?  If <code>categories.BASIC</code> is a number then the code should work. (admittedly not familiar with odoo-9)</span>
<span class="comment-copy">yes <code>categories.BASIC</code> is a number. The error shown in odoo is <i>Wrong python code defined for salary rule RULE NAME.</i></span>
<span class="comment-copy">Actually I have tried that already. It does not output the result I need. I wish to roundup the number regardless of how many cents. For example, 20.01, 20.30, 20.50 and so on will roundup to 21.00.</span>
<span class="comment-copy">you can add <code>0.5</code> to the answer to mimic <code>math.ceil</code> (It's hacky but it works)</span>
<span class="comment-copy">Sorry, didn't see the <code>+0.5</code> earlier. Yes. I just tested the code out and it works as expected. thank you so much.</span>
