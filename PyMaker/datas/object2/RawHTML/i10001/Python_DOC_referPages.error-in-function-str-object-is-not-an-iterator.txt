<div class="post-text" itemprop="text">
<p>I have a problem with the following function in python (where swap is a function that I have previously created and that works fine):</p>
<pre><code>def swap (cards):
     """
     &gt;&gt;&gt; swap('FBFFFBFFBF')
     'BFBBBFBBFB'
     &gt;&gt;&gt; swap('BFFBFBFFFBFBBBFBBBBFF')
     'FBBFBFBBBFBFFFBFFFFBB'
     &gt;&gt;&gt; swap('FFBFBFBFBFBFBFBBFBFBFBFBBFBFBBFBF')
     'BBFBFBFBFBFBFBFFBFBFBFBFFBFBFFBFB'
     """
    invert=""
    for i in cards:
        if i is "B":
            invert+="F"
        else:
            invert+="B"
    return (invert)

def swap2 (cards):    
    """
    &gt;&gt;&gt; next('FBFFFBFFBF')
    'FFBBBFBBFF'
    &gt;&gt;&gt; next('BFFBFBFFFBFBBBFBBBBFF')
    'FBBFBFBBBFBFFFBFFFFFF'
    &gt;&gt;&gt; next('FFBFBFBFBFBFBFBBFBFBFBFBBFBFBBFBF')
    'FFFBFBFBFBFBFBFFBFBFBFBFFBFBFFBFF'
    """
    indices=""
    for pos, i in enumerate(cards):
        if i =="B":
            indices+=str(pos)
    first= int(indices[0])
    last=  int(indices[-1])
    prefix= cards [:first]
    middle= cards [first:last+1]
    suffix= cards [last+1:]
    middle2=swap(middle)
    return (prefix+middle2+suffix)

def turns (cards):
    """
    &gt;&gt;&gt; turns('FBFFFBFFBF')
    3
    &gt;&gt;&gt; turns('BFFBFBFFFBFBBBFBBBBFF')
    6
    &gt;&gt;&gt; turns('FFBFBFBFBFBFBFBBFBFBFBFBBFBFBBFBF')
    14
    """
    turn=0
    while cards != 'F'*len(cards):
        cards=swap2(cards)
        turn+=1
    return (turn)

if __name__ == '__main__':
    import doctest
    doctest.testmod()
</code></pre>
<p>when I run this function it works fine but if I use doctest to see if there are mistakes it tells me: </p>
<pre><code>TypeError: 'str' object is not an iterator
</code></pre>
<p>I don't know where this error comes from.
Can anyone help me?</p>
<p>complete output of the doctest:</p>
<pre><code>File "C:\Users\manuel\Documents\Gent MaStat\programming and algorithms\workspace_python\homeworks\Week 5\looking_up.py", line 25, in __main__.swap2
Failed example:
    next('FBFFFBFFBF')
Exception raised:
    Traceback (most recent call last):
      File "C:\Users\manuel\Anaconda3\lib\doctest.py", line 1321, in __run
        compileflags, 1), test.globs)
      File "&lt;doctest __main__.swap2[0]&gt;", line 1, in &lt;module&gt;
        next('FBFFFBFFBF')
    TypeError: 'str' object is not an iterator
**********************************************************************
File "C:\Users\manuel\Documents\Gent MaStat\programming and algorithms\workspace_python\homeworks\Week 5\looking_up.py", line 27, in __main__.swap2
Failed example:
    next('BFFBFBFFFBFBBBFBBBBFF')
Exception raised:
    Traceback (most recent call last):
      File "C:\Users\manuel\Anaconda3\lib\doctest.py", line 1321, in __run
        compileflags, 1), test.globs)
      File "&lt;doctest __main__.swap2[1]&gt;", line 1, in &lt;module&gt;
        next('BFFBFBFFFBFBBBFBBBBFF')
    TypeError: 'str' object is not an iterator
**********************************************************************
File "C:\Users\manuel\Documents\Gent MaStat\programming and algorithms\workspace_python\homeworks\Week 5\looking_up.py", line 29, in __main__.swap2
Failed example:
    next('FFBFBFBFBFBFBFBBFBFBFBFBBFBFBBFBF')
Exception raised:
    Traceback (most recent call last):
      File "C:\Users\manuel\Anaconda3\lib\doctest.py", line 1321, in __run
        compileflags, 1), test.globs)
      File "&lt;doctest __main__.swap2[2]&gt;", line 1, in &lt;module&gt;
        next('FFBFBFBFBFBFBFBBFBFBFBFBBFBFBBFBF')
    TypeError: 'str' object is not an iterator
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>def swap2 (cards):    
    """
    &gt;&gt;&gt; next('FBFFFBFFBF')
    'FFBBBFBBFF'
    &gt;&gt;&gt; next('BFFBFBFFFBFBBBFBBBBFF')
    'FBBFBFBBBFBFFFBFFFFFF'
    &gt;&gt;&gt; next('FFBFBFBFBFBFBFBBFBFBFBFBBFBFBBFBF')
    'FFFBFBFBFBFBFBFFBFBFBFBFFBFBFFBFF'
    """

    # …
</code></pre>
<p>The function is called <code>swap2</code> but within the doctests, you are using <code>next</code> which happens to be a <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer">built-in function</a> that does something completely different. That’s why you are seeing that error.</p>
<hr/>
<p>At times like this, it’s really important to actually look at the error messages. It clearly told you what was called:</p>
<pre><code>File "&lt;doctest __main__.swap2[0]&gt;", line 1, in &lt;module&gt;
  next('FBFFFBFFBF')
</code></pre>
<p>So if you don’t know where that was supposed to come from, then check out the error message. Doctest will tell you what it is executing: <code>swap2[0]</code>, <code>swap2[1]</code>, etc. tells you the function name the docstring that is being executed is by doctest and which test case it is (<code>0</code> is the first, <code>1</code> the second etc.). It even gives you the <em>line number</em> (within the doctest case) where the error appeared, and of course the line that was causing the error. So use that information to go to the problematic code, and figure out what the problem is.</p>
</div>
<span class="comment-copy">What argument are you passing into this function?</span>
<span class="comment-copy">Edit your question to show us how you run doctest, including the full output.</span>
<span class="comment-copy">This function has no docstring, so I suspect the error is coming from somewhere else.</span>
<span class="comment-copy">You can't call <code>next()</code> on a string.  What are you trying to do?</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next()</code></a> is probably not what you expect it to be. Why do you think you can call it like that? And what does your other code even remotely have to do with that? Are you sure you didn’t mean to call e.g. <code>swap(…)</code> or something? Also, why are you running doctests, there are no docs in that source.</span>
