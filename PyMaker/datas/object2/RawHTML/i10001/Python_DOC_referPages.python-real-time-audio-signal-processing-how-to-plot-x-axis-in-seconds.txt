<div class="post-text" itemprop="text">
<p>I want to plot real time original audio signal and fft signal.</p>
<p>my code is,</p>
<pre><code>socket_server.bind(server_address)

print "Listening...\n"

while(True):   
    packet, client = socket_server.recvfrom(buffer_size)
    count=count+1

    if packet=='stop':
        print "client stops to send packets"
        break

    #Convert packet to numpy array
    signal.append(np.fromstring(packet, dtype=np.int16))

print "First Here"

socket_server.close()


signal_f = np.fft.fft(signal)
**Time = np.linspace(0,(len(signal)*(buffer_size/2))/sample_rate, num=(buffer_size/2))**

f, ax = plt.subplots(2, sharex=True)
ax[0].plot(Time, signal)
ax[0].set_title('Original Signal')
ax[1].plot(Time, abs(signal_f), 'r')
ax[1].set_title('fft signal')
plt.show()
</code></pre>
<p>I receive packets(which are 16 bit pcm data) from android app. and minbuffersize is 3584 bytes. (buffer_size = 3584) </p>
<p>To get time vector, I should divide size of signal by frame rate.</p>
<p>So in bold line, i think size of signal is len(signal)(# of received packet) * buffer size/2(1792 bytes -&gt; size of packet received). is it wrong?</p>
<p>after check, calculated time is exact! I used stopwatch and compared the result of [(len(signal)*(buffer_size/2))/sample_rate]. both are the same.</p>
<p>but above code results error in plotting. </p>
<p><em>ax[0].plot(Time, signal)</em>
error is " x and y must have same first dimension"</p>
<p>what should i do?,,</p>
</div>
<div class="post-text" itemprop="text">
<p>In the line where you call np.linespace(),  try replacing num=(buffer_size/2), by num=len(signal)</p>
<p>The line becomes</p>
<pre><code>Time = np.linspace(0,(len(signal)*(buffer_size/2))/sample_rate, num=len(signal) )
</code></pre>
</div>
<span class="comment-copy">Please format your code correctly, indenting four spaces.</span>
<span class="comment-copy">i edited it! Thank you!</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">Catch The error</a>, inspect Time and signal (specifically their dimensions) to see if there is a clue there, backtrack in the code, figure out what caused if.</span>
