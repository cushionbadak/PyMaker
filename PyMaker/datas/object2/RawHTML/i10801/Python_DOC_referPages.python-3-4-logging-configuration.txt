<div class="post-text" itemprop="text">
<p>I am trying to convert my current projects from python 2.7 to 3.5. One of the first tasks is configuration of logging. I use a configuration file for flexibility and the date is part of the file name.
Below is the code for setting up the file handler that works fine in 2.7</p>
<pre><code>[handler_fileHandler]
class=FileHandler
level=DEBUG
formatter=simpleFormatter
# Only one log per day will be created. All messages will be appended to it.
args=("D:\\Logs\\PyLogs\\" + time.strftime("%Y%m%d%H%M%S")+'.log', 'a')
</code></pre>
<p>In 3.5 the following error occurs:</p>
<blockquote>
<p>configparser.InterpolationSyntaxError: '%' must be followed by '%' or '(', found: '%Y%m%d%H%M%S")+\'.log\', \'a\')'</p>
</blockquote>
<p>Has anyone experience with this? Is there a better way to format the date within the configuration file?</p>
</div>
<div class="post-text" itemprop="text">
<p>similar subject as this post:
<a href="https://stackoverflow.com/questions/14340366/configparser-and-string-with">Configparser and string with %</a></p>
<p>I think you may need the substitution for %</p>
</div>
<span class="comment-copy">I'm surprised this worked at all in 2.7. Why not use a <a href="https://docs.python.org/3/library/logging.handlers.html#timedrotatingfilehandler" rel="nofollow noreferrer"><code>TimedRotatingFileHandler</code></a> though? <code>class=TimedRotatingFileHandler</code>, with <code>when='D'</code>.</span>
<span class="comment-copy">I didn't use a TimeRotatingFileHandler, because it didn't do what I wanted, but thanks for suggestion.</span>
<span class="comment-copy">I looked at that before and it didn't offer any help</span>
<span class="comment-copy">Doubling the <code>%</code> did not fix it?</span>
<span class="comment-copy">Actually it did fix it. I had not tried it because I assumed that it would simply shift the problem from the configparser to time.strftime.</span>
