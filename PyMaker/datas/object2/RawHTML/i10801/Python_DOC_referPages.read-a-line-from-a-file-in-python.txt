<div class="post-text" itemprop="text">
<p>I have one file named <code>mcelog.conf</code> and I am reading this file in my code. Contents of the file are </p>
<pre><code>no-syslog = yes   # (or no to disable)
logfile = /tmp/logfile
</code></pre>
<p>Program will read the <code>mcelog.conf</code> file and will check for the <code>no-syslog</code> tag, if <code>no-syslog = yes</code> then program has to check for the tag <code>logfile</code> and will read the  <code>logfile</code> tag. Can anyone let me know how I can get the value <code>/tmp/logfile</code></p>
<pre><code>with open('/etc/mcelog/mcelog.conf', 'r+') as fp:
    for line in fp:
        if re.search("no-syslog =", line) and re.search("= no", line):
            memoryErrors = readLogFile("/var/log/messages")
            mcelogPathFound = true
            break
        elif re.search("no-syslog =", line) and re.search("= yes", line):
            continue
        elif re.search("logfile =", line):  
            memoryErrors = readLogFile(line)   # Here I want to pass the value "/tmp/logfile" but currently "logfile = /tmp/logfile" is getting passed
            mcelogPathFound = true
            break
fp.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Change the code to:</p>
<pre><code>with open('/etc/mcelog/mcelog.conf', 'r+') as fp:
    for line in fp:
        if re.search("no-syslog =", line) and re.search("= no", line):
            memoryErrors = readLogFile("/var/log/messages")
            mcelogPathFound = true
            break
        elif re.search("no-syslog =", line) and re.search("= yes", line):
            continue
        elif re.search("logfile =", line):  
            emoryErrors = readLogFile(line.split("=")[1].strip())   # Here I want to pass the value "/tmp/logfile" but currently "logfile = /tmp/logfile" is getting passed
            mcelogPathFound = true
            break
 fp.close()
</code></pre>
<p>This is because you want to read only a part of the line rather the whole thing so I have just split it up by the  "=" sign and then stripped it to remove any blanks</p>
</div>
<div class="post-text" itemprop="text">
<p>You can just split the line to get the value you want:</p>
<pre><code>line.split(' = ')[1]
</code></pre>
<p>However, you might want to look at the documentation for <a href="https://docs.python.org/3/library/configparser.html" rel="nofollow">configparser module</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>I liked the suggestion of the <code>configparser</code> module, so here is an example of that (Python 3)</p>
<p>For the given input, it will output <code>reading /var/log/messages</code></p>
<pre><code>import configparser, itertools
config = configparser.ConfigParser()
filename = "/tmp/mcelog.conf"

def readLogFile(filename):
    if filename:
        print("reading", filename)
    else:
        raise ValueError("unable to read file")

section = 'global'
with open(filename) as fp:
    config.read_file(itertools.chain(['[{}]'.format(section)], fp), source = filename)

no_syslog = config[section]['no-syslog']
if no_syslog == 'yes':
    logfile = "/var/log/messages"
elif no_syslog == 'no':
    logfile = config[section]['logfile']

if logfile:
    mcelogPathFound = True

memoryErrors = readLogFile(logfile)
</code></pre>
</div>
<span class="comment-copy">Have you tried regex groups? Or even split on the equal sign, and essentially make a dictionary of key-values?</span>
<span class="comment-copy">No , I have not tried regex groups, If I am going to split each and every line with '=' sign then there is a chance that if some comments are present  in the file then exception will arise. @ cricket-007</span>
<span class="comment-copy">Why? You've commented on both answers that tell you the same thing</span>
<span class="comment-copy">I have not tried regex groups because I don't know that how to use. If you can let me know that how to use then it will be a great help. I have commented on the answers because one answer was not proper, later he modified the answer. @cricket-007</span>
<span class="comment-copy">When I tried <code>emoryErrors = readLogFile(line).split("=")[1].strip()</code> still readLogFile function is passing the same argument "logfile = /tmp/logfile". but when I am passing like <code>emoryErrors = readLogFile(line.split("=")[1].strip())</code> then its working fine. @gaurav-dhama</span>
<span class="comment-copy">Yeah a mistake on my part. Have modified my answer to reflect the same. I hope you got the idea though.</span>
<span class="comment-copy">Yeah  got the idea and its working fine. Thanks @gaurav-dhama</span>
<span class="comment-copy">When I tried <code>emoryErrors = readLogFile(line.split(" = ")[1].strip())</code> , then its wirking fine. Thanks @icart</span>
