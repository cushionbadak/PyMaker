<div class="post-text" itemprop="text">
<p>I would like to use autocompletion for a pre-compiled and stored list of regular expressions, but it doesn't appear that I can import the _sre.SRE_Pattern class, and I can't programmatically feed the obtained type from type() to a comment of the format # type: classname or use it for a return -&gt; classname style hint</p>
<p>is there a way to explicitly import a class from the _sre.c thing?</p>
</div>
<div class="post-text" itemprop="text">
<p>You should use <a href="https://docs.python.org/3/library/typing.html#typing.Pattern" rel="nofollow noreferrer"><code>typing.Pattern</code> and <code>typing.Match</code></a> which were specifically added to the typing module to accommodate this use case.</p>
<p>Example:</p>
<pre><code>from typing import Pattern, Match
import re

my_pattern = re.compile("[abc]*")  # type: Pattern[str]
my_match = re.match(my_pattern, "abbcab")  # type: Match[str]
print(my_match)
</code></pre>
</div>
<span class="comment-copy">I think __Regex might be a built in name that could accomplish this.</span>
<span class="comment-copy">Have you considered using <a href="https://docs.python.org/3/library/typing.html#typing.re" rel="nofollow noreferrer">docs.python.org/3/library/typing.html#typing.re</a></span>
<span class="comment-copy">It doesn't look like pycharm understands the typing module completely yet, but it does appear this is how it is supposed to work.</span>
<span class="comment-copy">Pycharm certainly complains  and complains that the Type of an re.compile is _Regex (and not typing.Pattern or typing.Pattern[str])</span>
<span class="comment-copy">Be aware that <code>typing</code> was added in 3.5, so your code will throw runtime errors on 3.4 or older.</span>
<span class="comment-copy">@EdwardNedHarvey -- you can get around that by installing the <code>typing</code> module via pip. It's available as a backport for Python 2.7 and 3.3+.</span>
