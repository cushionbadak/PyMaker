<div class="post-text" itemprop="text">
<p>I am trying to get my python script to read a text file with a list of file names with extensions and print out when it finds a particular extension (.txt files to be exact). It reads the file and goes through each line (I've tested by putting a simple "print line" after the for statement), but doesn't do anything when it sees ".txt" in the line. To avoid the obvious question, yes I'm positive there are .txt files in the list. Can someone point me in the right direction?</p>
<pre><code>with open ("file_list.txt", "r") as L:
for line in L:
    if line.endswith(".txt"):
        print ("This has a .txt: " + line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Each line ends with a new line character <code>'\n'</code> so the test will rightly fail. So you should <code>strip</code> the line first then test:</p>
<pre><code>line.rstrip().endswith('.txt')
#      ^
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I guess you should add the endline sign <code>\n</code> at the end of the extension:</p>
<pre><code>with open ("file_list.txt", "r") as L:
for line in L:
    if line.endswith(".txt\n"):
        print ("This has a .txt: " + line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/stdtypes.html?highlight=rstrip#str.rstrip" rel="nofollow"><code>str.rstrip</code></a> to remove trailing whitespaces, such as <code>\n</code> or <code>\r\n</code>.</p>
<pre><code>with open ("file_list.txt", "r") as L:
    for line in L:
        if line.rstrip().endswith(".txt"):
            print ("This has a .txt: " + line)
</code></pre>
</div>
<span class="comment-copy">try <code>line.strip().endswith(".txt')</code></span>
<span class="comment-copy">Yes! This did it. I can't believe I forgot about the new line character. I can't mark this as the answer yet, but I will</span>
<span class="comment-copy">And if the line has a whitespace after <code>'.txt'</code> as in <code>line = 'my_test.txt \n'</code>?</span>
<span class="comment-copy">That'll do it too. Thanks!</span>
<span class="comment-copy">@MosesKoledoye and if the line has a smiley after `.txt'? that's not a normal case.</span>
<span class="comment-copy">Don't get me wrong. The point is that your code is quite easy to break. One could also have <code>'\r\n'</code> at the end of the line as with Windows</span>
<span class="comment-copy">@MosesKoledoye White space at the end of the line might just as well be part of the file name.  It's not likely that it is, but without further information  on the format of the input file, it's impossible to tell what the correct behaviour is.</span>
<span class="comment-copy">This is exactly what I needed. Thanks!</span>
