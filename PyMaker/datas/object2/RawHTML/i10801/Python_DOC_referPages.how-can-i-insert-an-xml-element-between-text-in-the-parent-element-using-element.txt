<div class="post-text" itemprop="text">
<p>I want to generate XML like this: </p>
<pre><code>&lt;Element&gt;some text &lt;Child&gt;middle text&lt;/Child&gt; some more text&lt;/Element&gt;.
</code></pre>
<p>How can I do this using ElementTree?</p>
<p>I couldn't find it in <a href="https://docs.python.org/2/library/xml.etree.elementtree.html" rel="nofollow noreferrer">the docs</a>. I thought <a href="https://stackoverflow.com/questions/25824920/python-elementtree-how-to-add-subelement-at-very-specific-position"><code>element#insert</code></a> would work, but that's for inserting a child in a specific position relative to other children.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to define the child element and set it's <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.tail" rel="nofollow"><code>.tail</code></a>, then <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.append" rel="nofollow">append</a> it to the parent:</p>
<pre><code>import xml.etree.ElementTree as ET


parent = ET.Element("Element")
parent.text = "some text "

child = ET.Element("Child")
child.text = "middle text"
child.tail = " some more text"

parent.append(child)

print(ET.tostring(parent))
</code></pre>
<p>Prints:</p>
<pre><code>&lt;Element&gt;some text &lt;Child&gt;middle text&lt;/Child&gt; some more text&lt;/Element&gt;
</code></pre>
</div>
<span class="comment-copy">Are you sure you need to generate XML with elementree as opposed to, say, use a template engine, like <code>mako</code> or <code>jinja2</code> and fill out an XML template? Thanks.</span>
<span class="comment-copy">Thank you very much!</span>
