<div class="post-text" itemprop="text">
<p>I'm trying to add all the timezones to a tuple in Python. I have done it this way:</p>
<pre><code>ALL_TIMEZONES = (
    for idx, tz in enumerate(pytz.all_timezones):
        (idx, (tz)),
)
</code></pre>
<p>But I get a syntax error when <code>for</code> starts.</p>
<p>Why can't I do it that way? Must I do the iteration <em>outside</em> the tuple and append?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can't do it that way because your expression is not producing a value.</p>
<p>You can use a generator expression to achieve that:</p>
<pre><code>ALL_TIMEZONES = tuple((idx, tz) for idx, tz in enumerate(pytz.all_timezones))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow"><code>enumerate</code></a> returns an iterator which produces tuples when you iterate over it.  <a href="https://docs.python.org/3/library/stdtypes.html#typesseq-tuple" rel="nofollow"><code>tuple()</code></a> will consume an iterator. So ...</p>
<pre><code>&gt;&gt;&gt; a = ['a','b','c']
&gt;&gt;&gt; tuple(enumerate(a))
((0, 'a'), (1, 'b'), (2, 'c'))
&gt;&gt;&gt;
</code></pre>
<p>For your solution:</p>
<pre><code>tuple(enumerate(pytz.all_timezones))
</code></pre>
</div>
<span class="comment-copy">I suggest you look here: <a href="http://stackoverflow.com/documentation/python/196/comprehensions">stackoverflow.com/documentation/python/196/comprehensions</a></span>
<span class="comment-copy">Your instinct is correct, you cannot put a for loop, <i>in that form</i>, inside a tuple.</span>
<span class="comment-copy"><code>Why can't I do it that way? </code> - because the language does not allow that.</span>
<span class="comment-copy">I believe you have created a <a href="https://docs.python.org/3/glossary.html#term-generator-expression" rel="nofollow noreferrer">generator expression</a>, not a list comprehension.</span>
<span class="comment-copy">True, since it's using a tuple. Thanks.</span>
<span class="comment-copy">Hmm,,, it is a <a href="https://docs.python.org/3/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expression</a> because <code>"...it is enclosed in parentheses instead of brackets or curly braces."</code></span>
