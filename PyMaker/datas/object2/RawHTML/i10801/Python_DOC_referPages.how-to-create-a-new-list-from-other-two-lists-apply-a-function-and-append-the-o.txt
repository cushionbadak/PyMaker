<div class="post-text" itemprop="text">
<p>thank you in advance for the help.</p>
<p>I need to retrieve some data (clients and products) from a WebService. This code gets the data and transforms it into lists with dictionaries within them.</p>
<pre><code>    consumidores = requests.get(url + 'all_consumers', headers=custom_header)  # lista
    con = consumidores.json()
    productos = requests.get(url + 'all_products', headers=custom_header)  # lista
    prod = productos.json()

    c = []

    for key in con:
        c = [key['genero'], key['complexion'], key['tallaCamisa'], key['tallaPantalon'], key['edad'], key['ubicacion'],
         key['valorComercial'], key['valorCompra']]

    p = []
    for index in prod:
        p = [index['genero'], index['precio']]
</code></pre>
<p>Whats I need to do is to create two lists, one for costumers and one for products. Choose some specific elements for each costumer and product and create a new list that have to look like this</p>
<pre><code>new_list = [[costumer_1, costumer_element1, costumer_element2 , ... , product_1, product_element1, product_element2, ...], [costumer_1, costumer_element1, ..., product_1, product_element1, ...], [costumer_2, costumer_elementn, ... product_1, product_element1 ,...] , ...]
</code></pre>
<p>Then apply a function that will relate costumers with products and append the result to the list that produced that output:</p>
<pre><code>results = [[costumer_1, costumer_element1, costumer_element2 , ... , product_1, product_element1, product_element2, RESULT], etc]

    for key in con:
    index=0
    param_relcp = c[index][key['genero'],key['edad']]
    index=index + 1
</code></pre>
<p>This returns an error: IndexError: list index out of range and using this</p>
<pre><code>c = []
for key in con:
    c = [key['genero'], key['complexion'], key['tallaCamisa'], key['tallaPantalon'], key['edad'], key['ubicacion'],
         key['valorComercial'], key['valorCompra'], key['id']]
</code></pre>
<p>Only takes the elements only from the first one of the list of lists. Any help will be appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your loops all appear to do nothing, e.g.</p>
<pre><code>for key in con:
    c = [key['genero'], key['complexion'], key['tallaCamisa'], key['tallaPantalon'], key['edad'], key['ubicacion'],
         key['valorComercial'], key['valorCompra']]
</code></pre>
<p>replaces <code>c</code> every time, and you only get the last value from the last time through the loop. You do the same for <code>p</code> and the same for <code>param_relcp</code>.</p>
<p>Either:</p>
<pre><code>c = []
for key in con:
    c.append([key['genero'], key['complexion'], key['tallaCamisa'], key['tallaPantalon'], key['edad'], key['ubicacion'],
             key['valorComercial'], key['valorCompra']])
</code></pre>
<p>or</p>
<pre><code>c = [[key['genero'], key['complexion'], key['tallaCamisa'], key['tallaPantalon'], key['edad'], key['ubicacion'],
             key['valorComercial'], key['valorCompra'] for key in con]
</code></pre>
<p>and the same for the others.</p>
</div>
<span class="comment-copy">Please read <a href="http://stackoverflow.com/help/mcve">How to create a Minimal, Complete, and Verifiable example</a>. Remove all unnecessary code at the begining and provide examples of the input and output lists.</span>
<span class="comment-copy">I did, I don't know what you mean</span>
<span class="comment-copy">I did'nt understand, you succeed to retrieve the data from the web? How it look like? You succeed to create the lists of products and costumer? How they look like? The problem is in the first, third or fourth block of code?</span>
<span class="comment-copy">Oh thank you for the insight. Yes, I succeeded to retrieve the data from the web service. The data looks like this:   [{ key: value, key: value ... }, {key2: value, ... }]  It's a list of dictionaries.  THe problem is at the fourth code block. Sorry for the lack of correct question formatting. English is not my first language and still learning how to correctly use stack overflow. Thank you in advance</span>
<span class="comment-copy">Put a <code>try/except</code> around the offending loop and in the <code>except</code> suite print out the relevant variables (<code>index</code>, <code>c</code>, <code>key</code>) to see what is happening. <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">docs.python.org/3/tutorial/errors.html#handling-exceptions</a> - you might want to use <code>pprint</code> to print complicated structures - <a href="https://docs.python.org/3/library/pprint.html" rel="nofollow noreferrer">docs.python.org/3/library/pprint.html</a></span>
<span class="comment-copy">It worked wonders. This creates two lists of lists, one of consumers and one for products. How can I append all the product lists to the first client, all the product lists to the second client and so on. To make a lists of lists composed of a list of consumers + the data from products?</span>
