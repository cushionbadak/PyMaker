<div class="post-text" itemprop="text">
<p>I have a program that polls a servers current Wi-Fi status every minute, and saves that info to a .txt file. The output is:</p>
<p>*****CURRENT WIFI SIGNAL STRENGTH*****:           Link Quality=57/70  Signal level=-53 dBm </p>
<p>The text file contains many of these lines. What I'm trying to accomplish is:
-Find the signal dBm values in all the lines, and append them to an array so I can then I can do other functions such as sort and average. I can't seem to get it working quite right. </p>
<p>Does anyone know how to do this?</p>
<p>Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>I would go through each line in the file and split the line at <code>=</code>, then get the last value, split it at the space, and then get the first value which would yield <code>-53</code>.</p>
<pre><code>strengthValues = []
f = open("input.txt", "r")
fileLines = f.readlines()
for line in fileLines:
    lineSplit = line.split('=')
    strengthValues.append(lineSplit[-1].split()[0])
print strengthValues
</code></pre>
<p>Or list comprehension:</p>
<pre><code>f = open("test.txt", "r")
fileLines = f.readlines()
strengthValues = [line.split('=')[-1].split()[0] for line in fileLines]
print strengthValues
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>signal_levels = []

try:
    with open("file.txt") as fh:
        lines = fh.readlines()
except IOError as err:
    # error handling
</code></pre>
<p>Then you can either make use of the <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer"><code>re</code></a> module:</p>
<pre><code>for line in lines:
     matches = re.search(r'Signal level=(-?[0-9]+) dBm$', line)
     if matches is None:
         # possible error handling
     signal_levels.append(int(matches.group(1)))
</code></pre>
<p>Or without it (inspired by <a href="https://stackoverflow.com/a/30647005/4607488">heinst's answer</a>):</p>
<pre><code>for line in lines:
    try:
        value = int(line.split('=')[-1].split()[0])
        signal_levels.append(value)
    except ValueError as err:
        # possible error handling
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Assuming that the signal level is the only negative number on any line you could use a regular expression with the <a href="https://docs.python.org/2/library/re.html#re.findall" rel="nofollow">findall</a> function to search for all negative numbers in the file and return them as a list of strings (based on MC93's answer).</p>
<pre><code>import re
f_in = open("input.txt", "r")
signal_levels = re.findall("-\d+", f_in.read())
</code></pre>
<p>Alternatively, you could get a list of ints with a list comprehension.</p>
<pre><code>signal_levels = [int(n) for n in re.findall("-\d+", f_in.read())]
</code></pre>
</div>
<span class="comment-copy">If you have <code>Signal level=</code> on every line, you could search for what is between that and <code>dBm</code></span>
