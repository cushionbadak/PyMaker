<div class="post-text" itemprop="text">
<p>I have a custom archive file that contains multiple files.  I know the offset and lengths of these files and want to extract them.  Right now, my code just creates blank files, I don't know how to read the data.  How can I get the data out of the archive given what I know?</p>
<pre><code>import os

dir_path = '/path/to/data/dir'
file_path = os.path.join(s, 'archive')

names = ['file1.txt', 'file2.txt']
lengths = [1024, 512]
offsets = [0, 1024]

for name in names:
    open(os.path.join(dir_path, 'extract', name), 'w').close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/io.html#io.IOBase.seek" rel="nofollow"><code>seek</code></a> and <a href="https://docs.python.org/3/library/io.html#io.RawIOBase.read" rel="nofollow"><code>read</code></a> to read chunks of bytes from the file.</p>
<pre><code>with open(file_path, 'rb') as f:
    for start, length, name in zip(offsets, lengths, names):
        f.seek(start)

        with open(name, 'wb') as out:
            out.write(f.read(length))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>infile = (r'path\to\file.xxx')
start,length =(file_sta),(file_len)
with open(infile, 'rb') as infile_:
    infile_read = infile_.read(file_sta:file_len)
with open(((infile)+'alt'),'wb')as out:
    out_write = out.write(infile_read)
</code></pre>
</div>
<span class="comment-copy">If you have another question, post a new question. Do not completely change your post.</span>
