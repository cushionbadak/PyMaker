<div class="post-text" itemprop="text">
<p>RFC1918 defines private IPv4 addresses as those that fall within any of the following ranges:</p>
<pre><code>10.0.0.0 - 10.255.255.255
172.16.0.0 - 172.31.255.255
192.168.0.0 - 192.168.255.255
</code></pre>
<p>I'm adding 127.0.0.1 to this list, for the purposes of my analysis. I know there are tried-and tested regex's to match any IPv4 address, but how would I narrow one of these to down to matching only if the address falls in one of the above ranges or in 127.0.0.1? Will be using Python.</p>
<p>Many thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>The following regexp should work:</p>
<pre><code>^(?:10|127|172\.(?:1[6-9]|2[0-9]|3[01])|192\.168)\..*
</code></pre>
<p><a href="https://regex101.com/r/bO9kB2/2" rel="nofollow">DEMO</a></p>
</div>
<div class="post-text" itemprop="text">
<p>In Python 3.3+ (you did not specify a version, nor why regular expressions are a requirement, so I’ll put this here for completeness), you can:</p>
<pre><code>import ipaddress

addr_string = # string with your IP address
try:
    addr = ipaddress.IPv4Address(addr_string)
except ValueError:
    raise # not an IP address
if addr.is_private:
    pass # is a private address
</code></pre>
<p>See also: <a href="https://docs.python.org/3/library/ipaddress.html" rel="noreferrer">ipaddress module documentation</a></p>
</div>
<span class="comment-copy">I don't know how you do this with a regex. I think you'll need to convert the addresses to variables then see if the value being passed in falls in between any of the ranges in your list. <a href="http://stackoverflow.com/questions/9590965/convert-an-ip-string-to-a-number-and-vice-versa" title="convert an ip string to a number and vice versa">stackoverflow.com/questions/9590965/…</a></span>
<span class="comment-copy">Don't make the mistake of believing that only 127.0.0.1 is loopback.  127.0.0.0/8 is, in fact, a class A address, meaning that anything that begins with 127 will map to loopback.  For your purposes I think this will matter.</span>
<span class="comment-copy">This unfortunately is not the correct answer.  It also matches this address:  192.168.266.333 and even a full match on this total syntax error:  10.333.333.333. with the period trailing.</span>
<span class="comment-copy">@CollinChaffin The way I understood the question is that he has something that's already a valid IP address, and he's just trying to classify it as being a private versus public IP. This isn't being used to find the IP addresses in the first place.</span>
