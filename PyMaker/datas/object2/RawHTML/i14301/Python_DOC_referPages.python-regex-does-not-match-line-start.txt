<div class="post-text" itemprop="text">
<p>I have a text file with some data:</p>
<pre><code>... 
DATA_ARRAY Some[] =
{
...
};
</code></pre>
<p>and I have a python 2.7 regex like this:</p>
<pre><code>regx = re.compile("^DATA_ARRAY Some\[\].*?};", re.DOTALL)
regmatch = re.search(regx, data)
print regmatch.group(0)
</code></pre>
<p>The problem is that the regex does not match anything (regmatch is None). If I remove the ^ then it matches just fine. </p>
<p>What am I doing incorrectly here? I would like to add the line beginning search symbol.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>^</code> checks for start of the string.. add <code>re.MULTILINE</code> flag.</p>
<pre><code>regx = re.compile("^DATA_ARRAY Some\[\].*?};", re.MULTILINE|re.DOTALL)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/2/library/re.html" rel="nofollow">modifier <code>^</code></a> forces your regex engine to match the regex from start of string. and since your string doesn't start with <code>DATA_ARRAY</code> it returns <code>None</code>.</p>
<p>And as @nanny mentioned If you also want it to match the start of each line, use <code>re.MULTILINE</code> flag :</p>
<pre><code>regx = re.compile("^DATA_ARRAY Some\[\].*?};", re.DOTALL|re.MULTILINE)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you add a <code>re.MULTILINE</code> flag it should work.</p>
<p>This will make the flags look like <code>re.MULTILINE|re.DOTALL</code></p>
</div>
<span class="comment-copy">That did the trick, thanks!</span>
<span class="comment-copy">Happy to help.. :)</span>
<span class="comment-copy">Indeed. If you also want it to match the start of each line, use <code>re.MULTILINE</code>: <a href="https://docs.python.org/3/library/re.html#re.MULTILINE" rel="nofollow noreferrer">docs.python.org/3/library/re.html#re.MULTILINE</a></span>
<span class="comment-copy">@nanny Sure, thank for comment!</span>
<span class="comment-copy">This answer is correct, <code>^</code> matches the start of the string, or the start of a line in case <code>re.MULTILINE</code> is set. So, depending if <code>DATA_ARRAY</code> is always at the start of a new line in the string, you need to get rid of the caret from the pattern or add the <code>re.MULTILINE</code> argument.</span>
<span class="comment-copy">I actually tried to change the re.DOTALL to re.MULTILINE but it still behaves the same way.</span>
<span class="comment-copy">You will need to combine them, replacing wouldn't work as you need the dot to match other newlines. <a href="https://docs.python.org/2/library/re.html#re.DOTALL" rel="nofollow noreferrer">Python documentation on re.DOTALL</a></span>
