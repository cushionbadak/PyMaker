<div class="post-text" itemprop="text">
<p>I'm attempting to recursively compare two directories that are structurally equivalent (XML documents in a decompressed excel file), and if any files differ, then overwrite the text from the first file with the text from the corresponding file in the second directory. In the Unix command line, you can easily output a script that will do this for two files using:</p>
<pre><code>diff -e file1.xml file2.xml &gt; edscript.txt
</code></pre>
<p>I can then invoke the script with:</p>
<pre><code>echo "w" &gt;&gt; edscript.txt
ed - file1.txt &lt; edscript.txt
</code></pre>
<p>However, I'm using Git Bash Windows 7, and there is no "ed" program installed. Is there an equivalent that can output a script and execute? If not, is there a way to install ed on git bash? I've already tried sudo apt-get install ed but the commands don't seem to be possible. My ultimate goal is to run this scripts using python with the subprocess library </p>
<p>Any advice or suggestions are welcome. Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes, these tools are available for windows, consider <a href="https://www.cygwin.com/" rel="nofollow">Cygwin</a> or <a href="http://www.mingw.org/wiki/msys" rel="nofollow">MSyS</a>.  </p>
</div>
<div class="post-text" itemprop="text">
<p>If you have git bash installed already, check in its bin folder. There should be a diff.exe that you can call directly. </p>
<p>For me, that's <code>C:\Program Files (x86)\Git\bin\diff.exe</code></p>
<p>(This is probably easier than trying to call a *nix-like shell from python on windows, and then run diff on that command line)</p>
<p>Edit: Doing this from python, assuming the aforementioned diff.exe path: </p>
<pre><code>In [40]: import subprocess
In [41]: subprocess.call(["c:/program files (x86)/git/bin/diff.exe", "-e", "c:/users/a.p/empty.py", "c:/users/a.p/.bashrc"])
alias l='ls -a'
alias ll='ls -la'
alias ipy='ipython'
.
Out[41]: 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The GNU tools  <a href="http://gnuwin32.sourceforge.net/packages/diffutils.htm" rel="nofollow">http://gnuwin32.sourceforge.net/packages/diffutils.htm</a></p>
<p>Also from <code>cmd.exe</code> the <code>comp</code> command, try <code>help comp</code> for parameters.</p>
<p>Edit:  you have the python tag on this question, do you have python available?  If so then look at the <code>filecmp</code> module in the standard library: <a href="https://docs.python.org/3/library/filecmp.html" rel="nofollow">https://docs.python.org/3/library/filecmp.html</a></p>
<p>Examples here: <a href="http://pymotw.com/2/filecmp/" rel="nofollow">http://pymotw.com/2/filecmp/</a></p>
</div>
<span class="comment-copy">Can you find something on <a href="http://serverfault.com/questions/5598/how-do-i-diff-two-text-files-in-windows-powershell">answer about PowerShell</a> ?</span>
<span class="comment-copy">@WalterA There is some helpful stuff, but what I want is to output a script that I can then execute somehow, such that the end result of all of the work is that file1 is now identical to file 2.</span>
<span class="comment-copy">When you want more than a plain copy file2 to file1 you can try a low-level diff or try to interpret the xml with some python lib and compare the resulting structures. I still do not get the ultimate goal, I would guess you want something like <a href="https://pypi.python.org/pypi/xmldiff" rel="nofollow noreferrer">xmldiff</a> or <a href="http://stackoverflow.com/questions/3007330/xml-comparison-in-python">xml compare</a>.</span>
<span class="comment-copy">Thanks, I'm looking through both of them now. Might be of use!</span>
<span class="comment-copy">Thanks so much! Although I'm having trouble calling it. Do I have to CD into that directory when I want to run it (meaning that I would have to type the full filepaths for the files I wish to compare), or can I just call diff using the file path you've provided while I'm in the same directory as the files I want to compare? The latter is what I'm doing now, but it doesn't seem recognize the path. Is there some fancy spacing I need to do or is my first suggestion the only choice?</span>
<span class="comment-copy">@NoahMendoza Can you edit your question or post what you're doing right now? I don't want to guess at specifics and make bad assumptions.</span>
<span class="comment-copy">For now I just want to do:    'diff -e file1.txt file2.txt &gt; edscript.txt', and then invoke that script 'ed - file1.txt &lt; edscript.txt'. However, the "ed" program doesn't seem to be a part of gitbash.</span>
<span class="comment-copy">Sure, the diff part is easy, and is what I've shown here. I'll edit in an example call, and that should answer this question. If you want to get a windows version of <code>ed</code>, do so at <a href="http://gnuwin32.sourceforge.net/packages/ed.htm" rel="nofollow noreferrer">gnuwin32.sourceforge.net/packages/ed.htm</a> - any issues surrounding that might deserve their own question.</span>
<span class="comment-copy">Alright, thank you so much. This is at least enough to get some momentum. I appreciate it!</span>
<span class="comment-copy">Yeah I've tried, but the thing I'm looking for is the ability to write a script which can be executed, just like the diff command that's in my original post. Neither comp nor fc have this function.</span>
<span class="comment-copy">@NoahMendoza: added an edit mentioning python <code>filecmp</code></span>
