<div class="post-text" itemprop="text">
<p>I am doing a maths quiz for my coursework based around differentiation and integration using python 3. I'm finding it difficult to check if the answer, typed in by the user, is correct. I'm currently using the code below. However, if the user types in answer but in a different order it is treated as incorrect. for example if the answer was (2,4) but I typed in (4/2,4) it would be treated as incorrect despite both answers being correct. I've tried using sympify but it isnt working. How would I overcome this issue?</p>
<pre><code>    def Question4(self):
        QID = 109
        conn = mysql.connector.connect(user="root", password = "", host = "")
        mycursor = conn.cursor()
        #mysql query 
        query = """
        SELECT 
            QText, QAnswer, Marks
        FROM 
            QuestionInfo.Question
        WHERE 
            QID = %s
        """
        mycursor.execute(query, (QID, ))
        Question4, Answer4, Mark4 = mycursor.fetchone()
        self.Answer4 = str(Answer4)
        self.Mark4 = Mark4
        self.next_question.clicked.connect(self.HandleQuestion4)

    def HandleQuestion4(self):
        #for validation
        reply = QtGui.QMessageBox.question(self, 'Message',
            "Are you sure this is your final answer?", QtGui.QMessageBox.Yes | 
            QtGui.QMessageBox.No, QtGui.QMessageBox.Yes)
        #get users answer in a sympy state
        self.UAnswer4 = self.Answer.text().replace("^", "**")

        if reply == QtGui.QMessageBox.Yes:
            if sympify(self.UAnswer4) == sympify(self.Answer4):
                self.score = self.score + self.Mark4
            else:
                self.score = self.score + 0
            self.Question5()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you are expecting only numbers then you can use S (short for sympify) on the string. Otherwise you might need parse_expr and/or other string processing to to handle additional syntax like implied multiplication and "^" for exponentiation (see sympy.parsing.sympy_parser):</p>
<pre><code>&gt;&gt;&gt; S('4/2,2')
(2, 2)
</code></pre>
</div>
<span class="comment-copy">Can you post more of your code, including how <code>self.Answer</code> is defined, and how <code>FDiffAnswer</code> is defined?</span>
<span class="comment-copy">Can't you use <a href="https://docs.python.org/3/library/functions.html#eval" rel="nofollow noreferrer"><code>eval</code></a>? You can then compare the values rather than the textual representation.</span>
<span class="comment-copy">No, he's using the sympy library; he wants to compare values symbolically rather than numerically. <code>eval</code> will compute a numeric value where it can, and it won't work with nonnumeric expressions like <code>x^2</code>.</span>
<span class="comment-copy">i've posted more of the code if this will help</span>
<span class="comment-copy">Can you give some examples of both correct and incorrect answers that are not well recognized?</span>
