<div class="post-text" itemprop="text">
<p>In my code I get a logger from my client, then I do stuff and log my analysis to the logger.</p>
<p>I want to add my own prefix to the logger but I don't want to create my own formatter, just to add my prefix to the existing one.</p>
<p>In addition I want to remove my prefix once my code is done.</p>
<p>From looking at the documentation I could only find ways to create new formatter but not to modify an existing one. Is there a way to do so?</p>
</div>
<div class="post-text" itemprop="text">
<p>You are correct. As per <a href="https://docs.python.org/3/library/logging.html#logging.Formatter" rel="noreferrer">Python 3</a> and <a href="https://docs.python.org/2/library/logging.html#logging.Formatter" rel="noreferrer">Python 2</a> documentation there is no way to reset your format on the existing formatter object and you do need to create a new <code>logging.Formatter</code> object. However, looking at the object at runtime there is <code>_fmt</code> method to get the existing format and it seems tweaking it will work. I tried in 2.7 and it works. Below is the example.</p>
<p>Example code:</p>
<pre><code>import logging
logger = logging.getLogger('something')
myFormatter = logging.Formatter('%(asctime)s - %(message)s')
handler = logging.StreamHandler()
handler.setFormatter(myFormatter)
logger.addHandler(handler)
logger.setLevel(logging.DEBUG)
logger.info("log statement here")

#Tweak the formatter
myFormatter._fmt = "My PREFIX -- " + myFormatter._fmt
logger.info("another log statement here")
</code></pre>
<p>Output:</p>
<pre><code>2015-03-11 12:51:36,605 - log statement here
My PREFIX -- 2015-03-11 12:51:36,605 - another log statement here
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can actually set the format through the 'basicConfig', it is mentioned in the Python document: <a href="https://docs.python.org/2/howto/logging-cookbook.html#context-info" rel="nofollow noreferrer">https://docs.python.org/2/howto/logging-cookbook.html#context-info</a></p>
<pre><code>logging.basicConfig(level=logging.DEBUG,
                    format='%(asctime)-15s %(name)-5s %(levelname)-8s IP: %(ip)-15s User: %(user)-8s %(message)s')
</code></pre>
</div>
