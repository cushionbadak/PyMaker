<div class="post-text" itemprop="text">
<h3>Question</h3>
<p>What is a clean way to create a file object from raw binary information in Python?</p>
<h3>More Info</h3>
<p>The reason I need to do this is because I have the raw binary information comprising a jpeg image stored in ram. I need to put it inside some kind of file object so that I can resize the image using Python's <a href="http://pillow.readthedocs.org/en/latest/about.html" rel="nofollow">Pillow</a> library.</p>
<p>According to the <a href="http://pillow.readthedocs.org/en/latest/reference/Image.html" rel="nofollow">pillow documentation</a>, the file object needs to implement the <code>read()</code>, <code>seek()</code>, and <code>tell()</code> methods.</p>
<pre>
The file object must implement read(), seek(), and tell() methods, and be opened in binary mode.
</pre>
</div>
<div class="post-text" itemprop="text">
<p>I was able to find a mention of how to handle this situation under the documentation for <code>PIL.Image.frombytes</code>:</p>
<pre>
...If you have an entire image in a string, wrap it in a BytesIO object,
 and use open() to load it.
</pre>
<p>This is what I ended up with that worked using <code>BytesIO</code>:</p>
<pre><code>import io
import PIL
from PIL.Image import Image

file_body = &lt;binary image data&gt;
t_file = io.BytesIO(file_body)
img    = PIL.Image.open(t_file)
</code></pre>
<p>Note: The comments mention <code>tempfile.SpooledTemporaryFile</code>. This seems like it should have worked, but it did not for some reason.</p>
</div>
<span class="comment-copy"><a href="https://docs.python.org/2/library/stringio.html" rel="nofollow noreferrer">docs.python.org/2/library/stringio.html</a> <a href="https://docs.python.org/3/library/io.html#binary-i-o" rel="nofollow noreferrer">docs.python.org/3/library/io.html#binary-i-o</a> Someone else, or yourself, can claim the rep by elaborating with an answer, but these should be what you need. Cheers.</span>
<span class="comment-copy">I suspect <a href="https://docs.python.org/2/library/tempfile.html" rel="nofollow noreferrer"><code>tempfile</code></a> will do help you -- maybe <code>tempfile.SpooledTemporaryFile</code>.</span>
