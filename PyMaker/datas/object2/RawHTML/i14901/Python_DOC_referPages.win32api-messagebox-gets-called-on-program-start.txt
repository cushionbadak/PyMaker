<div class="post-text" itemprop="text">
<p>I have a very simple Python program that I am using to get familiar with the win32api message calls.  I put a line in my program </p>
<pre><code>mywin['button'].onclick = win32api.MessageBox(0, 'hello', 'title')
</code></pre>
<p>The problem is that the message box gets displayed as soon as the program starts.  And it does not get displayed when the button is clicked.  Any ideas what I am doing wrong?</p>
<p>Here is the rest of my code:</p>
<pre><code>import gui
import win32api

gui.Window(name='mywin', title=u'gui2py minimal app', resizable=True, height='459px', width='400px', image='', )
gui.Button(label=u'Click me!', name='button', left='8', top='115', default=True, parent='mywin', )

# get a reference to the Top Level Window:
mywin = gui.get("mywin")

mywin['button'].onclick = win32api.MessageBox(0, 'hello', 'title')

if name == "main":
    mywin.show()
    gui.main_loop()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are assigning the <code>.onclick</code> attribute to the <em>return value</em> of calling <code>win32api.MessageBox</code>.  It is no different than doing:</p>
<pre><code>value = win32api.MessageBox(0, 'hello', 'title')
mywin['button'].onclick = value
</code></pre>
<p>To fix the problem, you can use a <a href="https://docs.python.org/3/reference/expressions.html#grammar-token-lambda_expr" rel="nofollow">lambda function</a>:</p>
<pre><code>mywin['button'].onclick = lambda: win32api.MessageBox(0, 'hello', 'title')
</code></pre>
<p>The above assigns the <code>.onclick</code> attribute to the lambda function.  When the button is clicked, the lambda will be called and the <code>win32api.MessageBox(0, 'hello', 'title')</code> code will be executed.</p>
</div>
<span class="comment-copy">OK, I entered: mywin['button'].onclick = lambda: win32api.MessageBox(0, 'hello', 'title') but the message box still gets displayed as soon as I press "Run" and it does not get displayed when I click the button.  Do I need to import anything for lambda?</span>
<span class="comment-copy">I also tried adding your lines:  value = win32api.MessageBox(0, 'hello', 'title') mywin['button'].onclick = value  But got the same thing.  Shows the message when Run and not when clicked.</span>
<span class="comment-copy">No, you do not need to import anything because <code>lambda</code> is a keyword.  Are you maybe calling <code>win32api.MessageBox</code> in another place?  That, or you could be handling the click events incorrectly.  Could you please post the rest of your code?  There is not enough to work with at this point.</span>
<span class="comment-copy">I just saw this in the "Interactive Window":  Traceback (most recent call last):   File "\\psf\Home\Downloads\gui2py-0.9.3\gui\spec.py", line 79, in handler     action(event)   # just call the user function TypeError: 'int' object is not callable</span>
<span class="comment-copy">Yes, the code is very small.  I posted it on my DropBox here:  <a href="https://www.dropbox.com/s/dtxqkan1p6swrwo/minimal.pyw?dl=0" rel="nofollow noreferrer">link</a></span>
