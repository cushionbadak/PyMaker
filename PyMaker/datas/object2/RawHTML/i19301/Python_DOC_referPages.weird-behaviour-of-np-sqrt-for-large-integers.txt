<div class="post-text" itemprop="text">
<pre><code>&gt;&gt;&gt; np.__version__
'1.7.0'
&gt;&gt;&gt; np.sqrt(10000000000000000000)
3162277660.1683793
&gt;&gt;&gt; np.sqrt(100000000000000000000.)
10000000000.0
&gt;&gt;&gt; np.sqrt(100000000000000000000)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: sqrt
</code></pre>
<p>Huh... <code>AttributeError: sqrt</code> what's going on here then?  <code>math.sqrt</code> doesn't seem to have the same problem.  </p>
</div>
<div class="post-text" itemprop="text">
<p>The final number is a <code>long</code> (Python's name for an arbitrary precision integer), which NumPy apparently can't deal with:</p>
<pre><code>&gt;&gt;&gt; type(100000000000000000000)
&lt;type 'long'&gt;
&gt;&gt;&gt; type(np.int(100000000000000000000))
&lt;type 'long'&gt;
&gt;&gt;&gt; np.int64(100000000000000000000)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
OverflowError: Python int too large to convert to C long
</code></pre>
<p>The <code>AttributeError</code> occurs because NumPy, seeing a type that it doesn't know how to handle, defaults to calling the <code>sqrt</code> method on the object; but that doesn't exist. So it's not <code>numpy.sqrt</code> that's missing, but <code>long.sqrt</code>.</p>
<p>By contrast, <code>math.sqrt</code> knows about <code>long</code>. If you're going to deal with very large numbers in NumPy, use floats whenever feasible.</p>
<p><strong>EDIT</strong>: Alright, you're using Python 3. While the distinction between <code>int</code> and <code>long</code> <a href="http://www.python.org/dev/peps/pep-0237/" rel="nofollow">has disappeared</a> in that version, NumPy is still sensitive to the difference between a <a href="http://hg.python.org/cpython/file/38e263d40d81/Objects/longobject.c" rel="nofollow"><code>PyLongObject</code></a> that can be successfully converted to a C <code>long</code> using <a href="http://docs.python.org/3/c-api/long.html#PyLong_AsLong" rel="nofollow"><code>PyLong_AsLong</code></a> and one that can't.</p>
</div>
<span class="comment-copy">Learned something new here.  Thanks for posting!</span>
<span class="comment-copy">But, but, but, that doesn't explain the <code>AttributeError</code> ...  How does that accidentally remove <code>sqrt</code> from the <code>numpy</code> namespace?  That's gotta be a bug ...</span>
<span class="comment-copy">@mgilson: I was getting to that :)</span>
<span class="comment-copy">(I'm sure this is the reason for the error btw -- But it is a very strange error)</span>
<span class="comment-copy">Oh, interesting.  And since <code>np.sqrt</code> is a <code>ufunc</code>, a "proper" traceback isn't generated (since the exception is raised in C code).</span>
<span class="comment-copy">Actually, I'm using python3 so they're all <code>builtins.int</code></span>
