<div class="post-text" itemprop="text">
<p>I have this:</p>
<pre><code>import pycurl
import pprint
import json

c = pycurl.Curl()
c.setopt(c.URL, 'https://mydomainname.com')

c.perform()
</code></pre>
<p>the above code return a dictionary like this:</p>
<pre><code>{"name":"steve", "lastvisit":"10-02-2012", "age":12}
</code></pre>
<p>I want to loop through that dictionary and get just the age:</p>
<pre><code>age : 12
</code></pre>
<p>I tried:</p>
<pre><code>diction = {}
diction = c.perform()
pprint.pprint(diction["age"])
</code></pre>
<p>No data returned and I got this error:</p>
<pre><code>TypeError: 'NoneType' object is unsubscriptable
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>c.perform()</code> doesn't return anything, you need to configure a file-like object to capture the value. A <a href="http://docs.python.org/3/library/io.html#io.BytesIO"><code>BytesIO</code> object</a> would do, you can then call <a href="http://docs.python.org/3/library/io.html#io.BytesIO.getvalue"><code>.getvalue()</code></a> on that after the call completes:</p>
<pre><code>import pycurl
import pprint
import json
from io import BytesIO

c = pycurl.Curl()
data = BytesIO()

c.setopt(c.URL, 'https://mydomainname.com')
c.setopt(c.WRITEFUNCTION, data.write)
c.perform()

dictionary = json.loads(data.getvalue())
pprint.pprint(dictionary["age"])
</code></pre>
<p>If you are not married to <code>pycurl</code>, you might find <a href="http://python-requests.org/"><code>requests</code></a> to be a lot easier:</p>
<pre><code>import pprint
import requests

dictionary = requests.get('https://mydomainname.com').json()
pprint.pprint(dictionary["age"])
</code></pre>
<p>Even the standard library <a href="http://docs.python.org/3/library/urllib.request.html#module-urllib.request"><code>urllib.request</code> module</a> will be easier than using <code>pycurl</code>:</p>
<pre><code>from urllib.request import urlopen
import pprint
import json

response = urlopen('https://mydomainname.com')
dictionary = json.load(response)
pprint.pprint(dictionary["age"])
</code></pre>
</div>
<span class="comment-copy">Thank you Metijn!! any idea how to get the age?</span>
<span class="comment-copy">I am presuming you are using Python 3 (judging by the exception, python 3.1 or 3.2).</span>
<span class="comment-copy">Thank you very much Metijn, I tried the code and I got this error: <code>AttributeError: getvalue</code></span>
<span class="comment-copy">@mongotop: Apologies, I didn't read the <a href="http://pycurl.sourceforge.net/doc/curlobject.html" rel="nofollow noreferrer">documentation</a> in enough detail. Why are you using <code>pycurl</code>? Why not use a more convenient library?</span>
<span class="comment-copy">To be honest that is the one I know about, can you please suggest another library.</span>
<span class="comment-copy">@mongotop: Use <a href="http://python-requests.org/" rel="nofollow noreferrer"><code>requests</code></a> instead.</span>
<span class="comment-copy">Your code works like a charm!!!! I'm reading now about requests. Thank you very much for educating me!!!! highly appreciated!!!</span>
