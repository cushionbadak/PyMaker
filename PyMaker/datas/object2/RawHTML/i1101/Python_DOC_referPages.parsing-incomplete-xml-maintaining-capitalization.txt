<div class="post-text" itemprop="text">
<p>I have an xml fragment that I need to parse. Here are the two ways I've tried to parse it using <code>lxml</code>:</p>
<pre><code>s='''&lt;Persons&gt;
    &lt;Person&gt;
            &lt;FirstName&gt;Mark&lt;/FirstName&gt;
            &lt;LastName&gt;Tom&lt;/LastName&gt;
    &lt;/Person&gt;
    &lt;Person&gt;
            &lt;FirstName&gt;Mark&lt;/FirstName&gt;'''

&gt;&gt;&gt; etree.fromstring(s)
lxml.etree.XMLSyntaxError: Premature end of data in tag Person line 6, line 7, column 30

&gt;&gt;&gt; html.fromstring(s)
&lt;Element persons at 0x11fc49908&gt;
</code></pre>
<p>However, I need to keep the case sensitivity of the tags -- I cannot put them all to lowercase as <code>html</code> does: however, using <code>etree</code> fails, so I'm forced to use the <code>html</code> parser. </p>
<p>How would I be able to keep the correct capitalization with the above issue? The tag needs to be <code>Persons</code> not <code>persons</code>.</p>
<p>I would like to stay within <code>lxml</code>, but so far the only solution I've found is using <code>BeautifulSoup</code>:</p>
<pre><code>&gt;&gt;&gt; from bs4 import BeautifulSoup as bs4
&gt;&gt;&gt; bs4(s, 'xml')
&lt;Persons&gt;
...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could still approach this with <code>lxml</code> by setting the <a href="https://lxml.de/parsing.html#parser-options" rel="nofollow noreferrer">"recover" mode</a> on:</p>
<blockquote>
<p><code>recover</code> - try hard to parse through broken XML</p>
</blockquote>
<pre><code>parser = etree.XMLParser(recover=True)
root = etree.fromstring(s, parser=parser)
</code></pre>
<p>Demo:</p>
<pre><code>In [2]: parser = etree.XMLParser(recover=True)

In [3]: root = etree.fromstring(s, parser=parser)

In [4]: root
Out[4]: &lt;Element Persons at 0x10aba9e18&gt;
</code></pre>
</div>
<span class="comment-copy">Looks like you already answered your question? (<code>bs4</code>.)</span>
<span class="comment-copy">I think you could use <a href="https://docs.python.org/3/library/xml.dom.pulldom.html" rel="nofollow noreferrer">docs.python.org/3/library/xml.dom.pulldom.html</a> as if you wanted as well ...</span>
