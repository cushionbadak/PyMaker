<div class="post-text" itemprop="text">
<p>somehow I can't download files trough a proxyserver, and I don't know what i have done wrong. I just get a timeout. Any advice?</p>
<pre><code>import urllib.request

urllib.request.ProxyHandler({"http" : "myproxy:123"})
urllib.request.urlretrieve("http://myfile", "file.file")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to use your proxy-object, not just instanciate it (you created an object, but didn't assign it to a variable and therefore can't use it). Try using this pattern:</p>
<pre><code>#create the object, assign it to a variable
proxy = urllib.request.ProxyHandler({'http': '127.0.0.1'})
# construct a new opener using your proxy settings
opener = urllib.request.build_opener(proxy)
# install the openen on the module-level
urllib.request.install_opener(opener)
# make a request
urllib.request.urlretrieve('http://www.google.com')
</code></pre>
<p>Or, if you do not need to rely on the std-lib, use requests (this code is from the official documentation):</p>
<pre><code>import requests

proxies = {"http": "http://10.10.1.10:3128",
           "https": "http://10.10.1.10:1080"}

requests.get("http://example.org", proxies=proxies)
</code></pre>
</div>
<span class="comment-copy">urllib  has no attribute request, it should be urllib2</span>
<span class="comment-copy">@arbel In Python3, it does. <a href="https://docs.python.org/3/library/urllib.request.html" rel="nofollow noreferrer">Source</a></span>
<span class="comment-copy">@dorvak Yeah! The second option worked for me. Thanks a lot!!</span>
