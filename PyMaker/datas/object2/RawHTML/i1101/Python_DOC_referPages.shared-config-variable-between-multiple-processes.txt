<div class="post-text" itemprop="text">
<p>Say you have a <code>config.py</code> which inside has </p>
<pre><code>settings = read_yaml('settings.yaml')
</code></pre>
<p>so <code>config.settings</code> is a dictionary.</p>
<p>in one script <code>foo.py</code> you have:</p>
<pre><code>import config
config.settings['foo'] = str(time.time())
write_yaml('settings.yaml', config.settings)
</code></pre>
<p>and in another script <code>bar.py</code> you have</p>
<pre><code>import config
while True:
    sleep(10)
    print config.settings['foo']
</code></pre>
<p>How would you keep the printed value in <code>bar.py</code> up to date with the new value after running <code>foo.py</code> at any time without the obvious reading the file again seeing as the while loop in <code>bar.py</code> needs to be as quick as possible!</p>
<p>I currently run these on seperate bash threads i.e:</p>
<pre><code>$ python bar.py
$ python foo.py
</code></pre>
<p>But I could run bar in a thread if that is possible?</p>
</div>
<div class="post-text" itemprop="text">
<p>I don't know how fast you need this to be. But it would certainly be possible to just reload the <code>config</code> module with <a href="https://docs.python.org/3/library/importlib.html#importlib.reload" rel="nofollow noreferrer"><code>importlib.reload</code></a>. So <code>config.py</code> and <code>foo.py</code> stay the same and your <code>bar.py</code> changes to:</p>
<pre><code>import importlib
import config

while True:
    sleep(10)
    print config.settings['foo']
    importlib.reload(config)
</code></pre>
<hr/>
<p><strong>Update</strong></p>
<p>The example above works for Python &gt;= 3.4, use <a href="http://docs.python.org/3.3/library/imp.html#imp.reload" rel="nofollow noreferrer"><code>imp.reload</code></a> for earlier versions of Python 3 or <a href="https://docs.python.org/2/library/functions.html#reload" rel="nofollow noreferrer"><code>reload</code></a> for Python 2.</p>
</div>
<span class="comment-copy"><a href="https://stackoverflow.com/questions/13034496/using-global-variables-between-files" title="using global variables between files">stackoverflow.com/questions/13034496/â€¦</a></span>
<span class="comment-copy">Is using any of the standard IPC mechanisms an option for communication between foo and bar?</span>
<span class="comment-copy">Oh, I see your <code>print</code> statement now. Is this a Python 2 question?</span>
<span class="comment-copy">By the way, it might make more sense to put the reload immediately in front of the print and after the sleep, so any changes during the sleep will be included...</span>
