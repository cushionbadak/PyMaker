<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/5652278/how-to-check-if-a-deque-is-empty-in-python">How to check if a deque is empty in Python?</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I've been looking for the best way to iterate through a deque while using popleft to use the first element and reduce the queue for each iteration. I essentially want to popleft the first in the deque, run some code using this value and then do the same process until there are no more values left in the deque.</p>
<p>The best I've found online is using a try and catch block to capture an IndexError:</p>
<pre><code>try: 
    while mydeque: 
        value = mydeque.popleft()
except IndexError: 
# handle empty mydeque
</code></pre>
<p>Surely throwing an exception isn't the best way to do this. I'd be catching any IndexError occurring in the while loop as well, which isn't ideal. Using a for loop doesn't work as I'd be modifying the deque during the iteration.</p>
<p>What's the best way to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can either use <code>while mydeque:...</code> as @slightlynybbled suggested or
<code>while 0 &lt; len(mydeque):...</code> what is basically the same.</p>
<pre><code>while 0 &lt; len(mydeque):
    value = mydeque.popleft()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can put the try/except within the while loop; that way you can make sure it only catches the IndexError thrown by  popleft</p>
<p><a href="https://pymotw.com/2/collections/deque.html" rel="nofollow noreferrer">https://pymotw.com/2/collections/deque.html</a></p>
<pre><code>while True:
  try:
    print d.popleft()
  except IndexError:
    break
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When <code>mydeque</code> is empty, it resolves as <code>False</code> in the while loop.</p>
<p>Additionally not sure where the <code>popleft</code> is coming from.  I have used <code>pop(0)</code> for this same purpose.</p>
<pre><code>while mydeque:
    value = mydeque.pop(0)
</code></pre>
<p>This will run through all values in <code>mydeque</code>.</p>
</div>
<span class="comment-copy">What IndexError? The <code>while</code> loop ends when you run out of elements.</span>
<span class="comment-copy">if <code>mydeque</code> is falsy when empty, no need. But if it isn't shouldn't the test be something else that is false when <code>mydeque</code> is empty.</span>
<span class="comment-copy">I've clearly got another issue in my code somewhere. Thanks for the incredibly prompt replies.</span>
<span class="comment-copy">The exception will never be raised by <code>popleft</code> because of the condition check: if the deque is empty, the loop ends .</span>
<span class="comment-copy">It would be simpler and more efficient to just use the truth value of the deque object.</span>
<span class="comment-copy">Deques do not have a <code>pop</code> method that takes an integer. <a href="https://docs.python.org/3/library/collections.html#collections.deque.popleft" rel="nofollow noreferrer">They <i>do</i> have a popleft, though.</a></span>
<span class="comment-copy">The difference between <code>pop()</code> and <code>popleft()</code> is from which side of the deque is the returned element. <code>deque.pop()</code> remove and return an element from the right side of the deque.  <code>deque.popleft()</code>  remove and return an element from the left side of the deque. In both cases if no elements are present, raises an IndexError.</span>
<span class="comment-copy">@user2357112, neither <code>pop()</code>, nor <code>popleft()</code> takes an integer as argument (pop is just above the popleft in the docs link you shared). @slightlynybbled, I think you confuse them with <code>rotate(n)</code>, where n is the number of steps and the sign (positive or negative number) is the direction of rotation.</span>
<span class="comment-copy">@buran: Yes, I am aware popleft doesn't take an integer. I did not say it takes an integer. I think it's more likely that slightlynybbled got things mixed up with lists than that they got things mixed up with <code>rotate</code>; lists have a <code>pop</code> that optionally takes an integer, and no <code>popleft</code>.</span>
<span class="comment-copy">@user2357112, sorry, I misunderstood your comment. And yes, you are right - slightlynybbled may have mixed deque with list.</span>
