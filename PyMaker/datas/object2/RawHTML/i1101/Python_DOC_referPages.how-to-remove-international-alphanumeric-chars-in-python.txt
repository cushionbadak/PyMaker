<div class="post-text" itemprop="text">
<p>I have opened my dataset as follows in python.</p>
<pre><code>with open(page_titles.txt, encoding="utf8") as fg:
    all_concepts = []
    for line in fg:
        all_concepts.append(line)
</code></pre>
<p>However, my titles contain some internation alphanumeric chars such as Ռեթէոս_Պէրպէրեան, 丘, (جامعة_جورجتاون_(قطر, (جامعة_جورجتاون_(قطر, (കേരള_നിയമസഭ).</p>
<p>I only want to keep titles in English Language.</p>
<p>I tried to do the following. However, it does not solve my problem as it says that the above mentioned titles are as valid titles.</p>
<pre><code>def remove_non_ascii(text):
    non_ascii = 0
    ascii_letter = 0
    for c in text:
        if 0 &lt;= ord(c) &lt;= 127:
            # this is a ascii character.
            ascii_letter = ascii_letter + 1
        else:
            # this is a non-ascii character. Do something.
            non_ascii = non_ascii + 1

    if len(text)==non_ascii:
        print("invalid")
    else:
        print("valid")
</code></pre>
<p>Please help me.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your code currently excludes only strings that consist entirely of non-ASCII characters. However, all the example strings you've shown contain the underscore character, which is an ASCII character, and so makes the name valid according to your current code.</p>
<p>If that's not the result you want, you need to change how your code works. For instance, you could reject any string with <em>any</em> non-ASCII characters (rather than only those that are <em>all</em> non-ASCII). Just change <code>if len(text) == non_ascii</code> to <code>if non_ascii &gt; 0</code>.</p>
<p>But I'd caution you that excluding all strings with non-ASCII characters may be a bad idea. Lots of English-language words (such as café) and names (such as Zoë) contain non-ASCII characters (at least in some spellings). It may be a better idea to support non-ASCII titles in your program, and fix whatever other issues they cause in other places (e.g. by properly encoding your inputs and outputs). If the non-ASCII titles are undesirable for other reasons (e.g. they describe things that are not in English) then you should filter them out on that other criterion (e.g. the language of the contents) rather than on the kinds of letters in the title.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your error is in the line <code>if len(text)==non_ascii</code>. This line tests if <strong>all</strong> the characters in your input is not ascii (so it would be valid if only half of the characters were invalid). What you want is to test that any of the characters is valid, so do this:</p>
<pre><code>def remove_non_ascii(text):
    non_ascii = 0
    for c in text:
        if not 0 &lt;= ord(c) &lt;= 127:
            non_ascii = non_ascii + 1

    if non_ascii &gt; 0:  # check if there are any non_ascii characters
        print("invalid")
    else:
        print("valid")
</code></pre>
<p>Since <code>ascii_letter</code> was not used, I removed it.</p>
</div>
<div class="post-text" itemprop="text">
<p>The Pythonic way of doing this will be to decode the string as <code>ascii</code>, and catch <code>UnicodeDecodeError</code> which will be thrown when there non-ascii characters.</p>
<pre><code>try:
    text.decode('ascii')
    print('valid')
except UnicodeDecodeError:
    print('Invalid')
</code></pre>
<p><strong>Note</strong></p>
<p>If you are using Python 3.7, there is an <a href="https://docs.python.org/3/library/stdtypes.html#str.isascii" rel="nofollow noreferrer"><code>isascii()</code></a> function that checks if a string contains all ascii characters.</p>
<pre><code>if text.isascii():
    print('valid')
else:
    print('invalid')
</code></pre>
</div>
<span class="comment-copy">Your function is called <code>remove_...</code> but does not remove anything. It does not even return a result. So, what is the exact functionality it should offer?</span>
