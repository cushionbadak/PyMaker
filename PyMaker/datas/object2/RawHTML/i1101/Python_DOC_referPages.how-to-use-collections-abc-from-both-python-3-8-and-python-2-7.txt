<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/11372190/python-2-and-python-3-dual-development">Python 2 and Python 3 dual development</a>
<span class="question-originals-answer-count">
                    6 answers
                </span>
</li>
</ul>
</div>
<p>In Python 3.3 "abstract base classes" in <code>collections</code> (like <code>MutableMapping</code> or <code>MutableSequence</code>) were moved to second-level module <code>collections.abc</code>. So in Python 3.3+ the real type is <code>collections.abc.MutableMapping</code> and so on. <a href="https://docs.python.org/3/library/collections.html" rel="nofollow noreferrer">Documentation</a> states that the old alias names (e.g. <code>collections.MutableMapping</code>) will be available up to Python 3.7 (currently the latest version), however in 3.8 these aliases will be removed.</p>
<p>Current version of Python 3.7 even produces a warning when you use the alias names:</p>
<pre><code>./scripts/generateBoard.py:145: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
  elif isinstance(value, (collections.MutableMapping, collections.MutableSequence)) == True:
</code></pre>
<p>In python 2.7 there is no <code>collections.abc</code>.</p>
<p>How can Python script handle this difference in the most convenient way, when it is meant to be used with (almost) any Python version? I'm looking for a solution which would ideally solve this mess in one central place, without having to use <code>try: ... except: ...</code> all over the script everywhere I need this type?</p>
</div>
<div class="post-text" itemprop="text">
<p>Place this at the top of the script:</p>
<pre><code>import collections

try:
    collectionsAbc = collections.abc
except AttributeError:
    collectionsAbc = collections
</code></pre>
<p>Then change all prefixes of the abstract base types, e.g. change <code>collections.abc.MutableMapping</code> or <code>collections.MutableMapping</code> to <code>collectionsAbc.MutableMapping</code>.</p>
<p>Alternatively, import what you require in the script at the top in a single place:</p>
<pre><code>try:
    from collections.abc import Callable  # noqa
except ImportError:
    from collections import Callable  # noqa
</code></pre>
</div>
<span class="comment-copy">Not a duplicate - this is a very specific (useful) question, that will become popular with the 3.7.2 Python release when everyone starts getting deprecation warnings</span>
