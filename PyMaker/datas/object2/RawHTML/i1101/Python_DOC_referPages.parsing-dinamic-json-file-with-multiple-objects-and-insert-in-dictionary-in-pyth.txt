<div class="post-text" itemprop="text">
<p>i have to find a way to parse multiple json file and insert key-values in a dict with json keys as dict variables. the main problem is that json multy objects are always different and so i have to find a dinamic way to handle multyple objects (just like multiple variables in inputs field shown below).
here is an example of a json file: </p>
<pre><code>{
   "ver":2,
   "inputs":[
      {
     "sequence":4294967295,
     "witness":"",
     "prev_out":{
        "spent":true,
        "spending_outpoints":[
           {
              "tx_index":400037372,
              "n":0
           }
        ],
        "tx_index":321333092,
        "type":0,
        "addr":"3BMEXa8wC24GWaQ9HzrWmDywdhwE7yNPjL",
        "value":510000000,
        "n":0,
        "script":"a91469f375b807f9052b0d9cb5b5c19698e7e2c77b0887"
     },
     "script":"0047..."
  }
   ],
   "weight":2428,
   "block_height":555269,
   "relayed_by":"127.0.0.1",
   "out":[
      {
     "spent":true,
     "spending_outpoints":[
        {
           "tx_index":400098206,
           "n":142
        }
     ],
     "tx_index":400037372,
     "type":0,
     "addr":"1AcLPK6EHL5r26Ee2kCEgMxL394T4vo6Lu",
     "value":200000000,
     "n":0,
     "script":"76a9146967df4b117a2c7ec36302493939dffc5176aa3d88ac"
  },
  {
     "spent":true,
     "spending_outpoints":[
        {
           "tx_index":400305587,
           "n":0
        }
     ],
     "tx_index":400037372,
     "type":0,
     "addr":"3BMEXa8wC24GWaQ9HzrWmDywdhwE7yNPjL",
     "value":309800000,
     "n":1,
     "script":"a91469f375b807f9052b0d9cb5b5c19698e7e2c77b0887"
  }
   ],
   "lock_time":0,
   "size":607,
   "double_spend":false,
   "block_index":1737822,
   "time":1545656997,
   "tx_index":400037372,
   "vin_sz":1,
   "hash":"c2155d02b743c09c51eb37c4f86392f9b1dec552c549ba8e217885cd69aee2fa",
   "vout_sz":2
}
</code></pre>
<p>i've already tried this: </p>
<pre><code>dic = {}
dic = OrderedDict()
    try:
        dic['ver'] = data['ver']
        for doc in data['inputs']:
            dic['in_sequence{}'.format(i)] = doc['sequence']
            dic['in_witness{}'.format(i)] = doc['witness']
            dic['in_spent{}'.format(i)] = doc['prev_out']['spent']
</code></pre>
<p>and so on...
but every loop generatesnew variables namesand i have to avoid this. how can i do?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer"><code>json</code></a> module handles creating the key-value pairs for you. Try this:</p>
<pre><code>import json

with open('data.json', 'r') as fp:
  d = json.load(fp)
</code></pre>
<p>then dictionary <code>d</code> contains the pairs. For example to get the <code>'ver'</code> key's value:</p>
<pre><code>print(d['ver']) # 2
</code></pre>
</div>
<span class="comment-copy">It seems you are in need of <code>json</code> module, it automatically does that for you. Check <a href="https://docs.python.org/2/library/json.html" rel="nofollow noreferrer">docs.python.org/2/library/json.html</a></span>
