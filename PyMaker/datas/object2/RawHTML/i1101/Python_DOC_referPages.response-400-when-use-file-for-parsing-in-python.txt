<div class="post-text" itemprop="text">
<p>It is OK (response [200]) when I try to parse with manual texting but when I change the input from a file it becomes response [400].</p>
<p>This the code</p>
<pre><code>import requests
from bs4 import BeautifulSoup

def people_spider():
    file = "D:\OneDrive\Documents\GPIP\Files\scraping\idtwitter.csv"
    dataset = open(file, "r")
    for account in dataset:
        href = 'https://twitter.com/' + account
        get_single_item_data(href)

def get_single_item_data(item_url):
    source_code = requests.get(item_url)
    print(source_code)
    print(item_url)
    plain_text = source_code.text
    soup = BeautifulSoup(plain_text, features='html.parser')
    for item_name in soup.findAll('p', {'dir': 'ltr'}):
        print(item_name.string)


people_spider()
</code></pre>
<p>and the result is</p>
<pre><code>&lt;Response [400]&gt;
https://twitter.com/mr_adhani

&lt;Response [400]&gt;
https://twitter.com/RahayuNarti

&lt;Response [400]&gt;
https://twitter.com/AllMicroJobs

&lt;Response [400]&gt;
https://twitter.com/adibambang05

&lt;Response [400]&gt;
https://twitter.com/NatasyaRD1

&lt;Response [400]&gt;
https://twitter.com/arumyuniadis

&lt;Response [400]&gt;
https://twitter.com/harusan_osk

&lt;Response [400]&gt;
https://twitter.com/LailyFauziana

&lt;Response [400]&gt;
https://twitter.com/Dovia_Liata707

&lt;Response [400]&gt;
https://twitter.com/hapzah_putry
</code></pre>
<p>I have changed the extension too. However, it does not change any situation</p>
</div>
<div class="post-text" itemprop="text">
<p>the problem is that you are not stripping <code>account</code> variable.</p>
<pre><code>def people_spider():
    file = "D:\OneDrive\Documents\GPIP\Files\scraping\idtwitter.csv"
    dataset = open(file, "r")
    print(dataset)
    for account in dataset:
        href = 'https://twitter.com/' + account.strip()
        get_single_item_data(href)
</code></pre>
</div>
<span class="comment-copy">Response 400 corresponds to a bad HTTP request. You may want to check if you're creating the right request object or not. Also when you iterate over files like this, python won't remove the lingering newline character from the "account" variable.</span>
<span class="comment-copy">Print the <code>item_url</code> to see if it is correct.</span>
<span class="comment-copy">The way OP is reading lines also works -&gt; <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer">docs.python.org/3/tutorial/â€¦</a></span>
<span class="comment-copy">sorry, the problem still goes on.</span>
<span class="comment-copy">I updated my response. it's because you are not stripping <code>account</code>. Checked it, it's working</span>
