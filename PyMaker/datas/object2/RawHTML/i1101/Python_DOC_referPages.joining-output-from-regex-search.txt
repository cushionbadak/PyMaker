<div class="post-text" itemprop="text">
<ul>
<li>I have a regex that looks for numbers in a file.</li>
<li>I put results in a list </li>
</ul>
<p>The problem is that it prints each results on a new line for every single number it finds. it aslo ignore the list I've created.</p>
<p>What I want to do is to have all the numbers into one list.
I used join() but it doesn't works.</p>
<p>code : </p>
<pre><code>def readfile():
    regex = re.compile('\d+')
for num in regex.findall(open('/path/to/file').read()):
    lst = [num]
    jn = ''.join(lst)    
    print(jn)
</code></pre>
<p>output :</p>
<pre><code>122
34
764
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In your case, <code>regex.findall()</code> returns a list and you are are joining in each iteration and printing it.</p>
<p>That is why you're seeing this problem.</p>
<p>You can try something like this. </p>
<blockquote>
<p>numbers.txt</p>
</blockquote>
<pre><code>Xy10Ab
Tiger20
Beta30Man
56
My45one
</code></pre>
<blockquote>
<p>statements:</p>
</blockquote>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt;
&gt;&gt;&gt; regex = re.compile(r'\d+')
&gt;&gt;&gt; lst = []
&gt;&gt;&gt;
&gt;&gt;&gt; for num in regex.findall(open('numbers.txt').read()):
...     lst.append(num)
...
&gt;&gt;&gt; lst
['10', '20', '30', '56', '45']
&gt;&gt;&gt;
&gt;&gt;&gt; jn = ''.join(lst)
&gt;&gt;&gt;
&gt;&gt;&gt; jn
'1020305645'
&gt;&gt;&gt;
&gt;&gt;&gt; jn2 = '\n'.join(lst)
&gt;&gt;&gt; jn2
'10\n20\n30\n56\n45'
&gt;&gt;&gt;
&gt;&gt;&gt; print(jn2)
10
20
30
56
45
&gt;&gt;&gt;
&gt;&gt;&gt; nums = [int(n) for n in lst]
&gt;&gt;&gt; nums
[10, 20, 30, 56, 45]
&gt;&gt;&gt;
&gt;&gt;&gt; sum(nums)
161
&gt;&gt;&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><strong>What goes wrong:</strong></p>
<blockquote>
<pre><code># this iterates the single numbers you find - one by one
for num in regex.findall(open('/path/to/file').read()):  
    lst = [num]                  # this puts one number back into a new list
    jn = ''.join(lst)            # this gets the number back out of the new list
    print(jn)                    # this prints one number
</code></pre>
</blockquote>
<p><strong>Fixing it</strong>:</p>
<p>Reading <a href="https://docs.python.org/3/library/re.html#re.findall" rel="nofollow noreferrer">re.findall()</a> show's you, it returns a list already.</p>
<p>There is no(t much) need to use a <code>for</code> on it to print it.</p>
<p>If you want a list - simply use <code>re.findall()</code>'s return value - if you want to print it, use one of the methods in <a href="https://stackoverflow.com/questions/37625208/printing-an-int-list-in-a-single-line-python3?rq=1">Printing an int list in a single line python3</a> (several more posts on SO about printing in one line):</p>
<pre><code>import re

my_r = re.compile(r'\d+')                 # define pattern as raw-string

numbers = my_r.findall("123 456 789")     # get the list

print(numbers)

# different methods to print a list on one line
# adjust sep  / end to fit your needs
print( *numbers, sep=", ")                # print #1

for n in numbers[:-1]:                    # print #2
    print(n, end = ", ")
print(numbers[-1])

print(', '.join(numbers))                 # print #3
</code></pre>
<p>Output:</p>
<pre><code>['123', '456', '789']   # list of found strings that are numbers
123, 456, 789
123, 456, 789
123, 456, 789
</code></pre>
<p>Doku:</p>
<ul>
<li><a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow noreferrer">print() function for <code>sep=</code> and <code>end=</code></a></li>
<li><a href="https://stackoverflow.com/questions/37625208/printing-an-int-list-in-a-single-line-python3?rq=1">Printing an int list in a single line python3</a></li>
<li><a href="https://stackoverflow.com/questions/7368789/convert-all-strings-in-a-list-to-int">Convert all strings in a list to int</a> ... if you need the list as numbers</li>
</ul>
<hr/>
<p>More on printing in one line:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/3249524/print-in-one-line-dynamically">Print in one line dynamically</a></li>
<li><a href="https://stackoverflow.com/questions/5598181/python-multiple-prints-on-the-same-line">Python: multiple prints on the same line</a></li>
<li><a href="https://stackoverflow.com/questions/493386/how-to-print-without-newline-or-space">How to print without newline or space?</a></li>
<li><a href="https://stackoverflow.com/questions/12032214/print-new-output-on-same-line">Print new output on same line</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Use list built-in functions to append new values.</p>
<pre><code>def readfile():
regex = re.compile('\d+')
lst = []

for num in regex.findall(open('/path/to/file').read()):
    lst.append(num)

print(lst)
</code></pre>
</div>
