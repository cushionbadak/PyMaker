<div class="post-text" itemprop="text">
<p>I need to modify numbers in a file that begins from any number (7 in this case) to begin from 1 and goes consecutively. But if the number in next line is same, it should not print new consecutive number, instead it should give same new number. </p>
<p>I will be able to access all these numbers based on column position. The numbers in which I am interested are only in 5th and 6th column.</p>
<p>To be more clear </p>
<p>My input file has:</p>
<p>YYY 7</p>
<p>YYY 7</p>
<p>YYY 7</p>
<p>YYY 8</p>
<p>YYY 8</p>
<p>YYY 9</p>
<p>YYY 9</p>
<p>YYY 9</p>
<p>YYY 11</p>
<p>YYY 11</p>
<p>I want output like:</p>
<p>YYY 1</p>
<p>YYY 1</p>
<p>YYY 1</p>
<p>YYY 2</p>
<p>YYY 2</p>
<p>YYY 3</p>
<p>YYY 3</p>
<p>YYY 3</p>
<p>YYY 4</p>
<p>YYY 4</p>
</div>
<div class="post-text" itemprop="text">
<p>This should do the trick! there might be a better way to do this.</p>
<p>Hope this helps! cheers!</p>
<pre><code>def main():
    mapping={}
    counter=0
    with open("./input.txt") as f, open("./output.txt","w") as output:
        for line in f.readlines():
            line=line.replace("\n","")
            parts= line.split(" ")
            x=parts[0]
            y=parts[1]
            if y not in mapping:
                counter+=1
                mapping[y]=counter

            output.write("{} {}".format(x,mapping[y]))
            print(("{} {}".format(x,mapping[y])))

if __name__ == '__main__':
    main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use a simple <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer"><code>defaultdict</code></a> based trick to get contiguous <code>1</code>-based "indexes":</p>
<pre><code> from collections import defaultdict

 ind = defaultdict(lambda: len(ind) + 1)
 for row in data:
     row[4] = ind[row[4]]
</code></pre>
<p>This will create a consistent mapping of old values to new values with new values from <code>[1..n]</code>.</p>
</div>
