<div class="post-text" itemprop="text">
<p>I have a task to crawl all Pulitzer Winner, and I found this page has all I want: <a href="https://www.pulitzer.org/prize-winners-by-year/2018" rel="nofollow noreferrer">https://www.pulitzer.org/prize-winners-by-year/2018</a>.</p>
<p>But I got the following problems,</p>
<p><strong>Problem 1:</strong> How to crawl a dynamic page? I use python/urllib2.urlopen, to get the page's content, but this dynamic page doesn't return the real content from this.</p>
<p><strong>Problem 2:</strong> I then found an API URL from devtool: <a href="https://www.pulitzer.org/cache/api/1/winners/year/166/raw.json" rel="nofollow noreferrer">https://www.pulitzer.org/cache/api/1/winners/year/166/raw.json</a>. But when I sent a GET request from urllib2.urlopen, I always get null. How does it happen? Or how can I handle with it?</p>
<p>If this is too naive for you, please name some words so that I can learn it from Google.</p>
<p>Thanks in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>One way to handle is to create a session using requests module. This way, it passes necessary session details required for next api call, you also have to pass one more parameter Referer to the header. This differentiates which year you are looking for in the api call.  </p>
<pre><code>import requests
s = requests.session()
url = "https://www.pulitzer.org/prize-winners-by-year/2017"
resp1 = s.get(url)
headers = {'Referer': 'https://www.pulitzer.org/prize-winners-by-year/2017'}
api = "https://www.pulitzer.org/cache/api/1/winners/year/166/raw.json"
data = s.get(api,headers=headers)
</code></pre>
<p>now you can extract the data from the response in data. </p>
</div>
<span class="comment-copy">Thank you! So it seems the Referer is the key? Your solution works, and now Im looking for detail I didn't learn...  Thank you again!</span>
