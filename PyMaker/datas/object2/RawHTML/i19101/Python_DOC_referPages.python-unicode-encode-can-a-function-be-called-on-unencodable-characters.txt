<div class="post-text" itemprop="text">
<p>I have a text, in uncode, that I'd like to encode in latin-1. Some characters cannot be encoded. If I use encode with the "replace" parameter, I get the question tag character, but, is there a way to call a custom function to replace the character?</p>
<p>For example, I'd like to convert all the possible characters to latin-1, and call <code>unidecode.unidecode()</code> on the unencodable characters. Is that possible?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can create your own error handler with <a href="http://docs.python.org/3/library/codecs.html#codecs.register_error"><code>codecs.register_error('myerrorhandler', function)</code></a>.</p>
<pre><code>&gt;&gt;&gt; import codecs
&gt;&gt;&gt; codecs.register_error('silly', lambda e: ('X', e.start+1))
&gt;&gt;&gt; 'foöbar'.encode('ascii', 'silly')
b'foXbar'
&gt;&gt;&gt;
</code></pre>
</div>
<span class="comment-copy">I'm having problems making your code work... <code>UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 2: ordinal not in range(128)</code></span>
<span class="comment-copy">Are you using Python 2? If so you would need to use <code>u'foöbar'</code> and <code>u'X'</code> for this code to work.</span>
<span class="comment-copy">Yeah, you're right. Works wonderfully. Thanks!</span>
