<div class="post-text" itemprop="text">
<p>I want to check a file type before uploading it by:</p>
<pre><code>content = self.cleaned_data['picture']
content_type = content.content_type.split('/')[0]
</code></pre>
<p>When I upload the picture I get an error:</p>
<pre><code>'NoneType' object has no attribute 'content_type'
</code></pre>
<p>What can be wrong here?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/imghdr.html#imghdr.what" rel="nofollow"><code>imghdr.what</code></a> will return image format as string (gif, png etc.) if the image is valid, or <code>None</code> otherwise.</p>
<p>Usage:</p>
<pre><code>import imghdr
imghdr.what(value)
</code></pre>
<p>In the above example <code>value</code> can be either a file(-like) object or a filename.</p>
</div>
<span class="comment-copy">It means that no picture was uploaded in the form.</span>
<span class="comment-copy">Useful unknown built-in to me</span>
