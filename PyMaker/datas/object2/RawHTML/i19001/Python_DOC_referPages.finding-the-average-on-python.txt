<div class="post-text" itemprop="text">
<p>What is the average value of the numbers in the field [Num] in the range (3987) and (5026) inclusive? </p>
<p>The field is below it is field [4] on excel. </p>
<pre><code>**amount       code    quan val     number  Random**
2.11    I[N8U7]:75  184 Blue    2254    Potato
3.13    Z[V0L8]:64  131 Blue    6349    Carrot
4.24    B[Y1U2]:38  56  Blue    4164    Mushrooms
7.32    T[Z7N0]:67  329 Red     2079    Pear
9.1     C[T8C5]:83  344 Blue    1045    Apple
11.17   M[P4J9]:38  267 Blue    1254    Strawberry
2.21    E[S1G7]:62  446 Red     2223    Vanilla
1.41    W[M4M5]:96  8   Red     6745    Juice
2.31    W[P3E1]:24  215 Red     1223    Orange
0.12    E[M5K0]:78  424 Blue    2385    Pineapple
3.91    A[A9M2]:33  367 Red     3354    Grape
3.1     W[N2E2]:70  121 Blue    7716    Watermelon
10.21   J[H2W8]:17  253 Red     1017    Yogurt
5.1     G[K5L5]:08  216 Red     1039    Peppers
1.14    V[Z2C3]:L75 419 Blue    2520    Onions
1.02    Q[I1I2]:20  380 Red     2700    Chocolate
0.19    S[P1X2]:43  133 Blue    3171    Cheese
7.21    Z[B2E3]:46  126 Blue    2971    Ham
10.21   L[F6V1J:28  249 Red     7574    Blueberry
1.02    X[B0N3]:65  243 Blue    3441    Water
</code></pre>
<p>I have tried the following code and I cannot figure out what else to do. Thanks in advance</p>
<pre><code>file=open ('3114644b.csv','r')

def mylist():
    alist=[]
    for line in file:
        field = line.split(',')
        if field[0]=='bid' or field[0]=='leave':
            alist.append(float(field[4]))
    return alist

blist=mylist()
total = 0
count = 0
for num in blist:
    total +=  num
    count += 1

average = total / count

print ("the average of the values)

file.close
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="http://docs.python.org/3/library/csv.html" rel="nofollow"><code>csv</code> module</a>, it was designed for a task like this:</p>
<pre><code>import csv

total = count = 0

with open('3114644b.csv', newline='') as f:
    reader = csv.reader(f)
    next(reader, None)  # skip the first row of headers

    for row in reader:
        total += float(row[4])
        count += 1

if count:
    # only calculate the average if there was actually anything in the file
    average = total / count
    print('The average of the values is {}'.format(average))
</code></pre>
<p>The above code also uses the file as a context manager (with the <code>with</code> statement); as soon as the <code>with</code> block has completed, the file is closed for you, automatically.</p>
<p>In your version, you tried to close the file manually, but only managed to reference the <code>.close()</code> method, not actually call it.</p>
<p>We also don't read all values into a list, not when you can instead just sum the values and keep a count of how many values you summed. This uses much less memory and makes processing even huge CSV files fast and efficient.</p>
<p>For your sample data, the above code outputs:</p>
<blockquote>
<p>The average of the values is 3261.2</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>Here's a version that does not use the <code>cvs</code> module. (note that it is encouraged you learn how to use suitable modules if present for each task)</p>
<pre><code>data = []

# This next line closes the file as soon as the block ends (as Martijn suggests)
with open ('3114644b.csv','r') as f:
    for line in f:
        field = line.split(',')
        if field[0] in {'bid', 'leave'}:
            # Note that the 4th column you want to refer to is actually the list
            # list elemnt with index 3, not 4. List indexes start with 0
            data.append(float(field[3]))

# The 'sum()' function is the best choice for your problem as karthirk suggested
# The 'len()' function is a built-in function that returns the number of items
# a list has
average = sum(data)/len(data)

print ("The average of the values is %f" % average)
</code></pre>
</div>
<span class="comment-copy">I fixed your indentations, but you'll need to add the <code>"</code> and <code>.close()</code> <i>call</i> parenthesis yourself.</span>
<span class="comment-copy">Thank you Martin Pieters</span>
<span class="comment-copy">To find the average, you can just do <code>avg = sum(blist)/len(blist)</code></span>
<span class="comment-copy">@karthikr can you try modify the code for me please? I am a beginner in Python so I don't fully understand it.</span>
<span class="comment-copy">Is this Python 2 or 3?</span>
<span class="comment-copy">+1 for using <code>with</code> construct.</span>
<span class="comment-copy">Should be <code>if count</code> rather than <code>if total</code>, because the average could very well be <code>0</code>.</span>
<span class="comment-copy">@ThijsvanDien: Indeed, I wanted to avoid a <code>ZeroDivisionError</code> and then testing for <code>count</code> makes more sense. The input values are all in positive integers though in a specific range though.</span>
<span class="comment-copy">No forgiveness today?</span>
<span class="comment-copy">@ThijsvanDien: Perhaps, I felt in a ask-to mood here after another learner wanted to avoid <code>try</code>..<code>except</code> statements..</span>
