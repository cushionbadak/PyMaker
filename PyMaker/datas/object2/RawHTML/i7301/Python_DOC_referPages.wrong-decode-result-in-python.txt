<div class="post-text" itemprop="text">
<p>Can't figure out by debugging, why I got <code>b</code> in front of my hidden string?</p>
<p>I get this string in my result:
 <code>'1101000011001010110110001101100011'</code></p>
<pre><code>def retr(filename):
    img = Image.open(filename)
    binary = ''

    if img.mode in ('RGBA'):
        img = img.convert('RGBA')
        datas = img.getdata()

        for item in datas:
            digit = decode(rgb2hex(item[0], item[1], item[2]))
            if digit == None:
                pass
            else:
                binary = binary + digit
                if (binary[-16:] == '1111111111111110'):
                   # print("Success")
                    return bin2str(binary[:-16])

        return str(bin2str(binary))
    return "Incorrect Image Mode, Couldn't Retrieve"
</code></pre>
<p>But result in console is: <code>b'hello'</code>. Where is <code>b</code> from?</p>
<p>Doing some pre fucntion before <code>retr()</code>:</p>
<pre><code>def rgb2hex(r, g, b):
    return '#{:02x}{:02x}{:02x}'.format(r, g, b)


def hex2rgb(hexcode):
     return int(hexcode[1:3], 16), int(hexcode[3:5], 16), int(hexcode[5:7], 16)


def str2bin(message):
    binary = bin(int(binascii.hexlify(message.encode("ascii")), 16))
    return binary[2:]


def bin2str(binary):
    message = binascii.unhexlify('%x' % (int('0b' + binary, 2)))
    return message
</code></pre>
<p>help ,please, to catch that <code>b</code>..</p>
</div>
<div class="post-text" itemprop="text">
<p><code>bin2str</code> is returning a byte literal. You can use <code>.decode()</code> to return a string instead.</p>
<pre><code>def bin2str(binary):
    message = binascii.unhexlify('%x' % (int('0b' + binary, 2)))
    return message.decode("utf-8") # or encoding of choice
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>x = b'hello'
print(x)
   b'hello'
print(x.decode('utf-8'))
   'hello'
</code></pre>
<p>I hope this shows enough so that you understand how to get it back to a utf-8 string</p>
</div>
<div class="post-text" itemprop="text">
<p>I believe that any byte string will include: "b'" before the string to indicate it came from a binary value. After you convert the binary value to the string, you can do a replace function:</p>
<pre><code>newstring = message.replace("b", "")
newstring = message.replace("'", "")
</code></pre>
</div>
<span class="comment-copy">a <code>b</code> prefix indicates that you have a bytestring, see <a href="https://docs.python.org/3/library/stdtypes.html#bytes" rel="nofollow noreferrer">docs.python.org/3/library/stdtypes.html#bytes</a></span>
<span class="comment-copy">@cssko              and can't I remove this?</span>
<span class="comment-copy">Why do you want to "remove" it?</span>
<span class="comment-copy">@x24 you can decode it, see my answer</span>
<span class="comment-copy">@juanpa.arrivillaga  I meant, just see my string without 'b'.</span>
<span class="comment-copy">Yea, it helped me, thank you a lot for this! Now I've figure out, how I should use it. Thanks one more time.</span>
<span class="comment-copy">Yes, thank for an example. I got it.</span>
