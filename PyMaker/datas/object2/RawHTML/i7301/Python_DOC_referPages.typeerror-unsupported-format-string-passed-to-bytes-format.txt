<div class="post-text" itemprop="text">
<p>Hi I'm trying to print an sqlite file to a readable format. I'm using dionea honeynet's python script. I encounter this error every time I run the script:</p>
<pre><code>File "./readlogsqltree.py", line 268, in print_logins
    login['login_password']))

TypeError: unsupported format string passed to bytes.__format__
</code></pre>
<p>The login['login_password'] is a variable taken from a select statement. Here is the function that is being called:</p>
<pre><code>def print_logins(cursor, connection, indent):
    r = cursor.execute("""
        SELECT 
            login_username,
            login_password
        FROM 
            logins
        WHERE connection = ?""", (connection, ))
    logins = resolve_result(r)
    for login in logins:
        print("{:s} login - user:'{:s}' password:'{:s}'".format(
            ' ' * indent,
            login['login_username'],
            login['login_password']))
</code></pre>
<p>Resolve result function:</p>
<pre><code>def resolve_result(resultcursor):
    names = [resultcursor.description[x][0] for x in range(len(resultcursor.description))]
    resolvedresult = [ dict(zip(names, i)) for i in resultcursor]
    return resolvedresult
</code></pre>
<p>Cursor:</p>
<pre><code>def print_db(opts, args):
    dbpath = 'logsql.sqlite'
    if len(args) &gt;= 1:
        dbpath = args[0]
    print("using database located at {0}".format(dbpath))
    dbh = sqlite3.connect(dbpath)
    cursor = dbh.cursor()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For Python 3, decode the string using <a href="https://docs.python.org/3/library/codecs.html#codecs.decode" rel="nofollow noreferrer"><code>decode('utf-8')</code></a> before calling <a href="https://docs.python.org/3/library/string.html#string.Formatter.format" rel="nofollow noreferrer"><code>format()</code></a></p>
</div>
<span class="comment-copy">Why are you using <code>{:s}</code>? Change that to <code>{}</code> and it should print out.</span>
<span class="comment-copy">It was part of the code</span>
<span class="comment-copy">Well, I don't know what <code>resolve_result</code> does, but apparently it returns <code>bytes</code></span>
<span class="comment-copy">Well, that doesn't help me any, because I don't know anything about the library you're using. I would suggest changing the string formatting as I suggested above and see if that works for you.</span>
<span class="comment-copy">Updated the post. Added the <code>resolve_result</code> function</span>
