<div class="post-text" itemprop="text">
<p>I have a small program through which I am trying to read log files generated in a file location like below</p>
<pre class="lang-py prettyprint-override"><code>Error_Suspects = ['Error', 'ERROR', 'Failed', 'Failure']


def detect_suspects(file_path, word_list):
    with open(file_path) as LogFile:
        Summary = {word: [] for word in word_list}
        failure = ':'
        for num, line in enumerate(LogFile, start=1):
            for word in word_list:
                if word in line:
                    failure += '&lt;li&gt;' + line + '&lt;/li&gt;'
    return failure


Result = detect_suspects(r'C:\scripts\Log.txt', Error_Suspects)
</code></pre>
<p>now the issue is this was good until I have only one single file. But now the files are generated at a certain interval with the timestamp as below.</p>
<p><img alt="enter image description here" src="https://i.stack.imgur.com/f87I0.jpg"/></p>
<p>I want to modify the above program in such a way so that it should always check the file with the latest time stamp. Also, I want to loop this program to run every 5 mins to check for the latest file. If new file doesn't arrive within 5 min it should not read the old one (which is already been read)</p>
</div>
<div class="post-text" itemprop="text">
<p>If you're in the directory containing all those files, you can use <a href="https://docs.python.org/3/library/os.path.html#os.path.getmtime" rel="nofollow noreferrer"><code>os.path.getmtime</code></a> to get the latest file.</p>
<p>You'd use it like this:</p>
<pre><code>import os
files = os.listdir('.')
latest_file = max(files, key=os.path.getmtime)
</code></pre>
<p><code>os.listdir</code> returns a list of all files in the current directory. <code>max</code> with the key finds the file with the most recent modification time, and returns it.</p>
<hr/>
<p>To loop over your directory every 5 minutes, you'll need to instate a <code>while</code> loop:</p>
<pre><code>import time
while True:
    Result = detect_suspects(r'C:\scripts\Log.txt', Error_Suspects)
    time.sleep(5 * 60) # 300 seconds or 5 minutes
</code></pre>
</div>
<span class="comment-copy">Please fix the inline image</span>
<span class="comment-copy">Hi andras..I am very new and could not find a way to do that. But if you look on my updated questions ,I am not even looking at the text file names.I now just want to loop this every 5 sec.</span>
<span class="comment-copy">Basically, you missed a <code>!</code> before the referred the image - <a href="https://stackoverflow.com/editing-help#images">stackoverflow.com/editing-help#images</a></span>
<span class="comment-copy">right u r..but it also need 10 reputation to post images..:)</span>
<span class="comment-copy">Wao!! Thanks for replying so fast...the code did work... I am very new to python..can you help me modifying the code to loop this program to run every 5 sec to check the latest file .</span>
<span class="comment-copy">@AniruddhyaDutta Glad to help. You can accept an answer if it helped. Click the grey check on the left of my answer and help out the community :)</span>
<span class="comment-copy">@COLDSPEED I have updated my original question with the code.Can you please have a look...if you don't mind</span>
<span class="comment-copy">@AniruddhyaDutta I'd love to help. But changing the theme of a question constantly is bad form as it reduces its readability for future readers. I urge you to open another one.</span>
<span class="comment-copy">@COLDSPEED..sure I am doing...I am new to this community as well as coding...</span>
