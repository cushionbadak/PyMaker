<div class="post-text" itemprop="text">
<p>I have a function which works with integers. I have added code for exception handling if strings or floats are entered, however, Python keeps returning either nonsense or <code>NameError</code>. At this point I have tried a loop which keeps asking until an integer is entered and a <code>try</code> and <code>except</code>. Nothing works.</p>
<p>Here's the code:</p>
<pre><code>def threes(num):

    """isNotCorrect = True

    while isNotCorrect:
        print(type(num))
        if type(num) is not int:
            print("Sorry, you need to enter a whole number to play Threes.")
        else:
            print('X')
            isNotCorrect = False"""

    try:
        while num &gt; 1:
            if num % 3 == 0:
                num = num/3
            else:
                if ((num + 1) % 3 == 0):
                    num = (num + 1)/3
                else:
                    num = (num - 1)/3
            print(num)
    except NameError:
        print("Invalid number. Please enter a valid number.")
</code></pre>
<p>Entering a whole number(the intended input) executes the code fine, but everything else leads to a name error like this, where the input is <code>threes(bob)</code>. The top part is my attempt at a loop, which also failed and returned the same error;</p>
<pre><code>Traceback (most recent call last):
   File "&lt;input&gt;", line 1, in &lt;module&gt;
NameError: name 'bob' is not defined
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>NameError: name 'bob' is not defined</code> means that you try to use a variable named <code>bob</code> but you didn't create it.<br/>
You have to define what is <code>bob</code> like that for exemple :<br/>
<code>bob = 'a simple man'  # bob is a string</code><br/>
or<br/>
<code>bob = 4  # bob is an integer</code></p>
<p>Furthermore, I just want you to know that even if it works, try to avoid using try/except because this is quite slow when you have to enter in the except block.</p>
<p>If you want to check if your variable is an integer I recommend you using :</p>
<pre><code>if isinstance(bob, int):
    # do something
else:
    # do something else
</code></pre>
<p>Where <a href="https://docs.python.org/3/library/functions.html#isinstance" rel="nofollow noreferrer">isinstance()</a> is a built-in function.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your bob variable is not defined at all, so you don't reach the try/catch.</p>
<p>Try decalring bob with not a number, <code>bob = 'test_string'</code> and retry.</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem is that <code>NameError</code> is being raised from <em>outside</em> the function call. When you say:</p>
<pre><code>threes(bob)
</code></pre>
<p>What Python does is:</p>
<ol>
<li>Get the value of <code>bob</code>.</li>
<li>Call <code>threes</code> passing that value as parameter.</li>
</ol>
<p><code>NameError</code> is raised in step 1., so you don't even get into the function. If you still want to catch it, you should have the <code>try</code>/<code>except</code> block outside:</p>
<pre><code>try:
    threes(bob)
except NameError:
    print("NameError raised.")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The code you posted simply cannot raise a NameError. The error probably comes from the part where you call you <code>threes</code> function. If you just wrote <code>threes(bob)</code>, then the NameError will be raised if you did not previously define a variable named <code>bob</code>. If you wanted to pass a string, you should call your function like: <code>threes("bob")</code></p>
</div>
<span class="comment-copy">It seems that you haven't defined bob variable... Could you please post the entiere code ?</span>
<span class="comment-copy">What did you expect when you  call <code>threes(bob)</code> and <code>bob</code> is not defined anywhere?</span>
<span class="comment-copy">The exception is raised before the method is executed (<code>bob</code> doesn't exist). By not entering the method, the <code>try</code> <code>except</code> is not being executed. Also, if you want to check the input is a number, the <code>Except</code> should check for  <code>TypeError</code>, not <code>NameError</code>.</span>
<span class="comment-copy">As Ruud de Jong says, <code>NameError</code> is irrelevant to the code you posted. BTW, if you actually <i>do</i> want to catch a non-number being passed to code that needs numbers, you'd normally catch it with <code>except ValueError</code>. But it's better to handle that in the code that gets the input data <i>before</i> you pass it to the code which processes that data.</span>
<span class="comment-copy">You may find the info here useful: <a href="https://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response">Asking the user for input until they give a valid response</a>.</span>
<span class="comment-copy">Good advice. Exceptions are faster than the equivalent <code>if...else</code> code when the exception doesn't actually get raised, but if you expect the exception to be raised more than 5-10% of the time, then the code will run faster if it uses <code>if...else</code> code. However, using <code>isinstance</code> is better than using <code>type</code> for this sort of thing.</span>
<span class="comment-copy">@PM 2Ring Yes, I forgot <code>isinstance</code>, I edited. And about <code>try...except</code>, I would add that even if it's less than 5-10% (but not to much neither), I'll prefer <code>if...else</code> because it's more constant and predictable which can be useful for multiprocessing purpose (for exemple).</span>
