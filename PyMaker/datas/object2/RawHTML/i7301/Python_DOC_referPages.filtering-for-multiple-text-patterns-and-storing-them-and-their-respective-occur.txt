<div class="post-text" itemprop="text">
<p>I'm new to python and to stackoverflow itself, it's my first post here.</p>
<p>I'm working with a log file that looks like this:</p>
<p>Feb  1 00:00:02 bridge kernel: INBOUND TCP: IN=br0 PHYSIN=eth0 OUT=br0 PHYSOUT=eth1 SRC=XXX.XXX.XXX.XXX DST=XXX.XXX.XXX.XXX LEN=40 TOS=0x00 PREC=0x00 TTL=110 ID=12973 PROTO=TCP SPT=220 DPT=6129 WINDOW=16384 RES=0x00 SYN URGP=0</p>
<p>I need to search for everything between the colons. In this line the pattern matched would be  INBOUND TCP, but there are other types of patterns.</p>
<p>I have to search that field, store all unique type and how many times they occured in the file.</p>
<p>I already know how to open the file and use re.compile to parse it and i managed to save the unique results in another text file.</p>
<p>Reading the documentation i imagine that i need to use a dictionary with some sort of loop in order to store the different patterns and their occurence number.</p>
<p>Can someone help me?</p>
<p>Thank you if read this far.</p>
<pre><code>#!/usr/bin/python3
import sys
import os
import re

p= re.compile ('bridge kernel:.*:')
    with open (sys.argv[1], "r") as f:
        with open ('tipos.txt',"w" ) as f2:
            for line in f:
                if p.search(line):
                   f2.write(line.split(":")[3] + '\n')

os.system('sort tipos.txt|uniq &gt; tipos2.txt')
dict={}
with open (sys.argv[1],"r") as log:
with open ('tipos2.txt','r') as f:
for l in f:
if f in log:
dict={"(f.line)", "(len(log))"}
    print (dict)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>First of all you shouldn't call your dictionary <a href="https://docs.python.org/3/library/stdtypes.html#dict" rel="nofollow noreferrer"><code>dict</code></a> because it is already an existing keyword in python (<code>The dict() constructor builds dictionaries directly from sequences of key-value pairs</code>).</p>
<p>This line <code>dict={"(f.line)", "(len(log))"}</code> is incorrect, the curly brackets used like this mean you are actually defining a <strong>new</strong> <a href="https://docs.python.org/3/tutorial/datastructures.html#sets" rel="nofollow noreferrer"><code>set</code></a> containing two strings, and not the variables you want - they are in quotes.</p>
<p>The declaration of the empty dictionary itself is fine.
To add values to an existing dictionary use <code>dictName[key] = value</code>. To declare a dictionary with value pairs use <code>dictName = {key1 : value1, key2 : value2}</code> etc.</p>
</div>
<span class="comment-copy">we arent here to necessarily solve your problem for you, but help you with your approach.  After, we can discuss optimization.  That being said, lets see your code and what your attempting and what you are getting as opposed to what you need to get.</span>
<span class="comment-copy">Btw, <code>00</code> is also between colons. What regex were you planning on using?</span>
<span class="comment-copy">I'm currently at home right now and i don't have access to my code at this moment. Tomorrow i will be able to post it here, should i edit my post andinclude it or should i post it here in the comments? Thank you.</span>
<span class="comment-copy">dictionaries have a <code>get(key, default_value)</code> method, you can set the default value to <code>0</code> and add 1 every time the item appears</span>
<span class="comment-copy">Always update the question, instead of posting additional information in comments.</span>
<span class="comment-copy">Thank for you for the tips. I'll give a try as soon as i can.</span>
<span class="comment-copy">I've made several changes to my code and got stucked in another step. Should i submit a new question or edit this?  Thanks.</span>
