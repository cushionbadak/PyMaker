<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/2491222/how-to-rename-a-file-using-python">How to rename a file using Python</a>
<span class="question-originals-answer-count">
                    10 answers
                </span>
</li>
</ul>
</div>
<p>I want to rename/replace part of the string with a new name. </p>
<p>I have a string that represents a file including its path and file extension as shown below.</p>
<pre><code>source_file = 'images/filename.jpg'
</code></pre>
<p>Below shows what I have tried so far. It works, however, is there a better way to produce the same outcome? I define 'better' by, shorter syntax and more efficient.</p>
<pre><code>    import uuid

    source_file = 'images/filename.jpg'
    split = source_file.rsplit('/', 1)
    path, filename = split[0], split[1]

    ext = filename.rsplit('.', 1)[1]

    # rebuild
    renamed = path + str(uuid.uuid4()) + ext
</code></pre>
</div>
<div class="post-text" itemprop="text">
<ol>
<li><p>Use <code>os.path.split</code> to split your path into head and tail.</p></li>
<li><p><code>os.path.splitext</code> splits the tail on extension, replace the tail with the new uuid</p></li>
<li><p>Call <code>os.path.join</code> to join head and new tail</p></li>
</ol>
<hr/>
<pre><code>In [1006]: head, tail = os.path.split('images/full_res/aeb2ffaf-2c4c-4c54-a356-fd0df7764222.jpg')

In [1008]: tail = str(uuid.uuid4()) + os.path.splitext(tail)[-1]

In [1010]: os.path.join(head, tail)
Out[1010]: 'images/full_res/a83e5a31-8d30-47d9-b073-d4439e0e4b2f.jpg'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can take the <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">pathlib</a>  approach just as an alternative way to look at it and making use of a new awesome module. </p>
<p>So, you can take your path and create a <code>Path</code> object out of it:</p>
<pre><code>from pathlib import Path
p = Path('images/full_res/aeb2ffaf-2c4c-4c54-a356-fd0df7764222.jpg')

# get the name without extension
name_without_extension = p.stem
# extension part
ext = p.suffix

p.rename(Path(p.parent, renamed_file + ext))
</code></pre>
<p>More shortly: </p>
<pre><code>p = Path('images/full_res/aeb2ffaf-2c4c-4c54-a356-fd0df7764222.jpg')
p.rename(Path(p.parent, 'new_uuid' + p.ext))
</code></pre>
</div>
<span class="comment-copy">@Professor_Joykill , I had not considered that the string could use <code>os.path</code> function until posted. However, yes, OP could be a duplicate now this has been made clear by cᴏʟᴅsᴘᴇᴇᴅ. I would like like to award points tho, as it helped me, please advise?</span>
<span class="comment-copy">Feel free to mark an answer accepted regardless. :)</span>
