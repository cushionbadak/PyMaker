<div class="post-text" itemprop="text">
<p>I have lately been working on a project that retrieves METAR from a NOAA website, and slices the METAR data and prints it. Now I have encountered a problem as change the code to <code>Python3.6</code>, when I try to <code>.find()</code> the marker that sates the start of the METAR data it gives me this error message:</p>
<pre><code>File "/Users/MrZeus/Desktop/PY3.6_PROJECT/version_1.py", line 22, in daMainProgram
    data_start = website_html.find("&lt;--DATA_START--&gt;")
TypeError: a bytes-like object is required, not 'str'
</code></pre>
<p>I do understand what this error is saying. It means that the <code>.find()</code> does not take a string, but according to the python docs the <code>.find()</code> function does take a string! </p>
<p>here is the section of code I am having trouble with: </p>
<pre><code>website = urllib.request.urlopen(airid)

website_html = website.read()

print(website_html)

br1_string = "&lt;!-- Data starts here --&gt;"

data_start = website_html.find(br1_string)

br1 = data_start + 25

br2 = website_html.find("&lt;br /&gt;")

metar_slice = website_html[br1:br2]

print("Here is the undecoded METAR data:\n"+metar_slice)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>HTTPResponce.read()</code> returns a <code>bytes</code> object. <code>bytes</code> methods (such as <code>.find</code>) require arguments of type <code>bytes</code>. </p>
<p>You could either change <code>br1_string</code> to a <code>bytes</code> object:</p>
<pre><code>br1_string = b"&lt;!-- Data starts here --&gt;"
</code></pre>
<p>or, decode the response:</p>
<pre><code>website_html = website.read().decode()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As per <a href="https://docs.python.org/3/library/stdtypes.html#bytes.find" rel="nofollow noreferrer">the documentation, it takes a bytes-like object or an int</a>.</p>
<p>There are two types here: <code>str</code> and <code>bytes</code>. Both have a <code>.find</code> method. It is easy to mistake them. Your <code>website_html</code> file is actually <code>bytes</code>, not <code>str</code>.</p>
</div>
<span class="comment-copy">Thank you sooooooo much!!</span>
