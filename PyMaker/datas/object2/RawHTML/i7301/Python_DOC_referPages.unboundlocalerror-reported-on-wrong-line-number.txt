<div class="post-text" itemprop="text">
<p>For example:</p>
<pre class="lang-none prettyprint-override"><code>$ cat -n foo.py
     1  def f():
     2      str = len
     3      str = str('abc')
     4  #   len = len('abc')
     5  f()
$ python2.7 foo.py
$
</code></pre>
<p>It runs successfully so there are no problems with line #2 and line #3. But after I uncomment line #4:</p>
<pre class="lang-none prettyprint-override"><code>$ cat -n bar.py
     1  def f():
     2      str = len
     3      str = str('abc')
     4      len = len('abc')
     5  f()
$ python2.7 bar.py
Traceback (most recent call last):
  File "bar.py", line 5, in &lt;module&gt;
    f()
  File "bar.py", line 2, in f
    str = len
UnboundLocalError: local variable 'len' referenced before assignment
$
</code></pre>
<p>Now it reports error so there must be something wrong with the uncommented line #4 but why the Traceback error is reported on line #2?</p>
</div>
<div class="post-text" itemprop="text">
<p>There is a answer in Programming FAQ</p>
<blockquote>
<p>This is because when you make an assignment to a variable in a scope,
  that variable becomes local to that scope and shadows any similarly
  named variable in the outer scope.</p>
</blockquote>
<p>Read complete here : <a href="https://docs.python.org/3/faq/programming.html#why-am-i-getting-an-unboundlocalerror-when-the-variable-has-a-value" rel="nofollow noreferrer">Why am I getting an UnboundLocalError when the variable has a value?</a></p>
<p>When len is commented it is consider as a build in function <a href="https://docs.python.org/2/library/functions.html#len" rel="nofollow noreferrer">len()</a></p>
<pre><code>def f():
    str = len
    print type(str)
    str = str('abc')
    # len = len('abc')
    print type(len)

f()

&lt;type 'builtin_function_or_method'&gt;
&lt;type 'builtin_function_or_method'&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>with L4 commented, <code>len</code> is parsed as function <code>len()</code>.</p>
<p>after uncomment L4, <code>len</code> is parsed as a local variable.</p>
</div>
<span class="comment-copy">Just a heads-up: the author of a question you recently answered <a href="https://meta.stackoverflow.com/questions/355936/an-answer-and-comments-just-disappear">has asked</a> why you deleted your answer, in case you want to weigh in.</span>
