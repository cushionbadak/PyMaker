<div class="post-text" itemprop="text">
<p>I have just begun studying Python.
I want sum some list data in Python.</p>
<h3>convert.txt.</h3>
<pre><code>/vol/vol0/,1GB,1GB,1GB,7%,FAS8040-ZZZZ
/vol/vol0/,466GB,31GB,435GB,7%,FAS8040-ZZZZ
/vol/vol0/,1GB,1GB,1GB,8%,FAS8040-CCCC
/vol/vol0/,466GB,38GB,428GB,8%,FAS8040-CCCC
/vol/vol0/,200GB,200GB,200GB,7%,FAS8040-XXXX
/vol/vol0/,100GB,100GB,100GB,7%,FAS8040-YYYY
</code></pre>
<h3>Script</h3>
<pre><code>with open("convert.txt", "r") as f:
    for line in f:
            line = line.split(',')
            vser = line[5].replace('\n','')
            tcap = int(line[1].replace('GB',''))
            ucap = int(line[2].replace('GB',''))
            acap = int(line[3].replace('GB',''))
            data = vser, tcap, ucap, acap
            print (data)
</code></pre>
<p>I want to sum like a dictionary.</p>
<p>But I need below output.</p>
<pre><code>FAS8040-ZZZZ,467,32,436
FAS8040-CCCC,467,39,429
FAS8040-XXXX,200.200.200
FAS8040-YYYY,100,100,100
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>With a dict, and <a href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" rel="nofollow noreferrer"><code>setdefault()</code></a> you can do:</p>
<h3>Before the loop:</h3>
<pre><code>data_dict = {}
</code></pre>
<h3>In the loop:</h3>
<pre><code>data_line = data_dict.setdefault(vser, [0, 0, 0])
data_line[0] += tcap
data_line[1] += ucap
data_line[2] += acap
</code></pre>
<h3>Result:</h3>
<pre><code>for key, data in data_dict.items():
    print(','.join([key] + [str(d) for d in data]))

FAS8040-YYYY,100,100,100
FAS8040-ZZZZ,467,32,436
FAS8040-XXXX,200,200,200
FAS8040-CCCC,467,39,429
</code></pre>
<h3>Test Code:</h3>
<pre><code>data_str = """
    /vol/vol0/,1GB,1GB,1GB,7%,FAS8040-ZZZZ
    /vol/vol0/,466GB,31GB,435GB,7%,FAS8040-ZZZZ
    /vol/vol0/,1GB,1GB,1GB,8%,FAS8040-CCCC
    /vol/vol0/,466GB,38GB,428GB,8%,FAS8040-CCCC
    /vol/vol0/,200GB,200GB,200GB,7%,FAS8040-XXXX
    /vol/vol0/,100GB,100GB,100GB,7%,FAS8040-YYYY
""".split('\n')[1:-1]

data_dict = {}
for line in data_str:
    line = line.split(',')
    vser = line[5].replace('\n', '')
    tcap = int(line[1].replace('GB', ''))
    ucap = int(line[2].replace('GB', ''))
    acap = int(line[3].replace('GB', ''))
    line = vser, tcap, ucap, acap
    data_line = data_dict.setdefault(vser, [0, 0, 0])
    data_line[0] += tcap
    data_line[1] += ucap
    data_line[2] += acap

for key, data in data_dict.items():
    print(','.join([key] + [str(d) for d in data]))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I believe this problem cries out for a compound (two level) <code>defaultdict</code>:</p>
<pre><code>from collections import defaultdict

volumes = defaultdict(lambda: defaultdict(int))

with open("convert.txt") as handle:

    for line in handle:
        _, tcap, ucap, acap, _, vser = line.rstrip().split(',')

        volumes[vser]['tcap'] += int(tcap.replace('GB', ''))
        volumes[vser]['ucap'] += int(ucap.replace('GB', ''))
        volumes[vser]['acap'] += int(acap.replace('GB', ''))

for volume, capacities in volumes.items():
    print(volume, *[capacities[cap] for cap in ['tcap', 'ucap', 'acap']], sep=',')
</code></pre>
<p><strong>OUTPUT</strong></p>
<pre><code>FAS8040-ZZZZ,467,32,436
FAS8040-CCCC,467,39,429
FAS8040-XXXX,200,200,200
FAS8040-YYYY,100,100,100
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would suggest you to use Pandas package for such kind of data evaluations.</p>
<p>If the data is stored in the file 'data.csv', you can do data processing as follows:</p>
<pre><code>import pandas as pd
df = pd.read_csv('data.csv', header=None)
df[[1,2,3]] = df.replace(to_replace='GB', value='', regex=True)[[1,2,3]].apply(pd.to_numeric)
df.groupby([5,0]).sum()
# write to csv if needed... df.to_csv
</code></pre>
</div>
<span class="comment-copy">Which numbers exactly are you trying to add together? The total gigs by column? Row?</span>
<span class="comment-copy">I tried your answer but result is not correct. below is result. {FAS8040-0204,466,31,435 FAS8040-0204,932,62,870 FAS8040-1504,466,38,428 FAS8040-0204,932,62,870 FAS8040-1504,932,76,856 FAS8040-0204,932,62,870 FAS8040-1504,932,76,856 FAS8040-XXXX,200,200,200 FAS8040-0204,932,62,870 FAS8040-1504,932,76,856 FAS8040-XXXX,200,200,200 FAS8040-0204,932,62,870 FAS8040-YYYY,100,100,100}</span>
<span class="comment-copy">@kj9, result of what?</span>
<span class="comment-copy">@kj9, Now that you have 15 reputation, you can upvote <i>any</i> questions or answers you find useful.  See the <a href="http://stackoverflow.com/help/someone-answers">Help Center</a> for guidelines.</span>
<span class="comment-copy">Thank you so much.</span>
<span class="comment-copy">but that is occuerd error.     print(volume, * [capacities[cap] for cap in ['tcap', 'ucap', 'acap']], sep=',')                   ^ SyntaxError: invalid syntax</span>
<span class="comment-copy">@KJ9, that syntax is Python 3 specific -- which version are you using?</span>
