<div class="post-text" itemprop="text">
<p>I've got a bunch of files and a few folders. I'm trying to append the zips to a list so I can extract those files in other part of the code. It never finds the zips.</p>
<pre class="lang-python prettyprint-override"><code>for file in os.listdir(path):
     print(file)
     if file.split(".")[1] == 'zip':
     reg_zips.append(file)
</code></pre>
<p>The path is fine or it wouldn't print out anything. It picks up the same files each time but will not pick up any others. It picks up about 1/5th of the files in the directory.</p>
<p>At a complete loss. I've made sure that some weird race condition with the file availability isn't the problem by putting a time.sleep(3) in the code. Didn't solve it.</p>
</div>
<div class="post-text" itemprop="text">
<p>It's possible your files have more than one period in them. Try using <code>str.endswith</code>:</p>
<pre><code>reg_zips = []
for file in os.listdir(path):
     if file.endswith('zip'):
         reg_zips.append(file)
</code></pre>
<p>Another good idea (thanks, Jean-Fran√ßois Fabre!) is to use <a href="https://docs.python.org/3/library/os.path.html#os.path.splitext" rel="nofollow noreferrer"><code>os.path.splitext</code></a>, which handles the extension quite nicely:</p>
<pre><code>if os.path.splitext(file)[-1] == '.zip':
    ... 
</code></pre>
<p>Am even better solution, I recommend with the <a href="https://docs.python.org/2/library/glob.html#glob.glob" rel="nofollow noreferrer"><code>glob.glob</code></a> function:</p>
<pre><code>import glob
reg_zips = glob.glob('*.zip')
</code></pre>
</div>
<span class="comment-copy">Do the filenames have more than one <code>.</code> in them, perhaps? Does <code>file.endswith('.zip')</code> work?</span>
<span class="comment-copy">Thanks. Put it as an answer and I'll mark it. I'll chalk it up to exhaustion.</span>
<span class="comment-copy">or use <code>os.path.splitext</code> which handles the last dot nicely.</span>
