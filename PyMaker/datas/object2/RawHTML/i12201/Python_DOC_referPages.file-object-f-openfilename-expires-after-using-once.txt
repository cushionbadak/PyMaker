<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/10255273/iterating-on-a-file-using-python">Iterating on a file using Python</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>I'm doing some I/O with Python 3 and noticed this:</p>
<pre><code>fname = 'mbox.txt'
fh = open(fname)

sum( 1 for line in fh) # count lines
# Out[49]: 132045
sum( 1 for line in fh)
# Out[50]: 0
</code></pre>
<p><code>mbox.txt</code> is <a href="http://www.pythonlearn.com/code/mbox.txt" rel="nofollow">here</a>, which should be trivial.</p>
<p>Does it mean the file object <code>fh</code> expires after being used once? I read the documentation and didn't get it. </p>
</div>
<div class="post-text" itemprop="text">
<p>If you iterate the file object, current file position is advanced. Once it reach the end of the file, reading file will return empty string.</p>
<p>To reset the file position, you can use <a href="https://docs.python.org/3/library/io.html#io.IOBase.seek" rel="nofollow"><code>seek</code> method</a>:</p>
<pre><code>sum( 1 for line in fh)
fh.seek(0)  # Move file position/pointer to the beginning (0).
sum( 1 for line in fh)
</code></pre>
</div>
<span class="comment-copy">It doesn't <i>"expire"</i>; it's an <i>iterator</i>, and you've <i>consumed</i> it.</span>
<span class="comment-copy">But note that this will only work for certain types of input streams.  It will not work for things like pipes or interactive input.</span>
<span class="comment-copy">thanks @falsetru  so I understand <code>fh</code> is like a pointer/iterator</span>
