<div class="post-text" itemprop="text">
<p>I have a around 20 different modules that all contain a variable with the same name. I am trying to import these variables without having to explicitly type out every import. So instead of doing this:</p>
<pre><code>import a,b,c,d,e

a1 = a.var
b1 = b.var
c1 = c.var
d1 = d.var
e1 = e.var
</code></pre>
<p>I would like to have some kind of loop that creates these dynamically. Something like:</p>
<pre><code>module_list = [a,b,c,d,e]

for module in module_list:
    create module.var
</code></pre>
<p>The answer probably lies somewhere in dictionaries but I'm not quite sure how exactly to use them here.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you have a file <code>a.py</code>:</p>
<pre><code>var = 1
</code></pre>
<p>and a file <code>b.py</code>:</p>
<pre><code>var = 2
</code></pre>
<p>you can do something like this:</p>
<pre><code>from importlib import import_module

module_list = ['a', 'b']
variables = {}
for mod_name in module_list:
    mod = import_module(mod_name)
    variables[mod_name] = getattr(mod, 'var')

&gt;&gt;&gt; variables
{'a': 1, 'b': 2}
&gt;&gt;&gt; variables['a']
1
</code></pre>
<p><a href="https://docs.python.org/3/library/importlib.html#importlib.import_module" rel="nofollow">importlib.import_module</a> allows to import a module using a string as the name. You can use <a href="https://docs.python.org/3/library/functions.html?highlight=getattr#getattr" rel="nofollow">getattr()</a> to retrieve an attribute again using a string for its name, for example:</p>
<pre><code>&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.version == getattr(sys, 'version')
True
</code></pre>
<p>If you are into one-liners, you can do it in one line:</p>
<pre><code>variables = {mod_name: getattr(import_module(mod_name), 'var') for mod_name in module_list}
</code></pre>
</div>
<span class="comment-copy">how is using a dict any better than just using mod.var? If you dynamically import using strings you still have to type out all the names so all you are doing is making your code less readable.</span>
<span class="comment-copy">Beautiful, thank you!</span>
<span class="comment-copy">@AtotheSiv Great that it helped. BTW, you can <a href="http://stackoverflow.com/help/accepted-answer">accept</a> an answer if it solves your problem.</span>
<span class="comment-copy">Will certainly do!</span>
