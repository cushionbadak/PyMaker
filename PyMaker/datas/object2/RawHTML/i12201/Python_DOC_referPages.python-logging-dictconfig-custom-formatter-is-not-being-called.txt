<div class="post-text" itemprop="text">
<p>i have the following ColoeredFormatter in my Module.</p>
<p>But The Formatter does not get called. I expect "hi" on the console, but i get "This is an info of the root logger".</p>
<p>i've already deleted all .pyc files, but it did not help.</p>
<p><strong>MyModule/__init__.py</strong></p>
<pre><code>from MyModule.ColoredFormatter import ColoredFormatter

__all__ = ('ColoredFormatter')
</code></pre>
<p><strong>MyModule/ColoredFormatter.py</strong></p>
<pre><code>import logging

class ColoredFormatter(logging.Formatter):
    def __init__(self, default):
        self.default = default

    def format(self, record):
        print("hi")
        record.msg = "hi"
        return self.default.format(record)
</code></pre>
<p><strong>My Script</strong></p>
<pre><code>import logging, logging.config, yaml

conf="""
logging:
  version: 1
  disable_existing_loggers: true
  root:
    level: !!python/name:logging.NOTSET
    handlers: [console]
  handlers:
    console:
      class: logging.StreamHandler
      stream: ext://sys.stdout
      formatter: myFormatter
      level: !!python/name:logging.NOTSET

  formatters:
    myFormatter:
      class: !!python/name:MyModule.ColoredFormatter
"""
dict = yaml.parse(conf)
logging.config.dictConfig(dict["logging"])

logging.info("This is an info of the root logger")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>in the formatter section i had to replace <code>class</code> by <code>()</code></p>
<pre><code>import logging, logging.config, yaml

conf="""
logging:
  version: 1
  disable_existing_loggers: true
  root:
    level: !!python/name:logging.NOTSET
    handlers: [console]
  handlers:
    console:
      class: logging.StreamHandler
      stream: ext://sys.stdout
      formatter: myFormatter
      level: !!python/name:logging.NOTSET

  formatters:
    myFormatter:
      '()': MyModule.ColoredFormatter
"""
dict = yaml.parse(conf)
logging.config.dictConfig(dict["logging"])

logging.info("This is an info of the root logger")
</code></pre>
</div>
<span class="comment-copy">Can you please elaborate how you got to this information? I couldn't find it anywhere</span>
<span class="comment-copy">@Hagai some information can be found in the <a href="https://docs.python.org/3/library/logging.config.html#dictionary-schema-details" rel="nofollow noreferrer">Python logging documentation</a>.</span>
<span class="comment-copy">Thanks @Evert, It was a bit hard to find, so for the next generations: you can find it in the "user-defined-objects" section <a href="https://docs.python.org/2/library/logging.config.html#user-defined-objects" rel="nofollow noreferrer">docs.python.org/2/library/â€¦</a></span>
