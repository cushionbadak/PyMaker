<div class="post-text" itemprop="text">
<p>I've stumbled upon a strange behaviour with Python's <a href="https://docs.python.org/3.5/library/subprocess.html#module-subprocess" rel="nofollow"><code>subprocess</code></a> module:</p>
<pre><code>&gt;&gt;&gt; import os, subprocess
&gt;&gt;&gt; del os.environ["PATH"]
&gt;&gt;&gt; subprocess.run(["python", "--version"])
Python 3.5.1
CompletedProcess(args=['python', '--version'], returncode=0)
</code></pre>
<p>I wonder how the command is run with the <code>PATH</code> environment variable unset? Is there any default <code>PATH</code>?</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes, there is a default PATH, at least in Linux.</p>
<p>Consider this quote from the <a href="http://linux.die.net/man/3/execl" rel="nofollow">Linux execl() man page</a>:</p>
<blockquote>
<p>If [the PATH variable] isn't defined, the path list defaults to the current directory followed by the list of directories returned by confstr(_CS_PATH). (This confstr(3) call typically returns the value "/bin:/usr/bin".)</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>There is <a href="https://docs.python.org/3/library/os.html#os.defpath" rel="nofollow"><code>os.defpath</code></a>:</p>
<blockquote>
<p>The default search path used by <code>exec*p*</code> and <code>spawn*p*</code> if the
  environment doesnâ€™t have a <code>'PATH'</code> key. Also available via <code>os.path</code>.</p>
</blockquote>
<p>It is hardcoded to <code>':/bin:/usr/bin'</code> in <a href="https://github.com/python/cpython/blob/ce60ae99d349762c15383684c3a7f42667806cf3/Lib/posixpath.py#L35" rel="nofollow"><code>posixpath.py</code> (<code>os.path</code> on POSIX systems)</a> and <code>'.;C:\\bin'</code> in <a href="https://github.com/python/cpython/blob/ce60ae99d349762c15383684c3a7f42667806cf3/Lib/ntpath.py#L30" rel="nofollow"><code>ntpath.py</code> (<code>os.path</code> on Windows)</a>.</p>
</div>
