<div class="post-text" itemprop="text">
<p>I have my feature on my web app where in an admin account can set verification to a company which is the code of that is below. Now when performing the action i cant seem to figure out what is the reason why it is giving my an error "You do not have permission to perform this action ERROR." - 403 Forbidden . In case you wanted to know the FE i have provided also. Thank you. Hope that helps.</p>
<h1>html</h1>
<pre><code>&lt;button ng-click="main.verifyCompany(company,true)" ng-show="company.is_verified" class="btn btn-primary btn-sm"&gt;
                                &lt;i class="fas fa-thumbs-up"&gt;&lt;/i&gt; Approve
                            &lt;/button&gt;
</code></pre>
<h1>FE (angular)</h1>
<pre><code>me.verifyCompany = function (company, verify) {

        if (verify) {
            var message = "Do you really want to activate job posting and other features  for this business account?. Doing so will send an email notification."
        } else {
            var message = "Deactivate posting for this account?."
        }

        confirmSweet.ask(message).then(function (response) {
            if (response) {
                var filter = {}
                filter.id = company.id
                filter.verify = verify
                AdminService.verify_company(me, filter).then(function (response) {
                    if (response.status == "200") {
                        console.log("Response", response.status)
                        me.get_companies()
                    }
                })
            }
        });

    }
</code></pre>
<h1>PYTHON CODE</h1>
<pre><code>class VerifyCompany(APIView):

    authentication_classes = (TokenAuthentication,)
    permission_classes = (IsAuthenticated,IsCompany,IsAdmin,)

    def get(self, request,company_id):

        data = request.data
        verify = request.GET["verify"]
        verify = True if verify == "true" else False
        company_ins = Company.objects.get(id=company_id)
        company_ins.is_verified = verify
        company_ins.save()

        data = {}
        data["email"] = company_ins.user.email
        print("Ang response data")
        if verify:
            email_ins = Email()
            c_task.delay(email_ins.verification_business_success, data)


        return Response("Company status has been updated.", status=status.HTTP_200_OK)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Generally When the permissions checks fail either a "403 Forbidden" or "401 Unauthorized"  is returned.
Then in this case you should check</p>
<ul>
<li>Request Was not sucessful,403 will be. return. In this case  check <code>Token</code> of the User </li>
<li>Request was successful, but permission was denied.403 will be returned
In this case you should check if user has given list of <code>permissions</code> you have mentioned in the permission classes</li>
</ul>
<p>more about <a href="https://www.django-rest-framework.org/api-guide/permissions/#how-permissions-are-determined" rel="nofollow noreferrer">permissions</a></p>
<p>Example,
Lets say if user is <strong>John</strong>
and you have set permissions in View as below</p>
<p><code>permission_classes = (IsAuthenticated,IsCompany,IsAdmin,)</code></p>
<p><em>then john must be user type company and admin</em></p>
</div>
<span class="comment-copy">you have set of permissions : IsAuthenticated, IsCompany, IsAdmin. Please Check if the request user is authenticated, company and admin.</span>
<span class="comment-copy">from v1.permissions.myapp_permissions import IsCompany, IsApplicant, IsAdmin , it is bro.</span>
<span class="comment-copy">i mean check if the user you are trying to do certain actions is actually company, admin, etc. I am not talking about imports.</span>
<span class="comment-copy">Ahh I see , so sorry</span>
<span class="comment-copy">check if token is valid</span>
