<div class="post-text" itemprop="text">
<p>I have a bit of a problem with my view here as it is returning an error on django but I don't know what I have done wrong. My code is as follows in my view:</p>
<pre><code>    from django.views.generic import TemplateView
    from django.shortcuts import render

    from community.models import Community


    class CommunityLanding(TemplateView):

        def get_context_data(request):

            template_name = 'community/landing.html'

            objects = Community.objects.all()

            context = {
                'object': objects
            }

            return render(request, template_name, context)
</code></pre>
<p>Can anyone point me in the right direction?</p>
</div>
<div class="post-text" itemprop="text">
<p>Almost everything about your code is wrong. The template_name attribute is defined inside the class not inside the get_context_data method. The get_context_data method only takes one parameter and it is the 'self' variable, and should only return the context. You don't need to render your template manually, other methods take care of that as long as you have the template_name defined. </p>
<pre><code>from django.views.generic import TemplateView
from community.models import Community

class CommunityLanding(TemplateView):
    template_name = 'community/landing.html'

    def get_context_data(self):
        context = super().get_context_data()
        objects = Community.objects.all()
        context['object'] = objects
        return context
</code></pre>
<p>You should read more about <a href="https://docs.djangoproject.com/en/2.1/topics/class-based-views/#subclassing-generic-views" rel="nofollow noreferrer">subclassing the generic views</a></p>
</div>
<span class="comment-copy">you are missing a self parameter in your function</span>
<span class="comment-copy">This question is very similar to: <a href="https://stackoverflow.com/questions/26931203/function-object-has-no-attribute-meta-in-django-1-7" title="function object has no attribute meta in django 1 7">stackoverflow.com/questions/26931203/â€¦</a> Check it out!</span>
