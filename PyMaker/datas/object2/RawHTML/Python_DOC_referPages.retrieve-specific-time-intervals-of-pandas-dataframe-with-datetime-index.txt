<div class="post-text" itemprop="text">
<p>I have a pandas dataframe with a datetime index. Suppose the datetime index starts at time t1, is there a way in pandas to return the rows of the dataframe for every say 15-minute time interval starting from time t1?</p>
<p>Further, is it possible to average all the entries between those 15-minute intervals and return those?</p>
<pre><code>Datetime            Value
2018-10-08 00:00:01 100.70
2018-10-08 00:00:20 98.70
2018-10-08 00:00:34 112.60
2018-10-08 00:00:00 38.30
2018-10-08 00:01:02 60.30
2018-10-08 00:01:24 115.85
2018-10-08 00:02:00 76.10
</code></pre>
<hr/>
<p>Currently, I solve this problem for 1-hour long intervals by making my own time_intervals and using between_time, but I feel like there should be a much niftier way to do this using the pandas datetime index. </p>
<pre><code>time_intervals=[("{}:00:00".format(i),"{}:00:00".format(i+1)) for i in range(23)]


means_list=[df.between_time(time_interval[0],time_interval[1]).mean()[0] for time_interval in time_intervals]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>"I have a pandas dataframe with a datetime index. Suppose the datetime
  index starts at time t1, is there a way in pandas to return the rows
  of the dataframe for every say 15-minute time interval starting from
  time t1?"</p>
</blockquote>
<p>This is best to be solved by using <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html" rel="nofollow noreferrer">resample</a>:
If you want to get the first element of a given time block, use</p>
<pre><code>df.resample('15m').first()
</code></pre>
<p>if you however want to get the last element in a given time block, you should go with</p>
<pre><code>df.resample('15m').last()
</code></pre>
<blockquote>
<p>"Further, is it possible to average all the entries between those
  15-minute intervals and return those?"</p>
</blockquote>
<p>Yes, also this can be done with <code>resample</code>:</p>
<pre><code>df.resample('15m').mean()
</code></pre>
</div>
<span class="comment-copy">Could you provide a sample from your dataframe? For this part "Further, is it possible to average all the entries between those 15-minute intervals and return those?" - You can use <code>df.resample('15m').mean()</code>. With regard to the first question, I don't know if <code>df.resample('15m').first()</code> or <code>df.resample('15m').last()</code> provides the behaviour you desire.</span>
<span class="comment-copy">@J.Kwon I've added a sample of what the time-series looks like. Thanks, let me see what .first() and .last() do.</span>
<span class="comment-copy">Please also add a sample of what the desired outcome would be.</span>
<span class="comment-copy">@J.Kwon df.resample('15min).mean() seems to work. Can you please explain what the intended outcome of .first() and .last() is? Is it supposed to give the first or last row that happens to fall into the given bin?</span>
<span class="comment-copy">@J.Kwon this all seems to be working perfectly, if you submit this as an answer I'll accept it, thanks.</span>
