<div class="post-text" itemprop="text">
<p>I am making a find and replace script to fix some stuff on my website. I am using Python 3.3.2.</p>
<p>Here is my code:</p>
<pre><code>import re

f = open('random.html', 'w')

strToSearch = " "

for line in f:
    strToSearch += line

patFinder1 = re.compile('&lt;td&gt;Sermon Title&lt;/td&gt;\
            &lt;td&gt;&lt;audio preload="none" controls src="http://www.orlandobiblechurch.org/Audio/\d{6}ldm.mp3"&gt;&lt;/audio&gt;\
            &lt;/td&gt;\
        &lt;/tr&gt;')

findPat1 = re.search(patFinder1, strToSearch)

findPat1 = re.findall(patFinder1, strToSearch)

for i in findPat1:
    print(i)

subFound = patFinder1.sub('&lt;td&gt;Lord\'s Day Morning&lt;/td&gt;\
            &lt;td&gt;&lt;audio preload="none" controls src="http://www.orlandobiblechurch.org/Audio/\d{6}ldm.mp3"&gt;&lt;/audio&gt;\
            &lt;/td&gt;\
        &lt;/tr&gt;', strToSearch)
print(subFound)

f.write(subFound)
f.close()
</code></pre>
<p>The problem is that python tells me that the file is not readable. If I changes this f = open('random.html', 'w') to f = open('random.html', 'r') to this, it says it is not writable. It makes sense why it needs both, but if I put both in, it tells me there must be exactly one read/write thing. I am positive that this is something basic, I just can't figure it out. Thanks for any help you can provide.</p>
</div>
<div class="post-text" itemprop="text">
<p>f = open('random.html', 'r+')</p>
<p>Source: <a href="http://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow">http://docs.python.org/3/tutorial/inputoutput.html</a> </p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>r+</code> or <code>w+</code> as the second parameter to open it in both modes. Refer to <a href="http://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow">here</a>.</p>
<p>Also, have you considered using a <code>with</code> statement? They are more pythonic:</p>
<pre><code>with open('random.html', 'w+') as f:
    do_stuff()
</code></pre>
<p>This has a great advantage that you don't need to manually do <code>.close()</code> afterwards.</p>
<ul>
<li><p><code>strToSearch</code> can also be re-written as <code>strToSearch = ''.join(f.readlines())</code></p></li>
<li><p>Have you considered using a HTML parser such as <a href="http://www.crummy.com/software/BeautifulSoup/" rel="nofollow"><code>BeautifulSoup</code></a> for stuff like this? Better and easier than regex :)</p></li>
</ul>
</div>
<span class="comment-copy">Have you tried "w+"? I found this with a quick search: <a href="http://www.tutorialspoint.com/python/python_files_io.htm" rel="nofollow noreferrer">tutorialspoint.com/python/python_files_io.htm</a></span>
<span class="comment-copy">Hmm, Beautiful Soup looks interesting, but all the documentation talks about installing it on Ubuntu. I assume that I would simply click on the setup.py, right?</span>
<span class="comment-copy">@DogLover You can, yes. Or a simple <code>pip install bs4</code> :)</span>
