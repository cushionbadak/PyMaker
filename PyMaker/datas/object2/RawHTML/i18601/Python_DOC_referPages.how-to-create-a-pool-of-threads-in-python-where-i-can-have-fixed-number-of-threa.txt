<div class="post-text" itemprop="text">
<p>I want to create a pool of threads for a certain task.I want to maintain a certain number of threads at any time.
How can I do that ? How can I check the number of alive threads at any time and create new threads if their count is less than the specified count ?</p>
</div>
<div class="post-text" itemprop="text">
<p>If you're using an existing thread pool implementation—<a href="http://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor" rel="nofollow"><code>concurrent.futures.ThreadPoolExecutor</code></a>, <a href="http://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.dummy" rel="nofollow"><code>multiprocessing.dummy.Pool</code></a>, or anything you find on PyPI or elsewhere—this will all be taken care of automatically.</p>
<p>If you want to build something yourself manually, the question doesn't really make sense. You will need to keep track of your threads, start them manually, and know when they finish, so you always know the number of alive threads.</p>
<p>If you want sample code to look at, <a href="http://hg.python.org/cpython/file/3.3/Lib/concurrent/futures/" rel="nofollow">the source to <code>concurrent.futures</code></a> is very readable, and pretty short. As you can see from a quick look, it calls <code>_adjust_thread_count</code> every time you submit a new job, and that function just checks whether <code>len(self._threads) &lt; self.max_workers</code> and creates a new thread if needed.</p>
</div>
<span class="comment-copy">Perhaps your use case is a good fit for using AMQP instead of threads (chief/worker pattern), if so take a look at celery.</span>
<span class="comment-copy">Something similar to python3.3's <a href="http://docs.python.org/3.3/library/concurrent.futures.html#threadpoolexecutor" rel="nofollow noreferrer"><code>ThreadPoolExecutor</code></a>?</span>
