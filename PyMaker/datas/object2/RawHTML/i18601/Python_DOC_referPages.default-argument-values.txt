<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/1132941/least-astonishment-and-the-mutable-default-argument">“Least Astonishment” and the Mutable Default Argument</a>
<span class="question-originals-answer-count">
                    32 answers
                </span>
</li>
</ul>
</div>
<p>Check out the following code:</p>
<pre><code>def f(x, myList = []):
    myList.append(x)
    return myList
</code></pre>
<blockquote>
<p>f(6)</p>
</blockquote>
<p>returns [6]</p>
<p>while </p>
<blockquote>
<p>f(7)</p>
</blockquote>
<p>returns [6, 7]</p>
<p>My question is why it doesn't use the default myList value when no value is specified.</p>
<p>On the other hand, this code works fine </p>
<pre><code>def f(x, myList = None):
if myList == None:
    # This WILL allocate a new list on every call to the function.
    myList = []
myList.append(x)
return myList
</code></pre>
<blockquote>
<p>f(6)</p>
</blockquote>
<p>returns [6]</p>
<blockquote>
<p>f(7)</p>
</blockquote>
<p>returns [7]</p>
<p>Why in the later case it takes the default argument value but not in the former case?</p>
</div>
<div class="post-text" itemprop="text">
<p>The default argument is init at the point of defining the function. So for mutable type values, the function calls share the same variable. You can refer <a href="http://docs.python.org/3/faq/design.html#why-are-default-values-shared-between-objects" rel="nofollow">Why are default values shared between objects</a>.</p>
</div>
