<div class="post-text" itemprop="text">
<p>It appears that Python 2 has PyString_Type whereas Python 3 has PyBytes_Type</p>
<p>What is going on under the hood?</p>
<p>I'm writing a C++ wrapper (currently wrapping Python3, but I hope to add Python2 support later), and I just got round to the task of wrapping strings.</p>
<p>Is it correct that 2&amp;3 both provide separate support for a byte-string and a Unicode-string, but they have just done some renaming?</p>
<p>If this is so then is this table correct?:</p>
<pre><code>Py2 byte-string ~ PyString_Type             Py2 Unicode-string ~ PyUnicode_Type 
Py3 byte-string ~ PyBytes_Type              Py3 Unicode-string ~ ?
</code></pre>
<p>And if so, how to complete it?</p>
<p>EDIT: <a href="https://docs.python.org/2/c-api/string.html" rel="nofollow">Python2 doc for String</a> says:</p>
<blockquote>
<p><strong><em>These functions have been renamed to PyBytes_</em> in Python 3.x*</strong>. Unless
  otherwise noted, the PyBytes functions available in 3.x are aliased to
  their PyString_* equivalents to help porting.</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>In Python 2, <code>str</code> contains bytes (and the type <code>bytes == str</code>) and <code>unicode</code> contains Unicode strings. Therefore 2.x has three types effectively.</p>
<p>In Python 3, <code>bytes</code> contains bytes and <code>str</code> contains Unicode strings. The <code>str</code> type in 3.x is the <code>unicode</code> type of 2.x. Therefore 3.x has two types effectively. This is the conceptual approach that you should take and any 2.x-related work should also separate Unicode strings and bytes in this way.</p>
<p>Based on <a href="https://docs.python.org/3/howto/cporting.html?highlight=pystring#str-unicode-unification" rel="nofollow">this section</a> in the documentation that means <code>PyUnicode</code> is used in both 2.x and 3.x for the Unicode strings. <code>PyBytes</code> is used for byte-strings in both and the <code>PyString</code> type only has meaning in Python 2.x.</p>
</div>
