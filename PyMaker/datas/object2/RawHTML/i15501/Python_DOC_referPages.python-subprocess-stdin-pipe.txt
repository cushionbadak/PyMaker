<div class="post-text" itemprop="text">
<p>Hello i have such problem. I need to login via subprocess. So i want to create a input pipe and write login and password to them.So i try to do something like this: </p>
<pre><code>sp = subprocess.Popen([cmd],stdout=subprocess.PIPE, stdin=subprocess.PIPE)
i, o = sp.communicate()
</code></pre>
<p>After first string i have such error <code>tcgetattr: Inappropriate ioctl for device</code>. And i have None value of <code>o</code>. How can i write smth to pipe in this case. Thank you for your help.</p>
</div>
<div class="post-text" itemprop="text">
<p>From <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate" rel="nofollow"><code>subprocess.communicate(input)</code> docs</a>:</p>
<blockquote>
<p>The optional input argument should be data to be sent to the child
  process
  ...<br/>
  Note that if you want to send data to the processâ€™s stdin, you need to
  create the Popen object with stdin=PIPE. Similarly, to get anything
  other than None in the result tuple, you need to give stdout=PIPE
  and/or stderr=PIPE too.</p>
</blockquote>
<p>i.e., to pass input to the subprocess, specify <code>input</code> parameter; to get a non-<code>None</code> <code>o</code> value, you must specify <code>stderr=PIPE</code>.</p>
<p>In many case password prompt and password itself are not written to/read from a pipe but directly to/from terminal i.e., you might need a pseudo-tty to pass the password unless the command allows to set an option to accept password via stdin. You could use <a href="http://pexpect.readthedocs.org/" rel="nofollow"><code>pexpect</code></a> to interact with a child process using <code>pty</code>. See the first reason in <a href="http://pexpect.readthedocs.org/en/latest/FAQ.html#whynotpipe" rel="nofollow"> Why not just use a pipe (popen())?</a></p>
</div>
<span class="comment-copy">You're not providing anything for <code>stderr</code>: <code>stderr=subprocess.PIPE</code></span>
