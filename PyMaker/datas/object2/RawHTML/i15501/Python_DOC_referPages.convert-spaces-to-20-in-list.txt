<div class="post-text" itemprop="text">
<p>I need to convert spaces to %20 for api posts in a python array</p>
<pre><code>tree = et.parse(os.environ['SPRINT_XML'])
olp = tree.findall(".//string")
if not olp:
  print colored('FAILED', 'red') +" No jobs accociated to this view"
  exit(1)
joblist = [t.text for t in olp]
</code></pre>
<p>How can I do that to t.text above?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <code>String.replace()</code> method as described here: <a href="http://www.tutorialspoint.com/python/string_replace.htm">http://www.tutorialspoint.com/python/string_replace.htm</a></p>
<p>So for <code>t.text</code>, it would be <code>t.text.replace(" ", "%20")</code></p>
</div>
<div class="post-text" itemprop="text">
<p>I would recommend using <code>urllib.parse</code> module and it's <code>quote()</code> function.
<a href="https://docs.python.org/3.6/library/urllib.parse.html#urllib.parse.quote" rel="noreferrer">https://docs.python.org/3.6/library/urllib.parse.html#urllib.parse.quote</a>
Example for Python3:</p>
<pre><code>import urllib
text_encoded = urllib.parse.quote(t.text)
</code></pre>
<p>Note: using <code>quote_plus()</code> won't work in your case as this function replaces spaces by plus char.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/2/library/urllib.html#urllib.quote_plus">urllib.quote_plus</a> for this:</p>
<pre><code>import urllib

...

joblist = [urllib.quote_plus(t.text) for t in olp]
</code></pre>
</div>
<span class="comment-copy">seems a double question to me. do you know how to convert a single element?</span>
<span class="comment-copy"><a href="https://docs.python.org/2/library/urllib.html#urllib.quote" rel="nofollow noreferrer">docs.python.org/2/library/urllib.html#urllib.quote</a></span>
<span class="comment-copy">What about other characters, shouldn't they be URL encoded as well?</span>
<span class="comment-copy">Please clarify your question: do you want to url encode, or simply replace spaces?</span>
<span class="comment-copy">Works perfect and is way less convoluted than the above answers. Don't know why everyone thinks urllib is so necessary to achieve the same result.</span>
<span class="comment-copy">@Jordan If the user's intent is to use a dynamic URL, it is more secure to escape the entire string, rather than replacing multiple occurrences of a single character.</span>
<span class="comment-copy">The <code>urllib</code> answer is, arguably, preferable because it makes your intent clearer: you are URL-encoding the string. Replacing spaces with <code>%20</code> is <i>how</i> you are doing it (assuming spaces are the only thing you need to worry about). Writing code that explains itself is better.</span>
<span class="comment-copy">Thanks, this actually does what I want the urllib replaces s space with a +, not what I wanted.</span>
<span class="comment-copy">urllib has no module named parse</span>
<span class="comment-copy">@TylerR yes, it has <a href="https://docs.python.org/3/library/urllib.parse.html#module-urllib.parse" rel="nofollow noreferrer">docs.python.org/3/library/urllib.parse.html#module-urllib.parse</a></span>
<span class="comment-copy">urllib.quote in python 2</span>
<span class="comment-copy">The OP's code is in Python 2, as you can see from the <code>print</code> statement.</span>
<span class="comment-copy">and in python 3 <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.quote_plus" rel="nofollow noreferrer"><code>urllib.parse.quote_plus</code></a></span>
