<div class="post-text" itemprop="text">
<p>I have a RAM tester that tests ram modules and generates a test report for each module after the test is finished(whether it passes or fails). The test report is your typical .txt file, and contains all the data I need to know about the RAM module, particularly the speed and the pass/fail condition. I am having a hard time figuring out a way to have python read the contents of the test report without blocking the RAM testing software from writing a test report.  </p>
<p>My goal is to have python to run in the background and read the file and if the file contains the rams speed AND the word 'pass' I want python to write over the serial port where I will have a arduino waiting for a key character of my choosing to come over the serial line (that character will depend on the speed of the RAM detected). after the test report is read, and python has written a character over the serial to the arduino,  I will need python to clear/truncate the .txt test report so it will be clear and ready for the next time the file is read from. that cycle will then go on indefinitely.</p>
<p>To get a bigger picture of the whole project I will explain the ultimate goal. the ram tester is a fully automated tester that loads it's self, tests, and ejects each module onto a conveyor belt. if the module fails the conveyor goes to the left and if it passes it goes to the right. I want to use an arduino to create a extra conveyor that will sort the tested passed ram by speed. so far everything seems doable, I'm just having a hard time with python reading the test report and clearing it without blocking the RAM tester from writing the test report. I've had someone suggest using pipe but I'm still not certain on how to do that. I will also include that the software that writes the test report is third-party software that I have no idea what language it is written it's just what came with the RAM tester. thanks ahead for taking the time to read through this and any suggestions are greatly appreciated. </p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>If I move or delete the file it will just generate another in its place with the same name.</p>
</blockquote>
<p>Do this:</p>
<ol>
<li>Rename the file: <code>mv foo foo-for-report</code></li>
<li>Generate the report from it.</li>
</ol>
<p>Python can rename a file using <a href="https://docs.python.org/3/library/os.html#os.rename" rel="nofollow"><code>os.rename</code></a>.</p>
<pre><code>import os

os.rename("foo", "foo-for-report")
</code></pre>
</div>
<span class="comment-copy">Can you please edit your post to have some newlines? This is hardly readable.</span>
<span class="comment-copy">don't use a text file, use a database. then generate the report from the db later.</span>
<span class="comment-copy">Can the writing programs handle you moving the file away?</span>
<span class="comment-copy">@LutzHorn yes if I move or delete the file it will just generate another in its place with the same name</span>
<span class="comment-copy">@PaulCollingwood sorry but I'm stuck with the .txt format. I do not have control of what format the test report is written in. it's just a Neverending text file</span>
<span class="comment-copy">could you please elaborate what the  mv foo foo-for-report part of your answer is? sorry I'm new to python still</span>
<span class="comment-copy">I've edited my answer.</span>
<span class="comment-copy">so just rename it, open and look for speed and the word pass, then delete? that way there won't be any race conditions/blocking between ram testing software and python correct?</span>
<span class="comment-copy">Yes. If the writing programs can handle that the file they write to suddenly disappears, you should have no problems. Generating the report from the renamed file will not interfer with the writing programs.</span>
<span class="comment-copy">do you think it's possible that python will rename the test report halfway through the ram testing software writing to it? do you think a delay is in need? or can i get buy without one?</span>
