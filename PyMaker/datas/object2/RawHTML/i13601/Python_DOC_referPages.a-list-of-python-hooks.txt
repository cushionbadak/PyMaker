<div class="post-text" itemprop="text">
<p>To better understand a program I'm trying to implement a tracing metaclass, that when a class inherits from it all its method calls get traced to a file.  I can't simply use a module like <code>Trace.py</code> because I don't have access to a console in my execution environment.  I recently learned about <code>sys.settrace()</code>, a hook that gets called whenever python executes a line, and while it almost solves my problem I can't get relevant line information for the trace because I don't have any way to knowing which file will be executed.  I suspect I need a hook that gets called right before any method in a class gets called, that passes in the method name, and then implement that hook in the tracing metaclass.</p>
<p>Is there a reference somewhere of all the python hooks?</p>
<p>Thanks in advance</p>
</div>
<div class="post-text" itemprop="text">
<p>I'm not sure that I understand your question properly, but you can get information about file/line from the <code>f_code</code> member of the frame:</p>
<pre><code>def trace(frame, event, arg_frame):
    print(frame.f_code.co_filename, frame.f_code.co_firstlineno)

sys.settrace(trace)
</code></pre>
<p>More info about the frame and code objects: <a href="https://docs.python.org/3/library/inspect.html" rel="nofollow">https://docs.python.org/3/library/inspect.html</a></p>
</div>
<span class="comment-copy">I didn't know that about f_code... thanks!!</span>
