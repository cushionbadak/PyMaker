<div class="post-text" itemprop="text">
<p>How do you enumerate a JSON return? The goal is to get a total count variable to add to my print statment...  </p>
<p>I have </p>
<pre><code>for i in services_js["reports"]:
            print " Service Name: " + i["instances"]["serviceName"]
</code></pre>
<p>and have tried:</p>
<pre><code>for i in enumerate(services_js["reports"]):
            print " Service Name: " + i["instances"]["serviceName"]
</code></pre>
<p>but get:</p>
<pre><code>TypeError: tuple indices must be integers, not str
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is NOT how <code>enumerate</code> works:</p>
<pre><code>for i in enumerate(services_js["reports"]):
    print " Service Name: " + i["instances"]["serviceName"]
</code></pre>
<p>It works like this:</p>
<pre><code>animals = ['rat', 'cat', 'mouse', 'dog']
for i, animal in enumerate(animals, start=1):
    print('# {}: {}'.format(i, animal))
</code></pre>
<p>Notice how <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow">enumerate</a> returns a tuple, (<code>i</code> and <code>animal</code>) <em>not</em> just the count?</p>
<p>You may have other issues (in your JSON) but that part might be throwing you off.</p>
<p>The error you are seeing is because <code>i</code> is actually the tuple <code>(0, some_json)</code> and then you're trying to do <code>i['instance']</code>, so it's saying you can't use a string as an index to a tuple.</p>
</div>
<div class="post-text" itemprop="text">
<p>Hard to say for sure without seeing the structure of the JSON, but going by the key names, you probably want</p>
<pre><code>count = 0
for report in services_js["reports"]:
    for instance in report["instances"]:
        count += 1
        print "Service Name: " + instance["serviceName"]
print "there were {} total instances".format(count)
</code></pre>
</div>
<span class="comment-copy">Depends a lot on the structure of <code>services_js</code>. Care to show us an example?</span>
<span class="comment-copy">I can't unfortunately my loop works...when I tried doing this with a counter it goes 1,2,3,1,2,3,1,2,3... because <code>services_js</code> is a list of URLS <code>services_js = json.loads(services_open.read())</code></span>
<span class="comment-copy">If <code>services_js</code> is a list, then <code>services_js["reports"]</code> won't work, because you can't index a list with a string.</span>
<span class="comment-copy">Dictionary*...it does work</span>
<span class="comment-copy">Ok. If <code>i["instances"]</code> is a tuple, then <code>i["instances"]["serviceName"]</code> won't work, because you can't index a tuple with a string.</span>
<span class="comment-copy">still get <code>TypeError: string indices must be integers</code> on the <code>print</code> statment</span>
<span class="comment-copy">Then I guessed the structure of your JSON incorrectly, and can do nothing more to help at this time. Sorry.</span>
