<div class="post-text" itemprop="text">
<p>In Fiddler, I captured an HTTPS request with the following cookie string sent from the client (visible in Inspectors &gt; Raw):</p>
<pre><code>Cookie: devicePixelRatio=1; ident=exists; __utma=13103r6942.2918; __utmc=13103656942; __utmz=13105942.1.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); mp_3cb27825a6612988r46d00tinct_id%22%3A%201752338%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.pion_created_at%22%3A%20%222015-08-03%22%2C%22platform%22%3A%20%22web%22%2C%%22%3A%20%%22%7D; t_session=BAh7DUkiD3Nlc3NpbWVfZV9uYW1lBjsARkkiH1BhY2lmaWMgVGltZSAoVVMgJiBDYW5hZGEpBjsAVEkiFXNpZ25pbl9wZXJzb25faWQGOwBGaQMSvRpJIhRsYXN0X2xvZ2luX2RhdGUGOwBGVTogQWN0aXZlU3VwcG9ydDo6VGltZVdpdGhab25lWwhJdToJVGltZQ2T3RzAAABA7QY6CXpvbmVJIghVVEMGOwBUSSIfUGFjaWZpZWRfZGFzaGJvYXJkX21lc3NhZ2UGOwBGVA%3D%3D--6ce6ef4bd6bc1a469164b6740e7571c754b31cca
</code></pre>
<p>I'd like to use this cookie in a Python Requests request. (I modified the cookie slightly, so that it can't be used by readers for nefarious purposes!).</p>
<p>However, Requests appears to use a <a href="http://docs.python-requests.org/en/latest/user/quickstart/" rel="noreferrer">dictionary format for sending cookies</a>, and I'm having trouble converting the above string/blob into a dictionary format.</p>
<p>My question is:</p>
<ul>
<li>Is there an automated way to convert a string (like the cookie I captured in Fiddler) into a dictionary in Python?</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>You should be able to use <code>SimpleCookie</code> which is available in the standard Python library:</p>
<pre><code>from http.cookies import SimpleCookie

rawdata = 'Cookie: devicePixelRatio=1; ident=exists; __utma=13103r6942.2918; __utmc=13103656942; __utmz=13105942.1.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); mp_3cb27825a6612988r46d00tinct_id%22%3A%201752338%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.pion_created_at%22%3A%20%222015-08-03%22%2C%22platform%22%3A%20%22web%22%2C%%22%3A%20%%22%7D; t_session=BAh7DUkiD3Nlc3NpbWVfZV9uYW1lBjsARkkiH1BhY2lmaWMgVGltZSAoVVMgJiBDYW5hZGEpBjsAVEkiFXNpZ25pbl9wZXJzb25faWQGOwBGaQMSvRpJIhRsYXN0X2xvZ2luX2RhdGUGOwBGVTogQWN0aXZlU3VwcG9ydDo6VGltZVdpdGhab25lWwhJdToJVGltZQ2T3RzAAABA7QY6CXpvbmVJIghVVEMGOwBUSSIfUGFjaWZpZWRfZGFzaGJvYXJkX21lc3NhZ2UGOwBGVA%3D%3D--6ce6ef4bd6bc1a469164b6740e7571c754b31cca'
cookie = SimpleCookie()
cookie.load(rawdata)

# Even though SimpleCookie is dictionary-like, it internally uses a Morsel object
# which is incompatible with requests. Manually construct a dictionary instead.
cookies = {}
for key, morsel in cookie.items():
    cookies[key] = morsel.value
</code></pre>
<p>If you are using Python 2, you will have to import from <code>Cookie</code> instead of <code>http.cookies</code>.</p>
<p>Docs:</p>
<p><a href="https://docs.python.org/2/library/cookie.html" rel="noreferrer">https://docs.python.org/2/library/cookie.html</a></p>
<p><a href="https://docs.python.org/3/library/http.cookies.html" rel="noreferrer">https://docs.python.org/3/library/http.cookies.html</a></p>
</div>
<span class="comment-copy">In the above cookie, what is <code>mp_3cb27825a6612988r46d00tinct_id%22%3A%201752338%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.pion_created_at%22%3A%20%222015-08-03%22%2C%22platform%22%3A%20%22web%22%2C%%22%3A%20%%22%7D; </code>, why doesn't it follow the key=value format?</span>
<span class="comment-copy">Not sure. I just copy-pasted what the OP provided.</span>
<span class="comment-copy">When you use Cookie module, that part seems dropped, making me wonder about the format of cookie...</span>
<span class="comment-copy">@zyxue My example cookie is probably messed up, as I was randomly deleting characters from it before posting for security reasons.</span>
