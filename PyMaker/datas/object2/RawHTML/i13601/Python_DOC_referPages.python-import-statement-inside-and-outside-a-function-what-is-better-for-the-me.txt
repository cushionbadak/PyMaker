<div class="post-text" itemprop="text">
<p>When memory issues are critical, do I save some memory when I do my python imports inside a function, so as to when the call finishes everything will be discarder from memory? Or this cumbers more my memory and CPU especially when I do a lot of calls of the specific function? (The user does the calls and I do not know in advance how many she will do). What are the memory implications of this difference?</p>
</div>
<div class="post-text" itemprop="text">
<p>When you import a module, any/all module objects/functions/etc are cached so that importing the same module again is a no-op. Subsequently these objects/functions/etc will not be freed when the local names referring to them go out of scope. This only affects functions and objects defined globally within the module and it's very likely that there won't be a lot of those, so it's probably not something to worry about.</p>
<p>To specifically answer your question, there is effectively no difference in terms of performance unless the import is inside a function or branch which is never executed. In that rare case, having it inside the branch or function is slightly faster/less resource intensive, but it won't gain you much.</p>
</div>
<span class="comment-copy">I do not think this is a duplicate. The question you refer to sees the problem from a perception of clarity but not of memory issues. I am asking about what is better for the memory</span>
<span class="comment-copy">Read the answers on the other question also. They contain detailed explanation regarding <i>perfomance</i> related issues. Please do go through the other answers also.</span>
<span class="comment-copy">why don't you do some profiling of your code and find out?</span>
<span class="comment-copy">On the issue of RAM usage, <a href="http://stackoverflow.com/a/3095124/4014959">this answer</a> (which is linked from a comment in Bhargav's link) mentions that imports are <i>always</i> cached, even when performed in a function, so the memory isn't released when the function is exited.</span>
<span class="comment-copy">If I am reading <a href="https://docs.python.org/3/reference/import.html#the-module-cache" rel="nofollow noreferrer">the module cache</a> properly, I don't think modules get garbage collected the same way regular variables do at the end of a function. Perhaps deleting entries from <code>sys.modules</code> will accomplish what you want, but I've never tried it.</span>
