<div class="post-text" itemprop="text">
<p>I am new to python and I am trying to get a script working alongside with urllib and BeautifulSoup4 to collect the tweets which are streamable via the emojitracker API. It outputs the tweets of a specific emoji as .json files. An example is this link (opens in chrome):
<a href="http://emojitracker.com/api/details/1F52B" rel="nofollow">http://emojitracker.com/api/details/1F52B</a></p>
<p>I can get all the text from the .json, but I only want to get the tweet (which is after "text:"). I had a look around and there was an example to get all the links on the page, using soup.findAll("a",class_="classname").</p>
<p>I used inspect element and found that the tweet i need is stored as: (span class="type-string")tweet goes here(/span). So I tried the following:</p>
<pre><code>from bs4 import BeautifulSoup
import urllib.request

url = "http://emojitracker.com/api/details/1F52B"
page = urllib.request.urlopen(url)
soup = BeautifulSoup(page.read(),"html.parser")
tweets = soup.findAll("span", class_"type-string")

for tweet in tweets:
    print (tweet.string)
</code></pre>
<p>Running, this it did not print anything. How can I make it so that it only prints out the tweets?</p>
</div>
<div class="post-text" itemprop="text">
<p>The page you provide is not an html page. In fact it's formatted as a json file, so you won't be able to treat it as an HTML page.</p>
<p>As I understand, what you want is to retrieve all of the recent tweets.</p>
<p>In order to do this, we get the response, as already do, and parse the response string and convert it to a Python dictionary using the <a href="https://docs.python.org/3/library/json.html" rel="nofollow">json</a> library (which does not require installation as it's part of the standard library).</p>
<p>If you want to do this, we can write the following code:</p>
<pre><code>import json
import urllib.request

url = "http://emojitracker.com/api/details/1F52B"
page = urllib.request.urlopen(url)
json = json.loads(str(page.read(), 'latin'))

for tweet in json['recent_tweets']:
    print(tweet['text'])
</code></pre>
<p>Hope it helps,</p>
</div>
<span class="comment-copy"><code>soup.findAll("span", class_"type-string")</code> doesn't look like valid syntax. Are you sure you don't mean <code>soup.findAll('span', attrs={'class': 'type-string'})</code> ?</span>
<span class="comment-copy">I tried that too, but still did not print anything.</span>
<span class="comment-copy">That seems like a better way to deal with it, however I am getting an error:</span>
<span class="comment-copy">Can you send me the error you are getting?</span>
<span class="comment-copy">TypeError: the JSON object must be str, not 'bytes'.  Whats the reason for this? Is the json formatted properly?</span>
<span class="comment-copy">That is great! It works now :) Thanks a lot</span>
