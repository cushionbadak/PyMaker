<div class="post-text" itemprop="text">
<p>I have developed the following MWE with data that spreads into two very different scales. I would like to make a contourplot which allows nicely visualising the data.</p>
<pre><code>from matplotlib import ticker
import numpy as np               
import matplotlib.pyplot as plt 
data = np.random.rand(25,25)
data2 = np.random.rand(25,25)*1e-32
data = np.hstack([data,data2])
xGrid, yGrid = np.meshgrid(np.linspace(0,1,data.shape[1]),np.linspace(0,1,data.shape[0]))

levels=np.logspace(np.log10(1e-6),np.log10(2),100)
locator = ticker.LogLocator(base=10)
cs = plt.contourf(xGrid, yGrid, data, levels, vmin = 1e-6, vmax = 2, locator=locator)
plt.colorbar(cs, ticks=locator)
</code></pre>
<p>With the above code, I get : <a href="https://i.stack.imgur.com/JkDyw.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/JkDyw.png"/></a></p>
<p>I don't get why half the values are blank</p>
</div>
<div class="post-text" itemprop="text">
<p>Ok I found out what is the issue thanks to another <a href="https://stackoverflow.com/questions/47616034/python-setting-the-zero-value-color-in-a-contourf-plot-where-log-scale-colorba">post</a>. One needs to use the option extend = "both". Unfortunately, this option does not work with logarithm scales.</p>
<p>The solution is to manually rescale the data range. An example is provided below :</p>
<pre><code>from matplotlib import ticker
import numpy as np               
import matplotlib.pyplot as plt 
data = np.random.rand(25,25)
data2 = np.random.rand(25,25)*1e-32
data = np.hstack([data,data2])
xGrid, yGrid = np.meshgrid(np.linspace(0,1,data.shape[1]),np.linspace(0,1,data.shape[0]))

levels=np.logspace(np.log10(1e-16),np.log10(2),100)
locator = ticker.LogLocator(base=10)

#mask data
dataMasked = np.where(data &lt; 1e-16, 1e-16, data)

cs = plt.contourf(xGrid, yGrid, dataMasked, levels, vmin = 1e-16, vmax = 2, extend="both", locator=locator)
plt.colorbar(cs, ticks=locator)
</code></pre>
</div>
<span class="comment-copy">what's ticker? How did you import it?</span>
