<div class="post-text" itemprop="text">
<p>Hello I have trouble with replacing all texts from HTML. I wanted to make a censure with BeautifulSoup but it doesn't replace a content and I got error when I print contents (not all texts from HTML were printed)</p>
<pre><code>words = ['Shop','Car','Home','Generic','Elements']
page = urllib.urlopen("html1/index.html").read()
soup = BeautifulSoup(page, 'html.parser')
texts = soup.findAll(text=True)
for i in texts :
    if i == words :
       i = '***'
    print i
</code></pre>
<p>Anyone know how to fix it?</p>
<p>Error :</p>
<pre><code>Traceback (most recent call last):
File "replacing.py", line 28, in &lt;module&gt;
print i
File "F:\Python\Python27\lib\encodings\cp852.py", line 12, in encode
return codecs.charmap_encode(input,errors,encoding_map)
UnicodeEncodeError: 'charmap' codec can't encode character u'\u2019' in position 25: character maps to &lt;undefined&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have two major issues here.  The first is an encoding issue, where you are trying to print a non-printable character. For that you can use answers found in:</p>
<p><a href="https://stackoverflow.com/questions/14630288/unicodeencodeerror-charmap-codec-cant-encode-character-maps-to-undefined">UnicodeEncodeError: 'charmap' codec can't encode - character maps to &lt;undefined&gt;, print function</a> </p>
<p>Or, for a more in depth explanation:</p>
<p><a href="https://stackoverflow.com/questions/5419/python-unicode-and-the-windows-console">Python, Unicode, and the Windows console</a> (Now that I look at this more it's probably outdated, but still an interesting read).</p>
<p>However, you also have a logic problem with your code.</p>
<pre><code>if i == words:
</code></pre>
<p>This line doesn't check if <code>i</code> is <em>found</em> in words, but instead compares <code>i</code> to a list of words, which isn't what you want.  I would recommend making the following changes:</p>
<pre><code>words = {'Shop','Car','Home','Generic','Elements'}

for i in texts:
    if i in words:
        i = '***'
</code></pre>
<p>Converting <code>words</code> to a <a href="https://docs.python.org/3/tutorial/datastructures.html#sets" rel="nofollow noreferrer"><code>set</code></a> allows for average <code>O(1)</code> lookup, and using <code>if i in words</code> checks if <code>i</code> is found in words.</p>
</div>
<div class="post-text" itemprop="text">
<p>It looks like one of the characters you are trying to print is not found in the codec python uses to print messages. I.e. you have the data for a character but you don't know what symbol it should be and so you can't print it. A simple conversion of the HTML to a unicode format should solve your problem.</p>
<p>Good question on how to do that:</p>
<p><a href="https://stackoverflow.com/questions/701704/convert-html-entities-to-unicode-and-vice-versa">Convert HTML entities to Unicode and vice versa</a></p>
</div>
<span class="comment-copy">Would you mind including a small sample of text that <i>wont</i> print in your question?</span>
<span class="comment-copy">I found that error in iteration and I fix it. I have one question about replacing a string with blank spaces, how is the correct way to replace a simple words when string has a words with blank spaces, for example :  input : "My new car is good"  output: "My new *** is good"</span>
<span class="comment-copy">You could use <code>split()</code> to split into individual words and then replace using a list comprehension like this: <a href="https://repl.it/repls/PoorCorruptCarriers" rel="nofollow noreferrer">repl.it/repls/PoorCorruptCarriers</a></span>
<span class="comment-copy">Thank You for fix ;) Have a nice day!</span>
