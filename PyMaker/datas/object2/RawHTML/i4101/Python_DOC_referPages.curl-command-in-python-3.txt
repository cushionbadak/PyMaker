<div class="post-text" itemprop="text">
<p>I want to execute a curl with command in python.</p>
<p>Usually, I just need enter the command in terminal and press return key.</p>
<p>The command shows below:</p>
<pre><code>curl -H "`oauth2l header --json key.json mobileinsights`"  https://mobileinsights.googleapis.com/v2/networks
</code></pre>
<p>The result is in json format.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow noreferrer"><code>subprocess</code></a> module to run your shell command. </p>
<pre><code>import subprocess
result = subprocess.check_output('curl -H "`oauth2l header --json 
key.json mobileinsights`" https://mobileinsights.googleapis.com/v2/networks', shell=True)
</code></pre>
<p>Then, use the <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer"><code>json</code></a> module to parse the JSON data returned by the server.</p>
<pre><code>import json
result_json = json.loads(result) 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You may load an OS and JSON load modules and then run
os.execute(curl URL) store it in any variable then convert it into JSON format with JSON load module</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/25491090/how-to-use-python-to-execute-a-curl-command">how to use python to execute a curl command</a></span>
<span class="comment-copy">What's your question?</span>
<span class="comment-copy">You could use <code>subprocess</code> to run <code>oauth2l header --json key.json mobileinsights</code> from Python... Then use whatever HTTP library in python to pass a header</span>
