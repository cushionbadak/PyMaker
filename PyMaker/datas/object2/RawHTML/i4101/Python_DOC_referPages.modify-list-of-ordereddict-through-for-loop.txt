<div class="post-text" itemprop="text">
<p>I am trying to loop over a list of <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" rel="nofollow noreferrer">OrderedDict</a> and redefine these OrderedDict elements.</p>
<p>To illustrate, consider the list:</p>
<pre><code>dict_list = [
    OrderedDict([("key1",1)]),
    OrderedDict([("key1",2)])
]
</code></pre>
<p>I want to add a new key "key2" on all the dicts.</p>
<pre><code>for var in dict_list:
     var["key2"] = 1
</code></pre>
<p>But that will add this key at the end of the OrderedDict, while I want to add it at the beginning, so I try this:</p>
<pre><code>for var in dict_list:
     var = OrderedDict([("key2",1)] + list(var.items()))
</code></pre>
<p>The change is no remembered outside the for loop (maybe because I am trying to redefine the iterator?)</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do:</p>
<pre><code>var["key2"] = 1
var.move_to_end("key2", last=False)
</code></pre>
</div>
<span class="comment-copy">Terminology nitpick: <code>var</code> is not an iterator, but yes, you are merely <i>assigning to the variable <code>var</code></i>, which of course, won't modify <code>dict_list</code>. Instead, try <code>for i, var in enumerate (dict_list):...</code> then in the loop <code>dict_list[i] = ...</code></span>
<span class="comment-copy">maybe because you don't return the new ordereddict. What do you return out of loop - or function?</span>
<span class="comment-copy">There is no return here, and there shouldn't be. Regardless, even if this were a function, it wouldnt modify dict_list</span>
<span class="comment-copy">@juanpa.arrivillaga I was struggling on how to call var ^^', what do we call var in this context?</span>
<span class="comment-copy">Mostly I hear people say "the loop variable"</span>
<span class="comment-copy">For clarity <code>last=False</code> means "add to beginning" (<a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict.move_to_end" rel="nofollow noreferrer">source</a>).</span>
