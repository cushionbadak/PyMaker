<div class="post-text" itemprop="text">
<p>I've served a directory using </p>
<pre><code>python -m http.server
</code></pre>
<p>It works well, but it only shows file names. Is it possible to show created/modified dates and file size, like you see in ftp servers?</p>
<p>I looked through the documentation for the module but couldn't find anything related to it. </p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/http.server.html" rel="nofollow noreferrer"><code>http.server</code></a> is meant for dead-simple use cases, and to serve as sample code.<sup>1</sup> That's why the docs link right to the source.</p>
<p>That means that, by design, it doesn't have a lot of configuration settings; instead, you configure it by reading the source and choosing what methods you want to override, then building a subclass that does that.</p>
<p>In this case, what you want to override is <a href="https://github.com/python/cpython/blob/3.6/Lib/http/server.py#L698" rel="nofollow noreferrer"><code>list_directory</code></a>. You can see how the base-class version works, and write your own version that does other stuff—either use <a href="https://docs.python.org/3/library/os.html#os.scandir" rel="nofollow noreferrer"><code>scandir</code></a> instead of <code>listdir</code>, or just call <code>stat</code> on each file, and then work out how you want to cram the results into the custom-built HTML.</p>
<p>Since there's little point in doing this except as a learning exercise, I won't give you complete code, but here's a skeleton:</p>
<pre><code>class StattyServer(http.server.HTTPServer):
    def list_directory(self, path):
        try:
            dirents = os.scandir(path)
        except OSError:
            # blah blah blah
        # etc. up to the end of the header-creating bit
        for dirent in dirents:
            fullname = dirent.path
            displayname = linkname = dirent.name
            st = dirent.stat()
            # pull stuff out of st
            # build a table row to append to r
</code></pre>
<hr/>
<p><sub>1. Although really, it's sample code for an obsolete and clunky way of building servers, so maybe that should be "to serve as sample code to understand legacy code that you probably won't ever need to look at but just in case…".</sub></p>
</div>
<span class="comment-copy">Depends on how badly you want to edit the source.</span>
<span class="comment-copy">Why don't you just use a proper server?</span>
