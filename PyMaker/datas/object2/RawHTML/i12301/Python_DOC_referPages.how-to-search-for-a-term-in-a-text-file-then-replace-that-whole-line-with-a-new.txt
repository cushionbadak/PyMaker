<div class="post-text" itemprop="text">
<p>I've attempted to find this but I end up finding code that replaces that one specific word.
I've been using this code:</p>
<pre><code>phrase = open(club, 'a')
    for line in phrase:
        if line.contains(name):
            #what do i put here?
        else:
            pass
else:
    pass 
</code></pre>
<p>so lets say I have a text file which contains <code>sam 10</code> and I want to replace this with <code>sam 5</code>. If I were to do this with the above code how would I? The name will stay the same but the number will not. Since the number is different to each name I'll be unable to search for the number which is why I'm searching for the name. I was thinking of using <code>line.replace</code> but that only changes the one phrase whereas I would want the whole line to change.</p>
<p>Edit: This would be made under the assumption that the text file has multiple names of different people with different numbers. I would want it to search for that specific name and replace the whole line.  </p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You can check line by line to modify and modify the original to save changes:</p>
<pre><code>f = open('sample.txt', 'r')
lines = f.readlines()
f.close()
name = 'ali'

for i in range(len(lines) - 1):
    line = lines[i]
    #Find 'name' index (-1 if not found)
    index = line.find(name)
    # If the wanted name is found
    if index != -1:
       #Split line by spaces to get name and number starting from name

       words = line[index:].split()
       # Name and number should be the first two elements in words list
       name_number =  words[0]+ ' ' + '5' #words[1]

       #
       # Do some thing with name_number
       #

       # the last '1' is to skip copying a space
       line  = line[:index] + name_number + ' ' + line[index + len(name_number) + 1:]

       # Save result
       lines[i] = line

output = open('sample.txt', 'w')
for line in lines:
    output.write(line)
output.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In general, there are many ways, one of them would be:</p>
<p>Using built-in method:</p>
<pre><code>with open(club, 'r') as in_file, open('new_file', 'w') as out_file:
    for line in in_file:
        if name in line:
            out_file.write(new_line)
        else: 
            out_file.write(line)
</code></pre>
<p>But this has the effect of creating a new file.</p>
<p><strong>EDIT:</strong></p>
<p>If you want to do <em>inplace</em> replacement, then you can use <a href="https://docs.python.org/3/library/fileinput.html?highlight=fileinput#module-fileinput" rel="nofollow"><code>fileinput</code></a> module, this way:</p>
<pre><code>for line in fileinput.input(club, inplace=True):
    if name in line:
        line = 'NEW LINE' #Construct your new line here
        print(line) #This will print it into the file 
    else:
        print(line) #No Changes to be made, print line into the file as it is
</code></pre>
<p>Quoting from <a href="https://docs.python.org/3/library/fileinput.html?highlight=fileinput#fileinput.FileInput" rel="nofollow">docs</a>:</p>
<blockquote>
<p><code>class fileinput.FileInput(files=None, inplace=False, backup='', bufsize=0, mode='r', openhook=None)</code>
<br/> <strong>...</strong> <br/>
  Optional in-place filtering:
  if the keyword argument inplace=True is passed to fileinput.input() or
  to the FileInput constructor, the file is moved to a backup file and
  standard output is directed to the input file (if a file of the same
  name as the backup file already exists, it will be replaced silently).
  This makes it possible to write a filter that rewrites its input file
  in place.</p>
</blockquote>
</div>
<span class="comment-copy">"only changes the one phrase whereas I would want the whole line to change." Can you provide a sample line and output you expect?</span>
<span class="comment-copy">Can you please post your complete code? This doesn't compile for me.</span>
<span class="comment-copy">Check this.i hope this will be useful.</span>
<span class="comment-copy">I'm assuming sample.txt is the file with all my names and numbers in them? I replaced index with a different variable as index was not used earlier on. When placing this in my code, it didn't seem to do anything as the new number with the same name was added on.  Could you explain by what you meant by first two elements in the words list? I apologize for how inexperienced I am since I recently started python.</span>
<span class="comment-copy">for example <code>line = some text sam 10 text</code>, <code>line.find('sam')</code> will return <code>10</code> and <code>line[index:].split()</code> sould be <code>'sam 10 text'.split()</code> which gives <code>['sam', '10', 'text']</code>.If this is not clear I will edit my post.</span>
<span class="comment-copy">Ok thank you I understand, I've been able to fix the problem!</span>
<span class="comment-copy">Would there be a way of doing this so it just edits the original file and doesn't create a separate one? Thanks</span>
<span class="comment-copy">@alhal.. Yes there could be...Check my edit</span>
<span class="comment-copy">You could open the file in read mode, extract and replace the content, then open the same file in write mode (which clears the file) and write the contents back. That won't create a separate file, but it will keep the string in memory</span>
<span class="comment-copy">@cricket_007...I'm aware of that...and for the last reason you mentioned that I didn't want to post. :)</span>
