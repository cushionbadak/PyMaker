<div class="post-text" itemprop="text">
<p>I am trying to use unix diff command in subprocess , when I hardcode, it works fine, But I added it in a function where I need to pass these arguments to diff. How do I do it ?
In the below code, I have hardcoded , but I want infile to take file1.txt and outputfile as file2.txt.</p>
<pre><code>def file_comparison_2(infile,outputfile):
    p = subprocess.Popen("diff file1.txt file2.txt",stdout=subprocess.PIPE, shell=True)
    (output, err) = p.communicate()
    FO = open("/users/home101/prabhus/python/pyunit-1.4.1/diff.txt", "wb")
    print("Command output : ", output)
    FO.write(output)
    FO.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>p = subprocess.Popen("diff "+infile+" "+outfile,stdout=subprocess.PIPE,stderr=subprocess.PIPE,shell=True)
</code></pre>
<p>You can simply do this.</p>
</div>
<span class="comment-copy">subprocess.check_output() takes a list of arguments and handles various shell quirks for you, such as filenames with spaces.  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow noreferrer">docs.python.org/3/library/â€¦</a></span>
<span class="comment-copy">changing to p = subprocess.Popen("diff "+infile+" "+outputfile+" ",stdout=subprocess.PIPE, shell=True) worked. Thanks</span>
<span class="comment-copy">@Suma do use <code>stderr=subprocess.PIPE</code> if you want capture failure in command</span>
