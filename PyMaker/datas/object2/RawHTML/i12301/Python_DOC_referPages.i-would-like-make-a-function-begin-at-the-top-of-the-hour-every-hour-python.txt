<div class="post-text" itemprop="text">
<p>I have a function <code>hello_world ()</code> that I would like to call every hour (1:00, 2:00, 3:00, etc).</p>
<p>I'm a beginner here and not totally comfortable with writing loops.</p>
<p>I have the following code, but it stops after 23 hours. I am not sure how to loop the loop such that everything repeats at the end of the day!</p>
<pre><code>def sched ():
    i = 0

    for  (i &lt;= 23):
        x = datetime.today()
        current_hour = datetime.now().hour
        y=x.replace(day=x.day+1, hour=i, minute=00, second=00, microsecond=00)
        delta_t=y-x
        secs=delta_t.seconds+1
        t=Timer(secs, hello_world)
        t.start()
        i = i + 1
</code></pre>
<p>I also realize this may not be the most efficient way of writing this code, so I am open to suggestions on how to improve.</p>
</div>
<div class="post-text" itemprop="text">
<p>Do you know about modulo operator (%)? i % 24 will return the remainder after dividing by 24, so i will be 0, 1, .. 23, 0 .. etc</p>
<pre><code>def sched ():
    i = 0

    while True:
        x = datetime.today()
        current_hour = datetime.now().hour
        y=x.replace(day=x.day+1, hour=i, minute=00, second=00, microsecond=00)
        delta_t=y-x
        secs=delta_t.seconds+1
        t=Timer(secs, hello_world)
        t.start()
        i = i + 1
        i = i % 24
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>That is because you limited your loop to <code>i &lt;= 23</code>.  You can change it to this:</p>
<pre><code>i = 0
while True:
    x = datetime.today()
    current_hour = datetime.now().hour
    y=x.replace(day=x.day+1, hour=i, minute=00, second=00, microsecond=00)
    delta_t=y-x
    secs=delta_t.seconds+1
    t=Timer(secs, hello_world)
    t.start()
    i = (i + 1) % 24
</code></pre>
<p>Using <code>(i + 1) % 24</code> guarentees that <code>i</code> will never be greater than <code>23</code>.  More about the modulus operator <a href="https://docs.python.org/3/reference/expressions.html#binary-arithmetic-operations" rel="nofollow">here</a>.</p>
</div>
