<div class="post-text" itemprop="text">
<p>The only way that I know how to do this, is with php but I want to get the same result in python.</p>
<p>PHP Code:</p>
<pre><code>&lt;?php
$array = array();
$array['value1'][] = 'new value 1';
$array['value1'][] = 'new value 2';
?&gt;
</code></pre>
<p>I have this code.</p>
<pre><code>array = dict()
array['value 1'] = 'new value 1'
#array['value 1'].append('new value 2') - Error - only works with list
</code></pre>
<p>How I can do this?
Regards.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>my_dict = {}
my_dict['value1'] = ['new value 1']
my_dict['value1'] += ['new value 2', 'new value 3']
</code></pre>
<p>The first line initializes the dictionary, the second initializes <code>my_dict['value1']</code> to a list containing one element, and the last line adds two elements to this list. Notice the <code>+=</code>.</p>
<p>Note: you need to use another method if you don't know whether the key <code>'value1'</code> already exists in the dict (thanks SirParselot). Use this if you don't know if it exists:</p>
<pre><code>my_dict['value2'] = my_dict.get('value2', []) + ['new value 4', 'new value 5']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Or you can use <a href="https://docs.python.org/2/library/stdtypes.html#dict.setdefault" rel="nofollow"><code>setdefault</code></a>:</p>
<pre><code>array = {}
array.setdefault('value 1', []).append('new value 1')
array.setdefault('value 1', []).append('new value 2')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you can use a <code>defaultdict()</code> from the <code>collections</code> module like so</p>
<pre><code>import collections

my_dict = collections.defaultdict(list)
my_dict['value1'].append('new value 1')
my_dict['value1'].append('new value 2')

{'value1': ['new value 1', 'new value 2']}
</code></pre>
<p><code>defaultdict()</code> takes a type as a parameter and every time you create a new key it will have an empty list as the value. This is especially useful for having lists as the value. That way you don't need an if statement to check if that key already exists.</p>
</div>
<span class="comment-copy">In Python, arrays with numeric indices are called lists. Here is Python's official tutorial on them: <a href="https://docs.python.org/3/tutorial/introduction.html#lists" rel="nofollow noreferrer">docs.python.org/3/tutorial/introduction.html#lists</a></span>
<span class="comment-copy">what is your php code doing ? what will it show when you print $array ?</span>
<span class="comment-copy">Thanks! that I was looking for!!</span>
<span class="comment-copy">sorry if I explaind this question very bad, my english its not so good.</span>
<span class="comment-copy">Note that this only works if you know that the key <code>'value1'</code> exists in the dict. You will need an if statement otherwise since <code>+=</code> will throw an error if the key doesn't exist yet.</span>
<span class="comment-copy">@SirParselot: you're right, I've added your comment to my answer!</span>
<span class="comment-copy">yhea! that could works to! Thanks !</span>
