<div class="post-text" itemprop="text">
<p>I'm trying to pickle high scores and then print them.</p>
<p>In the actual program, score is acquired from a simple trivia game.</p>
<pre><code>score = 10
name = input("Name: ")
scores = [name, score]
high_scores = open("high_scores.dat", "ab")
pickle.dump(scores, high_scores)
high_scores.close()

high_scoresR = open("high_scores.dat", "rb")
results = pickle.load(high_scoresR)
print(results)
high_scores.close()
</code></pre>
<p>The program prints only the first high score entered, it doesn't matter how many scores I try to dump to it. Example:</p>
<pre><code>['Jason', 10]
</code></pre>
<p>I am guessing I don't understand something quite basic, so I would highly appreciate a informative and clear explanation. </p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>'wb'</code> mode to write multiple pickles to a file, and if you need to reopen it for one ore more additional <code>dump</code>, then you should use append mode (<code>'a'</code>, not <code>'w'</code>).  Here I write multiple entries using <code>'wb'</code>, and then later add one entry using <code>'ab'</code>.</p>
<pre><code>&gt;&gt;&gt; scores = dict(Travis=100, Polly=125, Guido=69)
&gt;&gt;&gt; import pickle                               
&gt;&gt;&gt; with open('scores.pkl', 'wb') as highscores:
...   for name,score in scores.items(): 
...     pickle.dump((name,score)), highscores)
... 
&gt;&gt;&gt; with open('scores.pkl', 'ab') as highscores:
...   pickle.dump(scores, highscores)
... 
&gt;&gt;&gt; with open('scores.pkl', 'rb') as highscores:
...   a = pickle.load(highscores)
...   b = pickle.load(highscores)
...   c = pickle.load(highscores)
...   d = pickle.load(highscores)
... 
&gt;&gt;&gt; a
('Travis', 100)
&gt;&gt;&gt; b
('Polly', 125)
&gt;&gt;&gt; c
('Guido', 69)
&gt;&gt;&gt; d
{'Polly': 125, 'Travis': 100, 'Guido': 69}
&gt;&gt;&gt; 
</code></pre>
<p>And if you have a lot of data, so that you are worried about being able to <code>dump</code> and/or <code>load</code> all of your items at once, then you can use (one of my packages) <code>klepto</code>, which enables you to store large pickled data to a file, directory, or database… where you can seamlessly access one entry at a time.</p>
<pre><code>&gt;&gt;&gt; import klepto
&gt;&gt;&gt; store = klepto.archives.dir_archive('high', serialized=True) 
&gt;&gt;&gt; store.update(scores)
&gt;&gt;&gt; store
dir_archive('high', {'Polly': 125, 'Guido': 69, 'Travis': 100}, cached=True)
&gt;&gt;&gt; # dump all entries at once
&gt;&gt;&gt; store.dump()
&gt;&gt;&gt; # create a new empty archive proxy
&gt;&gt;&gt; store2 = klepto.archives.dir_archive('high', serialized=True)
&gt;&gt;&gt; store2 
dir_archive('high', {}, cached=True)
&gt;&gt;&gt; # load one entry, as opposed to loading all entries
&gt;&gt;&gt; store2.load('Guido')
&gt;&gt;&gt; store2
dir_archive('high', {'Guido': 69}, cached=True)
&gt;&gt;&gt; store2['Guido']
69
&gt;&gt;&gt; # load everything else
&gt;&gt;&gt; store2.load()
&gt;&gt;&gt; store2
dir_archive('high', {'Polly': 125, 'Guido': 69, 'Travis': 100}, cached=True)
&gt;&gt;&gt; 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could read your file into a dictionary:</p>
<pre><code>name = input('Enter name: ')
score = input('Enter score: ')

# write new entry to file
with open('highscores.txt', 'a') as f:
    f.write(name + ':' + score + '\n')

# read file into dict
with open('highscores.txt', 'r') as f:
    lines = f.read().splitlines()
scores = dict(line.split(':') for line in lines)

for key, value in scores.items():
    print(key, value)
</code></pre>
<p>I didn't know you were trying to learn <code>pickle</code>, but maybe this helps someone else.</p>
</div>
<span class="comment-copy">Although not an answer to the question in hand, might I recommend for the future you use <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer">JSON</a>.  It's got cool stuff for doing this and will probably make your life easier.</span>
<span class="comment-copy">if you <code>dump</code> 5 times to the file, then you will need to do <code>load</code> 5 times.  One <code>load</code> for every <code>dump</code>.</span>
<span class="comment-copy">or you could make a high scores dict, and <code>dump</code> the dict all at once.  then, you'd only need the one <code>load</code>.</span>
<span class="comment-copy">I have to agree with the other comments, are you trying to learn <code>pickle</code> or you're more interested in storing data?</span>
<span class="comment-copy">I am trying to learn pickle, and I can't dump the entire dictionary/list all at once.</span>
<span class="comment-copy">Many thanks, but (regarding the first code, w/o klepto) how can I print the whole file? I don't know the names of the keys I want to print.</span>
<span class="comment-copy">@GalA.: if you have all <code>scores</code> as a <code>dict</code> (or a <code>list</code>, or some other single object), you can <code>dump</code> everything to a file with a single <code>dump</code>.  File mode <code>'wb'</code> will treat all files as new (destroying old entries), while <code>'ab'</code> will always append.  If you mean you want to "<code>print</code>" the whole file, you can read it as if it were a text file, and then <code>print</code> the file as a string.  But if you are just looking to <code>dump</code> everything, then use a single <code>dump</code> with <code>'wb'</code> -- note that, in that case, you will have to read all the scores in a single object on load.</span>
<span class="comment-copy">Additionally. if you for some reason <b>can't</b> dump all the keys at once, <b>and</b> you <b>don't</b> know the names of the keys… you could just iterate over all the entries.  I'll edit for that case.</span>
<span class="comment-copy">thanks, but I already did a similiar program for plain text files. Now I want to create one with pickled files, to learn and practice the subject.</span>
