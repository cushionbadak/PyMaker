<div class="post-text" itemprop="text">
<p>I'm using the following line to rename an mp4 file by adding a timestamp to the end of the name.</p>
<pre><code>    mediaName_ts = "%s_%s.mp4" %(pfile, time.strftime("%Y-%m-%d_%H:%M:%S", time.gmtime()))
</code></pre>
<p>But I have problems accessing the file when the filename has white space: 
<code>name file test.mp4</code></p>
<p>How can I remove the white space, replace it with a hyphen and append the time stamp to end of the filename?</p>
<p>So the file name will be: <code>name-file-test_2016-02-11_08:11:02.mp4</code></p>
<p>I already did the timestamp part, but not the whitespace.</p>
</div>
<div class="post-text" itemprop="text">
<p>For replacing the whitespace with a hyphen, use the builtin <a href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="nofollow">str.replace()</a> method:</p>
<pre><code>string = "name file test"
print(string)
#name file test
string = string.replace(" ", "-")
#name-file-test
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The following should work, it uses <code>os.path</code> to manipulate the filename:</p>
<pre><code>import re
import os
import time

def timestamp_filename(filename):
    name, ext = os.path.splitext(filename)
    name = re.sub(r'[ ,]', '-', name)      # add any whitespace characters here
    return '{}_{}{}'.format(name, time.strftime("%Y-%m-%d_%H:%M:%S", time.gmtime()), ext)

print timestamp_filename("name file test.mp4")
</code></pre>
<p>This would display:</p>
<pre><code>name-file-test_2016-02-11_12:09:48.mp4
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <a href="http://www.tutorialspoint.com/python/string_replace.htm" rel="nofollow">str.replace()</a> method or <a href="https://docs.python.org/2/library/re.html#re.sub" rel="nofollow">re.sub()</a></p>
<p>small example: </p>
<pre><code>mystr = "this is string example....wow!!! this is really string"
print mystr.replace(" ", "_")
print re.sub(" ","_", mystr)
</code></pre>
<p>output:</p>
<pre><code>this_is_string_example....wow!!!_this_is_really_string
this_is_string_example....wow!!!_this_is_really_string
</code></pre>
</div>
