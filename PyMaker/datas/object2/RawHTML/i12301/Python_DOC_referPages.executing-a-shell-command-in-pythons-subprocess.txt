<div class="post-text" itemprop="text">
<p>I'm trying to write the result of a shell-command in python to a file. The command is read from a variable. It works as long as I put the command directly into the python-command like here:</p>
<pre><code>FIRST_OPEN=open(FIRST_TMP_FILE, 'w')
subprocess.call(["cat", "/etc/passwd"], stdout=FIRST_OPEN)
</code></pre>
<p>But as soon as I try to read the command from a variable, it's not working anymore:</p>
<pre><code>FIRST_OPEN=open(FIRST_TMP_FILE, 'w')
FIRST_CMD='cat /etc/passwd'
subprocess.call([FIRST_CMD], stdout=FIRST_OPEN)
</code></pre>
<p>How do I have to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Notice both sources are not equivalent. Or you store the command as a list:</p>
<pre><code>FIRST_OPEN=open(FIRST_TMP_FILE, 'w')
FIRST_CMD=['cat', '/etc/passwd']
subprocess.call(FIRST_CMD, stdout=FIRST_OPEN)
</code></pre>
<p>Or you split your command before using it:</p>
<pre><code>FIRST_OPEN=open(FIRST_TMP_FILE, 'w')
FIRST_CMD='cat /etc/passwd'
subprocess.call(FIRST_CMD.split(), stdout=FIRST_OPEN)
</code></pre>
<p>Personally, I recommend you the first option.</p>
</div>
<div class="post-text" itemprop="text">
<p>When you say <code>[FIRST_CMD]</code>, you are creating a list that looks like this: <code>["cat /etc/passwd"]</code>, not <code>["cat", "/etc/passwd"]</code>.  To change that, you <em>could</em> use <code>FIRST_CMD.split()</code> instead of <code>[FIRST_CMD]</code>.  You could also define <code>FIRST_CMD</code> as <code>["cat", "/etc/passwd"]</code></p>
</div>
<div class="post-text" itemprop="text">
<p>Try to define an array and then pass the array name without the brackets. </p>
<p>Your code will be</p>
<pre><code>FIRST_OPEN=open(FIRST_TMP_FILE, 'w')
FIRST_CMD=['cat', '/etc/passwd']
subprocess.call(FIRST_CMD, stdout=FIRST_OPEN)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Consider using <code>shell=True</code> option in your subprocess call (check the docs under <a href="https://docs.python.org/3/library/subprocess.html#module-subprocess" rel="nofollow">https://docs.python.org/3/library/subprocess.html#module-subprocess</a>).</p>
<p>Your example then:</p>
<pre><code>FIRST_OPEN=open(FIRST_TMP_FILE, 'w')
FIRST_CMD='cat /etc/passwd'
subprocess.call([FIRST_CMD], stdout=FIRST_OPEN, shell=True)
</code></pre>
</div>
<span class="comment-copy">Thank's the first example works great. I'm new to Python and the different brackets are a little bit confusing.</span>
