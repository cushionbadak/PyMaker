<div class="post-text" itemprop="text">
<p>I have a list inside a list and I am trying to remove any values in side the nested list that are equal to -1. I am getting a "ValueError: list.remove(x): x not in list" error when I try to run my code, any idea what I am doing wrong?</p>
<pre><code>for x in list:
    for i in x:
        if i == -1:
            list.remove(x)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You shouldn't mutate a list while iterating over it. You also shouldn't name a variable <code>list</code>, since that name is used by a built-in function. You can achieve what you want via a simple <a href="http://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow">list comprehension</a>:</p>
<pre><code>my_list = [[x for x in v if x != -1] for v in my_list]
</code></pre>
</div>
<span class="comment-copy">Maybe <code>-1</code> occurs more than once in <code>x</code>. But anyway, you can't remove elements from <code>list</code> while iterating over it.</span>
<span class="comment-copy">@SteveJessop, unfortunately you <i>can</i> but it hardly ever gives the expected result (unless you really really know what to expect)</span>
<span class="comment-copy">@gnibbler: OK, so the behaviour is defined by the language then? Skips an element, or whatever?</span>
<span class="comment-copy">@SteveJessop, that's certainly what happens for cpython. I'm not sure it's in the language definition though. Compared to dict, which is not allowed to have a different size between iterations.</span>
<span class="comment-copy">@gnibbler: well, if Python is ever standardized then we'll find out ;-)</span>
<span class="comment-copy">Surely <code>[x for x in my_list if -1 not in x]</code>?</span>
<span class="comment-copy">@SteveJessop On second thought, isn't that different? Note that my <code>x</code> is not the same as the OP's <code>x</code>.</span>
<span class="comment-copy">sorry, there was a mistake in what I commented, now fixed. My code <i>is</i> different from yours, I believe that your code is different from what the questioner wants. The idea is to remove from the outer list, any inner list that contains -1. Your code removes the -1s from the inner lists.</span>
<span class="comment-copy">@SteveJessop <i>"I have a list inside a list and I am trying to <b>remove any values in side the nested list that are equal to -1</b>"</i></span>
<span class="comment-copy">@arshajii, but it's hard to see how that matches what the code is suggesting. Maybe just put both interpretations into your answer</span>
