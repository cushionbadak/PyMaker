<div class="post-text" itemprop="text">
<p>in celery 3.1+ there is a new security feature that won't allow you to start celery if you are running the daemon as superuser.</p>
<p>My question is why specifically running celery workers that <strong>accept pickled strings</strong> is so bad that celery would now introduce a feature where an environment variable must be explicitly set for it to be allowed?</p>
<p>thanks</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="http://docs.python.org/3/library/pickle.html" rel="nofollow"><code>pickle</code></a> simply isn't secure:</p>
<blockquote>
<p>The pickle module is not intended to be secure against erroneous or maliciously constructed data. Never unpickle data received from an untrusted or unauthenticated source.</p>
</blockquote>
<p>As such the Celery team has decided that its users need to be explicit that they wish to accept pickled data.</p>
</div>
<span class="comment-copy">so is the whole idea that when the workers receive the pickled data they have no way of knowing if the payload has been altered and if running as root could prove disastrous?</span>
<span class="comment-copy">@w-- yes, that's the idea. The risk of pickled data being altered is the potential issue here.</span>
