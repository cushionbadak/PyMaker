<div class="post-text" itemprop="text">
<p>I have problem related to case insensitive search for regular expression. Here is part of the code that I wrote:</p>
<pre><code>engType = 'XM665'
</code></pre>
<p>The value of <code>engType</code> was extracted from other files. Based on the engType, I want to find lines in another text file which contain this part and extract description infomation from that line, the description part will be between the <code>engType</code> string and <code>'Serial'</code>.</p>
<p>for instance:</p>
<pre><code>lines = ['xxxxxxxxxxx','mmmmmmmmmmm','jjjjj','xM665 Module 01 Serial (10-11)']
pat = re.compile(engType+'(.*?)[Ss][Ee][Rr][Ii][Aa][Ll]')
for line in lines:
    des = pat.search(line).strip()
    if des:
        break;
print des.group(1).strip()
</code></pre>
<p>I know the result will be an error, since the case of my string <code>engType</code> is different from what it is in <code>'xM665 Module 01 Serial (10-11)'</code>, I understand that I can use <code>[Ss]</code> to do the case insensitive comparisons as What I have done in the last part of <code>pat</code>. However, since my engType is a variable, I could not apply that on a variable. I knew I could search in lower case like:</p>
<pre><code>lines = ['xxxxxxxxxxx','mmmmmmmmmmm','jjjjj','xM665 Module 01 Serial (10-11)']
pat = re.compile(engType.lower()+'(.*?)serial')
for line in lines:
    des = pat.search(line.lower()).strip()
    if des:
        break; 
print des.group(1).strip()
</code></pre>
<p>result:</p>
<pre><code>module 01
</code></pre>
<p>The case is now different compared to <code>Module 01</code>. If I want to keep the case, how can i do this? Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p><code>re.IGNORECASE</code> is the flag you're looking for.</p>
<pre><code>pat = re.compile(engType+'(.*?)[Ss][Ee][Rr][Ii][Aa][Ll]',re.IGNORECASE)
</code></pre>
<p>Or, more simply <code>re.compile(engType+'(.*?)serial',re.IGNORECASE)</code>.</p>
<p>also, bug in this line:</p>
<pre><code>des = pat.search(line.lower()).strip()
</code></pre>
<p>Remove the <code>.strip()</code>; if <code>pat.search()</code> is <code>None</code> you will get an <code>AttributeError</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Check out re.IGNORECASE in <a href="http://docs.python.org/3/library/re.html" rel="nofollow">http://docs.python.org/3/library/re.html</a></p>
<p>I believe it'll look like:</p>
<pre><code>pat = re.compile(engType.lower()+'(.*?)serial', re.IGNORECASE)
</code></pre>
</div>
<span class="comment-copy">okay, thank you so much! this works perfectly.</span>
<span class="comment-copy">Ya, This works, thank you! I think re.compile(engType+'(.*?)serial', re.INGORECASE) will do, no need to lower the case of engType</span>
