<div class="post-text" itemprop="text">
<p>I want to change tags of my all mkv files.
I installed MKVToolNix.
My code is:</p>
<pre><code>#!/usr/bin python3
# -*- coding: utf-8 -*-

import os
import subprocess
import re

neredebu='/home/pi/hrc2/Film-Dizi/duzenle'

for kokdizin, altdizinler, dosyalar in os.walk(neredebu):
    for dosya in dosyalar:
        if dosya.endswith('.mkv'):

            isim=re.findall('([\w\d.]*)\.[\d]{4}\.m1080p.',dosya)[0]
            isim=isim.replace(".", " ")
            yil=re.split('[\w\d.]*\.([\d]{4})\.m1080p.',dosya)[1]
            title=isim+" - "+yil+" _ www.netmanyagi.com"

            dosyayolu=kokdizin
            dosyatam=dosyayolu+"/"+dosya

            bashCommand = "mkvpropedit "+dosyatam+" --edit info --set \"title="+title+"\""
            process = subprocess.Popen(bashCommand.split(), stdout=subprocess.PIPE)
            output, error = process.communicate()
            #output = subprocess.check_output(['bash','-c', bashCommand])
            print(output)

            print("---")
</code></pre>
<p>I'm getting this output:</p>
<pre><code>b"Error: More than one file name has been given ('/home/pi/hrc2/Film-Dizi/duzenle/The' and 'Hero').\n"
---
</code></pre>
<p>What is the cause of this error?</p>
</div>
<div class="post-text" itemprop="text">
<p>The issue is that one of your <code>.mkv</code> files contains a space in its filename. Thus when you split the <code>bashCommand</code> to create a list, you inadvertently split the filename into two pieces.</p>
<p>The easiest thing would be to rename the file so that it doesn't contain a space. It may also be safer to build the list manually, rather than relying upon <code>split()</code>, and ensure you wrap the filename in quotes.</p>
<pre><code>bashCommand = [
    'mkvpropedit',
    '"{}"'.format(dosyatam),
    '--edit',
    'info',
    '--set',
    '"title={}"'.format(title)
]
process = subprocess.Popen(bashCommand, stdout=subprocess.PIPE)
</code></pre>
</div>
<span class="comment-copy">Give you command as a list as shown in the <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer">docs</a> and it will work.</span>
<span class="comment-copy">Can you write sample code please?</span>
<span class="comment-copy">The docs are full of examples.</span>
<span class="comment-copy">Thank you so much. I changed the codes as: bashCommand = ['mkvpropedit','{}'.format(dosyatam),'--edit','info','--set','title={}'.format(title)] It's working.</span>
