<div class="post-text" itemprop="text">
<p>I'm attempting to make a function that counts the number of sentences in a textfile. In this case, a sentence refers to any string ending with either a '.', '?', or a '!'.</p>
<p>I'm new to Python and I'm having trouble figuring out how to do this. I keep getting the error 'UnboundLocalError: local variable 'numberofSentences' referenced before assignment.' Any help would be appreciated!</p>
<pre><code>def countSentences(filename):
    endofSentence =['.', '!', '?']
    for sentence in filename:
        for fullStops in endofSentence:
            if numberofSentences.find(fullStops) == true:
                numberofSentences = numberofSentences+1
    return numberofSentences
print(countSentences('paragraph.txt'))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to initialize the variable to something before incrementing it.  You also need to open the file itself,  read <em>it's</em> text and evaluate it - and not count what letters are in the given <code>filename</code>.</p>
<pre><code># create file
with open("paragraph.txt","w") as f:
    f.write("""
Some text. More text. Even
more text? No, dont need more of that! 
Nevermore.""")


def countSentences(filename):
    """Count the number of !.? in a file. Return it."""
    numberofSentences = 0      # init variable here before using it
    with open(filename) as f:  # read file
        for line in f:         # process line wise , each line char wise
            for char in line:
                if char in {'.', '!', '?'}:
                    numberofSentences += 1
    return numberofSentences

print(countSentences('paragraph.txt'))
</code></pre>
<p>Output:</p>
<pre><code>5
</code></pre>
<p>Doku:</p>
<ul>
<li><a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">reading files</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>It would work if you actually checked that the fullStop was in the sentence in the first place and you declared <code>numberOfSentences</code> beforehand.<br/>
The best method to do this I think would be to instead of using find, which returns a number, not a bool, would be to write  </p>
<pre><code>if sentence in endofSentence:  
    numberOfSentences+=1
</code></pre>
</div>
