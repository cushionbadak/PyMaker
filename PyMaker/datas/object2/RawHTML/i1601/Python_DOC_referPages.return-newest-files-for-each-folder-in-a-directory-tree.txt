<div class="post-text" itemprop="text">
<p>I have several text files located in different folders.</p>
<pre><code>Southwest (folder)
     Texas (folder)
        Houston (folder)
           11-18-2018 (folder)
               Houston.txt (date modified 11-18-2018)
           11-11-2018 (folder)
               Houston.txt (date modified 11-11-2018)

        Austin (folder)
           11-18-2018 (folder)
               Austin.txt (date modified 11-18-2018)
           11-11-2018 (folder)
               Austin.txt (date modified 11-11-2018)

Southern_Pacific (folder)
     California
        San-Diego (folder)
           11-18-2018 (folder)
               San_Diego.txt (date modified 11-18-2018)
           11-11-2018 (folder)
               San_Diego.txt (date modified 11-11-2018)

        Los_Angeles (folder)
           11-18-2018 (folder)
               Los_Angeles.txt (date modified 11-18-2018)
           11-11-2018 (folder)
               Los_Angeles.txt (date modified 11-11-2018)


 and so on with other different regions in US. 
</code></pre>
<p>Goal: I need to grab all the newest files for each folder based on the cities they reside. So the return value would be something like:</p>
<pre><code>C:\Southwest\Texas\Houston\11-18-2018\Houston.txt
C:\Southwest\Texas\Austin\11-18-2018\Austin.txt
C:\Southern_Pacific\California\San_Diego\11-18-2018\San_Diego.txt
C:\Southern_Pacific\California\Los_Angeles\11-18-2018\Los_Angeles.txt
</code></pre>
<p>I will then use the return values as path to open the files and feed through another function that I have built. But at the moment the other function only works when the files reside in the same folder where I run the script or I specifically point it to sub folder - not the entire tree. </p>
<p>So at this point I need to be able to go through each folder, grab the newest file for each city, return the value as path to the file.  </p>
<p>I'm new to python or scripting in general. A helping hand would be greatly appreciated!</p>
</div>
<div class="post-text" itemprop="text">
<p>here is my solution for you:</p>
<pre><code>import os
from datetime import datetime

def getNewestFiles(startpath):
    path = ""
    currTime = 0
    maxTime = 0
    resultPath = ""

    for root, dirs, files in os.walk(startpath): #search from start to all folders and files
        maxTime = 0
        resultPath = ""

        for f in files:
            path = root+"\\"+f
            currTime = os.path.getmtime(path) #get time of file
            if(currTime &gt; maxTime): #compare time with other files
                maxTime = currTime
                resultPath = path   #take the largest number

        if(resultPath != ""):
            print('{} : {}'.format(resultPath, datetime.fromtimestamp(float(os.path.getmtime(resultPath))).strftime('%Y-%m-%d %H:%M:%S')))
</code></pre>
<p>You have to choose your startpath and then you get all newest files in all directories</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/os.html?highlight=os%20walk#os.walk" rel="nofollow noreferrer">os.walk</a> to navigate the directory structure and <a href="https://docs.python.org/3/library/os.path.html#os.path.getmtime" rel="nofollow noreferrer">os.path.getmtime</a> to determine the modification time for each file.</p>
<p>For comparing the times, I recommend using the <a href="https://docs.python.org/2/library/datetime.html#module-datetime" rel="nofollow noreferrer">datetime</a> module.</p>
</div>
<span class="comment-copy">First look at the os.walk() method.</span>
<span class="comment-copy">Is it always true, that the folder name is the date of modification? If so and you could change its naming format from "Month-Day-Year" to "Year-Month-Day", then the last folder in alphabetical order is always the newest.</span>
<span class="comment-copy">This one seems to work as intended. Thank you!</span>
