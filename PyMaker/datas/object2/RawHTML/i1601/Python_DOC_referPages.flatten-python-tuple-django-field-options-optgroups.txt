<div class="post-text" itemprop="text">
<p>I've been looking for a way to flatten a field's options in django that is structured as optgroup nested tuples:</p>
<pre><code>CHOICES = (
  ('', (
        ('value1', 'label1'),
        ('value2', 'label2'),
      )
  ),
  ('Group2', (
        ('value3', 'label3'),
        ('value4', 'label4'),
     )
  ),
)
</code></pre>
<p>What I want to achieve is a list containing only the values <code>['value1', 'value2', 
 'value3', 'value4']</code>.</p>
<p>I have tried itertools chain, zip and sum but I cannot get rid of the grouping labels, that is the empty string '' and 'Group2'. Any ideas?</p>
<p>Thank you</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> in order to do that:</p>
<pre><code>[choice[0] for group in CHOICES for choice in group[1]] 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For anyone interested, the following will do:</p>
<pre><code>[tuple[0] for tuple in [field].get_flatchoices(False)]
</code></pre>
</div>
<span class="comment-copy">I tried that, but the length of the tuples and groups is arbitrary. Thank you for your answer, nonetheless.</span>
