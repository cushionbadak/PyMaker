<div class="post-text" itemprop="text">
<p>I have never really fully understood how packages are handled in Python and I'm having a problem with that right now. But googling doesn't seem to help as I find the topic really confusing.</p>
<p>I have a project with this structure:</p>
<pre><code>project_name/
    src/
        main.py
        utils/
            string_utils.py
    tests/
        test_string_utils.py
</code></pre>
<p>I am using Pytest for running unit testing and currently inside the  "test_string_utils.py" file I have the following:</p>
<pre><code>from ..src.utils.string_utils import StringUtilsClass
</code></pre>
<p>But I go to the folder "project_name" and try to run tests with any of this command I get errors:</p>
<pre><code>$ pytest tests/
</code></pre>
<p>ValueError: attempted relative import beyond top-level package</p>
<p>I know about the -m argument for python, but it seems that  running "pytest -m" has a completely different behavior.</p>
<p>How can I solve this? Am I using the wrong folder architecture? I don't think what I'm building should be a pip package (which would simplify imports) </p>
</div>
<div class="post-text" itemprop="text">
<p>did you try : <code>from src.utils.string_utils import StringUtilsClass</code> without .. before src?
or <code>from string_utils import StringUtilsClass</code></p>
</div>
<span class="comment-copy">from src.utils.string_utils import StringUtilsClas works. How is that?  is pytest loading the "src" module by itself?</span>
<span class="comment-copy">"When importing the package, Python searches through the directories on sys.path looking for the package subdirectory." <a href="https://docs.python.org/3/tutorial/modules.html" rel="nofollow noreferrer">docs.python.org/3/tutorial/modules.html</a></span>
