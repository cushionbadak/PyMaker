<div class="post-text" itemprop="text">
<p>I have over 52k files of csv files that I need to organize and would like to find an efficient way to do this through python or some other avenue. </p>
<p>Currently I have these folders, </p>
<blockquote>
<p>2013_Q1<br/> 2013_Q2<br/> 2013_Q3<br/> 2013_Q4<br/> 2014_Q1 ...</p>
</blockquote>
<p>and so on</p>
<p>Within the Quarter folder, i have another folder:</p>
<blockquote>
<p>xxxx20130101_000500_csv<br/> xxxx20130101_000500_xml<br/>
  xxxx20130101_001000_csv<br/> xxxx20130101_001000_xml<br/></p>
</blockquote>
<p>and so on.. <p></p>
<p>within that folder I have the files:</p>
<blockquote>
<p>xxxx20130101_000500_csv.csv<br/> xxxx20130101_000500_xml.xml<br/>
  xxxx20130101_001000_csv.csv<br/> xxxx20130101_001000_xml.xml</p>
</blockquote>
<p>respectively.<p></p>
<p>I want to go through all the quarter folders and extract only the .csv files from each sub-folder and organize them in a folder by their respective dates.
<p>
So within the 2013_Q1 folder, I would like to have<br/></p>
<blockquote>
<p>20130101<br/>
  20130102...</p>
</blockquote>
<p>and so on<p></p>
<p>And within that 20130101 folder would be</p>
<blockquote>
<p>xxxx20130101_000500_csv.csv<br/> xxxx20130101_001000_csv.csv<br/>
  xxxx20130101_001500_csv.csv</p>
</blockquote>
<p>Right now I have the python code:<p></p>
<pre><code>import shutil
import os

os.chdir('C:\\...\\Test')

 for f in os.listdir('MovingFolders'):
    folderName = f[-19:-11]

    if not os.path.exists(folderName):
        os.mkdir(folderName)
        shutil.copy(os.path.join('MovingFolders', f), folderName)
    else:
        shutil.copy(os.path.join('MovingFolders', f), folderName)
</code></pre>
<p>I'm fairly new at python and is still learning, so I'm a bit confused.</p>
</p></p></p></p></p></div>
<div class="post-text" itemprop="text">
<p>For Python 3.5 and above:</p>
<p>There is a recursive feature in <a href="https://docs.python.org/3/library/glob.html" rel="nofollow noreferrer">glob</a> that you could use.
Here's what you do
import glob</p>
<p>loop over glob.glob('root/**/*.csv',recursive = True)</p>
</div>
<span class="comment-copy">Welcome to SO. It would help if you could provide what errors did you encounter...</span>
<span class="comment-copy">I recommend you look at the python library <code>glob</code>. It will let you use a wildcard like <code>glob.glob("*.csv")</code> which will return only files with a CSV file extension.</span>
<span class="comment-copy">Where/how did you come up with the <code>f[-19:-11]</code>? Seem very path dependent.</span>
<span class="comment-copy">I wanted to auto generate folder name using filename. And that was the string index of the file name i wanted.</span>
<span class="comment-copy">I got this error, PermissionError: [Errno 13] Permission denied: 'MovingFolders\\xxxxxx_20180401_000015_xml'</span>
