<div class="post-text" itemprop="text">
<p>I have a sequence of string which has a python list within it. It looks like this</p>
<pre><code>"['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']"
</code></pre>
<p>How can I can retrieve the string enclosed by [] as the list data type of python?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer"><code>literal_eval</code></a> function from the standard library:</p>
<pre><code>&gt;&gt;&gt; from ast import literal_eval
&gt;&gt;&gt; literal_eval("['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']")
['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']
</code></pre>
<p>This is way more safe than using <code>eval</code> directly (<a href="https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html" rel="nofollow noreferrer">source</a>).</p>
</div>
<div class="post-text" itemprop="text">
<p>Use a regular expression to extract the list:</p>
<pre><code>re.findall("\'(.*?)\'",st)

#['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use python's <code>eval</code> function to evaluate the string and get a list</p>
<pre><code>&gt;&gt;&gt; x = "['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']"
&gt;&gt;&gt; eval(x)
['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']
&gt;&gt;&gt; type(eval(x))
&lt;class 'list'&gt;
</code></pre>
<p><strong><em>NOTE:</em></strong> </p>
<p><code>eval</code> is dangerous in case you are exposing the code to open world such as a website or an api. <code>eval</code> executes in global namespace and hence could be dangerous.   </p>
<p>Example:
<code>eval(os.listdir())</code> gives all files and folder in working directory.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can also achieve your desired result using string operations and slicing:</p>
<pre><code>string = "['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']"
wordList = list(map(lambda elem: elem.replace('\'','') ,string[1:-1].split(', ')))
print(wordList)
</code></pre>
<p>Output:</p>
<pre><code>['How', 'Quebec', 'nationalists', 'see', 'province', 'nation', '1960s?']
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/1894269/convert-string-representation-of-list-to-list">Convert string representation of list to list</a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/19418566/how-to-conver-string-to-list-withou-using-evalpython">How to conver String to List withou using eval(Python)</a></span>
<span class="comment-copy">Is it sure that the string only contains the list or may it contain something else too? I.e., is the following possible: <code>"This is my list ['a', 'b', 'c']. It's a beautiful list.</code>?</span>
<span class="comment-copy">dont use eval, use ast.literal_eval instead</span>
<span class="comment-copy">That answer is dangerous.</span>
