<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/588004/is-floating-point-math-broken">Is floating point math broken?</a>
<span class="question-originals-answer-count">
                    28 answers
                </span>
</li>
</ul>
</div>
<p>Why is this Pandas series giving sum = .99999999 where as answer is 1. In my program, I need to assert on 'sum is equal to 1'. And, assertion is failing even if condition is correct.</p>
<pre><code>s = pd.Series([0.41,0.25,0.25,0.09])
print("Pandas version = " + pd.__version__)
print(s)
print(type(s))
print(type(s.values))
print(s.values.sum())
</code></pre>
<p>The output is:</p>
<pre><code>Pandas version = 0.23.4
0    0.41
1    0.25
2    0.25
3    0.09
dtype: float64
&lt;class 'pandas.core.series.Series'&gt;
&lt;class 'numpy.ndarray'&gt;
0.9999999999999999
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.isclose.html" rel="nofollow noreferrer">np.isclose</a> to determine if two values are arbitrarily close. It's a remnant of how floats are stored in the machine</p>
</div>
<span class="comment-copy">To expand upon this, most built-in floating point types are not entirely precise.  They cannot always exactly represent the result of a calculation.  This means that you should never do comparisons without using an epsilon value (an acceptable error range) like np.isclose will do.  If you must have results that add up exactly, you should be using something like   <a href="https://docs.python.org/3/library/decimal.html" rel="nofollow noreferrer">decimal</a>.</span>
<span class="comment-copy">Thanks so much Ian Quah and @Wieschie for your inputs.</span>
