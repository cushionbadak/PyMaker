<div class="post-text" itemprop="text">
<p>I need to know how to loop through a list and find the closest speed to the speed limit. so pretty much Iterate through the list of speeds looking at the difference each time.</p>
<p>What I have so far:</p>
<pre><code>def find_nearest_speed(recorded_speeds, speed_limit):
"""Finds the closest recorded speed when compared to the speed limit."""
closest = abs(speed_data[0] - speed_limit)
for current_element in speed_data:
    speed_difference = abs(current_element - speed_limit)
    if speed_difference &lt; abs(closest - speed_limit):
        closest = current_element
        return closest

max_speed = 30 
speed_data = [24, 25, 27, 28, 31, 35]           
closest_speed = (find_nearest_speed(speed_data, max_speed))
print("The closest recorded speed was {} Km/h.".format(closest_speed))
</code></pre>
<p>What I get:</p>
<pre><code> The closest recorded speed was 24 Km/h.
</code></pre>
<p>What I should get:</p>
<pre><code> The closest recorded speed was 31 Km/h.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/3/library/functions.html#min" rel="nofollow noreferrer">min</a>:</p>
<pre><code>max_speed = 30
speed_data = [24, 25, 27, 28, 31, 35]
closest_speed = min(speed_data, key=lambda x: abs(x - max_speed))
print("The closest recorded speed was {} Km/h.".format(closest_speed))
</code></pre>
<p><strong>Output</strong></p>
<pre><code>The closest recorded speed was 31 Km/h.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is what you should have:</p>
<pre><code>def find_nearest_speed(recorded_speeds, speed_limit):
"""Finds the closest recorded speed when compared to the speed limit."""
    closest = float('inf')
    for current_element in speed_data:
        speed_difference = abs(current_element - speed_limit)
        if speed_difference &lt; abs(closest - speed_limit):
            closest = current_element
    return closest if len(recorded_speeds) &gt; 0 else None
</code></pre>
<p>The only change is <code>closest = float('inf')</code> initially</p>
</div>
<div class="post-text" itemprop="text">
<p>If you use the <code>return</code> statement "inside" the <code>if</code> statement, it will return as soon as the condition <code>speed_difference &lt; abs(closest - speed_limit)</code> is <code>true</code>, which will be always satisfied with your code for the list first element.</p>
<p>So you need to remove the indentations before the <code>return</code> statement so it waits the end of the loop before returning the result.</p>
<p>Another note is that the statement <code>closest = abs(speed_data[0] - speed_limit)</code> is wrong because you're assigning the <code>closest</code> variable with the difference between the the list element and the <code>speed_limit</code>, but by seeing your function code you should rather assign it with the list element: <code>closest = speed_data[0]</code>.</p>
<pre><code>def find_nearest_speed(recorded_speeds, speed_limit):
    """Finds the closest recorded speed when compared to the speed limit."""
    closest = speed_data[0] # Sets the closest as the list's first element
    for current_element in speed_data:
        speed_difference = abs(current_element - speed_limit)
        if speed_difference &lt; abs(closest - speed_limit):
            closest = current_element
    return closest

max_speed = 30 
speed_data = [24, 25, 27, 28, 31, 35]           
closest_speed = (find_nearest_speed(speed_data, max_speed))
print("The closest recorded speed was {} Km/h.".format(closest_speed))
</code></pre>
</div>
<span class="comment-copy">Why is it absolute value? Knowing what speed limits are, I would think it should be the closest to the speed limit without being under or over, but not just generally closest (over or under the limit)?</span>
