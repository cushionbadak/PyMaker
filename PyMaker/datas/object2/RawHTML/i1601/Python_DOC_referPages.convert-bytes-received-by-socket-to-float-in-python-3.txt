<div class="post-text" itemprop="text">
<p>I've tried following the suggested answer here but did not get the intended result:
<a href="https://stackoverflow.com/questions/48482466/python-socket-received-ascii-convert-to-actual-numbers-float">Python Socket Received ASCII convert to actual numbers (float)</a></p>
<p>I'm receiving data in bytes format like so, using socket.recv():</p>
<pre><code>      b'(1,3,-121.551552,-123.602531,-40.582172,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)'
</code></pre>
<p>I'm trying to receive the values above as a list of 30 floats.</p>
<p>I understand we have to use the struct library but I'm facing difficulties trying to grasp the concept of formatting.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your incoming floats aren't fixed-length, apart from having 6 decimal paces, if at all. So why not just use <a href="https://docs.python.org/3/library/stdtypes.html#bytes.decode" rel="nofollow noreferrer"><code>bytes.decode()</code></a>, then strip off the brackets and then split on commas?</p>
<p>With each step broken down:</p>
<pre><code>&gt;&gt;&gt; b = b'(1,3,-121.551552,-123.602531,-40.582172,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)'
&gt;&gt;&gt; b.decode()
'(1,3,-121.551552,-123.602531,-40.582172,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)'
&gt;&gt;&gt; b.decode()[1:-1]
'1,3,-121.551552,-123.602531,-40.582172,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0'
&gt;&gt;&gt; b.decode()[1:-1].split(',')
['1', '3', '-121.551552', '-123.602531', '-40.582172', '0', '0', '0', '0', '0', '0', '0',
 '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0']
&gt;&gt;&gt; [float(x) for x in b.decode()[1:-1].split(',')]
[1.0, 3.0, -121.551552, -123.602531, -40.582172, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 
 0.0, 0.0, 0.0, 0.0]
</code></pre>
<p>And a more <em>Pythonic</em> way to do that last one-step:</p>
<pre><code>&gt;&gt;&gt; list(map(float, b.decode()[1:-1].split(',')))
[1.0, 3.0, -121.551552, -123.602531, -40.582172, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
</code></pre>
</div>
