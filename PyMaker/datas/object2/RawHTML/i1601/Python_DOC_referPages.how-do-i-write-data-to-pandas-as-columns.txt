<div class="post-text" itemprop="text">
<p>I'm struggling to write list into a CSV file.
So first of all i convert list to pandas dataframe and now truing to save it as columns to a file, but data is being displayed from new line.
Can you please help me figure out what I've missing in my code</p>
<pre><code>lst = ['Name', 'Age', 'City']
df = pd.DataFrame(lst)
df.to_csv('file.csv', mode='a', index=False, header=False)
</code></pre>
<p>Expected result: <code>Name, Age, City</code></p>
</div>
<div class="post-text" itemprop="text">
<p>To save as columns, assign your list <em>as columns</em>:</p>
<pre><code>lst = ['Name', 'Age', 'City']
df = pd.DataFrame(columns=lst)

df.to_csv('file.csv', mode='a', index=False)
</code></pre>
<p>If not specified, the first argument to <a href="https://pandas.pydata.org/pandas-docs/version/0.21/generated/pandas.DataFrame.html" rel="nofollow noreferrer"><code>pd.DataFrame</code></a> is <code>data</code>, so you must assign to <code>columns</code> explicitly.</p>
</div>
<div class="post-text" itemprop="text">
<p>If I understand correctly, you'd just have to add a <code>.T</code> to your line to write the transposed dataframe.</p>
<pre><code>df.T.to_csv('file.csv', mode='a', index=False, header=False)
---^
</code></pre>
<p>although if you are using pandas only to write lists as rows to csv files, you'd better have a look at the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer"><code>csv</code></a> module, because creating intermediary dataframes is pretty pointless.</p>
<pre><code>import csv
lst = ['Name', 'Age', 'City']
with open('file.csv', 'a') as f:
    csv.writer(f).writerow(lst)
</code></pre>
</div>
