<div class="post-text" itemprop="text">
<p>I have this code that is supposed to connect to wifi using a given ESSID and password. Here is the code:</p>
<pre><code>def wifi_connect(essid, password):
# Connect to the wifi. Based on the example in the micropython
# documentation.
wlan = network.WLAN(network.STA_IF)
wlan.active(True)
if not wlan.isconnected():
    print('connecting to network ' + essid + '...')
    wlan.connect(essid, password)
    # connect() appears to be async - waiting for it to complete
    while not wlan.isconnected():
        print('waiting for connection...')
        print('checking connection...')
    print('Wifi connect successful, network config: %s' % repr(wlan.ifconfig()))
else:
    # Note that connection info is stored in non-volatile memory. If
    # you are connected to the wrong network, do an explicity disconnect()
    # and then reconnect.
    print('Wifi already connected, network config: %s' % repr(wlan.ifconfig()))
</code></pre>
<p>At first, I got an error message that network was not installed. This was fixed by simply using pip to install network. After I ran this again, it told me that network has no attribute WLAN. How do I fix this? What am I doing wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p>You are trying to run code designed for the <a href="http://micropython.org/" rel="nofollow noreferrer">MicroPython language</a>, and it won't work on CPython (the Python version you'd download from Python.org or find installed on most PCs and servers).</p>
<p>MicroPython is designed to run on embeddable specialist hardware, and comes with its own library to support the hardware it is running on, including a <a href="http://docs.micropython.org/en/latest/library/network.html" rel="nofollow noreferrer"><code>network</code> module</a>:</p>
<blockquote>
<p>To use this module, a MicroPython variant/build with network capabilities must be installed. Network drivers for specific hardware are available within this module and are used to configure hardware network interface(s).</p>
</blockquote>
<p>It tells you so in the comments at the top:</p>
<pre><code># [...] Based on the example in the micropython
# documentation.
</code></pre>
<p>The code can't run on 'regular' CPython. You installed the <a href="https://pypi.org/project/network/" rel="nofollow noreferrer">PyPI <code>network</code> project</a>, which is a very different module, <a href="https://github.com/raspberrypilearning/networking-lessons" rel="nofollow noreferrer">originally designed to help learn coding for the Raspberry PI</a>.</p>
<p>What project <em>could</em> work depends on your operating system (OS). Different OSes use different programming interfaces to let programs change networks. Most have <em>command line tools</em> to let you do this, which should be easy to drive from Python with the <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer"><code>subprocess</code> module</a>:</p>
<ul>
<li>Windows has the <a href="https://docs.microsoft.com/en-us/windows-server/networking/technologies/netsh/netsh" rel="nofollow noreferrer"><code>netsh</code> command</a>, run <a href="https://www.hanselman.com/blog/HowToConnectToAWirelessWIFINetworkFromTheCommandLineInWindows7.aspx" rel="nofollow noreferrer"><code>netsh wlan connect name=...</code></a> to connect to a network interface</li>
<li>Mac OS X has the <a href="http://www.manpagez.com/man/8/networksetup/" rel="nofollow noreferrer"><code>networksetup</code> command</a>, <code>networksetup -setairportnetwork en1 ...</code> connects you to a given WIFI network.</li>
</ul>
</div>
<span class="comment-copy">Thanks! I have installed micropython with homebrew. One thing... what is a GUI I can use to create micropython files?</span>
<span class="comment-copy">@c0mraide: do you actually have a MicroPython-compatible piece of hardware? You can't use MicroPython to control your Mac network connection...</span>
<span class="comment-copy">Sorry... I am a bit confused. If the network module in micropython can't control my computer's connection to wifi networks, does that code even work? And how can I tell if my hardware is compatible?</span>
<span class="comment-copy">The language is meant to control <i>specialised, very compact hardware</i>.  A bit like a Raspberry Pi but smaller. The MicroPython site lists what specific hardware is compatible. If you have a PC that runs Linux or Windows or Mac OS X then that will <i>not</i> be compatible.</span>
