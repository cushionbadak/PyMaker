<div class="post-text" itemprop="text">
<p>I am trying to get the attribute <code>'full_text'</code> for a truncated tweet from the Tweepy library. I can get a <code>dict</code> that appears to contain that key. However, when I try <code>has_attr</code> to check for that key, or if I access that key, it appears to not exist. If I use <code>PrettyPrinter</code>, I get a printout of the object showing clearly that the <code>'full_text'</code> attribute is in there. I'm unsure why it isn't picked up.</p>
<p>First, the code:</p>
<pre><code> print("Text: " + str(tweet.text))
 if(tweet.truncated):
            print("Tweet is truncated...")
            if(hasattr(tweet, 'full_text')):
                print("And has a full text attr")
            else:
                print("No full_text attr")

            if(hasattr(tweet, '_json')):
                print("That has json in it")
                print("type: " + str(type(tweet._json)))
                print("Length: " + str(len(tweet._json)))
            else:
                print("No JSON in there, though")

            fullTweet = plex.getFullTweet(tweet)
            print("Got full tweet...")
            if(hasattr(fullTweet, "_json")):
                print("Has _json available")
                print("Type: " + str(type(tweet._json)))
                print("Length: " + str(len(tweet._json)))
                if(hasattr(fullTweet._json, "full_text")):
                    print("Has full text in there: ")
                    print(fullTweet._json['full_text'])
                else:
                   printer.pprint(fullTweet._json)
                    if(hasattr(fullTweet._json, 'full_text')):
                        print("Full text found!")
                        print(fullTweet._json['full_text'])
                    else:
                        print("Didn't get the full text from that")
</code></pre>
<p>And here is the output I'm getting from a truncated tweet:</p>
<pre><code>Text: I had a really bad experience with my psychiatrist yesterday. It‚Äôs just amazing how people in power can humiliate m‚Ä¶ 
Tweet is truncated...
No full_text attr
That has json in it
type: &lt;class 'dict'&gt;
Length: 23
Got full tweet...
Has _json available
Type: &lt;class 'dict'&gt;
Length: 23
{   'contributors': None,
    'coordinates': None,
    'created_at': 'Tue Mar 05 14:32:29 +0000 2019',
    'display_text_range': [0, 246],
    'entities': {   'hashtags': [],
                    'symbols': [],
                    'urls': [],
                    'user_mentions': []},
    'favorite_count': 514,
    'favorited': False,
    'full_text': 'I had a really bad experience with my psychiatrist '
                 'yesterday. It‚Äôs just amazing how people in power can '
                 'humiliate manipulate demean and take advantage of their '
                 'patients. The whole time he was yelling at me I thought ‚ÄúI '
                 'bet he‚Äôs a trump supporter‚Äù',
    'geo': None,
    'id': 1102939945629560832,
    'id_str': '1102939945629560832',
    'in_reply_to_screen_name': None,
    'in_reply_to_status_id': None,
    'in_reply_to_status_id_str': None,
    'in_reply_to_user_id': None,
    'in_reply_to_user_id_str': None,
    'is_quote_status': False,
    'lang': 'en',
    'place': None,
    'retweet_count': 56,
    'retweeted': False,
    'source': '&lt;a href="http://twitter.com/download/iphone" '
              'rel="nofollow"&gt;Twitter for iPhone&lt;/a&gt;',
    'truncated': False,
    'user': {   'contributors_enabled': False,
                'created_at': 'Sun Jan 29 18:43:09 +0000 2017',
                'default_profile': False,
                'default_profile_image': False,
                'description': 'Middle Age Mama I say what People Think '
                               '\U0001f928Big on run-on sentences üíô I have the '
                               'most Amazing Twitter Friends üòésucker 4 a '
                               'compliment #TheResistance #resist #FBR',
                'entities': {   'description': {'urls': []},
                                'url': {   'urls': [   {   'display_url': 'instagram.com/maydaymindy9',
                                                           'expanded_url': 'http://instagram.com/maydaymindy9',
                                                           'indices': [0, 23],
                                                           'url': ''}]}},
                'favourites_count': 50340,
                'follow_request_sent': False,
                'followers_count': 76027,
                'following': False,
                'friends_count': 60926,
                'geo_enabled': True,
                'has_extended_profile': False,
                'id': 825776310790266883,
                'id_str': '825776310790266883',
                'is_translation_enabled': False,
                'is_translator': False,
                'lang': 'en',
                'listed_count': 144,
                'location': 'East Coast',
                'name': 'Mayday Mindy üåä',
                'notifications': False,
                'profile_background_color': '000000',
                'profile_background_image_url': 'http://abs.twimg.com/images/themes/theme1/bg.png',
                'profile_background_image_url_https': 'https://abs.twimg.com/images/themes/theme1/bg.png',
                'profile_background_tile': False,
                'profile_banner_url': 'https://pbs.twimg.com/profile_banners/825776310790266883/1486309186',
                'profile_image_url': 'http://pbs.twimg.com/profile_images/1091152293033058305/6Ivr9Ghh_normal.jpg',
                'profile_image_url_https': 'https://pbs.twimg.com/profile_images/1091152293033058305/6Ivr9Ghh_normal.jpg',
                'profile_link_color': 'F58EA8',
                'profile_sidebar_border_color': '000000',
                'profile_sidebar_fill_color': '000000',
                'profile_text_color': '000000',
                'profile_use_background_image': False,
                'protected': False,
                'screen_name': 'maydaymindy9',
                'statuses_count': 19555,
                'time_zone': None,
                'translator_type': 'none',
                'url': '',
                'utc_offset': None,
                'verified': False}}
Didn't get the full text from that
</code></pre>
<p>You can see the <code>'full_text'</code> attribute in there, you can see it is a <code>dict</code> and the <code>length</code> appears to be right, but any attempt at <code>has_attr</code> or accessing that element in the <code>._json</code> <code>dict</code> behaves as though it doesn't exist. Any idea what is going wrong here?</p>
</div>
<div class="post-text" itemprop="text">
<p>Assuming <code>tweet</code> is effectively dictionary-like, then just try <code>if 'full_text' in tweet</code>. <code>'full_text'</code> appears to be a dictionary key, which cannot be accessed like an attribute on the object itself. </p>
<p>Here's a short demonstration </p>
<pre><code>&gt;&gt;&gt; blah = {'a': 2}
&gt;&gt;&gt; hasattr(blah, 'a')
False
&gt;&gt;&gt; 'a' in blah
True
</code></pre>
<p>The point is that an attribute and a dictionary key are not the same thing. Here are the attributes of that same dictionary:</p>
<pre><code>&gt;&gt;&gt; dir(blah)
['__class__', '__cmp__', '__contains__', '__delattr__', '__delitem__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__init__', '__iter__', '__le__', '__len__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', 'clear', 'copy', 'fromkeys', 'get', 'has_key', 'items', 'iteritems', 'iterkeys', 'itervalues', 'keys', 'pop', 'popitem', 'setdefault', 'update', 'values', 'viewitems', 'viewkeys', 'viewvalues']
</code></pre>
<p>You will note that none of them is <code>'a'</code>. On the other hand, <code>'a'</code> is in the list of keys:</p>
<pre><code>&gt;&gt;&gt; blah.keys()
['a']
</code></pre>
<p>When you type <code>if 'a' in blah</code> that's effectively saying <code>if 'a' in blah.keys()</code>. Take a look at the Python doc if you'd like to learn more: <a href="https://docs.python.org/2/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">Python 2</a> and <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">Python 3</a></p>
</div>
<span class="comment-copy">First, <code>full_text</code> is a <i>dictionary key</i>, not an <i>attribute</i>.  Second, you're pretty-printing <code>fullTweet</code>, not <code>tweet</code>.</span>
<span class="comment-copy">Ok, but doing has_attr(fullTweet._json, 'full_text') returns false in the next line of code after the pretty print of fullTweet._json.</span>
<span class="comment-copy">See <a href="https://github.com/tweepy/tweepy/issues/974#issuecomment-354179198" rel="nofollow noreferrer">github.com/tweepy/tweepy/issues/974#issuecomment-354179198</a></span>
<span class="comment-copy">Dictionary keys are not the same thing as attributes.</span>
<span class="comment-copy">Guys, it throws an AttributeError when I try to get it, calm down! ;)</span>
