<div class="post-text" itemprop="text">
<p>I have a 2 dimensional list like this :</p>
<pre><code>list1 = [[2,4,6,8,9],[8,9,10,12,15],[8,9,4,20,25]]
</code></pre>
<p>I want to sum every element of every row with another row and outcome is like this:</p>
<pre><code>outcome_list = [[10,13,16,20,24],[16,18,14,32,40],[10,13,20,28,34]]
</code></pre>
<p>My code is this:</p>
<pre><code>d = len(list1) 

for i in range(0, d-1):
    list2 = list[i][:] + list[i+1][:]
</code></pre>
<p>But it does not work.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can pair the sub-lists by zipping the list with itself but with the items rotated to the right, and <code>map</code> the pairs to the <code>operator.add</code> method in a list comprehension:</p>
<pre><code>from operator import add
[list(map(add, *p)) for p in zip(list1, list1[1:] + list1[:1])]
</code></pre>
<p>This returns:</p>
<pre><code>[[10, 13, 16, 20, 24], [16, 18, 14, 32, 40], [10, 13, 10, 28, 34]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>That can be done like:</p>
<h3>Code:</h3>
<pre><code>list1 = [[2, 4, 6, 8, 9], [8, 9, 10, 12, 15], [8, 9, 4, 20, 25]]

print([[sum(l) for l in zip(list1[i], list1[(i+1) % len(list1)])]
       for i in range(len(list1))])
</code></pre>
<h3>Results:</h3>
<pre><code>[[10, 13, 16, 20, 24], [16, 18, 14, 32, 40], [10, 13, 10, 28, 34]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip()</code></a> with a list-comprehension:</p>
<pre><code>list1 = [[2,4,6,8,9],[8,9,10,12,15],[8,9,4,20,25]]

list1 = list1 + [list1[0]]
print([list(map(lambda x: sum(x), zip(x, y))) for x, y in zip(list1, list1[1:])])

# [[10, 13, 16, 20, 24], [16, 18, 14, 32, 40], [10, 13, 10, 28, 34]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this</p>
<pre><code>d = len(list1) 

for i in range(0, d-1):
    list2 = [a + b for a,b in zip(list[i],list[i+1])]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.roll.html" rel="nofollow noreferrer"><code>numpy.roll</code></a>:</p>
<pre><code>In [1]: import numpy as np

In [2]: a = np.array([[2,4,6,8,9],[8,9,10,12,15],[8,9,4,20,25]])

In [3]: a + np.roll(a, -1, axis=0)
Out[3]:
array([[10, 13, 16, 20, 24],
       [16, 18, 14, 32, 40],
       [10, 13, 10, 28, 34]])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here's one more way to do it using itertools which should work for any number of lists in list1:</p>
<pre><code>from itertools import combinations
list1   = [[2,4,6,8,9],[8,9,10,12,15],[8,9,4,20,25]]
outcome = [ list(map(sum,zip(*rows))) for rows in combinations(list1,2) ]
</code></pre>
</div>
<span class="comment-copy">how we can the outcome /  2 ?????</span>
<span class="comment-copy">I don't understand what you're saying. Can you trying saying it in a different way?</span>
<span class="comment-copy">i mean that when sum 2 element then  divide 2 and then print the outcome</span>
<span class="comment-copy">list = [[2,4,6],[[8,10,12],[14,16,18]] and now my outcome should be outcome = [[5,7,9],[11,13,15],[8,10,12]]</span>
<span class="comment-copy">You can do: <code>[[(a + b) // 2 for a, b in zip(*p)] for p in zip(list1, list1[1:] + list1[:1])]</code></span>
<span class="comment-copy">with this when my list1 become bigger the code product repetitious outcome!!!!!!!</span>
<span class="comment-copy">my list1 has 40 row and when run your code give the error list  index out of range !!!! have you any idea ????</span>
<span class="comment-copy">how can i append the outcome to another list???</span>
<span class="comment-copy">otherList += outcome  (has to be a list of list as well though)</span>
