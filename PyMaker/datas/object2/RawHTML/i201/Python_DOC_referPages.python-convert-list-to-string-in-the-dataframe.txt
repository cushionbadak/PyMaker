<div class="post-text" itemprop="text">
<p>I have bunch of list and string like texts in the cell value of the pandas data frame. I am trying to convert list to string, I am able to convert list to string, but its splitting the string as well. How do I only apply this logic if the cell contains list [] in the particular column?</p>
<pre><code>raw_data = {'Name': [['\'John Smith\''], ['\'Jane Doe\'']],
        'id': [['\'A1005\'','\'A1006\''], 'A200,A400,A500']}
dfRaw = pd.DataFrame(raw_data, columns = ['Name','id'])
dfRaw['Name'] = dfRaw['Name'].astype(str)
</code></pre>
<p>Data </p>
<pre><code>Name                    id
0   ["'John Smith'"]    ['A1005', 'A1006']
1   ["'Jane Doe'"]  A200,A400,A500
</code></pre>
<p>Need output like this: </p>
<pre><code>    Name                id
0   ["'John Smith'"]    'A1005','A1006'
1   ["'Jane Doe'"]      A200,A400,A500
</code></pre>
<p>But the code below is splitting string cell values too. </p>
<pre><code>dfRaw['id'] = dfRaw['id'].apply(lambda x: ','.join([str(i) for i in x]))

Name                     id
0   ["'John Smith'"]    'A1005','A1006'
1   ["'Jane Doe'"]  A,2,0,0,,,A,4,0,0,,,A,5,0,0
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> to generate a new list with the rows in <code>id</code> joining those entries that are lists using <a href="https://docs.python.org/2/library/string.html" rel="nofollow noreferrer"><code>string.join</code></a>.
You can check if an entry is a <code>list</code> using <a href="https://python-reference.readthedocs.io/en/latest/docs/functions/isinstance.html" rel="nofollow noreferrer"><code>isinstance</code></a>:</p>
<pre><code>df['id'] = [','.join(i) if isinstance(i, list) else i for i in df['id']]
</code></pre>
<p><b> Output </b></p>
<pre><code>       Name                    id
0  ['John Smith']          A1005,A1006
1    ['Jane Doe']        A200,A400,A500
</code></pre>
</div>
