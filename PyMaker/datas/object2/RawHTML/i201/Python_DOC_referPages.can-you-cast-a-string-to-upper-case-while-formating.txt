<div class="post-text" itemprop="text">
<h2><strong>Motivation</strong></h2>
<p>Suppose you have a string that is used twice in one string. However, in one case it is upper, and the other it is lower. If a dictionary is used, it would seem the solution would be to add a new element that is uppercase.</p>
<hr/>
<p>Suppose I have a python string ready to be formatted as:</p>
<pre><code>string = "{a}_{b}_{c}_{a}"
</code></pre>
<p>With a desired output of:</p>
<blockquote>
<p>HELLO_by_hi_hello</p>
</blockquote>
<p>I also have a dictionary ready as:</p>
<pre><code>dictionary = {a: "hello", b: "bye", c: "hi"}
</code></pre>
<p>Without interacting with the dictionary to set a new element <code>d</code> as being <code>"HELLO"</code> such as:</p>
<pre><code>dictionary['d'] = dictionary['a'].upper()
string = "{d}_{b}_{c}_{a}"
string.format(**dictionary)
print(string)
&gt;&gt;&gt; HELLO_bye_hi_hello
</code></pre>
<p>Is there a way to set element <code>a</code> to always be uppercase in one case of the string? For example something like:</p>
<pre><code>string= "{a:upper}_{b}_{c}_{a}"
string.format(**dictionary)
print(string)
&gt;&gt;&gt; HELLO_bye_hi_hello
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Nope, you can't do that. 
In the simplest solution, you can write a lambda to capitalize the values in your string. Or you can subclass strnig.Formatter if you really want to achieve your goal that way.</p>
<p>Following link can help if you are going for the harder method.
<a href="https://stackoverflow.com/questions/17848202/python-capitalize-a-word-using-string-format">Python: Capitalize a word using string.format()</a></p>
</div>
<span class="comment-copy">With <a href="https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals" rel="nofollow noreferrer"><code>f-strings</code></a> (Python &gt;= 3.6) you actually <i>can</i> do that: <code>d = {"a": "hello", "b": "bye", "c": "hi"}; print(f"{d['a'].upper()}_{d['b']}_{d['c']}_{d['a']}")</code>. Taken from <a href="https://stackoverflow.com/questions/33411002/python-error-str-object-has-no-attribute-upper">this Q&amp;A</a>. Without you restricting this question to a Python version below 3.6, I'm tempted to mark this as a duplicate (hence the comment instead of an answer).</span>
<span class="comment-copy">@shmee Unfortunately, I am working of 2.6.6, and I will mark it as such. As well, (I know a beggar shouldn't be a chooser) I'm not a huge fan of having to specify the dictionary name inside the print statement.</span>
<span class="comment-copy">The cleanest way I can think of would be: <code>string.format(**{**dictionary, 'a' : dictionary['a'].upper()})</code> where you expand two dictionaries, the inner expand takes care of the <code>upper()</code> call and the other just passes the dict to the format.</span>
<span class="comment-copy">I'm going to accept this answer as it seems clear that there is no true way to do it in python.</span>
