<div class="post-text" itemprop="text">
<p>I have a script saved as workspace.py</p>
<pre><code>import argparse
import os

if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument('title', type=str, help="Will be displayed as the title")
    parser.add_argument('-f', '--folder', help='Point to the folder you want to read from (defaults to current folder in command prompt)', type=str, default=os.getcwd())
    args = parser.parse_args()
    print(args)
    someFunction(args.folder, args.title)
</code></pre>
<p>Which I call from terminal with:</p>
<pre><code>workspace.py myTitle
</code></pre>
<p>Resulting in the error</p>
<blockquote>
<p>workspace.py: error: the following arguments are required: title</p>
</blockquote>
<p>I have no idea why this is happening because I supply "myTitle" in the terminal. If I specify a <code>default=</code> for the title argument it works perfectly with that value. The part that is throwing me is it doesn't even get to the <code>print(args)</code> so I cannot see what the program thinks is what, but instead fails at <code>args = parser.parse_args()</code></p>
<p>I tried to even redo the exact example at: <a href="https://docs.python.org/2/howto/argparse.html#introducing-positional-arguments" rel="nofollow noreferrer">https://docs.python.org/2/howto/argparse.html#introducing-positional-arguments</a> (copied below)</p>
<pre><code>import argparse
parser = argparse.ArgumentParser()
parser.add_argument("echo", help="echo the string you use here")
args = parser.parse_args()
print args.echo
</code></pre>
<p>Running</p>
<pre><code>workspace.py hello
</code></pre>
<p>Results in (after adding parenthesis to the print for 3.X)</p>
<blockquote>
<p>workspace.py: error: the following arguments are required: echo</p>
</blockquote>
<p>Is there something I'm missing? Why does it not just print "hello"? Is there some Python 3 specific syntax I'm missing or something?</p>
</div>
<div class="post-text" itemprop="text">
<p>I've gotten it to work if I run <code>python workspace.py someString</code> instead of <code>workspace.py someString</code>. I do not understand why this version works, since command prompt obviously recognizes it as Python and runs it correctly until <code>args = parser.parse_args()</code>. <strong>There were no errors</strong> like <code>'workspace.py' is not recognized as an internal or external command, operable program or batch file.</code> There was no problem importing modules either. Consider the below command prompt session if you are running into a similar error. Maybe you will simply have to include <code>python</code> in your commands like I have to...</p>
<pre><code>C:\Users\rparkhurst\PycharmProjects\Workspace&gt;workspace.py MyTitle
usage: workspace.py [-h] [-f FOLDER] title
workspace.py: error: the following arguments are required: title

C:\Users\rparkhurst\PycharmProjects\Workspace&gt;python workspace.py MyTitle
Namespace(folder='C:\\Users\\rparkhurst\\PycharmProjects\\Workspace', title='MyTitle')
</code></pre>
</div>
<span class="comment-copy">How are you executing the script? With both <code>python workspace.py myTitle</code> and <code>./workspace.py myTitle</code>, it works on my machine (â„¢).</span>
<span class="comment-copy">You could add, at the start, <code>import sys</code> and <code>print(sys.argv)</code>.  This shows us what the parser has to work with.  Also, what OS?  WIndows by any chance?</span>
<span class="comment-copy">@hpaulj I just did that and <code>workspace.py hello</code> results in <code>['C:\\Users\\me\\folder\\subfolder\\workspace.py']</code> Shouldn't there be a second item in this list of "hello"? I'm on Windows 10</span>
<span class="comment-copy">Windows command window requires (or at least required) some special handling to pass arguments on through when using <code>batch</code> and <code>shebang</code> notation.  But my memory of that dates way back to 3.2 :(  <a href="https://docs.python.org/3/using/windows.html#arguments-in-shebang-lines" rel="nofollow noreferrer">docs.python.org/3/using/windows.html#arguments-in-shebang-lines</a></span>
<span class="comment-copy">What does <code>ftype | findstr -i python</code> output in your (<i>cmd</i>) terminal?</span>
