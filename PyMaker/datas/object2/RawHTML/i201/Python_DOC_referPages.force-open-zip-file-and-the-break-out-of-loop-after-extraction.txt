<div class="post-text" itemprop="text">
<p>Here is my task:</p>
<blockquote>
<p>Sample Alien Zip file found at /tmp/alien-zip-2092.zip is password protected
  We have worked out they are using three digit code
  Brute force the Zip file to extract to /tmp</p>
</blockquote>
<p>My code so far:</p>
<pre><code>from zipfile import ZipFile

for i in range(0,999):
  with ZipFile('/tmp/alien-zip-2092.zip') as zf:
      zf.extractall(pwd = i)
</code></pre>
<p>How do I break out of the loop after the password and extraction  is successful.</p>
</div>
<div class="post-text" itemprop="text">
<p>Entering a wrong password raises a ValueError (<a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.extractall" rel="nofollow noreferrer">documentation</a>)</p>
<p>So you can put the unzip in a try block, pass over the exception if the password is bad, and break out of the loop when extraction was successful.</p>
<pre><code>    from zipfile import ZipFile

    zf = ZipFile('/tmp/alien-zip-2092.zip')

    for i in range(0,999):
            try:
                    # the code must be 3 digits, so prefix with 0's
                    pw = '00' + str(i)
                    pw = pw[-3:]
                    zf.extractall(pwd = pw.encode())
                    print("Password: " + pw)
                    break
            except Exception:
                    pass
</code></pre>
<p>I tested this code, note that the password has to be encoded as a byte string.<br/>
If you print out the exception it reads: </p>
<blockquote>
<p>Bad password for file [and some file info]</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>try to use <code>break</code> to break out of a loop.</p>
<pre><code>from zipfile import ZipFile

for i in range(0,999):
  with ZipFile('/tmp/alien-zip-2092.zip') as zf:
      zf.extractall(pwd = i)
      break
</code></pre>
</div>
<span class="comment-copy">Are you asking how to break out of a loop, or how to tell if the extraction was successful?</span>
<span class="comment-copy">How do I extract to a specific file?</span>
<span class="comment-copy">check right above in the same documentation. Instead of <code>extractall()</code>, you can use <code>extract()</code> to provide a filename to extract just that file: <code>zf.extract(member='file.txt', pwd = str(i).encode())</code></span>
<span class="comment-copy">This doesn’t work</span>
<span class="comment-copy">It does work, I have tested it. Your statement isn't helpful, do you get an error? If not, I you should first create a testzip so you can use and understand the code I've given.</span>
<span class="comment-copy">I don’t get an error doesn’t say it is successful</span>
