<div class="post-text" itemprop="text">
<p>I am about to implement a class in python that reads lines from a text file and different variables should be loaded depending on the name of the command. Example: </p>
<pre><code>---- command_name_1 ----
field 1:
field 2: 
field 3:
---- command_name_2 ----
field 4:
field 5: 
---- command_name_1 ----
field 1:
field 2: 
</code></pre>
<p>The number of fields in each command is not necessarily the same, and there are about ten different commands, which should load the data in different ways. The file is too big to load with .readlines(). I was wondering if there is any clever way of doing this, as a design pattern to do such a task? </p>
</div>
<div class="post-text" itemprop="text">
<p>For very large files I'd recommend you use <a href="https://docs.python.org/3/tutorial/classes.html#generators" rel="nofollow noreferrer">yield</a>. Here's an example:</p>
<pre><code>def read_in_chunks(file_object, chunk_size=1024):
"""Read a file piece by piece. Default chunk size: 1k."""
while True:
    data = file_object.read(chunk_size)
    if not data:
        break
    yield data

f = open('really_big_file.dat')
for piece in read_in_chunks(f):
    process_data(piece)
</code></pre>
<p>That should let you read the file easily. You can modify this code to include a Switch where every case could be a command, and there you could perform whatever operations you would need.</p>
</div>
