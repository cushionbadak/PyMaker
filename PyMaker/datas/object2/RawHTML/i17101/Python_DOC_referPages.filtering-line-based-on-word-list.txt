<div class="post-text" itemprop="text">
<p>Hi I have this code that filters all lines for one specific word ('test', I was wondering if anyone could help by explaining how to filter lines with more than just a single word, so if I had a file listing all the filter words and a source file I would be able to display all the source lines that had any of the filter words within it. Thanks! </p>
<pre><code>def cat(openfile):
  with open(openfile) as file:
    return file.read()

def getlinewith(filecontents, containing):
  for item in filecontents.split('\n'):
    if containing in item:
      yield item.strip()

matchedlines = []

for line in getlinewith(cat('C\\testdata_all.txt'), 'test'):
   print(line)
   matchedlines.append(line)

print(matchedlines)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>using <a href="https://docs.python.org/3/library/functions.html#any" rel="nofollow"><code>any</code></a>:</p>
<pre><code>def getlinewith(filecontents, containings):
  for item in filecontents.split('\n'):
    if any(containing in item for containing in containings):
      # `any` will return `True` as soon as it find a match
      yield item.strip()

matchedlines = []

for line in getlinewith(cat(r'C:\testdata_all.txt'), ['test', 'other_word']):
    ...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>any()</code> and <code>in</code> operator:</p>
<pre><code>lines = """
rumpelstiltskin foo bar
hansel rumpelstiltskin 
gretchel bar
hansel foo
""".splitlines()

seek = ['foo', 'bar']

for line in lines:
    if any(word in line for word in seek):
        print line

print [line for line in lines if any(word in line for word in seek)]
</code></pre>
<p>Output:</p>
<pre><code>rumpelstiltskin foo bar
gretchel bar
hansel foo
['rumpelstiltskin foo bar', 'gretchel bar', 'hansel foo']
</code></pre>
</div>
<span class="comment-copy">So what is your problem?</span>
<span class="comment-copy">Sorry that the method above only takes a single word rather than a 100 for example</span>
<span class="comment-copy">Off-topic: In your example are you looking for a line containing the word 'test' or  for any line that has 'test' in it? Because what you have will also match lines with words like: 'contest', 'protest', 'tested', and so on...</span>
<span class="comment-copy">ah i see, not test was just an example but thats good to know for other words thanks!</span>
