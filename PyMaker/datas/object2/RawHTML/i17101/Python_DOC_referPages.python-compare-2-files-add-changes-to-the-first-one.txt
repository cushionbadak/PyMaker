<div class="post-text" itemprop="text">
<p>I'm looking for a smart script to compare 2 files. My idea is the following: Take file 1 as original. File 2 is a newer version, so compare file 1 to file 2 and add all changes to file 1. BUT: It is possible that file 2 contains less entries than file 1. The entries which are not in file 2 should not be removed in file 1. 
Is this comprehensible? ;)</p>
<p>Thanks a lot for any help! </p>
</div>
<div class="post-text" itemprop="text">
<p>Well, if it is really python question, there is a <a href="https://docs.python.org/3/library/difflib.html" rel="nofollow">difflib</a> library </p>
</div>
<div class="post-text" itemprop="text">
<p>Check out <a href="https://docs.python.org/2/library/difflib.html" rel="nofollow">difflib</a></p>
<pre><code>This module provides classes and functions for comparing sequences. It can be used for example, for comparing files, and can produce difference information in various formats, including HTML and context and unified diffs. For comparing directories and files.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As others have mentioned difflib is the way to go.  Here's an example:</p>
<pre><code># compare two files
import difflib

d = difflib.Differ()

lines1 = [line for line in file('test1.txt')]
lines2 = [line for line in file('test2.txt')]

results = list(d.compare(lines1,lines2))

newfile_lines = []

for result in results:
    operation = result[:2]
    line = result[2:]

    if operation == '- ': # in first file, not in second
        newfile_lines.append(line)
    elif operation == '  ': # in both files
        newfile_lines.append(line)
    elif operation == '+ ': # only in second file
        newfile_lines.append(line)

file('test1_with_updates.txt','w').writelines(newfile_lines)
</code></pre>
</div>
<span class="comment-copy">Sounds hard. Just use <a href="https://sourcegear.com/diffmerge/" rel="nofollow noreferrer">DiffMerge</a>.</span>
<span class="comment-copy">What are the two files? CSV files?</span>
