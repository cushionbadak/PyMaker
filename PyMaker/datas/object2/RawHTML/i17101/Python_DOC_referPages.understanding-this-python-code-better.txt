<div class="post-text" itemprop="text">
<pre><code>import urllib
from xml.etree.ElementTree import parse
candidates = ['4198', '4168']
daves_latitude = 41.98062

def distance(lat1, lat2):
    'Return distance in miles between two lats'
    return 69*abs(lat1 - lat2)

def monitor():
    u = urllib.urlopen('http://ctabustracker.com/bustime/map/getBusesForRoute.jsp?route=22')
    doc = parse(u)
    for bus in doc.findall('bus'):
        busid = bus.findtext('id')
        if busid in candidates:
            lat = float(bus.findtext('lat'))
            dis = distance(lat, daves_latitude)
            print busid, dis, 'miles'

    print '-'*10

import time
while True:
    monitor()
    time.sleep(60)
</code></pre>
<p>I did this exercise based on a real life problem. Dave forgets his case in the bus, and he wants to find out wich one of the canditate buses is carrying the lost case. I understand the code, but I can't find out the relationship between the first function and the second one, as </p>
<p><code>def distance(lat1, lat2):
        'Return distance in miles between two lats'
        return 69*abs(lat1 - lat2)</code></p>
<p>I understand what monitor() does but not the relationship between distance() and monitor() and how they interact to show the results, can you please enlighten me ? I am a n00b.</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>Each degree of latitude is approximately <a href="http://geography.about.com/library/faq/blqzdistancedegree.htm" rel="nofollow">69 miles</a> (111 kilometers) apart. So, <code>lat1</code> is a latitude of bus and the second <code>lat2</code> is a Daves latitude. By requesting this url in <code>monitor</code> you got latitude of bus, and then, using <code>distance</code> function, you got the distance in miles.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html#abs" rel="nofollow">abs()</a> is the absolute value of a number.</p>
<p>^ little link there for python 3 works the same for python 2.</p>
<p>if your looking for the meaning of <a href="https://www.youtube.com/watch?v=w-5R2Cze-Wc" rel="nofollow">absolute value</a> &lt;- that link there shows you a video. </p>
</div>
<span class="comment-copy">Ok, got it now. Things I don't understand yet : what is "abs" ? and why when we create distance() we assign parameters lat1 and lat2 ? Wouldn't it be the same writing lat and daves_latitude instead ?</span>
<span class="comment-copy">Yes, you are right about second parameter - in this case it's always same value. For such a basic function as "abs" I would recommend using built-in help function before asking any questions - just type «help('abs')» in python console</span>
