<div class="post-text" itemprop="text">
<p>I want to change the cidr for a specific range in my python script to another cidr
like I have the ranges :</p>
<pre><code>8.0.0.0/8
9.0.0.0/9
</code></pre>
<p>I want to devide this cidrs to a /10 cidr through my python script and show the result like this</p>
<pre><code>8.0.0.0/10
8.64.0.0/10
8.128.0.0/10
8.192.0.0/10
9.0.0.0/10
9.64.0.0/10
</code></pre>
<p>as i know the cidr /8 should be converted to 4 cidrs /10</p>
<p>any help in that ? i am new in networking and i do not know how to do that at all or how to code it through python .</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>I would suggest to use the <a href="https://pypi.python.org/pypi/netaddr"><code>netaddr</code></a> module.</p>
<p>See its <a href="https://pythonhosted.org/netaddr/tutorial_01.html">documentation</a>, particularly the section <a href="https://pythonhosted.org/netaddr/tutorial_01.html#supernets-and-subnets">Supernets and subnets</a>.</p>
<p>Example:</p>
<pre><code>from netaddr import IPNetwork

net = IPNetwork('8.0.0.0/8')

subnets = net.subnet(10)
for subnet in subnets:
    print subnet
</code></pre>
<p>Output:</p>
<pre><code>8.0.0.0/10
8.64.0.0/10
8.128.0.0/10
8.192.0.0/10
</code></pre>
<p>Notice that <code>net.subnet()</code> returns a <a href="https://wiki.python.org/moin/Generators">generator</a> object. So you'll have to iterate over it, and once you do, it'll be exhausted. If you don't want that, create a list from it using <code>list(net.subnet())</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>In Python 3.3+, using <a href="https://stackoverflow.com/questions/22645852/python-convert-cidr#comment34491921_22646110">suggested by @Thomas Orozco</a> <a href="http://docs.python.org/3/library/ipaddress" rel="nofollow noreferrer"><code>ipaddress</code> module</a>:</p>
<pre><code>#!/usr/bin/env python3
import ipaddress
import fileinput

for line in fileinput.input():
    for subnet in ipaddress.ip_network(line.strip()).subnets(new_prefix=10):
        print(subnet)
</code></pre>
<p>Example:</p>
<pre><code>$ ./convert-cidr input.txt
</code></pre>
<h3>Output</h3>
<pre>
8.0.0.0/10
8.64.0.0/10
8.128.0.0/10
8.192.0.0/10
9.0.0.0/10
9.64.0.0/10
</pre>
</div>
<span class="comment-copy">Did you google? What did you find? Why was it not suitable?</span>
<span class="comment-copy">Can we assume at least Python 3.3 these days? So you can use the excellent <code>ipaddress</code> module</span>
<span class="comment-copy">Note that in case you're using Python 3.3 or greater, the <a href="http://docs.python.org/dev/library/ipaddress" rel="nofollow noreferrer"><code>ipaddress</code></a> module has similar functionality: <code>ipaddress.IPv4Network("8.0.0.0/8").subnets(2)</code>, and is included in the standard library.</span>
<span class="comment-copy">@ThomasOrozco good to know, thanks for pointing that out!</span>
<span class="comment-copy">Works like a magic also on IPv6.</span>
