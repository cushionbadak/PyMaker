<div class="post-text" itemprop="text">
<p>I have shakespeare's full works data from <a href="https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiltOu_wa7WAhUKN48KHVyWDIAQFggzMAE&amp;url=https%3A%2F%2Focw.mit.edu%2Fans7870%2F6%2F6.006%2Fs08%2Flecturenotes%2Ffiles%2Ft8.shakespeare.txt&amp;usg=AFQjCNEfRTHs2tqc-_fknloRt_HT-wC1ag" rel="nofollow noreferrer">here</a> that I want to use in a word embedding algorithm to create a model. The model's requirement is that the whole text be provided with only single spaces present and no other kind of whitespaces be present. How can I perform this? I found how to do this for a single string but it isn't working for a text file.</p>
<p>My try(I am not very knowledgeable of python):</p>
<pre><code>with open(file_path, 'r') as data:
    for line in data:
        cleanedline = line.strip('\n')
</code></pre>
<p>The cleanedline doesnt have the <code>\n</code> removed when printed, so I didn't write them back into file.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could try a regular expression:</p>
<pre><code>import re

with open(file_path) as data:
    text = re.sub(r'\s+', ' ', data.read())
</code></pre>
<p>The <code>\s+</code> regular expression pattern will match any sequence of one or more whitespace characters. <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer"><code>re.sub()</code></a> will substitute the matching text for a single space.</p>
<p>Whitespace consists of characters such as space, tab, new line, return, form feed, vertical tab etc. It does not include punctuation.</p>
<p>Another way to do this without regex is to use <code>split()</code> then <code>join()</code>:</p>
<pre><code>with open(file_path) as data:
    text = ' '.join(data.read().split())
</code></pre>
</div>
<span class="comment-copy">so, all newlines and other whitespaces should be replaces with a single space?</span>
<span class="comment-copy">Yes, its <a href="https://github.com/stanfordnlp/GloVe/blob/master/src/README.md" rel="nofollow noreferrer">glove</a> model</span>
<span class="comment-copy">@leehuang: it worked for me. What is the error that you see, or what didn't work?</span>
<span class="comment-copy">Thanks, it worked for me, I was doing some mistake in my own code.</span>
