<div class="post-text" itemprop="text">
<p>My regex is only matching when I don't include 'or' options; however I need to include that because I will need to match different strings.</p>
<pre><code>entries[0] = 'ephname = /share/old/eph/2004A.1770.comb'
print re.search(r'\s?ephname\s?=\s?.*?\.s(\d+).*?\s?|\s?ephname\s?=\s?.*?(\d+)
\.comb\s?', entries[0]).group(1)
&gt;&gt;&gt; None
</code></pre>
<p>But if I do this instead it works:</p>
<pre><code>print re.search(r'\s?ephname\s?=\s?.*?(\d+)\.comb\s?', entries[0]).group(1)
&gt;&gt;&gt; 1770
</code></pre>
<p>I can't figure out why the first attempt isn't matching anything. Anyone know why?</p>
</div>
<div class="post-text" itemprop="text">
<p>It <em>is</em> matching; it returned a <em>match</em> object, not <code>None</code>; and you call <code>.group(1)</code> on that match object.</p>
<p>However the problem here that there are now <em>2</em> capture groups. The first is in the first branch, and the second in the second branch.</p>
<p>You can store the match into a variable, then use the <a href="https://docs.python.org/3/library/re.html#re.match.lastindex" rel="nofollow noreferrer"><code>lastindex</code> property</a> to get the index of the last matched capturing group:</p>
<pre><code>m = re.search(r'\s?ephname\s?=\s?.*?\.s(\d+).*?\s?'
              r'|\s?ephname\s?=\s?.*?(\d+)\.comb\s?', entries[0])
if m:
    print(m.group(m.lastindex))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In the first regex, group 1 is before the <code>|</code>, so it’s in a branch that contains <code>\.s</code>. No part of your string can match that (you don’t have a literal <code>.</code> followed by a literal <code>s</code>), so that entire branch fails. The other branch succeeds, but it has a different group number to let you know which alternative worked.</p>
</div>
<span class="comment-copy">Because <a href="https://regex101.com/r/Gc2KzX/1" rel="nofollow noreferrer">it is in Group 2 if you use your first regex</a>.</span>
<span class="comment-copy">Ah, thank you! Is there a way I can get it to print only whichever group is not None?</span>
<span class="comment-copy">No idea what your requirements are, but maybe <a href="https://ideone.com/RCyj1B" rel="nofollow noreferrer">this</a> will help.</span>
