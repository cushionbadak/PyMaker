<div class="post-text" itemprop="text">
<p>so im stuck with this code, point of it is that you enter car name and amount of car that you want to rent but i can figure out how to change string in .txt file after you rent cars</p>
<pre><code>def rental():
with open('cars.txt', 'r') as file:   # cars.txt example: 
                                      # bmw:320:red:new:6
        name = input('Car name: ')
        for line in file:
            s = line.split(':')`enter code here`
            if name == s[0] :
                amount = eval(input('Amount of cars'))
                if amount &gt; int(s[4]):
                    print('Amount is too big')

                else:
                    t = str(int(s[4])-int(kolicina))
                    line.replace(s[4], t)           
        else:
            print('Car does not exist') 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you call open with 'r', it will be in read-only mode, so use 'r+' if you want to be able to write to the file, like so: <code>open('cars.txt', 'r+')</code>.
Also, <code>line.replace</code> will return a copy of the string, and not replace the line in your file.
To replace it, the easiest is just to read everything in, change the line you want changed, and then write it out again. Otherwise you can also use the <a href="https://docs.python.org/3/library/linecache.html" rel="nofollow noreferrer">linecache</a> module to jump directly to the right line again.
If at all possible, I suggest reading in the file at the start of the program and keeping all the info in RAM while the program is running, only writing it to file at the very end (or when explicitly asked to do so), since file access is slow.</p>
</div>
<span class="comment-copy">You should take a look at <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/125703/how-to-modify-a-text-file">How to modify a text file?</a></span>
<span class="comment-copy">Maybe OT, but this code needs refactoring: you should ask and validate user input before working with the file</span>
