<div class="post-text" itemprop="text">
<p>How to count how many times a word appears in a string at a column with Python? For example:</p>
<pre><code>file|context
----|-------
1   | Hello world
2   | Round and round
</code></pre>
<p>I want to calculate the occurrence of the words:</p>
<pre><code>file| context         | word_count
----|-----------------|---------------------
1   | Hello world     | {'hello':1,'world':1}
2   | Round and round | {'round':2,'and':1}
</code></pre>
<p>I have been stuck on it for the whole day and tried to use value_counts() and Counter. Still can't figure it out. Any help?</p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer"><code>collections.Counter</code></a> on a lower case version of the split string:</p>
<pre><code>from collections import Counter

s = 'Round and round'
counts = Counter(s.lower().split())
print(dict(counts))
</code></pre>
<p>Output:</p>
<pre>
{'and': 1, 'round': 2}
</pre>
<p>Next you need to adapt this to work with your data. The data format seems to use fixed width fields, so the context column starts at position 7. Assuming the data comes from a file:</p>
<pre><code>with open('data') as f:
    next(f)    # skip the header
    next(f)    # skip the border
    # print new header and border

    for line in f:
        counts = Counter(line[6:].lower().split())
        print('{} | {}'.format(line, dict(counts)))
</code></pre>
<p>There's some work to do to properly format the counts into the output column.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use python in-build function <code>Counter</code> for this purpose.</p>
<pre><code>In [5]: from collections import Counter

In [6]: string = 'Hello world'

In [9]: count = Counter(string.lower().split())

In [10]: print(dict(count))
{'world': 1, 'hello': 1}
</code></pre>
<p>Convert words into <code>lowercase</code> because <code>Counter</code> consider uppercase and lowercase differently. </p>
</div>
<div class="post-text" itemprop="text">
<p>Below one gives the count of number of times word appear in string</p>
<pre><code>str = "Round and round"
dict1={}
for eachStr in str.split():
    if eachStr.lower() in dict1.keys():
        count = dict1[eachStr]
        count = count + 1
        dict1[eachStr.lower()] = count
    else:
        dict1[eachStr.lower()] = 1
print dict1
</code></pre>
<p>OUTPUT:</p>
<pre><code>{'and': 1, 'round': 2}
</code></pre>
</div>
<span class="comment-copy">How did you try to use Counter and value_counts()?</span>
<span class="comment-copy">What sort of data structure are you showing? You'll get very different answers if you're discussing parsing a text table versus working on something like a <code>pandas</code> dataframe. Add appropriate tags, perhaps (<code>string</code> and <code>count</code> are pretty useless here).</span>
<span class="comment-copy">Thank you for the info. It helped a lot!</span>
<span class="comment-copy">Thank you for your help!</span>
