<div class="post-text" itemprop="text">
<p>I wanted to use a string in global scope inside a function.
I read somewhere that different scopes have different values for their respective local variables even if they have the same name.</p>
<p>But in my case, I am getting something like this</p>
<p><a href="https://i.stack.imgur.com/hyqZk.png" rel="nofollow noreferrer">https://i.stack.imgur.com/hyqZk.png</a> (this link contains the image)</p>
</div>
<div class="post-text" itemprop="text">
<p>From the <a href="https://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python" rel="nofollow noreferrer">Python FAQ</a>:</p>
<blockquote>
<p>In Python, variables that are only referenced inside a function are implicitly global. If a variable is assigned a value anywhere within the function’s body, it’s assumed to be a local unless explicitly declared as global.</p>
<p>Though a bit surprising at first, a moment’s consideration explains this. On one hand, requiring global for assigned variables provides a bar against unintended side-effects. On the other hand, if global was required for all global references, you’d be using global all the time. You’d have to declare as global every reference to a built-in function or to a component of an imported module. This clutter would defeat the usefulness of the global declaration for identifying side-effects.</p>
</blockquote>
<p>So the <code>printscr</code> function can see the variable in the global scope, but if you try to modify the value of <code>string</code>, you get an <code>UnboundLocalError</code> because the name doesn't exist in the local scope and you may not modify the global variable from inside the function.</p>
<pre><code>def printscr():
    # No local name `string` exists and can't assign to the global variable.
    string += 2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Have a look at code below</p>
<pre><code>def printstr():
    print string

string = 1
printstr() 
</code></pre>
<blockquote>
<p>output</p>
<p>1</p>
</blockquote>
<p>However if you try to update the value in the function, that will exist only in local scope</p>
<pre><code>def printstr():
    string =+ 1
    print string

string = 1
printstr()
print string
</code></pre>
<blockquote>
<p>output</p>
<p>2</p>
<p>1</p>
</blockquote>
<p>so string outside printstr still holds 1</p>
<p>to update value globally</p>
<pre><code>def printstr():
    global string
    string =+ 1
    print string

string = 1
printstr()
print string
</code></pre>
<blockquote>
<p>output</p>
<p>2</p>
<p>2</p>
</blockquote>
<p>We have to use global keyword to refer the global scoped variable, I hope this clarifies your doubt</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/8883000/global-variable-in-python">Global Variable in Python</a></span>
<span class="comment-copy">Also relevant - <a href="https://stackoverflow.com/questions/291978/short-description-of-the-scoping-rules" title="short description of the scoping rules">stackoverflow.com/questions/291978/…</a></span>
<span class="comment-copy">First, please post code <i>as formatted text</i>. Do <b>not</b> post links to images of code. Second, in your example, the variable <i>is defined globally</i> so I don't really understand your question.</span>
<span class="comment-copy">I would suggest going and doing some research on Python scoping rules. There are plenty of questions on this site that cover what you are asking. You can always come back with a question if you can't find the answer from an existing question.</span>
