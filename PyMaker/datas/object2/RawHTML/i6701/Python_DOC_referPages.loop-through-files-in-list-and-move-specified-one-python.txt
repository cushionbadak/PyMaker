<div class="post-text" itemprop="text">
<p>I have this code which show me all the .tif files in a folder I give.</p>
<pre><code>timestr = datetime.now().strftime('%Y%m%d-%H%M%S%f')    

ex_area_files = []
tif_files = glob.glob('C:\\Users\\Bob\\Desktop\\Folder\\' + str(timestr) + '\\EXTRACTED\\*.tif')
ex_area_files = [tif_files]
print(ex_area_files)
</code></pre>
<p>How can I move some specified ones (to another folder) ? I mean, I want to move all the .tif files which result of width*height is less/more than a certain value.</p>
<p>What I tried was to loop through the array and, after set the codition, move the files. All the result was a loop fail which blocked all the system :)</p>
<p>It follows...</p>
<pre><code>image = cv2.imread('image.jpg')
height = np.size(image, 0)
width = np.size(image, 1)

condition = (height*width) &gt; 9600
</code></pre>
<p>How can I also set <code>ex_area_files</code> (my .tif array) as directory of files from which cv2 can read ? And, more imporant, how to set a file at once ?</p>
<p>The files which satisfy the condition (images with values of 320*30px) should be moved to another directory. How to do it after the program decided that the file is ok to be moved ?</p>
<p>Thanks</p>
<p>Tip: this is a next step after this other piece of code: <a href="https://stackoverflow.com/questions/46192870/exclude-images-of-certain-dimensions-from-process-opencv-python">Exclude images of certain dimensions from process (OpenCV, Python)</a>
In this case, take a look at <code>ex_area14.png</code>. I want to move a series of files like that (but in .tif format..)</p>
</div>
<div class="post-text" itemprop="text">
<p>I recommend using <a href="https://docs.python.org/2/library/shutil.html" rel="nofollow noreferrer"><code>shutil</code></a> for moving files. To move them You can use <a href="https://docs.python.org/2/library/shutil.html#shutil.copy" rel="nofollow noreferrer"><code>shutil.copy()</code></a> - I Personally use <code>shutil.copy2()</code></p>
<p>so try something like this:</p>
<pre><code>    import shutil
    import opencv

    for files in ex_area_files:
        if files (PLACE YOUR CONDITION HERE):
            `shutil.copy('PATH_OF_file', 'PATH_OF_WHERE_TO_DROP')
</code></pre>
<p>EDIT:</p>
<p>So i personally like <code>os.walk()</code>, here i'm looping through the files, and if files endswith <code>.tif</code>, I will read the file with <code>imread</code> get the height and width, and check if that condition is met. You'll have to provide where you want to copy the files to. (Take note of <code>.replace()</code> - <code>imread</code> for some reason likes the slashes like <code>/</code> instead of <code>\</code>) </p>
<pre><code>import shutil
import opencv
import os

for root, dirs, files in os.walk(r'FOLDER HERE'):
    for file in files:
        if file.lower().endswith('.tif'):
            image = cv2.imread(root.replace('\\', '/') + '/' +file
            height = np.size(image, 0)
            width = np.size(image, 1)
            if height*width &gt; 9600:
                shutil.copy(root.replace('\\', '/') + '/' +file, 'PATH_OF_WHERE_TO_DROP')
</code></pre>
</div>
<span class="comment-copy">If you look through the documentation, you should find tools to help you get lists of files that you can iterate over or even tools that let you walk through directories.  You may want to spend some time working your way through <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">the Tutorial</a>.</span>
<span class="comment-copy">Thanks. It seems ok for shutil.. But how to use an array (looped for every file in the folder which satisfy condition) as PATH_OF_file? It's more than one..  Thank you</span>
<span class="comment-copy">@Link, I updated my code. I don't have <code>.tif</code> files so I can't check if it works in your specific example. The issue to watch out for is if <code>image</code> returns as <code>None</code>.</span>
<span class="comment-copy">Thank you so much. I will test in a few, will update this post and reply.</span>
<span class="comment-copy">it works, just that copy all tif files...seems that the condition &gt; 9600 don't work...I am looking at it now...  EDIT: the if condition must be outside for loop.</span>
<span class="comment-copy">A code like this satisfy the question: <a href="https://pastebin.com/pMTNYNjH" rel="nofollow noreferrer">code</a></span>
