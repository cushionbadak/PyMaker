<div class="post-text" itemprop="text">
<p>How to extract string (i.e. link with arguments) with "?" in it? When I tried to use :</p>
<pre><code>#!/usr/bin/python
# -*- coding: utf-8 -*-
import re
html = """
&lt;script type='text/javascript' src='http://www.somesite.com/wp-content/themes/Dessa/scripts/jquery.easing.1.3.js?ver=1.3'&gt;&lt;/script&gt;
&lt;a href="http://www.somesite.com/hard-circuit-editor-double-layout-design-now/"&gt;
"""
print re.findall( r'(href=|src=)"([^"]*)"', html, re.U)
print re.findall( r'(href=|src=)"(.*?)"', html, re.U)
</code></pre>
<p>string is just overlooked. It would be excellent to separate <code>?ver=1.3</code> in third group. Any help?</p>
</div>
<div class="post-text" itemprop="text">
<p>The attribute values are surrounded not only by <code>"</code>, but also <code>'</code>.</p>
<p>Modification to the regular expression is required:</p>
<pre><code>print re.findall( r'''(href=|src=)["']([^"']*)["']''', html, re.U)
</code></pre>
<p>use <code>["']</code> to match either <code>"</code> or <code>'</code>.</p>
<hr/>
<p><strong>UPDATE</strong></p>
<p>To get <code>ver=1.3</code> part, you'd better to use <a href="https://docs.python.org/2/library/urlparse.html#urlparse.urlparse" rel="nofollow"><code>urlparse.urlparse</code></a> (In Python 3.x, <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse" rel="nofollow"><code>urllib.parse.urlparse</code></a>).</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; import urlparse
&gt;&gt;&gt;
&gt;&gt;&gt; html = """
... &lt;script type='text/javascript' src='http://www.somesite.com/wp-content/themes/Dessa/scripts/jquery.easing.1.3.js?ver=1.3'&gt;&lt;/script&gt;
... &lt;a href="http://www.somesite.com/hard-circuit-editor-double-layout-design-now/"&gt;
... """
&gt;&gt;&gt; for attrname, value in re.findall(r'''(href=|src=)["']([^"']*)["']''', html, re.U):
...     print value, urlparse.urlparse(value).query
...
http://www.somesite.com/wp-content/themes/Dessa/scripts/jquery.easing.1.3.js?ver=1.3 ver=1.3
http://www.somesite.com/hard-circuit-editor-double-layout-design-now/
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It has nothing to do with the character <code>?</code> (and I'm not sure why you'd assume it does).</p>
<p>You don't use the character <code>"</code> to delimitate the URL, you use the character <code>'</code>. Just change the string to :</p>
<pre><code>html = """
&lt;script type='text/javascript' src="http://www.somesite.com/wp-content/themes/Dessa/scripts/jquery.easing.1.3.js?ver=1.3"&gt;&lt;/script&gt;
&lt;a href="http://www.somesite.com/hard-circuit-editor-double-layout-design-now/"&gt;
"""
</code></pre>
<p>And it will produce the correct result :</p>
<pre><code>&gt;&gt;&gt; print(re.findall( r'(href=|src=)"([^"]*)"', html, re.U))
[('src=', 'http://www.somesite.com/wp-content/themes/Dessa/scripts/jquery.easing.1.3.js?ver=1.3'), ('href=', 'http://www.somesite.com/hard-circuit-editor-double-layout-design-now/')]
</code></pre>
</div>
<span class="comment-copy">This works, but when I make it r'''(href=|src=)["']([^"']*)\?(.*?)["']''' to separate third group (after ?) it doesn't recognize other links. Can group be added non mandatory? Could you help, albeit your answer is correct?</span>
<span class="comment-copy">@Alex, I updated the answer, please check it out.</span>
<span class="comment-copy">Thank you, works beautiful...</span>
<span class="comment-copy">I didn't use any of " or ' but WordPress generates them. :( Upvote, however.</span>
<span class="comment-copy">The point of my answer was to point out what the problem was, but if you can't change the string, than falsetru's answer is clearly the thing to do here.</span>
<span class="comment-copy">Upvote, again, for your kindness. Long live Quebec!</span>
