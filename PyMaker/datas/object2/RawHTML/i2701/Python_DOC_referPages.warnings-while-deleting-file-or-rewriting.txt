<div class="post-text" itemprop="text">
<p>If I'm trying to write a file in directory which is already contains file with this name, is there a way to pretend rewriting or making it possible just with receiving permission? </p>
<p>For example: 
I calculated a file model.gz, but in my directory there is another file with this exact the same name, how can I in my .py script make this saving step a little bit more safely,  for example saving it with different name, like: model_(1).gz or something like this? </p>
<p>Thank you in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>os.path.exists</code> from the <a href="https://docs.python.org/3/library/os.html" rel="nofollow noreferrer"><code>os</code></a> module.</p>
<pre><code>import os
def convert_to_non_overlapping(name):
    query = name
    i = 1
    while os.path.exists(query):
        query = name + '({})'.format(i)
        i += 1
    return query
</code></pre>
<hr/>
<p>And a test shows its good:</p>
<pre><code>&gt;&gt;&gt; convert_to_non_overlapping('bob')
'bob'
&gt;&gt;&gt; open('bob', 'w') #creates file
&lt;_io.TextIOWrapper name='bob' mode='w' encoding='UTF-8'&gt;
&gt;&gt;&gt; convert_to_non_overlapping('bob')
'bob(1)'
&gt;&gt;&gt; open('bob(1)', 'w') #creates file
&lt;_io.TextIOWrapper name='bob(1)' mode='w' encoding='UTF-8'&gt;
&gt;&gt;&gt; convert_to_non_overlapping('bob')
'bob(2)'
</code></pre>
</div>
<span class="comment-copy">Please, comment your downvotes.</span>
<span class="comment-copy">I think it would be much nicer without the <code>if</code>.</span>
<span class="comment-copy">@Goyo Just updates (there was a bug anyway but now works good).</span>
<span class="comment-copy">Thank you for your answer! I thought there is a more "automated" way (like adding warning or smth like this). But thank you anyway! How could I know why my question was downvoted?</span>
<span class="comment-copy">I don't know the precise reason the question was downvoted, but likely because you hadn't attempted the problem which some people don't like... Anyway, since this answer does solve this problem, you should accept it. There is no way (as far as I know) of forcing the <code>open()</code> function to provide a warning.</span>
<span class="comment-copy">@DashaOrgunova the question says "saving it with different name" but the title says "warning". That is confusing.</span>
