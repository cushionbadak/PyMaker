<div class="post-text" itemprop="text">
<p>My code is supposed to tally up all the times a dinosaur bone is displayed in a .txt file but my code states  that all bones are displayed 0 times.</p>
<pre><code>print('Bones found:')
f=open('bones.txt')
bones = {line.replace('\n', ''): 0 for line in f}
for bone in f:
  if bone in bones:
    bones[bone]=bones[bone]+1

for y in bones:
  print(y+':'+str(bones[y]))
</code></pre>
<p>The bones.txt file is :</p>
<pre><code>Ankylosaurus
Pachycephalosaurus
Ankylosaurus
Tyrannosaurus Rex
Ankylosaurus
Struthiomimus
Struthiomimus
</code></pre>
<p>It says: </p>
<pre><code>Bones found:
Ankylosaurus:0
Pachycephalosaurus:0
Tyrannosaurus Rex:0
Struthiomimus:0
</code></pre>
<p>But supposed to say: </p>
<pre><code>Bones found:
Ankylosaurus: 3
Pachycephalosaurus: 1
Tyrannosaurus Rex: 1
Struthiomimus: 2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can only use an iterator (which is obtained by using <code>open(file.txt)</code> once. The following code should work for your case. This code makes use of a <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer">Counter</a>, which is included in the standard python libraries and is designed for counting occurrences of strings.</p>
<p><strong>By using a Counter</strong></p>
<pre><code># import the Counter so it can be used
from collections import Counter
# open the text file in read mode, by using this construct, 
# the lock will be released after the with-block to ensure 
# resources are freed correctly
with open("bones.txt") as file:
    # for every line in the file; remove the \n and insert it into the counter
    counts = Counter(line.strip() for line in file)

# print every key in the counter
for dinosaur in counts:
    print("{}: {}".format(dinosaur, counts[dinosaur]))
</code></pre>
<p><strong>By using a dictionary</strong></p>
<p>This code does not use a Counter, but operates exactly the same.</p>
<pre><code># open the text file in read mode, by using this construct, 
# the lock will be released after the with-block to ensure 
# resources are freed correctly
with open("bones.txt") as file:
    # create a dictionary to store the counts
    counts = dict()
    # iterate over every line in the file
    for line in file:
        # remove the \n from the line
        stripped = line.strip()

        if stripped in counts:
            # key already exists -&gt; increment it
            counts[stripped] += 1
        else:
            # key doesn't exist -&gt; add it
            counts[stripped] = 1

# print every key in the counts dictionary
for dinosaur in counts:
    print("{}: {}".format(dinosaur, counts[dinosaur]))
</code></pre>
<p><strong>Output</strong></p>
<pre><code>Pachycephalosaurus: 1
Struthiomimus: 2
Ankylosaurus: 3
Tyrannosaurus Rex: 1
</code></pre>
</div>
<span class="comment-copy">I'm a beginner. It's my 4th week.</span>
<span class="comment-copy">You've exhausted your file iterator, you can't loop over the file more than once.</span>
<span class="comment-copy">@MitchelPaulin that's fine, in this case, because they are looping over a <code>dict</code>.</span>
<span class="comment-copy">Also iterating over the file twice: once in the dict comprehension, a second time in the <code>for</code>.</span>
<span class="comment-copy">Is there a code without importing anything?</span>
<span class="comment-copy">@biwwibourdi I updated my answer to include a non-Counter answer too</span>
