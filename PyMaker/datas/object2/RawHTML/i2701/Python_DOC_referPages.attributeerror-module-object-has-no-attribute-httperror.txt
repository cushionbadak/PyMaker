<div class="post-text" itemprop="text">
<p>I made a Worksheet class using the spread python library. here is my code:</p>
<pre><code>from oauth2client.service_account import ServiceAccountCredentials
import time
import gspread
import requests
import os

DIRNAME = os.path.dirname(__file__)

class Wksh:

    credentials_google_sheet = ServiceAccountCredentials.from_json_keyfile_name(os.path.join(DIRNAME, 'credentials/gs_credentials.json'),['https://spreadsheets.google.com/feeds'])
    gc = gspread.authorize(credentials_google_sheet)    

    worksheet_id = None
    sheet_name = None
    sheet = None

    def __init__(self,wksh_id,sh_name):
        while True:
            try:
                self.worksheet_id = wksh_id
                self.sheet_name = sh_name
                self.sheet = self.gc.open_by_key(wksh_id).worksheet(sh_name)
                break
            except (gspread.exceptions.HTTPError, gspread.exceptions.requests, gspread.exceptions.RequestError) as e: 
                if e[0] == 401:
                    self.gc.login()
                elif e[0] == 500:
                    time.sleep(10)
                else:
                    print 'init'
                    print e
                    break
            except requests.exceptions.ConnectionError as e:
                time.sleep(10)
            except requests.exceptions.ChunkedEncodingError as e:
                time.sleep(20)

    def write(self,cell,value):
        while True:
            try:
                self.sheet.update_acell(cell,value)
                break
            except (gspread.exceptions.HTTPError, gspread.exceptions.requests, gspread.exceptions.RequestError) as e:
                if e[0] == 401:
                    self.gc.login()
                elif e[0] == 500:
                    time.sleep(10)
                else:
                    print 'write'
                    print e
                    break
            except requests.exceptions.ConnectionError as e:
                time.sleep(10)
            except requests.exceptions.ChunkedEncodingError as e:
                time.sleep(20)
</code></pre>
<p>This works fine but whenever there is a request error, even though I try to catch the error I get: </p>
<pre><code>AttributeError: 'module' object has no attribute 'RequestError' or 
AttributeError: 'module' object has no attribute 'HTTPError'
</code></pre>
<p>Why is this happening? Do I need to use <code>self.</code> before the exceptions? </p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>HTTPError was removed check gspread changes <a href="https://github.com/burnash/gspread/blob/87583c562dd3951122411f7029963e53ef16a610/HISTORY.rst#062-2016-12-20" rel="nofollow noreferrer">https://github.com/burnash/gspread/blob/87583c562dd3951122411f7029963e53ef16a610/HISTORY.rst#062-2016-12-20</a></p>
<p>Here you can see all available exceptions 
<a href="https://github.com/burnash/gspread/blob/master/gspread/exceptions.py" rel="nofollow noreferrer">https://github.com/burnash/gspread/blob/master/gspread/exceptions.py</a></p>
</div>
<span class="comment-copy">Well <a href="https://github.com/burnash/gspread/blob/master/gspread/exceptions.py" rel="nofollow noreferrer">that module doesn't contain an <code>HTTPError</code></a>. Maybe you want <a href="https://docs.python.org/3/library/urllib.error.html#urllib.error.HTTPError" rel="nofollow noreferrer"><code>urllib.error.HttpError</code> from the standard library</a>?</span>
<span class="comment-copy">thanks ! this was very helpful</span>
<span class="comment-copy">hey, i just got this error: AttributeError: 'module' object has no attribute 'APIError'. How do I fix this ? please help !!</span>
<span class="comment-copy">Could you provide line of code?</span>
<span class="comment-copy">this is the line of code: except gspread.exceptions.APIError as e:</span>
<span class="comment-copy">i'm basically catching the exception. I don't know if I am missing an import. I have imported gspread, and from oauth2client.service_account the ServiceAccountCredentials</span>
