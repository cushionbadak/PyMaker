<div class="post-text" itemprop="text">
<p>Is there an easier way of creating a dictionary on Python from a .txt file than this:</p>
<pre><code>for y in open('bones.txt'):
    bones={','.join(y:'0')}
</code></pre>
<p>where <code>bones.txt</code> contains:</p>
<pre><code>Ankylosaurus
Pachycephalosaurus
Ankylosaurus
Tyrannosaurus Rex
Ankylosaurus
Struthiomimus
Struthiomimus
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>with open("bones.txt") as f:
    my_dict = dict.fromkeys(f, '0')
</code></pre>
<p>Thanks for the suggustions and I get this answer above.</p>
<ol>
<li><p>use <code>dict</code> instead of <code>{}</code></p></li>
<li><p>Don't use <code>readlines</code>. The <code>file iterator</code> works</p></li>
</ol>
<p>to clean out <strong>line breaks</strong>, maybe we can use <code>os.linesep</code></p>
<pre><code>import os
with open("bones.txt") as f:
    my_dict = dict.fromkeys(map(lambda x: x.replace(os.linesep, ""), f), '0')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use a dict comprehension.</p>
<pre><code>with open('bones.txt') as f:
    bones = { line: 0 for line in f.read().splitlines() }
</code></pre>
<p><a href="https://docs.python.org/3/library/stdtypes.html#str.splitlines" rel="nofollow noreferrer">str.splitlines</a> does not include the newline character to the lines, so we don't have to strip it.</p>
</div>
<div class="post-text" itemprop="text">
<p>This method can also be modified to include values for keys without making it too complicated:</p>
<pre><code>bones = {}
for y in open('bones.txt'):
   bones[y.strip('\n')] = '0'
</code></pre>
</div>
<span class="comment-copy"><code>','.join(y:'0')</code> gives me a <code>SyntaxError</code> - what exactly is this line supposed to achieve?</span>
<span class="comment-copy">@MadPhysicist not in my case. Can it be due to Python version/OS? I'm using Python 3.5 on Ubuntu</span>
<span class="comment-copy">@MadPhysicist Yes, I've tried, I get something like this <code>['q\n', 'w\n', 'e\n', 'r\n', 't\n', 'y\n', '\n']</code> as the output</span>
<span class="comment-copy">@MadPhysicist I think it is common <a href="https://stackoverflow.com/questions/12330522/reading-a-file-without-newlines" title="reading a file without newlines">stackoverflow.com/questions/12330522/â€¦</a> I came to a cleaner solution with <code>splitlines()</code></span>
<span class="comment-copy">@MadPhysicist the file iterator doesn't strip anything, neither in python 2.7x nor in 3.6.5, so I doubt it does in 3.5.x.</span>
<span class="comment-copy">Why convert something that is already a string into a string?</span>
<span class="comment-copy">Why not use a with block when you really should?</span>
<span class="comment-copy">I wanted to do it keeping Op's approach. and newline character is there to strip. for your point 1, I made the edit. Thanks.</span>
<span class="comment-copy">OP came here to learn. It's up to you to instruct him not to make the mistakes he's making.</span>
<span class="comment-copy">When a vote sits for too long, you can't change it unless an edit is made to the post. I wanted to remove my downvote, so I made an edit that I considered to be harmless. If you want me to change the colon back to a period, I'd be more than happy to do it.</span>
