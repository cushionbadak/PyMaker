<div class="post-text" itemprop="text">
<p>i have the following code</p>
<pre><code>from requests import session

payload = {
    'action': 'login',
    'id': 'xxxxxxx',
    'password': 'xxxxxxx'
}

with session() as c:
    c.post('https://www.yalehomesystem.co.uk/homeportal/api/login/check_login', data=payload)
    response = c.get('https://www.yalehomesystem.co.uk/homeportal/api/panel/get_panel_mode')
    print(response.text)
</code></pre>
<p>which returns the following response</p>
<pre><code>{"result":"1","message":[{"area":"1","mode":"disarm"}],"code":""}
</code></pre>
<p>how do i return just the mode? (which is "disarm")</p>
<p>cheers</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/json.html#json.loads" rel="nofollow noreferrer"><code>json.loads()</code></a> function from the <code>json</code> module to parse the string into a dictionary and then index as required:</p>
<pre><code>import json
print(json.loads(response.text)['message'][0]['mode'])
#'disarm'
</code></pre>
</div>
<span class="comment-copy">many thanks that really helps</span>
<span class="comment-copy">@Phairplay No problem</span>
