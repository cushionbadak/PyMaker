<div class="post-text" itemprop="text">
<p>i trying to read and write files from folder with same names, BUT different extensions =&gt; extract data from them =&gt; rewrite. Here is my code:</p>
<pre><code>for header_name in glob.glob(os.path.join(folder_path, "*.json")):
    for nii_name in glob.glob(os.path.join(folder_path, "*.nii")):
        with open(header_name, "r") as f:
        nii_meta = json.load(f)
        add_stc = slicetime(header_name).tolist()
        nii_meta["SliceTiming"] = add_stc
    with open(header_name, 'w') as f:
        json.dump(nii_meta, f, indent=2)
</code></pre>
<p>i tried to do check:</p>
<pre><code>    h_name = os.path.splitext(os.path.basename(header_name))[0]
    n_name = os.path.splitext(os.path.basename(nii_name))[0]
    if h_name == n_name:
        do smth with data form files
</code></pre>
<p>but without succes
Names of files are sub01_T1w.json, sub01_T1w.nii.gz, sub01_T1w1.json, sub01_T1w1.nii.gz ...</p>
</div>
<div class="post-text" itemprop="text">
<p>I'd suggest working with <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">pathlib</a>, it's a relatively new part of the python standard library that makes working with paths and files a bit easier. A solution using it could look like this:</p>
<pre><code>from pathlib import Path

p = Path('parent/folder/of/my/files')
json_names = {f.stem for f in p.iterdir() if f.suffix == '.json'}
nii_names = {Path(f.stem).stem for f in p.iterdir() if f.suffixes == ['.nii', '.gz']}
for file_name in json_names &amp; nii_names:
    json_path = p / (file_name + '.json')
    nii_path = p / (file_name + '.nii.gz')
    with open(json_path) as json_file, open(nii_path) as nii_file:
        ...  # do things with the files' contents
</code></pre>
<p>If you want to write to them, remember to re-open the target with <code>open(json_path, 'w')</code> after exiting the read-only <code>with</code>-block.</p>
</div>
<span class="comment-copy">What is the name of the files? Should absolutely any file extension be permitted?</span>
<span class="comment-copy">Added in question.</span>
<span class="comment-copy">Hello @Arne, thanks for solution, but for nii_names with ['.nii', '.gz'] it doesn't work. The type(nii_names)  = set{}, don't know what to do with that</span>
<span class="comment-copy">Hey @Relyativist, I had a bug in there. I had forgotten that <code>stem</code> only removes the suffix once, so it needs to be called twice for a filename that has two suffixes, like <code>nii.gz</code>. Does it work now?</span>
<span class="comment-copy">By the way, I used <a href="https://repl.it/repls/ItchySaltyFlashmemory" rel="nofollow noreferrer">this</a> to debug it.</span>
