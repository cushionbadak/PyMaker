<div class="post-text" itemprop="text">
<p>How do I abort a created coroutine instance? My use case is a function taking in a coroutine and conditionally creating a tracked task for it (so that all of them could be <code>gather</code>ed later).</p>
<p>Ignoring it (not <code>await</code>ing it directly or indirectly) works, but gives a <code>RuntimeWarning</code>. I'd be OK with a solution that suppresses this warning. </p>
<p>Creating a task then immediately cancelling it starts its execution and the cancellation leads to other issues so it's not workable.</p>
<p>Checking the condition before the coroutines are created works, but damages maintainability since the same check for condition has to be in all the places before this function is called.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <code>.close()</code> method:</p>
<pre><code>async def foo():
    pass
x = foo()
x.close()
</code></pre>
<p>Program finishes fine, no warnings.</p>
</div>
<span class="comment-copy">Thanks, where did you find this? I couldn't see it in the official docs: <a href="https://docs.python.org/3/library/asyncio-task.html#coroutine" rel="nofollow noreferrer">docs.python.org/3/library/asyncio-task.html#coroutine</a></span>
<span class="comment-copy">Is async def a keyword? How does that work? never seen that</span>
<span class="comment-copy">@J.C.Rocamonde yes, it is a new keyword, introduced in python 3.5, together with <code>async for</code>, <code>async with</code> and <code>await</code>. see here <a href="https://docs.python.org/3/reference/compound_stmts.html#async-def" rel="nofollow noreferrer">docs.python.org/3/reference/compound_stmts.html#async-def</a></span>
<span class="comment-copy">@LemonPi <code>close</code> and other methods on coroutine objects are documented at <a href="https://docs.python.org/3/reference/datamodel.html#coroutine-objects" rel="nofollow noreferrer">docs.python.org/3/reference/datamodel.html#coroutine-objects</a></span>
