<div class="post-text" itemprop="text">
<p>I'm using python's logging module. I've initialized  it as:</p>
<pre><code>import logging
logger = logging.getLogger(__name__)
</code></pre>
<p>in every of my modules. Then, in the main file:</p>
<pre><code>logging.basicConfig(level=logging.INFO,filename="log.txt")
</code></pre>
<p>Now, in the app I'm also using WSGIServer from gevent. The initializer takes a log argument where I can add a logger instance. Since this is an HTTP Server it's very verbose.</p>
<p>I would like to log all of my app's regular logs to "log.txt" and WSGIServer's logs to "http-log.txt". </p>
<p>I tried this:</p>
<pre><code>logging.basicConfig(level=logging.INFO,filename="log.txt")
logger = logging.getLogger(__name__)

httpLogger = logging.getLogger("HTTP")
httpLogger.addHandler(logging.FileHandler("http-log.txt"))
httpLogger.addFilter(logging.Filter("HTTP"))

http_server = WSGIServer(('0.0.0.0', int(config['ApiPort'])), app, log=httpLogger)
</code></pre>
<p>This logs all HTTP messages into http-log.txt, but also to the main logger.</p>
<p>How can I send all but HTTP messages to the default logger (log.txt), and HTTP messages only to http-log.txt?</p>
<p>EDIT: Since people are quickly jumping to point that this <a href="https://stackoverflow.com/questions/11232230/logging-to-two-files-with-different-settings">Logging to two files with different settings</a> has an answer, plese read the linked answer and you'll see they don't use <code>basicConfig</code> but rather initialize each logger separately. This is not how I'm using the logging module.</p>
</div>
<div class="post-text" itemprop="text">
<p>Add the following line to disable <a href="https://docs.python.org/3/library/logging.html#logging.Logger.propagate" rel="nofollow noreferrer">propagation</a>:</p>
<pre><code>httpLogger.propagate = False
</code></pre>
<p>Then, it will no longer propagate messages to its ancestors' handlers which includes the root logger for which you have set up the general log file.</p>
</div>
<span class="comment-copy">Duplicate of <a href="https://stackoverflow.com/questions/11232230/logging-to-two-files-with-different-settings">https://stackoverflow.com/questions/11232230</a></span>
<span class="comment-copy">None of those use basicConfig or module-level logging. Please don't be so dupe-happy and take time to read the questions.</span>
<span class="comment-copy">@jonrsharpe Not sure about the duplicate. The question and answers there do not deal with two loggers along the same branch of the logging tree.</span>
<span class="comment-copy">fantastic. this was the right answer.</span>
