<div class="post-text" itemprop="text">
<p>I have a dataframe like I am trying to keep rows that have more than 5 characters. Here is what I tried, but it removes 'of', 'U.', 'and','Arts',...etc. I just need to remove characters in a row that have len less than 5. </p>
<pre><code>id schools
1  University of Hawaii
2  Dept in Colorado U.
3  Dept
4  College of Arts and Science
5  Dept
6  Bldg
</code></pre>
<p>wrong output from my code: </p>
<pre><code>0    University Hawaii
1             Colorado
2                     
3      College Science
4                     
5   
</code></pre>
<p>Looking for output like this: </p>
<pre><code>id schools
1  University of Hawaii
2  Dept in Colorado U.
4  College of Arts and Science
</code></pre>
<p>Code: </p>
<pre><code>l = [1,2,3,4,5,6]
s = ['University of Hawaii', 'Dept in Colorado U.','Dept','College of Arts and Science','Dept','Bldg']
df1 = pd.DataFrame({'id':l, 'schools':s})
df1 = df1['schools'].str.findall('\w{5,}').str.join(' ') # not working
df1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Using a regex is a huge (and slow) overkill for this task. You can use simple pandas indexing:</p>
<pre><code>filtrered_df = df1[df1['schools'].str.len() &gt; 5]  # or &gt;= depending on the required logic
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There is a simpler filter for your data.</p>
<pre><code> mask = df1['schools'].str.len() &gt; 5
</code></pre>
<p>Then create a new data frame from the filter</p>
<pre><code>df2 = df1[mask].copy()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import pandas as pd
name = ['University of Hawaii','Dept in Colorado U.','Dept','College of Arts and Science','Dept','Bldg']

labels =['schools']
df =pd.DataFrame.from_records([[i] for i in name],columns=labels)
df[df['schools'].str.len() &gt;5 ]
</code></pre>
</div>
<span class="comment-copy"><code>df2</code> will contain all rows where <code>schools</code> length is &lt;= 5 which is the opposite of what OP is trying to achieve.</span>
<span class="comment-copy">Right you are. I incorrectly added the ~ operator. I went ahead and fixed it.</span>
<span class="comment-copy">Negative vote reasons</span>
