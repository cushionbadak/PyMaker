<div class="post-text" itemprop="text">
<p>I am new to Python. I am trying to write numbers in a CSV file. The first number makes the first element of the row. Second number second and then a new row should start. However, the way that my code works, instead of adding the second element to the same row, it makes a new row. </p>
<p>For instance what I want is:</p>
<pre><code>a1,b1
a2,b2
</code></pre>
<p>But what I get is:</p>
<pre><code>a1
b1
a2
b2
</code></pre>
<p>I use a loop to continuously write values into a CSV file:</p>
<pre><code>n = Ratio # calculated in each loop
with open('ex1.csv', 'ab') as f:
    writer = csv.writer(f)
    writer.writerow([n])
    ...

m = Ratio2 # calculated in each loop
with open('ex1.csv', 'ab') as f:
    writer = csv.writer(f)
    writer.writerow([m])
</code></pre>
<p>I would like the results to be in format of </p>
<pre><code>n1,m1
n2,m2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Example for writing to a file and then reading it back and printing it:</p>
<pre><code>import csv

with open('ex1.csv', 'w') as f: # open file BEFORE you loop
    writer = csv.writer(f)      # declare your writer on the file

    for rows in range(0,4):     # do one loop per row
        myRow = []              # remember all column values, clear list here
        for colVal in range(0,10):   # compute 10 columns
            m = colVal * rows        # heavy computing  (your m or n)
            myRow.append(m)          # store column in row-list

        writer.writerow(myRow)  # write list containing all columns 

with open('ex1.csv', 'r') as r:  #read it back in 
    print(r.readlines())         # and print it   
</code></pre>
<p>Output:</p>
<pre><code>['0,0,0,0,0,0,0,0,0,0\r\n', '0,1,2,3,4,5,6,7,8,9\r\n', '0,2,4,6,8,10,12,14,16,18\r\n', '0,3,6,9,12,15,18,21,24,27\r\n'] 
</code></pre>
<p>which translates to a file of </p>
<pre><code>0,0,0,0,0,0,0,0,0,0
0,1,2,3,4,5,6,7,8,9
0,2,4,6,8,10,12,14,16,18
0,3,6,9,12,15,18,21,24,27
</code></pre>
<p>You can also stuff each rows list (copy it by <code>myList[:]</code>) into another list and use <code>writer.writerows([ [1,2,3,4],[4,5,6,7] ])</code> to write all your rows in one go .</p>
<p>See: <a href="https://docs.python.org/2/library/csv.html#writer-objects" rel="nofollow noreferrer">https://docs.python.org/2/library/csv.html#writer-objects</a> or <a href="https://docs.python.org/3/library/csv.html#writer-objects" rel="nofollow noreferrer">https://docs.python.org/3/library/csv.html#writer-objects</a></p>
</div>
<span class="comment-copy">Then join together <code>n</code> and <code>m</code>, i.e. <code>writer.writerow([n, m])</code></span>
<span class="comment-copy">You might need to specify the delimiter as ','</span>
<span class="comment-copy">A <a href="https://stackoverflow.com/help/mcve">Clomplete minimal example</a> would be helpful to reproduce your issue more easily.</span>
<span class="comment-copy">You are opening the file every time and append to it - open it once out of the loop. Collect all your <code>n</code> s inside a list per row you want to write and once the row is completely in the list use <code>writer.writerow( yourList )</code> - it will automagically write each element of the list and a dividerchar behind that.</span>
