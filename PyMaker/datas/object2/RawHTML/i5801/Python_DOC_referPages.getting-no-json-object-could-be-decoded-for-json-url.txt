<div class="post-text" itemprop="text">
<p>The api returning json on brower but when parsing it on python I am getting this exception: <code>No JSON object could be decoded</code>. I have used both <code>json.load()</code> and <code>json.loads()</code> but failed.</p>
<p><strong>Here is that code.</strong></p>
<pre><code>def handler_timeout(self):
        try:
            data = json.load(
                urlopen(
                    'https://www.zebapi.com/api/v1/market/ticker/btc/inr'
                )
            )
            buy_price = data['buy']
            sell_price = data['sell']
            status_message = "Buy: ₹ " + "{:,}".format(buy_price) + "   Sell: ₹ " + "{:,}".format(sell_price)
            self.ind.set_label(status_message, "")
        except Exception, e:
            print str(e)
            self.ind.set_label("!", "")
        return True
</code></pre>
<p><strong>Here is the output for <code>urlopen(URL)</code>:</strong></p>
<pre><code>&lt;addinfourl at 140336849031752 whose fp = &lt;socket._fileobject object at 0x7fa2bb6f1cd0&gt;&gt;
</code></pre>
<p><strong>Here is the output for <code>urlopen(URL).read()</code> :</strong> </p>
<pre><code>��`I�%&amp;/m�{J�J��t�`$ؐ@�������iG#)�*��eVe]f@�흼��{����{����;�N'���?\fdl��J�ɞ!���?~|?"~�o���G��~��=J�vv��;#�x���}��e���?=�N�u�/�h��ًWɧ�U�^���Ã���;���}�'���Q��ct
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The content of the url is <a href="https://docs.python.org/3/library/gzip.html" rel="nofollow noreferrer"><code>gzip</code>-encoded</a>.</p>
<pre><code>&gt;&gt;&gt; u = urllib.urlopen('https://www.zebapi.com/api/v1/market/ticker/btc/inr')
&gt;&gt;&gt; info = u.info()
&gt;&gt;&gt; info['Content-Encoding']
'gzip'
</code></pre>
<p>Decompress the content.</p>
<pre><code>import gzip
import io
import json
import urllib

u = urllib.urlopen('https://www.zebapi.com/api/v1/market/ticker/btc/inr')
with io.BytesIO(u.read()) as f:
    gz = gzip.GzipFile(fileobj=f)
    print json.load(gz)
</code></pre>
<p>or use <a href="http://docs.python-requests.org/en/master/user/quickstart/#binary-response-content" rel="nofollow noreferrer"><code>requests</code> which decode gzip automatically</a>:</p>
<pre><code>import requests
print requests.get('https://www.zebapi.com/api/v1/market/ticker/btc/inr').json()
</code></pre>
</div>
<span class="comment-copy">What is the output of <code>urlopen(                     'https://www.zebapi.com/api/v1/market/ticker/btc/inr'                 )</code>?</span>
<span class="comment-copy">added in the question.</span>
<span class="comment-copy">Thanks. now it is working</span>
