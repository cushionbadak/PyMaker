<div class="post-text" itemprop="text">
<p>I am currently trying to write to another python file to replace a variable using user input.</p>
<p>Suppose I have file_a.py and file_b.py</p>
<p>I want to execute file b to grab a variable from file a. Then save that userinput value to var1 in file_a.py. </p>
<p>Example:</p>
<p>file_a.py contents:</p>
<pre><code>var1 = "/path/to/file"
</code></pre>
<p>file_b.py contents:</p>
<pre><code>print(var1 " is the current path") 

userinput = input("Type new directory path here: ")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If both files are in the same folder you can:</p>
<p><strong>file_b.py</strong></p>
<pre><code>from file_a import var1

print(var1 " is the current path")

userinput = input("Type new directory path here: ")

var1 = userinput
</code></pre>
<p>Or</p>
<pre><code>import file_a

print(file_a.var1 " is the current path")

userinput = input("Type new directory path here: ")

file_a.var1 = userinput
</code></pre>
<p>But, Do you know that you can't modify the another file itself? <code>var1</code> will be changed in the memory, but if you open <code>file_a.py</code>, <code>var1</code> will be "/path/to/file".</p>
<p><strong>P.S:</strong> A little suggestion <code>print(var1 " is the current path")</code> --&gt; <code>print(var1, "is the current path")</code>.</p>
<p><strong>Edit:</strong> I think this will be good by your level (you are doing this like homework, if I make something more efficient or with some modules the teacher would notice it).</p>
<pre><code>def re_write(new):
    with open("file_a.py", 'r') as file:
        new_file = []
        for line in file:
            if "var1" in line:
                new_file.append(line.split("var1")[0] + "var1 = '" + new + "'")
            else:
                new_file.append(line)
        with open("file_a.py", 'w') as file:
            for line in new_file:
                file.writelines(line)
</code></pre>
<p>A better code (faster, with less memory usage and maybe better in general) could be find in <a href="https://stackoverflow.com/questions/39086/search-and-replace-a-line-in-a-file-in-python">this question</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Are you trying to edit the text of <code>file_a.py</code>? If so then you could look into the package <code>redbarron</code>. If you are importing file_a as a module, you can edit its global variables as such: </p>
<p><code>
import file_a
file_a.var1 = 'new value'
</code></p>
<p>This is called "monkey patching" and the effect will be inplace until the program exits. Executing it next time will have no effect. </p>
<p>However, I feel like this question is likely misguided. Can I ask what you are trying to accomplish? </p>
</div>
<span class="comment-copy">What exactly do u want? did you get any error?</span>
<span class="comment-copy">Regarding, your sentence about not being able to modify the other file, how would I possibly do this? I know I can write to files but I don't want to just do a normal append or write, I want to overwrite the value of the variable itself.</span>
<span class="comment-copy">@somerandomguy95 So you <b>don't</b> want to use <code>open()</code> and normal writing output file functions?</span>
<span class="comment-copy">Sorry if you misunderstood me, I meant that I do want to use open and write, I just don't know how to use them. For example, I don't want to ONLY append to the end of a file or rewrite the whole file. I just want to overwrite the value for var1 which is not something I am not sure about. I am thinking maybe I can use some module to search for the certain line where the variable is and just rewrite the whole line?</span>
<span class="comment-copy">@somerandomguy95, I've edited my answer.</span>
<span class="comment-copy">Thank you I will try it out as soon as I can. But essentially from what I see you're opening filea and reading it to look for var1, then basically defining the new text and split it from var1 so we can input the new data and then opening the file to actually write with the new data later, is that basically correct? I just want to make sure I understand because then whats the point if I just copy it.</span>
<span class="comment-copy">Essentially its for a school assignment. Prof wants me to prompt a user for a new file path that you can change through another file. Meaning the user is not able to change the file itself, the only portion the user would see is the terminal prompt. I understand how to read from another file, but I actually want to write the new value to that variable in file_a</span>
<span class="comment-copy">file_a has to be a python file, and it does not have only just that line. It has other data but it is not relevant so I did not attach it. But thank you, I will look at the link.</span>
<span class="comment-copy">@somerandomguy95, <code>file_a</code> is not necessary a <code>.py</code>? It <b>only</b> have <b>that</b> line? I am thinking right now in some interesting ideas... if the first one is "yes" look at <a href="https://docs.python.org/3/library/configparser.html" rel="nofollow noreferrer">configparser</a>, if the first <i>or</i> second question is "yes" look at <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">Reading and Writing Files</a>...</span>
