<div class="post-text" itemprop="text">
<p>I've the following script</p>
<pre><code>#Tails every new line created in this file
for line in tailer.follow(open("my/path/chatlog.html")):
    #If the new line has the word "TURN" on it, continue
    if("TURN" in line):
        #IF any of the names in the list characterNames is in the new line, execute the function parseCharacter passing the matched "name"
        if any(name in line.lower() for name in characterNames):
            parseCharacter(charactersPath + name + ".xml")
</code></pre>
<p>That "name" in the last line is what I need to match the matched name in the line. I tried to check the any() documentation but couldn't find a solution.</p>
<p>Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>Change this:</p>
<pre><code>if any(name in line.lower() for name in characterNames):
    parseCharacter(charactersPath + name + ".xml")
</code></pre>
<p>To this:</p>
<pre><code>try:
    bingo = next(name for name in characterNames if name in line.lower()):
except StopIteration:  # none found
    # break \ continue ?
else:
    parseCharacter(charactersPath + bingo + ".xml")
</code></pre>
<hr/>
<ul>
<li><code>any()</code> goes though the iterator trying to find <em>any</em> value that returns <code>True</code> but does not tell you which one it was.</li>
<li><code>next()</code> will only return the <em>next</em> value that returns <code>True</code>. The catch here is that there might be multiple that do so. Do not use <code>next</code> if you want to get them <strong>all</strong>.</li>
</ul>
<p>Finally, note that <code>next()</code> can also take a default argument in case nothing is found. You might wanna use that. If you do, you do not need the <code>except</code> part. It is handled internally.</p>
</div>
<div class="post-text" itemprop="text">
<p>In </p>
<pre><code>if any(name in line.lower() for name in characterNames):
    parseCharacter(charactersPath + name + ".xml")
</code></pre>
<p><code>name</code> is only valid in the brackets. Afterwards name is no longer defined. </p>
<p>You must go through the list manually:</p>
<pre><code>for name in characterNames:
    if name in line.lower():
        parseCharacter(charactersPath + name + ".xml")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just change the any to a loop over a list from a list comprehension:</p>
<pre><code>for name in [name for name in characterNames if name in line.lower()]:
    parseCharacter(charactersPath + name + ".xml")
</code></pre>
</div>
<span class="comment-copy"><code>any</code> does not return the value that returned <code>True</code>. Use <code>next</code> instead.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/functions.html#any" rel="nofollow noreferrer"><code>any(iterable)</code></a></span>
<span class="comment-copy">What is tailer.follow?</span>
<span class="comment-copy">tailer.follow is the method of the tailer package.  It checks every new line in a file.</span>
<span class="comment-copy">Thanks a lot!  I guess I'll go with Ev. Kounis solution. I do prefer the try option with the next built-in funct.</span>
<span class="comment-copy">@victorgonal: Good to know you like our solutions. Since you are new: Please vote for the solutions that helped you and accept the solution that helped you most.</span>
