<div class="post-text" itemprop="text">
<p>I'm trying to upload user selected image into my firebase.</p>
<p>When I browse for the file</p>
<pre><code>file = request.files['inputFile']
</code></pre>
<p>and I try this </p>
<pre><code>storage.child("images/examples.jpg").put(file)
</code></pre>
<p>I get an error</p>
<pre><code>io.UnsupportedOperation: fileno
</code></pre>
<p>How do I go about fixing this? I just want user to select the file and I be able to make use of the .jpg file and upload it</p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>put</code> method takes a path to a local file (and an optional user token). </p>
<p><code>request.files[key]</code> returns a custom object that represents the uploaded file. Flask documentation links: <a href="http://flask.pocoo.org/docs/0.12/quickstart/#file-uploads" rel="nofollow noreferrer">file uploads quickstart</a>, <a href="http://flask.pocoo.org/docs/0.12/api/#incoming-request-data" rel="nofollow noreferrer">incoming request data api</a>, <a href="http://werkzeug.pocoo.org/docs/0.12/datastructures/#werkzeug.datastructures.FileStorage" rel="nofollow noreferrer">FileStorage class</a>.</p>
<p>You need to store the uploaded file data to a local file, and the pass that file name to the <code>put</code> method:</p>
<pre><code>request.files['inputFile'].save("some_filename.ext")
storage.child("images/examples.jpg").put("some_filename.ext")
</code></pre>
<p>Look into the <a href="https://docs.python.org/3/library/tempfile.html" rel="nofollow noreferrer"><code>tempfile</code></a> module to generate random temporary file names (instead of using the hard coded <code>some_filename.ext</code>, which obviously is not a very good idea with concurrent requests).</p>
</div>
