<div class="post-text" itemprop="text">
<p>How do I suppress error messages in python for chromedriver and pyinstaller exe? </p>
<p>I noticed that when I use chromedriver in pyinstaller and run it I get a list of error messages. I have been trying to remove them but no luck thus far.
UPDATE: It seems the headless flag is causing a lot of grief. </p>
<pre><code>DevTools listening on ws://127.0.0.1:12386/devtools/browser/74743659-2c28-45fb-bab4-3836bb91f383
[1213/214223.999:ERROR:service_manager.cc(157)] Connection InterfaceProviderSpec prevented service: content_renderer from binding interface: blink::mojom::ReportingServiceProxy exposed by: content_browser
Improvement, now how to remove this in headless.
Error messages:
DevTools listening on ws://127.0.0.1:12386/devtools/browser/74743659-2c28-45fb-bab4-3836bb91f383
[1213/214223.999:ERROR:service_manager.cc(157)] Connection InterfaceProviderSpec prevented service: content_renderer from binding interface: blink::mojom::ReportingServiceProxy exposed by: content_browser
[1213/214223.999:INFO:CONSOLE(4)] "Synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user's experience. For more help, check https://xhr.spec.whatwg.org/.", source: http://centrebet.com/Scripts/jquery-1.6.4.min.js (4)
[1213/214226.896:INFO:CONSOLE(42)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/8320572 (42)
[1213/214226.899:INFO:CONSOLE(60)] "Uncaught ReferenceError: bs_auto_expand is not defined", source: http://centrebet.com/Sports/8320572 (60)
[1213/214226.900:INFO:CONSOLE(65)] "Uncaught ReferenceError: gaPush is not defined", source: http://centrebet.com/Sports/8320572 (65)
[1213/214227.987:INFO:CONSOLE(112)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (112)
[1213/214227.988:INFO:CONSOLE(174)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (174)
[1213/214227.989:INFO:CONSOLE(211)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (211)
[1213/214227.991:INFO:CONSOLE(431)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (431)
[1213/214227.991:INFO:CONSOLE(468)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (468)
[1213/214227.998:INFO:CONSOLE(688)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (688)
[1213/214227.998:INFO:CONSOLE(725)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (725)
[1213/214228.001:INFO:CONSOLE(945)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (945)
[1213/214228.001:INFO:CONSOLE(982)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (982)
[1213/214228.002:INFO:CONSOLE(1202)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (1202)
[1213/214228.003:INFO:CONSOLE(1239)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (1239)
[1213/214228.004:INFO:CONSOLE(1459)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (1459)
[1213/214228.004:INFO:CONSOLE(1496)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (1496)
[1213/214228.005:INFO:CONSOLE(1716)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (1716)
[1213/214228.005:INFO:CONSOLE(1753)] "Uncaught ReferenceError: $ is not defined", source: http://centrebet.com/Sports/71973868 (1753)
[1213/214228.006:INFO:CONSOLE(1973)] "Uncaught ReferenceError: addStaticBubble is not defined", source: http://centrebet.com/Sports/71973868 (1973)
</code></pre>
<p>Code:</p>
<pre><code>options = Options()
options.add_argument('--headless')
options.add_argument('--hide-scrollbars')
options.add_argument('--disable-gpu')
driver = webdriver.Chrome(chrome_options=options)


url = "http://centrebet.com/"
driver.get(url)

def page_counter():
  for x in range(1000):
      yield x

count = page_counter()
driver.get(url)
sports = driver.find_element_by_id("accordionMenu1_ulSports")
links = [url + link.get_attribute("onclick").replace("menulink('", "").replace("')", "") for link in sports.find_elements_by_xpath('//ul[@id="accordionMenu1_ulSports"]//li//ul//li//ul//li//a[starts-with(@onclick, "menulink")]')]

links = dict((next(count) + 1, e) for e in links)

desc_links = collections.OrderedDict(sorted(links.items(), reverse=True))
for key, value in desc_links.items():
    driver.get(value)
</code></pre>
<p>What I have tried:</p>
<pre><code>logging.disable(logging.CRITICAL)

logging.Logger.info = lambda *args, **kwargs: None

sys.stderr = os.devnull

logging.getLogger("requests").setLevel(logging.WARNING)

@contextmanager
def suppress_stdout():

    with open(os.devnull, "w") as devnull:
        old_stdout = sys.stdout
        sys.stdout = devnull
        try:
            yield
        finally:
            sys.stdout = old_stdout


import warnings

def fxn():
    warnings.warn("deprecated", DeprecationWarning)

with warnings.catch_warnings():
    warnings.simplefilter("ignore")
    fxn()
</code></pre>
<p>The error message appears to loop. Perhaps rewriting may fix...</p>
</div>
<div class="post-text" itemprop="text">
<p>Those logs are issued by Chrome. You can disable them by launching Chrome with the log level set to Fatal: </p>
<pre><code>options = Options()
options.add_argument('--headless')
options.add_argument('--hide-scrollbars')
options.add_argument('--disable-gpu')
options.add_argument("--log-level=3")  # fatal
driver = webdriver.Chrome(chrome_options=options)
</code></pre>
<p>Though some messages are not filtered by this flag like <code>DevTools listening on ...</code>.</p>
<p>To avoid them, you'll have to override the <a href="https://github.com/SeleniumHQ/selenium/blob/d1f4f5056e58121cea5b132081bec69e66a742dd/py/selenium/webdriver/common/service.py#L72" rel="noreferrer">selenium.webdriver.common.service.Service</a> and call <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" rel="noreferrer"><code>subprocess.Popen</code></a> with <code>close_fds=True</code> to avoid the inheritance of the file descriptor.</p>
<pre><code>self.process = subprocess.Popen(cmd, env=self.env,
                                close_fds=True,
                                stdout=None,
                                stderr=None,
                                stdin=None)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I had a similar problem and the following was my sollution.<br/> <br/>
I was using the selenium module in a python script to open up <code>chromedriver.exe</code> and automate some online downloads.
I run the script using a BAT file. <br/><br/>
Originally if I ran the BAT file, chrome was opened up and the files where downloaded, but the command line hanged on the log statement
<code>DevTools listening on ...</code></p>
<p>The way I got around this was in the bat file I added the line</p>
<pre><code>taskkill /im chromedriver.exe /f
</code></pre>
<p>So my BAT file looked like this</p>
<pre><code>python python_script.py
taskkill /im chromedriver.exe /f
</code></pre>
<p>The log statement still appears but killing <code>chromedriver.exe</code> seems to end the run.<br/></p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>question now is how to remove error messages and suppress messages in
  relation to chrome driver</p>
</blockquote>
<p>To switch off chromedriver logging, use <code>DesiredCapabilities</code></p>
<pre><code>options = Options()
options.add_argument('--headless')
options.add_argument('--hide-scrollbars')
options.add_argument('--disable-gpu')

dc = DesiredCapabilities.CHROME
dc['loggingPrefs'] = {'driver': 'OFF', 'server': 'OFF', 'browser': 'OFF'}

driver = webdriver.Chrome(chrome_options=options, desired_capabilities=dc)
</code></pre>
<p>See here for <a href="https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities" rel="nofollow noreferrer">possible loggingPrefs values</a>.</p>
</div>
<span class="comment-copy">How can this be related to Selenium? Am I missing something?</span>
<span class="comment-copy">@DebanjanB It is selenium script, but I remove tag.</span>
<span class="comment-copy">Bring the tag back; those messages are being printed by the controlled browser noth python, so looking at the driver will be the easiest way to turn them off</span>
<span class="comment-copy">@SamHartman Oh ok.  I guess question now is how to remove error messages and suppress messages in relation to chrome driver.</span>
<span class="comment-copy">Try changing <code>sys.stdout = devnull</code> to <code>sys.stdout = os.devnull</code>...</span>
<span class="comment-copy">This tends to work well aside from DevTools listening on still persists for def methodA(self, arg1, arg2):     self.process = subprocess.Popen</span>
<span class="comment-copy">To override <code>subprocess.Popen</code> you'll have to update the source code of Selenium on your machine: <code>PythonFolder\Lib\site-packages\selenium\webdriver\common\service.py</code>. You <b>can not</b> override it in your script with <code>def methodA(self, arg1, arg2): self.process = subprocess.Popen</code>.</span>
<span class="comment-copy">Uh I see.  Unfortunately this did not remove it for me.  Devtools listening on remains</span>
<span class="comment-copy">There may not be way to disable.  Lot of questions about disable ws but no answer: <a href="https://stackoverflow.com/questions/47417581/selenium-chromedriver-how-to-disable-the-messagedevtools-on-ws" title="selenium chromedriver how to disable the messagedevtools on ws">stackoverflow.com/questions/47417581/â€¦</a></span>
<span class="comment-copy">@The Gman, you are right, I though I got ride of the <code>DevTools listening on</code> by tweaking <code>subprocess.Popen</code>, but I I was just running the wrong script. It seems that Chrome is bypassing the provided file descriptor with no way to avoid it.</span>
<span class="comment-copy">Is there a way to disable DevTools listening on ws:// as well or is this ingrained into cmd?</span>
<span class="comment-copy">I filed an issue for this in Node.js, which does something similar: <a href="https://github.com/nodejs/node/issues/16515" rel="nofollow noreferrer">github.com/nodejs/node/issues/16515</a></span>
