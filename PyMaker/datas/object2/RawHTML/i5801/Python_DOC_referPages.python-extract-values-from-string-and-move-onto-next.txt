<div class="post-text" itemprop="text">
<p>I'm trying to extract strings that fit between the patterns '{"comments_disabled":' and '}},'
and then append whatever fits between these two patterns. (There could be 100+ occurances that match between these patterns.</p>
<p>The problem is that the code below just keeps extracting the first occurrence, how do I make it ignore what it previously appended to the userpost list and move onto the next?</p>
<pre><code>from bs4 import BeautifulSoup
page = urlopen("https://www.instagram.com/explore/tags/fun/")
soup = BeautifulSoup(page,"html.parser")
title = soup.title
script = str(soup.findAll('script', type="text/javascript"))

userpost = list()

for text in script:
userpost.append(script[script.find('{"comments_disabled":')/
:script.find('}},')+2])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try <a href="https://docs.python.org/3/library/re.html#re.findall" rel="nofollow noreferrer"><code>re.findall()</code></a>:</p>
<pre><code>userpost = re.findall(r'{"comments disabled":(.*?)}},', script)
</code></pre>
<p>Tested script:</p>
<pre><code>import re

script = '''
{"comments disabled": one two }},
alpha beta
{"comments disabled": three four }},
{"comments disabled":
five six
}},
'''

userpost = re.findall(r'{"comments disabled":(.*?)}},', script, re.DOTALL)
print(userpost)
</code></pre>
<p>Output:</p>
<pre><code>[' one two ', ' three four ', '\nfive six\n']
</code></pre>
</div>
<span class="comment-copy">can you update sample input along with expected output?</span>
<span class="comment-copy">@MaheshKaria Updated with sample input the out put string is fairly long, but you can attain it from running this script :)</span>
<span class="comment-copy">When i run this with the data in 'script', no variable is created in variable explorer. Any reason why? I've updated my post with how the script data is generated :) @Robáµ©</span>
<span class="comment-copy">What is "<i>variable explorer</i>"?</span>
<span class="comment-copy">@jacksmart - FYI, I have updated my answer to account for the possibility that <code>{"comments disabled":</code> and <code>}}</code> might occur on different lines.</span>
