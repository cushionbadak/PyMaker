<div class="post-text" itemprop="text">
<p>I want to close browser as soon file download is complete. I have below code but it's not closing browser. I must be wrong somewhere. Please help me.</p>
<pre><code>driver.find_element_by_link_text("[Comma-Delimited Text (CSV)]").click()
while True:
    if os.path.isfile('C:\\Python34\\*.part'):
        time.sleep(10)
    elif os.path.isfile('C:\\Python34\\*.csv'):
        break
    else:
        time.sleep(10)


def tearDown(self):
    self.driver.quit()
    self.assertEqual([], self.verificationErrors)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/os.path.html#os.path.isfile" rel="nofollow noreferrer"><code>os.path.isfile()</code></a> <em>does not support glob-style path definitions</em> leading to the loop never exiting.</p>
<p>You need the <code>glob.glob()</code> or <code>fnmatch</code> instead:</p>
<ul>
<li><a href="https://stackoverflow.com/a/4296148/771848">https://stackoverflow.com/a/4296148/771848</a></li>
</ul>
<p>You can also use modules like <a href="https://pypi.python.org/pypi/watchdog" rel="nofollow noreferrer"><code>watchdog</code></a> to monitor changes in a directory:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/34338897/python-selenium-find-out-when-a-download-has-completed">python selenium, find out when a download has completed?</a></li>
</ul>
</div>
<span class="comment-copy">Just what I wanted, it's very helpful when file download is anywhere between some seconds to some minutes. Thank you so much!</span>
