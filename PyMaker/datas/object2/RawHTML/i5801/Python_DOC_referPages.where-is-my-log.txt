<div class="post-text" itemprop="text">
<p>I'm running a Flask project. I was trying to logging all logs from debug level to console. Here is my code:</p>
<pre><code>#!flask/bin/python
import logging

from app import app

logging.basicConfig(level=logging.DEBUG, format = '%(asctime)s [%(process)d %(name)s] %(levelname)s %(message)s')
logging.debug('test')
log = logging.getLogger('werkzeug')
log.setLevel(logging.DEBUG)
log.debug('test')

if __name__ == '__main__':
    print 'crazy'
    log.debug('test')
    app.run(host =  '0.0.0.0', port = 8100, debug = True, processes = 8)
</code></pre>
<p>Here is the result (one of the weird thing is there are two 'crazy' printed):</p>
<pre><code>(flask) [felixc@diamond flask]$ ./run.py 
crazy
crazy
</code></pre>
<p>I cannot find anything on console. There is even no 'test' displayed on the console. So where is my logs?
My Python is v2.7.13 on CentOS 6.9.</p>
<p>Update the logging with basicConfig:</p>
<pre><code>(flask) [felixc@diamond flask]$ ipython
Python 2.7.13 (default, Jun 22 2017, 13:33:06) 
Type "copyright", "credits" or "license" for more information.

IPython 5.5.0 -- An enhanced Interactive Python.
?         -&gt; Introduction and overview of IPython's features.
%quickref -&gt; Quick reference.
help      -&gt; Python's own help system.
object?   -&gt; Details about 'object', use 'object??' for extra details.

In [1]: edit
IPython will make a temporary file named: 
/tmp/ipython_edit_pUodOs/ipython_edit_WWATn8.py
Editing... done. Executing edited code...
Out[1]: "import logging\nlogging.basicConfig(level=logging.DEBUG, format = '%(asctime)s [%(process)d %(name)s] %(levelname)s %(message)s')\n"

In [2]: logging.debug('test')
2017-12-12 14:51:06,042 [14863 root] DEBUG test
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I just found the root reason. I was trying to use Ansible in my project but seems any import will cause the logging not working. I didn't peep into the source code of Ansible yet but I used a test code then discovered it.</p>
<pre><code>#!flask/bin/python
import logging

from collections import namedtuple

from ansible.parsing.dataloader import DataLoader
#from ansible.vars.manager import VariableManager
#from ansible.inventory.manager import InventoryManager
#from ansible.executor.playbook_executor import PlaybookExecutor


logging.basicConfig(level=logging.DEBUG, format = '%(asctime)s [%(process)d %(name)s] %(levelname)s %(message)s')
logging.debug('test')
logging.info('test2')
logging.error('test3')
</code></pre>
<p>Any import from Ansible module causes the logging disappearing. I'll try to find why. My Ansible version is 2.4.2.0</p>
</div>
<span class="comment-copy">I am not sure you will see anything without adding a handler of some sort.</span>
<span class="comment-copy">You might want to read through <a href="https://docs.python.org/3/howto/logging.html" rel="nofollow noreferrer">docs.python.org/3/howto/logging.html</a> if you haven't done so already</span>
<span class="comment-copy">(flask) [felixc@diamond flask]$ ipython Python 2.7.13 (default, Jun 22 2017, 13:33:06)  IPython 5.5.0 -- An enhanced Interactive Python.  In [1]: edit IPython will make a temporary file named: /tmp/ipython_edit_pUodOs/ipython_edit_WWATn8.py Editing... done. Executing edited code... Out[1]: "import logging\nlogging.basicConfig(level=logging.DEBUG, format = '%(asctime)s [%(process)d %(name)s] %(levelname)s %(message)s')\n"  In [2]: logging.debug('test') <b>2017-12-12 14:51:06,042 [14863 root] DEBUG test</b></span>
<span class="comment-copy">I'm unable to read that mess. If you think it's relevant, please format it properly into your question.</span>
<span class="comment-copy">I added the output in ipython with only logging.basicConfig. It seems it works without any handlers.</span>
