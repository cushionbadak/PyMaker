<div class="post-text" itemprop="text">
<p>I would like to create attributes of an object based on a dictionary passed in as an argument. Here is the code. But it does not work as </p>
<pre><code>class Obj(object):
    def __init__(self, di):
        self.a = 0
        self.b = 1
        for k in di.keys():
            name = 'k' + '_' + 'series'
            self.name = None

di = {'c':0,'d':1}
Obj_instance = Obj(di)
print Obj_instance.c_series 
</code></pre>
<p>I get the following error: 'Obj' object has no attribute 'c'</p>
<p>The code read "name" as a literal, and not as the variable defined.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is what will work :</p>
<pre><code>class Obj(object):
    def __init__(self, di):
        self.a = 0
        self.b = 1
        for key, value in di.items():
            key += '_series'
            setattr(self, key, value)

di = {'c':0,'d':1}
Obj_instance = Obj(di)
print Obj_instance.c_series
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/functions.html#setattr" rel="nofollow noreferrer"><code>setattr</code></a></p>
<pre><code>class Obj(object):
    def __init__(self, di):
        for key, value in di.items():
            setattr(self, key, value)
</code></pre>
<p>Some additional advice:</p>
<p>Your code is very strange. I'm not sure why you expect <code>self.name</code> to evaluate as <code>self.(eval('name'))</code> when that clearly doens't happen elsewhere in python </p>
<pre><code> lower = str.upper
 str.lower('Hello')  # -&gt; still returns 'hello'
</code></pre>
<p>There is no need to iterate over <code>dictionary.keys()</code>, especially in python 2. <code>for k in dictionary:</code> works just fine. If you want both keys and values use <code>dictionary.items()</code> (or <code>dictionary.iteritems()</code> in python 2).</p>
<p><code>name = 'k' + '_' + 'series'</code> just makes the string <code>'k_series'</code>. You need to be able to tell the difference between a string and a variable name. I think you mean <code>k + '_' + series</code> but <code>series</code> is never defined. Don't use <code>+</code> to concatenate strings like that anyway, use <a href="https://pyformat.info/" rel="nofollow noreferrer"><code>.format</code></a>.</p>
</div>
<span class="comment-copy">This will not add attributes c_series and d_series to  the object</span>
<span class="comment-copy">No but I think the person asking the question <i>should</i> be able to figure that out. Just giving them the answer without explaining why does not help them!</span>
