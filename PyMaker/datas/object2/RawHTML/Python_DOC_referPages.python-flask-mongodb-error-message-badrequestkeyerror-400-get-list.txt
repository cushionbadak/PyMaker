<div class="post-text" itemprop="text">
<p>I'm a newbie to this, so please forgive me if I haven't properly explained myself. I'm creating an online store for a project. I want to have a multiple select list that a user can pick from. I'm using Python, Flask and MongoDB/mlab to store and retrieve the data. So far it looks like this: </p>
<pre><code>@app.route('/update_item/&lt;item_id&gt;', methods=['POST'])
def update_item(item_id):
    store = mongo.db.store
    store.update( {'_id': ObjectId(item_id)},
    {
        'name':request.form['name'],
        'type':request.form['type'],
        'color':request.form['color'],
        'material':request.form['material']
    })
    return redirect(url_for('main_store'))
</code></pre>
<p>The HTML it looks like this:</p>
<pre><code>&lt;form action="{{ url_for('update_item', item_id=item._id) }}" method="POST" class="col s12"&gt;
 &lt;select id="material" name="material" value="{{store.material}}"&gt;
     &lt;option value="" disabled selected&gt;Select&lt;/option&gt;
     &lt;option value="denim" name="denim"&gt;Denim&lt;/option&gt;
     &lt;option value="cotton" name="cotton"&gt;Cotton&lt;/option&gt;
     &lt;option value="viscose" name="viscose"&gt;Viscose&lt;/option&gt;
     &lt;option value="silk" name="silk"&gt;Silk&lt;/option&gt;
 &lt;/select&gt;
&lt;/form&gt;
</code></pre>
<p>But I keep getting this error message</p>
<pre><code>BadRequestKeyError: 400 Bad Request: KeyError: 'material'
Traceback (most recent call last)
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 2309, 
in __call__
return self.wsgi_app(environ, start_response)
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 2295, 
in wsgi_app
response = self.handle_exception(e)
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 1741, 
in handle_exception
reraise(exc_type, exc_value, tb)
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 2292, 
in wsgi_app
response = self.full_dispatch_request()
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 1815, 
in full_dispatch_request
rv = self.handle_user_exception(e)
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 1718, 
in handle_user_exception
reraise(exc_type, exc_value, tb)
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 1813, 
in full_dispatch_request
rv = self.dispatch_request()
File "/usr/local/lib/python3.4/dist-packages/flask/app.py", line 1799, 
in dispatch_request
return self.view_functions[rule.endpoint](**req.view_args)
File "/home/ubuntu/workspace/app.py", line 74, in update_item
'material':request.form['material']
File "/usr/local/lib/python3.4/dist- 
packages/werkzeug/datastructures.py", line 431, in __getitem__
raise exceptions.BadRequestKeyError(key)
BadRequestKeyError: 400 Bad Request: KeyError: 'material'
</code></pre>
<p>What am I doing wrong? 'name', 'type' and 'color' work just fine on their own. I tried the below, but this didn't fix it either. Thanks.</p>
<pre><code>'material':request.form.getlist['material']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this as your html</p>
<pre class="lang-html prettyprint-override"><code>&lt;select id="material" name="material" placeholder="Select"&gt;
    &lt;option value="denim"&gt;Denim&lt;/option&gt;
    &lt;option value="cotton"&gt;Cotton&lt;/option&gt;
    &lt;option value="viscose"&gt;Viscose&lt;/option&gt;
    &lt;option value="silk"&gt;Silk&lt;/option&gt;
&lt;/select&gt;
</code></pre>
</div>
<span class="comment-copy">The cause of the error is not obvious from what you sent. Please include full template code (or at least the <code>form</code> part).</span>
<span class="comment-copy">Oh, okay - whoops. I have updated it to include the form part.</span>
<span class="comment-copy">Also, it would be helpful if you provided complete traceback, not only exception name.</span>
<span class="comment-copy">Updated to include complete traceback - thank you</span>
<span class="comment-copy">This worked! Thank you!!</span>
