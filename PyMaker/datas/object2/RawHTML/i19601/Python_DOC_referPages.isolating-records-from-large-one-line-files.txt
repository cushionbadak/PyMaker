<div class="post-text" itemprop="text">
<p>I am using Python 3.3  I want to edit a google earth POI file (.klm) which is 1.4Mb on a single line. I need to isolate records of variable length which begin <code>&lt;placemark&gt;</code> and end <code>&lt;/placemark&gt;</code>, check each for a particular word, throw away those without it, and save what's left.</p>
<p>Are there tools for doing this?</p>
</div>
<div class="post-text" itemprop="text">
<p>KML is a XML format.</p>
<p>Use an XML parser to parse it (such as <code>xml.etree.ElementTree</code>, included in the standard library, or <code>lxml</code>).</p>
<p>You could use a dedicated package such as <a href="http://packages.python.org/pykml/" rel="nofollow">PyKML</a> to give you a higher-level API to the information contained, although that specific package is not yet Python 3 ready. </p>
<p><em>I did manage to run the <a href="http://docs.python.org/3/library/2to3.html" rel="nofollow"><code>2to3</code> tool</a> on the files of that project though, so your mileage may vary. The tests fail but the failures look benign (typical python 2 to 3 translation differences).</em></p>
</div>
<span class="comment-copy">Many thanks Martijn, I succeeded and it took only 6 lines of code.</span>
