<div class="post-text" itemprop="text">
<p>I'm having some trouble in understanding how <code>jsonify</code> works even though I went through the documentation. As you can see below, I'm calling the <code>lookup()</code> function which returns a dictionary, then I'm trying to jsonify it.</p>
<pre><code>@app.route("/articles")
def articles():

    a = lookup(33496)
    return jsonify([link=a["link"], title = a["title"]])       #invalid syntax error
</code></pre>
<p>my <code>helpers.py</code>:</p>
<pre><code>import feedparser
import urllib.parse

def lookup(geo):
    """Looks up articles for geo."""       #this function already parses the 'link' and 'title' form rss feed

    # check cache for geo
    if geo in lookup.cache:
        return lookup.cache[geo]

    # get feed from Google
    feed = feedparser.parse("http://news.google.com/news?geo={}&amp;output=rss".format(urllib.parse.quote(geo, safe="")))

    # if no items in feed, get feed from Onion
    if not feed["items"]:
        feed = feedparser.parse("http://www.theonion.com/feeds/rss")

    # cache results
    lookup.cache[geo] = [{"link": item["link"], "title": item["title"]} for item in feed["items"]]

    # return results
    return lookup.cache[geo]

# initialize cache
lookup.cache = {}
</code></pre>
<p>The error that I'm getting is of invalid syntax. Any idea into what I'm doing wrong? Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>I think your <code>dict</code> syntax is wrong. You can read about more in <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">official documentation</a>.</p>
<p>The code that I think you are trying for is as follows:</p>
<pre><code>@app.route("/articles")
def articles():
    a = lookup(33496)
    return jsonify({"link" : a["link"], "title" : a["title"]})
</code></pre>
<p>Specifically you should use curly braces instead of brackets (<code>{}</code>) and colon (<code>:</code>) instead of equals sign.</p>
<p>Another option is to let <code>jsonify()</code> to do the conversion (as pointed out in the other answer):</p>
<pre><code>@app.route("/articles")
def articles():
    a = lookup(33496)
    return jsonify(link = a["link"], title = a["title"])
</code></pre>
<p>Nevertheless, I think you would be well advised to use create a <code>dict</code>. It becomes more flexible when you need to create larger JSON objects.</p>
<p>Hope this helps.</p>
</div>
<div class="post-text" itemprop="text">
<p>You dont need the square brackets, get rid of them.</p>
<pre><code>return jsonify(link=a["link"], title=a["title"])
             # ^At this point                 ^ and this one.
</code></pre>
<p><a href="https://stackoverflow.com/a/1419160/227884">Read about keyword arguments in python.</a></p>
</div>
<span class="comment-copy">what's the purpose of jsonify then, if you need to explicitly do the conversion to json?</span>
<span class="comment-copy">Yea @Jari, the problem is that I already edited it the way that you pointed out using <code>jsonify()</code> but I'm getting some syntax errors.</span>
<span class="comment-copy">I now tried using your first example and I'm getting the errors too. Hmm</span>
<span class="comment-copy">Could you please post the full errors.</span>
<span class="comment-copy">Also, the point of jsonify() is to have a standard way of converting different content (be it dict, array or arguments) to JSON format that Flask can then return over HTTP.</span>
<span class="comment-copy">I got rid of it but I'm getting the same invalid syntax error</span>
<span class="comment-copy">I'll go over the link, maybe that's where I'm going wrong.</span>
