<div class="post-text" itemprop="text">
<p>I have a bash file in which I execute a python code in a for loop several times. I want to set a timeout so that if the python code takes more than a certain time then we go to the next iteration.
How can I add timeout to my bash code line when compiling and running the python file? 
This is the current line I use for running the python code:</p>
<pre><code>python hw.py
</code></pre>
<p>I want to have something like this:</p>
<pre><code>python hw.py timeout=120
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <code>timeout</code> command in <code>bash</code>:</p>
<pre><code>timeout 120 python hw.py
</code></pre>
<p>That will kill the python process if it executes for more that 120 seconds.</p>
</div>
<div class="post-text" itemprop="text">
<p>Assume you want the argument to be parsed into the Python script.</p>
<p>Try <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">argparse</a>:</p>
<pre><code>if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--timeout', help='timeout of script',action = 'store')
    args = parser.parse_args()
</code></pre>
<p>Parse <code>args.timeout</code> to the script that you need.</p>
<pre><code>from time import time 
start = time()
for loop: # the for loop you mentioned

    if (time() - start) &gt; timeout:
        break
</code></pre>
</div>
<span class="comment-copy">You want the logic in <code>bash</code> or in <code>python</code>?</span>
<span class="comment-copy">I need it in bash, I am not able to edit the python file, I am giving different inputs to the python file each time in a for loop and want it to kill python with a timeout limit.</span>
<span class="comment-copy">Thanks this was what I need.</span>
<span class="comment-copy">Thanks for the answer but I cannot edit the python files.</span>
