<div class="post-text" itemprop="text">
<p>Currently I have the following code to check png images file size:</p>
<pre><code>filesize = urllib.urlopen(url).info()['content-length']
</code></pre>
<p>How can I add a custom <code>useragent</code> to <code>urllib</code> request?</p>
</div>
<div class="post-text" itemprop="text">
<p>From the Python <a href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request" rel="nofollow noreferrer">urllib documentation</a>:</p>
<pre><code>import urllib.request
opener = urllib.request.build_opener()
opener.addheaders = [('User-agent', 'Mozilla/5.0')]
opener.open('http://www.example.com/')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The documentation for urllib/urllib2 recommends using requests, which has a much easier to use API</p>
<pre><code>import requests
size = requests.get(url, headers = {'User-agent':'Mozilla/5.0'}).headers['content-length']
</code></pre>
</div>
<span class="comment-copy">The problem is that I am working with python 2.7 and <code>urllib.request</code> does not exist in python 2.7 version.</span>
<span class="comment-copy">Ah okay, are you able to use urllib2? The same code would work if you just changed the import.</span>
