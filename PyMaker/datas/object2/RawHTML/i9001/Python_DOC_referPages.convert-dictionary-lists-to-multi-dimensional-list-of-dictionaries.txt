<div class="post-text" itemprop="text">
<p>I've been trying to convert the following:</p>
<pre><code>data = {'title':['doc1','doc2','doc3'], 'name':['test','check'], 'id':['ddi5i'] }
</code></pre>
<p>to:</p>
<pre><code>[{'title':'doc1', 'name': 'test', 'id': 'ddi5i'},
{'title':'doc2', 'name': 'test', 'id': 'ddi5i'},
{'title':'doc3', 'name': 'test', 'id': 'ddi5i'},
{'title':'doc1', 'name': 'check', 'id': 'ddi5i'},
{'title':'doc2', 'name': 'check', 'id': 'ddi5i'},
{'title':'doc3', 'name': 'check', 'id': 'ddi5i'}]
</code></pre>
<p>I've tried various options (list comprehensions, pandas and custom code) but nothing seems to work. For example, the following:</p>
<pre><code>panda.DataFrame(data).to_dict('list')
</code></pre>
<p>throws an error because, since it tries to map the lists, all of them have to be of the same length. Besides, the output would only be uni-dimensional which is not what I'm looking for.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/itertools.html#itertools.product" rel="nofollow noreferrer"><code>itertools.product</code></a> may be what you're looking for here, and it can be applied to the values of your data to get appropriate value groupings for the new dicts.  Something like </p>
<pre><code>list(dict(zip(data, ele)) for ele in product(*data.values()))
</code></pre>
<p><strong>Demo</strong></p>
<pre><code>&gt;&gt;&gt; from itertools import product
&gt;&gt;&gt; list(dict(zip(data, ele)) for ele in product(*data.values()))
[{'id': 'ddi5i', 'name': 'test', 'title': 'doc1'},
 {'id': 'ddi5i', 'name': 'test', 'title': 'doc2'},
 {'id': 'ddi5i', 'name': 'test', 'title': 'doc3'},
 {'id': 'ddi5i', 'name': 'check', 'title': 'doc1'},
 {'id': 'ddi5i', 'name': 'check', 'title': 'doc2'},
 {'id': 'ddi5i', 'name': 'check', 'title': 'doc3'}]
</code></pre>
<p>It is clear how this works once seeing</p>
<pre><code>&gt;&gt;&gt; list(product(*data.values()))
[('test', 'doc1', 'ddi5i'),
 ('test', 'doc2', 'ddi5i'),
 ('test', 'doc3', 'ddi5i'),
 ('check', 'doc1', 'ddi5i'),
 ('check', 'doc2', 'ddi5i'),
 ('check', 'doc3', 'ddi5i')]
</code></pre>
<p>and now it is just a matter of zipping back into a dict with the original keys.</p>
</div>
<span class="comment-copy">This looks like <a href="http://stackoverflow.com/questions/7778465/converting-flat-python-dictionary-to-list-of-dictionaries" title="converting flat python dictionary to list of dictionaries">stackoverflow.com/questions/7778465/â€¦</a></span>
<span class="comment-copy">Take a look at <code>itertools</code>, seems like a combinatorics problem.</span>
<span class="comment-copy">Thanks indeed! Works perfectly...</span>
<span class="comment-copy">@patxiworks You are welcome!</span>
