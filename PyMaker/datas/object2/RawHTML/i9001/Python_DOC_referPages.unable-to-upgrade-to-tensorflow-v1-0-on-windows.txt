<div class="post-text" itemprop="text">
<p>I tried to upgrade to TensorFlow v1.0 after the recent release, but pip is unable to install it for me.  I originally installed it with</p>
<p><code>pip install tensorflow-gpu</code></p>
<p>and tried to run</p>
<p><code>pip install --upgrade tensorflow-gpu</code></p>
<p>But I was given the following output:</p>
<pre><code>C:\tensorflow_projects\Cinder\blocks\my-tensorflow\example_mnist\python [master â‰¡ +1 ~1 -0 !]&gt; pip install --upgrade tensorflow-gpu
Collecting tensorflow-gpu
  Using cached tensorflow_gpu-1.0.0-cp35-cp35m-win_amd64.whl
Requirement already up-to-date: wheel&gt;=0.26 in c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages (from tensorflow-gpu)
Requirement already up-to-date: numpy&gt;=1.11.0 in c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages (from tensorflow-gpu)
Requirement already up-to-date: six&gt;=1.10.0 in c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages (from tensorflow-gpu)
Requirement already up-to-date: protobuf&gt;=3.1.0 in c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages (from tensorflow-gpu)
Collecting setuptools (from protobuf&gt;=3.1.0-&gt;tensorflow-gpu)
  Using cached setuptools-34.2.0-py2.py3-none-any.whl
Collecting appdirs&gt;=1.4.0 (from setuptools-&gt;protobuf&gt;=3.1.0-&gt;tensorflow-gpu)
  Using cached appdirs-1.4.0-py2.py3-none-any.whl
Collecting packaging&gt;=16.8 (from setuptools-&gt;protobuf&gt;=3.1.0-&gt;tensorflow-gpu)
  Using cached packaging-16.8-py2.py3-none-any.whl
Requirement already up-to-date: pyparsing in c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages (from packaging&gt;=16.8-&gt;setuptools-&gt;protobuf&gt;=3.1.0-
&gt;tensorflow-gpu)
Installing collected packages: tensorflow-gpu, appdirs, packaging, setuptools
  Found existing installation: tensorflow-gpu 0.12.1
    Uninstalling tensorflow-gpu-0.12.1:
Exception:
Traceback (most recent call last):
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\shutil.py", line 544, in move
    os.rename(src, real_dst)
FileNotFoundError: [WinError 3] The system cannot find the path specified: 'c:\\users\\my_user\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow
\\contrib\\tensor_forest\\hybrid\\python\\kernel_tests\\__pycache__\\k_feature_routing_function_op_test.cpython-35.pyc' -&gt; 'C:\\Users\\NATHAN~1\\AppData\\Local\\Temp\\pip-z9anp1kq-
uninstall\\users\\my_user\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\\tensorflow\\contrib\\tensor_forest\\hybrid\\python\\kernel_tests\\__pycache__\\
k_feature_routing_function_op_test.cpython-35.pyc'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages\pip\basecommand.py", line 215, in main
    status = self.run(options, args)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages\pip\commands\install.py", line 342, in run
    prefix=options.prefix_path,
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages\pip\req\req_set.py", line 778, in install
    requirement.uninstall(auto_confirm=True)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages\pip\req\req_install.py", line 754, in uninstall
    paths_to_remove.remove(auto_confirm)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages\pip\req\req_uninstall.py", line 115, in remove
    renames(path, new_path)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\site-packages\pip\utils\__init__.py", line 267, in renames
    shutil.move(old, new)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\shutil.py", line 558, in move
    copy_function(src, real_dst)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\shutil.py", line 257, in copy2
    copyfile(src, dst, follow_symlinks=follow_symlinks)
  File "c:\users\my_user\appdata\local\programs\python\python35\lib\shutil.py", line 121, in copyfile
    with open(dst, 'wb') as fdst:
FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\NATHAN~1\\AppData\\Local\\Temp\\pip-z9anp1kq-uninstall\\users\\my_user\\appdata\\local\\programs\\pyth
on\\python35\\lib\\site-packages\\tensorflow\\contrib\\tensor_forest\\hybrid\\python\\kernel_tests\\__pycache__\\k_feature_routing_function_op_test.cpython-35.pyc'
</code></pre>
<p>I've tried to manually uninstall tensorflow-gpu with pip, but I'm unable to uninstall it, and it looks like unless I can uninstall it, I can't upgrade to the latest version.</p>
<p>Any thoughts on why pip can't uninstall tensorflow?</p>
</div>
<div class="post-text" itemprop="text">
<p>Looks like the issue was with Windows path lengths beyond 260 characters not resolving properly.</p>
<p>To fix this, set the registry value <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\FileSystem\LongPathsEnabled</code> to 1.</p>
<p>I found the solution on the python 3.5 homepage:</p>
<p><a href="https://docs.python.org/3/using/windows.html" rel="nofollow noreferrer">https://docs.python.org/3/using/windows.html</a></p>
</div>
