<div class="post-text" itemprop="text">
<p>I have three files. In the first one, I define the global variable.</p>
<pre><code># file1.py
ABC = 111
</code></pre>
<p>In the second file, I change the content of the global variable.</p>
<pre><code># file2.py
from file1 import *

def set_value():
    global ABC
    ABC = 222
</code></pre>
<p>In the third file, I try to use set_value() defined in file2.py to change the contect of the global variable and print it.</p>
<pre><code># file3.py

from file1 import *
from file2 import *

set_value()
print ABC
</code></pre>
<p>The result is 111 not 222. The new value is not set in the global variable. How can I set the global value in file1.py using function in file2.py ?  </p>
</div>
<div class="post-text" itemprop="text">
<p>The line <code>from file1 import *</code> does two things:</p>
<ol>
<li>It imports the file <code>file1.py</code> into the module cache.</li>
<li>It creates new references of all the defined symbols in your local namespace.</li>
</ol>
<p>Because you have separate references, you can't update the ones in the module. If those are <em>mutable</em> variables, you can update them and see those updates in the module itself. For example, if you had <code>ABC = [111]</code> you could do <code>ABC[0] = 222</code> and you would see the change.</p>
<p>If you want to change the module itself, you need to use a reference to the module; modules are mutable!</p>
<pre><code># file2.py
import file1

def set_value():
    file1.ABC = 222
</code></pre>
<p>.</p>
<pre><code># file3.py

import file1
from file2 import *

set_value()
print file1.ABC
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You don't actually want to use the global keyword for this. Similarly to sharing global state with an empty object class, you can create an empty module with which you can assign attributes that will follow it wherever it's been imported. See <a href="https://docs.python.org/3/faq/programming.html#how-do-i-share-global-variables-across-modules" rel="nofollow noreferrer">"How do I share global variables across modules?"</a> from the python3 faq</p>
</div>
<span class="comment-copy">Nicely explained!</span>
