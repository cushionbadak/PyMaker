<div class="post-text" itemprop="text">
<p>I order to create a data base of Babylonian texts I need to clear some texts and tokenize them. I can do the tokanization but during the writing of the cleaning script I ran in to a problem.</p>
<p>I want to clear all the numbers since they don't really have meaning for me (It is probably just how much sheeps they had), but It is important to keep the numbers inside the <code>&lt;sub&gt;</code>.</p>
<p>Lets say I have the following text:</p>
<p><code>hello 502world a0.0.3b .1.4 &lt;sub&gt;5&lt;/sub&gt;</code></p>
<p>I want to turn it to: </p>
<p><code>hello NUMworld aNUMb NUM &lt;sub&gt;5&lt;/sub&gt;</code></p>
<p>Notice that <code>0.0.3</code> and <code>.1.4</code> also turns into <code>NUM</code> in addition to <code>502</code> that turns into a NUM too, but inside of <code>&lt;sub&gt;</code> I want to keep the number the same.</p>
<p>The text have non-ASCII chars in it which makes it much harder to deal with.</p>
<p>I have tried to write some code on my own to deal with it but it is getting very annoying and I think there is more <code>Pythonic</code> way of doing that.</p>
<p>This is a <a href="http://www.achemenet.com//fr/item/?/sources-textuelles/textes-par-langues-et-ecritures/babylonien/archives-ebabbar/1652393" rel="nofollow noreferrer">site</a> with examples for texts.</p>
</div>
<div class="post-text" itemprop="text">
<p>The solution using <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer"><strong><em>re.sub</em></strong></a> function:</p>
<pre><code>import re

s = "hello 502world a0.0.3b .1.4 &lt;sub&gt;5&lt;/sub&gt;"
replaced = re.sub(r'(NUM){2,}', 'NUM', re.sub(r'(?&lt;!&lt;sub&gt;)\.?\d+', 'NUM', s))

print(replaced)
</code></pre>
<p>The output:</p>
<pre><code>hello NUMworld aNUMb NUM &lt;sub&gt;5&lt;/sub&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>A simple regular expression would do the trick:</p>
<pre><code>re.sub(r'(\.?\d+)+', 'NUM', "hello 502world a0.0.3b .1.4")
#'hello NUMworld aNUMb NUM'
</code></pre>
</div>
<span class="comment-copy">You are not really "tokenizing" it, as the output isn't a list of tokens, it is just a modified string. So... just use regular expressions to modify the string. If you want to tokenize, my answer might be different.</span>
<span class="comment-copy">i have already toknaized every thing but i need to filter it a little bit more</span>
<span class="comment-copy">OP has changed request to ignore numbers inside of "sub" tags. Makes the regex a little harder.</span>
<span class="comment-copy">@RobertB, Ok, I've updated my answer</span>
<span class="comment-copy">Thanks thats working also TY for the edit</span>
<span class="comment-copy">hate being a bummer but i need to save the number is he is in &lt;sub&gt;5&lt;/sub&gt;</span>
<span class="comment-copy">I do not understand your comment. At least not the second part of it.</span>
<span class="comment-copy">I changed the question look at it again please</span>
<span class="comment-copy">What <i>other</i> numbers should <i>not</i> be replaced?</span>
