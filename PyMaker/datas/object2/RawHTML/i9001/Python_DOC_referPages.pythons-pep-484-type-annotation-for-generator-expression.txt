<div class="post-text" itemprop="text">
<p>What is the correct type annotation for a function that returns a <a href="https://docs.python.org/3/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expression</a>? </p>
<p>e.g.:</p>
<pre><code>def foo():
    return (x*x for x in range(10))
</code></pre>
<p>I can't figure out if this is <code>-&gt; Iterator[int]</code>, <code>-&gt; Iterable[int]</code>, <code>-&gt; Generator[int, None, None]</code>, or something else.</p>
<p>If <em>there should be one-- and preferably only one --obvious way to do it</em>, then what is the <em>obvious way</em> here?</p>
</div>
<div class="post-text" itemprop="text">
<p>All three forms mentioned by you in question are listed as <a href="https://docs.python.org/3/library/typing.html#typing.Generator" rel="nofollow noreferrer">valid alternatives in documentation</a>, Generator expression simply creates a generator that only yields.</p>
<p>Quote 1:</p>
<blockquote>
<p>A generator can be annotated by the generic type <code>Generator[YieldType,
  SendType, ReturnType]</code>. </p>
</blockquote>
<p>Quote 2:</p>
<blockquote>
<p>If your generator will only yield values, set the <code>SendType</code> and
  <code>ReturnType</code> to <code>None</code></p>
</blockquote>
<p>Quote 3:</p>
<blockquote>
<p>Alternatively, annotate your generator as having a return type of
  either <code>Iterable[YieldType]</code> or <code>Iterator[YieldType]</code>:</p>
</blockquote>
</div>
