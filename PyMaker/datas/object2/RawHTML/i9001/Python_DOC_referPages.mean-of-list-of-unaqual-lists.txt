<div class="post-text" itemprop="text">
<p>I try to get a list that include the mean of all of (i)th element in all lists of a list.To explain more, if i have the next list:</p>
<pre><code>A=[[1,2],  [2,3], [1,2,3], [3,4,5], [2,2,1]].
</code></pre>
<p>I want to have <code>[a,b,c]</code> with:</p>
<pre><code>a = (1+2+1+3+2)/5
b = (2+3+2+4+2)/5
c = (3+5+1)/3
</code></pre>
<p>Any help please!</p>
</div>
<div class="post-text" itemprop="text">
<p>use <code>itertools.zip_longest</code> to zip values together. The extra difficulty is that the length of the data varies. <code>zip_longest</code> inserts <code>None</code> as a fill value. We have to create a filtered list, and count only those items:</p>
<pre><code>import itertools

A=[[1,2], [2,3], [1,2,3], [3,4,5], [2,2,1]]

tuples = itertools.zip_longest(*A)
for t in tuples:
    s = [x for x in t if x is not None]
    print(sum(s)/len(s))
</code></pre>
<p>result:</p>
<pre><code>1.8
2.6
3.0
</code></pre>
<p>EDIT: one-liner (maybe a bit more complex, using <code>lambda</code> to compute mean):</p>
<pre><code>result = [(lambda x : sum(x)/len(x))([x for x in t if x is not None]) for t in itertools.zip_longest(*A)]
</code></pre>
<p>result: <code>[1.8, 2.6, 3.0]</code></p>
<p>(Python 2 users have to replace <code>zip_longest</code> by <code>izip_longest</code>)</p>
</div>
<div class="post-text" itemprop="text">
<p>You can try with <a href="https://docs.python.org/2/library/itertools.html#itertools.izip_longest" rel="nofollow noreferrer"><code>itertools.izip_longest()</code></a> like so if you are on Python2:</p>
<pre><code>from itertools import izip_longest
from __future__ import division

A=[[1,2],  [2,3], [1,2,3], [3,4,5], [2,2,1]]
a,b,c = [sum(filter(None, c))/len(filter(None,c)) for c in izip_longest(*A)]

print a
print b
print c
</code></pre>
<p>Output:</p>
<pre><code>1.8
2.6
3.0
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/itertools.html#itertools.zip_longest" rel="nofollow noreferrer"><code>itertools.zip_longest</code></a> to generate the sublists, and <a href="https://docs.python.org/3/library/statistics.html#statistics.mean" rel="nofollow noreferrer"><code>statistics.mean</code></a> to calculate the average for each group, disregarding the <code>None</code>s:</p>
<pre><code>from itertools import zip_longest
from statistics import mean

averages = list(map(lambda l: mean(i for i in l if i != None), zip_longest(*A)))
</code></pre>
<p>With your example:</p>
<pre><code>&gt;&gt;&gt; A = [[1, 2], [2, 3], [1, 2, 3], [3, 4, 5], [2, 2, 1]]
&gt;&gt;&gt; from itertools import zip_longest
&gt;&gt;&gt; from statistics import mean
&gt;&gt;&gt; list(map(lambda l: mean(i for i in l if i != None), zip_longest(*A)))
[1.8, 2.6, 3]
</code></pre>
</div>
<span class="comment-copy">funny how all proposed solutions are the same XD</span>
<span class="comment-copy">Thank you! It works very well.. :)</span>
<span class="comment-copy">PS: zip_longest not supported anymore, changed to izip_longest</span>
<span class="comment-copy">@E.Em: actually it's the opposite. You're using python 2. You can accept the answer if it works BTW.</span>
<span class="comment-copy">you can also use a list comprehension instead of a list-map-lambda: <code>[ mean(i for i in L if i !=None) for L in zip_longest(*A) ]</code> and is shorted</span>
<span class="comment-copy">Statistics is deprecated, changed to scipy.stats</span>
<span class="comment-copy">I got this error  TypeError: object of type 'generator' has no len()</span>
<span class="comment-copy">@E.Em <code>statistics</code> is a python builtin module, definitely not deprecated, <code>scipy</code> is an external package. Also, my code contains no trace of <code>len</code> so your error is probably from one of the other answers.</span>
<span class="comment-copy">at first I thought that it was some external module that I happens to have because it come with anaconda, but no, it is a build-in indeed, I spotted it while searching for something else and I returned here immediately to give you my up-vote XD, I also include the link to it</span>
