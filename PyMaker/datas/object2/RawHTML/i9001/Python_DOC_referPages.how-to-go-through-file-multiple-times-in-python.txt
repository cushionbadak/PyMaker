<div class="post-text" itemprop="text">
<p>When I am doing a while loop, I want my code to go through the same file multiple times:</p>
<pre><code>file = open('anyfile.txt', 'r')
x = 0 
while x&lt;5:
    for line in file:
        #does stuff
    x = x + 1
</code></pre>
<p>My code is different, so I have given a simpler piece of code as an example. Whenever I do this, the while loop executes, goes through the file once, and then goes through the while loop till it stops, only going through the file once.
How do I get my code to run through the file multiple times? The reason for this is because in my actual code I edit he text file in each loop. Please can someone help? </p>
</div>
<div class="post-text" itemprop="text">
<p>You can only iterate iterator <code>file</code> once, then it will not yield any more. You can use <code>with open(filename)</code> read the file each time you run through the while loop</p>
<pre><code>while x &lt; 5:
    with open('anyfile.txt') as inputs:
        for line in inputs:
            # do you work here
    x = x +1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>File objects in Python are iterators, once you read until EOF once, the iterator gets exhausted.</p>
<p>You could read the file into a list, so you can iterate on it as many times as is required:</p>
<pre><code>file = open('anyfile.txt', 'r').readlines()
x = 0 
while x &lt; 5:
    for line in file:
        # does stuff
    x = x + 1
file.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer"><code>seek</code></a> to set a file pointer back to the beginning:</p>
<pre><code>file = open('anyfile.txt', 'r')
x = 0 
while x &lt; 5:
    file.seek(0)  # Reset file pointer to start 
    for line in file:
        #does stuff
    x = x + 1
</code></pre>
</div>
<span class="comment-copy">you have to rewind your file at each iteration.</span>
<span class="comment-copy"><code>file</code> is iterator</span>
<span class="comment-copy">so i basically have to state file = open('anyfile.txt', 'r') after i declare the while loop?</span>
<span class="comment-copy">You can do that, but then you have to read the file in each time. If it's reasonable to keep the contents in memory, append each line of the file to a list beforehand and iterate through that instead.</span>
<span class="comment-copy">Thank you so much, to be honest I was quite dumb to have not noticed the simplicity of my problem, cheers</span>
