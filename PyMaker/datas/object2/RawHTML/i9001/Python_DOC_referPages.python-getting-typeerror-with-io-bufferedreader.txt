<div class="post-text" itemprop="text">
<p>I'm trying to implement the Prim Algorithm, but keep getting this error and I don't know what to do. Both the files are .txt files, the first one (the one assigned to matrizA) contains an adjacency matrix, while the second one is a list of the vertices names, one in each line.</p>
<pre><code>import networkx as nx

def peso(matrizA, u,v):
    return matrizA[u][v]

def adjac(matrizA, u):
    L = []
    for x in range(len(matrizA)):
        L.insert(0,x)
    return L

def extraiMin(Q):
    q = Q[0]
    Q.remove(Q[0])
    return q

def decKey(Q, K):
    for i in range(len(Q)):
        for j in range(len(Q)):
            if K[Q[i]]&lt; K[Q[j]]:
                s = Q[i]
                Q[i] = Q[j]
                Q[j] = s

def prim(vList, matrizA, r):
    u = 0
    v = 0
    P = [None]*len(vList)
    K = [999999999]*len(vList)

    Q=[0]*len(V)
    for u in range(len(Q)):
        Q[u] = vList[u]

    K[r] = 0
    decKey(Q, K)
    while len(Q) &gt; 0:
        u = extraiMin(Q)   
        Adj = adjac(matrizA, u)
        for v in Adj:
            w = peso(matrizA, u)

            if Q.count(v) &gt; 0 and w &lt; K[v]:
                P[v] = u
                K[v] = w
                decKey(Q, K)
    return P

matrizA = open("C:\TrabalhoGrafos\Prim\MatrizAdjacencia_Pesos.txt", 'rb')
V = open("C:\TrabalhoGrafos\Prim\AirportList_Vertices.txt", 'rb')

P = prim(V, matrizA, 0)
print (P)
</code></pre>
<p>The error PyCharm is showing me is this: </p>
<blockquote>
<p>Traceback (most recent call last):</p>
<p>File "C:/TrabalhoGrafos/Prim/Prim.py", line 74, in </p>
<p>P = prim(V, matrizA, 0)</p>
<p>File "C:/TrabalhoGrafos/Prim/Prim.py", line 40, in prim</p>
<p>P = [None]*len(vList)</p>
<p>TypeError: object of type '_io.BufferedReader' has no len()</p>
</blockquote>
<p>I kept the other functions</p>
</div>
<div class="post-text" itemprop="text">
<p>You just opened the file with <code>V = open("C:\TrabalhoGrafos\Prim\AirportList_Vertices.txt", 'rb')</code>.<br/>
While <code>def prim(vList, matrizA, r)</code> expects a list.<br/>
It's wrong because you're passing a file object instead as <code>vList</code> to <code>prim()</code>.<br/>
File objects do not have a method called <code>len()</code>: <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects</a> </p>
<p>You should read the lines as a list and pass it to <code>prim()</code>.<br/>
Right now you <strong><em>just opened the file</em></strong>, you <strong><em>haven't read the content</em></strong>.  </p>
<p>You could have something like:</p>
<pre><code>vList_file = "C:\TrabalhoGrafos\Prim\AirportList_Vertices.txt"
with open(vList_file, "rt") as in_file:
    V = in_file.readlines()
V = [x.strip() for x in V]  # strip '\n' from each element
P = prim(V, matrizA, 0) 
...
</code></pre>
<p>Careful, as similar applies for <code>matrizA</code>. In that case you're also just passing a file object that you opened so you will hit a similar error when <code>for x in range(len(matrizA)):</code> executes in <code>def adjac(matrizA, u)</code>.  </p>
<p>Also remember that you have <strong>text files</strong> (as it looks like) so you shouldn't open the file in byte mode (i.e. using the argument <code>'rb'</code>).<br/>
More in<br/>
<a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files</a></p>
</div>
<span class="comment-copy">You just opened the file with <code>V = open("C:\TrabalhoGrafos\Prim\AirportList_Vertices.txt", 'rb')</code>.  While <code>def prim(vList, matrizA, r)</code> expects a list. It's wrong because you're passing a file object instead to prim(). You should read the lines as a list and pass it to prim()....</span>
