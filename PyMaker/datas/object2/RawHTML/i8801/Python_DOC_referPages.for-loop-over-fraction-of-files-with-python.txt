<div class="post-text" itemprop="text">
<p>Is there a way to create a for loop that executes over a fraction of files?
In this case, I would like to move 1/5 (the last 1/5 of the files) of all my images in subfolders to another folder with its subfolders. I have started some, but need help.</p>
<pre><code>import os

path = 'pictures/'
outpath = 'oldpictures/'

for root, dirs, filenames in os.walk(path):
    new_dir = root.replace(path, outpath, 1)
    if not os.path.exists(new_dir):
        os.mkdir(new_dir)
    for filename in filenames: #Is it here that I can loop over the last fraction of all the files somehow?
        os.system(mv {0} {1}.format(filename, new_dir)) #Dunno if this is the best way either or if it is possible.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Sure, just slice <code>filenames</code> accordingly:</p>
<pre><code># Loop through the last ~1/5 of filenames
for filename in filenames[4*len(filenames)//5:]:
    ...
</code></pre>
<p>You may need to make adjustments if there is specific rounding behavior you expect.</p>
<p>Also, don't use <code>os.system()</code> to move files. Use <a href="https://docs.python.org/3/library/os.html#os.rename" rel="nofollow noreferrer"><code>os.rename()</code></a>.</p>
</div>
<span class="comment-copy">Does it have to be the last 20%, or is that just an example. Do an arbitrary 20% is easier... you just keep a counter and move every 5th file you traverse.</span>
<span class="comment-copy">Do a count of files first say <code>cnt</code>. Get a counter inside for loop and every time do <code>counter += 1</code>. Whenever <code>counter &gt; 0.8 * cnt</code> start moving files <code>else continue</code></span>
