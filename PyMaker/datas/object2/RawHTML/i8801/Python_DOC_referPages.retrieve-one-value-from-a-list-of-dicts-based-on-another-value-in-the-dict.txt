<div class="post-text" itemprop="text">
<p>I have a dictionary created from a JSON document:</p>
<pre><code>{
  "response": {
  "version":"0.1",
  "termsofService":"http://www.wunderground.com/weather/api/d/terms.html",
  "features": {
  "hourly": 1
  }
    }
    ,
"hourly_forecast": [
    {
    "FCTTIME": {
    "hour": "22","hour_padded": "22","min": "00","min_unpadded": "0","sec": "0","year": "2017","mon": "3","mon_padded": "03","mon_abbrev": "Mar","mday": "8","mday_padded": "08","yday": "66","isdst": "0","epoch": "1489028400","pretty": "10:00 PM EST on March 08, 2017","civil": "10:00 PM","month_name": "March","month_name_abbrev": "Mar","weekday_name": "Wednesday","weekday_name_night": "Wednesday Night","weekday_name_abbrev": "Wed","weekday_name_unlang": "Wednesday","weekday_name_night_unlang": "Wednesday Night","ampm": "PM","tz": "","age": "","UTCDATE": ""
    },
    "temp": {"english": "50", "metric": "10"},
    "dewpoint": {"english": "20", "metric": "-7"},
    "condition": "Partly Cloudy",
    "icon": "partlycloudy",
    "icon_url":"http://icons.wxug.com/i/c/k/nt_partlycloudy.gif",
    "fctcode": "2",
    "sky": "6",
    "wspd": {"english": "29", "metric": "47"},
    "wdir": {"dir": "W", "degrees": "262"},
    "wx": "Clear/Wind",
    "uvi": "0",
    "humidity": "30",
    "windchill": {"english": "-9999", "metric": "-9999"},
    "heatindex": {"english": "-9999", "metric": "-9999"},
    "feelslike": {"english": "50", "metric": "10"},
    "qpf": {"english": "0.0", "metric": "0"},
    "snow": {"english": "0.0", "metric": "0"},
    "pop": "0",
    "mslp": {"english": "30.01", "metric": "1016"}
    }
    ,
    {
    "FCTTIME": {
    "hour": "23","hour_padded": "23","min": "00","min_unpadded": "0","sec": "0","year": "2017","mon": "3","mon_padded": "03","mon_abbrev": "Mar","mday": "8","mday_padded": "08","yday": "66","isdst": "0","epoch": "1489032000","pretty": "11:00 PM EST on March 08, 2017","civil": "11:00 PM","month_name": "March","month_name_abbrev": "Mar","weekday_name": "Wednesday","weekday_name_night": "Wednesday Night","weekday_name_abbrev": "Wed","weekday_name_unlang": "Wednesday","weekday_name_night_unlang": "Wednesday Night","ampm": "PM","tz": "","age": "","UTCDATE": ""
    },
    "temp": {"english": "49", "metric": "9"},
    "dewpoint": {"english": "20", "metric": "-7"},
    "condition": "Partly Cloudy",
    "icon": "partlycloudy",
    "icon_url":"http://icons.wxug.com/i/c/k/nt_partlycloudy.gif",
    "fctcode": "2",
    "sky": "5",
    "wspd": {"english": "24", "metric": "39"},
    "wdir": {"dir": "W", "degrees": "263"},
    "wx": "Clear/Wind",
    "uvi": "0",
    "humidity": "32",
    "windchill": {"english": "-9999", "metric": "-9999"},
    "heatindex": {"english": "-9999", "metric": "-9999"},
    "feelslike": {"english": "49", "metric": "9"},
    "qpf": {"english": "0.0", "metric": "0"},
    "snow": {"english": "0.0", "metric": "0"},
    "pop": "0",
    "mslp": {"english": "30.02", "metric": "1017"}
    }
</code></pre>
<p>With this data, I want to get the 'temp' value from the first dictionary in the 'hourly_forecast' list whose 'hour' is '22'.</p>
<p>I know I could use the code below to get the first element:</p>
<pre><code>j_hour['hourly_forecast'][0]['temp']['english']
</code></pre>
<p>... but this data always changes based on the time I retrieve it, so if it was 1 PM it would be <code>"hour": "13"</code> first up.</p>
<p>Basically I need help with pulling the 'temp' data based on the 'hour' value with a list that is always changing, so I can't just pull it based on element sequence.</p>
<p>To sum it up, I'm stuck printing the 'temp' key from the 'hour' I want.</p>
</div>
<div class="post-text" itemprop="text">
<p>A good way to approach this is to narrow your search down step by step until you get just the piece of information you're looking for.</p>
<p>First, use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> to get all the english temperatures, regardless of hour:</p>
<pre><code>&gt;&gt;&gt; [d['temp']['english'] for d in j_hour['hourly_forecast']]
['50', '49', ...]
</code></pre>
<p>Then restrict it to cases where the hour is '22':</p>
<pre><code>&gt;&gt;&gt; [d['temp']['english'] for d in j_hour['hourly_forecast']
...                       if d['FCTTIME']['hour'] == '22']
['50']
</code></pre>
<p>Now you've got the temperature you want, wrapped in a list. If you convert the list comprehension to a <a href="https://docs.python.org/3/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expression</a> by replacing the brackets <code>[]</code> with parentheses <code>()</code>, you can call <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer"><code>next()</code></a> on it to get the first (and only, in this case) item:</p>
<pre><code>&gt;&gt;&gt; next(d['temp']['english'] for d in j_hour['hourly_forecast']
...                           if d['FCTTIME']['hour'] == '22')
'50'
</code></pre>
<p><em>... et voilà!</em></p>
</div>
<span class="comment-copy">Yes this is exactly what I was looking for! If you don't mind mind me asking how would I add a second hour to your function? I've never used generator expressions before and I got     <code>next(d['temp']['english'] for d in j_hour['hourly_forecast'] if d['FCTTIME']['hour'] == '22', '21')         ^ SyntaxError: Generator expression must be parenthesized if not sole argument</code></span>
<span class="comment-copy"><code>next(f['temp']['english'] for f in j_hour['hourly_forecast'] if f["FCTTIME"]['hour'] in ('21', '22'))</code> ... note that if more than one dictionary matches, <code>next()</code> will only return the first. If you want all matching results, go back to a listcomp and forget about <code>next()</code>, e.g. <code>[f['temp']['english'] for f in j_hour['hourly_forecast'] if f["FCTTIME"]['hour'] in ('21', '22')]</code></span>
<span class="comment-copy">Apart from using <code>==</code> when <code>in</code> is the right operator for testing membership in the collection <code>('21', '22')</code>, the syntax error you got was because you didn't wrap <code>'22', '21'</code> in parentheses – which meant that Python couldn't easily tell whether it was part of the genexp, or a second argument to <code>next()</code> ... i.e. <code>next(&lt;genexp&gt;, '21')</code>.</span>
<span class="comment-copy">Yes thank you so much. The <code>next(f['temp']['english'] for f in j_hour['hourly_forecast'] if f["FCTTIME"]['hour'] in ('21', '22'))</code> was only printing one value so I used the second one and for any hour that was above 12 (the entire json data had 48 hours worth so hours were repeated) and I used <code>hours_48 = [f['temp']['english'] for f in j_hour['hourly_forecast'] if f["FCTTIME"]['hour'] in ('4', '7')]  hours_24 = hours_48[:-2]</code> to remove the last two values since I only wanted it for one day. All is well now! Thank you</span>
