<div class="post-text" itemprop="text">
<p>I want to insert a string in a certain row, via String and Number of Position 
From:</p>
<pre><code>Str1
Str2
Str3
</code></pre>
<p>To</p>
<pre><code>Str1
Str2
Inserted String
Str3
</code></pre>
<p>I have done much research, some replaces the value, so it was of no use, any ideas how to go about it? New from python, I tried translating my code from C++, but its kind of hard to do it in this language.</p>
<p>My code so far:</p>
<pre><code>sk= raw_input("\nWhat SKU would you like to insert?: ")
pos= int(raw_input("\nAt what row?: "))


f = open("files.csv","r")
lines = f.readlines()
f.close()
print(row[pos])
f = open("files.csv","w")

for line in lines:
    if line.startswith(line[pos]):
        line[pos] = sk
f.close()
</code></pre>
<p>Please help. Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>If it is a line-wise text file, then this would be a way to do it.</p>
<pre><code>sk= raw_input("\nWhat SKU would you like to insert?: ")
pos= int(raw_input("\nAt what row?: "))

with open("files.csv","r") as f:
    lines = f.readlines()

lines.insert(pos, sk + '\n')

with open("files.csv","w") as f:
    for line in lines:
        f.write(line)
</code></pre>
<p>Using <code>with</code> always closes files, even in case of errors or other unexpected events (the <a href="https://docs.python.org/2/reference/compound_stmts.html#the-with-statement" rel="nofollow noreferrer"><code>with</code> statement manages contexts</a>, not only for file handlers). Then, simply insert the item into the list and write the list back.</p>
<p>If you don't want to modify the list in-memory, you could <a href="https://docs.python.org/2/library/functions.html#enumerate" rel="nofollow noreferrer">use the built-in enumerate</a> in the second for-loop:</p>
<pre><code>with open("files.csv","w") as f:
    for i, line in enumerate(lines):
        if i == pos:
            f.write(sk + '\n')
        f.write(line)
</code></pre>
<p>But if you want to manipulate the CSV data in some way, you could <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">just <code>import csv</code></a>.</p>
</div>
<span class="comment-copy">Wow, thanks! didn't know there was actually a built-in for that, but I got another problem. the (files+ '\n'). I tried the program with a larger file, and when it ran, in the CSV, it skips a field(well I know that this was caused by the '\n') and when I delete it, when i insert something it concat's to the existing in that row, is there a way to make this not skip a row?  Instead of  SKU-111  SKU-333  SKU-222  to  SKU-111 SKU-333 SKU-222</span>
<span class="comment-copy">You are correct, <a href="https://docs.python.org/2/library/stdtypes.html#file.readline" rel="nofollow noreferrer">the docs for <code>file.readline()</code> say:</a> "trailing newline character is kept in the string". So there is no need to add it when writing previous lines back to the files. Only when inserting the new string. I will update the answer.</span>
<span class="comment-copy">Thanks! It was solved!</span>
