<div class="post-text" itemprop="text">
<p>I'm using Python 3's <a href="https://docs.python.org/3/library/pathlib.html" rel="noreferrer"><code>pathlib</code></a> module, like this:</p>
<pre><code>from pathlib import Path

filename = Path(__file__).parent / "example.txt"
contents = open(filename, "r").read()
</code></pre>
<p>But I get this error on some machines:</p>
<pre><code>TypeError: invalid file: PosixPath('example.txt')
</code></pre>
<p>But on my machine it works.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/pathlib.html" rel="noreferrer"><code>pathlib</code></a> integrates seemlessly with <code>open</code> only in Python 3.6 and later. From <a href="https://docs.python.org/3/whatsnew/3.6.html" rel="noreferrer">Python 3.6's release notes</a>:</p>
<blockquote>
<p>The built-in <code>open()</code> function has been updated to accept <code>os.PathLike</code> objects, as have all relevant functions in the <code>os</code> and <code>os.path</code> modules, and most other functions and classes in the standard library.</p>
</blockquote>
<p>To get it to work in Python 3.5 and Python 3.6, just convert the object to a string:</p>
<pre><code>contents = open(str(filename), "r").read()
</code></pre>
</div>
<span class="comment-copy">Or <code>with open(str(filename)):</code></span>
<span class="comment-copy">or if you know it's a Path object: <code>filename.open()</code> or a higher-level function like <code>filename.read_text()</code></span>
