<div class="post-text" itemprop="text">
<p>I have a list that contains DNA and random lines like this:</p>
<pre><code> dnalist=['AGTCCTGCAGTCG', '@#$@#!AG!!ECG']
</code></pre>
<p>I want to make a function that filters out any lines that containing anything other than the characters 'A' 'G' 'C' or 'T'. So far my code has a very crude way of filtering that can easily be fooled:</p>
<pre><code>def seperate(B):
    'takes a list and seperates the DNA lines'
    newlist=[]
    for i in B:
      if i[0]=='G'or i[0]=='A' or i[0]=='T' or i[0]=='C':
           newlist.append(i)           
    return newlist
</code></pre>
<p>If anyone can point me to some helpful tutorials regarding python data manipulation that would be great too. Thanks!!!</p>
</div>
<div class="post-text" itemprop="text">
<p>Possibly the best tool for data manipulation you can learn is comprehensions (check out the Python docs tutorial to learn about those). Here's a solution using them:</p>
<pre><code>[string for string in dnalist if all(char in "GATC" for char in string)]
</code></pre>
<p>You can see you basically describe the data you want. The above means "give me all the strings where all of the characters in the string are in the set {"G", "A", "T", "C"}.</p>
</div>
<div class="post-text" itemprop="text">
<p>There are many different and efficient ways to do it. This is one way:</p>
<pre><code>In [1]: dnalist=['AGTCCTGCAGTCG', '@#$@#!AG!!ECG']

In [2]: filter(lambda x: set(x).issubset(set('ACGT')), dnalist)
Out[2]: ['AGTCCTGCAGTCG']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/re.html#re.search" rel="nofollow noreferrer">re.search</a> with regex <code>[^AGTC]</code> which tries to find out non <code>AGTC</code> characters, if there is any in the string, exclude it with an <code>if</code> in the list comprehension:</p>
<pre><code>import re
[x for x in dnalist if not re.search('[^AGTC]', x)]
# ['AGTCCTGCAGTCG']
</code></pre>
</div>
