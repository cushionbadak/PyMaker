<div class="post-text" itemprop="text">
<p>In python, which is more efficient:</p>
<pre><code>if a:
    if b:
        # do something
</code></pre>
<p>or</p>
<pre><code>if a and b:
    # do something
</code></pre>
<p>The latter would be more efficient if <code>b</code> isn't calculated when <code>a</code> is false. But I can't seem to pinpoint whether that's the case in Python docs. Maybe someone can point me to it?</p>
</div>
<div class="post-text" itemprop="text">
<h2>Short-Circuiting</h2>
<p>Python doesn't run <code>Y</code> in <code>X and Y</code> if <code>X</code> is false. You can try it out yourself:</p>
<pre><code>if True and print("Hello1"):
    pass

if False and print("Hello2"):
    pass # "Hello2" won't be printed
</code></pre>
<p>The reason Python does this is it has something called short-circuiting which optimising logic expressions like this one. Python realises that if if <code>X</code> is false then there is no point in checking <code>Y</code> because the whole expression will be false anyway.</p>
<h2>How to Avoid Short-Circuiting</h2>
<p>You can bypass this in Python by using the bitwise versions of the logic operators:</p>
<pre><code>and -&gt; &amp; 
or -&gt; |
</code></pre>
<p>For example:</p>
<pre><code>if True &amp; bool(print("Hello1")):
    pass

if False &amp; bool(print("Hello2")):
    pass # "Hello2" will be printed this time
</code></pre>
<p>Note however that you need to wrap <code>print</code> in <code>bool</code> because bitwise only works on the same data types.</p>
<h2>Performance</h2>
<p>I would imagine performance wise the one with only one if statement would be faster as other wise python might have to go through 2 if statements if it finds the conditions are true.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is called short-circuiting, and it <a href="https://docs.python.org/3/library/stdtypes.html#boolean-operations-and-or-not" rel="nofollow noreferrer">is mentioned in the docs</a>.</p>
<p>And the answer is, Python will not evaluate b if a is False.</p>
</div>
<div class="post-text" itemprop="text">
<p>It evaluates from left to right, simple experiment</p>
<pre><code>def iftrue1():
    print("iftrue1")
    return True

def iftrue2():
    print("iftrue2")
    return True

if iftrue1() and iftrue2():
    pass
</code></pre>
<p>This outputs</p>
<pre><code>iftrue1
iftrue2
</code></pre>
</div>
