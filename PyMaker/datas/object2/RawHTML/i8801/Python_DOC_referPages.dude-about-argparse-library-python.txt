<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/15301147/python-argparse-default-value-or-specified-value">Python argparse: default value or specified value</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I know get values from argsparse like:  </p>
<pre><code>parser.add_argument('--volume', help='Ejecuta una aplicacion cualquiera')
</code></pre>
<p>Also I know if the argument is True or False with this:</p>
<pre><code>parser.add_argument('--getVolume', action='store_true', help='Ejecuta una aplicacion cualquiera')
</code></pre>
<p>But I don't Know use both some time, because I want use the argument like getter-setter. For example if I dont write a number the program return the current volume and if I write a number the app set this volume to the robot.</p>
<pre><code>python app.py --volume      # Return the current volume
python app.py --volume 80   # Set the volume to the 80%
</code></pre>
<p>Thank you very much,</p>
<p>Carlos.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the default value for the set/get checking. Some pseudo code:</p>
<pre><code>parser.add_argument("-v", "--vol", dest="vol",  
    help="the volume [default: %(default)s]",
    default=None
)
args = parser.parse_args()

if None == args.vol:
    print(str(getVolume()))
else:
    setVolume(float(args.vol))
</code></pre>
</div>
<span class="comment-copy">In addition to the link, use such a default that you can then decide whether to display or update the volume.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html</a> Look example 16.4.3.2</span>
<span class="comment-copy">While this works, it'll always either get or set. Using <code>nargs='?'</code> with <code>const=...</code> would make it truly optional, if needed.</span>
<span class="comment-copy">You aren't taken into account the case when the user enters <code>--vol</code> without specifying a value for it.</span>
<span class="comment-copy">this is a pseudo code. Feel free to change it. I would serve that problem in the way when no params are put on the commandline the programm is in get mode. If there is a volume parameter it is in set mode</span>
<span class="comment-copy">Thank you!  The problem was that of this way I need if the argument volume exists. I solved my problem with: <code>parser.add_argument('--volume', help='Ejecuta una aplicacion cualquiera', nargs='?', const='get')</code>. Of this form if the argument volume don't exist the value is None, if the argument volume exist but it haven't value the value is 'get'. Thank you, very much.</span>
