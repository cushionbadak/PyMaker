<div class="post-text" itemprop="text">
<p>I have python script that compares existing file names in a folder to a reference table and then determines if it needs to be renamed or not.</p>
<p>As it loops through each filename:</p>
<pre><code>'oldname' = the current file name

'newname' = what it needs to be renamed to
</code></pre>
<p>I want rename the file and move it to a new folder "..\renamedfiles"</p>
<p>Can I do the rename and the move at the same time as it iterates through the loop?</p>
<p>Update:
Apologies, I'm fairly green with scrpting in general but this appears to be pretty basic. <strong>shutil.move</strong> is exactly what I needed THANKS- I just didn't know to look for it.  Successful test below. Now to work it into the script.</p>
<pre><code> import shutil
 os.chdir ('C:\Users\me\Desktop\New folder')
 renFolder= 'Renamed'
 oldname = 'Test.txt'
 newname= 'renTest.txt'
 shutil.move(oldname, renFolder+'/'+newname)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>os.rename</code> (and <code>os.replace</code>) won't work if the source and target locations are on different partitions/drives/devices. If that's the case, you need to <a href="https://docs.python.org/3/library/shutil.html#shutil.move" rel="noreferrer">use <code>shutil.move</code></a>, which will use atomic renaming if possible, and fallback to copy-then-delete if the destination is not on the same file system. It's perfectly happy to both move and rename in the same operation; the operation is the same regardless.</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes you can do this. In python you can use the <em>move</em> function in <a href="https://docs.python.org/2/library/shutil.html" rel="nofollow noreferrer">shutil</a> library to achieve this.</p>
<p>Lets say on linux, you have a file in /home/user/Downloads folder named "test.txt" and you want to move it to /home/user/Documents and also change the name to "useful_name.txt". You can do both things in the same line of code: </p>
<pre><code>import shutil

shutil.move('/home/user/Downloads/test.txt', '/home/user/Documents/useful_name.txt')
</code></pre>
<p>In your case you can do this:</p>
<pre><code>import shutil

shutil.move('oldname', 'renamedfiles/newname')
</code></pre>
<p>Cheers.</p>
</div>
<div class="post-text" itemprop="text">
<p>Create a Python file in your desired directory and write something like that :</p>
<pre><code>import os

for filename in os.listdir("."):
    if(filename ...):
        newFilename = ...
        os.rename(filename, newFilename)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To do both of the operations, you can use the <code>os.rename(src, dest)</code> function.</p>
<p>You should have the wanted directory to save the file in, and the new file name. You can do this for every file you run across in your loop.</p>
<p><strong>For example:</strong></p>
<pre><code>dest_dir = "/tmp/2"
new_name = "bar.txt"
current_file_name = "/tmp/1/foo.txt"
os.rename(current_file_name, dest_dir+"/"+new_name)
</code></pre>
<p>The <code>rename</code> function allows you to change the name of the file and it's folder at the same time.</p>
<p>To prevent any errors in renaming and moving of the file, use <a href="https://docs.python.org/3/library/shutil.html#shutil.move" rel="nofollow noreferrer">shutil.move</a>.</p>
</div>
<span class="comment-copy">Show us your loop code - your attempts to solve it.</span>
<span class="comment-copy">Renaming and moving a file are the same thing.</span>
<span class="comment-copy">Use <a href="https://docs.python.org/2/library/os.html#os.rename" rel="nofollow noreferrer"><code>os.rename</code></a> and <a href="https://docs.python.org/2/library/shutil.html#shutil.move" rel="nofollow noreferrer"><code>shutil.move</code></a></span>
<span class="comment-copy">@inspectorG4dget or, just use <code>shutil.move</code> as it does the correct thing anw.</span>
<span class="comment-copy">I downvoted because you recommended an existing primitive that <i>deletes</i> files. I wouldn't have cared otherwise. downvote removed. Your honest mistake could have honestly caused harm</span>
<span class="comment-copy">@Jean-FrançoisFabre I know, didn't meant to. Thanks for that!</span>
<span class="comment-copy">I think your subconscient made you mix <code>os.rename</code> with <code>shutil.move</code> and that gave <code>os.remove</code> :)</span>
<span class="comment-copy">@Jean-FrançoisFabre Defenetly. Now I get it ;)</span>
<span class="comment-copy">If you're using the os module already, you should probably also use 'os.path.join' (not just <code>+"/"+...</code> to ensure compatibility right?</span>
