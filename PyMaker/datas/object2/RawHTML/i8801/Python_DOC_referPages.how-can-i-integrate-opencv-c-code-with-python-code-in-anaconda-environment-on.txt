<div class="post-text" itemprop="text">
<p>I need to use the <a href="https://www.uco.es/investiga/grupos/ava/node/26" rel="nofollow noreferrer">ArUco C++ library</a> for a part of my project where my main programming language is Python. I could not install <a href="https://github.com/fehlfarbe/python-aruco" rel="nofollow noreferrer">python wrapper for ArUco</a> on my system in Anaconda environment. It just throws errors. So I thought I could install and write a code in OpenCV in C++ and can transfer the result to my main Python code. Is it possible? </p>
</div>
<div class="post-text" itemprop="text">
<p>Are you going to detect ArUco makers? If so, you may try OpenCV 3.2 with <code>contrib</code> modules which include a <a href="http://docs.opencv.org/3.2.0/d9/d6d/tutorial_table_of_content_aruco.html" rel="nofollow noreferrer">ArUco marker detection (aruco module)</a> module. This <a href="http://www.philipzucker.com/aruco-in-opencv/" rel="nofollow noreferrer">Aruco in opencv</a> webpage has python code example.</p>
<p>You can get <code>OpenCV3.2</code> with <code>contrib</code> prebuilt binary from this <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#opencv" rel="nofollow noreferrer">site</a> for Python 3.5 or 3.6 on Windows 32-bit or 64-bit platforms. It can be installed to Anaconda by <code>pip install {filename}.whl</code> as <code>conda install</code> doesn't support whl file.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can also use boost python to easily write python functions in C++!</p>
<p><a href="http://www.boost.org/doc/libs/1_63_0/libs/python/doc/html/index.html" rel="nofollow noreferrer">http://www.boost.org/doc/libs/1_63_0/libs/python/doc/html/index.html</a></p>
<pre><code>// non-compiling example:
namespace py = boost::python;
// you have access to all python builtins using the py:: namespace
py::list create_list(py::dict dictionary, py::tuple tuple);
</code></pre>
<p>In order to nicely pass OpenCV data to/from python, there is numpy support:</p>
<p><a href="http://www.boost.org/doc/libs/1_63_0/libs/python/doc/html/numpy/tutorial/ndarray.html" rel="nofollow noreferrer">http://www.boost.org/doc/libs/1_63_0/libs/python/doc/html/numpy/tutorial/ndarray.html</a></p>
<pre><code>// non-compiling example:
namespace np = boost::python::numpy;
np::ndarray modify_image(np::ndarray image);
</code></pre>
<p>I am not sure whether opencv data can directly be used somehow... Probably yes.</p>
</div>
<span class="comment-copy">Yes, you can do this with cffi <a href="http://cffi.readthedocs.io/en/latest/" rel="nofollow noreferrer">cffi.readthedocs.io/en/latest</a>, you can also make a C dll and use it in python with the built in ctypes library <a href="https://docs.python.org/3/library/ctypes.html" rel="nofollow noreferrer">docs.python.org/3/library/ctypes.html</a></span>
<span class="comment-copy">Thanks. I tried that with OpenCV 3.1 and Python 3.5 on Ubuntu 16.04. I get this error: <code>AttributeError: module 'cv2.aruco' has no attribute 'getPredefinedDictionary'</code></span>
<span class="comment-copy">One more question: Can I install OpenCV 3.2 in an existing env with OpenCV3.1?</span>
<span class="comment-copy">It would be better to uninstall OpenCV 3.1 before installing 3.2 to avoid any issue. If you are installing 3.1 through conda,it won't take time and is striaght forward.</span>
<span class="comment-copy">I do have OpenCV3.1 and also have cv2.aruco ( it seems ). I thought of installing OpenCV3.2 due that error in the previous comment.</span>
<span class="comment-copy">I haven't tested cv2.aruco yet. Might test it if have time tomorrow. By the way, what's the conda command you used to install OpenCV 3.2?</span>
