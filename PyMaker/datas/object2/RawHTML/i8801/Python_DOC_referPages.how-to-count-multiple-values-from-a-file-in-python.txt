<div class="post-text" itemprop="text">
<p>i have a file 'test.txt' which look likes:</p>
<pre><code>emma 5
peter 9
emma 2
peter 10
peter 7
aps 25
emma 1
</code></pre>
<p>then i should somehow summ the values with the same key so the answer is:</p>
<pre><code>aps 25
emma 8
peter 26
</code></pre>
<p>i managed to write a code</p>
<pre><code>d = {}
with open('game.txt') as f:
    for line in f:
       (key, val) = line.split()
       if key in d:
           d[key].append(val)

       else:
           d[key] = [val]
for x, v in d.items():
    print (x,v)
</code></pre>
<p>but it gives me:</p>
<pre><code>aps ['25']
peter ['9', '10', '7']
emma ['5', '2', '1']
</code></pre>
<p>so i can't summ the values together. 
Thanks in advance</p>
</div>
<div class="post-text" itemprop="text">
<ol>
<li><p>You can't sum the values because they are strings. You will be able to sum them if you convert them to integers:</p>
<pre><code>for x, v in d.items():
    print(x, sum(int(val) for val in v))
</code></pre></li>
<li><p>You can shorten your code by using <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer"><code>defaultdict</code></a>:</p>
<pre><code>from collections import defaultdict

d = defaultdict(int)

with open('game.txt') as f:
    for line in f:
       key, val = line.split()
       d[key] += int(val)

for x, v in d.items():
    print (x, v)
</code></pre>
<p>By using <code>defaultdict(int)</code> you don't need to check if the key already exists in the dictionary. If it doesn't exist it will be added and be given value of <code>0</code>.</p></li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>You can make directly to a regular dictionary, like this:</p>
<pre><code>d = {}
with open('game.txt') as f:
    for line in f:
        name, value = line.split()
        d[name] = d.get(name, 0) + int(value)

for x, v in d.items():
    print (x, v)
</code></pre>
</div>
<span class="comment-copy">just use a number as the value, why are you using a list? just put the number in, keep adding to it. convert to int first.</span>
<span class="comment-copy">Replacing <i>defaultdict</i> by <i>Counter</i> is minimally better, since initialization of <i>d</i> then needs no argument and the name makes quite clear, that  integers are handled.</span>
