<div class="post-text" itemprop="text">
<p>I can't find any answer to this that works for me.
I'm trying to check difference between datetime for created post with datetime.now()</p>
<p>example of what I would like to do in view.py</p>
<pre><code>  if (datetime.now() - post.created_at).minutes &gt; 10:
        Do_this
    else:
        Do_that
</code></pre>
<p>I have tried with timedelta things. Also tried strptime with datetime formats. No luck</p>
<p>When I print the datetime.now() i get: 2018-12-10 20:22:10.535052
And with the post.created_at: 2018-12-10 20:18:52:544396+00:00</p>
<p>How do I make them comparable?</p>
</div>
<div class="post-text" itemprop="text">
<p>Django is giving you a timezone-aware <code>datetime</code> object. <code>datetime.now()</code> is <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.now" rel="nofollow noreferrer">giving you</a> a timezone-naive <code>datetime</code> object. You can't compare these.</p>
<p>Instead use <a href="https://docs.djangoproject.com/en/dev/ref/utils/#django.utils.timezone.now" rel="nofollow noreferrer"><code>django.utils.timezone.now()</code></a>, which provides the type of <code>datetime</code> object that matches your Django settings (in your case, a timezone-aware <code>datetime</code>).</p>
<p>Also note that <code>timedelta</code> objects, <a href="https://docs.python.org/3/library/datetime.html#timedelta-objects" rel="nofollow noreferrer">as documented</a>, don't have a <code>minutes</code> attribute. They do have a <code>seconds</code> attribute.</p>
<p>In summary:</p>
<pre><code>if timezone.now() - post.created_at &gt; timedelta(minutes=10):
    Do_this
else:
    Do_that
</code></pre>
</div>
