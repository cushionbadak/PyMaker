<div class="post-text" itemprop="text">
<p>This is part of my code for a guessing game. I want to count the guesses of a player, and then append their name and number of guesses to a list that is later written or appended to file. As of now, it only appends the last player of the game to the list and file, not all the players. What do I do wrong?</p>
<pre><code>from typing import List, Tuple
def choose:
'"code""""""




guesses = 0

while choose(): 
    guesses += 1 
    pass

    name = input('What is your name?:')

    highscore: List[Tuple[str, int]] = []
    highscore.append((name, guesses))

    sorting_by_second = sorted(highscore, key=lambda X: X[1])

    with open('highscore.txt', 'w') as f:
        for name, guesses in sorting_by_second:
           f.write(f'{name} guess {guesses}.\n')


    new_player = input('New player?(yes/no:').lower()
    if new_player == 'yes':
      main()

    else:
        break


main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <code>'w'</code> mode overwrites highscore.txt. Think of it as deleting the file and then creating it all over again.</p>
<p>You want <code>open('highscore.txt', 'a')</code> to append, as described in <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">https://docs.python.org/3/library/functions.html#open</a></p>
<p>EDIT:</p>
<p>Alternatively, perhaps you want to initialize <code>highscore</code> to the empty list <em>outside</em> the loop? (Your question is unclear. It would be helpful to replace the current code with valid python code, and to show example desired file output.)</p>
<p>As it stands, you loop many times, each time making the length of <code>highscore</code> zero, then appending so length is one, then you sort a single entry (no-op), then you write a one-line file. It isn't clear if you're trying to write e.g. a three-line file by interacting and looping three times, or by invoking the program from bash three separate times (in which case <code>'a'</code> append would be appropriate). Help us out, and clarify the code and your intent.</p>
<p>Suppose Alice and Bob are playing. Perhaps instead of a list you would prefer to use a <code>name_to_score</code> dict, if you intend to overwrite Alice's score each time she plays again.</p>
<p>You don't show us the content of <code>def choose</code> but I assume it prompts Yes/No and returns True/False. You don't show us the content of <code>def main</code> but I assume that you do <em>not</em> want to invoke <code>main()</code> in the body of the loop, since the <code>while choose():</code> loop probably suffices. Trying to read your mind doesn't always work well. Stating your problem more clearly would help us give more relevant answers.</p>
</div>
<span class="comment-copy">You create a new empty list each time you got around the loop, before the append.</span>
<span class="comment-copy">@cdarke oh, I see! so what I should I do to not create an empty list? Put      highscore: List[Tuple[str, int]] = [] under "else"?</span>
<span class="comment-copy">I don't understand the logic of your code, but I would have thought before the <code>while choose():</code>.  You might have to then reset it to empty in the <code>else</code></span>
<span class="comment-copy">@cdarke I changed the code in the question now. Everytime a user plays the game, I want the program to append name and number of guesses in a highscore list that is later printed into a .txt file.</span>
<span class="comment-copy">What's with the <code>'"code""""""</code> line after the <code>def</code>? This does not look like valid Python code.</span>
<span class="comment-copy">If you write out the entire list every time, overwriting the old file is precisely what you want.</span>
