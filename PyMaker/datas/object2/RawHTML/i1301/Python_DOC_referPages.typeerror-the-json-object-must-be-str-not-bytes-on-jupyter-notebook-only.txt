<div class="post-text" itemprop="text">
<p>The very same code</p>
<pre><code>A=b'["c1006","c1007"]'
json.loads(A)
</code></pre>
<p>works in Python console, but doesn't work in Jupyter notebook, saying</p>
<pre><code>TypeError: the JSON object must be str, not 'bytes'
</code></pre>
<p>Why and how to fix / write portable?</p>
<hr/>
<p>I am using Python 3.x on Linux:</p>
<pre><code>(py36) dims@calculon:~$ python
Python 3.6.3 |Anaconda, Inc.| (default, Oct 13 2017, 12:02:49)
[GCC 7.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import json
&gt;&gt;&gt; A= b'["c1006","c1007"]'
&gt;&gt;&gt; json.loads(A)
['c1006', 'c1007']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Works for me:</p>
<pre><code>The version of the notebook server is: 5.6.0
The server is running on this version of Python:
Python 3.6.6 |Anaconda custom (64-bit)| (default, Jun 28 2018, 11:27:44) [MSC v.1900 64 bit (AMD64)]
</code></pre>
<hr/>
<pre><code>A=b'["c1006","c1007"]'
json.loads(A)
</code></pre>
<blockquote>
<p>['c1006', 'c1007']</p>
</blockquote>
<p>Check your version,seems to be running different python version than your anaconda has : </p>
<pre><code>import sys 
sys.version
</code></pre>
</div>
<span class="comment-copy">You are almost certainly using Python 2 in the console and Python 3 in your notebook. Writing Python 2/ 3 compatible code is not trivial. it is best to think of them as different languages.</span>
<span class="comment-copy">It's apparently about the minor version here, thus your Jupyter notebook is probably pre-3.6. The <a href="https://docs.python.org/3/library/json.html#json.loads" rel="nofollow noreferrer">docs for <code>json.loads</code></a> say: "<i>Changed in version 3.6: s can now be of type bytes or bytearray.</i>"</span>
