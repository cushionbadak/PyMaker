<div class="post-text" itemprop="text">
<p>I have a list of dataframe columns, L.</p>
<pre><code>L=[AA ,  AS  ,  AD  , BB  , BC  , C ,  D ]
</code></pre>
<p>and I need all combinations of items, in no particular order. So I can use permutations I think?</p>
<p>However I can only have one A and one B in each combination;</p>
<p>So I need a combination of</p>
<pre><code>A=[AA,AS,AD]
B=[BB,BC]
All others=[C,D]
</code></pre>
<p>I also don't need all to be items to be present in the outputted permutations. 
A few example combinations below:</p>
<pre><code>AA,BB,C,D
AA,BB,C
AA
AA,BB
</code></pre>
<p>Can anyone help with this?</p>
</div>
<div class="post-text" itemprop="text">
<p>I think you need a <a href="https://en.wikipedia.org/wiki/Cartesian_product" rel="nofollow noreferrer">Cartesian product</a>. You can get it with <a href="https://docs.python.org/3/library/itertools.html#itertools.product" rel="nofollow noreferrer"><code>itertools.product</code></a>. Since you don't need every element, you could append <code>None</code> to each list and remove them afterwards.</p>
<p>Here's an example:</p>
<pre><code>from itertools import product
for choices in product(['AA','AS','AD',None],['BB', 'BC', None], ['C', None], ['D', None]):
    print(' '.join(column for column in choices if column))
</code></pre>
<p>It outputs:</p>
<pre><code>AA BB C D
AA BB C
AA BB D
AA BB
AA BC C D
AA BC C
AA BC D
AA BC
AA C D
AA C
AA D
AA
AS BB C D
AS BB C
AS BB D
AS BB
AS BC C D
AS BC C
AS BC D
AS BC
AS C D
AS C
AS D
AS
AD BB C D
AD BB C
AD BB D
AD BB
AD BC C D
AD BC C
AD BC D
AD BC
AD C D
AD C
AD D
AD
BB C D
BB C
BB D
BB
BC C D
BC C
BC D
BC
C D
C
D
</code></pre>
</div>
<span class="comment-copy">What do you mean by "I also don't need all to be items to be present. So a few example combinations below"?</span>
<span class="comment-copy">So if I havel, 3 items in the list, A, B and C. the results would be. [A], [B], [A,B],[A,C],[C,B],[C],[A,B,C]</span>
<span class="comment-copy">Where does the D comes from in the example in your comment?</span>
<span class="comment-copy">yep that was a error, I've updated</span>
<span class="comment-copy">This is great. Thanks a lot!!!</span>
