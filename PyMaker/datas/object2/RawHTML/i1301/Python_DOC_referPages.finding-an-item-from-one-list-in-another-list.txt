<div class="post-text" itemprop="text">
<p>I'm working on file parsing with Python, and I've created two dictionaries to represent two different CSV files.  I'm trying to take the ID number from one list, find out if it's present in the second list, and (if it is) return a copy of the record from the second list and store it in a third list.</p>
<p>For example:</p>
<pre><code>List1:
[{ ID: 1, FirstName: John, LastName: Smith},
{ ID: 2, FirstName: Bob, LastName: Dole},
{ ID: 3, FirstName: Elizabeth, LastName: Jenkins}]

List2:
[{ ID: 1, HireDate: '08/24/1997' },
{ ID: 2, HireDate: '09/27/2016' },
{ ID: 17, HireDate: '01/13/2013' }]
</code></pre>
<p>I'm trying to say: "If you see the ID from List1 in List2, return the entry for List 2."</p>
<p>In other words, give me back a new list called "ID_found" and append:</p>
<pre><code>[{ ID: 1, HireDate: '08/24/1997' },
 { ID: 2, HireDate: '09/27/2016' }]
</code></pre>
<p>Right now, I'm trying something like:</p>
<pre><code>ID_found = []
for d in List1:
    for p in List2:
        if d["ID"] in List2:
            ID_found.append(p)
</code></pre>
<p>I know this has a really simple solution, but I've tried everything I can think of, and nothing seems to work.  Any help would be <em>greatly</em> appreciated!</p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You appear to have parsed the CSV file into a list (of dictionaries), not a dictionary. To have fast lookup of ids in list 2, create an actual dictionary that maps ids to entries from list 2 as follows:</p>
<pre><code>dict2 = {e['ID']: e for e in List2}
</code></pre>
<p>This uses a dict comprehension. Then, use that to look up the ids from list 1:</p>
<pre><code>ID_found = [dict2[d['ID']] for d in List1 if d['ID'] in dict2]
</code></pre>
<p>This is a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> where only elements are included for which <code>d['ID'] in dict2</code> is true, i.e. the id is present in the keys of the dictionary, which are the ids in the second list.</p>
</div>
<div class="post-text" itemprop="text">
<p>Firstly, your dictionary mapping was incorrect and I corrected them. You cannot just name a variable without converting it to string.</p>
<pre><code>List1=[{'ID': 1, 'FirstName': 'John', 'LastName': 'Smith'},
{'ID': 2, 'FirstName': 'Bob', 'LastName': 'Dole'},
{'ID': 3, 'FirstName': 'Elizabeth', 'LastName': 'Jenkins'}]

List2=[{ 'ID': 1, 'HireDate': '08/24/1997' },
{'ID': 2, 'HireDate': '09/27/2016' },
{'ID': 17, 'HireDate': '01/13/2013' }]

common_ids = set([i['ID']for i in List1])&amp;set([i['ID']for i in List2]) # get id values, convert them to set, do intersection operation
ID_FOUND = [j for i in common_ids for j in List2 if j['ID'] == i] # iterate and add match one to the list
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>C:\Users\bagiy\Documents&gt;py test.py
[{'ID': 1, 'HireDate': '08/24/1997'}, {'ID': 2, 'HireDate': '09/27/2016'}]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<ol>
<li>Get a list of unique ids from <code>List1</code></li>
<li>Filter <code>List2</code> by the ids from step 1</li>
</ol>
<p>i.e.</p>
<pre><code>ids = set([d['ID']for d in List1])
ID_found = [d for d in List2 if d['ID'] in ids]
</code></pre>
</div>
