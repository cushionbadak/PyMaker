<div class="post-text" itemprop="text">
<p>My file so far looks like this:</p>
<pre><code>[
{
    "asks" : [
        [
            0.00276477,
            NumberInt(9)
        ],
        [
            0.00276478,
            NumberInt(582)]]

}
]
</code></pre>
<p>I would like to replace the "NumberInt(9)" by the digit 9.</p>
<p>What I tried so far looks like this:</p>
<pre><code>json_data=open("test.json").read()
number = re.findall("NumberInt\(([0-9]+)\)", json_data)
Nint = re.findall("(Nu.*)", json_data)
json_data.replace('Nint', 'number')
</code></pre>
<p>But it does not replace it in my original file... Does someone has an idea?</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's how to do it, based on the documentation of <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer"><code>re.sub()</code></a>:</p>
<pre><code>with open("test.json") as file: 
    json_data = file.read()
new_json = re.sub("NumberInt\(([0-9]+)\)", r"\1", json_data)
</code></pre>
<p>Note that <code>re.sub()</code> returns a copy of the string, just like the built-in <a href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="nofollow noreferrer"><code>str.replace()</code></a> method does.</p>
</div>
<div class="post-text" itemprop="text">
<p>First point: <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer">use <code>re.sub()</code></a> instead of <code>str.replace()</code> here. Also note that python strings are immutable so in both case you have to rebind your string to the result of the function.</p>
<p>Second point: your file will OF COURSE not be updated if you don't explicitely do it by yourself - you have to write back the corrected string to the file (reopening the file in write mode).</p>
</div>
<span class="comment-copy">While this is <i>possible</i>, you might consider fixing whatever's serving (or generating) you that broken JSON instead, that would surely be more elegant than a monkeypatch like this</span>
<span class="comment-copy">Thanks for this comment, but for now I do not have other solution than working on this file... sorry</span>
<span class="comment-copy">You may check out the string after replace, if it was replaced, the answer may be you just forget to write it back to the org file.</span>
<span class="comment-copy">See the <a href="https://docs.python.org/3/howto/regex.html#search-and-replace" rel="nofollow noreferrer"><b>Search and Replace</b></a> section of the <a href="https://docs.python.org/3/howto/regex.html" rel="nofollow noreferrer">Regular Expression HOWTO</a> in the documentation. With respect to your current code: Note that the string <code>replace()</code> function <i>returns</i> the modified stringâ€”it doesn't change it in-place because strings are immutable in Python.</span>
<span class="comment-copy">replace returns a new string, strings are not mutable maybe are you missing <code>json_data = json_data.replace('Nint', 'number')</code></span>
