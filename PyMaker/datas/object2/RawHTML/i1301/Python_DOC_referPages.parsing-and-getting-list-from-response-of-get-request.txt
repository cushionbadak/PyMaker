<div class="post-text" itemprop="text">
<p>I'm trying to parse a website with the requests module:</p>
<pre><code>import requests
some_data = {'a':'',
             'b':''}
with requests.Session() as s:
    result = s.post('http://website.com',data=some_data)
    print(result.text)
</code></pre>
<p>The page is responding as below:</p>
<pre><code>{
    "arrangetype":"U",
    "list": [
        {
            "product_no":43,
            "display_order":4,
            "is_selling":"T",
            "product_empty":"F",
            "fix_position":null,
            "is_auto_sort":false
        },
        {
            "product_no":44,
            "display_order":6,
            "is_selling":"T",
            "product_empty":"F",
            "fix_position":null,
            "is_auto_sort":false
        }
    ],
    "length":2
}
</code></pre>
<p>I found that instead of parsing full HTML, it would be better to deal with the response as all the data I want is in that response.</p>
<p>What I want to get is a list of the values of <code>product_no</code>, so the expected result is:</p>
<pre><code>[43,44]
</code></pre>
<p>How do I do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Convert your JSON response to a dictionary with <a href="https://docs.python.org/3/library/json.html#json.loads" rel="nofollow noreferrer"><code>json.loads()</code></a>, and collect your results in a list comprehension.</p>
<p><strong>Demo:</strong></p>
<pre><code>from json import loads

data = """{
    "arrangetype":"U",
    "list": [
        {
            "product_no":43,
            "display_order":4,
            "is_selling":"T",
            "product_empty":"F",
            "fix_position":null,
            "is_auto_sort":false
        },
        {
            "product_no":44,
            "display_order":6,
            "is_selling":"T",
            "product_empty":"F",
            "fix_position":null,
            "is_auto_sort":false
        }
    ],
    "length":2 
}"""

json_dict = loads(data)

print([x['product_no'] for x in json_dict['list']])
# [43, 44]
</code></pre>
<p><strong>Full Code:</strong></p>
<pre><code>import requests
from json import loads

some_data = {'a':'',
             'b':''}

with requests.Session() as s:
    result = s.post('http://website.com',data=some_data)
    json_dict = loads(result.text)
    print([x["product_no"] for x in json_dict["list"]])
</code></pre>
</div>
<span class="comment-copy">works just perfect. learnt a lot from you thanks</span>
<span class="comment-copy">@Taewoo.Lim Glad I could help. You can mark this answer as correct if it helped you.</span>
