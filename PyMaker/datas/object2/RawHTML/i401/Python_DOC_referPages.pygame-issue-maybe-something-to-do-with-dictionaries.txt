<div class="post-text" itemprop="text">
<p>I am making a sort of 2D Minecraft and the inventory won't work.
i have been following this tutorial:
<a href="http://usingpython.com/adding-an-inventory/" rel="nofollow noreferrer">http://usingpython.com/adding-an-inventory/</a>
and heres an:
<a href="https://i.stack.imgur.com/6eY9y.png" rel="nofollow noreferrer">Image of code, look at bottom part of window</a></p>
<pre><code>import pygame
import sys
from pygame.locals import *
import random

pygame.display.set_caption('First game')

BLACK = (0, 0, 0 )
BROWN = (153, 76, 0 )
GREEN = (0, 255, 0 )
BLUE = (0, 0, 255 )
RED = (255, 0, 0)
GREY = (100, 100, 100)
WHITE = (255, 255, 255)

DIRT = 0
GRASS = 1
WATER = 2
COAL = 3
LAVA = 4
STONE = 5
DIAMOND = 6

TILESIZE = 30
MAPWIDTH = 32
MAPHEIGHT= 16

picture1 = pygame.image.load('images/dirt.png')
picture1 = pygame.transform.scale(picture1, (TILESIZE, TILESIZE))

picture2 = pygame.image.load('images/grass.png')
picture2 = pygame.transform.scale(picture2, (TILESIZE, TILESIZE))

picture3 = pygame.image.load('images/water.png')
picture3 = pygame.transform.scale(picture3, (TILESIZE, TILESIZE))

picture4 = pygame.image.load('images/coal.png')
picture4 = pygame.transform.scale(picture4, (TILESIZE, TILESIZE))

picture5 = pygame.image.load('images/lava.png')
picture5 = pygame.transform.scale(picture5, (TILESIZE, TILESIZE))

picture6 = pygame.image.load('images/stone.png')
picture6 = pygame.transform.scale(picture6, (TILESIZE, TILESIZE))

picture7 = pygame.image.load('images/diamond.png')
picture7 = pygame.transform.scale(picture7, (TILESIZE, TILESIZE))

textures = {
    DIRT       :   picture1,
    GRASS  :   picture2,
    WATER  :   picture3,
    COAL     :   picture4,
    LAVA     :    picture5,
    STONE  :    picture6,
    DIAMOND :  picture7
    }

inventory = {
    DIRT       :   0,
    GRASS  :   0,
    WATER  :   0,
    COAL     :   0,
    LAVA      :    0,
    STONE  :    0,
    DIAMOND : 0
}

face = pygame.image.load('images/steeveface.png')
face = pygame.transform.scale(face, (TILESIZE-4, TILESIZE-4))

for rw in range(MAPHEIGHT):
    for cl in range(MAPWIDTH):
        randomNumber = random.randint(0,10)
        if randomNumber &lt;=5:
            tile = DIAMOND
        else:
            tile = STONE

resources = [DIRT,DIRT,DIRT,DIRT,DIRT,DIRT,DIRT,DIRT,GRASS,GRASS,GRASS,GRASS,GRASS,GRASS,GRASS,GRASS,WATER,WATER,WATER,WATER,WATER,COAL,COAL,COAL,COAL,COAL,COAL,LAVA,LAVA,LAVA,LAVA,LAVA,STONE,STONE,STONE,STONE,STONE,STONE,STONE,tile]
tilemap = [ [random.choice(resources) for w in range(MAPWIDTH)] for h in range(MAPHEIGHT)]


pygame.init()
DISPLAYSURF = pygame.display.set_mode((MAPWIDTH*TILESIZE, MAPHEIGHT*TILESIZE + 50))

INVFONT = pygame.font.Font('fonts/ZCOOL.ttf', 18)


playerPos = [0,0]

clock = pygame.time.Clock()
pygame.key.set_repeat()
while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
        elif event.type == KEYDOWN:
            if event.key == K_RIGHT and playerPos[0] &lt; MAPWIDTH - 1:
                playerPos[0] += 1
            if event.key == K_LEFT and playerPos[0] &gt; 0:
                playerPos[0] -= 1
            if event.key == K_UP and playerPos[1] &gt; 0:
                playerPos[1] -= 1
            if event.key == K_DOWN and playerPos[1] &lt; MAPHEIGHT -1:
                playerPos[1] += 1
            if event.key == K_SPACE:
                currentTile = tilemap[playerPos[1]][playerPos[0]]
                inventory[currentTile] += 1
                tilemap[playerPos[1]][playerPos[0]] = DIRT

            if (event.key == K_1):
                currentTile = tilemap[playerPos[1]][playerPos[0]]

                if inventory[DIRT] &gt; 0:
                    inventory[DIRT] -= 1
                    tilemap[playerPos[1]][playerPos[0]] = DIRT
                    inventory[currentTile] += 1  
    placePosition = 10
    for item in resources:

        DISPLAYSURF.blit(textures[item],(placePosition,MAPHEIGHT*TILESIZE+20))
        placePosition += 30
        pygame.display.update()
        textObj = INVFONT.render(str(inventory[item]), True, WHITE, BLACK)
        DISPLAYSURF.blit(textObj,(placePosition,MAPHEIGHT*TILESIZE+20)) 
        placePosition += 50

    for row in range(MAPHEIGHT):
        for column in range(MAPWIDTH):
            DISPLAYSURF.blit(textures[tilemap[row][column]], (column*TILESIZE, row*TILESIZE,TILESIZE,TILESIZE))

    DISPLAYSURF.blit(face, (playerPos[0]*TILESIZE+2,playerPos[1]*TILESIZE+2))
    pygame.display.update()
</code></pre>
<p>something in this:</p>
<pre><code>DISPLAYSURF.blit(textures[item],(placePosition,MAPHEIGHT*TILESIZE+20))
placePosition += 30
pygame.display.update()
textObj = INVFONT.render(str(inventory[item]), True, WHITE, BLACK)
DISPLAYSURF.blit(textObj,(placePosition,MAPHEIGHT*TILESIZE+20)) 
placePosition += 50
</code></pre>
<p>Doesn't seem to be working and is making it repeat 8 times(the rest of the code works fine)
I have checked through for things that don't look right and there is nothing I can see. If anyone could help I would be very grateful.</p>
</div>
<div class="post-text" itemprop="text">
<p>This issue is caused, because the relevant code block is in a loop:</p>
<blockquote>
<pre><code>for item in resources:
</code></pre>
</blockquote>
<p>and <code>resources</code> is initialized: </p>
<blockquote>
<pre><code>resources = [DIRT,DIRT,DIRT,DIRT,DIRT,DIRT,DIRT,DIRT,GRASS,GRASS,GRASS,GRASS,GRASS,GRASS,GRASS,GRASS,WATER,WATER,WATER,WATER,WATER,COAL,COAL,COAL,COAL,COAL,COAL,LAVA,LAVA,LAVA,LAVA,LAVA,STONE,STONE,STONE,STONE,STONE,STONE,STONE,tile]
</code></pre>
</blockquote>
<p>So of course, the output for <code>DIRT</code>, <code>GRASS</code>, <code>WATER</code>, <code>COAL</code>, <code>LAVA</code> and <code>STONE</code> is generated multiple times.  </p>
<p>Use <a href="https://docs.python.org/3/library/functions.html#func-set" rel="nofollow noreferrer"><code>set()</code></a> to generate a set object of unique items from the list:</p>
<pre class="lang-py prettyprint-override"><code>for item in set(resources):

    DISPLAYSURF.blit(textures[item],(placePosition,MAPHEIGHT*TILESIZE+20))
    placePosition += 30
    pygame.display.update()
    textObj = INVFONT.render(str(inventory[item]), True, WHITE, BLACK)
    DISPLAYSURF.blit(textObj,(placePosition,MAPHEIGHT*TILESIZE+20)) 
    placePosition += 50 
</code></pre>
</div>
<span class="comment-copy">SO is a terrible debugger, which is what you need to use. <a href="https://ericlippert.com/2014/03/05/how-to-debug-small-programs/" rel="nofollow noreferrer">ericlippert.com/2014/03/05/how-to-debug-small-programs</a></span>
<span class="comment-copy">Thanks so mutch</span>
<span class="comment-copy">Do you think its a good code? Im 14 and i know quite a lot of python and i have just learnt pygame</span>
<span class="comment-copy">@Glitchd - It's good code.  The only stylistic thing I would say, if you find yourself typing the same code elements over and over (or copying and pasting) stop and think for a minute, maybe that piece of code should be a function, or in a loop.  Could a simple data structure (like a list of pictures or filenames) make it better.</span>
<span class="comment-copy">@Kingsley by using def? Then linking back to it?</span>
<span class="comment-copy">@Glitchd - yes.</span>
