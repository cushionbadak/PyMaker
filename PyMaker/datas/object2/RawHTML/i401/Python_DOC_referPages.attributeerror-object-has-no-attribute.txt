<div class="post-text" itemprop="text">
<p>I have following block of code: </p>
<pre><code>class HwSwitch(object):

    def __init__(self):
        pass

    def _create_channel(self):
        try:
            self.channel = self.ssh.invoke_shell()
        except SSHException:
            raise SSHException("Unable to invoke the SSH Command shell")

    def _send_cmd_to_channel(self, cmd):
        try:
            time.sleep(1)
            self.channel.send(cmd + '\r\n')
            out = self.channel.recv(9999)
        except SSHException:
            raise SSHException("Execution of command '%s' failed" % cmd)
        return str(out)
</code></pre>
<p>But I get always error which says: AttributeError: 'HwSwitch' object has no attribute 'channel'. 
It seems that problem is somewhere at <code>self.channel.send(cmd + '\r\n')</code> but I cannot see where. Is there something wrong (maybe indentation?). Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>You are accessing 'channel' as an instance variable, either create it in the <code>__init__</code> or call <code>_create_channel</code> before calling <code>_send_cmd_to_channel</code>.</p>
<p>Also refer <a href="https://docs.python.org/3/tutorial/classes.html#class-and-instance-variables" rel="nofollow noreferrer">this</a></p>
</div>
<span class="comment-copy">Can you add an example of when you run the code? I imagine you haven't called <code>_create_channel</code></span>
<span class="comment-copy">N.B. If it were indentation, an IndentationError or SyntaxError would have been raised instead, not an AttributeError.</span>
<span class="comment-copy">you set the <code>self.channel</code> only in <code>_create_channel</code> method, not in the <code>__init__</code> constructor. This means if you touch it without calling the  <code>_create_channel</code> method, you'll face that error, i guess this what happens.. Either add is to <code>__init__</code> or call <code>_create_channel</code> from <code>__init__</code></span>
<span class="comment-copy">of course, that's the issue ... thank you !</span>
