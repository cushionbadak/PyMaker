<div class="post-text" itemprop="text">
<p>I am very new in coding in Python, and there is an issue I have been trying to solve for some hours:</p>
<p>I have 1600+ xml files (0000.xml, 0001.xml, etc) need to be parsed in order to do a text mining project.<br/>
But an error has occurred, when I have the following code:</p>
<pre><code>from os import listdir, path 
import xml.etree.ElementTree as ET

mypath = '../project/content' 
files = [f for f in listdir(mypath) if f.endswith('.xml')]

for file in files:    
    tree = ET.parse("../project/content/"+file)
    root = tree.getroot()
</code></pre>
<p>The error message is the following:</p>
<pre><code>Traceback (most recent call last):

  File "/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py", line 2910, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)

  File "&lt;ipython-input-13-cdc3ee6c3989&gt;", line 6, in &lt;module&gt;
    tree = ET.parse("../project/content/"+file)

  File "/anaconda3/lib/python3.6/xml/etree/ElementTree.py", line 1196, in parse
    tree.parse(source, parser)

  File "/anaconda3/lib/python3.6/xml/etree/ElementTree.py", line 597, in parse
    self._root = parser._parse_whole(source)

  File "&lt;string&gt;", line unknown ParseError: no element found: line 1, column 0
</code></pre>
<p>where did I make mistakes? </p>
<p>Also, I want to only extract the text from one element of each xml files, is it sufficient that I simply attach this line to the code? and moreover, how can I save each of the results to txt files?</p>
<pre><code>maintext = root.find("mainText").text
</code></pre>
<p>Thank you very much!</p>
</div>
<div class="post-text" itemprop="text">
<p>The right way to create path elements is using join:  </p>
<p>Add print messages to the code before you try and create the tree.  </p>
<p>Is the XML you try parse valid?</p>
<p>Once you solve the parsing issue you can use <a href="https://docs.python.org/3.7/library/multiprocessing.html" rel="nofollow noreferrer">multiprocessing</a> in order to parse many files at the same time.</p>
<pre><code>from os import listdir, path
import xml.etree.ElementTree as ET

mypath = '../project/content'
files = [path.join(mypath, f) for f in listdir(mypath) if f.endswith('.xml')]

for file in files:
    print(file)
    tree = ET.parse(file)
    root = tree.getroot()
</code></pre>
</div>
<span class="comment-copy">Often if you search for the Exception message (<code>ParseError: no element found: line 1, column 0</code>) , you will find many SO Q&amp;A's which may point you in the right direction. It is possible that the file it is trying to parse is <i>malformed</i> or maybe even an empty file. If you want to just skip those, <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">Catch the error</a> and maybe just print the filename in the except suite then you can look at them later.</span>
<span class="comment-copy">Instead of printing filenames that produce an Exception, you could also collect them in a list or write them to an error file - with the intent of possibly <i>manually</i> looking at them later.</span>
<span class="comment-copy"><code>...is it sufficient that I simply attach this line to the code?</code> - Try it in the shell with some test <i>data</i>.... <code>... how can I save each of the results to txt files?</code> - <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">Reading and writing files</a></span>
<span class="comment-copy">Thank you! I have found that one of my xml file is empty. So after I removed it, it worked without error anymore! Also the element I wanted to extract worked as well like I posted. However, I have problems about saving the result as txt files, as I can only save as xml files         output = codecs.open(file,"w","utf-8")     output.write(content)     output.close()</span>
<span class="comment-copy">“Use multiprocessing..” good heavens the OP has enough problems getitng basic file read/parse working to not need over-complicating with possibly completely unneccessary use of multiprocessing.</span>
<span class="comment-copy">Thank you! the code is working for me! However, I do not know how to save them as txt file instead of xml?</span>
<span class="comment-copy">You need to explain the desired output format</span>
