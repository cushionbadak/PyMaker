<div class="post-text" itemprop="text">
<p>Okay, so I have been wanting to try adding currency to my bot for a while. So, I put my head down and started today, but I am having some issues. I know I will need to use a dictionary of members, and I have that already: <code>amounts = {}</code>. I have got a register command, which adds a member to the dictionary with their ID and amount of currency. </p>
<p>However, this doesn't seem to be a good idea. Whenever I re-open the bot, the dictionary gets reset. I am not too sure how to save my dictionary, and would appreciate some help.</p>
<p>As a reference, this is my registering command:</p>
<pre><code>@client.command(name='register',
                aliases=['reg'],
                brief='Registers your account',
                pass_ctx=True)
async def register(ctx):
    id = ctx.message.author.id
    if id not in amounts:
        amounts[id] = 100
        await ctx.send('You have been registered')
    else:
        await ctx.send('You already have an account')
</code></pre>
<p>I am still a bit of a beginner with dictionaries and discord.py, so sorry if I ask a lot of questions to your answer!</p>
</div>
<div class="post-text" itemprop="text">
<p>I believe it's worth using external database, nice possibility to learn mongodb for example. PyMongo is a way to start.</p>
</div>
<div class="post-text" itemprop="text">
<p>After saving my dictionary to a <code>.json</code> file, I have reached a solution.</p>
</div>
<span class="comment-copy">You can either persist that dictionary to a file whenever you change it, and load it from that file when your bot starts (There are a lot of examples of this in the <a href="https://stackoverflow.com/questions/tagged/discord.py">discord.py</a> tag).  The other option is to use a database.  If you do use a database, make sure to use an asynchronous library to connect to it: if you use a blocking library, your bot will randomly fail if operations take too long.</span>
<span class="comment-copy">@PatrickHaugh If I use a <code>.json</code> file to save my dictionary, how could I save/load my dictionary? Having troubles with what I find online :/</span>
<span class="comment-copy">Using <a href="https://docs.python.org/3/library/json.html#json.dump" rel="nofollow noreferrer"><code>json.dump</code></a>.  <code>with open('amounts.json', 'w') as f: json.dump(amounts, f)</code></span>
<span class="comment-copy">I will give PyMongo a go! Thanks for such a quick response, I will go give it a try now :)</span>
