<div class="post-text" itemprop="text">
<p>Am trying to a run this piece of code, and it keeps giving an error saying "String argument without an encoding"</p>
<pre><code>ota_packet = ota_packet.encode('utf-8') + bytearray(content[current_pos:(final_pos)]) + '\0'.encode('utf-8')
</code></pre>
<p>Any help?</p>
</div>
<div class="post-text" itemprop="text">
<p>You are passing in a string object to a <code>bytearray()</code>:</p>
<pre><code>bytearray(content[current_pos:(final_pos)])
</code></pre>
<p>You'll need to supply an encoding argument (second argument) so that it can be encoded to bytes.</p>
<p>For example, you could encode it to UTF-8:</p>
<pre><code>bytearray(content[current_pos:(final_pos)], 'utf8')
</code></pre>
<p>From the <a href="https://docs.python.org/3/library/functions.html#bytearray"><code>bytearray()</code> documentation</a>:</p>
<blockquote>
<p>The optional <em>source</em> parameter can be used to initialize the array in a few different ways:</p>
<ul>
<li>If it is a string, you must also give the <em>encoding</em> (and optionally, <em>errors</em>) parameters; <code>bytearray()</code> then converts the string to bytes using <code>str.encode()</code>.</li>
</ul>
</blockquote>
</div>
<span class="comment-copy">Do you want to get: <code>(ota_packet + content[current_pos:final_pos] + '\0').encode('utf-8')</code>?</span>
