<div class="post-text" itemprop="text">
<p>I want to open a series of sub-folders in a folder and find some text files and print some lines of the text files. I am using this:</p>
<pre><code>from glob import glob
import fileinput
with open('output.txt', 'w') as out:
    for line in fileinput.input(glob('*.')):
        if 'Subject:' in line:
            out.write(line)
</code></pre>
<p>This working perfectly only with in one folder but this cannot access the sub-folders as well.so i heard about the os.walk() module. Does anyone know how I can use the os.walk() module to to access sub-folders and extract and paste a particular line in a separate txt file ?</p>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow"><code>os.walk</code></a> and <a href="https://docs.python.org/3/tutorial/classes.html#generator-expressions" rel="nofollow">generator expression</a> to get all file paths in current directory recursively:</p>
<pre><code>from glob import glob
import fileinput
import os

with open('output.txt', 'w') as out:
    files = (os.path.join(p, f) for p, ds, fs in os.walk(os.curdir) for f in fs)
    for line in fileinput.input(files):
        if 'Subject:' in line:
            out.write(line)
</code></pre>
<p><code>fs</code> in the above code is a list of file names. You need to iterate them to get file paths.</p>
<p><a href="https://docs.python.org/3/library/os.path.html#os.path.join" rel="nofollow"><code>os.path.join</code></a> is used to make a path by joining parent directory <code>p</code> and file name <code>f</code>.</p>
</div>
<span class="comment-copy">thanks dude ... its working..!</span>
