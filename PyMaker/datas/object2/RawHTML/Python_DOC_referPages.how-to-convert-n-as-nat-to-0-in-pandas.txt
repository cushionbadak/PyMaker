<div class="post-text" itemprop="text">
<p>I am getting the following output, in my pandas dataframe; seemingly because of my seldom <code>null</code> values for certain records:</p>
<pre><code>Cannot convert non-finite values (NA or inf) to integer
</code></pre>
<p>How can I write a handler or something in python/pandas to convert my seldom <code>N/A</code> record values to 0 - when they are appearing, so my script can continue; for presumably a fix to this?</p>
<hr/>
<p><strong>Below is my code</strong>; with attempt of usage of <code>fillna()</code> - this code addition removes the 'Cannot convert non-finite values..' error in dataframe output.</p>
<p>However it still displays the <code>NaT</code> in the pandas data frame output for those seldom records.</p>
<pre><code>for row in excel_data.itertuples():
            mrn = row.MRN

            if mrn in ("", " ", "N/A", None) or math.isnan(mrn):
                print(f"Invalid record: {row}")
                excel_data = excel_data.drop(excel_data.index[row.Index])
                excel_data = excel_data.fillna(0) # attempt
                continue
            else:
                num_valid_records += 1

        print(f"Processing #{num_valid_records} records")

        return self.clean_data_frame(excel_data)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here is an example of using <code>fillna()</code>:</p>
<pre><code>df = pd.DataFrame([[1, 2, np.nan],
                   [5, np.nan, 7]],
                   columns=list('ABC'))
df

       A    B    C
    0  1  2.0  NaN
    1  5  NaN  7.0

df.fillna(0)

       A    B    C
    0  1  2.0  0.0
    1  5  0.0  7.0

</code></pre>
</div>
<span class="comment-copy">Looking for <code>df.fillna(0)</code> ?</span>
<span class="comment-copy">You could drop the NA rows, you could find them with <code>isnan()</code> and replace them, you could use <code>np.nan_to_num</code>, you could... You get the point. Did you research this?</span>
<span class="comment-copy">@roganjosh yes; I would like to find them and replace them with 0.</span>
<span class="comment-copy">for that you might want to look at <code>fillna()</code> else you can create a reproducible example. also take a look @ <a href="https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples">this</a></span>
<span class="comment-copy">Thanks, looks nice; however my records are outputting NaT not NaN in the pandas dataframe.</span>
<span class="comment-copy">@No-Spex both are same. If there is a date, <code>NaN</code> is a <code>NaT</code></span>
<span class="comment-copy">OK..... I tried your suggestion in my code (above, added to OP), and it removes the pandas 'cannot convert error/output' however records are still outputting in dataframe as NaT.</span>
<span class="comment-copy">If you can provide an example data frame with dates in it that we can use to run your code on and see the error, that will make it easier to help.</span>
