<div class="post-text" itemprop="text">
<p>I'm building a very simple web app (using Python Flask) that will display some images to the user and get some response from the user.</p>
<p>Below is my code (ignoring the other parts of my code not related to this question):</p>
<pre><code>    @app.route('/gallery',methods=['GET','POST'])
   def get_gallery():
        image_names = os.listdir(r'C:\Users\xxxvn\images') 
        b=[str(i)+"|"+str(request.form.get(i)) for i in image_names]
        print (b)            
    return render_template("gallery.html", image_names=image_names)
</code></pre>
<h3>HTML</h3>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Title&lt;/title&gt;
    &lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"&gt;

&lt;/head&gt;
&lt;body&gt;


&lt;div class="container"&gt;

    &lt;div class="row"&gt;

        &lt;div class="col-lg-12"&gt;
            &lt;h1 class="page-header"&gt;Gallery&lt;/h1&gt;
        &lt;/div&gt;
        {{image_names}}
        &lt;hr&gt;
        &lt;form method="POST"&gt;
        {% for image_name in image_names %}
        &lt;div class="col-lg-3 col-md-4 col-xs-6 thumb"&gt;
            &lt;img class="img-responsive" src=" {{url_for('send_image', filename=image_name)}}"&gt;
            &lt;input type="radio" name={{image_name}} id="radio1" value="YES" /&gt;YES&lt;br&gt;
            &lt;input type="radio" name={{image_name}} id="radio2" value="NO"/&gt;NO&lt;br&gt;          
            &lt;hr&gt;
        &lt;/div&gt;
        {% endfor %}
        &lt;input type="submit" name="submit_button" value="SUBMIT"/&gt;
        &lt;/form&gt;
    &lt;/div&gt;

&lt;/div&gt;
&lt;script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
        crossorigin="anonymous"&gt;&lt;/script&gt; 
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>My current app</h3>
<p><img alt="my current app" src="https://i.stack.imgur.com/MH4ch.png"/></p>
<p><strong>Question:</strong>
I want to reset the form as soon as the user hits submit and capture the output in list <strong>"B"</strong>. The form should not be resubmitted with old values if the user hits refresh.</p>
</div>
<div class="post-text" itemprop="text">
<p>Do a request method check and put in your capture login in it.</p>
<pre><code>from flask import request

@app.route('/gallery',methods=['GET','POST'])
def get_gallery():
    image_names = os.listdir(r'C:\Users\xxxvn\images')
    if request.method == "POST":
        b=[str(i)+"|"+str(request.form.get(i)) for i in image_names]
        print (b)          
    return render_template("gallery.html", image_names=image_names)
</code></pre>
</div>
<span class="comment-copy">When the user hits the refresh, it still asks for "confirm form re submission". I want to avoid the re submission @Arunmozhi</span>
<span class="comment-copy">The refresh issue is solved by the POST-GET redirect pattern. See <a href="https://en.wikipedia.org/wiki/Post/Redirect/Get" rel="nofollow noreferrer">en.wikipedia.org/wiki/Post/Redirect/Get</a> and <a href="https://stackoverflow.com/a/41535663/8765631">stackoverflow.com/a/41535663/8765631</a></span>
