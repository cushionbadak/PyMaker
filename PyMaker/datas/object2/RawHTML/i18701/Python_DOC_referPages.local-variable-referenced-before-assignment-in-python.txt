<div class="post-text" itemprop="text">
<pre><code>Truel=""
count = 0
finle_touch=False #true after it find the first 3 upperletter

# check if there is 1 lower letter after three upper letter
def one_lower(i):
    count=0
    if i == i.lower:
        finle_touch=True
        Truel=i

# check for 3 upper letter
def three_upper(s):
    for i in s:
        if count == 3:
            if finle_touch==True:
                break
            else:
                one_lower(i)
        elif i == i.upper:
            count +=1
            print(count) #for debug
        else:
            count ==0
            finle_touch=False

stuff="dsfsfFSfsssfSFSFFSsfssSSsSSSS......."
three_upper(stuff)
print(Truel)
</code></pre>
<p>so I got alot of string on 'stuff' and  I like to find 1 lowercase letter that sorrund by 3 uppercase letter.</p>
<p>but when i run this code i get:</p>
<pre><code>Traceback (most recent call last):
  File "C:\Python33\mypy\code.py", line 1294, in &lt;module&gt;
    three_upper(stuff)
  File "C:\Python33\mypy\code.py", line 1280, in three_upper
    if count == 3:
UnboundLocalError: local variable 'count' referenced before assignment
</code></pre>
<p>i don't understand why. thanks in advance</p>
</div>
<div class="post-text" itemprop="text">
<p>Due to this line <code>count +=1</code> python thinks that <code>count</code> is a local variable and will not search the global scope when you used <code>if count == 3:</code>. That's why you got that error.</p>
<p>Use <code>global</code> statement to handle that:</p>
<pre><code>def three_upper(s): #check for 3 upper letter
    global count
    for i in s:
</code></pre>
<p>From <a href="http://docs.python.org/release/1.5.1p1/tut/functions.html">docs</a>:</p>
<blockquote>
<p>All variable assignments in a function store the value in the local
  symbol table; whereas variable references first look in the local
  symbol table, then in the global symbol table, and then in the table
  of built-in names. Thus, global variables cannot be directly assigned
  a value within a function (unless named in a global statement),
  although they may be referenced.</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>It is actually better to use nonlocal in this case. Use global as sparingly as possible. More information about nonlocal here  <a href="http://docs.python.org/3/reference/simple_stmts.html#nonlocal" rel="nofollow noreferrer">docs.python.org/3/reference/simple_stmts.html#nonlocal</a></p>
</div>
<span class="comment-copy">thanks, i though that define the var outside of the function will solve this problem. so every time i will use global var in function i will have to define it as global?</span>
