<div class="post-text" itemprop="text">
<p>Below is the code i am which i tried, I am new to python, could someone let me know what shall i do  </p>
<pre><code>#opening a 'Newfile' to write in

file_list=open('file_list.txt','w')
#taking the list of file which i have to write in file
list_files = os.system("ls -1 /amxusers7/inf/aimsys/netabp6/ALL_SCRIPTS/VOICE")
#trying to write in a Newfile
file_list.writelines(list_files)
</code></pre>
<p>I am getting error:</p>
<pre><code>Traceback (most recent call last): 
 File "testPuneet.py", line 30, in ? 
file_list.writelines(list_files) 
TypeError: writelines() requires an iterable argument
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you are using Python, you might as well do it the Python way:</p>
<pre><code>import os
with open('file_list.txt','w') as file_list:
    list_files = os.listdir('/amxusers7/inf/aimsys/netabp6/ALL_SCRIPTS/VOICE')
    file_list.write('\n'.join(list_files))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>On Unix, <code>os.system</code> returns the exit code of the process you invoked. So, <code>os.system("ls")</code> will give you an integer, not a list of files.</p>
<p>Instead, use the <a href="http://docs.python.org/3/library/subprocess.html?highlight=subprocess#module-subprocess" rel="nofollow"><code>subprocess</code></a> module. The <code>check_output</code> method will give you the values that are printed to the screen.</p>
<pre><code>import subprocess
result_of_ls = subprocess.check_output(["ls", "-l", "/amxusers7/inf/aimsys/netabp6/ALL_SCRIPTS/VOICE"])
</code></pre>
<p>As an example gives:</p>
<blockquote>
<p>total 75032\n-rw-rw-r--  1 user  user         0 Jun  3 22:04 122.txt\n-rw-rw-r--  1 user  user         0 Jun  3 22:04 154.txt\n-r--------  1 user  user      8666 Mar 29 22:11 2731_74814450810_2074865_n.jpg\n-rw-rw-r--  1 user  user    111872 May 30 21:40 3065397482_cd8b581c9a.jpg\n-rw-rw-r--  1 user  user     24661 Jun 18 13:11 375585_782393371042_1430263587_n.jpg\n</p>
</blockquote>
<p>Taking the single string returned by <code>check_output</code> and turning it into a list of filenames is left as an exercise to the reader. </p>
</div>
<span class="comment-copy">Why are you wrapping your code in <code>{}</code>? (Also, <code>os.system</code> returns the return value, not what was printed to stdout by the subprocess; it's not the function you're looking for.)</span>
