<div class="post-text" itemprop="text">
<p>I need to write a script letting me parse a text file. Every time I have <code>ACTION TYPE: Insertion</code> I will need to retrieve the <code>TIME</code> value below.</p>
<pre class="lang-none prettyprint-override"><code>ACTION TYPE: Insertion
ISSUES: No
USER: ADMINISTRATOR
TIME: 2015-10-09 10.50.12
ACTION TYPE: Edition
ISSUES: No
USER: ADMINISTRATOR
TIME: 2015-10-09 11.21.34
ACTION TYPE: Insertion
ISSUES: No
USER: ADMINISTRATOR
TIME: 2015-10-09 12.19.22
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For small files where the whole file can be easily loaded into memory, the following approach could be used:</p>
<pre><code>import re

with open('input.txt', 'r') as f_input:
    print re.findall(r'ACTION TYPE: Insertion.*?TIME: (.*?)$', f_input.read(), re.M+re.S)
</code></pre>
<p>Which would display the following for your sample:</p>
<pre><code>['2015-10-09 10.50.12', '2015-10-09 12.19.22']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Same idea as Martin Evans, but with a more simplistic pattern:</p>
<pre><code>import re
with open('yourfile.txt', 'r') as f:
    pat = re.compile(r'ACTION TYPE: Insertion\nISSUES: .*\nUSER: .*\nTIME: (.*)')
    insertion_times = re.findall(pat, f.read())
</code></pre>
</div>
<span class="comment-copy">I'm voting to close this question as off-topic because this is neither a code-writing nor tutorial service</span>
<span class="comment-copy">If you're asking how to open a file and read its contents, <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">The Python Tutorial</a> should be useful to you.</span>
<span class="comment-copy">How large is the file?</span>
<span class="comment-copy">Why would you edit to make it worse again?!</span>
<span class="comment-copy">Kevin: it is about opening, reading and then extracting specific data if a condition is verified. MArtin: i want to parse a log file which can contains tens or thousands lines.</span>
