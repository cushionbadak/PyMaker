<div class="post-text" itemprop="text">
<p>I am dealing with a csv file that contains three columns and three rows containing numeric data.  The csv data file simply looks like the following:</p>
<pre><code> Colum1,Colum2,Colum3
 1,2,3
 1,2,3
 1,2,3  
</code></pre>
<p>My question is how to write a python code that take a single value of one of the column and perform a specific operation.  For example, let say I want to take the first value in 'Colum1' and subtract it from the sum of all the values in the column. </p>
<p>Here is my attempt:</p>
<pre><code>import csv
f = open('columns.csv')
rows = csv.DictReader(f)

value_of_single_row = 0.0
for i in rows:
    value_of_single_Row += float(i) # trying to isolate a single value here!
print value_of_single_row - sum(float(r['Colum1']) for r in rows) 
f.close()
</code></pre>
<p>Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>Based on the code you provided, I suggest you take a look at the doc to see the preferred approach on how to read through a csv file. Take a look here:</p>
<p><a href="https://docs.python.org/3/library/csv.html#csv.DictReader" rel="nofollow">How to use CsvReader</a> </p>
<p>with that being said, you can modify the beginning of your code slightly to this: </p>
<pre><code>import csv

with open('data.csv', 'rb') as f:
    rows = csv.DictReader(f)
    for row in rows:
        # perform operation per row
</code></pre>
<p>From there you now have access to each row.</p>
<p>This should give you what you need to do proper row-by-row operations.</p>
<p>What I suggest you do is play around with printing out your rows to see what your data looks like. You will see that each row being outputted is a dictionary.</p>
<p>So if you were going through each row, you can just simply do something like this: </p>
<pre><code>for row in rows:
  row['Colum1'] # or row.get('Colum1')
  # to do some math to add everything in Column1
  s += float(row['Column1'])
</code></pre>
<p>So all of that will look like this:</p>
<pre><code>import csv

s = 0
with open('data.csv', 'rb') as f:
    rows = csv.DictReader(f)

    for row in rows:
        s += float(row['Colum1'])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can do pretty much all of this with pandas</p>
<pre><code>from pandas import DataFrame, read_csv
import matplotlib.pyplot as plt
import pandas as pd
import sys
import os


Location = r'path/test.csv'
df = pd.read_csv(Location, names=['Colum1','Colum2','Colum3'])
df = df[1:] #Remove the headers since they're unnecessary
print df

df.xs(1)['Colum1']=int(df.loc[1,'Colum1'])+5
print df
</code></pre>
<p>You can write back to your csv using <code>df.to_csv('File path', index=False,header=True)</code> Having <code>headers=True</code> will add the headers back in.
To do this more along the lines of what you have you can do it like this</p>
<pre><code>import csv

Location = r'C:/Users/tnabrelsfo/Documents/Programs/Stack/test.csv'
data = []
with open(Location, 'r') as f:
    for line in f:
        data.append(line.replace('\n','').replace(' ','').split(','))
    data = data[1:]
    print data
    data[1][1] = 5
    print data
</code></pre>
<p>it will read in each row, cut out the column names, and then you can modify the values by index</p>
</div>
<div class="post-text" itemprop="text">
<p>So here is my simple solution using <code>pandas</code> library. Suppose we have <code>sample.csv</code> file </p>
<pre><code>import pandas as pd
df = pd.read_csv('sample.csv') # df is now a DataFrame
df['Colum1'] = df['Colum1'] - df['Colum1'].sum() # here we replace the column by subtracting sum of value in the column
print df
df.to_csv('sample.csv', index=False) # save dataframe back to csv file
</code></pre>
<p>You can also use <code>map</code> function to do operation to one column, for example,</p>
<pre><code>import pandas as pd
df = pd.read_csv('sample.csv')
col_sum = df['Colum1'].sum() # sum of the first column
df['Colum1'] = df['Colum1'].map(lambda x: x - col_sum)
</code></pre>
</div>
<span class="comment-copy">Have you attempted the code at this? Can you provide it please?</span>
<span class="comment-copy">@idjaw I just have added my attempt at the top.</span>
<span class="comment-copy">To start you off, you have a syntax error. You wrote 'Colum1' instead of 'Column1'</span>
<span class="comment-copy">@idjaw That is still consistent with the code.  I should not have synthax error because the header <code>Colum1, Colum2, Colum3</code> are called the exact the same in the code <code>Colum1</code>.  I hope you can see that</span>
<span class="comment-copy">Of course you get zeros as a result. valueOf_single_Row is not value_of_single_row.</span>
<span class="comment-copy">I am beginner to python and I want to build on my knowledge so far... Would you mind giving me an idea how to get my attempt working instead of coding from scratch.</span>
