<div class="post-text" itemprop="text">
<p>I am pulling a json response from an api. I then want to turn that response into a dictionary.</p>
<pre><code>import requests
import json
import time
count=1
testdata = open('testdata.txt', 'a')
for data in [111111111,2222222222]:
    data = requests.get('https://na.api.pvp.net/api/lol/na/v1.3/game/by-summoner/%s/recent?api_key=33333333333' % data)
    print(count)
    print(data.text)
    data2=json.loads(data.text)
    print(data2)
    time.sleep(3)
    count=count+1
testdata.close()
</code></pre>
<p>The print(data.text) functions as expected and returns the expected value</p>
<pre><code>{"summonerId":111111111,"games":[{"gameId":1968631337,"invalid":false,"gameMode":"CLASSIC","gameType":"MATCHED_GAME","subType":"NORMAL","mapId":11,"teamId":100,"championId":89,"spell1":3,"spell2":4,"level":30,"ipEarned":267,"createDate":1443930342199,"fellowPlayers":[{"summonerId":47529485,"teamId":200,"championId":17},{"summonerId":48012177,"teamId":100,"championId":103},{"summonerId":47619618,"teamId":200,"championId":114},{"summonerId":22864296,"teamId":100,"championId":41},{"summonerId":35695551,"teamId":200,"championId":110},{"summonerId":47070578,"teamId":200,"championId":92},{"summonerId":22289063,"teamId":200,"championId":432},{"summonerId":48476724,"teamId":100,"championId":72},{"summonerId":25396855,"teamId":100,"championId":133}],"stats":.............}
</code></pre>
<p>The issue comes with:</p>
<pre><code>data2=json.loads(data.text)
print(data2)
</code></pre>
<p>The output for print(data2) is:</p>
<pre><code>{'games': [{'gameId': 1968631337, 'championId': 89, 'level': 30, 'createDate': 1443930342199, 'gameMode': 'CLASSIC', 'mapId': 11, 'gameType': 'MATCHED_GAME', 'subType': 'NORMAL', 'teamId': 100, 'invalid': False, 'ipEarned': 267, 'fellowPlayers': [{'teamId': 200, 'championId': 17, 'summonerId': 47529485}, {'teamId': 100, 'championId': 103, 'summonerId': 48012177}, {'teamId': 200, 'championId': 114, 'summonerId': 47619618}, {'teamId': 100, 'championId': 41, 'summonerId': 22864296}, {'teamId': 200, 'championId': 110, 'summonerId': 35695551}, {'teamId': 200, 'championId': 92, 'summonerId': 47070578}, {'teamId': 200, 'championId': 432, 'summonerId': 22289063}, {'teamId': 100, 'championId': 72, 'summonerId': 48476724}, {'teamId': 100, 'championId': 133, 'summonerId': 25396855}], 'spell1': 3, 'spell2': 4, 'stats': {'timePlayed': 2583, 'win': True, 'wardPlaced': 29, 'totalDamageDealt': 52932, 'magicDamageDealtToChampions': 8275, 'playerPosition': 4, 'largestMultiKill': 1, 'largestKillingSpree': 2, 'magicDamageTaken': 14488, 'totalTimeCrowdControlDealt': 125, 'trueDamageDealtPlayer': 8372, 'wardKilled': 1, 'item2': 3068, 'item3': 3117, 'item0': 3401, 'item1': 2049, 'item6': 3340, 'item4': 3022, 'item5': 1011, 'minionsKilled': 68, 'neutralMinionsKilledYourJungle': 1, 'championsKilled': 3, 'trueDamageTaken': 991, 'assists': 24, 'neutralMinionsKilled': 1, 'playerRole': 2, 'physicalDamageDealtToChampions': 3464, 'goldSpent': 10805, 'level': 18, 'physicalDamageDealtPlayer': 14884, 'totalHeal': 9606, 'goldEarned': 12046, 'turretsKilled': 1, 'totalDamageDealtToChampions': 11739, 'totalUnitsHealed': 4, 'team': 100, 'numDeaths': 7, ...........}
</code></pre>
<p>This omits the initial "summonerId" pair and I can't figure out why.  Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>If you successfully parsed the JSON response the key will <em>definitely</em> be there. However, dictionaries have no order; the <code>summonerId</code> key is just displayed <em>at the end</em>, rather than the start, in the part you replaced with <code>.....</code>. You'd be better off printing just the <em>keys</em> of the top-level dictionary:</p>
<pre><code>print(sorted(data2))
</code></pre>
<p>and you'll get a sorted list of the keys. Alternatively, print a formatted, indented structure using the <a href="https://docs.python.org/3/library/pprint.html#pprint.pprint" rel="nofollow"><code>pprint.pprint()</code> function</a>:</p>
<pre><code>from pprint import pprint

pprint(data2)
</code></pre>
<p>Note that <code>requests</code> supports JSON responses natively, you don't need to use the <code>json</code> library separately:</p>
<pre><code>url = 'https://na.api.pvp.net/api/lol/na/v1.3/game/by-summoner/%s/recent?api_key=33333333333' % data
data2 = requests.get(url).json()
</code></pre>
<p>The <code>response.json()</code> call parses the response data as JSON.</p>
</div>
<span class="comment-copy">Dictionaries have no order. The <code>summonerId</code> key is just displayed <i>at the end</i>.</span>
<span class="comment-copy">So it is! Thank you.</span>
