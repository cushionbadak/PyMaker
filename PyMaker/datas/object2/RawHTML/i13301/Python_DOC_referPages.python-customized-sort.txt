<div class="post-text" itemprop="text">
<p>I have a list of dictionary objects (read from csv) that I want to sort. E.g.</p>
<pre><code>l_data.sort(key=lamdba x: (x['fname'], x['lname']))
</code></pre>
<p>Now I want to make the code more flexible, and want to sort on the keys based on the input, something like:</p>
<pre><code>def sort_data(l_data, keys):
    l_data.sort(key=lambda x: (x[d] for d in keys))
    ... ...
</code></pre>
<p>And I get the following error:</p>
<pre><code>TypeError: unorderable types: generator() &lt; generator()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>(x[d] for d in keys)</code> is a generator expression (produces <code>generator</code> object). If you want to make a tuple, wrap that generator expression with <code>tuple(...)</code>:</p>
<pre><code>def sort_data(l_data, keys):
    l_data.sort(key=lambda x: tuple(x[d] for d in keys))
    # code
</code></pre>
<p>Though your code can be greatly simplified using <a href="https://docs.python.org/3/library/operator.html#operator.itemgetter" rel="nofollow"><code>operator.itemgetter</code></a>:</p>
<pre><code>from operator import itemgetter

def sort_data(l_data, keys):
    l_data.sort(key=itemgetter(*keys))
    # code
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are trying to sort by the generator <code>x[d] for d in keys</code>, the output of the generator needs to be converted to a tuple first.</p>
<p>See <a href="https://stackoverflow.com/questions/4233476/sort-a-list-by-multiple-attributes">here</a></p>
</div>
<span class="comment-copy">Thanks! itemgetter is really pythonic!</span>
