<div class="post-text" itemprop="text">
<p>I'm working with the praw module, and I find that my objects sometimes have a property <code>subreddit</code> that is sometimes a string and that is sometimes an object with its own properties. I've dealt with it using the following:</p>
<pre><code>for c in comments:
    if isinstance(c.subreddit, str):
        subreddit_name = c.subreddit
    else:
        subreddit_name =  c.subreddit.display_name
</code></pre>
<p>I have two functions where I have to do this, and it's really ugly. Is there a better way to deal with this?</p>
</div>
<div class="post-text" itemprop="text">
<p>I would use <a href="https://docs.python.org/3/glossary.html#term-eafp" rel="nofollow">EAFP</a> rather than <a href="https://docs.python.org/3/glossary.html#term-lbyl" rel="nofollow">LBYL</a>:</p>
<pre><code>for c in comments:
    try:
         subreddit_name =  c.subreddit.display_name
    except AttributeError:
        subreddit_name = c.subreddit
</code></pre>
<p>You could also try <a href="https://docs.python.org/3/library/functions.html#getattr" rel="nofollow"><code>getattr</code></a>, which takes a default like <code>dict.get</code>:</p>
<pre><code>subreddit_name = getattr(c.subreddit, 'display_name', c.subreddit)
</code></pre>
<p>This is effectively a neater version of:</p>
<pre><code>subreddit_name = (c.subreddit.display_name 
                  if hasattr(c.subreddit, 'display_name') 
                  else c.subreddit)
</code></pre>
</div>
<span class="comment-copy">I will try getattr, didn't know you could supply a default. Thanks for the handy acronyms.</span>
