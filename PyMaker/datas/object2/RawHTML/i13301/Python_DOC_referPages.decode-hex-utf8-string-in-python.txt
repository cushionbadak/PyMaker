<div class="post-text" itemprop="text">
<p>A chinese string:</p>
<pre><code>situation a:
str = "\\xE4\\xBF\\xA1\\xE9\\x94\\x90\\xE7\\xBD\\x91\\xE7\\xA7\\x91\\xE6\\x8A\\x80\\xE6\\x9C\\xAF"
print str.decode('utf-8')
#get:\xE4\xBF\xA1\xE9\x94\x90\xE7\xBD\x91\xE7\xA7\x91\xE6\x8A\x80\xE6\x9C\xAF

situation b:
str = '\xE4\xBF\xA1\xE9\x94\x90\xE7\xBD\x91\xE7\xA7\x91\xE6\x8A\x80\xE6\x9C\xAF'
print str.decode('utf-8')
#get: correct chinese string
</code></pre>
<p>so, how can i get correct chinese string in situation a?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow">ast.literal_eval</a> after some preprocessing. It's particularly easy if you can assume the string contains no quote characters:</p>
<pre><code>str = "\\xE4\\xBF\\xA1\\xE9\\x94\\x90\\xE7\\xBD\\x91\\xE7\\xA7\\x91\\xE6\\x8A\\x80\\xE6\\x9C\\xAF"
print ast.literal_eval('"' + str + '"').decode('utf-8')
</code></pre>
<p>If it could contain quotes, you have to do slightly more work to escape the internal quotes, but it's the same basic idea. On Python 3, the code would have to change depending on whether your input is really <code>str</code> or <code>bytes</code>; it's complicated, but you're clearly running Python 2 anyway.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>x1 ="\\xE4\\xBF\\xA1\\xE9\\x94\\x90\\xE7\\xBD\\x91\\xE7\\xA7\\x91\\xE6\\x8A\\x80\\xE6\\x9C\\xAF"


x1 = x1.decode('string_escape')
print x1
</code></pre>
<p>You can probably do something like this.</p>
</div>
<div class="post-text" itemprop="text">
<p>Try this, if you can sanitize the string and make sure it does not contain anything malicious:</p>
<pre class="lang-python prettyprint-override"><code>str = "\\xE4\\xBF\\xA1\\xE9\\x94\\x90\\xE7\\xBD\\x91\\xE7\\xA7\\x91\\xE6\\x8A\\x80\\xE6\\x9C\\xAF"
str = eval('"' + str  + '"')
str = str.decode('utf-8')
print str
</code></pre>
<p>I see that ShadowRanger has already posted similar and probably better solution.</p>
</div>
<span class="comment-copy">what did you tried?</span>
<span class="comment-copy">How do you get the string in situation A?</span>
<span class="comment-copy">信锐网科技术 is it correct i do not chinese!</span>
<span class="comment-copy">it work, thank you</span>
<span class="comment-copy">@waitianlou: You're welcome. Always enjoy an opportunity to point out <code>ast.literal_eval</code> as the limited purpose (but safe) alternative to the incredibly dangerous <code>eval</code>. :-)</span>
<span class="comment-copy">it work, and thank you, point out ShadowRanger's solution is better one</span>
