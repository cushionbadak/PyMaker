<div class="post-text" itemprop="text">
<p>I have a list of ngram terms and I want to use the tests present in the NLTK toolkit to rank the terms. But in NLTK.collocations there are only BigramCollocationFinder, TrigramCollocationFinder, QuadgramCollocationFinder. What can I do if I have a 5gram, 6gram in the terms list?</p>
</div>
<div class="post-text" itemprop="text">
<p>In order to realise an <code>NGramCollocationFinder</code> you need to get rid of the multiude of <code>i</code>&amp;<code>x</code> variables. To get rid of them you need to see that the pattern used are all combinations of a list of <code>n</code> items. The next step is to replace the variables with a dictionary using this combination as keys.</p>
<p>Finally you need to build some logic to update each combination based upon the given <code>w#</code> variables if an index is present in the combination set.  It can be done, but I suggest doing it for <code>n=3</code> or <code>n=4</code> for starters, where you can verify the logic in existing classes. When these are correct, you can use it for larger <code>n</code>'s.</p>
<h2>Finding the combinations</h2>
<p>There is a <code>powerset()</code> generator in <a href="https://docs.python.org/3/library/itertools.html#itertools-recipes" rel="nofollow noreferrer">the recipes section</a> of <a href="https://docs.python.org/3/library/itertools.html" rel="nofollow noreferrer">the itertools documentation</a> which you can use to realise the combinations<sup>1</sup>. </p>
<pre><code>def powerset(iterable):
    "powerset([1,2,3]) --&gt; () (1,) (2,) (3,) (1,2) (1,3) (2,3) (1,2,3)"
    s = list(iterable)
    return chain.from_iterable(combinations(s, r) for r in range(len(s)+1))
</code></pre>
<p>Here the <code>(1,2)</code> tuple corresponds to the <code>iix</code> variable, and the <code>(1,3)</code> tuple corresponds to the <code>ixi</code> variable. So based on the tuple length, and the presence of the different indexes it is possible to replace all the <code>i</code>&amp;<code>x</code> variables.</p>
<h2>Do tuple logic</h2>
<p>Another tool you need to achieve your goal, is to be able to add to tuples. This is needed to extend/replace the arguments within <code>score_ngram()</code>. Here is a really simple example on how to add to a tuple:</p>
<pre><code>a = (1, 2)
b = a + (3, )    # Notice the trailing comma to make it one element tuple
# b is now (1, 2, 3)
</code></pre>
<p>The rest, as they say, is left for you to implement. For some help on sections you need to analyze see <a href="https://stackoverflow.com/a/33025730/1548472">my answer</a> on the related question: "<a href="https://stackoverflow.com/q/33021916/1548472">Transform QuadgramCollationFinder into PentagramCollationFinder</a>".</p>
<hr/>
<p><sub><sup>1</sup> Thanks to <a href="https://stackoverflow.com/users/892383/cyphase">Cyphase</a> describing this in <a href="https://stackoverflow.com/a/32407014/1548472">this answer</a></sub></p>
</div>
<span class="comment-copy">You need to take the QuadgramCollocationFinder, and extend it. Possibly generalising to allow for the NGramCollocationFinder. Which sound like a task possibly helped by a <a href="http://stackoverflow.com/a/32407014/1548472">powerset recipe</a>...</span>
<span class="comment-copy">Somewhat related to <a href="http://stackoverflow.com/q/33021916/1548472">stackoverflow.com/q/33021916/1548472</a>, which is the same question for <code>n=5</code></span>
