<div class="post-text" itemprop="text">
<p>I have a list of <code>strings</code> and I would like to check if in this string I have a specific <code>word</code>, if yes I copy it to a list. This word need to be before a <code>= {</code></p>
<p>For example if I have, as <code>strings</code>:</p>
<pre><code>TOTO_TEST = {0x68, 0x65, 0x6c, 0x6c, 0x6f}
</code></pre>
<p>And as <code>word</code>:</p>
<pre><code>TOTO
</code></pre>
<p>I already tried this:</p>
<pre><code>if fnmatch.filter(strings, word + '* = {')
</code></pre>
<p>This will not find my <code>string</code>. It will only works if the <code>string</code> is :</p>
<pre><code>TEST_TOTO = {0x68, 0x65, 0x6c, 0x6c, 0x6f}
</code></pre>
<p>Can you tell me what is wrong with my <em>fnmatch</em> please?
BTW I'm really open for another way to do it!</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>import re

strings = 'TOTO_TEST = {0x68, 0x65, 0x6c, 0x6c, 0x6f}'
word = 'TOTO'

if re.search(r'\b' + word + r'(?=.*=\s*{)', strings, re.I):
    print 'yes'
</code></pre>
<p>You can do something like this.Here through the use <code>lookahead</code> we make sure after the word we have <code>={</code> somewhere in the string.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; myList = []
&gt;&gt;&gt; myStr = "TOTO_TEST = {0x68, 0x65, 0x6c, 0x6c, 0x6f}"
&gt;&gt;&gt; match = re.search(r"(TOTO)", myStr.split("=")[0], re.S)
&gt;&gt;&gt; if match:
        myList.append(match.group(1))
&gt;&gt;&gt; myList
</code></pre>
<p>OUTPUT:<br/>
['TOTO']</p>
</div>
<span class="comment-copy">Would a simple <code>if word == strings.partition(' = {')[0]</code> suffice?</span>
<span class="comment-copy">@anubhava Sorry I'm a bit new to Python, you mean to put this in a fnmatch.filter ?</span>
<span class="comment-copy">Are you filtering file names? fnmatch is really for Unix filename matching <a href="https://docs.python.org/2/library/fnmatch.html" rel="nofollow noreferrer">docs.python.org/2/library/fnmatch.html</a> You probably want to use re instead <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">docs.python.org/3/library/re.html</a></span>
<span class="comment-copy">Is this one would work with this?   ` = {` <code>={</code> <code>= {</code> and so on. BTW can you explain this regex as I'm not proficient on that. Thanks</span>
<span class="comment-copy">for example:      "TOTO_TEST = {0x68, 0x65, 0x6c, 0x6c, 0x6f}"     "TOTO_TEST= {0x68, 0x65, 0x6c, 0x6c, 0x6f}"     "TOTO_TEST ={0x68, 0x65, 0x6c, 0x6c, 0x6f}"     "TOTO_TEST={0x68, 0x65, 0x6c, 0x6c, 0x6f}"  I mean the space around the equal sign</span>
<span class="comment-copy">Ok thanks, let me verify this on my application and if every thing is ok I will accept your answer ;)</span>
<span class="comment-copy">@vks2 is it possible to have <code>word</code> case incensitive ?</span>
<span class="comment-copy">@VivienG added.check edit</span>
<span class="comment-copy">Definitely not what I want, check the question.</span>
