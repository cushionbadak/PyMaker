<div class="post-text" itemprop="text">
<p>Im trying to hash an object of a custom class using the </p>
<pre><code>hash()
</code></pre>
<p>function. My code does the following within the class</p>
<pre><code>def __hash__(self):
    return hash(tuple(self.somelistattribute))
</code></pre>
<p>Where the attribute somelistattribute is list of lists such as:</p>
<p>Why do i keep getting an error:</p>
<pre><code>TypeError: unhashable type: 'list'
</code></pre>
<p>How do I fix it?</p>
</div>
<div class="post-text" itemprop="text">
<p>Because <code>list</code> is unhashable, and that includes the sublists.  To convert the sublists, use <a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow">map()</a>:</p>
<pre><code>    return hash(tuple(map(tuple, self.somelistattribute)))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is the lists <em>inside of</em> your outer list. Those aren't hashable, and calling <code>tuple()</code> only changes the <em>outer</em> list to a tuple.</p>
<p>You can fix this in a few ways, like with <code>map()</code>:</p>
<pre><code>hash(tuple(map(tuple, list_of_lists)))
</code></pre>
<p>or with a comprehension:</p>
<pre><code>hash(tuple(tuple(x) for x in list_of_lists))
</code></pre>
</div>
<span class="comment-copy">I tried this, I get the same error. I forgot to mention that the it is not a list of lists of integers, but a list os lists of strings. Does that change anything?</span>
<span class="comment-copy">Would you mind giving an example that reproduces the problem?</span>
<span class="comment-copy">You mean the class constructor? or where I'm specifically encountering the problem?</span>
<span class="comment-copy">I mean the list of lists that can't be pickled.  A list of lists of strings when converted to a tuple of tuples of strings doesn't have any lists that can't be pickled.  I'd like an example of your list.</span>
<span class="comment-copy">[["<i>", "</i>", "<i>", "</i>", "<i>"],["</i>", "<i>", "</i>", "<i>", "</i>"],["<i>", "</i>", ".", "<i>", "</i>"], ["<i>", "</i>", "<i>", "</i>", "<i>"],["</i>", "<i>", "</i>", "<i>", "</i>"]]</span>
<span class="comment-copy">I tried this, it doesn't work and i encounter the same problem</span>
<span class="comment-copy">@SrikanthSrinivas then please <a href="https://stackoverflow.com/posts/36226561/edit">edit</a> your question to contain code that demonstrates the problem. The code in your question works perfectly fine with the answers you've been given so far.</span>
<span class="comment-copy">I've edited the question</span>
<span class="comment-copy">@SrikanthSrinivas and that changed nothing; the answers here still work perfectly fine for the example in your question.</span>
<span class="comment-copy">@DanGetz: By the way, the <code>[edit]</code> shortcut link is for the post under which it is used.  In this case, your link is for editing your answer.</span>
