<div class="post-text" itemprop="text">
<p>I have been trying to write variables to a temporary text file but I get the following error:</p>
<pre><code>Traceback (most recent call last):
  File "F:/A453/_Codes_/APP CONFIG/Temp.py", line 102, in &lt;module&gt;
    ORXQC-IIHL2-6AV55-FIJEV-2""")
  File "C:\Program Files (x86)\Python34\lib\tempfile.py", line 399, in     func_wrapper
    return func(*args, **kwargs)
TypeError: 'str' does not support the buffer interface
</code></pre>
<p>My Script is the Following:</p>
<pre><code>import tempfile
TEMPDIR=tempfile.TemporaryFile()
TEMPDIR.write("""B5IB6-ELAZ1-RAPY9-V8X1I-3
OKXVB-Q8B9G-IT9ZF-MI4EQ-2
PLDZ6-769YT-YJSR4-682JT-7
H67L5-9HO4C-4UDSR-BYA14-6
Y73EC-S8OJG-O1APH-N41KM-3
JCYVV-UXNIN-9RGSU-WQ9SD-1
WL9AO-9BLI7-GXXGM-VESEU-2
VDLHT-IXMUY-V4FPU-V3IFZ-1
8CPVN-Z776Z-Y49J3-2C683-5
ORXQC-IIHL2-6AV55-FIJEV-2""")
Activation=input('Please Enter your Product Activation Key: ')
if Activation in TEMPDIR:
    print('True')
else:
    print('False')
</code></pre>
<p>Please help me overcome this error</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>The default mode of <code>TemporaryFile</code> is <code>"w+b"</code>, e.g. binary. You have to provide the mode explicitly for text:</p>
<pre><code>TEMPDIR = tempfile.TemporaryFile(mode="w+")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The default mode used to open the file returned by <code>TempFile</code> is <code>'w+b'</code>. The <code>b</code> in that string means it's opened in binary mode, and you need to pass <code>bytes</code> instances to its <code>write</code> method, rather than <code>str</code> instances like you're doing.</p>
<p>You have a few options. You could encode your string to <code>bytes</code>. Or alternatively, you could pass a mode to <code>TempFile</code> to have it open the file in text mode (so that <code>write</code> expects Unicode <code>str</code> instances). Using a proper mode is probably the better solution, but your mileage may vary.</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryFile" rel="nofollow">docs</a> explain that <code>tempfile</code> uses binary mode by default when opening a file to write to. Therefore, you can't write strings to it (this only works in text mode), only <code>bytes</code> objects. </p>
<p>So either override that default (as in Daniel's answer), or encode your strings with the appropriate encoding:</p>
<pre><code>TEMPDIR.write("foo".encode("utf-8"))
</code></pre>
<p>or use a <code>bytes</code> object right away:</p>
<pre><code>TEMPDIR.write(b"""B5IB6-ELAZ1-RAPY9-V8X1I-3...")
</code></pre>
</div>
<span class="comment-copy">the same way as to regular file, I guess: <code>f = open(TEMPDIR, 'w'); f.write(something)</code></span>
<span class="comment-copy">Did you search your error and try the several solutions that come up based on that message you are receiving?</span>
<span class="comment-copy">Did you try <a href="http://stackoverflow.com/search?q=TypeError%3A+%27str%27+does+not+support+the+buffer+interface">these solutions</a> ?</span>
