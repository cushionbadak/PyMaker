<div class="post-text" itemprop="text">
<p>I'm trying to randomly reorder an Array using my <code>scramble</code> function:</p>
<pre><code>def scramble(arr):
    arr_len = len(arr)
    container = [None]*arr_len
    indexes = [i for i in range(arr_len)]
    print(random.choice(indexes))       # works as expected
    for i in range(arr_len):
        my_choice = None
        while not my_choice:
            my_choice = random.choice(indexes)
            print(my_choice)        # always None
            if my_choice is not None:
                indexes[my_choice] = None
                container[my_choice] = arr[my_choice]
    print(container)

scramble([2,3,4,5,6])                  
</code></pre>
<p>The issue that I'm facing is that <code>my_choice</code> variable is always containing <code>None</code>. Can anyone please point out what I'm missing?</p>
</div>
<div class="post-text" itemprop="text">
<p>The issue with the above code is in the line <code>while not my_choice:</code>. Remember, that <code>my_choice</code> variable can contain both 0 and <code>None</code> (both of those values are falsy).       </p>
<p>So, I'd recommend changing your code to something like this (if you don't want to use <code>random.shuffle</code>):        </p>
<pre><code>def scramble(arr):
    arr_len = len(arr)
    container = [None]*arr_len
    indexes = [i for i in range(arr_len)]
    # print(random.choice(indexes))       # works as expected
    for i in range(arr_len):
        # print("i is {}".format(i))
        my_choice = None
        # while not my_choice:
        while my_choice is None:
            my_choice = random.choice(indexes)
            print(my_choice)        # always None
            if my_choice is not None:
                indexes[my_choice] = None
                container[i] = arr[my_choice]
    print(container)

scramble([2,3,4,5,6])
</code></pre>
<p>Also, do <code>container[i] = arr[my_choice]</code> instead of <code>container[my_choice] = arr[my_choice]</code></p>
</div>
<div class="post-text" itemprop="text">
<p>The problem occurs because you are setting <code>indexes[my_choice]</code> to be None, as result at some point all elements in the <code>indexes</code> list is <code>None</code>, and the while loop becomes never ending.</p>
<p>To scramble the list you can  use <a href="https://docs.python.org/2/library/random.html#random.shuffle" rel="nofollow noreferrer">random.shuffle</a> function from standard library:</p>
<pre><code>import random

arr = [2,3,4,5,6]
random.shuffle(arr)
print arr
</code></pre>
</div>
<span class="comment-copy">Any reason why you don't use the <a href="https://docs.python.org/3/library/random.html#random.shuffle" rel="nofollow noreferrer"><code>random.shuffle</code></a> function?</span>
<span class="comment-copy">Tangential, but: <code>indexes = list(range(arr_len))</code>…</span>
<span class="comment-copy">If you want to implement your own shuffling algorithm, at least implement <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm" rel="nofollow noreferrer">Fisher-Yates</a>.</span>
<span class="comment-copy">@deceze can you please point out that why doing <code>print(my_choice)</code> always prints <code>None</code>?</span>
<span class="comment-copy">It doesn't <i>always</i> print <code>None</code>, only after a couple of iterations, when you have replaced all items in <code>indexes</code> with <code>None</code>.</span>
<span class="comment-copy">Simply removing that line would probably lead to the wrong outcome. That line is supposed to avoid picking duplicates.</span>
<span class="comment-copy">In a single while loop I'm setting indexes[my_choice] to be None, just once. Also, while condition is inside for loop which runs only 5 times</span>
<span class="comment-copy">Technically correct, but not really helpful. Why doesn't the loop end after all indices have been set to <code>None</code>? There's a <code>for i in range(arr_len):</code> loop at the top, and in every iteration that loop sets one index to <code>None</code>. So after all indices have been set to <code>None</code>, why does the loop keep going?</span>
<span class="comment-copy">@deceze good point, I have  just updated answer</span>
<span class="comment-copy">Why do you shuffle <code>indexes</code> instead of <code>random.shuffle(arr)</code> directly…?!</span>
