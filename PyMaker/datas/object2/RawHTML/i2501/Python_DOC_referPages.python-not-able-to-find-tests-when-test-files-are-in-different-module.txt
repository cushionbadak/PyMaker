<div class="post-text" itemprop="text">
<p>I have a directory structure like below</p>
<pre><code>horizontalupgrade
  common/
    __init__.py
    upgradestate.py
  tests/
    common/
      __init__.py
      testupgradestate.py
</code></pre>
<p>Content of <code>testupgradestate.py</code></p>
<pre><code>import unittest
from upgradestate import UpgradeState

class UpgradeStateTest(unittest.TestCase):

    def setUp(self):
        print "Setup Called"

    def test_copy(self):
        u = UpgradeState("")
        print "test_copy Called"

if __name__ == '__main__':
    suite = unittest.TestLoader().loadTestsFromTestCase(UpgradeStateTest)
    runner = unittest.TextTestRunner()
    runner.run(suite)
</code></pre>
<p>But on trying to execute the tests python is not able to find the tests</p>
<pre><code>(venv) dmanna-a01:horizontalupgrade dmanna$ python -m unittest discover  -v

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK
</code></pre>
<p>But if I make my directory structure like below</p>
<pre><code>horizontalupgrade
  common/
    __init__.py
    upgradestate.py
    testupgradestate.py
</code></pre>
<p>Then the tests are running fine</p>
<pre><code>(venv) dmanna-a01:horizontalupgrade dmanna$ python -m unittest discover  -v
test_copy (common.testupgradestate.UpgradeStateTest) ... Setup Called
test_copy Called
ok

----------------------------------------------------------------------
Ran 1 tests in 0.000s

OK
</code></pre>
<p>Can someone let me know what I am doing wrong? How can I make the tests run from a different test package?</p>
<ul>
<li>Python - 2.7</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>You need an <code>__init__.py</code> in <code>tests/</code>. Unittest's discovery only works on packages.
<a href="https://docs.python.org/3/library/unittest.html" rel="nofollow noreferrer">https://docs.python.org/3/library/unittest.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Try this, Add these code in the beginning of yours:</p>
<pre><code>import sys
sys.path.append('.../common')
</code></pre>
<p>Or you can use absolute path in append.</p>
</div>
