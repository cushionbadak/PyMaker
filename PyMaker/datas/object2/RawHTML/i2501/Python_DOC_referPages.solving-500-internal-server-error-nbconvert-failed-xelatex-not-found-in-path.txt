<div class="post-text" itemprop="text">
<p>Whenever I try to export a Jupyter notebook as a PDF I get the following error in a separate window:</p>
<pre><code>500 : Internal Server Error
The error was:

nbconvert failed: xelatex not found on PATH, if you have not installed xelatex you may need to do so. Find further instructions at https://nbconvert.readthedocs.io/en/latest/install.html#installing-tex.
</code></pre>
<p>I am running macOS Sierra 10.12.6.</p>
<p>Things I have tried:</p>
<ul>
<li>Re-installing nbconvert through pip (in the Jupyter notebook) and conda (terminal)</li>
<li>Installing xelatex for Mac</li>
<li>Re-installing Mactex</li>
<li>Installing pandoc (both through pip and through "conda install -c conda-forge pandoc")</li>
</ul>
<p>Running</p>
<pre><code>!echo $PATH
</code></pre>
<p>Yields:</p>
<pre><code>/Users/ed/anaconda/bin:/Users/ed/anaconda/bin:/usr/bin:/bin:/usr/sbin:/sbin
</code></pre>
<p>I located the directory containing xelatex as per @einsweniger suggestion here: /usr/local/texlive/bin/x86_64-darwin.  I copied and pasted XeLatex into the bin directory above, and get a new error:</p>
<pre><code>```nbconvert failed: PDF creating failed, captured latex output:
warning: kpathsea: configuration file texmf.cnf not found in these directories: /Users/e/anaconda/bin:/Users/ed/anaconda/bin/share/texmf-local/web2c:/Users/ed/anaconda/bin/share/texmf-dist/web2c:/Users/ed/anaconda/bin/share/texmf/web2c:/Users/ed/anaconda/bin/texmf-local/web2c:/Users/ed/anaconda/bin/texmf-dist/web2c:/Users/ed/anaconda/bin/texmf/web2c:/Users/ed/anaconda:/Users/edefilippis/anaconda/share/texmf-local/web2c:/Users/e/anaconda/share/texmf-dist/web2c:/Users/ed/anaconda/share/texmf/web2c:/Users/ed/anaconda/texmf-
This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018) (preloaded format=xelatex)

kpathsea: Running mktexfmt xelatex.fmt
I can't find the format file `xelatex.fmt'!
```
</code></pre>
<p>I also put xelatex.fmt in the directory, but am still getting the error. </p>
</div>
<div class="post-text" itemprop="text">
<p>I'm not accustomed with Mac install paths, from what the <a href="http://www.tug.org/mactex/faq/index.html#atqt02down" rel="nofollow noreferrer">basictex faq</a> says, I gather the executeables should live in <code>/usr/local/texlive/bin/x86_64-darwin</code>
Running <code>which xelatex</code> in a terminal might also help finding where the command is, but that only works if the directory is already in your PATH variable.</p>
<p>Another method would be running <code>find / -name 'xelatex'</code> if it is not within your PATH so you might find it that way (might take a while as this will search you whole harddrive).</p>
<p>Once you've found it and added the path to your PATH variable, you should also check if the jupyter has the correct PATH by running</p>
<pre><code>import os
print(os.environ['PATH'])
</code></pre>
<p>within a notebook.</p>
</div>
<div class="post-text" itemprop="text">
<p>I've run into similar issues in the past with paths in python when using tensorflow in Windows and Linux.  As is pointed out by others, using PATH is the way to go (i.e update in .bashrc if it was linux), but I've found the code below to resolve path issues on a script by script basis.</p>
<pre><code>import sys
if "\your\path\to\xelatex" not in sys.path:
    print('adding path') # I just add this to know if the path was present or not.
    sys.path.append("\your\path\to\xelatex")
</code></pre>
<p>essentially would check PATH for what it is you are looking for and then adds it if it is missing.  You probably don't even need the 'if' statement.<br/>
Perhaps not the most practical way has worked well for me where I know the path in question is perhaps a 'rarely used' or 'one time use' PATH add...</p>
<p>So as was pointed out in comments above (and I think you already have) find the location of the file and add its location using the above code.  </p>
<p>Some more reading on it:
<a href="https://docs.python.org/3/tutorial/modules.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/modules.html</a>
6.2 Standard Modules</p>
</div>
<div class="post-text" itemprop="text">
<p>I encountered the same issue. As people previously stated, the problem lies in that xlatex isn't found in your PATH environment variable. </p>
<p>A solution that worked for me was to run the following from the notebook:</p>
<pre><code>!export PATH=/Library/TeX/texbin:$PATH
</code></pre>
<p>Or in a command line simply:</p>
<pre><code>export PATH=/Library/TeX/texbin:$PATH
</code></pre>
<p>And then run the export to pdf from a command line (within your virtual environment if there is one in place) as follows:</p>
<pre><code> jupyter nbconvert your_notebook.ipynb --to pdf
</code></pre>
<p>This should create a pdf of your notebook on the same directory it is running.</p>
</div>
<div class="post-text" itemprop="text">
<p>If there is an update available maybe try and update Jupyter</p>
</div>
<span class="comment-copy">I think you need to make sure that xelatex is on the PATH.  Did you check the answers here: <a href="https://stackoverflow.com/questions/36916093/convert-ipynb-to-pdf-in-jupyter" title="convert ipynb to pdf in jupyter">stackoverflow.com/questions/36916093/â€¦</a> ?</span>
<span class="comment-copy">Basicslly, as above, why not adding the xelatex path directly?</span>
<span class="comment-copy">I have installed BasicTeX, which is supposed to contain xelatex.  I cannot actually find where it installs xelatex to, however.  So I can't put it in my path</span>
<span class="comment-copy">Thanks so much for the help.  I have identified that the Latex path is not in my Python PATH, so I just copied and pasted all the requisite files into the "/Users/ed/anaconda/bin" directory, which is in my path.  Unfortunately, this still doesn't work, as I get the error that I appended to my question.  Any thoughts on how to add the path?  I tried editing my bash profile and following multiple tutorials on it, and nothing actually changes the path.</span>
<span class="comment-copy">Don't go copying executables around to different directories. You'll just make a worse mess of things, possibly break things in unknowable ways. <code>PATH</code> is an environment variable. It's associated with your login session and its value is passed along to other programs (including, but not limited to, Python). If a program like xelatex needs to be on your PATH the solution is not to copy files into a directory that happens to already be on your <code>PATH</code>. The solution is to update your <code>PATH</code> variable itself before starting Python. Possibly even permanently.</span>
<span class="comment-copy">Maybe try this guide for adding the path where the files were originally <a href="https://www.tech-recipes.com/rx/2621/os_x_change_path_environment_variable/" rel="nofollow noreferrer">tech-recipes.com/rx/2621/os_x_change_path_environment_variable</a></span>
