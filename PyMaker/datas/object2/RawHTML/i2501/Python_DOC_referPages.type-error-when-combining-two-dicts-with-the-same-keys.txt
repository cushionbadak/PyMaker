<div class="post-text" itemprop="text">
<p>I have the following dict:</p>
<pre><code>data={'400.0': 0.051198,
 '420.0': 0.046287,
 '440.0': 0.046454,
 '460.0': 0.041944,
 '480.0': 0.025476,
 '500.0': 0.037221,
 '520.0': 0.020769,
 '540.0': 0.0029368,
 '560.0': 0.0024553,
 '580.0': 0.020523,
 '600.0': 0.042838,
 '620.0': 0.05615,
 '640.0': 0.065999,
 '660.0': 0.099263,
 '680.0': 0.14634,
 '700.0': 0.13285}
</code></pre>
<p>I have a multitude of such dics, all with the same keys but different values.
Now I would like to merge them into one dic, preserving the keys.</p>
<p>I therefore looked at this question:
<a href="https://stackoverflow.com/questions/11533274/how-can-i-combine-dictionaries-with-the-same-keys-in-python">How can I combine dictionaries with the same keys in python?</a></p>
<p>However when I do:</p>
<pre><code>big_dict = {}
for k in data:
        big_dict[k] = [d[k] for d in data]
</code></pre>
<p>... I get:</p>
<blockquote>
<p>TypeError: string indices must be integers</p>
</blockquote>
<p>Do you understand why and how to fix it ?</p>
</div>
<div class="post-text" itemprop="text">
<p>Would suggest using <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer">defaultdict</a> and appending values of same key to it</p>
<pre><code>big_dict = defaultdict(list)
for data in list_of_dicts:
   for key, value in data.items():
        big_dict[key].append(value)
</code></pre>
</div>
<span class="comment-copy">What do you expect <code>k</code> and <code>d</code> to be?</span>
<span class="comment-copy">In the example question, <code>dicts</code> is a list of dictionaries. In your attempt, <code>data</code> is a single dictionary. Please provide a <b><a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a></b>.</span>
<span class="comment-copy">If you want to iterate over a dictionary you better use <code>iteritems</code>, something like <code>for i,k in data.iteritems()</code>.</span>
<span class="comment-copy">What should be <code>big_dict</code> equal to?</span>
<span class="comment-copy">if your plan is to just merge dicts and your constraint is to preserve the keys, can't you just loop over your small dicts and do big_dict.update(small_dict)?</span>
