<div class="post-text" itemprop="text">
<p>I tried using <code>subprocess.run</code> <a href="https://stackoverflow.com/a/4760517/492336">as described in this answer</a>, but it doesn't return anything for stdout or stderr:</p>
<pre><code>&gt;&gt;&gt; result = subprocess.run('echo foo', shell=True, check=True)
&gt;&gt;&gt; print(result.stdout);
None
&gt;&gt;&gt; print(result.stderr);
None
</code></pre>
<p>I also tried using <code>capture_output=True</code> but I got an exception <code>__init__() got an unexpected keyword argument 'capture_output'</code>, even though it is described <a href="https://docs.python.org/3/library/subprocess.html" rel="noreferrer">in the documentation</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>I had made a mistake, I hadn't added <code>stdout=subprocess.PIPE</code>:</p>
<pre><code>result = subprocess.run('echo foo', shell=True, check=True, stdout=subprocess.PIPE);
</code></pre>
<p>Now it's working.</p>
</div>
<span class="comment-copy">You might want to set <code>stderr</code> as well.</span>
<span class="comment-copy">capture_output keyword argument for subprocess.run is only available since python 3.7. You may be using an earlier version. Anyway, capture_output is equivalent to setting both  stdout and strerr to subprocess.PIPE</span>
