<div class="post-text" itemprop="text">
<p>I've been writing Python code for only about 4 weeks. I'm writing a little text based game to learn and test everything I know. I can easily make this work with a value entered into the console as an integer, but for whatever reason I can't get my code to work with reading this value from a text file.</p>
<p>Earlier in the program, my code saves a value to a text file, just one value, then later it opens the same text file, over-writes the value with a new value based on a very simple calculation. That calculation is the first value, plus 5. I've spent a bunch of time reading on this site and going through my books and at this point I'm pretty sure I'm just missing something obvious.</p>
<p>The first piece of code that creates the doc and sets the value:</p>
<pre><code>def set_hp(self):
    f = open('player_hp.txt', 'w')
    self.hitpoints = str(int(self.hitpoints))
    f.write(self.hitpoints)
    f.close()
</code></pre>
<p>This is the trouble section...I have commented the line with the problem.</p>
<pre><code>def camp_fire():
    print
    print "You stop to build a fire and rest..."
    print "Resting will restore your health."
    print "You gather wood from the ground around you. You spark\n\
your flint against some tinder. A flame appears.\n\
You sit, and close your eyes in weariness. A peaceful calm takes you\n\
into sleep."
    f = open('player_hp.txt', 'r')
    orig_hp = f.readlines()
    orig_hp = str(orig_hp)
    f = open('player_hp.txt', 'w')
    new_value = orig_hp + 5    ##this is where my code breaks
    new_value = str(int(new_value))
    f.write(new_value)
    f.close()
    print "You have gained 5 hitpoints from resting. Your new HP are {}.".format(new_value)
</code></pre>
<p>This is the error I get:</p>
<pre><code>  File "C:\Python27\Awaken03.py", line 300, in camp_fire
    new_value = orig_hp + 5
TypeError: cannot concatenate 'str' and 'int' objects
</code></pre>
<p>I know you can't concatenate a string and an integer, but I keep trying different methods to convert the string to an integer to do the quick math, but I can't seem to get it right.</p>
</div>
<div class="post-text" itemprop="text">
<p>Error message is clear, you are trying to concatenate string with an integer. You should change the line from:</p>
<pre><code>new_value = orig_hp + 5
</code></pre>
<p>To:</p>
<pre><code>new_value = str(int(orig_hp) + 5)
</code></pre>
<p>Then you can use above value to write directly into file as a string as:</p>
<pre><code>##new_value = str(int(new_value))## Skip this line
f.write(new_value)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer">f.readlines()</a> returns a <strong>list</strong> of lines, in your case something like <code>['10']</code>. So <code>str(orig_hp)</code> is a textual representation of this list, like <code>'[\'10\']'</code>, which you won't be able to interpret as an integer.</p>
<p>You can just use <code>f.read()</code> to read the whole file at once in a string, which will be something like <code>'10'</code>, and convert it to a integer:</p>
<pre><code>orig_hp = int(f.read())
</code></pre>
</div>
<span class="comment-copy">@Carcigenicate see the next line, OP is trying to convert string to int and then back to string, so perhaps its not what OP is after i think.</span>
<span class="comment-copy">This is a good first post. My small recommendation, for even better questions, is to use technical writing - we like succinctness here. There's no need for niceties or chit-chat - just describe your general problem, what you have done to try to solve it, and any notes on where you think the problem is. This looks pretty good now.</span>
<span class="comment-copy">Thank you SMA and halfer! I was able to fix my code. It works great now. Much appreciated Dan :)</span>
<span class="comment-copy">I'm adding this to my notes for future reference! And my code is working. Much appreciated!</span>
<span class="comment-copy">f.read() was the way to go! Much appreciated. This is working now!</span>
