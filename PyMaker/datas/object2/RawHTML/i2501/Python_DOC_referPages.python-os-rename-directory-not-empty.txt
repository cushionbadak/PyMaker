<div class="post-text" itemprop="text">
<p>I'm trying to do <code>mv test-dir/* ./</code> but in python. I have written the following code but throws <code>OSError: [Errno 66] Directory not empty:</code></p>
<pre><code>import os    
os.rename(
    os.getcwd() + '/test-dir',
    os.path.abspath(os.path.expanduser('.')))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're telling the OS to move <code>test-dir</code>, not its contents. It would normally replace the target (<code>.</code> in this case) but that target obviously isn't empty, so the implicit <code>rmdir</code> fails. Even if it weren't empty, it's likely impossible to remove or replace the <code>.</code> name. </p>
<p>The shell <code>*</code> is a <a href="https://docs.python.org/3/library/glob.html?highlight=glob#module-glob" rel="nofollow noreferrer">glob</a>, which would expand to each thing within <code>test-dir</code>, which you could move individually; however, you'd want to transfer their name to the target directory, i.e. <code>test-dir/foobar</code> to <code>./foobar</code>. <a href="https://docs.python.org/3/library/os.path.html#os.path.basename" rel="nofollow noreferrer"><code>os.path.basename</code></a> can help you extract that portion. </p>
</div>
<div class="post-text" itemprop="text">
<p>You may want to use <a href="https://docs.python.org/3/library/shutil.html" rel="nofollow noreferrer">shutil.move()</a> to iteratively move the files from a directory to another.<br/>
For example,</p>
<pre><code>import os
import shutil

from_dir = os.path.join(os.getcwd(),"test-dir")
to_dir = os.path.abspath(os.path.expanduser('.'))

for file in os.listdir(from_dir):
    shutil.move(os.path.join(from_dir, file), to_dir)
</code></pre>
</div>
