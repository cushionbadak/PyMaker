<div class="post-text" itemprop="text">
<p>I am setting up python logger using config. I want log file to contain date (and possibly time). I also want for that date, each log file to be of only particular size and to keep only 3 such old log files. </p>
<p>For example, I will like to get log files of following form:</p>
<pre><code>mylog-2018-09-11.log
mylog-2018-09-11.log.1
mylog-2018-09-11.log.2
mylog-2018-09-11.log.3
</code></pre>
<p>I tried RotatingFileHandler using config of following form as explained <a href="https://docs.python.org/3/howto/logging-cookbook.html#a-more-elaborate-multiprocessing-example" rel="nofollow noreferrer">here</a>:</p>
<pre><code>config = {
    #...
    'handlers': {
        'file': {
            'class': 'logging.handlers.RotatingFileHandler',
            'filename': 'mplog.log',
            'mode': 'w',
            'formatter': 'detailed',
            'maxBytes': 10000,
            'backupCount': 3
        },
    },
    #...
}
logging.config.dictConfig(config)
</code></pre>
<p>and it produces log files as follows:</p>
<pre><code>mylog.log
mylog.log.1
mylog.log.2
mylog.log.3
</code></pre>
<p>But I am unable to understand, how can I get date in the log file names. Is it possible to do it with configs and with some handler say <code>RotatingFileHandler</code> or <code>TimeRotatingFileHandler</code>? Or say can I somehow set the log file name to contain date after <code>dictConfig()</code> call?</p>
</div>
<div class="post-text" itemprop="text">
<p>Your example shows a <code>RotatingFileHandler</code> which rotates files based on size rather than date. You need to use <code>TimedRotatingFileHandler</code> as documented <a href="https://docs.python.org/3/library/logging.handlers.html#timedrotatingfilehandler" rel="nofollow noreferrer">here</a>. You can configure it in the same way as you have done <code>RotatingFileHandler</code>.</p>
<p><strong>Update:</strong> If you want to restrict both by date <em>and</em> size, you will need to use a handler subclass which does exactly what you want.</p>
</div>
<span class="comment-copy">Are you sure? <code>maxBytes</code> is present in the arguments of <a href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.RotatingFileHandler" rel="nofollow noreferrer"><code>RotatingFileHandler</code></a>, but is not present in <a href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.TimedRotatingFileHandler" rel="nofollow noreferrer"><code>TimedRotatingFileHandler</code></a></span>
<span class="comment-copy">When I said "in the same way", I meant "in the same <i>general</i> way", not "<i>exactly</i> the same way".</span>
<span class="comment-copy">Sorry not still able understand. What do you mean by "handler subclass"? I have to write custom one? Any link?</span>
<span class="comment-copy">[...continued] also does <a href="https://stackoverflow.com/a/45447081/1317018">this</a> answer suggest that its not possible?</span>
<span class="comment-copy">Sorry, no link (I don't think it's a common requirement). Yes, you have to write custom code, and it <i>is</i> possible if you know what you want to achieve.</span>
