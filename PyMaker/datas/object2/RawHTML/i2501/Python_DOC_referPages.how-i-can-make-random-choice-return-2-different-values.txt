<div class="post-text" itemprop="text">
<p>I use the weight in random.choice, so if I remove after selection, I'm afraid it would mess up the weight. 
pop_fit_sorted is an array of arrays using numpy and percentage is an aray with the weights.</p>
<pre><code>parents_list = random.choices(pop_fit_sorted, weights=percentage, k=2)
</code></pre>
<p>That's the code i'm using. But it can sometimes select the same array twice. How to alway select 2 different arrays?</p>
</div>
<div class="post-text" itemprop="text">
<p>Note about <a href="https://docs.python.org/3/library/random.html" rel="nofollow noreferrer">random.choices()</a>:</p>
<blockquote>
<p>the relative weights are converted to cumulative weights before making selections.</p>
</blockquote>
<p>So you could do something like:</p>
<pre><code>items = {1:0.6, 2:0.3, 3:0.1}
el1 = random.choices(list(items.keys()), weights=list(items.values()), k=1)[0]
items[el1] = 0
el2 = random.choices(list(items.keys()), weights= list(items.values()), k=1)[0]
</code></pre>
<p>to be sure to get 2 distinct elements.</p>
<p>Or, as suggested, you may use <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.choice.html" rel="nofollow noreferrer">numpy.random.choice()</a>:</p>
<pre><code>np.random.choice(list(items.keys()), replace=False, size=2, p=list(items.values()))
</code></pre>
<p>but in this case you need to convert your weights to probabilities.</p>
</div>
<span class="comment-copy">Try this <a href="https://gist.github.com/cvanweelden/4971289" rel="nofollow noreferrer">gist.github.com/cvanweelden/4971289</a> or use <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.choice.html" rel="nofollow noreferrer"><code>numpy.choice</code></a> which allows weights and to select without replacement (i.e. don't select the same thing twice). See also <a href="https://stackoverflow.com/questions/3679694/a-weighted-version-of-random-choice" title="a weighted version of random choice">stackoverflow.com/questions/3679694/…</a></span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/random.html#random.choices" rel="nofollow noreferrer"><code>choices</code></a> is "chosen from the population with replacement." <a href="https://docs.python.org/3/library/random.html#random.sample" rel="nofollow noreferrer"><code>sample</code></a> is "for random sampling without replacement." If you want sampling without replacement (to not get the same array twice), just use <code>sample</code> instead of <code>choices</code>. If you want <i>weighted</i> sampling without replacement, you can't use either; you have to write a wrapper—or, better, just use numpy.random instead of the stdlib random.</span>
