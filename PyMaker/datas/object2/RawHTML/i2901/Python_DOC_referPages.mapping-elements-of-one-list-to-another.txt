<div class="post-text" itemprop="text">
<p>I have 2 lists:</p>
<pre><code>ListA = [['Download', '1', '12AUG18 123409'],
         ['Transfer', '1', '13AUG18 114148'],
         ['Download', '1', '13AUG18 131727']]

etc..

ListB = [4.24, 7.33]
</code></pre>
<p>In the nested <code>ListA</code>, I want to append the values of <code>ListB</code> if the first element in <code>ListA == 'Download'</code></p>
<p>I am trying to get this to be sequential, so that the first 'Download' list in <code>ListA</code> will append the first element in <code>ListB</code> etc.  I know there must be an easy way to do it.</p>
<p>I tried:</p>
<pre><code>for i in range(0, len(ListA)):
    if ListA[i][0] == 'Download':
        ListA[i].append(ListB[i])
</code></pre>
<p>This doesn't work, as the index (i) of <code>ListA</code> will not correlate with that of <code>ListB</code> if the for loop skips one of its nested lists (as happens in the example), so <code>i</code> will be out of range.</p>
<p>So I expect my final result to be:</p>
<pre><code>ListA = [['Download', '1', '12AUG18 123409', 4.24],
         ['Transfer', '1', '13AUG18 114148'],
         ['Download', '1', '13AUG18 131727', 7.33]]
</code></pre>
<p>Any suggestions welcome.</p>
</div>
<div class="post-text" itemprop="text">
<p>You really don't need to care about indexes: you can create an iterator on <code>ListB</code> with <a href="https://docs.python.org/3/library/functions.html#iter" rel="nofollow noreferrer">iter</a> and use <code>next</code> to get its elements when needed:</p>
<pre><code>ListA = [['Download', '1', '12AUG18 123409'], ['Transfer', '1', '13AUG18 114148'], ['Download', '1', '13AUG18 131727']]
ListB = [4.24, 7.33]

iterB = iter(ListB)
for sublist in ListA:
    if sublist[0] == 'Download':
        sublist.append(next(iterB))

print(ListA)
# [['Download', '1', '12AUG18 123409', 4.24], ['Transfer', '1', '13AUG18 114148'], ['Download', '1', '13AUG18 131727', 7.33]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is obvious: you <em>cannot</em> use the same index for <code>ListA</code> and <code>ListB</code>, as you've already noted.  Stop doing that.  Keep a separate index for each list:</p>
<p>Code:</p>
<pre><code>b_idx = 0
for i in range(0, len(ListA)):
    if ListA[i][0] == 'Download':
        ListA[i].append(ListB[b_idx])
        b_idx += 1
</code></pre>
<p>Also, why are you doing this from indexing <code>ListA</code>?  You don't really need that: go straight to the items themselves:</p>
<pre><code>b_idx = 0
for item in ListA:
    if item[0] == 'Download':
        item.append(ListB[b_idx])
        b_idx += 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use a counter to track which position in <code>ListB</code> you've last appended:</p>
<pre><code>i = 0
for a in ListA:
    if a[0] == 'Download':
        a.append(ListB[i])
        i += 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here is a solution that creates a new list, using <code>itertools.count</code> as a index variable</p>
<pre><code>&gt;&gt;&gt; from itertools import count
&gt;&gt;&gt; c=count()
&gt;&gt;&gt; [l+[ListB[next(c)]] if l[0]=='Download' else l for l in ListA]
[['Download', '1', '12AUG18 123409', 4.24], ['Transfer', '1', '13AUG18 114148'], ['Download', '1', '13AUG18 131727', 7.33]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As you have noted, appending <code>ListB[i]</code> won't be correct, because the index of the item you want to append is different from <code>i</code>.</p>
<p>There are two possible solutions:</p>
<ol>
<li><p>Creating another indexing variable, for example <code>j</code>, for <code>ListB</code>. Everytime you append item from <code>ListB</code>, you raise <code>j</code> by one, so next time, the item from <code>ListB</code> will be correct: </p>
<pre><code>j = 0
for i in range(0, len(ListA)):
    if ListA[i][0] == 'Download':
    ListA[i].append(ListB[j])
    j += 1
</code></pre></li>
<li><p>If you won't use <code>ListB</code> again, you can use <code>pop</code> method, just like this:</p>
<pre><code>for i in range(0, len(ListA)):
    if ListA[i][0] == 'Download':
    ListA[i].append(ListB.pop(0))
</code></pre>
<p>Method <code>ListB.pop(0)</code> returns <em>and</em> deletes the first item of <code>ListB</code>, which is exactly what you need, if you won't use <code>ListB</code> again (because it gets empty).</p></li>
</ol>
<p>Either way, you don't need variable <code>i</code>, you can iterate just over the list:</p>
<pre><code>for item in ListA:
    # check condition and append
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>In [1]: ListA = [['Download', '1', '12AUG18 123409'], ['Transfer', '1', '13AUG18 114148'], ['Download', '1', '13AUG18
    ...: 131727']]

In [2]: ListB = [4.24, 7.33]

In [3]: count = 0  # maintain index count

In [4]: for i in ListA:  # iterate over elements in list
    ...:     if i[0] == "Download":
    ...:         i.append(ListB[count])
    ...:         count += 1  # update index count if one is used
    ...:

In [5]: ListA
Out[5]:
[['Download', '1', '12AUG18 123409', 4.24],
 ['Transfer', '1', '13AUG18 114148'],
 ['Download', '1', '13AUG18 131727', 7.33]]
</code></pre>
<p>A python one liner solution:</p>
<pre><code>In [1]: ListA = [['Download', '1', '12AUG18 123409'], ['Transfer', '1', '13AUG18 114148'], ['Download', '1', '13AUG18
    ...: 131727']]

In [2]: ListB = [4.24, 7.33]

In [3]: list(map(lambda x: x + [ListB.pop(0)] if "Download" == x[0] else x, ListA))
Out[3]:
[['Download', '1', '12AUG18 123409', 4.24],
 ['Transfer', '1', '13AUG18 114148'],
 ['Download', '1', '13AUG18 131727', 7.33]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Must have careful with index of ListB, it can get out of range if we don't control it and ListA has more sublists with Download at first than length of listB.</p>
<p>Control it is simple, something like the following code will be enough:</p>
<pre><code>i = 0
for subList in ListA:
    if i&gt;=len(ListB):
        break
    elif(subList[0] == "Download"):
        subList.append(ListB[i])
        i+=1
</code></pre>
</div>
<span class="comment-copy">is the length of <code>ListA</code> and <code>ListB</code> same?</span>
<span class="comment-copy">No. The number of Lists within ListA that contain 'Download' exactly matches the number of elements in ListB though</span>
<span class="comment-copy">What does this add over previous answers?</span>
