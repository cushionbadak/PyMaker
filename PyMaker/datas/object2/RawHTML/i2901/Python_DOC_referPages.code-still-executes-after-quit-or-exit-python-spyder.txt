<div class="post-text" itemprop="text">
<pre><code>from os.path import join

string=" Congratulations, you are about to embark upon one of lifeâ€™s "

path=r"C:\Users\Nord.Kind\Desktop"
file="test.txt"

quit() 

# This should not execute, but it does!!
with open(join(path,file),"w")as wfile:
    wfile.write(string)

wfile.close()
</code></pre>
<p>In the above code example the code still executes the write in file command, even though its after a quit.</p>
<p>The same behavious occures when I use exit.</p>
<p>I am using Spyder 3.6</p>
<p>Also the kernel restarts each time I use exit or quit.</p>
<p>Any help?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use SystemExit:</p>
<pre><code># Code that will run
raise SystemExit
# Code that will not run
</code></pre>
<p><a href="https://docs.python.org/3/library/sys.html#sys.exit" rel="nofollow noreferrer">sys.exit()</a> also raises this error but this doesn't require importing <code>sys</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>(<em>Spyder maintainer here</em>) Your question contains this comment:</p>
<blockquote>
<p>Also the kernel restarts each time I use exit or quit.</p>
</blockquote>
<p>That's the behavior of the IPython kernel we use as a backend to execute users code. Those commands kill the kernel and that forces a kernel restart to maintain its associated console active. I'm afraid there's nothing you can do about it.</p>
<p><em>Note</em>: The same happens in the Jupyter notebook.</p>
</div>
<div class="post-text" itemprop="text">
<p>One way is to use <code>sys.exit()</code> in lieu of <code>quit()</code></p>
<pre><code>import sys

...   # code that executes

sys.exit()

...   # this code won't execute
</code></pre>
<p>However, as noted by @AranFey in the comments, your code will throw an error if it attempts to execute the last pars where the variable <code>read</code> is not defined.</p>
</div>
<span class="comment-copy">There's no way that code writes anything to a file, because it should throw a <code>NameError: name 'read' is not defined</code>. I don't know what code you're executing, but it's not the code you posted.</span>
<span class="comment-copy">In spyder, there may be a residual <code>read</code> variable already defined from previous runs @Aran-Fey - The OP should restart the kernel and run the program with a clean kernel.</span>
<span class="comment-copy">@ReblochonMasque The OP said the kernel restarts every time though. Something doesn't add up.</span>
<span class="comment-copy">yes, I saw that after I commented... something does not add up.</span>
<span class="comment-copy">I fixed the variable in my Post. Ofc it was named wrong.  The issue stands: using "quit()" and "exit()" wont stop the  code from writing into the file! Thats a behaviour I would not expect!</span>
<span class="comment-copy">"raise" does indeed work. However it stands the question why quit() and exit() both lead to a "reconnect to Kernel" and to the code writing stuff into the file.</span>
<span class="comment-copy">Sys.exit does indeed work. However it stands the question why quit() and exit() both lead to a "reconnect to Kernel" and to the code writing stuff into the file.</span>
<span class="comment-copy">Maybe a spyder glitch? Have you checked their mailing list, or their issues?</span>
<span class="comment-copy">If you feel that my answer helped you, you could consider <a href="https://stackoverflow.com/help/someone-answers">what to do when someone answers my question</a>, and <a href="http://meta.stackexchange.com/a/5235">how to accept my answer</a></span>
