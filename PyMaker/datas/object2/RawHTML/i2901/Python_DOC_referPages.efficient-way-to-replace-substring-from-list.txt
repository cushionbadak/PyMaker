<div class="post-text" itemprop="text">
<p>Hi I have a large document saved as a sentence and a list of proper names that might be in the document. </p>
<p>I would like to replace instances of the list with the tag [PERSON]</p>
<pre><code>ex: sentence = "John and Marie went to school today....."

list = ["Maria", "John"....]
</code></pre>
<blockquote>
<p>result = [PERSON] and [PERSON] went to school today</p>
</blockquote>
<p>as you can see there might be variations of the name that I still want to catch like Maria and Marie as they are spelled differently but close.</p>
<p>I know I can use a loop but since the list and the sentence is large there might be a more efficient way to do this. Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://github.com/seatgeek/fuzzywuzzy" rel="nofollow noreferrer"><code>fuzzywuzzy</code></a> to check if each word in the sentence matches closely (with a match percentage above 80%) with that of a name and if so replace it with <code>[PERSON]</code></p>
<pre><code>&gt;&gt;&gt; from fuzzywuzzy import process, fuzz
&gt;&gt;&gt; names = ["Maria", "John"]
&gt;&gt;&gt; sentence = "John and Marie went to school today....."
&gt;&gt;&gt;
&gt;&gt;&gt; match = lambda word: process.extractOne(word, names, scorer=fuzz.ratio, score_cutoff=80)
&gt;&gt;&gt; ' '.join('[PERSON]' if match(word) else word  for word in sentence.split())
'[PERSON] and [PERSON] went to school today.....'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">regex</a> inside your input list, to match words with spell variations. For example, if you need to match <em>Marie</em> and <em>Maria</em>, you can use <em>Mari(e|a)</em> as regex. Here is the consequent code you can use:  </p>
<pre><code>import re

mySentence = "John and Marie and Maria went to school today....."
myList = ["Mari(e|a)", "John"]

myNewSentence = re.compile("|".join(myList)).sub('[PERSON]', mySentence)

print(myNewSentence)  # [PERSON] and [PERSON] and [PERSON] went to school today.....
</code></pre>
</div>
<span class="comment-copy">You will need to formalize what <i>exactly</i> you mean by "differently but close".</span>
<span class="comment-copy">Please post the code you have written so far to narrow down your question to something that other users can understand and answer.</span>
<span class="comment-copy">by differently I mean spelling variations - how would you formalize that?</span>
<span class="comment-copy">I think a lot of people would consider 'Maria' and 'Marie' to be different names as they are not homophones (they sound different when spoken). You might be able to find a corpus of names grouped into homophones.</span>
