<div class="post-text" itemprop="text">
<p>I know this error has been reported a couple of times, but have checked and pygame is both installed correctly and initialized correctly, so I can only guess there is some error in my programming I am not seeing at all (for the past 2 weeks..). Can someone help me see why I get an error when running the below code?:</p>
<pre><code>import sys

import pygame

from settings import Settings

def run_game():
    # Initialize game and create a screen object.
    pygame.init()
    ai_settings = Settings()
    screen = pygame.display.set_mode((ai_settings.screen_width, ai_settings.screen_height))
    pygame.display.set_caption("Alien Invasion")


    # Start main loop for the game

while True:
    #Watch for keyboard and mouse events.
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            sys.exit()

        # Redraw Screen during each pass through.
        screen.fill(ai_settings.bg_color)

        # Make most recently drawn visible
        pygame.display.flip()

run_game()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You've defined a function whose body is this one:</p>
<pre><code>def run_game():
    # Initialize game and create a screen object.
    pygame.init()
    ai_settings = Settings()
    screen = pygame.display.set_mode((ai_settings.screen_width, ai_settings.screen_height))
    pygame.display.set_caption("Alien Invasion")
</code></pre>
<p>Then you've got a loop which is:</p>
<pre><code>while True:
    #Watch for keyboard and mouse events.
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            sys.exit()

        # Redraw Screen during each pass through.
        screen.fill(ai_settings.bg_color)

        # Make most recently drawn visible
        pygame.display.flip()
</code></pre>
<p>The problem here is the above loop is living <strong>outside</strong> the <code>run_game</code> scope, it's defined in the global scope so it gets executed before <code>run_game()</code> is even called. As a consequence neither pygame nor screen have been initialized, that's why you're getting initialization errors.</p>
<p>You were assuming that calling <code>run_game</code> will initialize pygame and execute the mainloop but it won't... in python indentation matters. I'd recommend you make sure to understand how the lines are interpreted by python first then these type of issues will become cristal clear.</p>
<p>This is a nice reading btw <a href="https://docs.python.org/3/reference/lexical_analysis.html#lexical-analysis" rel="nofollow noreferrer">https://docs.python.org/3/reference/lexical_analysis.html#lexical-analysis</a></p>
</div>
<span class="comment-copy"><code>run_game()</code> gets called after the while loop, so pygame is not initialized when the while loop starts. Just indent the <code>while</code> loop, so that it is inside the <code>run_game</code> function. -- The question is most likely a duplicate.</span>
<span class="comment-copy">Why thank you ever yo much both for your help - that explains why I was probably never ever going to spot this - even when I am simply following a tutorial.. A good lesson on how important indention is here. Thank you</span>
