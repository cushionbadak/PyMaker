<div class="post-text" itemprop="text">
<p>I have created a temporary directory in python where I am saving a bunch of .png files for later use. My code seemingly works fine up until the point where I need to access those .png files - when I do so, I get the following error:</p>
<pre><code>TypeError: expected str, bytes or os.PathLike object, not TemporaryDirectory
</code></pre>
<p>The error is thrown when I pass the temporary directory in os.path.join:</p>
<pre><code>import os
import tempfile

t_dir = tempfile.TemporaryDirectory()
os.path.join (t_dir, 'sample.png')

Traceback (most recent call last):
  File "&lt;ipython-input-32-47ee4fce12c7&gt;", line 1, in &lt;module&gt;
    os.path.join (t_dir, 'sample.png')

  File "C:\Users\donna\Anaconda3\lib\ntpath.py", line 75, in join
    path = os.fspath(path)

  TypeError: expected str, bytes or os.PathLike object, not TemporaryDirectory
</code></pre>
<p>However, using gettempdir() seems to work fine.</p>
<pre><code>import os
import tempfile
t_dir = tempfile.gettempdir()
os.path.join (t_dir, 'sample.png')
</code></pre>
<p>The python docs suggests tempfile.TemporaryDirectory works using the same rules as tempfile.mkdtemp() (<a href="https://docs.python.org/3.6/library/tempfile.html#tempfile.TemporaryDirectory" rel="nofollow noreferrer">https://docs.python.org/3.6/library/tempfile.html#tempfile.TemporaryDirectory</a>), and I would think tempfile.TemporaryDirectory is the preferred method for python 3.x. Any ideas why this throws an error or if one of these methods is preferred over the other for this use case?</p>
</div>
<div class="post-text" itemprop="text">
<p>I'm not sure why the error occurs, but one way to get around it is to call <code>.name</code> on the <code>TemporaryDirectory</code>:</p>
<pre><code>&gt;&gt;&gt; t_dir = tempfile.TemporaryDirectory()
&gt;&gt;&gt; os.path.join(t_dir.name, 'sample.png')
'/tmp/tmp8y5p62qi/sample.png'
&gt;&gt;&gt;
</code></pre>
<p>You can then run <code>t_dir.cleanup()</code> to remove the <code>TemporaryDirectory</code> later.</p>
<p>FWIW, I think <code>.name</code> should be mentioned in the <a href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryDirectory" rel="nofollow noreferrer">TemporaryDirectory docs</a>, I discovered this by running <code>dir(t_dir)</code>.</p>
</div>
