<div class="post-text" itemprop="text">
<p>How do you write a code that counts the number of occurrences a character has in a file and puts the data in a dictionary.</p>
<p>For example, 
If I supply the code a file, I want it to return each new character as a key and the count as the value.</p>
<p>Lets say inside the file is "python is cool"</p>
<p>I want the code to return
{'p':1, 'y':1, 't':1, 'h':1, 'o':3 ...}</p>
<p>I understand how to count the characters in a string by simply using:</p>
<pre><code>def count_chars(text):
    '''
    (string) -&gt; int
    Returns the length of text.

    Examples:
    &gt;&gt;&gt; count_chars("simon")
    5
    &gt;&gt;&gt; count_chars("")
    0
    '''
    count = 0
    for ch in text:
        count += 1
    return count
</code></pre>
<p>However, I'm struggling with how to open the file and then put the data into a dictionary..</p>
</div>
<div class="post-text" itemprop="text">
<p>Since you've mentioned that this is for an assignment, I thought I'd show you how this is done more 'directly' using a dictionary / without using Counter, so you actually understand what's going on under the hood. </p>
<pre><code>d = {}    # initialise a dictionary
with open(file_path, 'r') as f:    # open the file, call it 'f'
    for line in f:    # read through each line in the file
        for c in line:    # read through each character in that line
            if c in d:    # check if character is in dictionary
                d[c] += 1     # if it's been seen before, increment counter
            else:
                d[c] = 1    # otherwise, insert it into the dictionary
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use the included <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer"><code>collections.Counter</code></a> class. The <a href="https://docs.python.org/3/library/collections.html#collections.Counter.most_common" rel="nofollow noreferrer"><code>most_common</code></a> method even includes a code sample being used to count the characters of a string:</p>
<pre><code>&gt;&gt;&gt; Counter('abracadabra').most_common(3)  
[('a', 5), ('r', 2), ('b', 2)]
</code></pre>
<p>Putting that together with opening a file:</p>
<pre><code>from collections import Counter
def count_characters(source_file_name):
    with open(source_file_name, 'r') as source_file:
        return Counter(source_file.read())
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To meet your project requirements simply convert <code>Counter</code> to <code>dict</code>. From Alex's code:</p>
<pre><code>from collections import Counter
def count_characters(source_file_name):
    with open(source_file_name, 'r') as source_file:
        return dict(Counter(source_file.read()))
</code></pre>
</div>
<span class="comment-copy">Thank you, this makes a lot more sense. The assignment required me to write other functions to count words, and certain lines.. I was able to refer to this to write the other codes. This was a lot of help!</span>
<span class="comment-copy">Glad it helped. Please click the green tick on the left if this was the answer you were looking for! Also, just for the future, try splitting your questions into smaller parts - for example, you would be able to find existing answers on 'how to read string from file' and 'how to count letters from string using dictionary' quite easily on this site. Good luck with your learning!</span>
<span class="comment-copy">Hello Alex, Thanks for the response. one of the restrictions of my assignment is that the return value cannot be a list or tuple.. The code has to strictly return a dictionary with the char as the key and the count as the value. My apologies if that was not clear in the question..</span>
<span class="comment-copy">Please check the bottom code sample again.</span>
