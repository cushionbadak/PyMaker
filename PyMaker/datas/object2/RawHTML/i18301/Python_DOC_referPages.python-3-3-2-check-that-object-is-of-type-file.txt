<div class="post-text" itemprop="text">
<p>I'm porting from Python 2.7 to Python 3.3.2. In Python 2.7, I used to be able to do something like <code>assert(type(something) == file)</code>, but it seems that in Python 3.3.2 this is wrong. How do I do a similar thing in Python 3.3.2?</p>
</div>
<div class="post-text" itemprop="text">
<p>Python 3 file objects are part of the <a href="http://docs.python.org/3/library/io.html"><code>io</code> module</a>, test against <a href="http://docs.python.org/3/library/io.html#class-hierarchy">ABC classes</a> in that module:</p>
<pre><code>from io import IOBase

if isinstance(someobj, IOBase):
</code></pre>
<p>Don't use <code>type(obj) == file</code> in Python 2; you'd use <code>isinstance(obj, file)</code> instead. Even then, you would want to test for the <em>capabilities</em>; something the <code>io</code> ABCs let you do; the <a href="http://docs.python.org/3/library/functions.html#isinstance"><code>isinstance()</code> function</a> will return <code>True</code> for any object that implements all the methods the Abstract Base Class defines.</p>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; from io import IOBase
&gt;&gt;&gt; fh = open('/tmp/demo', 'w')
&gt;&gt;&gt; isinstance(fh, IOBase)
True
&gt;&gt;&gt; isinstance(object(), IOBase)
False
</code></pre>
</div>
<span class="comment-copy">FWIW, <code>type(something) == sometype</code> is generally frowned upon in favor of <code>isinstance</code>.</span>
