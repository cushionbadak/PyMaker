<div class="post-text" itemprop="text">
<p>I have a string : `</p>
<p>("Bit" + str(loopCount) ))`</p>
<p>loopcount is just a number that I increment in a loop.</p>
<p>What I want to do with that is creating some qtwidget as such :</p>
<pre><code>self.Bit1 = QtGui.QLineEdit(self)
self.Bit2 = QtGui.QLineEdit(self)
self.Bit3 = QtGui.QLineEdit(self)
</code></pre>
<p>...and so on as many as I have in LoopCount.</p>
<p>To do so I need to convert my string as a name. By looking on the net I have found this getattr which seems from far the easiest way to do so :
    for BitNmb in range(0, self.mySpnValue):
    getattr(self, ("Bit" + str(loopCount) ))</p>
<p>which give me this error :
AttributeError: 'Class2' object has no attribute 'Bit1'
Which is quite frustrating as I can see in the error I obtain what I want with the "Bit1" but I have not a clue why it want to be a attribut of my class.
And no way to do simply</p>
<pre><code>getattr(self, ("Bit" + str(loopCount) )) = QtGui.QLineEdit(self)

error : SyntaxError: can't assign to function call
</code></pre>
<p>I have read many time "do not use getattr us a dictionary" ok... but why ? Using a dictionary sound like a lot of work just for doing such a simple thing ?</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>Rather than create separate, numbered attributes, use a list or dictionary. In this case, a list will do just fine:</p>
<pre><code>self.bits = [QtGui.QLineEdit(self) for _ in range(3)]
</code></pre>
<p>creates a list of 3 <code>QLineEdit</code> objects.</p>
<p>To <em>set</em> attributes dynamically, you'd use the <a href="https://docs.python.org/3/library/functions.html#setattr" rel="nofollow"><code>setattr()</code> function</a>:</p>
<pre><code>setattr(self, 'Bit{}'.format(loopCount), QtGui.QLineEdit(self))
</code></pre>
</div>
<span class="comment-copy"><code>setattr</code> does what you're trying to do.  But really, just use a list: <code>self.bits = [QtGui.QLineEdit(self) for _ in range(loop_count)]</code></span>
<span class="comment-copy">And I just understood why I get this error, it's because of "self"... arg. Thanks for the list exemple but I really don't understand it, I am not especially new in coding but self.bits = [QtGui.QLineEdit(self) for _ in range(loop_count)] dosen't make a lot of sens to me. If I am doing something like that I will find myself having several identical self.bits which don't even seem possible. (?)</span>
<span class="comment-copy">I see, handy. Thank you very much : )</span>
<span class="comment-copy">But something goes wrong when I then want to use the list :  for BitNmb in range(0, self.mySpnValue): self.vbox2.addWidget(self.bits[loopCount]-1) TypeError: unsupported operand type(s) for -: 'QLineEdit' and 'int'  So I have looked closer and here's what contain my list : &lt;PyQt4.QtGui.QLineEdit object at 0x00000000030C3F78&gt; that's my Gui yes but not selfBits1...  self.vbox2.addWidget(setattr(self, 'Bit{}'.format(loopCount), QtGui.QLineEdit(self)))  return me another error : QLayout: Cannot add null widget to QVBoxLayout/  I am quite a bit lost with this list method,why using getattr so bad ?</span>
<span class="comment-copy">You are trying to subtract 1 from your <code>QLineEdit</code> object: <code>self.bits[loopCount]-1</code>. Perhaps you wanted to put that <code>- 1</code> <i>inside</i> the indexing expression?</span>
<span class="comment-copy">Ho dear... shame on me, thank you very much for your help everything is working fine and all nice and tidy : ) Thanks !</span>
