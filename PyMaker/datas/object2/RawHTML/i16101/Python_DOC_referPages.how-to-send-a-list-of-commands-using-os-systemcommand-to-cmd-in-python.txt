<div class="post-text" itemprop="text">
<p>Is it possible to send a list of related commands using <code>os.system()</code> in python? I mean if I want to change current directory to a specific directory and then have a list of contents, how can I do it? (I don't want to use <code>dir "path"</code>- I want to do both changing current dir, and listing the directories)</p>
<p><strong>Note : It was just an example, I want to know how I can send multiple commands! (Some related commands in a row)</strong></p>
<p>Note : Python 3.2</p>
</div>
<div class="post-text" itemprop="text">
<p>os.system uses the local system shell. You can do it as @Rwaing suggests on many unixy shells but not other places like windows. A better option is subprocess.call and the cwd (current working directory) param</p>
<pre><code>import subprocess
subprocess.call('dir', shell=True, cwd='somepath')
</code></pre>
<p>As others have mentioned, if all you really want to do is get a list of the files, the existin python api does it quite well.</p>
<p><strong>Edit</strong>: <em>sending mutiple commands</em></p>
<p>One way to send multiple commands is to pump them into the child shell's stdin. Its shell dependant, but here's a windows example:</p>
<pre><code>import os
import subprocess as subp
p=subp.Popen('cmd.exe', shell=True, stdin=subp.PIPE)
p.stdin.write("""dir
cd "\\program files"
dir
""")
p.stdin.write('exit' + os.linesep)
p.wait()
del p
print 'done'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>No need for system calls here. <a href="https://docs.python.org/2/library/os.html" rel="nofollow"><code>os</code></a> functions <a href="https://docs.python.org/2/library/os.html#os.chdir" rel="nofollow"><code>chdir</code></a> and <a href="https://docs.python.org/2/library/os.html#os.listdir" rel="nofollow"><code>listdir</code></a> will change your current directory and list the files in a directory respectively.</p>
</div>
<div class="post-text" itemprop="text">
<p>have a look at os.listdir(path):
<a href="https://docs.python.org/3/library/os.html#os.listdir" rel="nofollow">https://docs.python.org/3/library/os.html#os.listdir</a></p>
<p>example:</p>
<pre><code>import os

entries = os.list.dir('/home/foo')
</code></pre>
</div>
<span class="comment-copy">Not sure if it works on Windows, but on *nix you can use os.system("cd /path/to/wherever; dir") - simply put a semicolon between commands.</span>
<span class="comment-copy">In Windows, you use <code>&amp;</code> for the same purpose. This command will list the contents of your home directory and pause until you press Enter. <code>os.system(r'cd %USERPROFILE% &amp; dir &amp; pause &gt;nul')</code></span>
<span class="comment-copy">I think people shy away from subprocess Popen at first, but once one gets the hang of it, they eliminate much of the stress of working with local OS in Python. Quick, portable SQL work is one example. Handling errors returned from attempted shell commands is another.</span>
<span class="comment-copy">Dear tdelaney, Your code works fine for me in Python 2.7, But I receive Error In python 3.4 (I already change the last line to <code>print ('done')</code>). I receice this error : <code>&gt;&gt;&gt;  Traceback (most recent call last):   File "C:/Users/ghasemi.IT/Desktop/pypy.py", line 7, in &lt;module&gt;     """) TypeError: 'str' does not support the buffer interface &gt;&gt;&gt;</code></span>
