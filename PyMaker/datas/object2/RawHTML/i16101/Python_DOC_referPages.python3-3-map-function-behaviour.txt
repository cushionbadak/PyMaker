<div class="post-text" itemprop="text">
<pre><code>import glob,os

os.chdir("C:\\path")
</code></pre>
<p>after this if I execute a line </p>
<pre><code>map(lambda y:os.remove(y),filter(lambda x:os.path.getsize(x)==0,glob.glob('*')))
</code></pre>
<p>it does not remove the files of size zero</p>
<p>But if I do this</p>
<pre><code>list(map(lambda y:os.remove(y),filter(lambda x:os.path.getsize(x)==0,glob.glob('*'))))
</code></pre>
<p>it removes the files.
How does this actually work?</p>
</div>
<div class="post-text" itemprop="text">
<p>In Python3 the <code>map</code> function returns a <code>map object</code> (instead of a list in Python2).<br/>
This is designed for <a href="http://en.wikipedia.org/wiki/Lazy_evaluation" rel="nofollow">lazy evaluation</a>, which means the value was not evaluated before used. And <code>list</code> evaluates it.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow"><code>map</code></a> in Python 3.x returns an iterator. The function passed to the <code>map</code> is not called until the iterator is iterated.</p>
<p><a href="https://docs.python.org/3/library/functions.html#func-list" rel="nofollow"><code>list</code></a> consumes the iterator; causing the function to be called.</p>
</div>
<span class="comment-copy">Creating unwanted lists for side-effects is confusing and a bad ideas.  Use straightforward code like <code>for file in filter(...): os.remove(file)</code> that says and does exactly what you want.</span>
