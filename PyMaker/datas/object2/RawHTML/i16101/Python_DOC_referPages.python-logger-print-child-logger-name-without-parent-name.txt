<div class="post-text" itemprop="text">
<p>I am trying Python logging.</p>
<p>Since I want some logger to share a formatter, I use hierarchy of logging like the below code.</p>
<p>As you can see, format is <code>'%(asctime)s - %(name)s - %(message)s'</code></p>
<p>At this point, I want loggers to print the <code>%(name)s</code> part without the parent name.</p>
<p>I mean, normally it will print the name as <code>'SYS.Start Up Routine'</code> but I want <code>'Start Up Routine'</code></p>
<p>Is there any way? </p>
<pre><code>logging.root.level = logging.DEBUG
logger = logging.getLogger('SYS')
logger.setLevel(logging.DEBUG)

formatter = logging.Formatter('%(asctime)s - %(name)s - %(message)s')

streamHandler = logging.StreamHandler()
streamHandler.setFormatter(formatter)
logger.addHandler(streamHandler)

logger1 = logging.getLogger("SYS.Start Up Routine")
logger2 = logging.getLogger("SYS.Message Layer")
logger3 = logging.getLogger("SYS.Application Layer")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you want the name to say 'bar' instead of 'foo.bar', just log to a logger named 'bar', and add your handlers to the root logger.</p>
</div>
<div class="post-text" itemprop="text">
<p>Add a context filter to your example:</p>
<pre><code>class ContextFilter:
    def filter(self, record):
        split_name = record.name.split('.', 1)
        if split_name[0] = 'SYS':
            record.name = split_name[1]
</code></pre>
<p>And then add it to the handler:</p>
<pre><code>streamHandler.addFilter(ContextFilter())
</code></pre>
<p>The handler filter is the last part of the <a href="https://docs.python.org/3/howto/logging.html#logging-flow" rel="nofollow noreferrer">logging flow</a>. This filter changes the name at that point. This allows you to use SYS as the root of all your loggers (which is good practice) and it allows the end user to decide on formatting. You're the consumer of your own logs here and you only want to print to stdout, but that won't always be the case.</p>
<p>You could add a file handler, set it to debug, and NOT add the context filter so it DOES include SYS because now it's including a whole bunch of other loggers and the root is important.</p>
</div>
<span class="comment-copy">This solution has a notable caveat: changing the logger name like this does not allow to group loggers and configure them in groups (using the parent logger name).</span>
