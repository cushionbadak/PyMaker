<div class="post-text" itemprop="text">
<p>My code pulls data from a csv file. I want to add a header to it. I am confused where to put the print statement so it will be at the beginning of the file (as a header).</p>
<pre><code>import csv
import StringIO

f = open('/home/unica/app/Affinium/Campaign/partitions/partition1/scripts/runscripts/campaigns/cnyr/dev/output/CNYR_DM_TM_CAMPAIGN_WAVES.csv', 'r')

try:
reader = csv.reader(f, delimiter='|', quotechar='"')
for row in reader:
    if row[16] == "" and row[5].find('_NOEMAIL_'):
       if row[6]== 'DM':
          print(  row[17]+'|'+row[16]+'|'+row[25]+'|'+row[18]+'|'+row[20]+'|'+row[21]+'|'+row[19]+'|'+row[26]+'|'+row[27]+'|'+row[28]+'|'+row[29]+'|'+row[30]+'|'+row[31]+'|'+row[32]+'|'+row[8]+'|'+row[36]+'|'+row[35]+'|'+row[37]+'|'+row[34] )
</code></pre>
<p>there is multiple if statement and I want header before each case.So I was putting it after if and before printing the rows.The result which I am getting is </p>
<pre><code>PRINT_PUB_CODE,PRINT_ACCT_NUM,...
,J,8,,NUSRALA,,EDWARD...
PRINT_PUB_CODE,PRINT_ACCT_NUM,...
,J,614,,BACAL,,LEON...
</code></pre>
<p>So definitely I wasnt asking for this.Seems it is searchng for every row and returning every time it is looping over.Any idea how to fix this.</p>
</div>
<div class="post-text" itemprop="text">
<ol>
<li><p>please indent code after the <code>try:</code> to make the program work ;)</p></li>
<li><p>the right place for printing your header line would be right before the line containing <code>try:</code></p></li>
<li><p>I assume you want the data to be printed in a tabular way, i.e. neatly aligned, so that your <code>+'|'+</code> are forming vertical lines. Please investivate the <code>string.format</code> method regarding this. I assume your code to look like <code>print( "{0:&lt;30s}|...".format(row[17],...) )</code> after you are done. Please <a href="https://docs.python.org/3/library/string.html#format-string-syntax" rel="nofollow">check the manual</a> how this works.</p></li>
<li><p>Your program will not "edit" the csv in any way but just neatly print its content. Should you wish to filter and re-arrange the fields in that file, you might consider using <code>awk</code></p></li>
</ol>
</div>
<span class="comment-copy">Erm, before you start working on the file?</span>
<span class="comment-copy">How about a little experimentation? Try adding a print statement in various places and see which one works.</span>
<span class="comment-copy">maybe you are always getting an index error in your try/except  so you never get as far as the print statement</span>
<span class="comment-copy">So you understand the intended usage of "print" statements right??</span>
<span class="comment-copy">I think your mistake is that you think you can edit a file in-place. In general, you can't. (There are special cases where you can, but they're not important here.) What you want to do here is write a new file, then move that on top of the old one. And you want to write the new file using <code>csv.writer</code>, just as you're reading the old one with <code>csv.reader</code>; otherwise you're going to completely break the quoting, etc.</span>
<span class="comment-copy">yes you are right it a tubular way where the data is in variable length.but the problem is i put the print statement before and after try but still dnt get any header in o/p.maybe because the file itself is huge so I cant scroll up in the putty screen.Can you tell me a way.</span>
<span class="comment-copy">Important thing why the O/P by default carrying the first row from CSV file</span>
<span class="comment-copy">You can employ operating systems tools to make long output browsable. Assuming your program is in a file named <code>x.py</code>, you can pipe the output to <code>more</code> or <code>less</code>: <code>python3 x.py | less</code>. You might also consider to add a little counter and repeat the header line after, say, exery 30 lines printed.</span>
<span class="comment-copy">I would like to know more how to take out the first row which coming default in my o/p.is it because of the function I used to fetch data.</span>
