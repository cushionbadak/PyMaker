<div class="post-text" itemprop="text">
<p>I create a test where in setUp I create file like so :</p>
<pre><code> class TestSomething :
     def setUp(self):
         # create file
         fo = open('some_file_to_test','w')
         fo.write('write_something')
         fo.close()

     def test_something(self):
         # call some function to manipulate file
         ...
         # do some assert
         ...

     def test_another_test(self):
         # another testing with the same setUp file
         ...
</code></pre>
<p>at the end of testing, regardless either succeed or not, I want the testing file gone,so
<strong>how to delete the file after i have finished testing?</strong></p>
</div>
<div class="post-text" itemprop="text">
<p>Assuming you're using a <em>unittest</em>-esque framework (i.e. <em>nose</em>, etc.), you would want to use the <code>tearDown</code> method to delete the file, as that will run after each test.</p>
<pre><code>def tearDown(self):
    os.remove('some_file_to_test')
</code></pre>
<p>If you want to only delete this file after all the tests, you could create it in the method <code>setUpClass</code> and delete it in the method <code>tearDownClass</code>, which will run before and after <strong>all</strong> tests have run, respectively.</p>
</div>
<div class="post-text" itemprop="text">
<p>Other option is to add a function to be called after tearDown() using <a href="https://docs.python.org/3.4/library/unittest.html#unittest.TestCase.addCleanup" rel="noreferrer"><code>addCleanup()</code></a> method of TestCase:</p>
<pre><code>class TestSomething(TestCase):
     def setUp(self):
         # create file
         fo = open('some_file_to_test','w')
         fo.write('write_something')
         fo.close()
         # register remove function
         self.addCleanup(os.remove, 'some_file_to_test')
</code></pre>
<p>It is more convenient than <code>tearDown()</code> in cases where there are a lot of files or when they are created with random names because you can add a cleanup method just after file creation.</p>
</div>
<div class="post-text" itemprop="text">
<p>Write a tearDown method:</p>
<p><a href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown" rel="noreferrer">https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown</a></p>
<pre><code>    def tearDown(self):
        import os
        os.remove('some_file_to_test')
</code></pre>
<p>Also have a look at the <a href="https://docs.python.org/3/library/tempfile.html" rel="noreferrer">tempfile</a> module and see if it's useful in this case.</p>
</div>
<span class="comment-copy">I think you mean to create the file in <code>setupClass()</code> and delete it in <code>tearDownClass()</code>. There is also an analagous <code>setupModule()</code> and <code>tearDownModule()</code>.</span>
<span class="comment-copy">@mhawke thank you for pointing to the right direction, tearDownClass() is what i was looking for</span>
<span class="comment-copy">@mhawke: Yes, thanks. Typos... =)</span>
