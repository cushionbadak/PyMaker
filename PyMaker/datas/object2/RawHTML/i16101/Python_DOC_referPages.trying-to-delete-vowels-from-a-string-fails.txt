<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/25028807/def-anti-vowel-codecademy-python">def anti_vowel - codecademy (python)</a>
<span class="question-originals-answer-count">
                    8 answers
                </span>
</li>
</ul>
</div>
<p>What's wrong with this code? The aim is to check wether the entered string contains vowels and delete them</p>
<p>Here is the code:</p>
<pre><code>def anti_vowel(text):
    text = str(text)
    vowel = "aeiouAEIOU"
    for i in text:
        for i in vowel.lower():
            text = text.replace('i',' ')
        for i in vowel.upper():
            text = text.replace('i',' ')
    return text
</code></pre>
<p>It's a lesson on Codecademy</p>
</div>
<div class="post-text" itemprop="text">
<p>You are trying to replace the <em>string with the value</em> <code>'i'</code>, not the contents of the variable <code>i</code>.</p>
<p>Your code is also very inefficient; you don't need to loop over every character in <code>text</code>; a loop over <code>vowel</code> is enough. Because you already include both upper and lowercase versions, the two loops over the lowercased and uppercased versions are in essence checking for each vowel <em>4 times</em>.</p>
<p>The following would be enough:</p>
<pre><code>def anti_vowel(text):
    text = str(text)
    vowel = "aeiouAEIOU"
    for i in vowel:
        text = text.replace(i,' ')
    return text
</code></pre>
<p>You are also replacing vowels with spaces, not just deleting them.</p>
<p>The fastest way to <em>delete</em> (rather than replace) all vowels would be to use <a href="https://docs.python.org/3/library/stdtypes.html#str.translate" rel="nofollow"><code>str.translate()</code></a>:</p>
<pre><code>def anti_vowel(text):
    return text.translate(text.maketrans('', '', 'aeiouAEIOU'))
</code></pre>
<p>The <a href="https://docs.python.org/3/library/stdtypes.html#str.maketrans" rel="nofollow"><code>str.maketrans()</code> static method</a> produces a mapping that'll delete all characters named in the 3rd argument.</p>
</div>
<span class="comment-copy">You tagged this with Python 3, but the original link to Code Academy uses their Python 2 online code session. My <code>str.translate()</code> answer would have to be adjusted for Python 2, so make sure you have the right tag there. For future reference: always include your code <i>here</i>, not with a link, and include the input you used, the output you got and what you expected to get instead.</span>
<span class="comment-copy"><code>''.join([e for e in tgt if e.lower() not in 'aeiou'])</code></span>
<span class="comment-copy">It'd be interesting to see the toss-up between the <code>maketrans</code> and <code>text.translate(dict.fromkeys(map(ord, 'AEIOUaeiou')))</code></span>
<span class="comment-copy">@JonClements: it really should be made a function argument default instead but I didn't want to push the envelope too far here. <code>def anti_vowel(text, _mapping=str.maketrans('', '', 'aeiouAEIOU')): return text.translate(_mapping)</code>.</span>
<span class="comment-copy">Indeed... all we're missing now is <code>re.sub('[aeiou]', '', text, flags=RE.I)</code> or something - then we can have a canonical answer to the question that gets asked several times each week...</span>
<span class="comment-copy">@JonClements: hrm, in that case I also need to add in a Python 2 version; not sure I can squeeze that in right now. Perhaps tonight.</span>
