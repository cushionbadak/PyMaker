<div class="post-text" itemprop="text">
<p>What:
Python 2.7 is being used.</p>
<p>I am using the virustotal API to generate a list of IP's, in list format. When I run type() on the object, it returns list. At the bottom is an example of the data. Is there any way to make a filter,regexp list comprehension or some wildcard system to remove all IP's starting with 10. 172.16-172.31 and 192.168?</p>
<p>Reason:</p>
<p>There are some common IP's that get generated from the reports, but they are useless to me. I made a list comprehension to filter out specific addresses, but the list is growing and its quickly becoming obvious the list to exclude the main list will slow things down. I want to remove all none important IP's, so I dont slow down my script with useless commits to its DB.</p>
<p>How:</p>
<pre><code>unique = [xte for xte in unique if xte not in fil2]

fil2 = [['255.255.255.255',67],['137.170.185.211',123],['213.186.33.99',53],['10.0.2.15',68]]
</code></pre>
<p>Example: of data:</p>
<pre><code>&gt;&gt;&gt; fil2 = [['255.255.255.255',67],['137.170.185.211',123],['213.186.33.99',53],['10.0.2.15',68]]
&gt;&gt;&gt; type(fil2)
&lt;type 'list'&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can do something like:</p>
<pre><code>dont_start_with_these = ('10.', '172.16.', '172.31.', '192.168')

filtered_ip = [ip for ip in fil2 if not ip[0].startswith(dont_start_with_these)]
</code></pre>
<p>EDIT: This is a more compact solution, as suggested by Vizjerei</p>
</div>
<div class="post-text" itemprop="text">
<p>How about make a list comprehension and make a <code>startswith</code> like:</p>
<pre><code>ips = [ip for ip in file2[0] if not str(ip[0]).startswith(('192.168.','10.','172.16.','172.31.')) ]
</code></pre>
</div>
<span class="comment-copy">Also see the <a href="https://docs.python.org/3/library/ipaddress.html" rel="nofollow noreferrer"><code>ipaddress</code></a> module in the standard library (Python 3.3+) or the <a href="https://pypi.python.org/pypi/netaddr" rel="nofollow noreferrer"><code>netaddr</code></a> package (Python &lt; 3.3).</span>
<span class="comment-copy">This looks promising, but I keep getting this error, "AttributeError: 'list' object has no attribute 'startswith'", good material for future reference.</span>
<span class="comment-copy">Updated, but Vizjerei answer, once fixed, is more compact.</span>
<span class="comment-copy">I ended up going with this option, but Vizjrei looks great to, thank you both very much, I will come back and upvote when I can. It works wonderfully.</span>
<span class="comment-copy">Jeez, it never occurred to me that <code>startswith</code> accepts a tuple. Shame on me. Though you should add some parenthesis. Moreover, you should add a dot to the last two prefixes, or they'll filter out more than expected.</span>
<span class="comment-copy">I can recognize this very well, but I am getting this error. The more I see list comprehensions the more I enjoy their utility. TypeError: 'int' object has no attribute '<b>getitem</b>'</span>
<span class="comment-copy">edit it hope it will work now.</span>
<span class="comment-copy">@Vizjerei Nope: the parenthesis are needed around the start with parameters, or you'll get <code>TypeError: startswith() takes at most 3 arguments (4 given)</code>. See my updated answer.</span>
<span class="comment-copy">@Germano thx didn't check if it works but now it should work, edit it again</span>
