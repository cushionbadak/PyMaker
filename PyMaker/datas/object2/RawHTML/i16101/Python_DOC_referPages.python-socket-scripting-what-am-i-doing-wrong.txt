<div class="post-text" itemprop="text">
<p>My socket program hangs at clientsocket, address) = serversocket.accept() and doesn't spit our an error or anything.</p>
<p>I followed directions on <a href="https://docs.python.org/3/howto/sockets.html" rel="nofollow">https://docs.python.org/3/howto/sockets.html</a></p>
<p>I've been trying to figure it out for an hour now, but to no avail. I'm using python3 btw. What am i doing wrong? EDIT: My intedentation is all screwed up because I pasted it wrong, but other than that my code is as I have it in my file.</p>
<pre><code>    #import socket module
    import socket
    #creates an inet streaming socket.
    serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    print('socket created')
    #binds socket to a public host, and a well known port
    serversocket.bind(('127.0.0.1', 1024))
    #print(socket.gethostname())# on desktop prints 'myname-PC')
    #become a server socket
    serversocket.listen(5) # listens for up to 5 requests

    while True:
        #accept connections from outside
        #print('In while true loop') This works, but we never get to the next print    statement. Why the hell is it catching at line 20?
        (clientsocket, address) = serversocket.accept()
        #clientsocket = serversocket.accept()

print('Ready to serve')
#now we do something with client socket...
try:
    message = clientsocket.recv(1024)
    filename = message.split()[1]
    f = open(filename[1:])
    outputdata = f.read()
    #send an http header line
    clientsocket.send('HTTP/1.1 200 OK\nContent-Type: text/html\n\n')

    for i in range(0, len(outputdata)):
        clientsocket.send(outputdata[i])
    clientsocket.close()

except IOERROR:
    clientsocket.send('HTTP/1.1 404 File not found!')
    clientsocket.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you haven't written a client script / program to connect to the socket and  send it data, it's also going to hang on serversocket.accept() due to there being nothing to accept. But assuming you have...</p>
<pre><code>while True:
    #accept connections from outside
    #print('In while true loop') This works, but we never get to the next print    statement. Why the hell is it catching at line 20?
    (clientsocket, address) = serversocket.accept()
    #clientsocket = serversocket.accept()
</code></pre>
<p>It hangs because the loop never exits due to True always being True. In the example provided, once a connection is accepted they pretend that the server is threaded and the idea is to create a separate thread to begin reading and processing data received allowing the socket to continue to listen for more connections.</p>
<pre><code>while True:
    # accept connections from outside
    (clientsocket, address) = serversocket.accept()
    # now do something with the clientsocket
    # in this case, we'll pretend this is a threaded server
    ct = client_thread(clientsocket)
    ct.run()
</code></pre>
</div>
<span class="comment-copy">First, what client are you connecting with? If nobody tries to connect to <code>localhost</code> on port 1024, that <code>accept</code> will block forever, because that's exactly what it's supposed to do—block until someone tries to connect.</span>
<span class="comment-copy">Second, don't give excuses for why your formatting is broken, fix it. Just edit your question and paste it again. It would take more work—and usually some guessing—for each and every person who wants to answer your question than it would for you, so if it's not worth your time to fix, it's not worth anyone else's time to debug your code.</span>
<span class="comment-copy">"Hang" is what <code>socket.accept()</code> is supposed to do - at least for a while.  You didn't describe what you expected to happen instead or why you expected that.  Check out <a href="http://sscce.org/" rel="nofollow noreferrer">sscce.org</a></span>
