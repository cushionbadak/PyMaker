<div class="post-text" itemprop="text">
<p>I asked a question earlier on today, where I only wanted a solution for my problem.
I was expecting the use of metaclasses, but got something different and it worked.
However, now I'm interested in something related to my earlier question: Why didn't my metaclass work?</p>
<p>Here's a link to my previous question, but you're not required to read it in order to answer this question: <a href="https://stackoverflow.com/questions/15836263/how-do-i-create-a-simple-metaclass">How do I create a simple metaclass?</a></p>
<p>So let me ask this question again, this time for a completely different reason: How do I create a simple metaclass?
Here's what I have, and I can't see why it doesn't work.</p>
<pre><code>class MyMeta(type):
    def __new__(mcls, name, bases, attrs):
        attrs['my_attr'] = True     
        return super().__new__(mcls, name, bases, attrs)

class MyClass:
    __metaclass__ = MyMeta

print(MyClass.my_attr)
</code></pre>
<p>The last line prints the following error:</p>
<pre><code>AttributeError: type object 'MyClass' has no attribute 'my_attr'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In Python 3, you <a href="http://docs.python.org/3/reference/datamodel.html#customizing-class-creation" rel="nofollow">specify the metaclass differently</a>:</p>
<pre><code>class MyClass(metaclass=MyMeta):
    pass
</code></pre>
</div>
<span class="comment-copy">Are you using Python 3 here? You are using <code>print()</code> as a function..</span>
<span class="comment-copy">@MartijnPieters Yes, I'm using Python 3. Obviously the error is not caused of the print. Tt clearly states what's wrong, I just don't know why.</span>
<span class="comment-copy">You have to declare <code>class MyClass(metaclass=MyMeta): </code> on Python 3</span>
<span class="comment-copy">@JBernardo Thanks, worked :)</span>
<span class="comment-copy">@MarkusMeskanen: The reason I asked was because the syntax for metaclasses differs between 2 and 3, and wanted to make sure what version we are talking about here.</span>
<span class="comment-copy">Oh damn, I've read dozens of tutorials about metaclasses and just followed what I've learned from them, without ever looking at the python documentation... Seems like all the tutorials were for Python 2. Thanks, it worked now. :)</span>
