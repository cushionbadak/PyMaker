<div class="post-text" itemprop="text">
<p>Here is the important part of some existing code that I'm trying to adapt for my own uses. </p>
<p>The notable part is that <code>self.archive</code> leads to a massive file and <code>raw_file</code> is binary data extracted (painfully) from this giant file.  </p>
<pre><code>with open(self.archive, "rb") as f:
    f.seek(offset)
    raw_file = start + f.read(dlen - len(start))
    ...
    f.write(raw_file)
</code></pre>
<p>The existing code extracts the contents of an archive-like file to disk, but I need to only read these stored files from this archive (if that makes any sense).</p>
<p>I need to use Pygame to read a few hundred mbs of data from this file, mostly as images, using methods such as <code>pygame.image.load()</code>.  Rather than having this code write all of the file's contents to disk and then re-reading it again in "not-binary", I'd like to directly do something like <code>pygame.image.load(toVirtualFileObject(raw_file))</code>.  Does anyone know of something like this?</p>
</div>
<div class="post-text" itemprop="text">
<p>This is what <a href="http://docs.python.org/2/library/stringio.html" rel="noreferrer"><code>StringIO</code></a> (in Python 2) and <a href="http://docs.python.org/3/library/io.html#io.BytesIO" rel="noreferrer"><code>io.BytesIO</code></a> in (in Python 3) are for.</p>
</div>
<span class="comment-copy">You could use any file-like object, for example <code>StringIO</code>; but if its a few MB, you might exhaust the available memory as doing so will load the file into memory at once. What is the problem with writing to disk and reading it?</span>
<span class="comment-copy">Burhan, there're a couple of reasons: 1) The rules I have to follow when working with the large archive file include that I do not extract the contents to disk. 2) It would severely impact load times for the program to write several hundreds of mb of data to disk just to re-read them.</span>
<span class="comment-copy">Strange rules? Typically such extracting is done as part of the install process - which is why programs with a heavy asset library take up a lot of disk space, and take a while to install as well (think MMORPGs). @jwodder pointed you in the right direction.</span>
<span class="comment-copy">Ah, the joys of copy protection :)</span>
