<div class="post-text" itemprop="text">
<p>I want to run <code>mkdir</code> command as:</p>
<pre><code>mkdir -p directory_name
</code></pre>
<p>What's the method to do that in Python?</p>
<pre><code>os.mkdir(directory_name [, -p]) didn't work for me.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can try this:</p>
<pre><code># top of the file
import os
import errno

# the actual code
try:
    os.makedirs(directory_name)
except OSError as exc: 
    if exc.errno == errno.EEXIST and os.path.isdir(directory_name):
        pass
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Something like this:</p>
<pre><code>if not os.path.exists(directory_name):
    os.makedirs(directory_name)
</code></pre>
<p>UPD: as it is said in a comments you need to check for exception for thread safety</p>
<pre><code>try:
    os.makedirs(directory_name)
except OSError as err:
    if err.errno!=17:
        raise
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>According to the <a href="https://docs.python.org/3/library/os.html#os.makedirs" rel="noreferrer">documentation</a>, you can now use this since python 3.2</p>
<pre><code>os.makedirs("/directory/to/make", exist_ok=True)
</code></pre>
<p>and it will not throw an error when the directory exists.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do <code>path.mkdir(parents=True, exist_ok=True)</code> if you're using <code>pathlib</code>.</p>
<pre><code>from pathlib import Path

directory = Path('./some/nested/directory')

direcotry.mkdir(parents=True, exist_ok=True)
</code></pre>
<p><code>parents=True</code> creates any parent directories you need and <code>exist_ok=True</code> tells <code>mkdir()</code> to not error if the directory already exists. See the <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.mkdir" rel="nofollow noreferrer"><code>pathlib.Path.mkdir</code> docs</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>how about this 
<code>
os.system('mkdir -p %s' % directory_name )
</code></p>
</div>
<span class="comment-copy">Try os.makedirs('/multiple/path/')</span>
<span class="comment-copy">duplicate: <a href="http://stackoverflow.com/questions/600268/mkdir-p-functionality-in-python?rq=1" title="mkdir p functionality in python">stackoverflow.com/questions/600268/â€¦</a></span>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/600268/mkdir-p-functionality-in-python">mkdir -p functionality in Python</a></span>
<span class="comment-copy">exc doesn't have errno attribute.</span>
<span class="comment-copy">That should be os.mkdirs (the ending s is important), but SO won't let me submit such a small edit.</span>
<span class="comment-copy">This does not do the same as "mkdir -p": <code>-p, --parents: no error if existing, make parent directories as needed</code></span>
<span class="comment-copy">NOTE: this only works in python 3+</span>
<span class="comment-copy">Shouldn't there be an <code>else raise</code>? An <code>if</code> statement with a <code>pass</code> body does nothing.</span>
<span class="comment-copy">That's an inherent race condition 7and therefore a <i>very</i> bad idea.</span>
<span class="comment-copy">this is prone to race conditions. Ie, if some other process/thread creates <code>directory_name</code> after the <code>if</code> but before the <code>os.mkdirs</code>, this code will throw exception</span>
