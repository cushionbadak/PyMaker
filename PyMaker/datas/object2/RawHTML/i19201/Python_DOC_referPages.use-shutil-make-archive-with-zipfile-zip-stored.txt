<div class="post-text" itemprop="text">
<p>In Python is there a way to use the <code>shutil.make_archive()</code> function with file compression set to <code>zipfile.ZIP_STORED</code>? (that is, uncompressed)</p>
<p>The document shows that there are many optional parameters, but none of them sets the file compression:</p>
<pre><code>shutil.make_archive(base_name, format[, root_dir[, base_dir[, verbose[, dry_run[, owner[, group[, logger]]]]]]])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>No, there is no way to do this with <code>shutil.make_archive</code>.</p>
<p>If the lack of a relevant flag in <a href="http://docs.python.org/3/library/shutil.html#shutil.make_archive" rel="nofollow">the docs</a> isn't sufficient evidence, you can look at <a href="http://hg.python.org/cpython/file/3.4/Lib/shutil.py#l740" rel="nofollow">the source</a>.</p>
<p>In particular, at <a href="http://hg.python.org/cpython/file/3.4/Lib/shutil.py#l683" rel="nofollow">line 683</a> you can see that it explicitly passes <code>compression=zipfile.ZIP_DEFLATED</code> if your Python has the <code>zipfile</code> module, while the fallback code at <a href="http://hg.python.org/cpython/file/3.4/Lib/shutil.py#l634" rel="nofollow">line 634</a> doesn't pass any arguments besides <code>-r</code> and <code>-q</code> to the <code>zip</code> command-line tool.</p>
<p>This is meant to be a high-level function that makes trivial cases easier; if you want to do anything <code>zip</code>/<code>tar</code>/<code>gztar</code>/<code>bztar</code>-specific, you can, and should, use the underlying libraries.</p>
<p>Of course if you need this frequently, you can write your own <code>make_archive</code>-like wrapper (just copy the relevant code out of <code>shutil</code> and modify your copy).</p>
</div>
<span class="comment-copy">@twasbrillig: Thanks for the update edits! It looks like either a few line numbers have changed between 3.3 and 3.4, or I got them wrong in the first place, so I've had to move two of them around a couple lines.</span>
