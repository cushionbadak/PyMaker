<div class="post-text" itemprop="text">
<p>I have a list contains set of the history of a file. I need to separate each element in the list into several columns and save it to CSV file. The columns I need are "commit_id, filename, committer, date, time, line_number, code". I tried to split them using space, but it didn't work for the committer and the code. Also, I need to remove the opening parentheses before committer's name and the closing parentheses after line number.
Suppose, this is my list:</p>
<pre><code>my_list = [
 'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   1) /**',
 'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   2)  *',
 'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   3)  * Licensed to the Apache Software Foundation (ASF) under one',
 'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   4)  * or more contributor license agreements.',
 ...
 'd6ed1130d51 master/ActiveMasterManager.java              (Michael Stack      2011-04-28 19:51:25 +0000 281) }'
 ]
</code></pre>
<p>desired csv output:</p>
<pre><code>commit_id   | filename                         | committer     | date       | time     | line_number | code 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
f5213095324 | master/ActiveMasterManager.java  | Michael Stack | 2010-08-31 | 23:51:44 | 1           | /**
f5213095324 | master/ActiveMasterManager.java  | Michael Stack | 2010-08-31 | 23:51:44 | 2           | *
f5213095324 | master/ActiveMasterManager.java  | Michael Stack | 2010-08-31 | 23:51:44 | 3           | * Licensed to the Apache Software Foundation (ASF) under one
f5213095324 | master/ActiveMasterManager.java  | Michael Stack | 2010-08-31 | 23:51:44 | 4           | * or more contributor license agreements.
........
d6ed1130d51 | master/ActiveMasterManager.java  | Michael Stack | 2011-04-28 | 19:51:25 | 281         | }
</code></pre>
<p>I tried using method <code>str(my_list).replace("  ",'').split(" ")</code> to make a new list before save it into csv file, but it didn't work. Any help will be appreciated. Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's a regex solution</p>
<pre><code>import re
import csv

my_list = [
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   1) /**',
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   2)  *',
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   3)  * Licensed to the Apache Software Foundation (ASF) under one',
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   4)  * or more contributor license agreements.',
     'd6ed1130d51 master/ActiveMasterManager.java              (Michael Stack      2011-04-28 19:51:25 +0000 281) }'
     ]


pat = re.compile(r'(?P&lt;commit_id&gt;\w+)\s+(?P&lt;filename&gt;[^\s]+)\s+\((?P&lt;commiter&gt;.+)\s+(?P&lt;date&gt;\d{4}-\d\d-\d\d)\s+(?P&lt;time&gt;\d\d:\d\d:\d\d).+(?P&lt;line_number&gt;\b\d+\b)\)\s+(?P&lt;code&gt;.+)')

with open('somefile.csv', 'w+', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['commit_id', 'filename', 'commiter', 'date', 'time', 'line_number', 'code'])
    for line in my_list:
        writer.writerow([field.strip() for field in pat.match(line).groups()])
</code></pre>
<p>You may want to play around with the <a href="https://docs.python.org/3/library/csv.html#csv.writer" rel="nofollow noreferrer"><code>csv.writer</code></a> to get the prettified output  you want.  This ends up with </p>
<pre><code>commit_id,filename,commiter,date,time,line_number,code
f5213095324,master/ActiveMasterManager.java,Michael Stack,2010-08-31,23:51:44,1,/**
f5213095324,master/ActiveMasterManager.java,Michael Stack,2010-08-31,23:51:44,2,*
f5213095324,master/ActiveMasterManager.java,Michael Stack,2010-08-31,23:51:44,3,* Licensed to the Apache Software Foundation (ASF) under one
f5213095324,master/ActiveMasterManager.java,Michael Stack,2010-08-31,23:51:44,4,* or more contributor license agreements.
d6ed1130d51,master/ActiveMasterManager.java,Michael Stack,2011-04-28,19:51:25,281,}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think your file is <code>tsv</code></p>
<p>Try this.</p>
<pre><code>import csv
with open('eggs.csv', newline='') as csvfile:
    spamreader = csv.reader(csvfile, delimiter='\t', quotechar='|')
    for row in spamreader:
        print(' | '.join(row))
</code></pre>
<p>If this not helps then i think you might have to use regex as there are spaces in your value and the file is also space separated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Maybe a bit bit hacked up, but gives the exact format you wanted on Python2.7
It is something to work from.
Results from my knowledge and a couple stack-overflow searches </p>
<pre>
my_list = [
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   1) /**',
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   2)  *',
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   3)  * Licensed to the Apache Software Foundation (ASF) under one',
     'f5213095324 master/ActiveMasterManager.java              (Michael Stack      2010-08-31 23:51:44 +0000   4)  * or more contributor license agreements.',
     'd6ed1130d51 master/ActiveMasterManager.java              (Michael Stack      2011-04-28 19:51:25 +0000 281) }'
     ]
</pre>
<pre><code>import re
import csv
from time import sleep
def SpaceToDelimit(Str, orig, new, Nright):
    li = Str.rsplit(orig, Nright)
    return new.join(li)
def nth_repl(s, sub, repl, nth):
    find = s.find(sub)
    # if find is not p1 we have found at least one match for the substring
    i = find != -1
    # loop util we find the nth or we find no match
    while find != -1 and i != nth:
        # find + 1 means we start at the last match start index + 1
        find = s.find(sub, find + 1)
        i += 1
    # if i  is equal to nth we found nth matches so replace
    if i == nth:
        return s[:find]+repl+s[find + len(sub):]
    return s
# notice my input was from your my_list above
spamreader = csv.reader(my_list, delimiter='\t', quotechar='|')
print "commit_id   | filename                        | committer     | date \      | time     | line_number | code "\
print "---------------------------------------------------------------------------"
for row in spamreader:
    row = str(row)
    row = re.sub(' +',' ',row)
    rowz = (''.join(row))
    nl= rowz[2:-3]
    nl = nl.replace(" ", " | ", 8) 
    nl = nl.replace("(","") 
    nl = nl.replace(")","")
    TEXT = nth_repl(nl, " | ", " ", 3)
    print TEXT
</code></pre>
<p>Results from Print:</p>
<pre>
commit_id   | filename                        | committer     | date       | time     | line_number | code 
-------------------------------------------------------------------------------------------------------------
f5213095324 | master/ActiveMasterManager.java | Michael Stack | 2010-08-31 | 23:51:44 | +0000 | 1 | /*
f5213095324 | master/ActiveMasterManager.java | Michael Stack | 2010-08-31 | 23:51:44 | +0000 | 2 | 
f5213095324 | master/ActiveMasterManager.java | Michael Stack | 2010-08-31 | 23:51:44 | +0000 | 3 | * Licensed to the Apache Software Foundation ASF under on
f5213095324 | master/ActiveMasterManager.java | Michael Stack | 2010-08-31 | 23:51:44 | +0000 | 4 | * or more contributor license agreements
d6ed1130d51 | master/ActiveMasterManager.java | Michael Stack | 2011-04-28 | 19:51:25 | +0000 | 281 | 

</pre>
</div>
<span class="comment-copy">I'm sorry, but have you ever considered (since you need to spit out data in <i>csv</i> format) using the (<b>already builtin</b>)  <a href="https://docs.python.org/3/library/csv.html#module-csv" rel="nofollow noreferrer">[Python]: csv â€” CSV File Reading and Writing</a> module?</span>
<span class="comment-copy">@PatrickHaugh. Thank you. Now I think the elements in my_list are already had all data needed to separate into several fields.</span>
<span class="comment-copy">Great!! But still, need for the code fields. Where can I learn about regex?</span>
<span class="comment-copy">@Yusuf Oops, I didn't see that column in the output for some reason.  That's an easy enough fix.  As to learning regular expressions, you might have some success with <a href="https://docs.python.org/3/howto/regex.html" rel="nofollow noreferrer">Regular Expressions HOWTO</a> from the python documentation.</span>
<span class="comment-copy">I added a | the first eight spaces with " nl = nl.replace(" ", " | ", 8)  " then removed the third with " TEXT = nth_repl(nl, " | ", " ", 3) " so the | " delimiter " was removed between Michel and Stack</span>
