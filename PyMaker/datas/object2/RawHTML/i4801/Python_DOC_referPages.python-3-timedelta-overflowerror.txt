<div class="post-text" itemprop="text">
<p>I have a large database that I am loading into an in-memory cache. I have a process that does this iterating through the data day by day. </p>
<p>Recently this process has started throwing the following error:</p>
<p><code>OverflowError: date value out of range</code> for the line</p>
<p><code>start_day = start_day - datetime.timedelta(days = 1)</code></p>
<p>This is running in Python 3.4.3 on Ubuntu 14.04.5</p>
</div>
<div class="post-text" itemprop="text">
<p>You have reached <a href="https://docs.python.org/3/library/datetime.html#datetime.date.min" rel="nofollow noreferrer"><code>datetime.date.min</code></a>, or the first of January of the year 1:</p>
<pre><code>&gt;&gt;&gt; from datetime import date, timedelta
&gt;&gt;&gt; date.min
datetime.date(1, 1, 1)
&gt;&gt;&gt; date.min - timedelta(days=1)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
OverflowError: date value out of range
</code></pre>
<p>If you started at <code>datetime.date.today()</code>, then it took your code a little over 736k steps to get there:</p>
<pre><code>&gt;&gt;&gt; date.today().toordinal()
736766
</code></pre>
<p>Your code probably has a bug somewhere that is subtracting too often.</p>
</div>
<span class="comment-copy">What is the initial value of start_day?</span>
<span class="comment-copy"><code>datetime.utcnow().date()</code> when the process starts running</span>
