<div class="post-text" itemprop="text">
<p>I want to extract strings with labels from text data in python.I have written following code written , but this replaces the actual data with the string , i want to extract that </p>
<pre><code>    import re
def replace_entities(example):

# dd mm yyyy
example = re.sub("(\d{1,31}(:? |\-|\/)\d{1,12}(:? |\-|\/)\d{4})", "DATESTR", example)  # dd/mm/yyyy
example = re.sub("(\d{4}(:? |\-|\/)\d{1,31}(:? |\-|\/)\d{1,12})", "DATESTR", example)  # yyyy/dd/mm

# email id
example = re.sub("[\w\.-]+@[\w\.-]+", "EMAILIDSTR", example)

# URL
example = re.sub('http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\(\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+', "URLSTR",
                    example)
example = re.sub('www.(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\(\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+', "URLSTR", example)

# TIME
example = re.sub("\d{2}:\d{2} (:?AM|PM|am|pm)", "TIMESTR", example)
example = re.sub("\d{2}:\d{2}:\d{3} (:?AM|PM|am|pm)", "TIMESTR", example)

# MONEY
example = re.sub(r'\£ \d+', "MONEYSTR", example, 0)
example = re.sub(r'\£\d+', "MONEYSTR", example, 0)
example = re.sub(r'\d+(:?\£|pound|pounds|euros|euro)', "MONEYSTR", example, 0)
example = re.sub(r'\d+ (:?\£|pound|pounds|euros|euro)', "MONEYSTR", example, 0)
example = re.sub(r'\d.\d+(:?\£|pound|pounds|euros|euro)', "MONEYSTR", example, 0)
example = re.sub(r'\d.\d+ (:?\£|pound|pounds|euros|euro)', "MONEYSTR", example, 0)
example = re.sub(r'\\xc2\\xa\d+', "MONEYSTR", example, 0)
example = re.sub(r'\\xc2\\xa\d+.\d+', "MONEYSTR", example, 0)

# Split alpha numeric and sp. symbol
example = " ".join(re.findall(r"[^,.:;\(\)\/\\_]+|[,.:;\(\)\/\\_]", example))
example = " ".join(re.findall(r"[^\d_]+|\d+", example))
example = re.sub('(?!^)([A-Z][a-z]+)', r' \1', example)

# NUMBERS
example = re.sub(r'\d+', 'NUMSTR', example)

return example
</code></pre>
<p>I have following text as input :</p>
<pre><code> My name is ali, Date is 21/08/2018 Total amount is euros 10 . Account number is 123456
</code></pre>
<p>Expected_output is:</p>
<pre><code>&gt; 21/08/2018: DATESTR
  euros 10 : MONEYSTR
  123456  :  NUMSTR
</code></pre>
<p>How can i get above output </p>
<p>Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p>You may fix it by adding <code>.*?</code> before and <code>.*</code> after the pattern you have and replace with <code>r'\1 : DATESTR'</code></p>
<pre><code> res = re.sub(r'.*?(\d{1,31}(?::? |[-/])\d{1,12}(?::? |[-/])\d{4}).*', r'\1 : DATESTR', s)
</code></pre>
<p>See the  <a href="https://regex101.com/r/VRdY41/1/" rel="nofollow noreferrer">regex demo</a>. With <code>.*?</code> you match any 0+ chars other than line break chars, as few as possible, and with <code>.*</code> you match any 0+ chars other than line break chars, as many as possible, and that way you remove what you do not need by just matching and you keep what you capture.</p>
<p>You may also use your regex to <em>extract</em> the date and then append <code>: DATESTR</code> to it:</p>
<pre><code>import re
rx = r"\d{1,31}(?::? |[-/])\d{1,12}(?::? |[-/])\d{4}"
s = "My name is ALi Date is 09/03/2018"
m = re.search(rx, s)
if m:
    print("{} : DATESTR".format(m.group())) # =&gt; 09/03/2018 : DATESTR
</code></pre>
<p>See the <a href="https://ideone.com/3lqBfl" rel="nofollow noreferrer">Python demo</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can give a try to <a href="https://github.com/akoumjian/datefinder" rel="nofollow noreferrer">datefinder</a><br/>
Here I have tried to get your example done with it:  </p>
<pre><code>&gt;&gt;&gt; import datefinder
&gt;&gt;&gt; str = 'My name is ALi Date is 09/03/2018'
&gt;&gt;&gt; matches = datefinder.find_dates(str)
&gt;&gt;&gt; for i in matches:
...     print(i.strftime("%m/%d/%Y") + ':DATESTR')
...
09/03/2018:DATESTR
</code></pre>
<p>I guess this will help you. It can get any date string out of your string.</p>
</div>
<div class="post-text" itemprop="text">
<p>from your example you want to do 2 things:</p>
<ol>
<li>Find a date-like string</li>
<li>Add another string at the end of your match</li>
</ol>
<p>The solution I propose here might not be the best but it does the thing. I propose you get the match that your regex can find, and then use that match to format whatever you want to print.</p>
<pre><code>import re

string1 = "My name is ALi Date is 09/03/2018"
string2 = "DATESTR"
m = re.search("(\d{1,31}(:? |\-|\/)\d{1,12}(:? |\-|\/)\d{4})", string1 ) # match the date : dd/mm/yyyy
print( m.group(0) + ' : ' + string2 )
</code></pre>
<p>The output is:</p>
<pre><code>&gt;&gt;&gt; 09/03/2018 : DATESTR
</code></pre>
<p>There might be some other functions that fit your needs in the documentation. That's what I just used.</p>
<p><a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html</a></p>
</div>
<span class="comment-copy">Unclear: should "My name is ALi Date is " be removed, as per your 'expected_output'?</span>
<span class="comment-copy">What does 's' represents here?</span>
<span class="comment-copy">@CyleySimon See the snippet, <code>s</code> is the input string.</span>
<span class="comment-copy">Stribizew  What if these is for multiple regex ? How should i Apply for Multiple Regex</span>
<span class="comment-copy">Please precise the question, I do not have a clue.</span>
<span class="comment-copy">@ Wiktor Stribiżew hi I have updated the above question . can you please check and suggest some thing. Thank you</span>
