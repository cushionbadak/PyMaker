<div class="post-text" itemprop="text">
<p>I have utility scripts for interfacing with Auth0. I want to combine them into a single tool similar to gcloud and awscli:</p>
<pre><code>$ gcloud [module] [commands &amp; args]
$ aws cloudformation validate-template --template-body file://test.yml

$ auth0 user add --email [EMAIL] ...
$ auth0 connection backup --connection [CXD_ID]
$ auth0 [user | connection | client | ...]
</code></pre>
<p>I don't think I can do this with argparse as it treats args w/o the leading dash(es) as mandatory positional args, but I am certainly not an expert.</p>
</div>
<div class="post-text" itemprop="text">
<p>@delirious-lettuce provided the answer: sub-commands in argparse. Lesson learned: Read <em>all</em> the documentation before posting to SO.</p>
<p>Related:</p>
<p><a href="https://docs.python.org/3/library/argparse.html#sub-commands" rel="nofollow noreferrer">https://docs.python.org/3/library/argparse.html#sub-commands</a></p>
<p><a href="https://stackoverflow.com/questions/10448200/how-to-parse-multiple-nested-sub-commands-using-python-argparse#10579924">How to parse multiple nested sub-commands using python argparse?</a></p>
</div>
<span class="comment-copy">Maybe subcommands? <a href="https://docs.python.org/3/library/argparse.html#sub-commands" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#sub-commands</a></span>
<span class="comment-copy">That's it. Or I think that's it. In all my searching I never thought to search for "sub commands". Thanks!</span>
<span class="comment-copy">No problem. I'm not sure if third-party is an option but if so, you might want to look into click too: <a href="http://click.pocoo.org/6/commands/" rel="nofollow noreferrer">click.pocoo.org/6/commands</a></span>
<span class="comment-copy">From your sample it's not entirely clear which strings are keys (or flags) with-or-without the prefix, and which are names for strings.</span>
