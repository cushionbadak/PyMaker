<div class="post-text" itemprop="text">
<p><strong>EDIT:</strong> The reason that the <code>:root:</code> was appearing was because I typed <code>logging.error(...)</code> instead of <code>logger.error</code>. This caused the program to default to handler root. This changed the general formatting which includes the handler name. Correcting to logger and just adding the error name to the message seems to create the correct output.</p>
<p><strong>OLD TEXT</strong></p>
<p>With the logging package I am trying log a custom error. When doing so the error message shows up, but the custom error exception appears to show up as root. For example a simple case is shown below running on <code>python 3.6.6</code> </p>
<p>Input looks like:</p>
<pre><code> import logging
 import logging.config

 logger = logging.getLogger(__name__)
 logger.setLevel(logging.INFO)
 HANDLER = logging.FileHandler('test.txt')
 logger.addHandler(HANDLER)
 FORMATTER = logging.Formatter('%(name)s - %(levelname)s - %(message)s')
 HANDLER.setFormatter(FORMATTER)

 class FailedToDoSimpleTaskError(Exception):
     pass

 def fail_todo_thing():
     raise FailedToDoSimpleTaskError('It was a good attempt though')

 try:
     fail_todo_thing()
 except FailedToDoSimpleTaskError as err:
     logging.error(err)
</code></pre>
<p>Output looks like:</p>
<pre><code>__main__-ERROR:root:It was a good attempt though
</code></pre>
<p>What I am trying to understand is why it shows up with :root:, and if there is any way to have it show up instead with :FailedToDoSimpleTaskError: ?</p>
</div>
<div class="post-text" itemprop="text">
<p>As you stated in your edit, if you correct <code>logging.error(err)</code> with <code>logger.error(err)</code> you get the correct output <code>__main__ - ERROR - It was a good attempt though</code>.</p>
<p>The reason for <code>root</code> appearing in your message is explained under <a href="https://docs.python.org/3/howto/logging.html" rel="nofollow noreferrer">logging documentation</a>. In that documentation you can find out about <a href="https://docs.python.org/3/howto/logging.html#changing-the-format-of-displayed-messages" rel="nofollow noreferrer">changing the format of displayed messages</a>.</p>
<p>Since you did use <code>logging.error(err)</code> you were not invoking <code>logger</code> which had specified the format you wanted. Hence the <code>root</code> word appeared. </p>
<p>You should have also noticed that when using <code>logging.error(err)</code> you would get the message on the console and not added to your log file. And if you try to use <code>logging.info</code> no message would have been written to the console, as the defaul log level is <code>WARNING</code> and the level you had set as <code>INFO</code> was for the <code>HANDLER</code> named <code>logger</code>. So if you try for example <code>logging.info("Info test")</code> nothing would appear in the log console nor in your log file. However using <code>logger.info("Info test")</code> you would get the message "Info test" written in your log file.</p>
</div>
<span class="comment-copy">Does it have to do with the formatter? The root apears to be attatched to the level name.</span>
<span class="comment-copy">As you said, if you correct <code>logging.error(err)</code> with <code>logger.error(err)</code> you get the correct output <code>__main__ - ERROR - It was a good attempt though</code>. I was able to reproduce your original issue, but I believe you forgot to mention that no output file is generated. The message you get <code>__main__-ERROR:root:It was a good attempt though</code> is within the command line. Still not sure why you get the message like that.</span>
<span class="comment-copy">I didn't notice that it wasn't making a file. I normally use a config file for my logging which creates the output file fine. Not sure why it didn't in this simple case however.</span>
<span class="comment-copy">Should I remove my explanation that I edited into my original post since it's explained here?</span>
<span class="comment-copy">I don't think so. Since your question would be the last phrase of your post. In your edit you state on how to resolve it, but you still wanted to know why it works.</span>
<span class="comment-copy">Okay perfect. Thanks for the help! And conveniently, I unlocked upvoting. So, upvote for you!</span>
