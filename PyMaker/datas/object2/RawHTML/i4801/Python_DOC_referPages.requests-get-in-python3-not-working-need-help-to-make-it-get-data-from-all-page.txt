<div class="post-text" itemprop="text">
<p>Code to get all data from URL in requests.get not working - it only retrieves one page's worth of data (30 records).  How do I have to modify my code to make sure I get data from all the pages?</p>
<pre><code>NAEYCData = requests.get('http://families.naeyc.org/search_programs/results/0/NJ/0/100/0/0/0/us/0?page=')
openFile = open('NAEYCData', 'wb')
for chunk in NAEYCData.iter_content(100000):
    openFile.write(chunk)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The actual page only provides 30 results at a time. Each subsequent page is accessed with a different argument to <code>page</code> in the URL (the first page is <code>page=0</code>, the second is <code>page=1</code>, etc.).</p>
<p>You could download each page individually, but frankly, the better solution (for you and their server) is probably to download <a href="http://families.naeyc.org/programs/csv/CSV?attach=list" rel="nofollow noreferrer">the CSV linked to on the search results page</a> you're trying to grab, which contains the same information structured as a single CSV file, requiring fewer connections and less bandwidth to transfer, and is <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">easy to parse programmatically</a> (easier than HTML in general, and much easier than parsing nine separate HTML pages and gluing the results back together).</p>
</div>
<span class="comment-copy">Completely agree with your approach.   Tried doing that as well, except I've never downloaded CSV files before (using a code).  Tried a few approaches I've seen on this site and elsewhere (including using urllib), but none seem to work so far.  Any suggestions on how to approach downloading the CSV?  Thanks.</span>
<span class="comment-copy">@user6860460, you've to specify the complete file name. Like <code>NAEYCData.csv</code>.</span>
<span class="comment-copy">@KeyurPotdar: How do I tweak the code above?</span>
<span class="comment-copy">@user6860460 please don't change the question after your first gets solved. The edit completely changed the qusetion and invalidated this answer. I've done a rollback. If you want to ask a new question, please create a new post. Don't edit this one.</span>
<span class="comment-copy">@ShadowRanger - tried to download the CSV as you suggested in your response, but unable to do so.  Posted the code I used to download the CSV on March 17 and asked for help on why it wasn't doing the trick. No responses yet that resolved it.  Here's a link to that question in case you're able to help address it:  <a href="https://stackoverflow.com/questions/49333835/trying-to-download-a-csv-file-with-data-after-running-a-search-query-using-pytho/49334076#49334076" title="trying to download a csv file with data after running a search query using pytho">stackoverflow.com/questions/49333835/â€¦</a>.  If not, any further thoughts on how to download a page's worth of data without using a for loop that changes the argument for each page?</span>
