<div class="post-text" itemprop="text">
<p>Here I am trying to get domain names of the companies and the company names are stored in new.csv  </p>
<p><strong>The code I have used</strong> </p>
<pre><code>import pandas as pd
import clearbit
import json
clearbit.key = 'sk_1915de5d2d7b6e245d6613e3d2188368'
df = pd.read_csv("/home/vipul/Desktop/new.csv", sep=',', encoding="utf-8")
saved_column = df['Company'].dropna()
print(saved_column)
i=0
res = []
for data in saved_column:   
    n = saved_column[i]
    i = i+1
    data = clearbit.NameToDomain.find(name=n)
    if data is None null() res.append(data['domain'])
    print(res)
df['domain'] = res
df.to_csv("/home/vipul/Desktop/new.csv",index = False, skipinitialspace=False)

print("File saved to desktop as new.csv")
</code></pre>
<p><strong>output of the code</strong></p>
<pre><code>python ts.py
0                ‎Accenture
1              ‎AND Digital
2                ‎Accenture
3    ‎Kite Consulting Group
4                ‎Capgemini
5             ‎Accenture UK
Name: Company, dtype: object
['accenture.com']
['accenture.com', 'and.digital']
['accenture.com', 'and.digital', 'accenture.com']
Traceback (most recent call last):
  File "ts.py", line 15, in &lt;module&gt;
    res.append(data['domain'])
TypeError: 'NoneType' object is not subscriptable
</code></pre>
<p>How to give some default value where NoneType encounters and store it with the corresponding company names which is in new.csv</p>
<p><strong>Expected output to be saved in new.csv</strong></p>
<pre><code>Company                  domain
‎Accenture                accenture.com
‎AND Digital              and.digital
‎Accenture                accenture.com
‎Kite Consulting Group    None
‎Capgemini                capgemini.com
‎Accenture UK             None
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this:</p>
<pre><code>data = clearbit.NameToDomain.find(name=n)
try:
   res.append(data['domain'])
except Exception as e:
   #print(e)
   res.append(None)
print(res)
</code></pre>
</div>
<span class="comment-copy">Please format the code. There are syntax errors.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">Catch the Error</a> and handle it in the except suite.</span>
<span class="comment-copy">I think you need to edit this question: your code isn't valid Python.</span>
<span class="comment-copy">it is a proper code try urself</span>
<span class="comment-copy">but it does not go right with the expected output</span>
<span class="comment-copy">Check the edited answer.</span>
<span class="comment-copy">still the same problem this link has the csv file    <a href="https://expirebox.com/download/e7ee5d5f0670a8c3be96d7cb90982311.html" rel="nofollow noreferrer">expirebox.com/download/e7ee5d5f0670a8c3be96d7cb90982311.html</a></span>
<span class="comment-copy">What is the problem? The code in this answer correctly addresses the problem you posted.</span>
<span class="comment-copy">error <code>Traceback (most recent call last):   File "ts.py", line 20, in &lt;module&gt;     res.append(data['domain']) TypeError: 'NoneType' object is not subscriptable</code></span>
