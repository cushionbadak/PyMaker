<div class="post-text" itemprop="text">
<p>I have these lines using Popen    </p>
<pre><code>numcpu = sub.Popen("($(cat /proc/cpuinfo | grep 'physical id' | awk '{print $NF}' | sort | uniq | wc -l))", shell=True, stdout=sub.PIPE, stderr=sub.PIPE)
numcores = sub.Popen("($(cat /proc/cpuinfo | grep 'cpu cores' | awk '{print $NF}' | sort | uniq | wc -l))", shell=True, stdout=sub.PIPE, stderr=sub.PIPE)  
numsibling = sub.Popen("($(cat /proc/cpuinfo | grep 'siblings' | awk '{print $NF}' | sort | uniq | wc -l))", shell=True, stdout=sub.PIPE, stderr=sub.PIPE)
</code></pre>
<p>but run into this traceback error</p>
<pre><code>Traceback (most recent call last):
File "./cputool", line 53, in &lt;module&gt;
CpuTool()
File "./cputool", line 45, in CpuTool
numthreads = int(numsibling)/int(numcores)
TypeError: int() argument must be a string or a number, not 'Popen'
</code></pre>
<p>On this line</p>
<pre><code>numthreads = int(numsibling)/int(numcores)
</code></pre>
<p>I'm new to scripting is there anyway to assign these Popen values to a string or int so this works? I don't think doing a simple numcpu== 'anything' works but I could be wrong? Any help for a beginner? Nothing I can find on here (SO) for similar cases, work for my case unfortunately. Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You can read the stdout with <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen.stdout" rel="nofollow"><code>proc_name.stdout.readline()</code></a> and then convert it to <code>int</code>.</p>
<pre><code>numthreads = int(numsibling.stdout.readline())/int(numcores.stdout.readline())
</code></pre>
</div>
<span class="comment-copy">you don't need subprocesses here. You can open the file in Python: <code>with open('/proc/cpuinfo') as file: parse(file)</code> or use a library that provides the same info.</span>
<span class="comment-copy">this fixes this current issue but leads to another traceback error:  Traceback (most recent call last):   File "./cputool", line 49, in &lt;module&gt;     CpuTool()   File "./cputool", line 41, in CpuTool     numthreads = int((numsibling.stdout.readline())/int(numcores.stdout.readline())) ValueError: invalid literal for int() with base 10: '' any solution for that? Thanks for the solution though.</span>
<span class="comment-copy">@Klyde That's because of you output that is not a digit you can print <code>numsibling.stdout.readline()</code> to see that whats your result if it contains some extra characters like whitespace or dot or ... for example <code>3.</code> or <code>3\n</code> you can remove it by striping the string.</span>
<span class="comment-copy">Im new to python so how would I strip it so it can be assigned as a digit? I dont need it printed out. I need to have those values do math and assign them to other ones. Thanks</span>
<span class="comment-copy">@Klyde I mean print it to know that whats the out put but then you can strip it with <code>str.strip</code> method or replace the extra characters if they are inside the string for example <code>'47-34'.replace('-','')</code> or <code>'8764\n'.strip()</code> or <code>'83476#'.strip('#')</code></span>
