<div class="post-text" itemprop="text">
<blockquote>
<p><strong>Possible Duplicate:</strong><br/>
<a href="https://stackoverflow.com/questions/13055884/parsing-math-expression-in-python-and-solving-to-find-an-answer">parsing math expression in python and solving to find an answer</a> </p>
</blockquote>
<p>How can I "undo" a string with plus and addition signs in order to calculate them?</p>
<p>I have a string for example:</p>
<blockquote>
<p>'6*1+7*1+1*7'</p>
</blockquote>
<p>I tried int() but I've got error. How can I undo this whole string to just get a pure integer calculation?</p>
</div>
<div class="post-text" itemprop="text">
<p>You have to actually implement the operations you want to support by parsing the string and calculating the result. A trivial parser would look like:</p>
<pre><code>&gt;&gt;&gt; import functools,operator
&gt;&gt;&gt; sum(functools.reduce(operator.mul, map(int, summand.split('*')), 1)
...     for summand in '6*1+7*1+1*7'.split('+'))
20
</code></pre>
<p>Note that the built-in <a href="http://docs.python.org/3/library/functions.html#eval" rel="nofollow"><code>eval</code></a> may work in a one-off script or an interactive console, but it interprets the string as Python source and therefore allows anyone who controls the string (i.e. the user) to <a href="http://en.wikipedia.org/wiki/Arbitrary_code_execution" rel="nofollow">execute arbitrary Python commands</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>use <a href="http://docs.python.org/2/library/functions.html#eval" rel="nofollow"><code>eval()</code></a>:</p>
<pre><code>In [177]: eval('6*1+7*1+1*7')
Out[177]: 20
</code></pre>
<p>or <code>exec</code>:</p>
<pre><code>In [188]: exec compile('6*1+7*1+1*7','None','single')
Out[188]: 20
</code></pre>
</div>
<span class="comment-copy">a more complete implementation of this solution can be found here <a href="http://stackoverflow.com/questions/13055884/parsing-math-expression-in-python-and-solving-to-find-an-answer" title="parsing math expression in python and solving to find an answer">stackoverflow.com/questions/13055884/…</a></span>
<span class="comment-copy">@JoranBeasley Thanks, didn't note that. The question should be closed as a duplicate then.</span>
<span class="comment-copy">Thanks for that reference. How can I delete my post?</span>
<span class="comment-copy">@Flow You don't. It will get closed automatically as soon as five people (with sufficient privileges) vote for it, and then serve as a <a href="http://blog.stackoverflow.com/2010/11/dr-strangedupe-or-how-i-learned-to-stop-worrying-and-love-duplication/">signpost</a> to help anyone else describing the same problem with similar words find the correct solution.</span>
<span class="comment-copy">Note that this is extremely dangerous with user-supplied input.</span>
<span class="comment-copy">a safer solution can be found here  <a href="http://stackoverflow.com/questions/13055884/parsing-math-expression-in-python-and-solving-to-find-an-answer" title="parsing math expression in python and solving to find an answer">stackoverflow.com/questions/13055884/…</a></span>
<span class="comment-copy">@JoranBeasley Even I tried something similar some time back : <a href="http://stackoverflow.com/a/13104488/846892">stackoverflow.com/a/13104488/846892</a>.</span>
