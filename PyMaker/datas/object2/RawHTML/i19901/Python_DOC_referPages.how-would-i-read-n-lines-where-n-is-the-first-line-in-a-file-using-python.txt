<div class="post-text" itemprop="text">
<p>I need to read in a file of sets of coordinates using Python. The first line will have a number, <em>n</em>, which is the number of coordinate sets that need to be read. Following the first line will be <em>n</em> lines, where each line contains a single coordinate pair. </p>
<p>Example (in this case, n =4): </p>
<pre><code>n
(x,y)
(x,y)
(x,y)
(x,y)
</code></pre>
<p><strong>The catch is that there will be multiple sections in the file.</strong> So the first n might be 10, with 10 sets of coordinates, and the next n might be 20, with 20 sets of coordinates following it.</p>
<p>As of right now I'm just reading the sections of coordinates in separately, but I would like it if I could any number of sections of coordinates in the file I'm reading in.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="http://docs.python.org/3/library/functions.html#open" rel="nofollow"><code>open()</code></a> to open a file for reading, <a href="http://docs.python.org/3/library/io.html#io.IOBase.readline" rel="nofollow"><code>readline()</code></a> to read file content line by line, and <a href="http://docs.python.org/3/library/functions.html#int" rel="nofollow"><code>int()</code></a> to convert from a string to an integer.</p>
<p>Here's an example implementation using these parts:</p>
<pre><code>def read_coords(file_handle):
    try:
        nrecords = int(file_handle.readline())
    except ValueError:
        return False
    return [file_handle.readline() for i in range(nrecords)]

coord_sets = []
with open("some.txt") as f:
   coords = read_coords(f)
   while coords != False:
       coord_sets.append(coords)
       coords = read_coords(f)

print "coord_sets =",coord_sets
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Look into using generators. You could read the first line via the generator and then it will tell how many lines to yield, until the next read:</p>
<pre><code>def gen_coord(a_file):
    num = 0
    for line in a_file:
        if num == 0:
            num = int(line)
        else:
            num -= 1
            yield line

source = open("somefile")
coords = gen_coord(source)
for coord in coords:
    print (coord)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If I understand you correctly, you are currently reading in different files with the leading n value followed by the n-number of coordinates. But, you want to do this with a single file.</p>
<p>What you could do is create a nested list, and append a list of coords to a main list, based off of your formatting.</p>
<pre><code>coord_list = []
myfile = open('coords.txt','r')
while 1:
    coord_count = myfile.readline().replace('\n','')
    if not coord_count:
        break
    coord_list.append([myfile.readline().replace('\n','') for i in range(int(coord_count))])

print coord_list
</code></pre>
<ul>
<li>Note: that you may still have to convert these '(x,y)'s </li>
</ul>
</div>
<span class="comment-copy">What have you tried? I think you can just restart after you read <code>n</code> number of lines, to read next <code>n</code> number of lines.</span>
<span class="comment-copy">Do you have a skype or email I could reach you at? I'd like to speak more about this approach.</span>
<span class="comment-copy">you can shoot me an email at rgriffin122@hotmail.com. Just let me know what you want to know. Also, you can send me a message in this chat room: <a href="http://chat.stackoverflow.com/rooms/6/python">chat.stackoverflow.com/rooms/6/python</a></span>
