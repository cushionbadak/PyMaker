<div class="post-text" itemprop="text">
<blockquote>
<p><strong>Possible Duplicate:</strong><br/>
<a href="https://stackoverflow.com/questions/19151/build-a-basic-python-iterator">Build a Basic Python Iterator</a> </p>
</blockquote>
<p>What are the required methods for defining an iterator? For instance, on the following Infinity iterator, are its methods sufficient? Are there other standard or de factor standard methods that define an iterator?</p>
<pre><code>class Infinity(object):
    def __init__(self):
        self.current = 0

    def __iter__(self):
        return self

    def next(self):
        self.current += 1
        return self.current
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>What you have is sufficient for Python 2.x, but in Python 3.x you need to define the function <code>__next__</code> instead of <code>next</code>, see <a href="http://www.python.org/dev/peps/pep-3114/" rel="noreferrer">PEP 3114</a>.</p>
<p>If you need code that is compatible with both 2.x and 3.x, include both.</p>
</div>
<div class="post-text" itemprop="text">
<p>According to the <a href="http://docs.python.org/glossary.html#term-iterator" rel="nofollow">glossary</a>, an iterator is any object with a <code>next()</code> method, and a <code>__iter__()</code> method.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/stdtypes.html#typeiter" rel="nofollow noreferrer">Section 4.5 - Iterator Types </a></p>
<p>You need to define for your container:</p>
<pre><code>container.__iter__() #-&gt; returns iterator
</code></pre>
<p>and for your iterator your must define:</p>
<pre><code>iterator.__iter__() #-&gt; returns self
iterator.__next__() #-&gt; returns next item
iterator.next() #(for Python2 compatibility) -&gt; returns self.__next__()
</code></pre>
</div>
<span class="comment-copy">@Arion: To define both, just add the statement <code>__next__ = next</code> at the end of the body of your class.</span>
