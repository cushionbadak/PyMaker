<div class="post-text" itemprop="text">
<p>Challenge is to improve a previous challenge, "Who's Your Daddy" (see my successful code: <a href="http://pastebin.com/AU2aRWHk" rel="nofollow">http://pastebin.com/AU2aRWHk</a>) by adding a choice that let's the user enter a name and get back a grandfather. Program should still only use one dictionary of son-father pairs.</p>
<p>I cannot get this to work. My entire code so far can be seen at: <a href="http://pastebin.com/33KrEMhT" rel="nofollow">http://pastebin.com/33KrEMhT</a></p>
<p>I've obviously made this WAY more difficult than it need to be and am now trapped in a world of complexity. Here's code I've F'd up:</p>
<pre><code># create dictionary
paternal_pairs ={"a": "b",
                 "b": "c",
                 "c": "d"}

# initialize variables
choice = None

# program's user interface
while choice != 0:
print(
"""
   Who's Yo Daddy:

   2 - Look Up Grandfather of a Son
   """
)

choice = input("What would you like to do?: ")
print() 

    # look up grandfather of a son
    if choice == "2":
        son = input("What is the son's name?: ")
        # verify input exists in dictionary
        if son in paternal_pairs.values():
            for dad, boy in paternal_pairs.items():
                if dad == son:
                    temp_son = dad
                    for ol_man, kid in paternal_pairs.items():
                        if temp_son == kid:
                            print("\nThe grandfather of", son, "is", ol_man)
                        else:
                            print("\nNo grandfather listed for", son)
                else:
                    print("\nNo grandfather listed for", son)
        # if input does not exist in dictionary:
        else:
            print("Sorry, that son is not listed. Try adding a father-son pair.")
</code></pre>
<p>After choosing "2", my output:</p>
<pre><code>What is the son's name?: d

No grandfather listed for d

No grandfather listed for d

No grandfather listed for d

No grandfather listed for d

No grandfather listed for d

No grandfather listed for d

No grandfather listed for d

No grandfather listed for d
</code></pre>
<p>Obviously temporarily trapped in a small loop and it doesn't work. All other code works as expected. Help!</p>
</div>
<div class="post-text" itemprop="text">
<p>You loop over each entry in the dict, and match the value, and if it doesn't match, then for each key-value pair you print that it doesn't match.</p>
<p>It is the equivalent of the following simplified loop:</p>
<pre><code>&gt;&gt;&gt; for i in range(3):
...     if i == 5:
...         print(i)
...     else:
...         print('Not 5')
... 
Not 5
Not 5
Not 5
</code></pre>
<p>Use the <a href="http://docs.python.org/3/reference/compound_stmts.html#the-for-statement" rel="nofollow"><code>else:</code> clause of the <code>for</code> loop</a> instead, it'll only be invoked if you completed going through all the values; use a <code>break</code> if you find a match:</p>
<pre><code>for ol_man, kid in paternal_pairs.items():
    if temp_son == kid:
        print("\nThe grandfather of", son, "is", ol_man)
        break
else:
    print("\nNo grandfather listed for", son)
</code></pre>
<p>A small demonstration of how the <code>else:</code> clause works when used with a <code>for</code> loop:</p>
<pre><code>&gt;&gt;&gt; for i in range(3):
...     if i == 1:
...         print(i)
...         break
... else:
...     print('Through')
... 
1
&gt;&gt;&gt; for i in range(3):
...     if i == 5:
...         print(i)
...         break
... else:
...     print('Through')
... 
Through
</code></pre>
<p>In the first example, we broke out of the loop with a <code>break</code>, but in the second example we never reached the <code>break</code> statement (<code>i</code> never was equal to <code>5</code>) so the <code>else:</code> clause is reached and <code>Through</code> is printed.</p>
</div>
<span class="comment-copy">What's is the error ?</span>
<span class="comment-copy">@hamza: No error, I think, just a <code>No grandfather listed for d</code> line for each entry in the dict...</span>
