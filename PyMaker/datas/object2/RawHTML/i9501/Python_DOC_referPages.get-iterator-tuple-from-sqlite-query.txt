<div class="post-text" itemprop="text">
<p>I'm connecting to an SQLite database. When querying the database in python, it returns a tuple object. I prefer to work with <code>namedtuple</code>. The problem is I can't iterate through the object more than once. I'm not sure if the issue is with the way in which I'm creating the object or if it has to do with how I'm assigning the data to the object. Here's what I have:</p>
<pre><code>import sys
import sqlite3
from collections import namedtuple

data = namedtuple('data', 'id, name')
conn = sqlite3.connect('database.db')
c = conn.cursor()

c.execute('SELECT id,name FROM my_table;')
data = map(data._make, c.fetchall())
conn.close()

for id in data: 
    print (table.id)

for id in data:
    print (table.id)

&gt;&gt;&gt;123
&gt;&gt;&gt;456
&gt;&gt;&gt;789
</code></pre>
<p>There are only 3 entries in the table right now. So I should get all 3 entries repeated, because of the second loop, but I don't. </p>
<p>I've tried changing some of the lines, similar to what is shown on the <a href="https://docs.python.org/3/library/collections.html#collections.namedtuple" rel="nofollow noreferrer">Docs page</a>, but it hasn't helped. </p>
</div>
<div class="post-text" itemprop="text">
<p>As posted by <a href="https://stackoverflow.com/users/748858/mgilson">mgilson</a>, <code>data = map(data._make, c.fetchall())</code> needs to be changed to <code>data = list(map(data._make, c.fetchall()))</code>. </p>
</div>
<span class="comment-copy">On python3.x, <code>map</code> returns an iterable object -- which can't be iterated over multiple times.  You could try <code>data = list(map(data._make, c.fetchall()))</code> ...</span>
