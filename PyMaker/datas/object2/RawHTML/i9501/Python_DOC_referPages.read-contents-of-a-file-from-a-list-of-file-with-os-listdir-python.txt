<div class="post-text" itemprop="text">
<p>I need to read the contents of a file from the list of files from a directory with <code>os.listdir</code>. My working <em>scriptlet</em> is as follows:</p>
<pre><code>import os

path = "/Users/Desktop/test/"
for filename in os.listdir(path):
    with open(filename, 'rU') as f:
      t = f.read()
      t = t.split()
      print(t)
</code></pre>
<p><code>print(t)</code> gives me all the contents from all the files at once present in the directory (<code>path</code>).</p>
<p>But I like to print the contents on first file, then contents of the second and so on, until all the files are read from in dir.</p>
<p>Please guide ! Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can print the file name.
Print the content after the file name.</p>
<pre><code>import os

path = "/home/vpraveen/uni_tmp/temp"

for filename in os.listdir(path):

    with open(filename, 'rU') as f:
      t = f.read()
      print filename + " Content  : "
      print(t)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>First, you should find the path of each file using <code>os.path.join(path, filename)</code>. Otherwise you'll loop wrong files if you change the variable <code>path</code>. Second, your script already provides the contents of all files starting with the first one. I added a few lines to the script to print the file path and an empty line to see where the contents end and begin:</p>
<pre><code>import os

path = "/Users/Desktop/test/"

for filename in os.listdir(path):
    filepath = os.path.join(path, filename)
    with open(filepath, 'rU') as f:
        content = f.read()
        print(filepath)
        print(content)
        print()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>os.listdir</code> returns the name of the files only. you need to <code>os.path.join</code> that name with the path the files live in - otherwise python will look for them in your current working directory (<code>os.getcwd()</code>) and if that happens not to be the same as <code>path</code> python will not find the files:</p>
<pre><code>import os

path = "/Users/Desktop/test/"

for filename in os.listdir(path):
    print(filename)
    file_path = os.path.join(path, filename)
    print(file_path)
    ..
</code></pre>
<p>if you have <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer"><code>pathlib</code></a> at your disposal you can also:</p>
<pre><code>from pathlib import Path

path = "/Users/Desktop/test/"

p = Path(path)
for file in p.iterdir():
    if not file.is_file():
            continue
    print(file)
    print(file.read_text())
</code></pre>
</div>
<span class="comment-copy">I don't really understand the difference between <code>all the files at once</code> and <code>contents of first file, then contents of the second and so on</code>. It does print a content of the first file, then of the second file and so on (in different lists though). Pls show us what output you get and what you are expecting to get.</span>
