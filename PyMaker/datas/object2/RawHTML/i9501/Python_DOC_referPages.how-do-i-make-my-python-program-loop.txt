<div class="post-text" itemprop="text">
<p>I am trying to make an exit function in my calculator, I tried many ways but it does not work. I don't understand how to loop my code and no website explains what to do.</p>
<p>Here is my code:</p>
<pre><code>#Variables:
about = (" + Addition, - Subtraction, * Multiplication, / Division, ** Exponent, % Remainder")

print( )

print(about)

print( )

#Functions:

#Returns the sum of num1 + num2
def add(num1, num2):
    return num1 + num2

#Returns the difference of num1 - num2
def sub(num1, num2):
    return num1 - num2

#Returns the product of num1 * num2
def mul(num1, num2):
    return num1 * num2

#Returns the quotient of num1 / num2
def div(num1, num2):
    return num1 / num2

#Returns the power of num1 ** num2
def px(num1, num2):
    return num1 ** num2

#Returns the remainder of num1 % num2
def rem(num1, num2):
    return num1 % num2

#Main area where all the magic happens

#Wrong operation
def main():
    operation = input("What do you need me for? (+,-,*,/,**,%): ")
    if(operation != '+' and operation != '-' and operation != '*'
       and operation != '/' and operation != '**' and operation != '%'):

        #invalid operation
        print("Sorry, but that's not an operation")

    #What the operations should do
    else:
        var1 = int(input("Enter num1: "))
        var2 = int(input("Enter num2: "))

        if(operation == '+'):
            print(round(add(var1, var2), 2))

        elif(operation == '-'):
            print(round(sub(var1, var2), 2))

        elif(operation == '*'):
            print(round(mul(var1, var2), 2))

        elif(operation == '/'):
            print(round(div(var1, var2), 2))

        elif(operation == '**'):
            print(round(px(var1, var2), 2))

        elif(operation == '%'):
            print(round(rem(var1, var2), 2))


    #Exit function
    close = input ("Do you want to exit?: ")
    if(close == 'Yes' and close == 'yes'):
        close()

    elif(close == 'No' and close == 'no'):
        main()


main()
</code></pre>
<p>Can someone explain to me why it's not working?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>close</code> can't be <code>'No'</code> and <code>'no'</code> at the same time, so it is always false.</p>
<p>So you probably meant <code>close == 'No' or close == 'no'</code>. But better way to do it is <code>close.lower() == 'no'</code></p>
<p>And what you are doing is not a loop but a recursion (function <code>main</code> calls itself). If you need loop then try this:</p>
<pre><code>while True:
    # your code

    close = input ("Do you want to exit?: ")
    if close.lower() == 'yes':
         break; # escapes the loop
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Replace your <code>main()</code> function with the following one:</p>
<pre><code>def main():
    close = 'no'
    while close.lower() == 'no':
        print "inside while"
        operation = input("What do you need me for? (+,-,*,/,**,%): ")
        if operation not in ['+', '-', '*', '/', '**', '%']:
            print("Sorry, but that's not an operation")

        else:
            var1 = int(input("Enter num1: "))
            var2 = int(input("Enter num2: "))
            if(operation == '+'):
                print(round(add(var1, var2), 2))

            # ...

            elif(operation == '%'):
                print(round(rem(var1, var2), 2))

        close = input ("Do you want to exit?: ")
</code></pre>
<p><code>close</code> is initialized with <code>'no'</code>, so the loop is executed at least one time.</p>
<p>Instead of <code>close == 'no' or close == 'No'</code>, you can use <code>lower()</code> like this: <code>close.lower() == 'no'</code></p>
<p>You should use:</p>
<pre><code>if operation not in ['+', '-', '*', '/', '**', '%']:
</code></pre>
<p>Instead of:</p>
<pre><code>operation != '+' and operation != '-' and operation != '*' ...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would like to exit even if the user said 'yea' or just 'y'</p>
<pre><code>while True:
    operation = input("What do you need me for? (+,-,*,/,**,%): ")
    if operation not in ['+', '-', '*', '/', '**', '%']:
        print("Sorry, but that's not an operation")
        continue
    ....
    close = input ("Do you want to exit?: ")
    if close and close[0].lower() == 'y':
        print('Bye')
        return
</code></pre>
<p>It should deal with the empty string as well, when the user just hit enter.</p>
</div>
<div class="post-text" itemprop="text">
<p>The variable close can't be 2 strings at the same time. I suggest just changing:<code>if close == "Yes" and "yes":</code> to <code>if close == "Yes "or "yes"</code> if you don't want to change your code much</p>
</div>
<span class="comment-copy">There's a lot wrong here. Recursion is not what you want to do here. Look into <code>while</code> and <code>for</code> loops.</span>
<span class="comment-copy">please consider reading the <a href="https://docs.python.org/3/tutorial/" rel="nofollow noreferrer">Python tutorial</a>.</span>
<span class="comment-copy">Welcome to StackOverflow. Congratulations on your first question. Could you please add some detail regarding in what way the code is not behaving as expected, and what errors are you getting? Be as specific as possible as it will lead to better answers.</span>
<span class="comment-copy">Thanks! It worked!</span>
<span class="comment-copy">Thanks for helping!</span>
