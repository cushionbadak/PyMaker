<div class="post-text" itemprop="text">
<p>I'm trying to force the user to input a number using try-except in python however it seems to have no effect.</p>
<pre><code>while count&gt;0:
    count=count - 1
    while (length != 8):
        GTIN=input("Please enter a product code ")
        length= len(str(GTIN))
        if length!= 8:
            print("That is not an eight digit number")
            count=count + 1
         while valid == False:
            try:
                GTIN/5
                valid = True
            except ValueError:
                 print("That is an invalid number")
                 count=count + 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Actually, if the user inputs for example a string, <code>"hello"/5</code> yields a <code>TypeError</code>, not a <code>ValueError</code>, so catch that instead</p>
</div>
<div class="post-text" itemprop="text">
<p>You could try to make the input value an int <code>int(value)</code>, which raises <code>ValueError</code> if it cannot be converted.</p>
<p>Here's a function that should do what you want with some comments:</p>
<pre><code>def get_product_code():
    value = ""
    while True:  # this will be escaped by the return
        # get input from user and strip any extra whitespace: " input  "
        value = raw_input("Please enter a product code ").strip()
        #if not value:            # escape from input if nothing is entered
        #    return None
        try:
            int(value)           # test if value is a number
        except ValueError:       # raised if cannot convert to an int
            print("Input value is not a number")
            value = ""
        else:                    # an Exception was not raised
            if len(value) == 8:  # looks like a valid product code!
                return value
            else:
                print("Input is not an eight digit number")
</code></pre>
<p>Once defined, call the function to get input from the user</p>
<pre><code>product_code = get_product_code()
</code></pre>
<p>You should also be sure to except and handle <code>KeyboardInterrupt</code> anytime you're expecting user input, because they may put in <code>^C</code> or something else to crash your program.</p>
<pre><code>product code = None  # prevent reference before assignment bugs
try:
    product_code = get_product_code()  # get code from the user
except KeyboardInterrupt:  # catch user attempts to quit
    print("^C\nInterrupted by user")

if product_code:
    pass  # do whatever you want with your product code
else:
    print("no product code available!")
    # perhaps exit here
</code></pre>
</div>
<span class="comment-copy">How would you call this?</span>
<span class="comment-copy">Once defined, the same way you would call any other function. <a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions" rel="nofollow noreferrer">Here's a fairly good explanation of that process and usage</a></span>
<span class="comment-copy">Ahhh,I see now,however I want to use this within the code,not in the shell.I will see if I can adapt this to my needs,thank you</span>
<span class="comment-copy">Anytime! This should work both within the shell and a script file. If this or another answer on SO solves a question you ask, please do mark it as the answer.</span>
