<div class="post-text" itemprop="text">
<p>Below is mwe:</p>
<pre><code>from string import Template
key_val = {'a/b/c': 1}
ans = Template('val of ${a/b/c}').substitute(key_val)
</code></pre>
<p>This gives error:</p>
<pre><code>ValueError: Invalid placeholder in string: line 1, col 8
</code></pre>
<p>However, if I replace forward slash with underscore, then it works fine.
Escaping the forward slash by appending backslash doesn't help either. </p>
</div>
<div class="post-text" itemprop="text">
<p>According to the <a href="https://docs.python.org/3/library/string.html#template-strings" rel="nofollow noreferrer">documentation</a>, the default regular expression for the placeholder value is <code>[_a-z][_a-z0-9]*</code>, which means that a <code>/</code> character is not allowed. If you want to allow this, you should subclass <code>Template</code> and redefine the <code>idpattern</code> expression:</p>
<pre><code>from string import Template

class MyTemplate(Template):
    idpattern = r"[_a-z][_a-z0-9/]*"  # allowing forward slash

key_val = {'a/b/c': 1}
ans = MyTemplate('val of ${a/b/c}').substitute(key_val)
</code></pre>
<p>Demo:</p>
<pre><code>In [8]: from string import Template

In [9]: class MyTemplate(Template):
   ...:     idpattern = r"[_a-z][_a-z0-9/]*"  # allowing forward slash
   ...:     

In [10]: key_val = {'a/b/c': 1}

In [11]: ans = MyTemplate('val of ${a/b/c}').substitute(key_val)

In [12]: ans
Out[12]: 'val of 1'
</code></pre>
</div>
<span class="comment-copy">Great! Thank you.</span>
