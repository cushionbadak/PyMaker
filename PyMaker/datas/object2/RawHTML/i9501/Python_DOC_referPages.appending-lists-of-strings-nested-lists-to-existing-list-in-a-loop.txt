<div class="post-text" itemprop="text">
<p>I need to: go over a list of text files, get file names without the path or extension, split the names into lists and create a list of those lists. The file names are in the format A1_name_id_year.txt.</p>
<p>The list of lists will be used to export to a .csv file.</p>
<p>This is the code I got so far, works fine for stripping file names.</p>
<pre><code>file_list = []
for file_name in glob.glob("C:/path/*.txt"):
    file_list.append(file_name)
file_name_nopath = os.path.basename(file_name)
file_name_noext = [os.path.splitext(file_name_nopath)[0]]
</code></pre>
<p>This is the part that I need to change:</p>
<pre><code>big_list = []
while len(big_list)&lt;len(file_list):
    for n in file_name_noext:
        file_name_elements = n.split("_")
    big_list.append(file_name_elements)

print(big_list)
</code></pre>
<p>The result is as follows:</p>
<pre><code>[['A1', 'name1', 'id1', 'year1']]
[['A2', 'name2', 'id2', 'year2'], ['A2', 'name2', 'id2', 'year2']]
[['A3', 'name3', 'id3', 'year3'], ['A3', 'name3', 'id3', 'year3'], ['A3', 'name3', 'id3', 'year3']]
...
</code></pre>
<p>However, I am trying to get a list of lists looking like this:</p>
<pre><code>[['A1', 'name1', 'id1', 'year1'], ['A2', 'name2', 'id2', 'year2'], ['A3', 'name3', 'id3', 'year3'], ...]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You do not need to use <code>while len(big_list)&lt;len(file_list)</code>. Using a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer"><code>list comprehension</code></a>, the following should work for you:</p>
<pre><code>big_list = [n.split("_") for n in file_name_noext]
</code></pre>
<p>The above line of code is equivalent to:</p>
<pre><code>big_list = []

for n in file_name_noext:
    big_list.append(n.split("_"))
</code></pre>
<p>If I understand well what you want to do, the following would be the whole code that you need:</p>
<pre><code>file_list = []
big_list = []

for file_name in glob.glob("C:/path/*.txt"):
    name = os.path.splitext(os.path.basename(file_name))[0]
    file_list.append(name)

for n in file_list:
    big_list.append(n.split("_"))
</code></pre>
<p>It can also be written in one <code>for</code> loop like below:</p>
<pre><code>big_list = []

for file_name in glob.glob("C:/path/*.txt"):
    name = os.path.splitext(os.path.basename(file_name))[0]
    big_list.append(name.split("_"))
</code></pre>
</div>
<span class="comment-copy">Thank you! This code does exactly what I needed.</span>
