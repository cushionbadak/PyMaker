<div class="post-text" itemprop="text">
<p>I am using Python 3.2 with a Mac OS Maverick and I am trying to get a .cvs file with this format:</p>
<pre><code>'Lisa plowed ', '1A', 'field', 'field', 'field', 'field', 'field'
'John greased ', '1A', 'axle', 'wheel', 'wheels', 'wheel', 'engine'
'Tracy freed ', '1A', 'animals', 'fish', 'slaves', 'slaves', 'slaves'
'Paul alleged ', '1A', 'truth', 'crime', 'facts', 'infidelity', 'incident'
</code></pre>
<p>into a dictionary, with the first item in each row being the key and the remainder of the row being values mapped to that key. 
I have tried different things, and the closest I got was with this code, but unfortunately, I am not there yet:</p>
<pre><code>   import csv

   data =open('test.csv', encoding = 'utf=8')
   reader = csv.reader(data, delimiter=",")
   for col in reader:
       print(col)
   result = {}
   for row in reader:
       key = row[0]

       result[key] = row[1:]
   print(result)
</code></pre>
<p>the result I got is just {} as if the dictionary was empty.
I would really appreciate any help on this, either by offering a new alternative or referring me to where I can find an answer.
Thanks a lot!</p>
</div>
<div class="post-text" itemprop="text">
<p>Try:</p>
<pre><code>import csv

data={}
with open('/tmp/text.txt') as fin:
    reader=csv.reader(fin, skipinitialspace=True, quotechar="'")
    for row in reader:
        data[row[0]]=row[1:]

print(data)       
# {'Lisa plowed ': ['1A', 'field', 'field', 'field', 'field', 'field'], 'Tracy freed ': ['1A', 'animals', 'fish', 'slaves', 'slaves', 'slaves'], 'Paul alleged ': ['1A', 'truth', 'crime', 'facts', 'infidelity', 'incident'], 'John greased ': ['1A', 'axle', 'wheel', 'wheels', 'wheel', 'engine']}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>After the first time you iterate over <code>reader</code>, it is empty.</p>
</div>
<div class="post-text" itemprop="text">
<p>You should be able to tell from the output what's happening. First you do this:</p>
<pre><code>for col in reader:
    print(col)
</code></pre>
<p>Since <code>reader</code> is an iterable of <em>rows</em>, this prints out every row in the CSV file. The fact that you named the variable <code>col</code> doesn't have any effect, except to confuse readers.</p>
<p>If there's a header row you want to treat specially, what you should do is this:</p>
<pre><code>headers = next(reader)
for col in headers:
    print(col)
</code></pre>
</div>
<span class="comment-copy">As a side note, you're not parsing this properly, unless you want your column values to be <code>" '1A'"</code> and the like. If your CSV uses a non-standard quote character, has (possibly optional) excess initial whitespace, etc., you have to specify the appropriate <a href="http://docs.python.org/3/library/csv.html#dialects-and-formatting-parameters" rel="nofollow noreferrer">dialect parameters</a>. But the only one you're specifying is the one that's already using the default value, <code>delimiter</code>. Try <code>quotechar="'", skipinitialspace=True</code> instead.</span>
<span class="comment-copy">result = {row[0]: row[1:] for row in reader}</span>
<span class="comment-copy">Wow! that was quick and awesome! it worked beautifully, thank you!</span>
