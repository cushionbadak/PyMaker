<div class="post-text" itemprop="text">
<p>Here is the code:</p>
<pre><code>    def readFasta(filename):
        """ Reads a sequence in Fasta format """
        fp = open(filename, 'rb')
        header = ""
        seq = ""
        while True:
            line = fp.readline()
            if (line == ""):
                break
            if (line.startswith('&gt;')):
                header = line[1:].strip()
            else:
                seq = fp.read().replace('\n','')
                seq = seq.replace('\r','')          # for windows
                break
        fp.close()
        return (header, seq)

    FASTAsequence = readFasta("MusChr01.fa")
</code></pre>
<p>The error I'm getting is:</p>
<pre><code>TypeError: startswith first arg must be bytes or a tuple of bytes, not str
</code></pre>
<p>But the first argument to <code>startswith</code> is supposed to be a string according to the docs... so what is going on?</p>
<p>I'm assuming I'm using at least Python 3 since I'm using the latest version of LiClipse.</p>
</div>
<div class="post-text" itemprop="text">
<p>It's because you're opening the file in bytes mode, and so you're calling <code>bytes.startswith()</code> and not <code>str.startswith()</code>.</p>
<p>You need to do <code>line.startswith(b'&gt;')</code>, which will make <code>'&gt;'</code> a <a href="http://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals">bytes literal</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Without having your file to test on try encoding to utf-8 on the 'open'</p>
<pre><code>fp = open(filename, 'r', encoding='utf-8')
</code></pre>
</div>
<span class="comment-copy">Ah I added b before all the strings and now it works.  Thanks!</span>
<span class="comment-copy">Hmm on a sidenote, seq = fp.read().replace(b'\n',b'') seems to be messing up the stuff that's read.  Not sure what's going on but it only seems to be iterating twice (in a 190mb file) and outputting b' each time.</span>
<span class="comment-copy">This is not backwards compatible.</span>
<span class="comment-copy">The problem is on first argument, not the second, so <code>line.startswith(b'&gt;')</code> cannot possibly solve it. <code>bytes(line).startswith('&gt;')</code>, on the other hand, could.</span>
