<div class="post-text" itemprop="text">
<p>I'm studying the OSMNX package following the examples available in Geoff Boeing's git (<a href="https://github.com/gboeing/osmnx-examples/tree/master/notebooks" rel="nofollow noreferrer">enter link description here</a>) and I'm learning a lot.
However, in example 10 (building footprints), I have a problem (I do not have the output of the footprints, as seen in the image below). </p>
<p><a href="https://i.stack.imgur.com/ZhB0H.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/ZhB0H.png"/></a></p>
<p>The codes generate the street networks of the requested urban spaces, but do not generate the footprints (as it should be, as the image below highlighted in orange).</p>
<p><a href="https://i.stack.imgur.com/1r1Wg.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/1r1Wg.png"/></a></p>
<p>Ps. I'm not changing the codes available in github, just giving "Kernel-restart &amp; clearOutput" to refactor them as I read them.</p>
<p>Ps. As in this case, it does not return an error (returns street views, but not the footprints of the overlapping buildings) I could not find the solution when I gave google.</p>
<pre><code>import osmnx as ox
from IPython.display import Image
%matplotlib inline
ox.config(log_console=True, use_cache=True)

import os
os.environ["PROJ_LIB"] = "C:/Users/My/Anaconda3/Library/share"

img_folder = 'images'
extension = 'png'
size = 240

gdf = ox.buildings_from_place(place='Piedmont, California, USA')
gdf_proj = ox.project_gdf(gdf)
fig, ax = ox.plot_buildings(gdf_proj, bgcolor='#333333', color='w', 
                        save=True, show=False, close=True, filename='piedmont_bldgs', dpi=40)
Image('{}/{}.{}'.format(img_folder, 'piedmont_bldgs', extension), height=size, width=size)
gdf_save = gdf.drop(labels='nodes', axis=1)
gdf_save.to_file('data/piedmont_bldgs')
areas = gdf_proj.area
areas.head()
sum(areas)
place = ox.gdf_from_place('Piedmont, California, USA')
place_proj = ox.project_gdf(place)
place_proj.area.iloc[0]
sum(areas) / place_proj.area.iloc[0]

point = (48.873446, 2.294255)
dist = 612
gdf = ox.buildings_from_point(point=point, distance=dist)
gdf_proj = ox.project_gdf(gdf)
bbox = ox.bbox_from_point(point=point, distance=dist, project_utm=True)
fig, ax = ox.plot_buildings(gdf_proj, bgcolor='#333333', color='w', figsize=(4,4), bbox=bbox,
                        save=True, show=False, close=True, filename='paris_bldgs', dpi=90)
Image('{}/{}.{}'.format(img_folder, 'paris_bldgs', extension), height=size, width=size)

# until that moment everything happened according to the tutorial

def make_plot(place, point, network_type='drive', bldg_color='orange', dpi=40,
          dist=805, default_width=4, street_widths=None):
gdf = ox.buildings_from_point(point=point, distance=dist)
gdf_proj = ox.project_gdf(gdf)
fig, ax = ox.plot_figure_ground(point=point, dist=dist, network_type=network_type, default_width=default_width,
                                street_widths=street_widths, save=False, show=False, close=True)
fig, ax = ox.plot_buildings(gdf_proj, fig=fig, ax=ax, color=bldg_color, set_bounds=False,
                            save=True, show=False, close=True, filename=place, dpi=dpi)

place = 'portland_buildings'
point = (45.517309, -122.682138)
make_plot(place, point)
Image('{}/{}.{}'.format(img_folder, place, extension), height=size, width=size)
# here is the problem
</code></pre>
<p>I get as output only the network of streets, without the footprint of the buildings (as shown in the first image above).</p>
<p>Info:</p>
<pre><code>Conda version: 4.6.8

version conda-build: 3.17.8

python version: 3.6.7.final.0

platform: win-64

user-agent: conda / 4.6.8 requests / 2.21.0 CPython / 3.6.7 Windows / 10 Windows / 10.0.17134

nx .__ version__ = '0.9'
</code></pre>
<p>I would be happy if you could help me.</p>
<p>Thank you very much in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>You're projecting the footprints but not the street network so they don't align in the plot. Don't project the footprints, and it should work fine.</p>
<p>The example on GitHub needs to be updated as it dates back to an earlier version of OSMnx that automatically projected the street network figure-ground diagram.</p>
</div>
<div class="post-text" itemprop="text">
<p>It is working when you do not use project_gdf as the first param in the plot_buildings funtion. Furthermore i am using the footprints module instead of the deprecated once.</p>
<pre><code>def make_plot(place, point, network_type='drive', bldg_color='orange', dpi=dpi,
          dist=805, default_width=4, street_widths=None):
gdf = ox.footprints.footprints_from_point(point=point, distance=dist)
fig, ax = ox.plot_figure_ground(point=point, dist=dist, network_type=network_type, default_width=default_width, street_widths=street_widths, save=False, show=False, close=True)
fig, ax = ox.footprints.plot_footprints(gdf, fig=fig, ax=ax, color=bldg_color, set_bounds=False, save=True, show=False, close=True, filename=place, dpi=dpi)
</code></pre>
<p>edit: just open a pull request with this improvement: <a href="https://github.com/gboeing/osmnx-examples/pull/20" rel="nofollow noreferrer">enter link description here</a></p>
</div>
<span class="comment-copy">Working perfectly, thank you for your attention.</span>
<span class="comment-copy">Flip,   Working perfectly, thanks for the answer.</span>
