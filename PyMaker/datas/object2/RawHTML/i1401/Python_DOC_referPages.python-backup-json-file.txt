<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/123198/how-do-i-copy-a-file-in-python">How do I copy a file in Python?</a>
<span class="question-originals-answer-count">
                    15 answers
                </span>
</li>
</ul>
</div>
<p>How to add a command for discord py to to backup a JSON file and save as duplicate name.</p>
<p>Example: If i have <strong>amounts.json</strong> file in same directory of bot.py.</p>
<p>i want it to create a back up with duplicate number while it saves everytime.</p>
</div>
<div class="post-text" itemprop="text">
<p>I'm not sure what your needs are. If you want to save the current <code>amounts</code> to <code>amounts.json</code> file and overwrite it every time, your code in the question would suffice.</p>
<p>If you want to save the <code>amounts</code> to a <strong>different file</strong> so that you can say look back and see the contents of <code>amounts</code> at a some previous time, you can add timestamp to your file by </p>
<p>(assuming you had imported <code>datetime</code> by <code>from datetime import datetime</code></p>
<pre><code>def _save_with_timestamp():
    with open('amounts-{}.json'.format(datetime.now().strftime('%Y-%m-%d-%X')), 'w+') as f:
        json.dump(amounts, f)
</code></pre>
<p>Say, at <code>2018-11-29-19:00:01</code> you pressed save and then the contents of <code>amounts</code> might be saved to a <code>json</code> file named <code>amounts-2018-11-29-19:00:02.json</code>.</p>
</div>
<span class="comment-copy">You can see an example of how to version file backups here: <a href="https://stackoverflow.com/questions/46872708/versioning-file-name-using-python" title="versioning file name using python">stackoverflow.com/questions/46872708/â€¦</a></span>
<span class="comment-copy">One easy thing you can do is to timestamp it.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/time.html#time.time" rel="nofollow noreferrer"><code>time.time()</code></a> might be helpful</span>
<span class="comment-copy">you can add that to your filename. for a more readable timestamp you need to <code>from datetime import datetime</code>. And every time you save it, you save it to a filename <code>'amounts-{}'.format(datetime.now().strftime('%Y-%m-%d-%X'))</code></span>
<span class="comment-copy"><code>open('amounts.json', 'w+')</code> to <code>'amounts-{}'.format(datetime.now().strftime('%Y-%m-%d-%X'))</code>, its the filename you want to change right, the <code>open</code> statement creates a new file for you to write (hence the <code>w+</code>) as the second argument</span>
<span class="comment-copy">are you calling <code>_save_with_timestamp</code>?</span>
<span class="comment-copy">you need <code>from datetime import datetime</code> at the top to user <code>datetime</code></span>
<span class="comment-copy">Ok finally worked thank you.</span>
