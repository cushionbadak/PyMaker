<div class="post-text" itemprop="text">
<p>I use regex to detect numbers from "0" to "999 999 999" inside a string in Python.</p>
<pre><code>import re

test_string = "b\'[&lt;span id=\"prl\"&gt;114 893&lt;/span&gt;]\'"

working_pattern = "\d{1,3}\s\d{3}"
non_working_pattern = "\d{1,3}(\s\d{3}){0,2}"

wk_ptrn = re.findall(working_pattern, test_string)
non_wk_ptrn = re.findall(non_working_pattern, test_string)

print(wk_ptrn)
print(non_wk_ptrn)
</code></pre>
<p>The results are :</p>
<p><code>print(wk_ptrn)</code> displays : <code>['114 893']</code><br/>
<code>print(non_wk_ptrn)</code> displays : <code>[' 893']</code> (with a space before the first digit)</p>
<p>The non_working_pattern is <code>"\d{1,3}(\s\d{3}){0,2}"</code> </p>
<pre><code>\d{1,3} :
</code></pre>
<p>detects 1 to 3 digits [0 to 999]</p>
<pre><code>\s\d{3} : 
</code></pre>
<p>detects any white space followed by 3 digits [" 000" to " 999"]</p>
<pre><code>{0,2} : 
</code></pre>
<p>is a quantifier so I can detect <code>"0" (quantifier = 0)</code> to <code>"999[ 999][ 999]" (quantifier = 2)</code>.</p>
<p>I don't understand why <code>"\d{1,3}(\s\d{3}){0,2}</code>" doesn't work .<br/>
Can you please help me figure out the mistake ?</p>
<p>Thank you. Regards.</p>
</div>
<div class="post-text" itemprop="text">
<p>You are almost there, but you should change it as follows:</p>
<pre><code>pattern = "\d{1,3}(?:\s\d{3}){0,2}"
</code></pre>
<p>The <code>?:</code> makes the group non-capturing so that <a href="https://docs.python.org/3/library/re.html#re.findall" rel="nofollow noreferrer"><code>findall</code></a> will return the entire matches, and not just the groups. As stated by the linked docs:</p>
<blockquote>
<p>If one or more groups are present in the pattern, return a list of groups</p>
</blockquote>
</div>
<span class="comment-copy">Duplicate of <a href="https://stackoverflow.com/questions/31915018/python-re-findall-behaves-weird">Python re.findall behaves weird</a>.</span>
<span class="comment-copy">It works perfectly thank you very much.</span>
<span class="comment-copy">mark as resolved</span>
