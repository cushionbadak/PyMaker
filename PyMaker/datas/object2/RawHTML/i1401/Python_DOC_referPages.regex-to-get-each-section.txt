<div class="post-text" itemprop="text">
<p>Below is the content:
<code>
router eigrp 1
  redistribute ospf 14 route-map test2
  redistribute static
  vrf Automation
    autonomous-system 52
    exec-timeout 5
    default
router ospf 14
  router-id 1.1.1.1
  area 0.0.0.25 nssa
  redistribute static route-map test1
  redistribute eigrp 10 route-map test2
  area 0.0.0.0 range 10.10.10.0/24
  area 0.0.0.0 authentication message-digest
  area 0.0.0.25 authentication message-digest
  log-adjacency-changes
  maximum-paths 8
  auto-cost reference-bandwidth 10 Gbps
</code></p>
<p>Need help with regex to capture first section of eigrp starting with router eigrp and capturing anything indented by either 2 space or 4 spaces. Same thing for second section starting with router ospf. greedy=yes. Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use the following regex combined with the <a href="https://docs.python.org/3/library/re.html#re.MULTILINE" rel="nofollow noreferrer">multiline</a> flag:</p>
<p><a href="https://regex101.com/r/d2kXyZ/1" rel="nofollow noreferrer"><code>^router (?:.*)(?:\n .*)*</code></a></p>
</div>
<span class="comment-copy">What is the language/tool?</span>
<span class="comment-copy">ansible and python</span>
<span class="comment-copy">The following pattern works in C#: <code>string pattern = @"router eigrp 1\r((\s{4}|\s{2}).+?\r)+";</code></span>
<span class="comment-copy">When I put this into <a href="https://regex101.com/" rel="nofollow noreferrer">regex101.com</a> didn't work.</span>
<span class="comment-copy">keep it simple, just filter on lines with a space: <code>grep '^\s'</code></span>
