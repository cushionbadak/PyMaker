<div class="post-text" itemprop="text">
<p>I'm loving the new f-Strings in python 3.6, but I'm seeing a couple issues when trying to return a String in the expression.
The following code doesn't work and tells me I'm using invalid syntax, even though the expression itself is correct.</p>
<pre><code>print(f'{v1} is {'greater' if v1 &gt; v2 else 'less'} than {v2}') # Boo error
</code></pre>
<p>It tells me that <code>'greater'</code> and <code>'less'</code> are unexpected tokens. If I replace them with two variables containing the strings, or even two integers, the error disappears.</p>
<pre><code>print(f'{v1} is {10 if v1 &gt; v2 else 5} than {v2}') # Yay no error
</code></pre>
<p>What am I missing here?</p>
</div>
<div class="post-text" itemprop="text">
<p>You must still respect rules regarding <a href="https://stackoverflow.com/questions/9050355/using-quotation-marks-inside-quotation-marks">quotes within quotes</a>:</p>
<pre><code>v1 = 5
v2 = 6

print(f'{v1} is {"greater" if v1 &gt; v2 else "less"} than {v2}')

# 5 is less than 6
</code></pre>
<p>Or possibly more readable:</p>
<pre><code>print(f"{v1} is {'greater' if v1 &gt; v2 else 'less'} than {v2}")
</code></pre>
<p>Note that regular strings permit <code>\'</code>, i.e. use of the backslash for quotes within quotes. This is not permitted in f-strings, <a href="https://www.python.org/dev/peps/pep-0498/#specification" rel="nofollow noreferrer">as noted in PEP498</a>:</p>
<blockquote>
<p>Backslashes may not appear anywhere within expressions.</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>Just mix the quotes, check <em>howto</em> <a href="https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals" rel="nofollow noreferrer">Formatted string literals</a></p>
<pre><code>print(f'{v1} is {"greater" if v1 &gt; v2 else "less"} than {v2}')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Quotation marks cause the error.</p>
<p>Use this:</p>
<pre><code>print(f'{v1} is {"greater" if v1 &gt; v2 else "less"} than {v2}') 
</code></pre>
</div>
<span class="comment-copy">The syntax highlighting in your editor or even here on StackOverflow is a clue as well :)</span>
<span class="comment-copy">Of course, why didn't I think of that first hahah</span>
