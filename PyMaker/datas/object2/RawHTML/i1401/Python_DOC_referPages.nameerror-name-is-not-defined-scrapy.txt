<div class="post-text" itemprop="text">
<p>I am working on a web crawler using scrapy 1.5 and am getting an error that row_list is not defined when it is. I believe this is a global issue but am not sure what would be the proper way to correct this. The reason I am keeping the code like this is because I need sublists with all the details in a row. So I can use the first element in the list as a key and join everything else after the first element into 1 element stored in the second position. I have to yield a dictionary and need it in this format. any help would be great.</p>
<pre><code>def forklift_detail_parse(self, response):
    final_dict = {}
    # get the table with html tr and td
    table_list = response.css('div.block-wrapp.full-title.product-info &gt; span &gt; div &gt; table &gt; tr').extract()

    for rows in table_list:
        row_list = Selector(text=rows).css(
            'td::text, td &gt; span::text, #pc-price &gt; span:nth-child(1)::text, tr &gt; td &gt; div::text').extract()
        if len(row_list) &lt;= 1:
            del row_list
        if len(row_list[1:]) &gt; 1:
            row_list[1] = ''.join(row_list[1:])
            del row_list[2:]

        final_dict.update(row_list)




line 5 NameError: name 'row_list' is not defined
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It seems that the issue is that you're calling <code>del row_list</code> and, after that, you try to update <code>final_dict</code> with that name.</p>
<p>Check out this example:</p>
<pre><code>&gt;&gt;&gt; x = 1
&gt;&gt;&gt; x
1
&gt;&gt;&gt; del x
&gt;&gt;&gt; x
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-8-6fcf9dfbd479&gt; in &lt;module&gt;
----&gt; 1 x

NameError: name 'x' is not defined
</code></pre>
<p>When you call <code>del row_list</code>, the <code>row_list</code> name is gonna be removed from the namespace, thus you can't access it.</p>
<p>More about the <code>del</code> statement: <a href="https://docs.python.org/3/reference/simple_stmts.html#del" rel="nofollow noreferrer">https://docs.python.org/3/reference/simple_stmts.html#del</a></p>
</div>
<span class="comment-copy">Thank you! I just realized what I was doing. I meant to delete a sub list within row_list not the whole list.</span>
