<div class="post-text" itemprop="text">
<p>Is there a way to use a 'for loop' or something similar to run through the code to create multiple DataFrames with Pandas that I can assign to separate variables, instead of hardcoding both DataFrames? </p>
<p>If I add new tickers it wouldn't be efficient to keep hardcoding them.</p>
<pre><code>import pandas_datareader as pdr
from datetime import datetime

Equity_Tickers = ["FB", "MSFT"]

start = datetime(2018, 9, 15)
end = datetime.today().date()

# First DataFrame 
data = pdr.DataReader(Equity_Tickers[0], 'yahoo', start, end)
df = data[['Adj Close']]

# Second DataFrame
data = pdr.DataReader(Equity_Tickers[1], 'yahoo', start, end)
df1 = data[['Adj Close']]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could certainly use a variable instead of hard-coding the ticker:</p>
<pre><code>ticker = Equity_Tickers[0]  # FB
data = pdr.DataReader(ticker, 'yahoo', start, end)
</code></pre>
<p>To create a loop, you could do something like:</p>
<pre><code>for ticker in Equity_Tickers:
    data = pdr.DataReader(ticker, 'yahoo', start, end)
    df = data[['Adj Close']]
</code></pre>
<p>The tricky thing is storing the <code>df</code> variable in each iteration of the loop instead of overwriting it. One solution is to store each DataFrame in a list or dictionary.</p>
<pre><code>frames = []
for ticker in Equity_Tickers:
    data = pdr.DataReader(ticker, 'yahoo', start, end)
    frames.append(data[['Adj Close']])

# eg, use frames[0] to access first ticker's DataFrame
</code></pre>
<p>OR</p>
<pre><code>frames = {}
for ticker in Equity_Tickers:
    data = pdr.DataReader(ticker, 'yahoo', start, end)
    frames[ticker] = data[['Adj Close']]

# eg, use frames['FB'] to access FB ticker's DataFrame
</code></pre>
<p>If you're feeling really fancy you could also use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> / dictionary comprehension to accomplish this in one line:</p>
<pre><code># list comprehension
frames = [pdr.DataReader(t, 'yahoo', start, end)[['Adj Close']] for t in Equity_Tickers]

# dict comprehension
frames = {t: pdr.DataReader(t, 'yahoo', start, end)[['Adj Close']] for t in Equity_Tickers}
</code></pre>
<p><strong>Additional note:</strong> You might also consider combining the frames into one large DataFrame, perhaps a <a href="http://www.jeannicholashould.com/tidy-data-in-python.html" rel="nofollow noreferrer">tidy-style DataFrame</a> where "ticker" is a field for each row.</p>
</div>
