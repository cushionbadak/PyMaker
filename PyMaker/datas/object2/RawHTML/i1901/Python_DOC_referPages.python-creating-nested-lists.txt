<div class="post-text" itemprop="text">
<p>I am working on a program that will take lists and return a list with nested lists of adjacent identical values. For example an input list of </p>
<pre><code>[1,2,4,5,5,7,6,6,6] 
</code></pre>
<p>would return </p>
<pre><code>[1,2,4,[5,5],7,[6,6,6]]
</code></pre>
<p>How would i go about programming a function to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="noreferrer"><code>itertools.groupby</code></a> to group everything into lists of adjacent identical values, then unpack the lists of length one out of the nested lists:</p>
<pre><code>from itertools import groupby

def group_adjacent(iterable):
    lists = (list(g) for k, g in groupby(iterable))
    return [subl[0] if len(subl) == 1 else subl for subl in lists]

group_adjacent([1,2,4,5,5,7,6,6,6])
# [1, 2, 4, [5, 5], 7, [6, 6, 6]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Pure basic python solution:</p>
<p>Create a new list and append to it with past tracking:</p>
<pre><code>new_list = []
temp_list = []
for i in old_list:
    if temp_list and i == temp_list[-1]:
        temp_list.append(i)
        continue
    if len(temp_list) == 1:
        new_list.append(temp_list[0])
    elif temp_list: # avoid first case.
        new_list.append(temp_list)
    temp_list = [i]
if len(temp_list) == 1:
    new_list.append(temp_list[0])
else:
    new_list.append(temp_list)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Approach with only for loop:</p>
<pre><code>list = [1,2,2,2,3,4,4,4,4,4,4,5,6,7,8,8,8,8,8,9,9]
out = []
t = []
i = 0
first = True
for v in list:
  n = ''
  if (i+1) &lt; len(list):
    n = list[i+1]
  if v == n:
    t.append(v)
  else:
    if len(t) &gt; 0:
      t.append(v)
      out.append(t)
    else:
      out.append(v)
    t = []
  i+=1

print(out)
</code></pre>
<p>output:</p>
<blockquote>
<p>[1, [2, 2, 2], 3, [4, 4, 4, 4, 4, 4], 5, 6, 7, [8, 8, 8, 8, 8], [9, 9]]</p>
</blockquote>
</div>
<span class="comment-copy">What have you tried so far?</span>
<span class="comment-copy">You really should show how you tried to approach the problem when asking your next question. Welcome to stackoverflow!</span>
