<div class="post-text" itemprop="text">
<p>I'm trying to export JSON API result into a CSV file. And I am having a formatting issue in CSV.</p>
<h2>JSON API result</h2>
<blockquote>
<p>{'CASSReportLink': '<a href="https://smartmover.melissadata.net/v3/Reports/CASSReport.aspx?tkenrpt=YvBDs39g52jKhLJyl5RgHKpuj5HwDMe1pE2lcQrczqRiG3/3y5yMlixj5S7lIvLJpDyAOkD8fE8vDCg56s3UogNuAkdTbS2aqoYF5FvyovUjnXzoQaHaL8TaQbwyCQ2RB7tIlszGy5+LqFnI7Xdr6sjYX93FDkSGei6Omck5OF4=" rel="nofollow noreferrer">https://smartmover.melissadata.net/v3/Reports/CASSReport.aspx?tkenrpt=YvBDs39g52jKhLJyl5RgHKpuj5HwDMe1pE2lcQrczqRiG3/3y5yMlixj5S7lIvLJpDyAOkD8fE8vDCg56s3UogNuAkdTbS2aqoYF5FvyovUjnXzoQaHaL8TaQbwyCQ2RB7tIlszGy5+LqFnI7Xdr6sjYX93FDkSGei6Omck5OF4=</a>', 'NCOAReportLink': '<a href="https://smartmover.melissadata.net/v3/Reports/NCOAReport.aspx?tkenrpt=8anQa424W7NYg8ueROFirapuj5HwDMe1pE2lcQrczqRiG3/3y5yMlixj5S7lIvLJpDyAOkD8fE8vDCg56s3UogNuAkdTbS2aqoYF5FvyovUjnXzoQaHaL8TaQbwyCQ2RB7tIlszGy5+LqFnI7Xdr6sjYX93FDkSGei6Omck5OF4=" rel="nofollow noreferrer">https://smartmover.melissadata.net/v3/Reports/NCOAReport.aspx?tkenrpt=8anQa424W7NYg8ueROFirapuj5HwDMe1pE2lcQrczqRiG3/3y5yMlixj5S7lIvLJpDyAOkD8fE8vDCg56s3UogNuAkdTbS2aqoYF5FvyovUjnXzoQaHaL8TaQbwyCQ2RB7tIlszGy5+LqFnI7Xdr6sjYX93FDkSGei6Omck5OF4=</a>', 'Records': [{'AddressExtras': '', 'AddressKey': '78704,78704', 'AddressLine1': '                                                            ,                                                            ,                                                            ,STE C-100                                                   ', 'AddressLine2': '1009 W MONROE ST                                            ,1600 S 5TH ST                                               ,1008 W MILTON ST                                            ,3939 BEE CAVES RD                                           ', 'AddressTypeCode': '', 'BaseMelissaAddressKey': '', 'CarrierRoute': '', 'City': 'Austin                                            ,Austin                                            ,Austin                                            ,Austin                                            ', 'CityAbbreviation': 'Austin                                            ,Austin                                            ,Austin                                            ,Austin                                            ', 'CompanyName': '', 'CountryCode': 'US', 'CountryName': 'United States', 'DeliveryIndicator': '', 'DeliveryPointCheckDigit': '', 'DeliveryPointCode': '', 'MelissaAddressKey': '', 'MoveEffectiveDate': '', 'MoveTypeCode': '', 'PostalCode': '78704,78704,78704,78746', 'RecordID': '1', 'Results': 'AE07', 'State': '', 'StateName': 'TX                                                ,TX                                                ,TX                                                ,TX                                                ', 'Urbanization': ''}], 'TotalRecords': '1', 'TransmissionReference': '1353', 'TransmissionResults': '', 'Version': '4.0.4.48'}
  [Finished in 2.6s]</p>
</blockquote>
<h2>Python query</h2>
<pre><code>r = response.json()


output_1 = []
output_1.append("AddressLine2")

# Collect only Address Line 2 from the JSON output. properly encode/decode the string and add it to output_1. 
for record in r['Records']:
    addressline2 = record['AddressLine2']
    addressline2.split(",")
    print(addressline2)
    output_1.append(addressline2)

print(output_1)

# Write the values to a column
with open(r"C:\users\testu\documents\travis_output.csv", 'w') as fp:
    writer = csv.writer(fp, dialect = 'excel')
    for val in output_1:
        writer.writerow([val])
</code></pre>
<h2>Result I am getting</h2>
<p><a href="https://i.stack.imgur.com/E52DS.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/E52DS.png"/></a></p>
<h2>Result I want</h2>
<p><a href="https://i.stack.imgur.com/MHvp2.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/MHvp2.png"/></a></p>
<p>I thought addressline2.split(",") should do its job but it didn't work. Thanks for any help!</p>
</div>
<div class="post-text" itemprop="text">
<p>this would give you your result:</p>
<pre><code>output_1 += addressline2.split(",") 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are running <code>addressline2.split(",")</code>, but you aren't using the output of that operation in your CSV, instead you're just re-using <code>addressline2</code> again. The <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow noreferrer">split method</a> creates a new variable as the output of the function, it doesn't transform the original variable into a list.</p>
<p>You need to capture the output, e.g.</p>
<pre><code>output_1.append(addressline2.split(","))
</code></pre>
</div>
<span class="comment-copy">Thank you for the code snippet, which might provide some limited, immediate help. A proper explanation would greatly improve its <a href="https://meta.stackexchange.com/q/114762/206345">long-term value</a> by describing why this is a good solution to the problem, and would make it more useful to future readers with other similar questions. Please edit your answer to add some explanation, including the assumptions you've made.</span>
<span class="comment-copy">Thanks it worked!</span>
