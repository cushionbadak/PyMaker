<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/842059/is-there-a-portable-way-to-get-the-current-username-in-python">Is there a portable way to get the current username in Python?</a>
<span class="question-originals-answer-count">
                    12 answers
                </span>
</li>
</ul>
</div>
<p>I have a code that makes a folder:</p>
<pre><code>if not os.path.exists('C:\\Users\\MYNAME\\Documents\\Myfiles):
     os.chdir('C:\\Users\\MYNAME\\Documents')
     os.mkdir('Myfiles')
</code></pre>
<p>I want this to be able to run on any computer, so how can I get the default user without asking and doing something like:</p>
<pre><code>DefaultUser = input('What is the default user for this PC?: ')
if not os.path.exists('C:\\Users\\' + DefaultUser + '\\Documents\\Myfiles'):
    os.chdir('C:\\Users\\' + DefaultUser + '\\Documents')
    os.mkdir('Myfiles')
</code></pre>
<p><strong>EDIT: By default user, I mean the one currently running the program.</strong></p>
</div>
<div class="post-text" itemprop="text">
<p>You can try the following to first get the username using <code>getpass</code> and then use it in the path using a placeholder <code>%s</code>. I tried it on my Mac and it returned the correct username.</p>
<pre><code>import getpass
Name = getpass.getuser()
print (Name) # To confirm that it gives the correct username

if not os.path.exists('C:\\Users\\%s\\Documents\\Myfiles' %Name):
    os.chdir('C:\\Users\\%s\\Documents' %Name)
    os.mkdir('Myfiles')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Since you're already using <code>os</code>, make use of the <code>expanduser()</code> method in <code>path</code>:</p>
<pre><code>import os
curdir = os.path.expanduser('~/Documents')
# 'C:\\Users\\me/Documents'
newdir = 'Myfiles'
if not os.path.exists(os.path.join(curdir, newdir)):
    os.chdir(curdir)
    os.mkdir(newdir)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Since the answer is about the process owner</p>
<pre><code>import os
import psutil

# get the PID
pid = os.getpid()

# get the username
username = psutil.Process(pid).username
</code></pre>
<p>Untested, but should work on Windows and Linux</p>
</div>
<span class="comment-copy">Can't you just use <code>%HOMEDRIVE%%HOMEPATH%</code>?</span>
<span class="comment-copy">You can use <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.home" rel="nofollow noreferrer">Path.home()</a> from pathlib</span>
