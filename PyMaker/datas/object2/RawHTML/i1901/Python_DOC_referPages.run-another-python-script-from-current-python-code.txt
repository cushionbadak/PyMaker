<div class="post-text" itemprop="text">
<p>I have following code:</p>
<pre><code>import os
import sys
from random import randint

code = """import os
import sys
from random import randint
from main import code

name = str(randint(0, sys.maxsize))
f = open(name + '.py', 'w+')
f.write(code)
os.system('/usr/local/bin/python3.6 ' + name + '.py')
"""


name = str(randint(0, sys.maxsize))
f = open(name + '.py', 'w+')
f.write(code)
os.system('/usr/local/bin/python3.6 ' + name + '.py')
</code></pre>
<p>he should create a script with a random name, and execute the. Script created, but he don't execute.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>exec(open(‘script.py’).read())</code> should work. Note that the code will be executed in the current environment (current working directory etc)</p>
<p>Another way is of course running a command as if in a shell. One module that can simulate the full power of a shell is the package <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer"><code>subprocess</code></a>, where you would be able to take care of <code>stdin</code>, <code>stdout</code> and <code>stderr</code> as well.</p>
</div>
<span class="comment-copy">Have you tried looking at the files? Is there code in them? Because you're not closing/flushing the file</span>
<span class="comment-copy">Thank you. All I had to do was close the file.</span>
<span class="comment-copy">He still don't run</span>
