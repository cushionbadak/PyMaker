<div class="post-text" itemprop="text">
<p>I've been trying to add a function to my code which allows the user to search for certain keywords within a list of lists. It only works when the input is identical to the element but I want every element that contains the input to show.</p>
<pre><code>infil = open("books.txt" , "r")
books_string = infil.read()
infil.close()
books_li = books_string.splitlines()
books_li.sort()

li_to_present= []
for element in books_li:
    parts = element.split(",")
    li_to_present.append(parts)

user_in = input("Search: ")
matches = [x for x in li_to_present if user_in in x]
</code></pre>
<p>Example:
Part of the list <code>li_to_present</code> is:</p>
<pre><code>['Birgitta Trotzig', ' Dykungens dotter'], ['Bo Giertz', ' Stengrunden']
</code></pre>
<p>If the users input is <code>"Birgitta"</code> it won't append to the new list matches</p>
<p>Does anyone have a nice solution to this problem?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/functions.html#all" rel="nofollow noreferrer"><code>all()</code></a> function on a generator which yields whether the user input is in each string the sub-lists.</p>
<pre><code>user_in = input("Search: ")
matches = [l for l in li_to_present if any(user_in in s for s in l)]
</code></pre>
<p>E.g.</p>
<pre><code>&gt;&gt;&gt; li_to_present = [['Birgitta Trotzig', ' Dykungens dotter'],
                     ['Bo Giertz', ' Stengrunden']]
&gt;&gt;&gt; user_in = input("Search: ")
Search: Birgitta
&gt;&gt;&gt; matches = [l for l in li_to_present if any(user_in in s for s in l)]
&gt;&gt;&gt; matches
[['Birgitta Trotzig', ' Dykungens dotter']]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import re

infil = open("books.txt" , "r")
books_string = infil.read()
infil.close()
books_li = books_string.splitlines()
books_li.sort()


li_to_present = []
for element in books_li:
    parts = element.split(",")
    li_to_present.append(parts)

user_in = input("Search: ")
matches = [x for x in li_to_present if re.search(user_in, x)]
</code></pre>
</div>
<span class="comment-copy">Thank you, now it actually appends the element. But do you know how I can append the whole list which contains the element "Birgitta", i.e. ['Birgitta Trotzig', ' Dykungens dotter'] to the matches list?</span>
<span class="comment-copy">@Robin Sure thing. Please accept :)</span>
