<div class="post-text" itemprop="text">
<p>For a holiday homework, in a password-check python program, I'd like to use <em>regexs</em> to find if the name (or a "piece" of the name, <strong>meaning 2 consecutive letters</strong>) of the user is contained into a password he provided.</p>
<h2>Part 1: the regex itself</h2>
<p>Let's say the user is named <em>Samuel</em>:</p>
<ul>
<li><p>password that would match:</p>
<pre>
samuel
sAm123
123Sam
lSAMUo
sa
</pre></li>
<li><p>password that wouldn't match:</p>
<pre>
s3m
leumas
sml
s123
</pre></li>
</ul>
<p>So far, I've only succeeded to do this incomplete regex: </p>
<pre><code>[sS]?[aA]?[mM]?[uU]?[eE]?[lL]?
</code></pre>
<p>But it matches if there is only one letter from the regex in the password and also when it's not 2 consecutive letters.</p>
<p><em><strong>How can I enhance the regex?</strong></em></p>
<h2>Part 2: the python use</h2>
<p>When I use the <code>search</code> function from <code>re</code> package, it only matches my previous regex if it's at the begening of the string. Here is a sample code of a case that should work:</p>
<pre><code>import re
reg = r"[sS]?[aA]?[mM]?[uU]?[eE]?[lL]?"
re.match(reg, "samuel")  # Match
re.match(reg, "sml")  # Match
re.match(reg, "123sam")  # Doesn't match
re.match(reg, "zzzSAmu")  # Doesn't match
</code></pre>
<p><em><strong>What am I missing?</strong></em></p>
</div>
<div class="post-text" itemprop="text">
<p>You can try:</p>
<pre><code>import re

pattern = r"(?i)sa|am|mu|ue|el"
for _string in ("samuel", "sAm123", "1235Sam", "lSAMUo", "sa"):
    assert re.search(pattern, _string) is not None

for _string in ("s3m", "leumas", "sml", "s123"):
    assert re.search(pattern, _string) is None
</code></pre>
<p>The main takes here are:</p>
<ul>
<li>use <code>re.search()</code> rather than <code>re.match()</code>, as the <a href="https://docs.python.org/3/library/re.html#re.match" rel="nofollow noreferrer">documentation</a> puts it:

<blockquote>
<p>If you want to locate a match anywhere in string, use search() instead (see also search() vs. match()).</p>
</blockquote></li>
<li><code>(?i)</code> makes the regex case insensitive</li>
</ul>
<p>Credits to @sin for suggesting using pairs of characters in the question's comments</p>
</div>
<span class="comment-copy">This might be helpful for testing regexp: <a href="https://regex101.com/" rel="nofollow noreferrer">regex101</a></span>
<span class="comment-copy">Do you mean <code>(?: sa | am | mu | ue | el )</code> ?</span>
