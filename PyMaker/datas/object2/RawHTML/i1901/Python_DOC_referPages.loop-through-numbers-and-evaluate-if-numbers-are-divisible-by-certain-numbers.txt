<div class="post-text" itemprop="text">
<p>i wrote a program to evaluate what numbers in a certain range are divisble by only certain numbers (in the range <code>1</code> to <code>9</code>). So far the code seems to work but i tested the steps it takes through at pythontutor <a href="http://www.pythontutor.com/visualize.html#mode=edit" rel="nofollow noreferrer">http://www.pythontutor.com/visualize.html#mode=edit</a> and something odd happened.</p>
<p>In the second loop, the code doesnt always check all values <code>(k)</code> for its divisibility but sometimes leaves out the last value <code>(k)</code>.
Better to give you an example:</p>
<pre><code>Liste = []
for i in range (1500, 1700):
    if i%5 == 0 and i%7 == 0:
        Liste.append(i)
print (Liste)

Teiler = [2, 3, 4, 6, 8, 9]
for k in Liste:
    z = 0
    for w in range (len(Teiler)):
        if k%Teiler[z] == 0:
            Liste.remove(k)
            z += 1
            break
        else:
            z += 1

print (Liste)
</code></pre>
<p>Here the output is as follows:</p>
<pre><code>[1505, 1540, 1575, 1610, 1645, 1680]

[1505, 1575, 1645]
</code></pre>
<p>And its the output that its supposed to be, as in the second list are only the numbers divisible by <code>5</code> and <code>7</code>. Also on pythontutor the second for loop goes through all values <code>(k)</code>.</p>
<p>But when i change the range of number like the following (line 2, change range from <code>1700</code> to <code>1800</code>):</p>
<pre><code>Liste = []
for i in range (1500, 1800):
    if i%5 == 0 and i%7 == 0:
        Liste.append(i)
print (Liste)

Teiler = [2, 3, 4, 6, 8, 9]
for k in Liste:
    z = 0
    for w in range (len(Teiler)):
        if k%Teiler[z] == 0:
            Liste.remove(k)
            z += 1
            break
        else:
            z += 1

print (Liste)
</code></pre>
<p>the output is as the following:</p>
<pre><code>[1505, 1540, 1575, 1610, 1645, 1680, 1715, 1750, 1785]

[1505, 1575, 1645, 1715, 1785]
</code></pre>
<p>If i run this code on pythontutor, the code stops at <code>k = 1750</code> and doesnt check for <code>k = 1785</code>.</p>
<p>Why is it behaving that way? 
Is it a problem with the check on pythontutor?
Or is there a problem with my code?</p>
<p>I want to understand why Python is doing what it does.</p>
<p>Thank you very much for your help. Iam sorry if this is a noob question or iam missing out something obvious. </p>
</div>
<div class="post-text" itemprop="text">
<p>Don't remove items from the list you iterate over, as the other answer states.  Changing the length of the list affects the iteration.  Example:</p>
<pre><code>&gt;&gt;&gt; L=list(range(10))
&gt;&gt;&gt; for i in L:
...   if i==5: L.remove(i)
...   print(i)
...
0
1
2
3
4
5  # removed 5, and skipped 6!
7
8
9
</code></pre>
<p>Also <code>w</code> is never used, although <code>z</code> is the equivalent. Instead, iterate directly over <code>Teiler</code> and add items to a new list if it satisfies your condition:</p>
<pre><code>Liste = []
for i in range (1500, 1800):
    if i%5 == 0 and i%7 == 0:
        Liste.append(i)
print (Liste)

Liste2 = []
Teiler = [2, 3, 4, 6, 8, 9]
for k in Liste:
    for w in Teiler:
        if k % w == 0:
            break
    else:
        Liste2.append(k)

print(Liste2)
</code></pre>
<p>Output:</p>
<pre><code>[1505, 1645, 1715]
</code></pre>
<p>If you haven't seen <code>for/else</code>, the <code>else</code> only executes if you don't break from the <code>for</code> loop, so all of <code>k % w != 0</code> has to be true.  </p>
<p>Another option is to use <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehensions</a>, which really simplify the code:</p>
<pre><code>L = [i for i in range(1500,1800) if i%5 == 0 and i%7 == 0]
L = [x for x in L if all(x % k != 0 for k in (2,3,4,6,8,9))]
print(L)
</code></pre>
<p>Output:</p>
<pre><code>[1505, 1645, 1715]
</code></pre>
<p>Note 1575 and 1785 are divisible by 3, so both your sample lists had errors from removing values in the list.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your problem is in this line:</p>
<pre><code>Liste.remove(k)
</code></pre>
<p>because you are removing element from the same list that you use for the for loop so when you delete an element the list is going to be shorter but next iteration you will jump an element.</p>
<p>I advice to use two list or use a while loop and when you remove the element from list you don't go to next iteration and you decrease the len of the list of 1; example:</p>
<pre><code>Liste = []
for i in range (1500, 1800):
    if i%5 == 0 and i%7 == 0:
        Liste.append(i)
print (Liste)

Teiler = [2, 3, 4, 6, 8, 9]

l=len(Liste)
i=0
while i&lt;l:
    k=Liste[i]
    z = 0
    for w in range (len(Teiler)):
        if k%Teiler[z] == 0:
            Liste.remove(k)
            l-=1
            i-=1
            z += 1
            break
        else:
            z += 1
    i+=1
</code></pre>
<p>This code could be improved but was for let you understand how you can do it</p>
</div>
<span class="comment-copy">Thanks a lot for your answer!</span>
<span class="comment-copy">Ah you mean, when the for example one number in the List was checked and removed, the original next number in the list takes the place from the removed number and therefore will be left out from the iteration.</span>
<span class="comment-copy">yes ;) so be careful when you want remove element from the same list that you are iterating ;)</span>
