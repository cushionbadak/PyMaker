<div class="post-text" itemprop="text">
<p>I want to count the number of occurrences of the word 'people' in a text using python. For that I use Counter and Python's regular expression:</p>
<pre><code>    for j in range(len(paragraphs)):
        text = paragraphs[j].text
        count[j] = Counter(re.findall(r'\bpeople\b' ,text))
</code></pre>
<p>Yet, here my code does not take into account of the occurrences of people. people! people? 
How can I modify it to also count the cases when the word is followed by a specific character?</p>
<p>Thank you for you help,</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use an optional character-group in your regex:</p>
<pre><code>r'\bpeople[.,!?]?\b'
</code></pre>
<p>The ? specifies it can occure 0 or 1 times - the <code>[]</code> specifies what characters are allowed. There is no need to escape the <code>.</code> (or f.e. <code>()*+?</code>) inside <code>[]</code> although they have special meaning for regex. If you wanted to use a <code>-</code> inside <code>[]</code> you would need to escape it as it is used to denote ranges in sets <code>[1-5]</code> == <code>12345</code>.</p>
<p>See: <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html#regular-expression-syntax</a></p>
<blockquote>
<p><strong>[]</strong> Used to indicate a set of characters. In a set:</p>
<p>Characters can be listed individually, e.g. [amk] will match 'a', 'm', or 'k'.
  Ranges of characters can be indicated by giving two characters and separating them by a '-', for example [a-z] will match any lowercase ASCII letter, [0-5][0-9] will match all the two-digits numbers from 00 to 59, and [0-9A-Fa-f] will match any hexadecimal digit.  [...]</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<pre><code>people[?.!]
</code></pre>
<p>This will allow you to only match with people? people. and/or people!</p>
<p>So if you add a few more <code>Counter(re.finall(</code> you will be able to do something like this</p>
<pre><code>#This will only match people
count[j] = Counter(re.findall(r'people\s' ,text))

#This will only match people?
count[j] = Counter(re.findall(r'people\?' ,text))

#This will only match people.
count[j] = Counter(re.findall(r'people\.' ,text))

#This will only match people!
count[j] = Counter(re.findall(r'people\!' ,text))
</code></pre>
<p>You need to use the <code>\</code> to escape the special characters</p>
<p>Also this is a good resource when you are experimenting with python regular expressions: <a href="https://pythex.org/" rel="nofollow noreferrer">https://pythex.org/</a> The site also has a regular expression cheat sheet</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a modifier statement at the end of the 'people' part of your Regex pattern. Try the following:</p>
<pre><code>for j in range(len(paragraphs)):
    text = paragraphs[j].text
    count[j] = Counter(re.findall('r\bpeople[.?!]?\b', text)
</code></pre>
<p>The ? is for zero or more quantifier. The above pattern seems to work on regex101.com but I haven't tried in out in a Python shell yet.</p>
</div>
<div class="post-text" itemprop="text">
<p>Does it have to use regex? Why not just:</p>
<pre><code>len(text.split("people"))-1
</code></pre>
</div>
<span class="comment-copy">Your regex looks correct (and works for my tests). I think your error is <code>Counter()</code>. What error are you seeing?</span>
<span class="comment-copy">no need to put <code>|</code> in the [] unless you want to allow it as character as well</span>
<span class="comment-copy">@PatrickArtner oops, thanks for the catch</span>
<span class="comment-copy">I went a head and edited my response to remove the extra backslashes.</span>
