<div class="post-text" itemprop="text">
<p>I am using ElementTree to read an .xml file and save the output to a .csv file. I loop over all of the lines in the xml file and save the name and text pairs in a list.</p>
<pre><code>savedParameters = []

tree = ET.parse(work_dir + input_name)
root = tree.getroot()

for child in root:
    savedParameters.append({'parameterName' : child.tag, 'Value' : child.text})
    for gchild in child:
        savedParameters.append({'parameterName' : gchild.tag, 'Value' : gchild.text})
        for ggchild in gchild:
        .
        .
        .
</code></pre>
<p>I then loop over the savedParameters and write them to a csv file. This all works fine apart from in one situation, take the example from the xml below.</p>
<pre><code>&lt;VehicleId&gt;123456789&lt;/VehicleId&gt;
-&lt;VRMs&gt;
    &lt;ForAppointment&gt;X111XXX&lt;/ForAppointment&gt;
    &lt;Alternate&gt;X111XXX&lt;/Alternate&gt;
&lt;/VRMs&gt;
&lt;Vin&gt;123456&lt;/Vin&gt;
</code></pre>
<p>In this case everything will be stored as expected apart from the  field. This field should be empty however when I access child.text() it stores a blank string with a new line i.e all of the spaces between <code>-&lt;VRMs&gt;</code> and <code>&lt;/VRMs&gt;</code>. Therefore when I write out to the csv it writes out the new line. </p>
<p>I have tried <code>replace(" ", "")</code> and <code>replace("\n","")</code> but neither solve my problem. Does anyone know a way around this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You should be able to strip out the newlines (from start and end of a string) using <code>str.strip()</code> (without giving any arguments) .</p>
<p>Example -</p>
<pre><code>&gt;&gt;&gt; s = "\n    \n asd \n    \n \n \n\n    "
&gt;&gt;&gt; s.strip()
'asd'
&gt;&gt;&gt; s = "\n    \n \n    \n \n \n\n    "
&gt;&gt;&gt; s.strip()
''
</code></pre>
<p>As seen above, <code>str.strip()</code> would return empty string, if the string only contains whitespaces, which seems to be the case for your <code>child.text</code> . So you should be able to do - <code>child.text.strip()</code> before you try to store it in the dictionary. Example -</p>
<pre><code>for child in root:
    savedParameters.append({'parameterName' : child.tag, 'Value' : child.text.strip()})
    for gchild in child:
        savedParameters.append({'parameterName' : gchild.tag, 'Value' : gchild.text.strip()})
        for ggchild in gchild:
        .
        .
        .
</code></pre>
</div>
<span class="comment-copy">@ScottHunter, no, the code isn't the problem. I explained that child.text extracted all of the text including a 'new line' and that I was struggling removing it. I wanted to know if there is a different way to read the text or some way to manipulate the string.</span>
<span class="comment-copy">Check this : <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">docs.python.org/3/library/xml.etree.elementtree.html</a> . does your XML file looks like ? Same pattern ?</span>
<span class="comment-copy">@SDilmac, yes, the function .text would extract the value 1 from &lt;rank&gt;1&lt;/rank&gt;. It is only when rank (in this example) has no text but does have some children that the .text is returning the string with an apparent new line.</span>
<span class="comment-copy">What does the string look like for the <code>VRM</code>  tag , can you do <code>print(repr(child.text))</code> for that tag and let us know?</span>
<span class="comment-copy">Would saving the text using <code>child.text.strip()</code> not work?</span>
<span class="comment-copy">This worked perfectly. One note for anyone else who is having a similar problem strip() will not work if .text returns a value of None. To get around this I simply used if <code>child.text is not None:</code></span>
