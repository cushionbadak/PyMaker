<div class="post-text" itemprop="text">
<p>My question is really trivial but as a beginner in Python I still cannot find my answer..</p>
<p>I pulling some data from web using this code:</p>
<pre><code>from bs4 import BeautifulSoup
import urllib2

teams = ("http://walterfootball.com/fantasycheatsheet/2015/traditional")
page = urllib2.urlopen(teams)
soup = BeautifulSoup(page, "html.parser")

f = open('output.txt', 'w')

nfl = soup.findAll('li', "player")
lines = [span.get_text(strip=True) for span in nfl]

lines = str(lines)
f.write(lines)
f.close()
</code></pre>
<p>But output is a pretty mess.</p>
<p>Is there a elegant way to get a result like this?</p>
<pre><code>1. Eddie Lacy, RB, Green Bay Packers. Bye: 7 $60
2. LeVeon Bell, RB, Pittsburgh Steelers. Bye: 11 $60
3. Marshawn Lynch, RB, Seattle Seahawks. Bye: 9 $59
...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just use <code>str.join</code> on the list and <code>.rstrip("+")</code> the <code>+</code> off:</p>
<pre><code>nfl = soup.findAll('li', "player")
lines = ("{}. {}\n".format(ind,span.get_text(strip=True).rstrip("+"))
         for ind, span in enumerate(nfl,1))
print("".join(lines))
</code></pre>
<p>Which would give you:</p>
<pre><code>1. Eddie Lacy, RB, Green Bay Packers. Bye: 7$60
2. LeVeon Bell, RB, Pittsburgh Steelers. Bye: 11$60
3. Marshawn Lynch, RB, Seattle Seahawks. Bye: 9$59
4. Adrian Peterson, RB, Minnesota Vikings. Bye: 5$59
5. Jamaal Charles, RB, Kansas City Chiefs. Bye: 9$54
..................
</code></pre>
<p>To separate the price we can split or use <code>re.sub</code> to add a space before the dollar sign and write each line:</p>
<pre><code>import re
with open('output.txt', 'w') as f:
    for line in lines:
        line = re.sub("(\$\d+)$", r" \1", line, 1)
        f.write(line)
</code></pre>
<p>Now the output is:</p>
<pre><code>1. Eddie Lacy, RB, Green Bay Packers. Bye: 7 $60
2. LeVeon Bell, RB, Pittsburgh Steelers. Bye: 11 $60
3. Marshawn Lynch, RB, Seattle Seahawks. Bye: 9 $59
4. Adrian Peterson, RB, Minnesota Vikings. Bye: 5 $59
5. Jamaal Charles, RB, Kansas City Chiefs. Bye: 9 $54
</code></pre>
<p>You can do the same with <code>str.rsplit</code> splitting once on <code>$</code> and rejoining with a space:</p>
<pre><code>with open('output.txt', 'w') as f:
    for line in lines:
        line,p = line.rsplit("$",1)
        f.write("{} ${}".format(line,p))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Iterate over the list <code>lines</code> and write each line:</p>
<pre><code>for num, line in enumerate(lines, 1):
    f.write('{}. {}\n'.format(num, line))
</code></pre>
<p><a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow"><code>enumerate</code></a> is used to get <code>(num, line)</code> pairs.</p>
<p>BTW, you'd be better to use <code>with</code> statement instead of closing the file object manually:</p>
<pre><code>with open('output.txt', 'w') as f:
    for num, line in enumerate(lines, 1):
        f.write('{}. {}\n'.format(num, line))
</code></pre>
</div>
