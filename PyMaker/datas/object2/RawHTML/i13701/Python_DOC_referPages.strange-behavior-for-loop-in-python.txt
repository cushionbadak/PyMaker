<div class="post-text" itemprop="text">
<p>I am writing this code to read a text file and then print the line number after each line here is my code</p>
<pre><code>with open("newfile.txt") as f:
 for line in f:
  x=1
  y=str(x)
  print(line)
  print(x)
  x=x+1
f.close()
</code></pre>
<p>I should expect some thing like that </p>
<p>Line one</p>
<p>1</p>
<p>Line two </p>
<p>2</p>
<p>Line three </p>
<p>3 </p>
<p>but instead I am getting</p>
<p>Line one </p>
<p>1 </p>
<p>Line two </p>
<p>1 </p>
<p>Line three </p>
<p>1 </p>
<p>Why is that !?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can just use <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow"><code>enumerate()</code></a> :</p>
<pre><code>with open("newfile.txt") as f:
 for num,line in enumerate(f,1):
      print line,'\n',num
</code></pre>
<p>Also note that you don't need to close the file when you use the <code>with</code> statement. It will automatically does it for you.</p>
<p>And about the <code>x</code> variable in your code, you shouldn't initialized it in your loop, you need to put <code>x=1</code> out of the loop.</p>
</div>
<div class="post-text" itemprop="text">
<p>Adding comments to your code will help you see why you always print out  <code>1</code>.</p>
<pre><code>with open("newfile.txt") as f:
  for line in f:
   x=1            # x is now equal to 1
   y=str(x)       # x is still 1, y is now equal to '1'
   print(line)    # prints out the line
   print(x)       # 1 is printed
   x=x+1          # you now add 1 to x, but don't do anything with this 
                  # updated value, because in the next loop x is again
                  # initialised to 1
 f.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is that you are initializing <code>x</code> to <code>1</code> inside the loop and before the <code>print</code> statement.</p>
<p>try:</p>
<pre><code>x = 1
with open("newfile.txt") as f:    
  for line in f:
    y = str(x)
    print(line)
    print(x)
    x += 1 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The issue with the code would be the x=1 inside of the loop. By moving that outside and initializing that before you should get the result you want. For example: </p>
<pre><code> x=1
 with open("newfile.txt") as f:
 for line in f:
 y=str(x)
 print(line)
 print(x)
 x=x+1
</code></pre>
<p>This should work</p>
</div>
<span class="comment-copy">x is initiated again in every loop. So if you want to do it like this, you have to define it outside the loop and only increment in the loop.</span>
<span class="comment-copy">Thanks that solved my problem ,However I don't understand why the integer x is not incrementing  in the for loop?</span>
<span class="comment-copy">I wish If I have 15 point to vote up for your fast help ;)</span>
<span class="comment-copy">you assign <code>x=1</code> at the beginning of every run of the loop. you should do that before the for loop. more elegant; <code>for i, line in enumerate(f):</code>.</span>
<span class="comment-copy">Yes that was obvious ! how i didn't see it ,Sorry my fault</span>
<span class="comment-copy">@MohamedBeltagy You can just accept the answer! ;)</span>
