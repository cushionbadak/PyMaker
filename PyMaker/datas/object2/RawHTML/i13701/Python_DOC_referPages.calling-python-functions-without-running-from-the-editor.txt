<div class="post-text" itemprop="text">
<p>Please excuse what I know is an incredibly basic question that I have nevertheless been unable to resolve on my own.</p>
<p>I'm trying to switch over my data analysis from Matlab to Python, and I'm struggling with something very basic: in Matlab, I write a function in the editor, and to use that function I simply call it from the command line, or within other functions. The function that I compose in the matlab editor is given a name at the function definition line, and it's generally best for the function name to match the .m file name to avoid confusion.</p>
<p>I don't understand how functions differ in Python, because I have not been successful translating the same approach there. </p>
<p>For instance, if I write a function in the Python editor (I'm using Python 2.7 and Spyder), simply saving the .py file and calling it by its name from the Python terminal does not work. I get a "function not defined" error. However, if I execute the function within Spyder's editor (using the "run file" button), not only does the code execute properly, from that point on the function is also call-able directly from the terminal.</p>
<p>So...what am I doing wrong? I fully appreciate that using Python isn't going to be identical to Matlab in every way, but it seems that what I'm trying to do isn't unreasonable. I simply want to be able to write functions and call them from the python command line, without having to run each and every one through the editor first. I'm sure my mistake here must be very simple, yet doing quite a lot of reading online hasn't led me to an answer.</p>
<p>Thanks for any information!</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to use functions defined in a particular file in Python you need to "import" that file first. This is similar to running the code in that file. Matlab doesn't require you to do this because it searches for files with a matching name and automagically reads in the code for you.</p>
<p>For example,</p>
<p>myFunction.py is a file containing</p>
<pre><code>def myAdd(a, b):
    return a + b
</code></pre>
<p>In order to access this function from the Python command line or another file I would type</p>
<pre><code>from myFunction import myAdd
</code></pre>
<p>And then during this session I can type</p>
<pre><code>myAdd(1, 2)
</code></pre>
<p>There are a couple of ways of using import, see <a href="https://docs.python.org/3/reference/import.html" rel="nofollow">here</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to a check for <code>__main__</code> to your python script</p>
<pre><code>def myFunction():
  pass

if __name__ == "__main__":
  myFunction()
</code></pre>
<p>then you can run your script from terminal like this</p>
<pre><code>python myscript.py
</code></pre>
<p>Also if your function is in another file you need to import it</p>
<pre><code>from myFunctions import myFunction
myFunction()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Python doesn't have MATLAB's "one function per file" limitation.  You can have as many functions as you want in a given file, and all of them can be accessed from the command line or from other functions.</p>
<p>Python also doesn't follow MATLAB's practice of always automatically making every function it can find usable all the time, which tends to lead to function name collisions (two functions with the same name).</p>
<p>Instead, Python uses the concept of a "module".  A module is just a file (your <code>.py</code> file).  That file can have zero or more functions, zero or more variables, and zero or more classes.  When you want to use something from that file, you just import it.</p>
<p>So say you have a file 'mystuff.py':</p>
<pre><code>X = 1
Y = 2

def myfunc1(a, b):
   do_something

def myfunc2(c, d):
   do_something
</code></pre>
<p>And you want to use it, you can just type <code>import mystuff</code>.  You can then access any of the variables or functions in mystuff.  To call <code>myfunc2</code>, you can just do <code>mystuff.myfunc2(z, w)</code>.</p>
<p>What basically happens is that when you type <code>import mystuff</code>, it just executes the code in the file, and makes all the variables that result available from <code>mystuff.&lt;varname&gt;</code>, where <code>&lt;varname&gt;</code> is the name of the variable.  Unlike in MATLAB, Python functions are treated like any other variable, so they can be accessed just like any other variable.  The same is true with classes.</p>
<p>There are other ways to import, too, such as <code>from mystuff import myfunc</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You run python programs by running them with</p>
<pre><code>python program.py
</code></pre>
</div>
<span class="comment-copy">You have to <code>import</code> functions!</span>
<span class="comment-copy">also as bonus tip <a href="https://www.jetbrains.com/pycharm/" rel="nofollow noreferrer">PyCharm</a> is excellent and free IDE</span>
<span class="comment-copy">Thanks for this; your answer really gets to the heart of my confusion, which arose because of Matlab's "1 function per file" limit that does not exist in Python. So now I'll have to figure out how to import a bunch of functions written in separate files simultaneously, as it seems like sticking with 1 function per file will (generally) be easier to debug (for me at least). But I'll work that out on my own.</span>
<span class="comment-copy">There is no advantage to having one function per file.  It won't make things easier to debug at all.  It will only make it harder to keep things organized.  Note that you can organize files into folders, using a concept called <code>packages</code> (which recent versions of MATLAB copied).  You can put a <code>__init__.py</code> file (it can be empty) in folder, and you can then import that folder the same way as you would a module.  Further, the <code>__init__.py</code> file can also import stuff, so you can have functions in the folder, and then the <code>__init__.py</code> pulls them in for easier access.</span>
