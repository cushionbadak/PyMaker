<div class="post-text" itemprop="text">
<p>I have an numpy array:</p>
<pre><code>x = np.zeros(5)
[0,0,0,0,0]

x.put(5)
[0,0,0,0,5]

x.put([1,2,3])
[0,5,1,2,3]

x.put([5,10,10])
[2,3,5,10,10]
</code></pre>
<p>I want as shown in the example above. simply I put information at the end. and the data shift and clip the overflow.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can copy the tail part of the array to the initial part. Note that this method is O(n), so it is not suitable if the array <code>x</code> is very long.</p>
<pre><code>def push(x, y):
    push_len = len(y)
    assert len(x) &gt;= push_len
    x[:-push_len] = x[push_len:]
    x[-push_len:] = y
    return x
</code></pre>
<pre><code>&gt;&gt;&gt; x = numpy.zeros(5)
&gt;&gt;&gt; x
array([ 0.,  0.,  0.,  0.,  0.])
&gt;&gt;&gt; push(x, [5])
array([ 0.,  0.,  0.,  0.,  5.])
&gt;&gt;&gt; push(x, [1,2,3])
array([ 0.,  5.,  1.,  2.,  3.])
&gt;&gt;&gt; push(x, [5,10,10])
array([  2.,   3.,   5.,  10.,  10.])
</code></pre>
</div>
<span class="comment-copy">Any reason you need to use a numpy array instead of a <a href="https://docs.python.org/3/library/collections.html#collections.deque" rel="nofollow noreferrer">deque</a>?</span>
<span class="comment-copy">You can create your own object by inheriting from numpy array and just add a custom append method. Here is a similar question <a href="http://stackoverflow.com/questions/4151320/efficient-circular-buffer" title="efficient circular buffer">stackoverflow.com/questions/4151320/efficient-circular-buffer</a></span>
<span class="comment-copy">@kennytm yes. because in the end I need a numpy array and this function is executed at least 1 to 2 M times and converting to numpy arrays take considerable computation time</span>
