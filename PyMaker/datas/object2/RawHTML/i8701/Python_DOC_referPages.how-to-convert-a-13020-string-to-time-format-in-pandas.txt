<div class="post-text" itemprop="text">
<p>I imported a txt file and this is a result:</p>
<pre><code>   Place  Bib    Athlete Name          City State Age Gender FinishTime  \
0      1  120     Runner 1            Bronx    NY  31      M    1:21:40   
1      2  910     Runner 2            Bronx    NY  38      M    1:23:16   
2      3  352     Runner 3         New York    NY  45      M    1:24:28   


  Unnamed: 8  
0        NaN  
1        NaN  
2        NaN  
</code></pre>
<p>I would like to convert the FinishTime string object to a time format. Using
pd.to_datetime(race['FinishTime']) I get ValueError: Given date string not likely a datetime. Any suggestions on how to do this? I would like to do calculation on time like Runner 1 was x% faster than Runner 2. Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>to_datetime</code> can take a format argument to specify what the timestamp looks like:</p>
<pre><code>&gt;&gt;&gt; pd.to_datetime('1:23:16', format='%H:%M:%S')
Timestamp('1900-01-01 01:23:16')
</code></pre>
<p>So with your data:</p>
<pre><code>pd.to_datetime(race['FinishTime'], format='%H:%M:%S')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_timedelta.html" rel="nofollow noreferrer"><code>to_timedelta</code></a> for convert column to <a href="http://pandas.pydata.org/pandas-docs/stable/timedeltas.html" rel="nofollow noreferrer">timedelta</a>.</p>
<p>Then <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html" rel="nofollow noreferrer"><code>set_index</code></a> from column <code>Athlete Name</code> and select values by <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.loc.html" rel="nofollow noreferrer"><code>loc</code></a>. Last get difference of <code>timedeltas</code>:</p>
<pre><code>df.FinishTime = pd.to_timedelta(df.FinishTime)
df = df.set_index('Athlete Name')
runner1 = df.loc['Runner 1', 'FinishTime']
runner2 = df.loc['Runner 2', 'FinishTime']

print('Runner 1 is {} faster than runner 2.'.format(runner2 - runner1))
Runner 1 is 0 days 00:01:36 faster than runner 2.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Stricly speaking the finish time is not a time but a <a href="https://docs.python.org/3/library/datetime.html#timedelta-objects" rel="nofollow noreferrer">timedelta</a> object that represents a duration, how long it took to finish the race.</p>
<p>Following code can be used to convert a string to a timedelta and do calculations:</p>
<pre><code>from datetime import timedelta

finish_time_1 = '1:23:16'
finish_time_2 = '1:24:28'

hours, minutes, seconds = finish_time_1.split(':')
duration_1 = timedelta(hours=int(hours), minutes=int(minutes), seconds=int(seconds))

hours, minutes, seconds = finish_time_2.split(':')
duration_2 = timedelta(hours=int(hours), minutes=int(minutes), seconds=int(seconds))

print('Runner 1 is {} faster than runner 2'.format(duration_2 - duration_1))
</code></pre>
<p>The result is: "Runner 1 is 0:01:12 faster than runner 2"</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's how I ended up coding it:</p>
<pre><code>#not sure if I needed to do this
race['FinishTime']=race.FinishTime.str.rjust(8, fillchar='0')

#split out each component of the string
race['hour'] = race.FinishTime.str.split(':').str[0]
race['mins'] = race.FinishTime.str.split(':').str[1]
race['secs'] = race.FinishTime.str.split(':', n=2).str[-1]

#concat each component into a new column
race['FTime'] = race['hour'] + ':' + race['mins'] + ':' + race['secs']

#convert the string to timedelta
race.FTime = pd.to_timedelta(race.FTime)
</code></pre>
</div>
<span class="comment-copy">race['hour'] = race.FinishTime.str.split(':').str[0]     race['mins'] = race.FinishTime.str.split(':').str[1]     race['secs'] = race.FinishTime.str.split(':', n=2).str[-1]race['FTime'] = race['hour'] + ':' + race['mins'] + ':' + race['secs']  #convert the string to timedelta race.FTime = pd.to_timedelta(race.FTime)</span>
