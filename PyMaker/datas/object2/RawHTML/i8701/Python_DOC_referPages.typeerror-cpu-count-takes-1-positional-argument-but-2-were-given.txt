<div class="post-text" itemprop="text">
<p>I am trying to get a hold of the multiprocessing (2 CPUs on my Mac). My code is roughly the following:</p>
<pre><code>def new_func(i):
    Rewards, Times, CummulativeRewards, Weights = Q_learning(model, variants = 2, stages = 3, gamma = 0.975, epsilon = 0.99, batchSize = i, buffer = 3000, randSeed = 42, replay = None)
    return CummulativeRewards

from joblib import Parallel, delayed import multiprocessing

BatchSize = [100, 300]
num_cores = multiprocessing.cpu_count(2)
Rewards, Times, CuRew, Weights = Parallel(n_jobs=num_cores)(delayed(new_func)(i) for i in BatchSize)
</code></pre>
<p>I get the following error:
<code>num_cores = multiprocessing.cpu_count(2)
TypeError: cpu_count() takes 1 positional argument but 2 were given</code></p>
<p>Any ideas what is the problem?</p>
</div>
<div class="post-text" itemprop="text">
<p>cpu_count does not take any arguments.  The one positional argument is the self instance <code>multiprocessing</code>.</p>
<p><a href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count" rel="nofollow noreferrer">https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count</a></p>
<pre><code>num_cores = multiprocessing.cpu_count()
</code></pre>
</div>
