<div class="post-text" itemprop="text">
<p>Let's say I want to do the following</p>
<pre><code>def calculate_something_extremally_resource_consuming():
    # execute some api calls and make insane calculations
    if calculations_sucessfull:
        return result
</code></pre>
<p>meanwhile somewhere else in the project:</p>
<pre><code>if calculate_something_extremally_resource_consuming():
    a = calculate_something_extremally_resource_consuming()
    etc...
</code></pre>
<p>This looks like the heavy function will be called twice, which is really bad. Another option I can imagine:</p>
<pre><code>a = calculate_something_extremally_resource_consuming()
if a:
    etc...
</code></pre>
<p>Maybe there is a more elegant way?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/functools.html#functools.lru_cache" rel="nofollow noreferrer"><code>functools.lru_cache</code></a> can help you sometimes:</p>
<blockquote>
<p>Decorator to wrap a function with a memoizing callable that saves up to the maxsize most recent calls. It can save time when an expensive or I/O bound function is periodically called with the same arguments.</p>
</blockquote>
<pre><code>&gt;&gt;&gt; from functools import lru_cache
&gt;&gt;&gt; from time import sleep
&gt;&gt;&gt; @lru_cache()
... def expensive_potato():
...     print('reticulating splines...')
...     sleep(2)
...     return 'potato'
... 
&gt;&gt;&gt; expensive_potato()
reticulating splines...
'potato'
&gt;&gt;&gt; expensive_potato()
'potato'
</code></pre>
<p>That's new in Python 3.2.  Easy to write your own decorator, if you're on old Python.  </p>
<p>If you're working with methods/attributes on a class, <a href="https://github.com/pydanny/cached-property" rel="nofollow noreferrer"><code>cached_property</code></a> is useful.  </p>
</div>
<div class="post-text" itemprop="text">
<p>In some languages you are able to assign a variable as part of the condition block, but in Python that's not possible (see <a href="https://stackoverflow.com/questions/2603956/can-we-have-assignment-in-a-condition">Can we have assignment in a condition?</a> )</p>
</div>
<span class="comment-copy">The third option is the one I use.  What's not to like?</span>
