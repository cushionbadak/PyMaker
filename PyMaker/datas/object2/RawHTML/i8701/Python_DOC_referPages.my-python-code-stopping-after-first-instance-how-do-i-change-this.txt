<div class="post-text" itemprop="text">
<p>I'm new to python and I wanted my code to read a csv line by line (large file) and then if the experiment ID is a specific number write that line to a csv. Only problem is it only writes the first instance then stops. Any suggestions? Thanks. </p>
<pre><code>out = open('new.csv', 'w')
with open('exp.csv','r') as w:
    header =w.readline()
    out.write(header)
    for line in w:
        line = line.strip("\n")
        tokens = line.split(",")
        exp_id = tokens[0]
        if (exp_id=='2243920414'): 
           out.write(line)
           continue
out.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can just remove the <code>line = line.strip('\n')</code> and it works fine.
If you remove the newline, you just append all of the matching lines onto a single line which in your eyes looked like it had only matched once.</p>
<pre><code>with open('exp.csv','r') as w, open('new.csv', 'w') as out:
    header = w.readline()
    out.write(header)
    for line in w:
        tokens = line.split(",")
        exp_id = tokens[0]
        if (exp_id=='2243920414'):
           out.write(line)
</code></pre>
<p>You should also check the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer"><code>csv module</code></a>.
It's a great module for everything related to csv files.</p>
</div>
<span class="comment-copy">The <code>continue</code> is redundant.</span>
<span class="comment-copy">@AshishNitinPatil <code>out.close()</code> is required. Otherwise the file will be corrupted.</span>
<span class="comment-copy">Thanks @Sevanteri! This worked. I forgot to tell you that when I was working on this, but never too late for appreciation. Thank you!</span>
