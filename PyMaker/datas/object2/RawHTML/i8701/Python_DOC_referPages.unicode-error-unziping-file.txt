<div class="post-text" itemprop="text">
<p>i have i zip file, wich have some files to be unziped. My functions works well until some my files have unicode in ther names like this: </p>
<pre><code>- myfile.wav
- myfile2.wav
- myÂ§ile.wav
</code></pre>
<p>when i try to unzip with this funcition</p>
<pre><code>with closing(z), zipfile.ZipFile(io.BytesIO(z.content)) as myzip:
                myzip.extractall(local_path)
</code></pre>
<p>i get a unicode error.</p>
<p>What can i do to correct my file name?</p>
</div>
<div class="post-text" itemprop="text">
<p>You should decode your file before passing then to the extractall method.</p>
<pre><code>with closing(z), zipfile.ZipFile(io.BytesIO(z.content)) as myzip:
            local_path = local_path.decode('utf-8')
            myzip.extractall(local_path)
</code></pre>
<p>Reading the <a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.write" rel="nofollow noreferrer">documentation</a> in the module, they are explicit on this:</p>
<blockquote>
<p>There is no official file name encoding for ZIP files. If you have unicode file names, you must convert them to byte strings in your desired encoding before passing them to '(). WinZip interprets all file names as encoded in CP437, also known as DOS Latin.</p>
</blockquote>
</div>
<span class="comment-copy">I think you should remove your pt_BR text from the question ;)</span>
