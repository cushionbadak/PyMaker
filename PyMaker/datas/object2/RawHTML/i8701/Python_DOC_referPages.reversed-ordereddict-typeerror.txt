<div class="post-text" itemprop="text">
<p>I have an ordered dictionary and I am trying to go through it in reverse order, basically starting from the last (key, value) inserted.</p>
<pre><code>dicts = OrderedDict()
...
for key, value in reversed(dicts.items()):
</code></pre>
<p>The above code works fine when I use PyCharm with Python 3.5.1, but when I place it on codefights, using their Python 3 interpreter (not sure what exact version), I get the error below for the for loop implementation:</p>
<pre class="lang-none prettyprint-override"><code>TypeError: argument to reversed() must be a sequence
</code></pre>
<p>Why is this error happening and how can I fix it?</p>
</div>
<div class="post-text" itemprop="text">
<p>As per <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" rel="nofollow noreferrer">the docs</a>, <code>OrderedDict.items()</code> only supported <code>reversed</code> from 3.5, so I expect it's an older version.</p>
<p>One way you could fix it is convert to a list first:</p>
<pre><code>for key, value in reversed(list(dicts.items())):
     ...
</code></pre>
<p><strong>NB</strong>: as per the comments, <code>dicts.items()</code> should be memory efficient but <code>list(dicts.items())</code> will definitely create a new list with length the number of items in <code>dicts</code>. Most of the time this should be fine, but for very large <code>dicts</code> this will see a O(N) memory usage hit which may be significant.</p>
</div>
<span class="comment-copy">I believe <code>dicts.items()</code> must be casted to a list or even a tuple.</span>
<span class="comment-copy">What would be the best way to make it work on an older version ?</span>
<span class="comment-copy">Is the <code>list</code> conversion less memory efficient than a <code>dicts.items()</code> call? It's not like <code>dicts.items()</code> is a generator</span>
<span class="comment-copy">Good point, I don't know, I'll scratch that.</span>
<span class="comment-copy">@Chris_Rands In python3 <code>dicts.items()</code> returns a <a href="https://docs.python.org/3.5/library/stdtypes.html#dictionary-view-objects" rel="nofollow noreferrer">dictionary view object</a> that is memory efficient. <code>list</code>ing it creates a copy of the items in memory. See also: <a href="http://stackoverflow.com/a/8960727/3901060">stackoverflow.com/a/8960727/3901060</a></span>
<span class="comment-copy">So, given what @FamousJameous said, it <i>does</i> use (potentially a lot) more memory. Maybe you should "unscratch" your comment...</span>
