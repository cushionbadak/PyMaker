<div class="post-text" itemprop="text">
<p>I define class <code>MyClass()</code> </p>
<pre><code>import random
class MyClass():
    def __init__(self, value):
        self.value = value
    def __hash__(self):
        return random.randin(1, 10) 
x = MyClass() 
</code></pre>
<p>I know, that <code>__init__</code> is called automatically after I declare <code>x = MyClass()</code>. But what about <code>__hash__</code>? Does it work without being explicitly called by <code>x.__hash__()</code> ?<br/>
Is every method that starts with <code>__</code> called automatically or program decides when to call them?<br/>
I went through many documentation to find the answer but unsuccesssfuly. </p>
<p>Thank you for answers!</p>
</div>
<div class="post-text" itemprop="text">
<p>From Python docs:</p>
<blockquote>
<p>Called by built-in function hash() and for operations on members of hashed collections including set, frozenset, and dict. __hash__() should return an integer. The only required property is that objects which compare equal have the same hash value;</p>
</blockquote>
<p>Reference: <a href="https://docs.python.org/3/reference/datamodel.html#object.__hash__" rel="nofollow noreferrer">https://docs.python.org/3/reference/datamodel.html#object.__hash__</a></p>
<p>Also, please, don't return random numbers from __hash__().</p>
</div>
<div class="post-text" itemprop="text">
<p>No, <code>__hash__</code> is not automatically called. Have a look at <a href="https://docs.python.org/2/reference/datamodel.html#object.__hash__" rel="nofollow noreferrer">the documentation for this method</a>:</p>
<blockquote>
<p>Called by built-in function hash() and for operations on members of
  hashed collections including set, frozenset, and dict.</p>
</blockquote>
<p>So this method will be called in case someone does <code>hash(x)</code>.</p>
<p>Btw. returning a random number is a bad idea:</p>
<blockquote>
<p>The only required property is that objects which compare equal have
  the same hash value</p>
</blockquote>
</div>
<span class="comment-copy">Literally the first sentence of <a href="https://docs.python.org/3/reference/datamodel.html#object.__hash__" rel="nofollow noreferrer">docs.python.org/3/reference/datamodel.html#object.__hash__</a> is "Called by built-in function hash() and for operations on members of hashed collections". What's unclear about that?</span>
<span class="comment-copy">"Also, please, don't return random numbers from __hash__()." this is one way to have very funny debugging sessions.</span>
