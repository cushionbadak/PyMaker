<div class="post-text" itemprop="text">
<p>Thought this would be straightforward, but it's giving me a lot of trouble.  What's the simplest way to run a python script with params on a web server?  I've tried Node, but had a lot of trouble with spawning child processes, tried PHP but ran into a similar problem and just couldn't get <code>exec</code> to work for even the simplest script.  Just spent a while trying Django, but that turned out to be far too involved.  How can I do this without re-inventing the wheel?</p>
<p>For example, take the following request:</p>
<pre><code>www.example.com/someprogram?foo=bar&amp;bar=baz
</code></pre>
<p>And render the output from a script run with those params:</p>
<pre><code>python someprogram.py foo bar
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try <a href="https://bottlepy.org/" rel="nofollow noreferrer">bottle</a>, a micro web framework:</p>
<p>someprogram.py:</p>
<pre><code>def f(foo, bar):
    return "foo: {}, bar: {}"format(foo, bar)
</code></pre>
<p>server.py:</p>
<pre><code>from bottle import route, run
import someprogram


@route('/')
def home():
    return someprogram.f(request.query.foo, request.query.bar)

if __name__ == "__main__":
    run(debug=True, reloader=True)
</code></pre>
<p>To run:</p>
<pre><code>pip install bottle
python server.py
</code></pre>
<p>Use <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow noreferrer"><code>subprocess.check_output()</code></a> to spawn a process if you don't want to import <code>someprogram.py</code>.</p>
</div>
<span class="comment-copy">Look at using the <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer">subprocess</a> library.</span>
<span class="comment-copy">(BTW - Python can be used as a cgi enabled server, but it is considered obsolete and not safe: <a href="https://docs.python.org/3/library/http.server.html#http.server.CGIHTTPRequestHandler" rel="nofollow noreferrer">docs.python.org/3/library/â€¦</a> )</span>
