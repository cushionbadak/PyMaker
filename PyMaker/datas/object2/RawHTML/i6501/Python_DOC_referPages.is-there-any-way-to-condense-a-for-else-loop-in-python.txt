<div class="post-text" itemprop="text">
<p>I have made a piece of code that spits out prime numbers up to the 10001st number. It currently takes up 4 lines of code, and was wondering if I could condense it further? Here it is;</p>
<pre><code>for i in range(3,104744,2):
    for x in range(3,int(i/2),2):
        if i % x == 0 and i != x: break
    else: print(i)
</code></pre>
<p>I <strong>am</strong> aware that condensing code too much is usually not a good thing, but was wondering if it was possible.</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a list comprehension and <a href="https://docs.python.org/3/library/functions.html#any" rel="nofollow noreferrer"><code>any</code></a> to get a one-liner solution:</p>
<pre><code>&gt;&gt;&gt; [p for p in range(2, 100) if not any (p % d == 0 for d in range(2, int(p**0.5) + 1))]
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]
</code></pre>
<p>It uses the fact that a divisor cannot be larger than the square root of the number it divies.</p>
<p>It seems to work fine:</p>
<pre><code>&gt;&gt;&gt; len([p for p in range(2, 104744) if not any (p % d == 0 for d in range(2,int(p**0.5)+1))])
10001
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>List comprehension</p>
<pre><code>&gt;&gt;&gt; r=range(2,100)
&gt;&gt;&gt; [p for p in r if [p%d for d in r].count(0)&lt;2]
</code></pre>
<p>[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]</p>
</div>
<div class="post-text" itemprop="text">
<p>Try this one:</p>
<pre><code>for i in range(3,100,2):
    if all( i%x for x in range(3, i//2, 2) ):
        print(i)
</code></pre>
</div>
<span class="comment-copy">That code is never going to produce <code>2</code>, which is a prime number.</span>
<span class="comment-copy">I tried applying DeMorgan's law to your <code>if</code> statement (<code>i % x == 0</code> is functionally <code>not i % x</code> so you have two <code>not</code>s which can be factored out and the <code>and</code> changed to <code>or</code>...) resulting in <code>if not (i % x or i == x): break</code>... but that's the same number of characters!</span>
<span class="comment-copy">You could try putting it all into a list comprehension.</span>
<span class="comment-copy">I guess <code>for p in (i for i in range(...) if all(i % x for x in range(...))</code> but meh</span>
<span class="comment-copy">condensing code  is once line.</span>
<span class="comment-copy">@eyllanesc, there is no such requirement question and as far as I can see - my code is shorter than original one</span>
