<div class="post-text" itemprop="text">
<p>So I am trying to make my very first python program to automate a task that I have. The first snippet of code is from a python script that makes a new folder at a pre-specified destination and then moves files from their original location to the new folder. This part works. The folder is created like so:</p>
<pre><code>os.makedirs(new_folder, 0o777)
</code></pre>
<p>new_folder stores the name, given by the user, of the folder to be created.</p>
<p>The next snippet of code is from another script that does the opposite. It takes the files from the new folder and moves them back to the original folder and it does this successfully. However what doesn't work is what is supposed to happen next. Once moved back, it is supposed to delete the new folder with its content. I tried doing it with this code:</p>
<pre><code>os.chdir(new_path)
os.remove(folder_name)
</code></pre>
<p>og_path is just a variable that stores the path of the new folder which should be deleted. folder_name stores well...the folder's name</p>
<p>When I run the full code of the second script everything works; however when it reaches:</p>
<pre><code>os.remove(folder_name)
</code></pre>
<p>It gives me this error:</p>
<pre><code>Traceback (most recent call last):
  File "/Users/TVM/Desktop/python/move_file/move_file_reverse.py", line  25, in &lt;module&gt;
os.remove(folder_name)
PermissionError: [Errno 1] Operation not permitted: 'lab3'
</code></pre>
<p>Additional Variable Information:</p>
<pre><code> new_folder = "lab3"
 folder_name = "lab3"
 new_path = "/Users/TVM/Desktop/python/move_file/newloc"
</code></pre>
<p>The folder called <em>lab3</em> is in the folder <em>newloc</em></p>
</div>
<div class="post-text" itemprop="text">
<p>In the <a href="https://stackoverflow.com/questions/46536384/why-do-i-get-a-errno-1-operation-not-permitted-when-the-folder-is-created-with-f#comment80027320_46536384">comments</a> <em>@ShadowRanger</em> suggest to use <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" rel="nofollow noreferrer"><code>shutil.rmtree()</code></a></p>
<p>I replaced <code>os.remove()</code> with <code>shutil.rmtree()</code> and it worked. Thank you very much <em>@ShadowRanger</em>.</p>
</div>
<span class="comment-copy">Does the folder still contain files?  If so, I believe that is the problem; you have to get rid of all the files first.</span>
<span class="comment-copy">This isn't a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a>; your variable names aren't consistent, and it's unclear what other code might be occurring to define said names, or the relationship between them, or what other operations might be being performed on the file system in between.</span>
<span class="comment-copy">Following up on @JohnGordon: If you're trying to remove a whole directory tree, take a look <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" rel="nofollow noreferrer"><code>shutil.rmtree</code></a> which is a higher level function for deleting a directory and all of its contents.</span>
<span class="comment-copy">@JohnGordon I have tried getting rid of the files first however it still gives me the error on the file</span>
<span class="comment-copy"><i>I have tried getting rid of the files first</i> Saying you "tried" implies you weren't successful.  Did you remove the files, or not?</span>
