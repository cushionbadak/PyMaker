<div class="post-text" itemprop="text">
<p>I'm developing an aplication in django with many subdomains. For example www.mysite.com, mx.mysite.com, es.mysite.com, nz.mysite.com 
All of these patterns have to redirect to the same django aplication and render the html page with the country language.</p>
<p>is there any way to capture the sub domain in the views.py?</p>
<p>I want something like this in views.py: </p>
<pre><code>######## VIEWS.PY ###########
def hompage(request):
    subdomain = #HERE IS WHERE I WANT TO CAPTURE THE SUBDOMAIN 
    if subdomain=='www':
        contextdict = {"Language": "English"}
    else if subdomain=='mx':
        contextdict = {"Language": "Spanish"}
    return render(request, 'mysite/index.html', contextdict)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Basically, the question consists of three parts:</p>
<ol>
<li>How to get the url in the view. Answered <a href="https://stackoverflow.com/a/29946063/709897">here</a></li>
<li>How to parse url. Can be found <a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow noreferrer">here</a> if you have Python 3</li>
<li><p>Finally, you need to <a href="https://stackoverflow.com/a/27387432/709897">get the subdomain from string</a></p>
<p>from urllib.parse import urlparse</p>
<p>url = request.META['HTTP_HOST']</p>
<p>parse = urlparse(url)</p>
<p>print(parse.netloc.split('.')[0])</p></li>
</ol>
</div>
