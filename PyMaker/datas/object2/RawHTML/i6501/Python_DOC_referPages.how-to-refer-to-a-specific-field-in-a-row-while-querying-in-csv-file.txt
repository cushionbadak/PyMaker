<div class="post-text" itemprop="text">
<pre><code>  filename = selectedCompany + "/" + "1" + ".txt"  # define filename to save file with
        for row in csv_file:
            if selectedCompany == row[1]:
                count +=1
                if not os.path.exists(os.path.dirname(filename)):
                    try:
                        os.makedirs(os.path.dirname(filename))
                    except OSError as exc:  # Guard against race condition
                        if exc.errno != errno.EEXIST:
                            raise
        totalCnt=0
        print listOfCompanies #to debug
        print selectedCompany #to debug
        while totalCnt &lt; len(csv_file): # as long as total count is lesser than length of csv file
            totalCnt+=1        # add total count of 1
            for row in csv_file:
                if selectedCompany == row[:][1]: # if selected company equals to the company in csv file
                    with open(filename, "w") as output:  # save the .txt file
                        output.write(str(csv_file[totalCnt])) # save the contents of the csv file
                else:
                    totalCnt+=1  # add total count of 1
</code></pre>
<p>Hi all, I'm using python to read data from a csv file and export them as individual .txt files. 
My question is how do I refer to a specific field in a specific row?</p>
<p>For example my data set in a csv file is as follows</p>
<p>name gender age<br/>
  john   m     15<br/>
  mary   f     13<br/>
  sam    m     12</p>
<p>Upon the user's input of the name (i.e sam), I would like to be able to export the whole row of data (i.e "sam , m , 12" ) as data and export it as a .txt file.</p>
<p>If i want to pin point to sam's gender, for example, how do I go about doing it?
And furthermore, how do I use the for loop properly to ensure that I can export all the necessary .txt files I want?</p>
<p>I've tried searching around, however my case is a logic error and it's really tough to troubleshoot.</p>
<p>Would really appreciate any help.</p>
<p>Edit:</p>
<p>Error message after using panda module:</p>
<pre><code>   File "C:\Python27\lib\site-packages\pandas\core\frame.py", line 1797, in 
    __getitem__
    return self._getitem_column(key)
    File "C:\Python27\lib\site-packages\pandas\core\frame.py", line 1804, in _ 
   getitem_column
    return self._get_item_cache(key)
      File "C:\Python27\lib\site-packages\pandas\core\generic.py", line 1084, in 
    _get_item_cache
    values = self._data.get(item)
      File "C:\Python27\lib\site-packages\pandas\core\internals.py", line 2851, 
    in get
    loc = self.items.get_loc(item)
     File "C:\Python27\lib\site-packages\pandas\core\index.py", line 1572, in 
    get_loc
    return self._engine.get_loc(_values_from_object(key))
     File "pandas\index.pyx", line 134, in pandas.index.IndexEngine.get_loc 
    (pandas\index.c:3824)
     File "pandas\index.pyx", line 154, in pandas.index.IndexEngine.get_loc 
    (pandas\index.c:3704)
     File "pandas\hashtable.pyx", line 686, in p 
    pandas.hashtable.PyObjectHashTable.get_item (pandas\hashtable.c:12280)
      File "pandas\hashtable.pyx", line 694, in pandas.hashtable.PyObjectHashTable.get_item (pandas\hashtable.c:12231)
KeyError: False
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If I were you I would think about Pandas package - with that package your task could be very simple e.g.</p>
<pre><code>import pandas as pd
data = pd.read_csv("CSVFILE.csv", sep=',') # if you have your csv with headers it will create dataframe with names name | gender | age
desiredoutput = data[data.name == USERINPUT] #USERINPUT is e.g. sam (it us up to you how you gain it.. e.g. via input() command)
</code></pre>
<p>Your output is also comma separated values ((i.e "sam , m , 12" ))
so you can save it easily to csv containig only one line which you select by user input.</p>
<pre><code>desiredoutput.to_csv("NAMEYOUCHOOSE.csv", sep = ",", index=False, header=False)
</code></pre>
</div>
<span class="comment-copy">I would look into the standard library's <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv</a> module. It provides a convenient <code>reader()</code> object comprised of a list of lists which you can subscript (i.e. index by col).</span>
<span class="comment-copy">Or even <code>DictReader</code> that uses the col headers as dictionary keys</span>
<span class="comment-copy">Hi Sarah, please check my answer and ask me what do you need more I will try to help.</span>
<span class="comment-copy">Hi Petr  I've obtained several error messages which I've no idea what they mean. Any advice?</span>
<span class="comment-copy">Can you share those messages? Maybe you do not have installed pandas package (e.g. via pip install pandas)</span>
<span class="comment-copy">They are in my original post.</span>
<span class="comment-copy">Can you show us current version of that code? I do not see any pandas usage within you code. Have you try to run my code snippet?</span>
