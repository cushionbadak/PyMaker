<div class="post-text" itemprop="text">
<p>When I run this command from a bash terminal, I got the expected result:</p>
<pre><code>$ mongo --eval "db.getMongo().getDBNames()"
&gt; MongoDB shell version v3.4.2
&gt; connecting to: mongodb://127.0.0.1:27017
&gt; MongoDB server version: 3.4.2
&gt; [ "admin", "local" ]
</code></pre>
<p>I need to run this command from a Python script. This is what I wrote:</p>
<pre><code>import subprocess

cmd = ['mongo', '--eval', '\"db.getMongo().getDBNames()\"']
result = subprocess.check_output(cmd)
print(result)
</code></pre>
<p>This is the result when running this script:</p>
<pre><code>$ python3 log.py
&gt; b'MongoDB shell version v3.4.2\nconnecting to: mongodb://127.0.0.1:27017\nMongoDB server version: 3.4.2\ndb.getMongo().getDBNames()\n'
</code></pre>
<p>As you can see, it's almost the same thing except the original command <code>db.getMongo().getDBNames()</code> is displayed instead of the expected result <code>[ "admin", "local" ]</code>. </p>
<p>Is there an error in my script or is this expected behavior?</p>
</div>
<div class="post-text" itemprop="text">
<p>Try this. Let me explain - by default <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow noreferrer">check_output</a> has a default value <code>shell=False</code>, hence the reason it escapes the command on it's own.</p>
<pre><code>import subprocess

cmd = ['mongo', '--eval', 'db.getMongo().getDBNames()']
result = subprocess.check_output(cmd)
print(result)
</code></pre>
</div>
<span class="comment-copy">Yes, it worked, thanks! Though, I'm not 100% sure about what happened here.</span>
<span class="comment-copy">@Eldy I updated my answer.</span>
<span class="comment-copy">Thanks, I'll accept it asap.</span>
