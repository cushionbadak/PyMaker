<div class="post-text" itemprop="text">
<p>I have a  below list in python :</p>
<pre><code>response = [{u'Owner Name': u'Ashish Bainade', u'Unit ID': u'102', u'Wing': 
u'B'}, {u'Owner Name': u'Sagar Dhondhe', u'Unit ID': u'104', u'Wing': u'B'}, 
{u'Owner Name': u'Akshara Bainade', u'Unit ID': u'105', u'Wing': u'D'}]
</code></pre>
<p>I have to send response in below json format:</p>
<pre><code>Wings : [ { "wing name" :"B",Flat : [{"Unit ID" : 102 , "owner name" : 
"Ashish Bainade"},{"Unit ID" : 104 , "owner name" : "Sagar Dhondhe"} ] },
  { "wing name" :"D",Flat : [{"Unit ID" : 105 , "owner name" : "Akshara 
Bainade"}] 
}]           
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer"><code>itertools.groupby</code></a> to group the dicts using the <code>'Wing'</code> field and then build the new data structure excluding that field from each nested dict:</p>
<pre><code>from itertools import groupby

group_by_field = 'Wing'
f = lambda x: x[group_by_field]  

result = [{'Wing name': k, 
           'Flat': [{k: d[k] for k in set(d)-{group_by_field,}} for d in g]} 
                             for k, g in groupby(sorted(response, key=f), f)]
print(result)
</code></pre>
<hr/>
<pre><code>[{'Flat': [{'Owner Name': 'Ashish Bainade', 'Unit ID': '102'},
           {'Owner Name': 'Sagar Dhondhe', 'Unit ID': '104'}],
  'Wing name': 'B'},
 {'Flat': [{'Owner Name': 'Akshara Bainade', 'Unit ID': '105'}],
  'Wing name': 'D'}]
</code></pre>
<p>Presorting is required to use <code>itertools.groupby</code>.</p>
</div>
<span class="comment-copy">show your attempts</span>
<span class="comment-copy">you are great man,I was trying it from last 3 hours:) you saved my day:) have a great day ahead.</span>
