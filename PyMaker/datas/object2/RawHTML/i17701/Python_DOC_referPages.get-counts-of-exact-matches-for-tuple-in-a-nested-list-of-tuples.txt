<div class="post-text" itemprop="text">
<p>I have a list that contains multiple lists of tuples. I want to compare each tuple to every other tuple in the lists and return a count of the exact matches.</p>
<pre><code>    foo = [[('a',),('a','b'),('a','b','c'),('b','c'),('c',)],[('a',),('a','b')]]
</code></pre>
<p>Expected results:</p>
<pre><code>('a',)        2
('a','b')     2
('a','b','c') 1 
('b','c')     1
('c',)        1
</code></pre>
<p>Any help appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="http://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow"><code>collections.Counter</code></a>:</p>
<pre><code>&gt;&gt;&gt; import itertools
&gt;&gt;&gt; import collections
&gt;&gt;&gt;
&gt;&gt;&gt; foo = [[('a',),('a','b'),('a','b','c'),('b','c'),('c',)],[('a',),('a','b')]]
&gt;&gt;&gt; for x, cnt in collections.Counter(itertools.chain.from_iterable(foo)).most_common():
...     print(x, cnt)
...
('a',) 2
('a', 'b') 2
('a', 'b', 'c') 1
('c',) 1
('b', 'c') 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to merge all the lists into one, and then you can use <a href="http://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow"><code>Collections.Counter</code></a>, like this</p>
<pre><code>foo = [[('a',),('a','b'),('a','b','c'),('b','c'),('c',)],[('a',),('a','b')]]
from collections import Counter
print Counter(item for items in foo for item in items)
</code></pre>
<p><strong>Output</strong></p>
<pre><code>Counter({('a', 'b'): 2, ('a',): 2, ('b', 'c'): 1, ('c',): 1, ('a', 'b', 'c'): 1})
</code></pre>
<p>The same result can be achieved with normal <code>dict</code> as well</p>
<pre><code>result = {}
for items in foo:
    for item in items:
        result[item] = result.get(item, 0) + 1
print result
</code></pre>
<p><strong>Output</strong></p>
<pre><code>{('b', 'c'): 1, ('c',): 1, ('a', 'b'): 2, ('a',): 2, ('a', 'b', 'c'): 1}
</code></pre>
</div>
