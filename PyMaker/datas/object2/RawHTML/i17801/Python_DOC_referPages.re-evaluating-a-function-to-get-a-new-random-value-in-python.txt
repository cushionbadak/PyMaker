<div class="post-text" itemprop="text">
<p>here is the code that I am having a problem with(simplified to make it clearer). It is for a text based game just to help learn things.</p>
<pre><code>class Character(object):
    def __init__(self):
        self.level = 5
        self.moveset = [None,None,None,None] 

    def movesetleveling(self): 
        if self.level &gt; 4:
            self.moveset[0] = Punch(self.level)

def punch(level):
    damagedealt = random.randint(0,5)**level
    return damagedealt
</code></pre>
<p>I would like to know how I can make <code>self.moveset[0] = Punch()</code> rather than being equal to the output of <code>Punch()</code> in this block of code. So that everytime i run it in a while loop it will re-evaluate the output of Punch() rather than evaluating <code>Punch()</code> once and assigning that to the 0th index of <code>self.moveset[0]</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could assign a function to <code>self.moveset[0]</code> instead of its result (using <a href="http://docs.python.org/3/library/functools#functools.partial" rel="nofollow"><code>functools.partial()</code></a>):</p>
<pre><code>from functools import partial

self.moveset[0] = partial(punch, self.level)
</code></pre>
<p>Then later, in your <code>while</code> loop, just call it:</p>
<pre><code>while True:
    new_punch_every_time = self.moveset[0]() #note: parentheses
</code></pre>
<p><code>self.moveset[0]()</code> calls <code>punch</code> function with <code>level</code> parameter set to <code>self.level</code> (its value at the time of <code>partial</code> call).</p>
<p>It works because functions, methods are first class citizens in Python. You can pass them as parameters to other functions, return from functions, bind to a different name, append to a list, etc.</p>
</div>
<span class="comment-copy">What do you mean by "run it in a while loop"?  How are you intending to use <code>moveset</code>?</span>
<span class="comment-copy">Do you want to have four random punch levels in <code>self.moveset</code> or do you want the first item in <code>self.moveset</code> to be a random punch value in each iteration of your loop?</span>
<span class="comment-copy">@BrenBarn <code>moveset</code> will be used to show a selection of player moves. they will select a move from the list which will then be evaluated to produce an integer value which will be a damagestat. this damagestat will affect a Foes health. I have created a while loop which does this over and over but each time it uses the same value for <code>self.moveset[0]</code> rather than getting a new value.</span>
<span class="comment-copy">Add your while loop to the question</span>
<span class="comment-copy">@BurhanKhalid i want the first item to be a random punch value in each iteration of the loop.</span>
<span class="comment-copy"><code>partial</code>? to a beginner? ;)</span>
<span class="comment-copy">@thefourtheye: OP explicitly said: <i>"to help learn things"</i>. <code>functools.partial()</code> is the thing to learn. It is not a crocodile; it won't eat you if you come near it.</span>
<span class="comment-copy">Nice, but I suspect the problem might be in the while loop (of the original question)</span>
<span class="comment-copy">@J.F.Sebastian just had a look at the <code>functools</code> docs and i somewhat agree with @thefourtheye 's sentiment. my head is swimming. A slightly more beginner friendly answer would be greatly appreciated if you know of one!</span>
<span class="comment-copy">@user3124704: which concept/word do you not understand in this sentence: <i>"<code>self.moveset[0]()</code> calls <code>punch</code> function with <code>level</code> parameter set to <code>self.level</code> (its value at the time of the <code>partial</code> call)."</i>? Do you know what function is? What is function parameter? What does it mean to call a function with a given parameter?</span>
