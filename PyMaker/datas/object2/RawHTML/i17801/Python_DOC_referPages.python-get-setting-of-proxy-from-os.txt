<div class="post-text" itemprop="text">
<p>I need to get some data from the internet but I'm behind corporate proxy and I do not know a password. So I tried many examples with pyRequests module but always I get only message 'Authorization failed ...'. </p>
<p>So I am just thinking if this idea is possible:
Main setup for proxy is stored in the IE (connection tab in settings) and I am also using Chrome and if I understand well Chrome is using this setup for access to internet (because when I open proxy setting in Chrome, the IE Proxy Setting Window popup). </p>
<p>So my question is if I can also use (somehow) this setting for my python script and how (without knowing password).</p>
</div>
<div class="post-text" itemprop="text">
<p>By using the Python <code>urllib</code> module you can programmatically obtain the proxies on your system in a platform independent way using the <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.getproxies" rel="nofollow noreferrer">urllib.request.getproxies</a> function:</p>
<pre><code>import urllib
urllib.request.getproxies()
</code></pre>
<p>This function will first check for any proxies set in the environment variables (e.g. <code>http_proxy</code> etc) or if none are set then it will check for system configured proxies using platform specific calls (e.g. On MacOS it will check using the system scutil/configd interfaces, and on Windows it will check the Registry).</p>
</div>
<div class="post-text" itemprop="text">
<p>There are known (UNIX) operating system environment variables whi Python support for proxying. Also, for Windows, it should try to read settings from OS registry in the case it is possible: <a href="https://mail.python.org/pipermail/tutor/2008-December/065573.html" rel="nofollow noreferrer">https://mail.python.org/pipermail/tutor/2008-December/065573.html</a></p>
<p>Proxy settings are used e.g. by</p>
<ul>
<li><p>pip</p></li>
<li><p>urllib</p></li>
<li><p>requests </p></li>
</ul>
<p>... as far as I know.</p>
<p>If Python fails to get proxy settings from Windows it would be worth of investigating by running test scripts which use urllib proxy functions (see link above).  </p>
<p>Examples how to set HTTP(S) proxy for Python:</p>
<p><a href="https://stackoverflow.com/questions/17247981/how-to-tell-python-to-automatically-use-the-proxy-setting-in-windows-xp-like-rs">How to tell Python to automatically use the proxy setting in Windows XP like R's internet2 option?</a></p>
</div>
<span class="comment-copy">If you could use proxies in Chrome, you should have access to these proxies through <code>requests</code>.</span>
<span class="comment-copy">Maybe I do not know how it exactly works. I do not have password for proxy. I tried to use user name and password which I get for Windows but it is not working for me.</span>
<span class="comment-copy">It's empty ... see the output below  <code>&gt;&gt;&gt; import urllib &gt;&gt;&gt; urllib.request.getproxies() {} &gt;&gt;&gt;</code></span>
<span class="comment-copy">That means thereâ€™s no system proxy configured.</span>
<span class="comment-copy">When I add a variable for HTTP_PROXY, instead of connection failed I get just 'Access is denieddue to .... Authentication Failed' It is tha same when I use connect to proxy with requests module.</span>
<span class="comment-copy">Does your proxy require username and password?</span>
<span class="comment-copy">Yes it does, but it does not work with my Windows account. I hope that if IE and Chrome is working, I can 're-use' access to the internet.</span>
