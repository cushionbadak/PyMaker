<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/1450897/python-removing-characters-except-digits-from-string">Python: removing characters except digits from string</a>
<span class="question-originals-answer-count">
                    13 answers
                </span>
</li>
</ul>
</div>
<p>I have one long string "M. tuberculosis H37Rv|Rv0153c|ptbB

<p>out put should look like this:</p>
<pre><code>"370153"
</code></pre>
<p>or </p>
<pre><code>"M.tuberculosisHRv|Rvc|ptbB&lt;b"
</code></pre>
<p>thanks </p>
</p></div>
<div class="post-text" itemprop="text">
<p>You can use <a href="http://docs.python.org/dev/library/re.html#re.sub" rel="nofollow"><code>re.sub</code></a>:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; re.sub(r'[0-9]', '', 'M. tuberculosis H37Rv|Rv0153c|ptbB')
'M. tuberculosis HRv|Rvc|ptbB'
&gt;&gt;&gt; re.sub(r'[^0-9]', '', 'M. tuberculosis H37Rv|Rv0153c|ptbB')
'370153'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this:</p>
<pre><code>In [4]: ''.join([x for x in s if x.isdigit()])
Out[4]: '370153'
</code></pre>
<p>and the fastest way is:</p>
<pre><code>In [4]: ''.join((x for x in s if x.isdigit()))
Out[4]: '370153'
</code></pre>
</div>
<span class="comment-copy">You could use a <a href="http://docs.python.org/3/library/re.html" rel="nofollow noreferrer">regular expression</a>. How did you try it?</span>
<span class="comment-copy">Why are you using a list comprehension instead of a generator expression? I think the latter is much more appropriate here, almost certainly faster, and shorter to boot.</span>
<span class="comment-copy">You mean regexp?</span>
<span class="comment-copy">No, I mean <a href="http://docs.python.org/dev/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expressions</a>. You can simply drop the brackets to make your program use them. This means that Python won't senselessly allocate a list for your results, iterate once over it, and then throw it away.</span>
<span class="comment-copy">@phihag A generator expression is slower using Python 2.7 according to <code>python -m timeit "''.join(ch for ch in 'M. tuberculosis H37Rv|Rv0153c|ptbB' if ch.isdigit())"</code></span>
<span class="comment-copy">You are right, generator much faster. Thank you!</span>
