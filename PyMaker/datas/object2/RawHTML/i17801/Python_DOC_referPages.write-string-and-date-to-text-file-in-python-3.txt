<div class="post-text" itemprop="text">
<p>Trying to figure out how to out a guessing game score plus the date &amp; time to a text file with a new line each time, keeping the old text.</p>
<p>This is what I've got so far;</p>
<pre><code>print('You scored %s.' % scr)
file = open("scr.txt", mode='w')
file.write('Printed string %s.\n' % scr)
</code></pre>
<p>This isn't working by the way - it's showing that an edit has been made to the text file but nothing is showing up in the text file - so I'm doing something wrong. </p>
<p>I want the text file to read 'Printed string <em>scr</em> recorded at <em>date &amp; time</em>. As well as wanting a new line each time upon writing and keeping what has been written before. </p>
<p>Thanks in advance. Any help would be greatly appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>You're not calling <a href="http://docs.python.org/3/library/io.html#io.IOBase.close" rel="noreferrer"><code>file.close()</code></a> anywhere. Until you do that (or <code>file.flush()</code>), there is no guarantee that anything will be written to the file; it could all be sitting around in a buffer somewhere.</p>
<p>A better way to do this is to use a <code>with</code> statement, so you don't have to remember to call <code>close</code>.</p>
<p>This is explained indirectly by <a href="http://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="noreferrer">Reading and Writing Files</a> in the tutorial. The reference documentation explaining it in detail is scattered around the <a href="http://docs.python.org/3/library/io.html" rel="noreferrer"><code>io</code></a> docs, which can be hard for a novice to understand.</p>
<hr/>
<p>Also, opening the file in <code>'w'</code> mode will <em>replace</em> the entire file each time. You want to append to the existing file, which means you need <code>'a'</code> mode. See the tutorial section <a href="http://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="noreferrer">Reading and Writing Files</a> or the <a href="http://docs.python.org/3/library/functions.html#open" rel="noreferrer"><code>open</code></a> documentation for more details.</p>
<hr/>
<p>Adding a new line, you've already got right, with the <code>\n</code> in the format string.</p>
<hr/>
<p>Finally, you can get the date and time with the <a href="http://docs.python.org/3/library/datetime.html" rel="noreferrer"><code>datetime</code></a> module. If you don't mind the default ISO date format, you can just format the <code>datetime</code> object as a string.</p>
<hr/>
<p>Putting it all together:</p>
<pre><code>import datetime

with open("scr.txt", mode='a') as file:
    file.write('Printed string %s recorded at %s.\n' % 
               (scr, datetime.datetime.now()))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Is this what you want?</p>
<pre><code>from datetime import datetime
with open('scr.txt', 'a') as file:
    file.write('Printed string %s. Recorded at: %s\n' % scr %datetime.now())
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; n = datetime.now()
&gt;&gt;&gt; print("%s"%n)
2013-12-11 08:16:38.029267
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think what you're missing is a <code>flush</code> and <code>close</code>.  Python (like many other languages) uses buffers to manage data writes and batch writes to be more efficient.  Try adding this after to see if you actually get some output in your file.</p>
<pre><code>file.close()
</code></pre>
<p>Additionally, to keep the previous data in your file, you'll want to open in append mode.</p>
<pre><code>file = open("scr.txt", "a")
</code></pre>
<p>This way, writes will append to the end of the file instead of truncating and rewriting your scores.</p>
</div>
<span class="comment-copy">How did you get the date and time?</span>
<span class="comment-copy">I haven't yet - I'm still trying to figure that out. I'm trying to post the output from a guessing game, alongside the time and date of it being posted.</span>
<span class="comment-copy">Why would that be his whole code?</span>
<span class="comment-copy">Got it working fine from this - thank you very much for your help. Greatly appeciated.</span>
<span class="comment-copy">@aIKid: It wouldn't be his <i>whole</i> code, but it would be the whole code <i>for the part he asked about</i>.</span>
