<div class="post-text" itemprop="text">
<p>How to modify the .ini file?  My ini file looks like this. And i want the format section ini to be changed like this[Space to be replaced with a tab followed by $]
Format="[%TimeStamp%]   $(%ThreadID%)   $&lt;%Tag%&gt;    $%_%"</p>
<pre><code>[Sink:2]

Destination=TextFile
FileName=/usr/Desktop/A.log
RotationSize=5000000
MaxSize=50000000
MinFreeSpace=10000000
AutoFlush=true
Format="[%TimeStamp%] (%ThreadID%) &lt;%Tag%&gt; %_%"
Filter="%Severity% &gt;= 0"
</code></pre>
<p>This is what i wrote</p>
<pre><code>import ConfigParser
config = ConfigParser.RawConfigParser()
config.read('/usr/local/ZA/var/loggingSettings.ini')
format = config.get('Sink:2', 'Format')
tokens = "\t$".join(format.split())
print format
print tokens
config.set('Sink:2', 'Format', tokens)
newformat = config.get('Sink:2', 'Format')
print newformat
</code></pre>
<p>And the Output is the exact what i wanted.But when i open the .ini file, i see no changes here?
Could be when i reading again the section , its loading from memory? How did i make the changes permanent </p>
</div>
<div class="post-text" itemprop="text">
<p>Try using the <a href="http://docs.python.org/3/library/configparser.html#configparser.ConfigParser.write" rel="nofollow"><code>write</code></a> method.</p>
<pre><code>with open('myconfig.ini', 'w') as f:    
    config.write(f)
</code></pre>
<p>When you read in a config with <code>config.read('myconfig.ini')</code> you have "saved" the file exactly as it is.  Now what you want to do is modify the contents.</p>
<pre><code># Get a config object
config = RawConfigParser()
# Read the file 'myconfig.ini'
config.read('myconfig.ini')
# Read the value from section 'Orange', option 'Segue'
someVal = config.get('Orange', 'Segue')
# If the value is 'Sword'...
if someVal == 'Sword':
    # Then we set the value to 'Llama'
    config.set('Orange', 'Segue', 'Llama')
# Rewrite the configuration to the .ini file
with open('myconfig.ini', 'w') as myconfig:
    config.write(myconfig)
</code></pre>
</div>
<span class="comment-copy">IOError: [Errno 13] Permission denied. How do i solve the permission error. How i do pass the script the sudo credential</span>
<span class="comment-copy">Well you need to make sure that you have write permissions before you can write to a file. <code>chmod a+w myconfig.ini</code> in a unix shell will let anybody write to the file, so that should solve your problem. Or you can probably execute the script with <code>sudo python myscript.py</code>.</span>
<span class="comment-copy">@Wiliam, if i change the file, its format gets changed. How to i ensure the ini file format remains intact. I need to just edit one of the section in a pre-existing ini file. please advice</span>
<span class="comment-copy">When you read the .ini file into the <code>config</code> object, you are saving everything in there as it is in the file.  You need to edit the sections in the <code>config</code> object and then write it back using the <code>write</code> method.</span>
