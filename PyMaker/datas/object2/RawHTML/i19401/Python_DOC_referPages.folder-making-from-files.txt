<div class="post-text" itemprop="text">
<p>This is how my files look like..</p>
<pre><code>   a-b-2013-02-12-16-38-54-a.png
   a-b-2013-02-12-16-38-54-b.png
</code></pre>
<p>I've like thousands of files like this. 
Can we make folders for each set of files like <code>a-b</code>
Can I grep it? how can I do it?</p>
<pre><code>import glob, itertools, os
import re
foo = glob.glob('*.png')

for a in range(len(foo)):
        print foo[a]
        match=re.match("[a-zA-Z0-9] - [a-zA-Z0-9] - *",foo[a])
        print "match",match
</code></pre>
<p>So, what's the error there?</p>
</div>
<div class="post-text" itemprop="text">
<p>Make a list of all files with <code>glob.glob('*.png')</code>.</p>
<p>You can then parse every filename using regex (<code>import re</code>).</p>
<p>Make dirs using <code>os.mkdir(path)</code>.</p>
<p>Move files using <code>os.rename(src, dst)</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>This code will work for what you want to do:</p>
<pre><code>import os

path="./"
my_list = os.listdir(path)   #lists all the files &amp; folders in the path ./ (i.e. the current path)

for my_file in my_list:
    if ".png" in my_file:
        its_folder="something..."
        if not os.path.isdir(its_folder):
            os.mkdir(its_folder)     #creates a new folder
        os.rename('./'+my_file, './'+its_folder+'/'+my_file)    #moves a file to the folder some_folder.
</code></pre>
<p>You have to specify the name for each folder you want to create, and to move files into, (instead of "something...") eg:</p>
<pre><code>its_folder=my_file[0:3];    #if my_file is "a-b-2013-02-12-16-38-54-a.png" the corresponding folder would have its first 3 characters: "a-b".
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Something to get you stared, adapt to your own needs:</p>
<p>Lets create some files:</p>
<pre><code>$ touch a-b-2013-02-12-16-38-54-{a..f}.png


$ ls
a-b-2013-02-12-16-38-54-a.png  a-b-2013-02-12-16-38-54-c.png  a-b-2013-02-12-16-38-54-e.png  f.py
a-b-2013-02-12-16-38-54-b.png  a-b-2013-02-12-16-38-54-d.png  a-b-2013-02-12-16-38-54-f.png
</code></pre>
<p>Some python</p>
<pre><code>#!/usr/bin/env python

import glob, os

files = glob.glob('*.png')

for f in files:
    # get the character before the dot
    d = f.split('-')[-1][0]
    #create directory
    try:
        os.mkdir(d)
    except OSError as e:
        print 'unable to creade dir', d, e
    #move file
    try:
        os.rename(f, os.path.join(d, f))
    except OSError as e:
        print 'unable to move file', f, e
</code></pre>
<p>Lets run it</p>
<pre><code>$ ./f.py

$ ls -R
.:
a  b  c  d  e  f  f.py

./a:
a-b-2013-02-12-16-38-54-a.png

./b:
a-b-2013-02-12-16-38-54-b.png

./c:
a-b-2013-02-12-16-38-54-c.png

./d:
a-b-2013-02-12-16-38-54-d.png

./e:
a-b-2013-02-12-16-38-54-e.png

./f:
a-b-2013-02-12-16-38-54-f.png
</code></pre>
</div>
<span class="comment-copy">Yes you can. Do the appropriate string operations and invoke the <code>mkdir</code> syscall as wrapped by Python.</span>
<span class="comment-copy">Can you point me to an example or something ?</span>
<span class="comment-copy"><a href="http://docs.python.org/3/library/os.html?highlight=mkdir#os.mkdir" rel="nofollow noreferrer">docs.python.org/3/library/os.html?highlight=mkdir#os.mkdir</a> &amp; <a href="http://docs.python.org/3/library/string.html?highlight=string#string" rel="nofollow noreferrer">docs.python.org/3/library/string.html?highlight=string#string</a></span>
<span class="comment-copy">try the code suggested and update your question with your efforts if/when you are stuck and we'd be glad to assist you further</span>
<span class="comment-copy">@Fredrik: can you have a look at the core there.</span>
<span class="comment-copy">Can you look into the code i posted now?</span>
