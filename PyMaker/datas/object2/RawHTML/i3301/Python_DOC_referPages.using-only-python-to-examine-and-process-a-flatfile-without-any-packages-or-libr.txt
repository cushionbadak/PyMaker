<div class="post-text" itemprop="text">
<p>I'm more of a SQL guy but I was asked a question that stumped me during an interview. I'll put the gist of it here:
there is a flatfile with two columns: 'Course' and 'Student_id' with several rows
Course: Science, Math, Science, History, Science, Math
Student_id: 101, 103, 102, 101, 103, 101</p>
<p>How would you go about using only base python with no packages or libraries, grouping the students by courses, returning counts of students in each course, returning 'Science' with number of students enrolled, returning 'Math' with each student_id enrolled</p>
<p>I knew how I would go about this in SQL and with pandas but did not know how to go about this in base python without packages or libraries. Please help. </p>
</div>
<div class="post-text" itemprop="text">
<p>You can build a dictionary with courses as keys and keep <code>sets</code> of student ids. </p>
<p>(You could keep <code>lists</code> of student ids but then you might end up with duplicates which would skew your numbers, although maybe that's something you should check and warn about or stop with an error.)</p>
<p><code>dict</code> has a function <a href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" rel="nofollow noreferrer"><strong><code>setdefault</code></strong></a> which creates a value for a key only if it doesn't already exist, and returns the value. If you set a <code>set</code> it will return it and you can add the latest student id:</p>
<pre><code>course_students = {}

with open(input) as flatfile:
    for line in flatfile:
        course, student_id = line.split(',')
        course_students.setdefault(course, set()).add(student_id)

print(len(course_students['Science']))
print(course_students['Math'])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><em>Edit:</em></p>
<p>Seems I misread your description of the file format, this solution works if you get two rows with column-separated values in them - not for lots of rows with two comma sepparated values each. </p>
<p>Leaving it in as its a mvca for the file format I thought you faced.</p>
<hr/>
<p>You could do this:</p>
<pre><code>data = """Course: Science, Math, Science, History, Science, Math
Student_id: 101, 103, 102, 101, 103, 101"""

fn = "data.txt"
# write file
with open(fn,"w") as f:
    f.write(data)
</code></pre>
<p>With that file you:</p>
<pre><code># read file 
d = {}
with open(fn,"r") as f:
    for line in f:
        c,cc = line.split(":")
        d[c] = [x.strip() for x in cc.split(",")]

# create a (course,student)-tuple list          
tups = list(zip( d["Course"],d["Student_id"]))

# create a dict of course : student_list
# you can streamline this using defaultdict from collections but that needs an import
courses = {}
for course,student in tups: # iterate, create course:pupillist dict

    if course in courses:
        courses[course].append(student)
    else:
        courses[course] = [student]

# print all (including Science) with amount of pupils
for k in courses:
    print(k, len(courses[k]))

# print Math + StudentIds
print("Math: ", courses["Math"])
</code></pre>
<p>Output:</p>
<pre><code>Science 3
Math 2
History 1
Math:  ['103', '101']
</code></pre>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/stdtypes.html#dict" rel="nofollow noreferrer"><b><code>dict</code></b></a> with <a href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" rel="nofollow noreferrer"><b><code>setdefault</code></b></a> and <code>list</code>, <code>set</code>, etc.</span>
<span class="comment-copy">Yes, i completely agree, I am using this to learn. I wanted to know what I would need to know and some of the approaches to pursue that. This is merely for educational purposes. I used the context for insight. I could have not included it but wanted to be clear and honest.</span>
<span class="comment-copy">This is definitely and exchange of knowledge and that is how I have treated this, in no way was this knowledge misused or utilised for personal gain. This is how exchanges for educational and knowledge purposes are used. You should broaden your scope for understanding and seeking and providing help. You may not have found this to be useful for your purposes but how can you possibly decide that it is not applicable to anyone else? -jonsharpe</span>
<span class="comment-copy">Thank you. I appreciate the response. Great help.</span>
<span class="comment-copy">Thank you for the in-depth response! this was greatly helpful. i know I lack in some basic knowledge for python but this greatly helps me for material that I need to cover. Thank you very much!</span>
