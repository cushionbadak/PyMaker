<div class="post-text" itemprop="text">
<p>I have a number of data files, each containing a large amount of data points. </p>
<p>After loading the file with numpy, I get a numpy array:</p>
<pre><code>f=np.loadtxt("...-1.txt")
</code></pre>
<p>How do I randomly select a length of <code>x</code>, but the order of numbers should not be changed?</p>
<p>For example:</p>
<pre><code>f = [1,5,3,7,4,8]
</code></pre>
<p>if I wanted to select a random length of 3 data points, the output should be:</p>
<ol>
<li><code>1,5,3</code>, or</li>
<li><code>3,7,4</code>, or</li>
<li><code>5,3,7</code>, etc.</li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>Pure logic will get you there.</p>
<p>For a list <code>f</code> and a max length <code>x</code>, the valid starting points of your random slices are limited to <code>0, len(f)-x</code>:</p>
<pre><code>     0 1 2 3
f = [1,5,3,7,4,8]
</code></pre>
<p>So all valid starting point can be selected with <code>random.randrange(len(f)-x+1)</code> (where the <code>+1</code> is because <a href="https://docs.python.org/3/library/random.html#functions-for-integers" rel="nofollow noreferrer"><code>randrange</code></a> works like <code>range</code>).</p>
<p>Store the random starting point into a variable <code>start</code> and slice your array with <code>[start:start+x]</code>, or be creative and use another slice after the first:</p>
<pre><code>result = f[random.randrange(len(f)-x+1):][:3]
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/6482889/get-random-sample-from-list-while-maintaining-ordering-of-items">Get random sample from list while maintaining ordering of items?</a></span>
<span class="comment-copy">This works just perfect! Thank you for providing the details for the logic used in the code! It helps a lot!</span>
