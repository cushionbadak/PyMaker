<div class="post-text" itemprop="text">
<p>Total python noob here. Trying to learn python. I'm using macosx with high sierra <code>10.13.5</code> and have python <code>Python 2.7.10</code>.  My task here is to run a mongodb query using python, but to no avail as i'm trying to use <code>pymongo</code>.  </p>
<p>Here's the message that I'm seeing: (executed on command line <code>python mydev.py</code>)</p>
<pre><code>  File "mydev.py", line 3, in &lt;module&gt;
    import pymongo
  File "/usr/local/lib/python2.7/site-packages/pymongo/__init__.py", line 77, in &lt;module&gt;
    from pymongo.collection import ReturnDocument
  File "/usr/local/lib/python2.7/site-packages/pymongo/collection.py", line 20, in &lt;module&gt;
    from bson.code import Code
  File "/usr/local/lib/python2.7/site-packages/bson/__init__.py", line 84, in &lt;module&gt;
    from bson.dbref import DBRef
  File "/usr/local/lib/python2.7/site-packages/bson/dbref.py", line 17, in &lt;module&gt;
    from copy import deepcopy
  File "/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/copy.py", line 52, in &lt;module&gt;
    import weakref
  File "/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/weakref.py", line 14, in &lt;module&gt;
    from _weakref import (
ImportError: cannot import name _remove_dead_weakref
</code></pre>
<p>I got this same message running the python shell with just <code>import pymongo</code> and running the script. </p>
<p>My python script:</p>
<pre><code>#!/usr/local/bin/python

import pymongo
import json
from pymongo import MongoClient

# DB connect
client = MongoClient('10.1.2.345')
db = client.test
collection = db.my_profiles

# Read
print collection.find_one({"account" : "foo", "profile" : "bar", "info.published" : True}, {"account":1, "profile":1,"settings.region":1})
</code></pre>
<p>So, i don't know how do i get this to work.  What pkgs am I missing? Thanks for your help.</p>
</div>
<div class="post-text" itemprop="text">
<p>Given the hint that it was not <code>pymongo</code> but the fact that I have multiple versions of python running on my mac. It became clearer after more research that having multiple versions of python can be problematic.  I read this article - <a href="https://docs.python.org/3/using/mac.html#ide" rel="nofollow noreferrer">https://docs.python.org/3/using/mac.html#ide</a></p>
<p>I was able to successfully run the python script like so:</p>
<p><code>/usr/bin/python mydev.py</code></p>
</div>
<span class="comment-copy">you also need to add the port number</span>
<span class="comment-copy">i got the same error messages just running the python shell and using <code>&gt;&gt;&gt; import pymongo</code></span>
<span class="comment-copy">You have a messed up Python path and are importing modules from the wrong versions of Python.  Basically, this is you: <a href="https://xkcd.com/1987/" rel="nofollow noreferrer">xkcd.com/1987</a>    You need to determine which Python you're actually running and where it came from, and make sure you're running that and only that Python without any other entries on <code>sys.path</code>.  It has nothing really to do with pymongo.</span>
<span class="comment-copy">oh boy, any docs on how to clean this up?</span>
