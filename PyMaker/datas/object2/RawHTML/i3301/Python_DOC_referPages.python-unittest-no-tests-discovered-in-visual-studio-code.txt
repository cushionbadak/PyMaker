<div class="post-text" itemprop="text">
<p>I'm trying to make the self-running <a href="https://code.visualstudio.com/docs/python/unit-testing" rel="nofollow noreferrer">feature</a> of Visual Studio Code unit tests work.
I recently made a change in the directory structure of my Python project that was previously like this:</p>
<pre><code>myproje\
    domain\
        __init__.py
    repositories\
    tests\
        __init__.py
        guardstest.py
    utils\
        __init__.py
        guards.py
    web\
</code></pre>
<p>And my setup for unittest was like this:</p>
<pre><code>    "python.unitTest.unittestArgs": [
    "-v",
    "-s",
    "tests",
    "-p",
    "*test*.py"
]
</code></pre>
<p>After the changes, the structure of the project was as follows:</p>
<pre><code>myprojet\
    app\
        controllers\
            __init__.py
        models\
            __init__.py
            entities.py
            enums.py
        tests\
            res\
                image1.png
                image2.png
            __init__.py
            guardstest.py
        utils\
            __init__.py
            guards.py
        views\
            static\
            templnates\
        __init__.py         
    uml\
</code></pre>
<p>After that the extension does not discover my tests anymore. I've tried to change the '-s' parameter to <code>"./app/tests"</code>, <code>".tests"</code>, <code>"./tests"</code>, <code>"app/tests"</code>, <code>"/app/tests"</code>, <code>"app.tests"</code>, unsuccessfully .</p>
<p><a href="https://i.stack.imgur.com/H9RMF.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/H9RMF.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>The problem was that I was using relative imports in the test module (<code>from ..utils import guards</code>). 
I just changed it to absolute import (<code>from app.utils import guards</code>) and it all worked again.</p>
</div>
<div class="post-text" itemprop="text">
<p>Activate your virtualenv,</p>
<p>Go in your <code>myproject</code> directory and run:</p>
<pre><code>python -m unittest app/tests/
</code></pre>
<p>This will run the tests in <code>app/tests/</code>.</p>
<p>Follow the <a href="https://docs.python.org/3/library/unittest.html" rel="nofollow noreferrer">documentation</a> for more information.</p>
<p><strong>EDIT:</strong></p>
<p>You need to set the <em>cwd</em> parameter to the root of your project (<code>myproject</code> directory) and change the <em>unittestArgs</em> to search tests in <code>app/tests</code>.</p>
<pre><code>{
 "python.unitTest.cwd": "path/to/myproject",
 "python.unitTest.unittestArgs": [
    "-v",
    "-s", "app/tests",
    "-p", "*test*.py"]
}
</code></pre>
</div>
<span class="comment-copy">What are you speaking about? What is your IDE ?</span>
<span class="comment-copy">I'm trying to make the self-running <a href="https://code.visualstudio.com/docs/python/unit-testing" rel="nofollow noreferrer">feature</a> of Visual Studio Code unit tests work. I'm using <b>Visual Studio Code</b></span>
<span class="comment-copy">You can accept your own answer so that the question has an answer.</span>
<span class="comment-copy">Visual Studio Code can not discover tests when Python syntax is broken</span>
<span class="comment-copy">I'm trying to make the self-running <a href="https://code.visualstudio.com/docs/python/unit-testing" rel="nofollow noreferrer">feature</a> of Visual Studio Code unit tests work. I'm using <b>Visual Studio Code</b></span>
<span class="comment-copy">I'd already tried that. The solution is in the answer below. But thank you very much for the attention given to my problem.</span>
<span class="comment-copy">Looking at <a href="https://github.com/Microsoft/vscode-python/blob/master/pythonFiles/PythonTools/visualstudio_py_testlauncher.py" rel="nofollow noreferrer">github.com/Microsoft/vscode-python/blob/master/pythonFiles/â€¦</a> It seems that "python.unitTest.cwd" isn't supported. Same goes for -t flag... it doesn't seem to propagate to unittest module in any way... more info here:  <a href="https://github.com/Microsoft/vscode-python/issues/2162" rel="nofollow noreferrer">github.com/Microsoft/vscode-python/issues/2162</a></span>
