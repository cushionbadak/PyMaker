<div class="post-text" itemprop="text">
<p>I'm trying to send command in tetnet but it's not working. i tried different code find in this forum but no one works. it's for rebooting a device. i'm using python 3.6.     </p>
<pre><code>import telnetlib

host = "192.168.1.0"
port = 23
timeout = 100

session = telnetlib.Telnet(host, port, timeout)
session.write("administrator\n").encode('ascii')
session.write("password\n").encode('ascii')
session.write("reboot\n").encode('ascii')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/telnetlib.html?highlight=telnetlib#telnetlib.Telnet.write" rel="nofollow noreferrer"><code>Telnet.write()</code></a> function takes a byte string. This can either be supplied by encoding just the string (you tried encoding the return from the function), e.g.</p>
<pre><code>session.write("administrator\n".encode('ascii'))
</code></pre>
<p>or by prefixing your strings with <code>b</code> as follows:</p>
<pre><code>import telnetlib

host = "192.168.1.0"
port = 23
timeout = 100

with telnetlib.Telnet(host, port, timeout) as session:
    session.write(b"administrator\n")
    session.write(b"password\n")
    session.write(b"reboot\n")
</code></pre>
</div>
<span class="comment-copy">Have you considered using pexpect?    With pexpect, you can conditionally specify the next action.  Your case is very straight forward, so it may be overkill, but I would suggest learning pexpect since it is way more flexible.</span>
