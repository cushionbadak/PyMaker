<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/35906411/list-on-python-appending-always-the-same-value">List on python appending always the same value [duplicate]</a>
<span class="question-originals-answer-count">
                    6 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/11492656/create-list-of-dictionary-python">Create List of Dictionary Python</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>I am trying to append dictionaries to a list here, problem is after appending both "Chrome" and "Firefox" values to the "list" i see only firefox.exe in list for both entries ..</p>
<p>any help is really appreciated.
See the print statement of dictionary where both values are different.</p>
<pre><code>MyItems = ["ChromeSetup.exe","firefox.exe"]
listofitems = [{"appId": "ChromeID", 'id': "0","name": 'ChromeSetup.exe','_id': 'ChromeUnique'},{"appId": "FireFoxID", 'id': "0","name": 'firefox.exe','_id': 'FireFoxUnique'} ]

__id = ""
appId = ""
result = []
Dict = {"installerParameters":"","managedApp":{"_id":__id, "appId":appId},"postInstallAction":0,"postInstallScript":{"_id":"0"},"preInstallScript":{"_id":"0"}}

for app in MyItems:
    for items in listofitems:
        if items['name'] == app:
            Dict["managedApp"]["_id"] = items['_id']
            Dict["managedApp"]["appId"] = items['appId']
            print("Dictionery",Dict)
            result.append(Dict)
            break

print("See the List", result)
</code></pre>
<p>Result:</p>
<pre><code>Dictionery {'installerParameters': '', 'managedApp': {'_id': 'ChromeUnique', 'appId': 'ChromeID'}, 'postInstallAction': 0, 'postInstallScript': {'_id': '0'}, 'preInstallScript': {'_id': '0'}}
Dictionery {'installerParameters': '', 'managedApp': {'_id': 'FireFoxUnique', 'appId': 'FireFoxID'}, 'postInstallAction': 0, 'postInstallScript': {'_id': '0'}, 'preInstallScript': {'_id': '0'}}
See the List [{'installerParameters': '', 'managedApp': {'_id': 'FireFoxUnique', 'appId': 'FireFoxID'}, 'postInstallAction': 0, 'postInstallScript': {'_id': '0'}, 'preInstallScript': {'_id': '0'}}, {'installerParameters': '', 'managedApp': {'_id': 'FireFoxUnique', 'appId': 'FireFoxID'}, 'postInstallAction': 0, 'postInstallScript': {'_id': '0'}, 'preInstallScript': {'_id': '0'}}]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Define the dictionary in the for loop. You are currently writing to same dictionary object, and list holds reference to this object which itself is a reference. As a result you keep modifying the same object.</p>
<pre><code>MyItems = ["ChromeSetup.exe","firefox.exe"]
listofitems = [{"appId": "ChromeID", 'id': "0","name": 'ChromeSetup.exe','_id': 'ChromeUnique'},{"appId": "FireFoxID", 'id': "0","name": 'firefox.exe','_id': 'FireFoxUnique'} ]

__id = ""
appId = ""
result = []

for app in MyItems:
    for items in listofitems:
        if items['name'] == app:
            # I would try to find a better var name.
            Dict = {"installerParameters":"","managedApp":{"_id":__id, "appId":appId},"postInstallAction":0,"postInstallScript":{"_id":"0"},"preInstallScript":{"_id":"0"}}
            Dict["managedApp"]["_id"] = items['_id']
            Dict["managedApp"]["appId"] = items['appId']
            print("Dictionery",Dict)
            result.append(Dict)
            break

print("See the List", result)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your dictionary object <code>Dict</code> is being overwritten during the second run of the loop. This is happening because you have defined the <code>Dict</code> above the loop. Better to define the <code>Dict</code> inside the loop.</p>
</div>
<span class="comment-copy">You have one dictionary object and you are appending two references to that object to your list.</span>
<span class="comment-copy">Also see <a href="http://stackoverflow.com/questions/2612802/how-to-clone-or-copy-a-list-in-python" title="how to clone or copy a list in python">stackoverflow.com/questions/2612802/â€¦</a></span>
<span class="comment-copy">@PM2Ring i believe this question is very clear and easy to understand compare to the question you have marked as duplicate. How ever im okay to delete this question if its not relevant.</span>
<span class="comment-copy">There's no need to delete this question. It's quite good. There's nothing wrong with asking a duplicate question. The problem is the duplicate <i>answers</i> that get scattered all over the place instead of being in one central location.</span>
<span class="comment-copy">got it .. that helps.</span>
<span class="comment-copy">I agree that it would be better to have a more meaningful name than <code>Dict</code>. But anyway, another option is to define the basic <code>Dict</code> outside the loop, and then inside the loop create a copy of it using <a href="https://docs.python.org/3/library/copy.html#copy.deepcopy" rel="nofollow noreferrer"><code>copy.deepcopy</code></a>. If <code>Dict</code> didn't contain those nested dicts we could just use <code>Dict.copy</code>, but that won't work here, since we'd just get shared references to those inner dicts.</span>
<span class="comment-copy">@PM2Ring Agreed,  +1.</span>
