<div class="post-text" itemprop="text">
<p>I'm using Python's Pathlib and I want to take something like</p>
<pre><code>p = Path('/path/to/foo')
</code></pre>
<p>And then try a couple of different extensions. I can do</p>
<pre><code>for ext in ['.txt', '.md', '.note']
    filename = Path(str(p) + ext)
</code></pre>
<p>but that feels a little awkward. Is there a better way to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.with_suffix" rel="noreferrer"><code>with_suffix</code></a> method will return a new path with a different extension, either changing an existing extension or adding a new one. Examples from the docs:</p>
<pre><code>&gt;&gt;&gt; p = PureWindowsPath('c:/Downloads/pathlib.tar.gz')
&gt;&gt;&gt; p.with_suffix('.bz2')
PureWindowsPath('c:/Downloads/pathlib.tar.bz2')
&gt;&gt;&gt; p = PureWindowsPath('README')
&gt;&gt;&gt; p.with_suffix('.txt')
PureWindowsPath('README.txt')
</code></pre>
<p>In your case, <code>p.with_suffix(ext)</code> would do the job.</p>
</div>
<span class="comment-copy">Maybe you could use endswith() but it doesn't feel awkward to me.</span>
<span class="comment-copy">that's exactly what I wanted - it even replaces the suffix in the case of <code>foo.txt</code>, if I do <code>with_suffix('.md')</code> then it returns <code>foo.md</code>. Excellent! (also I was searching for "ext" or "extension" on the page, which apparently is why I missed that)</span>
<span class="comment-copy">Nice, but what if you don't want to replace the existing suffix. Back to Path(str(path) + ".xyz")?</span>
<span class="comment-copy">@MathieuLongtin: That, or <code>p.with_suffix(p.suffix+'.xyz')</code>.</span>
<span class="comment-copy">That is better! Not great, but better.</span>
