<div class="post-text" itemprop="text">
<p>I'm trying tokenize some code and would like to keep the delimiter when I split a string.</p>
<p>For example, I would like to keep any occurences of <code>.</code>, <code>(</code>, <code>)</code>, <code>;</code>, <code>~</code>.</p>
<p>I have been using re.split:</p>
<pre><code>line = 'Keyboard.keyPressed();'
re.split(r'([\.\(\)\;\~])', line)
</code></pre>
<p>However, my current implementation of re.split currently creates some unnecessary empty strings in the array:</p>
<pre><code>['Keyboard', '.', 'keyPressed', '(', '', ')', '', ';', '']
</code></pre>
<p>How can I fix this to exclude the empty strings?</p>
</div>
<div class="post-text" itemprop="text">
<p>You may use</p>
<pre><code>re.findall(r'[^.();~]+|[.();~]', line)
</code></pre>
<p>See the <a href="https://regex101.com/r/E6MBdc/1" rel="nofollow noreferrer">regex demo</a></p>
<p>The <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer"><em><code>re.findall</code></em></a> will return a list of all matched non-overlapping substrings in the input string, matching the following:</p>
<ul>
<li><code>[^.();~]+</code> - 1 or more (due to <code>+</code> quantifier) chars other than <code>.</code>, <code>(</code>, <code>)</code>, <code>;</code> and <code>~</code> </li>
<li><code>|</code> - or</li>
<li><code>[.();~]</code> - a single occurrence of <code>.</code>, <code>(</code>, <code>)</code>, <code>;</code> or <code>~</code>.</li>
</ul>
<p>See <a href="https://ideone.com/khqTsi" rel="nofollow noreferrer">Python demo online</a>:</p>
<pre><code>import re
line = 'Keyboard.keyPressed();'
print(re.findall(r'[^.();~]+|[.();~]', line))
# =&gt; ['Keyboard', '.', 'keyPressed', '(', ')', ';']
</code></pre>
</div>
<span class="comment-copy">It is "by design", when matches are consecutive, the empty strings are produced by <code>re.split</code>. Just remove empty items from the list.</span>
<span class="comment-copy">Well, in your exact case, you may just use <code>re.findall(r'[^.();~]+', line)</code></span>
<span class="comment-copy"><code>re.findall(r'[^.();~]+', line)</code> excludes the delimiters</span>
<span class="comment-copy">Ah, yeah, just include them, <code>re.findall(r'[^.();~]+|[.();~]', line)</code></span>
<span class="comment-copy">gotcha. thanks for the help</span>
