<div class="post-text" itemprop="text">
<p>I have a flask app running on my webserver to make calls to different remote servers based on hostname POST'ed from user selection. The webserver flask app makes SSH calls (using <code>paramiko</code>) to user desired hostnames to run a python script. </p>
<p>Currently, I have to manually create a python script for each function I want to call in the backend or else I would run into import errors (since my webserver flask does not have the same python environment as the remote server).</p>
<p>For example, on my backend remote server if I want to call a function from my backend Python module I have to create something like this:</p>
<p>myScript.py:</p>
<pre><code>#!/usr/bin/python3
from myPackage import myModule
myModule.myFunction()
</code></pre>
<p>And call it from the webserver flask app like this:</p>
<pre><code>client.exec_command('(cd /myDir; ./myScript.py:)')
</code></pre>
<p>My question is, is there a way to stimulate the backend python environment and make calls directly to the python modules, or even some how be able to import the modules from the backend, so I don't have to create a separate script for each function I want to call?</p>
</div>
<div class="post-text" itemprop="text">
<p>There are two python interpreter options that may interest you:</p>
<ol>
<li>If <a href="https://docs.python.org/3/tutorial/interpreter.html" rel="nofollow noreferrer">you run it as</a> <code>python -c "print('foobar')"</code> you can pass your script as text and don't create any files on your remotes.</li>
<li>If you run it on remote as <code>python -</code> it will start in an interactive mode and listed your commands from a stdin. I've never done it with paramiko, but <a href="https://stackoverflow.com/questions/373639/running-interactive-commands-in-paramiko">as I can see</a>, paramiko supports running commands in the interactive mode.</li>
</ol>
<p>P.S. Still not sure if I've understood your question correctly, hope this helps.</p>
</div>
<span class="comment-copy">How about retrieving the file with the function you'd like to call directly (at runtime), saving it temporarily and then importing the temporary file regularly?</span>
<span class="comment-copy">@Jonas My remote server is installed via python package, I won't be able to just retrieve a single file, because some of the files' function calls are dependent on other modules. Could you give an example?</span>
