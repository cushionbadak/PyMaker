<div class="post-text" itemprop="text">
<p>I want to create a function which returns the lengths of different input objects and returns -1 if there is not length.The expected output is below:</p>
<pre><code>    my_dict = {'a': 23, 'b': 8}
    len_safe(my_dict)
2
    len_safe(7)
-1
</code></pre>
<p>I want to use exception handling but am confused as to how to start. </p>
</div>
<div class="post-text" itemprop="text">
<p>You can always capture a <code>TypeError</code> and return <code>-1</code> if there is no <code>len()</code>:</p>
<pre><code>def len_safe(obj):
    try:
        return len(obj)
    except TypeError:
        return -1
</code></pre>
<p>I'm not sure of usability of such function, tho.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/3/library/functions.html#hasattr" rel="nofollow noreferrer"><strong><code>hasattr</code></strong></a> to check if an object has <code>__len__</code> as an attribute, and return <code>-1</code> otherwise:</p>
<pre><code>def safe_len(o):
     return len(o) if hasattr(o, '__len__') else -1
</code></pre>
<p>In action:</p>
<pre><code>&gt;&gt;&gt; safe_len(7)
-1
&gt;&gt;&gt; safe_len([1,2,3])
3
</code></pre>
</div>
<span class="comment-copy">Why would you want to return some magic number instead of throwing an exception and handling it?</span>
