<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question is an exact duplicate of:</p>
<ul>
<li>
<a dir="ltr" href="/questions/28932726/using-os-walk-cannot-open-the-file-from-the-list">using os.walk cannot open the file from the list</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I have a parent directory with a list of sub directories. Each of these sub directories contains a file named data.json. I want to walk through all the sub directories and carry out some editing operations on the data.json file. How do I achieve this ? presently I am doing the following :</p>
<pre><code>  for dir,dirs, files in os.walk("."):
        for filename in files:
            if file == 'data.json':
             with open(file, 'r') as f:
             #carry out editing operation
</code></pre>
<p>But I dont see any editing happenning. I suspect the data.json file is not being located. </p>
</div>
<div class="post-text" itemprop="text">
<p>First you need to correctly access your file with full path:</p>
<pre><code>for path, subdirs, files in os.walk("."):
    for filename in files:
        if filename == 'data.json':
            fullpath = os.path.join(path, filename)
</code></pre>
<p>Then open it in desired mode, the one you included is <code>read</code>:</p>
<pre><code>with open(fullpath, 'r') as f:
    ...
</code></pre>
<p>Read more about modes for <code>open()</code> <a href="https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">here</a>.</p>
</div>
<span class="comment-copy">You can't modify a file that's opened in read mode. You can read about the different modes <a href="https://stackoverflow.com/a/23566951/4014959">here</a>. Also, <code>file</code> just gives you the base file name, not the full path. I suggest you put a few <code>print</code> calls into your code so you can see what's happening. If you're using Python 3.4+ take a look at <a href="https://docs.python.org/3/library/pathlib.html#module-pathlib" rel="nofollow noreferrer"><code>pathlib</code></a>, it has a whole lot of great stuff for working with files and it's nicer than using <code>os.walk</code>.</span>
<span class="comment-copy">I tried changing permission to 'w+', doesnt work. The problem is I dont see the code flow entering the if loop : if file == 'data.json':</span>
<span class="comment-copy">Of course 'w+' doesn't work. As the answer I linked previously says  'w+' overwrites the existing file if the file exists. You could use 'r+'. However, it's simpler and safer to open in 'r' mode, read the data, close the file (or let <code>with</code> close it automatically), and then open the file again in 'w' mode to save the modified data. That way you're much less likely to destroy your data if something goes wrong.</span>
