<div class="post-text" itemprop="text">
<p>I have an xml file as below:</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;EDoc CID="1000101" Cname="somename" IName="iname" CSource="e1" Version="1.0"&gt;
&lt;RIGLIST&gt;
    &lt;RIG RIGID="100001" RIGName="RgName1"&gt;
          &lt;ListID&gt;
            &lt;nodeA nodeAID="1000011" nodeAName="node1A" nodeAExtID="9000011" /&gt;
            &lt;nodeA nodeAID="1000012" nodeAName="node2A" nodeAExtID="9000012" /&gt;
            &lt;nodeA nodeAID="1000013" nodeAName="node3A" nodeAExtID="9000013" /&gt;
            &lt;nodeA nodeAID="1000014" nodeAName="node4A" nodeAExtID="9000014" /&gt;
            &lt;nodeA nodeAID="1000015" nodeAName="node5A" nodeAExtID="9000015" /&gt;
            &lt;nodeA nodeAID="1000016" nodeAName="node6A" nodeAExtID="9000016" /&gt;
            &lt;nodeA nodeAID="1000017" nodeAName="node7A" nodeAExtID="9000017" /&gt;
          &lt;/ListID&gt;
        &lt;/RIG&gt;
    &lt;RIG RIGID="100002" RIGName="RgName2"&gt;
          &lt;ListID&gt;
            &lt;nodeA nodeAID="1000021" nodeAName="node1B" nodeAExtID="9000021" /&gt;
            &lt;nodeA nodeAID="1000022" nodeAName="node2B" nodeAExtID="9000022" /&gt;
            &lt;nodeA nodeAID="1000023" nodeAName="node3B" nodeAExtID="9000023" /&gt;
          &lt;/ListID&gt;
        &lt;/RIG&gt;
&lt;/RIGLIST&gt;
&lt;/EDoc&gt;
</code></pre>
<p>I need to search for the Node value RIGName and if match is found print out all the values of nodeAName</p>
<p>Example:
Searching for RIGName = "RgName2" should print all the values as node1B, node2B, node3B</p>
<p>As of now I am only able to get the first part as below:</p>
<pre><code>import xml.etree.ElementTree as eT
import re

xmlfilePath  = "Path of xml file"

tree = eT.parse(xmlfilePath)
root = tree.getroot()

for elem in root.iter("RIGName"):
        # print(elem.tag, elem.attrib)
            if re.findall(searchtxt, elem.attrib['RIGName'], re.IGNORECASE):
                print(elem.attrib)
                count += 1
</code></pre>
<p>How can I get only the immediate child node values?</p>
</div>
<div class="post-text" itemprop="text">
<p>Switching from <code>xml.etree</code> to <a href="https://lxml.de/" rel="nofollow noreferrer"><code>lxml</code></a> would give you a way to do it in a single go because of a <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xpath-support" rel="nofollow noreferrer">much better XPath query language support</a>:</p>
<pre><code>In [1]: from lxml import etree as ET

In [2]: tree = ET.parse('input.xml')

In [3]: root = tree.getroot()

In [4]: root.xpath('//RIG[@RIGName = "RgName2"]/ListID/nodeA/@nodeAName')
Out[4]: ['node1B', 'node2B', 'node3B']
</code></pre>
</div>
