<div class="post-text" itemprop="text">
<p>I have two lists of strings.</p>
<pre><code>list_one = ["c11", "a78", "67b"]
list_two = ["a", "b", "c"]
</code></pre>
<p>What is the shortest way of sorting <code>list_one</code> using strings from <code>list_two</code> to get the following output?</p>
<pre><code>["a78", "67b", "c11"]
</code></pre>
<p>Edit 1:
There is a similar question <a href="https://stackoverflow.com/questions/6618515/sorting-list-based-on-values-from-another-list">Sorting list based on values from another list?</a>, but in that question he already has the list of required indexes for resulting string, while here I have just the list of substrings.</p>
<p>Edit 2:
Since the example of list above might be not fully representative, I add another case.</p>
<p>list_one is <code>["1.cde.png", "1.abc.png", "1.bcd.png"]</code> 
list_two is <code>["abc", "bcd", "cde"]</code>. 
The output is supposed to be <code>[ "1.abc.png", "1.bcd.png", "1.cde.png"]</code></p>
<p>If, for example, list_one is shorter than list_two, it should still work:</p>
<p>list_one is <code>["1.cde.png", "1.abc.png"]</code>
list_two is <code>["abc", "bcd", "cde"]</code>
The output is supposed to be <code>[ "1.abc.png", "1.cde.png"]</code></p>
</div>
<div class="post-text" itemprop="text">
<pre><code>key = {next((s for s in list_one if v in s), None): i for i, v in enumerate(list_two)}
print(sorted(list_one, key=key.get))
</code></pre>
<p>This outputs:</p>
<pre><code>['a78', '67b', 'c11']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this </p>
<pre><code>list_one = ["c11", "a78", "67b"]
list_two = ["a", "b", "c"]

[x for y in list_two for x in list_one if y in x]
</code></pre>
<p>Output  : </p>
<pre><code>["a78", "67b", "c11"]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Assuming that each item in <code>list_one</code> contains exactly one of the characters from <code>list_two</code>, and that you know the class of those characters, e.g. letters, you can extract those using a <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">regex</a> and build a dictionary mapping the characters to the element. Then, just look up the correct element for each character.</p>
<pre><code>&gt;&gt;&gt; list_one = ["c11", "a78", "67b"]
&gt;&gt;&gt; list_two = ["a", "b", "c"]
&gt;&gt;&gt; d = {re.search("[a-z]", s).group(): s for s in list_one}
&gt;&gt;&gt; list(map(d.get, list_two))
['a78', '67b', 'c11']
&gt;&gt;&gt; [d[c] for c in list_two]
['a78', '67b', 'c11']
</code></pre>
<p>Other than the other approaches posted so far, which all seem to be O(n²), this is only O(n).</p>
<p>Of course, the approach can be generalized to e.g. more than one character, or characters in specific positions of the first string, but it will always require some pattern and knowledge about that pattern. E.g., for your more recent example:</p>
<pre><code>&gt;&gt;&gt; list_one = ["1.cde.png", "1.abc.png", "1.bcd.png"]
&gt;&gt;&gt; list_two = ["abc", "cde"]
&gt;&gt;&gt; d = {re.search("\.(\w+)\.", s).group(1): s for s in list_one}
&gt;&gt;&gt; d = {s.split(".")[1]: s for s in list_one}  # alternatively without re
&gt;&gt;&gt; [d[c] for c in list_two if c in d]
['1.abc.png', '1.cde.png']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>&gt;&gt;&gt; sorted(list_one, key=lambda x: [i for i,e in enumerate(list_two) if e in x][0])
['a78', '67b', 'c11']
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/6618515/sorting-list-based-on-values-from-another-list">Sorting list based on values from another list?</a></span>
<span class="comment-copy">Your expected output doesn't make sense. Why is <code>67b</code> second?</span>
<span class="comment-copy">what is the relation between list_one and list_two? It seems list_one's objects are included list_two's values. Is it the criteria?</span>
<span class="comment-copy">@TomWojcik in <a href="https://stackoverflow.com/questions/6618515/sorting-list-based-on-values-from-another-list" title="sorting list based on values from another list">stackoverflow.com/questions/6618515/…</a> he already has the list of required order for resulting string, while here I have just the list of substrings</span>
<span class="comment-copy">@blhsing because in the list_two, substring "b" is the second</span>
<span class="comment-copy">Your code doesn't work if list_one is smaller than list_two. It gives an error "IndexError: list index out of range"</span>
<span class="comment-copy">Indeed. Fixed then.</span>
<span class="comment-copy">Why <code>key=key.__getitem__</code> instead of <code>key=key.get</code>?</span>
<span class="comment-copy">I'm not sure what exactly you have changed, but it still doesn't work for the case when list_one is shorter than list_two. For example, I tested your code for the case when list_one = ["c11", "a78"], list_two = ["a", "b", "c"]. The output is supposed to be ["a78", "c11"]. But it gives me an error "IndexError: list index out of range".</span>
<span class="comment-copy">Yeah, sorry, it was my bad. It works now. Thanks!</span>
