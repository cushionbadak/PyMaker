<div class="post-text" itemprop="text">
<p>From <code>python 3.4</code> to <code>3.5</code> the error handling in Json module has changed.</p>
<ul>
<li>in <code>3.5</code> decoding raises <code>JSONDecodeError</code></li>
<li>in <code>3.4</code> decoding raises <code>ValueError</code></li>
</ul>
<p>My actual way to write a compatible script is:</p>
<pre><code>try:
    from json import JSONDecodeError
except ImportError:
    JSONDecodeError = ValueError
</code></pre>
<p>What is the best practice to do it?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/json.html#json.JSONDecodeError" rel="nofollow noreferrer"><code>JSONDecodeError</code></a> is a subclass of <code>ValueError</code>, so you can maintain compatibility with both newer and older versions by simply sticking with <code>ValueError</code>:</p>
<pre><code>try:
    json.load(f)
except ValueError:
    handle_decode_error()
</code></pre>
</div>
