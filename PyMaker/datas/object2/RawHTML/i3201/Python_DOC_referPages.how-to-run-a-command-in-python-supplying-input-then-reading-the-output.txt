<div class="post-text" itemprop="text">
<p>I want to use Popen from subprocess 
to execute the command: 'python3 test.py'</p>
<pre><code># The following is test.py code:

string = input('Enter Something')
if string == 'mypassword':
    print('Success')
else:
    print('Fail')
</code></pre>
<p>In my program, I want to execute 'python3 test.py' multiple times, each time supplying input, and reading the output ('Success' or 'Fail') and storing it in a variable.</p>
<p>My program that is suppose to execute 'python3 test.py' is as follows:</p>
<pre><code>from subprocess import Popen, PIPE

# Runs test.py
command = Popen(['python3', 'test.py'], stdin=PIPE)
# After this, it prompts me to type in the input, 
# but I want to supply it from a variable

# I want to do something like
my_input = 'testpassword'
command.supplyInput(my_input)
result = command.getOutput()

# result will have the string value of 'Success' or 'Fail'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can add parameter <code>stdout=PIPE</code> to <code>Popen</code>, and use <code>Popen.communicate</code> to supply input and read the output instead.</p>
<pre><code>from subprocess import Popen, PIPE
command = Popen(['python3', 'test.py'], stdin=PIPE, stdout=PIPE)
my_input = 'testpassword\n'
result, _ = command.communicate(my_input)
</code></pre>
<p>Please read <code>Popen.communicate</code>'s documentation for more details:
<a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate" rel="nofollow noreferrer">https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate</a></p>
</div>
<span class="comment-copy">os.system(command) is used to execute the commands</span>
<span class="comment-copy">I would normally use that command if I am not going to be prompted an input, but I have to follow it with an input</span>
<span class="comment-copy">You can pass input as command line arguments along with the command</span>
<span class="comment-copy">I understand, but in this case there aren't command line arguments. The command must be ran first, then it prompts you to manually enter something</span>
<span class="comment-copy">Just to be clear, the test.py file is not going to change. I want to modify the python program that will execute test.py correctly supplying it the input and getting the output</span>
