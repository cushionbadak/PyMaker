<div class="post-text" itemprop="text">
<p>I have a script, in which I must download a file, then use the file in the rest of the script. How can I stop a running script until the download is finished, then complete the running using a wait function? </p>
<pre><code>    if erra:
        if os.path.isfile('/homes/biertank/Downloads/'+record.__dict__['qualifiers']['source'][0]+'-Clusters.gff')==False:

            webbrowser.open('http://napp.u-psud.fr/SqlGff.php?specie=355&amp;SpecieName='+record.__dict__['qualifiers']['source'][0])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can't control downloading with <code>webbrowser.open</code> module?</p>
<p>Use <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.urlretrieve" rel="nofollow"><code>urllib.request.urlretrieve</code></a> instead. It will block until download is done.</p>
<pre><code>import urllib.request

...

url = ('http://napp.u-psud.fr/SqlGff.php?specie=355&amp;SpecieName=' +
       record.__dict__['qualifiers']['source'][0])
urllib.request.urlretrieve(url, 'local-filename-you-want')
</code></pre>
<p>If you use Pyhton 2.x, use <a href="https://docs.python.org/2/library/urllib.html#urllib.urlretrieve" rel="nofollow"><code>urllib.urlretrieve</code></a> instead.</p>
</div>
