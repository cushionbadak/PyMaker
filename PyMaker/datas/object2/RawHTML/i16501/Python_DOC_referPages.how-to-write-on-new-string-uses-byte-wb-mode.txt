<div class="post-text" itemprop="text">
<p>I'm working in 'wb' mode with array of bytes</p>
<pre><code>for i in range(len(mas)):
    message.write(mas[i])
</code></pre>
<p>after I have to write data to a file on new line, for example '\n' in 'w' mode</p>
<pre><code>for i in range(3):
    message.write(str(i))
    message.write("\n")

&gt;&gt;&gt;0

&gt;&gt;&gt;1

&gt;&gt;&gt;2

&gt;&gt;&gt;3
</code></pre>
<p>How can I do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>To write a string to a binary file you, like <code>"\n"</code> into <code>wb</code> mode, you must first <a href="https://docs.python.org/3/howto/unicode.html" rel="nofollow">encode</a> it by calling <code>string.encode('utf-8')</code> or any other encoding you need.</p>
<p>For example, to write a message to a binary file:</p>
<pre><code>with open("a.txt", "wb") as f:
    line = str(0) + "\n\n"
    f.write(line.encode('utf-8'))
</code></pre>
<p>This would write <code>0\n\n</code>. To write the numbers from 0 to 3, followed by blank lines:</p>
<pre><code>with open("a.txt", "wb") as f:
    for i in range(4):
        line = str(i) + "\n\n"
        f.write(line.encode('utf-8'))
</code></pre>
<p>Encoded newlines are printed as newlines correctly, so the following lines are equivalent:</p>
<pre><code>open('a.txt', 'w').write('\n')
open('a.txt', 'wb').write('\n'.encode('utf-8'))
open('a.txt', 'wb').write(b'\n')
</code></pre>
<p>To print a literal <code>\n</code>, and not a newline, escape the backslash with another backslash <code>\\n</code> or write <code>r'\n'</code> to create a "raw" string.</p>
</div>
<div class="post-text" itemprop="text">
<p>I think you need to write a newline bytestring to your file after each of your bytearrays:</p>
<pre><code>for i in range(len(mas)):
    message.write(mas[i])
    message.write(b"\n")
</code></pre>
<p>Note that a more natural (Pythonic) way of writing your loop is to iterate directly over <code>mas</code>, rather than iterating on a range and then indexing. You can also combine the two <code>write</code> calls into one:</p>
<pre><code>for line in mas:
    message.write(line + b"\n")
</code></pre>
</div>
<span class="comment-copy">Is this Python 2 or Python 3?</span>
<span class="comment-copy">it is Python 3.3.2</span>
<span class="comment-copy">I know this. I need to write data in the FILE on newline(in the file,not SHELL).</span>
<span class="comment-copy">The lines above don't write anything to the shell. <code>f.write</code> writes to the <code>a.txt</code> file.</span>
<span class="comment-copy">'\n' -transfer to new line in 'w' mode. I need to the same command in 'wb' mode.</span>
<span class="comment-copy">I agree with you.</span>
