<div class="post-text" itemprop="text">
<p>My code is below. Can anyone help me understand why I'm getting this error:<br/>
"TypeError: 'int' object is not iterable" regarding my "for i, crp" line?</p>
<pre><code>from collections import defaultdict
import numpy

from gensim import corpora, models
dictionary = corpora.Dictionary(sws_removed)

corpus = [dictionary.doc2bow(text) for text in sws_removed]

document_topic = defaultdict(list)
for i, crp in enumerate(corpus):
    probs = ldamodel.get_document_topics(crp)
    max_topic = probs.argsort()[-1]
    document_topic[max_topic].append(i)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I don't think the error is in the for statement, but in the line</p>
<pre><code>corpus = [dictionary.doc2bow(text) for text in sws_removed]
</code></pre>
<p>Sws_removed must be a list of unicode characters. If it is not a list, but an int, it might give you that error. In fact, this code gives that error 
<code>
    from collections import defaultdict
    import gensim
    from gensim import corpora
    lofs = 13
    dictionary = corpora.Dictionary(lofs)
    corpus = [dictionary.doc2bow(text) for text in lofs]
    ldamodel = gensim.models.LdaModel(corpus=corpus)
    document_topic = defaultdict(list)
    for i, crp in enumerate(corpus):
        probs = ldamodel.get_document_topics(crp)
</code></p>
<p>And this is the stacktrace (which is always useful to post)</p>
<blockquote>
<p>Traceback (most recent call last):
    File "D:/python/stackoverflow/numpcorpora/numcorpora.py", line 9, in 
      dictionary = corpora.Dictionary(lofs)
    File "C:\Users\Admin\Anaconda3\lib\site-packages\gensim\corpora\dictionary.py", line 58, in <strong>init</strong>
      self.add_documents(documents, prune_at=prune_at)
    File "C:\Users\Admin\Anaconda3\lib\site-packages\gensim\corpora\dictionary.py", line 111, in add_documents
      for docno, document in enumerate(documents):
  TypeError: 'int' object is not iterable</p>
</blockquote>
<p>Now replace <code>lofs = 13</code> with <code>lofs = ['list of words'.split()]</code> and it will run fine, giving the following output:</p>
<pre><code>[[(0, 1), (1, 1), (2, 1)]]
[(50, 0.75250000000000183)]
</code></pre>
<p>So check your sws_removed. It is an int, and not a list of unicode characters, as it should be.</p>
</div>
<div class="post-text" itemprop="text">
<p>is <code>type(corpus)</code> an int?</p>
<p>it needs to be an iterable:
<a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer">https://docs.python.org/3/library/functions.html#enumerate</a></p>
</div>
<span class="comment-copy">What is corpus? I don't see it defined anywhere.</span>
<span class="comment-copy">Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href="http://stackoverflow.com/help/mcve">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem.</span>
<span class="comment-copy"><code>corpus</code> is almost certainly of type <code>int</code>, which is what it's saying can't be iterated over.</span>
