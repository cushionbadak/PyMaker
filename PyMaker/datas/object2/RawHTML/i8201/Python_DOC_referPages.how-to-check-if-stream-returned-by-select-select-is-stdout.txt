<div class="post-text" itemprop="text">
<pre><code>proc = subprocess.Popen(cmd, shell = True, stdin = subprocess.PIPE, stdout = subprocess.PIPE, stderr = subprocess.PIPE)
ready = select.select([proc.stdout, proc.stderr], [], [])[0]
for stream in ready:
    if stream == proc.stdout:
        # do something
    elif stream == proc.stderr:
        # do something else
    else:
        # error
</code></pre>
<p>If I pass in both stdout and stderr to select.select(), is there a way to check and see which stream I am looking at when I iterate through the list that is returned?</p>
</div>
<div class="post-text" itemprop="text">
<p>I tried printing out <code>stream</code> in each if-branch and I got something like this:</p>
<pre><code>&lt;_io.BufferedReader name=5&gt;
</code></pre>
<p>Although it says it's an <code>io.BufferedReader</code>, it seems it inherits the <code>name</code> attribute from <a href="https://docs.python.org/3/library/io.html#io.FileIO" rel="nofollow noreferrer"><code>io.FileIO</code></a> - in your case the latter is true:</p>
<blockquote>
<p>The name can be one of two things:</p>
<ul>
<li>a character string or bytes object representing the path to the file    which will be opened. In this case closefd must be True (the default)    otherwise an error will be raised.</li>
<li>an integer representing the number of an existing OS-level file    descriptor to which the resulting FileIO object will give access. When the FileIO object is closed this fd will be closed as well, unless closefd is set to False.</li>
</ul>
</blockquote>
<p>The <code>name</code> attribute was unique to the corresponding stream, so I guess you could do:</p>
<pre><code>proc = subprocess.Popen(cmd, shell=True, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)

out_stream_name = proc.stdout.name
err_stream_name = proc.stderr.name

ready = select.select([proc.stdout, proc.stderr], [], [])[0]
for stream in ready:
    if stream.name == out_stream_name:
        # looking at stdout
    elif stream.name == err_stream_name:
        # looking at stderr
    else:
        # unknown
</code></pre>
<p>I hope it helps.</p>
</div>
