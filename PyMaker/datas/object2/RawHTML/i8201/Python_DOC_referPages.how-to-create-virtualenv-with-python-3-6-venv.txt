<div class="post-text" itemprop="text">
<p><a href="https://i.stack.imgur.com/CSNTW.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/CSNTW.png"/></a></p>
<p>I'm trying to create a python virtualenv using anaconda python3.6 in ubuntu 16.04. Following <a href="https://docs.python.org/3/library/venv.html" rel="nofollow noreferrer">https://docs.python.org/3/library/venv.html</a> , I've tried</p>
<pre><code>deploy@server:~/miniconda3/bin$ python3 -m venv ~/test
Error: Command '['/home/deploy/test/bin/python3', '-Im', 'ensurepip',    '--upgrade', '--default-pip']' returned non-zero exit status 1.
</code></pre>
<p>operating from the miniconda directory at ~/miniconda3/bin (screenshot). How can I this working?</p>
<p>edit:</p>
<pre><code>deploy@server:~/miniconda3/bin$ /home/deploy/test/bin/python3 -Im ensurepip --upgrade --default-pip
/home/deploy/test/bin/python3: No module named ensurepip
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you are using anaconda, you should be using conda environments.</p>
<pre><code>conda create --name test
</code></pre>
<p>For more information, see <a href="https://conda.io/docs/using/envs.html" rel="nofollow noreferrer">Managing Environments</a>.</p>
<hr/>
<p><strong>EDIT</strong> In response to OP wanting to use virtualenvs.</p>
<p>The error is with python not being able to find <code>pip</code>. You can get around this by installing it manually.</p>
<pre><code>python3 -m venv test --without-pip
cd test
source bin/activate
curl https://bootstrap.pypa.io/get-pip.py | python3
</code></pre>
<p>At this point you will have a basic virtualenv with pip installed.</p>
</div>
<span class="comment-copy">Can you run the failing command and post the output? <code>/home/deploy/test/bin/python3 -Im ensurepip --upgrade --default-pip</code></span>
<span class="comment-copy">please see edit</span>
<span class="comment-copy">Thanks but the use case is more complicated that just this, and has a lot of references to python venvs , so I'd rather use them if possible.</span>
<span class="comment-copy">I updated the answer for your use case.</span>
<span class="comment-copy">Thank you, I ended up having to use conda environments anyway.</span>
