<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/42227288/pythons-pep-484-type-annotation-for-generator-expression">Python's PEP 484 type annotation for Generator Expression</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I'm trying to write a <code>:rtype:</code> type hint for a generator function. What is the type it returns? </p>
<p>For example, say I have this functions which yields strings:</p>
<pre><code>def read_text_file(fn):
    """
    Yields the lines of the text file one by one.
    :param fn: Path of text file to read.
    :type fn: str
    :rtype: ???????????????? &lt;======================= what goes here?
    """
    with open(fn, 'rt') as text_file:
        for line in text_file:
            yield line
</code></pre>
<p>The return type isn't just a string, it's some kind of iterable of strings? So I can't just write <code>:rtype: str</code>. What's the right hint?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/typing.html#typing.Generator" rel="noreferrer">Generator</a></p>
<p><code>Generator[str, None, None]</code> or <code>Iterator[str]</code></p>
</div>
<div class="post-text" itemprop="text">
<p>The generic type for annotating generators is <code>Generator[yield_type, send_type, return_type]</code> provided by the <a href="https://docs.python.org/3/library/typing.html#typing.Generator" rel="noreferrer"><code>typing</code></a> module:</p>
<pre><code>def echo_round() -&gt; Generator[int, float, str]:
    res = yield
    while res:
        res = yield round(res)
    return 'OK'
</code></pre>
<p>Alternatively you can use <code>Iterable[YieldType]</code> or <code>Iterator[YieldType]</code>.</p>
</div>
<span class="comment-copy">returns a generator with strings</span>
<span class="comment-copy">Looks like you're not asking for a type hint but a docstring insertion for <code>:rtype:</code></span>
