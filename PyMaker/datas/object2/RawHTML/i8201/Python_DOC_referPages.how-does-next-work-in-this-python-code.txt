<div class="post-text" itemprop="text">
<p>I found some code I needed in this answer <a href="https://stackoverflow.com/a/37401376/1727657">https://stackoverflow.com/a/37401376/1727657</a>. But I don't understand what <code>next()</code> does <em>in this context</em>.  Could someone explain?</p>
<p>Here's a short test script I made to understand it.  The idea is to see whether the test string <code>txt</code> contains any of the strings in <code>myset</code> and, if so, which one.  It works but I don't know why.</p>
<pre><code>myset = ['one', 'two', 'three']
txt = 'A two dog night'
match = next((x for x in myset if x in txt), False)
if match: #if match is true (meaning something was found)
   print match  #then print what was found
else:
   print "not found" 
</code></pre>
<p>My next question will be to ask whether <code>next()</code> will give me the index of <code>match</code> (or do I need to do <code>find()</code> on <code>txt</code>)? </p>
</div>
<div class="post-text" itemprop="text">
<p>To explain how next is used in detail here.</p>
<pre><code>match = next((x for x in myset if x in txt), False)
</code></pre>
<p>This will return the first/next value (<strong>in this case the actual word that matched</strong>) created by the generator expression passed in the first argument. If the generator expression is empty, then <code>False</code> will be returned instead.</p>
<p>Whoever wrote the code was probably only interested in the first match, so <code>next</code> was used.</p>
<p>We could just use:</p>
<pre><code>matches = [x for x in myset if x in txt]
</code></pre>
<p>and just use <code>len</code> to determine the number of hits.</p>
<p>To show some plain usage of <code>next</code>:</p>
<pre><code>generator = (x for x in myset)
print generator
print next(generator)
print next(generator)
print next(generator)
</code></pre>
<p>Outputs:</p>
<pre><code>&lt;generator object &lt;genexpr&gt; at 0x100720b90&gt;
one
two
three
</code></pre>
<p>The example above will trigger a <code>StopIteration</code> exception if we try to call <code>next</code> when the list/generator is empty because we don't use the second argument to override what should be returned when the generator is empty.</p>
<p>What <code>next</code> is really doing under the hood is called the type's <code>__next__()</code> method. This is important to keep mind when making classes.</p>
<p>If anything is unclear, do not hesitate to commend and I'll elaborate. Also remember that <code>print</code> is your friend when you don't understand what is going on.</p>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer">docs.python.org/3/library/functions.html#next</a></span>
<span class="comment-copy">I'm guessing they use <code>next</code> here because they only want the first match. The line could have just been <code>match = [x for x in myset if x in txt]</code> to get all the matches.</span>
