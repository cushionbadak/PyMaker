<div class="post-text" itemprop="text">
<p>I am trying this <code>(datetime.datetime.today()-datetime.datetime.today()).days</code> giving -1</p>
<p>and expecting a value 0 instead I am getting -1. In this case I have add 1 to the result</p>
<p>Can someone tell me why?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>timedelta</code> objects must always have a <em>positive</em> number of seconds and microseconds; the way a negative delta is expressed is by using a negative number of days. The seconds and microseconds then count in the other direction from those negative days.</p>
<p><code>datetime.datetime.today()</code> produces a full date and time, complete with microseconds. The second call is executed a fraction of a second later, and subtracting the two gives you a negative timedelta.</p>
<p>So as a result, you get a timedelta with -1 day difference and a positive number of seconds <em>almost</em> equal to a full day, except for a fraction of a second:</p>
<pre><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; datetime.datetime.today()
datetime.datetime(2017, 2, 21, 7, 27, 43, 523202)
&gt;&gt;&gt; datetime.datetime.today() - datetime.datetime.today()
datetime.timedelta(-1, 86399, 999990)
</code></pre>
<p>Note the 86399 seconds and 999990 microseconds in the resulting <code>timedelta</code> object. The difference is not a full day, it is only 10 microseconds.</p>
<p>If you need an 'absolute' number, use the <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta.total_seconds" rel="nofollow noreferrer"><code>timedelta.total_seconds()</code> method</a>:</p>
<pre><code>&gt;&gt;&gt; (datetime.datetime.today() - datetime.datetime.today()).total_seconds()
-8e-06
</code></pre>
<p>Divide that again by 86400 to get a number of days:</p>
<pre><code>&gt;&gt;&gt; int((datetime.datetime.today() - datetime.datetime.today()).total_seconds() / 86400)
0
&gt;&gt;&gt; int((datetime.datetime.today() - datetime.timedelta(days=2, seconds=10) - datetime.datetime.today()).total_seconds() / 86400)
-2
</code></pre>
<p>Alternatively, add 1 to the <code>.days</code> attribute of a <code>timedelta</code> when <code>seconds</code> or <code>microseconds</code> is non-zero:</p>
<pre><code>td = datetime.datetime.today() - datetime.datetime.today()
days = td.days + (1 if td.seconds or td.microseconds else 0)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>try to store data in a variable: </p>
<pre><code>&gt;&gt;&gt; a = datetime.datetime.today()
&gt;&gt;&gt; a-a
datetime.timedelta(0)
&gt;&gt;&gt; (a-a).days
0
</code></pre>
<p>You will get the zero.</p>
<p>Although this is the proper explanation for your answer:
<a href="https://stackoverflow.com/a/42361098/6918812">Martin Pieters' Answer</a></p>
</div>
<div class="post-text" itemprop="text">
<p>There is a micro seconds difference while you are subtracting the dates.
Suppose datetime.datetime.today() is giving </p>
<pre><code>&gt;&gt;&gt; datetime.datetime.today()`
datetime.datetime(2017, 5, 17, 17, 33, 45, 243739)
&gt;&gt;&gt; datetime.datetime.today()
datetime.datetime(2017, 5, 17, 17, 33, 45, 727018)
</code></pre>
<p>From this you can see that both are ran in the same seconds timestamp but micro-fraction difference. 
So, when you do </p>
<pre><code>(datetime.datetime.today()-datetime.datetime.today()).days
</code></pre>
<p>you will get -1 day as result, which is a correct result.</p>
</div>
