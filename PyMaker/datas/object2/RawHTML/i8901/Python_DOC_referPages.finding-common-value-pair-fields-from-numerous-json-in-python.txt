<div class="post-text" itemprop="text">
<p>I have list of JSON files. Now I intend to find all the common value pairs from all these JSON and copy it to different JSON. Also the common value pairs should be removed from all JSON's. </p>
<p>lets say I have <code>a.json</code>, <code>b.json</code>, <code>c.json</code> ... <code>z.json</code></p>
<p>Now the common label value pair in all of them is </p>
<pre><code>"Town" : "New York"
</code></pre>
<p>then, this common element should be moved to a new JSON file called common.json and also the element should be removed from all the JSON files. </p>
<p>An eg json file would look like:</p>
<pre><code>{
     "RepetitionTime": 2, 
     "EchoTime": 0,
     "MagneticFieldStrength": 3, 
     "SequenceVariant": "SK",
     "MRAcquisitionType": "2D",
     "FlipAngle": 90,
     "ScanOptions": "FS",
     "SliceTiming": [[0.0025000000000000022], [0.5], [-0.030000000000000027], [0.46625], [-0.06374999999999997], [0.43375000000999997], [-0.09624999999999995], [0.40000000001], [-0.12999999999], [0.36750000001], [-0.16249999998999998], [0.333750000005], [-0.19624999999500004], [0.301250000005], [-0.228749999995], [0.26749999999999996], [-0.26249999999500007], [0.235], [-0.29500000000000004], [0.20124999999999998], [-0.32875], [0.16875000001], [-0.36124999999999996], [0.13500000001], [-0.39499999999], [0.10250000000999998], [-0.42749999999], [0.06875000000499998], [-0.46124999999500005], [0.036250000005000005]],
     "SequenceName": "epfid2d1_64",
     "ManufacturerModelName": "TrioTim",
      "TaskName": "dis",
    "ScanningSequence": "EP",
      "Manufacturer": "SIEMENS"
}
</code></pre>
<p>I way i am thinking is too complex. I thought to take each line and of first json file and check with all other jsons. </p>
<p>There should be something easy and efficient. any pointers?</p>
</div>
<div class="post-text" itemprop="text">
<p>To compare all files in one time, you can also use <a href="https://docs.python.org/3/tutorial/datastructures.html#sets" rel="nofollow noreferrer"><code>Sets</code></a> to compare all key-values at once using <code>&amp;</code></p>
<pre><code>&gt;&gt;&gt; import json

&gt;&gt;&gt; json_dict1 = json.loads('{"a":1, "b":2}')
&gt;&gt;&gt; json_dict2 = json.loads('{"a":1, "b":4, "c":5}')
&gt;&gt;&gt; json_dict3 = json.loads('{"a":1, "b":2, "c":5}')

&gt;&gt;&gt; a = set(json_dict1.items())
&gt;&gt;&gt; b = set(json_dict2.items())
&gt;&gt;&gt; c = set(json_dict3.items())
&gt;&gt;&gt; a &amp; b &amp; c
{('a', 1)}
</code></pre>
<p>Note that you can also do other operations with <code>Sets</code>, here an example from the doc:</p>
<pre><code>&gt;&gt;&gt; a = set('abracadabra')
&gt;&gt;&gt; b = set('alacazam')
&gt;&gt;&gt; a                                  # unique letters in a
{'a', 'r', 'b', 'c', 'd'}
&gt;&gt;&gt; a - b                              # letters in a but not in b
{'r', 'd', 'b'}
&gt;&gt;&gt; a | b                              # letters in either a or b
{'a', 'c', 'r', 'd', 'b', 'm', 'z', 'l'}
&gt;&gt;&gt; a &amp; b                              # letters in both a and b
{'a', 'c'}
&gt;&gt;&gt; a ^ b                              # letters in a or b but not both
{'r', 'd', 'b', 'm', 'z', 'l'}
</code></pre>
<p><strong>EDIT</strong></p>
<p>Finally, I asked my own <a href="https://stackoverflow.com/questions/42541063/find-unique-key-value-pair-given-n-dictionnaries-in-python">so question</a> based on the same problem as you (almost). </p>
<p>Here is the best <a href="https://stackoverflow.com/a/42541566/4530440">response</a></p>
<p>If you are too lazy to click on the link, here is an overview:</p>
<pre><code>&gt;&gt;&gt; list_dict = [json_dict1, json_dict2, json_dict3]
&gt;&gt;&gt; {k: v
     for k, v in list_dict[0].items()
     if all(k in d and d[k] == v
            for d in list_dict[1:])}
{'a': 1}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Since you didn't provide your exact JSON sample, I assume it is just regular json as '{"key":"value"}'.  </p>
<p>convert json string to dictionary:</p>
<pre><code>import json
json_dict = json.loads('{"a":1, "b":2}')  # converts json string to dictionary
</code></pre>
<p>now assume we have two converted dictionaries:</p>
<pre><code>&gt;&gt;&gt; dict1= {"a":1,"b":2}
&gt;&gt;&gt; dict2= {"a":1,"b":3}
</code></pre>
<p>comparing two dictionaries and finding the common key-value pairs(similarly for the diff k-v pairs), I am using python3:</p>
<pre><code>&gt;&gt;&gt; {k:v  for k, v in dict1.items()  for k1,v1 in dict2.items() if k ==k1 and v==v1}
{'a': 1}
</code></pre>
<p>My post showed you the idea how to solve your issue, it might have edge issues for your specific JSON lines, you can modify it and fit your needs. Hope it helps</p>
</div>
<span class="comment-copy">json can hold arbitrary nested/structured combinations of json-objects and json-arrays. No one can help you if you don't give us an idea of what your json files are like. Also, <i>this is not a code writing service</i>. You need to demonstrate your own attempts, and how they have failed, and any other research you may have done.</span>
<span class="comment-copy">can yous show us the structure of the JSON.  the same json files expected to be the same structure. That is can you expect "Town" to be in all files?</span>
<span class="comment-copy">My anwser doesn't work if the dictionnary have <code>list</code> because it will throw a  <code>TypeError: unhashable type: 'list'</code>. I'll remove this answer tommorow please do not downvote meanwhile ^^'</span>
<span class="comment-copy">as per json example shared above, one or more value pairs are lists. For eg: <code>"SliceTiming"</code>.. in that case does it work?</span>
<span class="comment-copy">Unfortunatly no it does not. you can find a way around it by manually removing <code>"SliceTiming"</code> or casting it to into <code>string</code>. But it is far from perfect! If I manage to solve this problem I'll let you know. Until then I think @Haifeng's solution is the best</span>
<span class="comment-copy">@downvoter please leave a comment and i will improve my answer</span>
<span class="comment-copy">here the issue is i can load json file with just json.loads('pathtofile'). I have to open json file as someobject and then open.</span>
