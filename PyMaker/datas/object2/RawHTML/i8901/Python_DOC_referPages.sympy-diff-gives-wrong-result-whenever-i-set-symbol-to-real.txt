<div class="post-text" itemprop="text">
<p>I don't understand why when I set the symbol to real <code>diff()</code> seem to consider it a constant:</p>
<pre><code>&gt;&gt;&gt; t = sympify("x^2")
&gt;&gt;&gt; x = Symbol('x')
&gt;&gt;&gt; diff(t,x)
2*x
&gt;&gt;&gt; x1=Symbol('x',real=True)
&gt;&gt;&gt; diff(t,x1)
0
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The issue is that the variable <code>x</code> in <code>t</code> and the variable <code>x1</code> are <em>not</em> considered the same, due to the "real" attribute of <code>x1</code>. Hence, in the differentiation the <code>x1</code> variable is treated as a constant, yielding <code>0</code>.  </p>
<p>To fix this if you intend on working with real variables, you can define your expression with a real variable <code>x</code>. </p>
<pre><code>&gt;&gt;&gt; x = Symbol('x', real=True)
&gt;&gt;&gt; t = sympify('x^2', locals={'x': x})
&gt;&gt;&gt; diff(t, x)
2*x
</code></pre>
<p>Instead of passing an explicit dict with the <code>locals</code> keyword argument, you could also just call <a href="https://docs.python.org/3/library/functions.html#locals" rel="nofollow noreferrer"><code>locals()</code></a> with <code>locals=locals()</code> to pull in all the entire local symbol table as a dict, which may be useful if you have many Symbol variables. </p>
</div>
<span class="comment-copy">I got it now , thank you !</span>
<span class="comment-copy">@vroyibg You're welcome!</span>
<span class="comment-copy">You can also write <code>locals=locals()</code> in sympify to pull in all the local variables, including <code>x</code>.</span>
<span class="comment-copy">@asmeurer That's worth noting, could make things easier. Mind if I add it to my answer?</span>
<span class="comment-copy">Yes, go ahead. No need to ask to revise your own answer.</span>
