<div class="post-text" itemprop="text">
<p>I have a function that creates a dataframe:</p>
<pre><code>def function(date):
...
return dataframe
</code></pre>
<p>Now I want to put the dataframe values into a dictionary with the key being the date and the dataframe being the value:</p>
<pre><code>d = {}
d[date] = dataframe
</code></pre>
<p>however, every time I rerun the function to add a new date, it adds the new date and value but it also overrides the previous date's value. What am I doing wrong?</p>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>If you are keying your dictionary by dates, they must be unique to avoid overwriting the existing value for a given date.</p>
<p>Alternatively, you could create a list of values for a date using something like this:</p>
<pre><code>d = {}
try:
    d[date].append(dataframe)
except KeyError:
    d[date] = [dataframe]
</code></pre>
<p>This uses Python's <a href="https://docs.python.org/3/glossary.html#term-eafp" rel="nofollow noreferrer">EAFP coding style</a> to attempt to append a dataframe to a list of dataframes for a given date.  If an exception is raised because the dictionary doesn't contain the date-key, it then creates a key of the given date and assigns it a single-item list value which can later be appended to.</p>
</div>
<div class="post-text" itemprop="text">
<p>From the minimal information that was given, I can only assume that you're putting a dictionary inside a for loop. For example, </p>
<pre><code>df = pd.DataFrame([[1],[2]], columns = ['A'])

for date in ['2017-02-27','2017-02-28']:
    d = {}
    d[date] = df
</code></pre>
<p>This will return a dictionary that only contains data for '2017-02-28' because the dictionary is being overwritten each iteration of the for loop.</p>
</div>
<span class="comment-copy">Please give a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a>. From what you've written it's impossible to say <i>what's</i> currently happening, let alone <i>why</i>.</span>
