<div class="post-text" itemprop="text">
<p>I have list of files with a pattern <code>sub-*_task-XYZabc_run-*_bold.json</code> and <code>sub-*_task-PQRghu_bold.json</code>, for example:</p>
<pre><code>sub-03_task-dis_run-01_bold.json
sub-03_task-dis_run-02_bold.json
sub-03_task-dis_run-03_bold.json
sub-03_task-dis_run-04_bold.json
sub-03_task-dis_run-05_bold.json
sub-03_task-dis_run-06_bold.json
sub-03_task-fb_run-01_bold.json
sub-03_task-fb_run-02_bold.json
sub-03_task-fb_run-03_bold.json
sub-03_task-fb_run-04_bold.json
</code></pre>
<p>I intend to find all different task names from the filename. In the above example, <code>dis</code> and <code>fb</code> are the two  tasks. </p>
<p>What kind of regex should I use to find <code>TASKNAME</code> from <code>task-TASKNAME</code> in a given filename?</p>
</div>
<div class="post-text" itemprop="text">
<p>The following <em>regex</em> should do it :</p>
<pre><code>(?&lt;=task-).*?(?=_)
</code></pre>
<p><em>see <a href="https://regex101.com/r/9ThBEJ/1" rel="nofollow noreferrer"><strong>regex demo / explanation</strong></a></em></p>
<p><strong>python</strong> (<a href="http://www.tutorialspoint.com/execute_python_online.php?PID=0Bw_CjBb95KQMbFVpNC00REhXV0U" rel="nofollow noreferrer"> demo </a>)</p>
<pre><code>import re
regex = r"(?&lt;=task-).*?(?=_)"
str = """sub-03_task-dis_run-01_bold.json
         sub-03_task-dis_run-02_bold.json
         sub-03_task-dis_run-03_bold.json
         sub-03_task-dis_run-04_bold.json
         sub-03_task-dis_run-05_bold.json
         sub-03_task-dis_run-06_bold.json
         sub-03_task-fb_run-01_bold.json
         sub-03_task-fb_run-02_bold.json
         sub-03_task-fb_run-03_bold.json
         sub-03_task-fb_run-04_bold.json"""
matches = re.finditer(regex, str)
for matchNum, match in enumerate(matches):
    matchNum = matchNum + 1
    print ("{match}".format(matchNum = matchNum, start = match.start(), end = match.end(), match = match.group()))
</code></pre>
</div>
<span class="comment-copy">The kind that <i>you write yourself</i>. I find <a href="https://regex101.com" rel="nofollow noreferrer">regex101.com</a> useful, and <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">the official docs</a> are always available. If you literally just want the string between <code>task-</code> and <code>_run</code>, that's trivial.</span>
<span class="comment-copy">``TypeErrorTraceback (most recent call last) &lt;ipython-input-55-a8215bf33da9&gt; in &lt;module&gt;()      12        "sub-03_task-fb_run-04_bold.json")      13 # str = files ---&gt; 14 matches = re.finditer(regex, str)      15 for matchNum, match in enumerate(matches):  /Users/suyashdb/anaconda/lib/python3.5/re.py in finditer(pattern, string, flags)     218      219     Empty matches are included in the result.""" --&gt; 220     return _compile(pattern, flags).finditer(string)     221      222 def compile(pattern, flags=0):  TypeError: expected string or bytes-like object</span>
<span class="comment-copy">@learnningprogramming code is working fine. check <a href="http://www.tutorialspoint.com/execute_python_online.php?PID=0Bw_CjBb95KQMQkc5Zkpqdmd4VDA" rel="nofollow noreferrer">here</a></span>
<span class="comment-copy">the issue is, the str in your code is not a list of strings. I have changed str and now its broke again. Check here <a href="http://www.tutorialspoint.com/execute_python_online.php?PID=0Bw_CjBb95KQMQkc5Zkpqdmd4VDA" rel="nofollow noreferrer">tutorialspoint.com/â€¦</a></span>
<span class="comment-copy">@learnningprogramming oh.. my bad. check updated answer now. it should work fine.</span>
