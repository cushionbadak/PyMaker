<div class="post-text" itemprop="text">
<p>I have a data structure in this form:</p>
<pre><code>{
        "600": {
                "comment": 9,
                "like": 27,
                "unlike": 3,
                "photo_view": 267,
                "post_engagement": 3291,
                "page_engagement": 3318,
                "post_reaction": 3003,
                "post": 12
            },
        "607": {
                "comment": 3,
                "like": 45,
                "photo_view": 264,
                "post_engagement": 3861,
                "page_engagement": 3906,
                "link_click": 6,
                "post_reaction": 3579,
                "post": 9
            }
        }
</code></pre>
<p>There can be any number of items in the dict at top level. I want result like:</p>
<pre><code>{
 "comment": 12 #9 + 3,
 "like": 72 #45 + 27
 .......

}
</code></pre>
<p>NOTE: Some elements might miss one or more keys like <code>comment</code> might be missing in second element. How can I get this done using idiomatic python.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can convert the nested dicts to <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer"><code>Counter</code></a> objects and use <a href="https://docs.python.org/3.6/library/functions.html#sum" rel="nofollow noreferrer"><code>sum</code></a> to add them together:</p>
<pre><code>from collections import Counter

d = {
    "600": {
        "comment": 9,
        "like": 27
    },
    "607": {
        "comment": 3,
        "like": 45
    },
    "608": {
        "like": 1
    }
}

print(sum((Counter(v) for v in d.values()), Counter()))
</code></pre>
<p>Output:</p>
<pre><code>Counter({'like': 73, 'comment': 12})
</code></pre>
<p>If you want the result as <code>dict</code> instead of <code>Counter</code> you can convert the result back to <code>dict</code>:</p>
<pre><code>print(dict(sum((Counter(v) for v in d.values()), Counter())))
</code></pre>
<p>Output:</p>
<pre><code>{'comment': 12, 'like': 73}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this,</p>
<pre><code>myVal={'607': {'comment': 3, 'page_engagement': 3906, 'like': 45, 'link_click': 6, 'post_reaction': 3579, 'post': 9, 'photo_view': 264, 'post_engagement': 3861}, '600': {'comment': 9, 'page_engagement': 3318, 'like': 27, 'unlike': 3, 'post_reaction': 3003, 'post': 12, 'photo_view': 267, 'post_engagement': 3291}}
res={}
for l in [val for key,val in myVal.iteritems()]:
    for d,c in l.iteritems():
        res[d]=c if d not in res.keys() else res[d]+c

print res
#{'comment': 12, 'like': 72, 'unlike': 3, 'photo_view': 531, 'post_engagement': 7152, 'page_engagement': 7224, 'link_click': 6, 'post_reaction': 6582, 'post': 21}
#Time for execution 0.000068105091
</code></pre>
<p>usin#g Counter: </p>
<pre><code>print(sum((Counter(v) for v in myVal.values()), Counter()))
#Time for execution 0.00473729887596
</code></pre>
</div>
<span class="comment-copy">thanks a lot for you excellent solution !</span>
<span class="comment-copy">Thanks a lot for helping</span>
