<div class="post-text" itemprop="text">
<p>I have a function foo(..) which prints a lot of messages using 'print'. I want to write unit test to test correctness of printed messages. How can I get printed messages instead of printing it in console. </p>
<p>For example </p>
<pre><code>def foo(x):
    print("Value is ", x)

assertEqual(OUTPUT(foo(5)), "Value is 5")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can mock <code>sys.stdout</code> as found in the examples of <a href="https://docs.python.org/3/library/unittest.mock.html#patch" rel="nofollow noreferrer"><code>unittest.mock.patch()</code></a>:</p>
<pre><code>from io import StringIO
from unittest.mock import patch

def foo():
    print('Something')

@patch('sys.stdout', new_callable=StringIO)
def test(mock_stdout):
    foo()
    assert mock_stdout.getvalue() == 'Something\n'

test()
</code></pre>
</div>
<span class="comment-copy">Looks perfect. Let me test that</span>
<span class="comment-copy">Working. Thanks for help.</span>
