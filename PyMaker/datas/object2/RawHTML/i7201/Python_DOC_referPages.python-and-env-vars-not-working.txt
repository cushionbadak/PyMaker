<div class="post-text" itemprop="text">
<p>I want to add an environment variable to my server, it needs to be a Boolean. I have added to <code>/etc/environment</code>:</p>
<pre><code>PROD=True
</code></pre>
<p>I have logged the user in and out, now I am running this simple script to check if it works or not:</p>
<pre><code>import os
if os.environ['PROD'] == True:
        print "prod"
</code></pre>
<p>however I a not getting a print out, what am I doing wrong here? Am I representing the bool incorrectly?</p>
</div>
<div class="post-text" itemprop="text">
<p>Environment variables are <code>str</code> types.</p>
<p>Support Python 2.x and 3.x versions:</p>
<pre><code>import os
if os.getenv('PROD') == 'True':
    print("prod")
</code></pre>
<p>protect you from <code>KeyError</code>.</p>
<p>In the documentation(<a href="https://docs.python.org/3/library/os.html#os.environ" rel="nofollow noreferrer">doc</a>):</p>
<blockquote>
<p>A mapping object representing the string environment.</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>You need to check if the PROD environment variable is present in the os.environ(which is a dict inturn)</p>
<pre><code>&gt;&gt;&gt; if 'PROD' in os.environ:
...     print 'prod'
...
prod
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>All environment variables are inherently strings. Try</p>
<pre><code>import os
if os.environ['PROD'] == 'True':
    print "prod"
</code></pre>
<p>If you really need "typed environment variables" and are not afraid of using <code>eval</code> on potentially arbitrary strings, you may do something like</p>
<pre><code>import os
PROD = eval(os.environ['PROD'])
if PROD == True:  # Or just "if PROD:"
    print "prod"
</code></pre>
</div>
<span class="comment-copy">try <code>if os.environ['PROD'] == "True"</code> your environment probably doesnt have the concept of bool, it stores True as a string. you can always print the <code>type</code></span>
<span class="comment-copy">To anyone reading this: do <b>NOT</b> use <code>eval()</code> on environment variable, <b>NEVER</b> (well, unless you really want to let anyone break your system of course).</span>
