<div class="post-text" itemprop="text">
<p>I created my own array class and implemented the <strong>imul</strong>() method, but when i call the *= operation on an instance, the instance itself became a NoneType object. Any idea why it worked that way ?</p>
<pre><code>class CustomArray:
    def __init__(self):
        self.array = []

    def append(self, value):
        self.array.append(value)

    def __mul__(self, scaler):
        return [n*scaler for n in self.array]

    def __imul__(self, scaler):
        #print('*= operation is called.', [n*scaler for n in self.array])
        self.array = [n*scaler for n in self.array]

    def __repr__(self):
        return self.array.__str__()

customArray = CustomArray()
print(customArray.array)
#output:[]
customArray.append(5)
customArray.append(15)
customArray.append(25)
customArray.append(35)
customArray.append(45)
print(customArray)
#output:[5, 15, 25, 35, 45]
print(customArray*5)
#output:[25, 75, 125, 175, 225]
customArray *= 5
print(customArray)
#output:None
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just because you printed a valid result, doesn't mean thats how the method will return the data. </p>
<p>It does modify the data, but since you have no return, the actual value will be None. </p>
<p>You can <code>return self</code>, and it will work</p>
<pre><code>def __imul__(self, scaler):
    #print('*= operation is called.', [n*scaler for n in self.array])
   self.array = [n*scaler for n in self.array]
   return self
</code></pre>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/reference/datamodel.html#object.__imul__" rel="nofollow noreferrer">These methods should attempt to do the operation in-place (modifying <code>self</code>) and <b>return the result</b> (which could be, but does not have to be, <code>self</code>).</a></span>
<span class="comment-copy">That and I would create an helper method to avoid duplicating the scaling code.</span>
<span class="comment-copy">Thank you sooooooo much!</span>
<span class="comment-copy">You can showcase your thanks using the checkmark next to the post</span>
