<div class="post-text" itemprop="text">
<p>I know that there are some topics on this that tell us to use .strip() or .rstrip() function to do this but it's not working for me.</p>
<p>I have a programme that appends a new line to the csv file but unfortunately it generates a trailing comma...
I have tried to remove it with the .strip() function in python but it isn't working well, I am doing something wrong?
This is an example of what happen when I input 'T123' for Bike_No and '05/08/2017' for Purchase_Date</p>
<pre><code> from datetime import datetime
    td= datetime.now()
    initial_bike_detaillist=[]
    deBatt =100
    deKM = 0.00
    deDate = str(td)[8:10] + "/"+ str(td)[5:7] + "/"+ str(td)[0:4]
    print("Option 4: Add abicycle \n")
    Bike_No=input("Bike No. :")
    Purchase_Date=str(input("Purchase Date:"))
    initial_bike_detaillist=[str(Bike_No),str(Purchase_Date),str(deBatt),str(deDate),str(deKM)]#because there  is no write function for int
    filename="Assignment_Data1.csv"
    file=open(filepath + filename,"a")
    file.write("\n")
    for k in initial_bike_detaillist:
        file.write("{},".format(k))
    print("Bicycle ({}) has been created".format(Bike_No))
    file.close()
    file=open(filepath + filename,"r")
    for line in file:
        line.strip()
        print(line)
</code></pre>
<p>expected output=</p>
<pre><code>Bike No.,Purchase Date,Batt %,Last Maintenance,KM since Last 

T101,10/04/2016,55,10/01/2017,25.08

T102,01/07/2016,10,15/05/2017,30.94

T103,15/11/2016,94,13/06/2017,83.16

T104,25/04/2017,58,10/01/2017,25.08

T105,24/05/2017,5,20/06/2017,93.80

T123,04/04/2017,100,05/08/2017,0.0
</code></pre>
<p>actual output:</p>
<pre><code>Bike No.,Purchase Date,Batt %,Last Maintenance,KM since Last 

T101,10/04/2016,55,10/01/2017,25.08

T102,01/07/2016,10,15/05/2017,30.94

T103,15/11/2016,94,13/06/2017,83.16

T104,25/04/2017,58,10/01/2017,25.08

T105,24/05/2017,5,20/06/2017,93.80

T123,04/04/2017,100,05/08/2017,0.0,
</code></pre>
<p>`</p>
</div>
<div class="post-text" itemprop="text">
<p>Instead of this line : </p>
<pre><code>for k in initial_bike_detaillist:
    file.write("{},".format(k))
</code></pre>
<p>use following line : </p>
<pre><code>file.write(','.join(initial_bike_detaillist))
</code></pre>
<p><strong>Your Code :</strong></p>
<pre><code>from datetime import datetime

td = datetime.now()
initial_bike_detaillist = []
deBatt = 100
deKM = 0.00
deDate = str(td)[8:10] + "/" + str(td)[5:7] + "/" + str(td)[0:4]
print("Option 4: Add abicycle \n")
Bike_No = input("Bike No. :")
Purchase_Date = str(input("Purchase Date:"))
initial_bike_detaillist = [str(Bike_No), str(Purchase_Date), str(deBatt), str(deDate),
                           str(deKM)]  # because there  is no write function for int
filename = "Assignment_Data1.csv"
file = open(filepath + filename, "a")
file.write("\n")
# for k in initial_bike_detaillist:
#   file.write("{},".format(k))
file.write(','.join(initial_bike_detaillist)) # use this line .

print("Bicycle ({}) has been created".format(Bike_No))
file.close()
file = open(filepath + filename, "r")
for line in file:
  # line.strip() # Then, not need this line
  print(line)
</code></pre>
</div>
<span class="comment-copy">use <code>line.strip(',')</code></span>
<span class="comment-copy">You might want to use a <a href="https://docs.python.org/3/library/csv.html#csv.DictWriter" rel="nofollow noreferrer">csv.DictWriter</a> It is a standard library, and it is much easier to use. Don't reinvent the wheel!</span>
<span class="comment-copy">There are a lot of things one might fix in this code.  But, to answer your question, relpace <code>for ...: file.write("{},".format(k))</code> with <code>file.write(','.join(initial_bike_detaillist))</code></span>
<span class="comment-copy">@Gerrat tried that befor I posted didnt work</span>
<span class="comment-copy">@AlexKreimer I tried your code and it remove all other lines</span>
