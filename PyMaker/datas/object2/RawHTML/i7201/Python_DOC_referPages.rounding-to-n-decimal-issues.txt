<div class="post-text" itemprop="text">
<p>I need to convert <code>5/7</code> to <code>20</code> decimal places
The following doesn't work (seems like max precision is 15):</p>
<p><code>format(float(5)/float(7), '.%20f')</code> output is <code>0.714285714285714301575</code></p>
<p><code>round(float(n)/float(d) * 10**20)/10**20</code> output is <code>0.714285714286</code></p>
<p>What am I doing wrong? What is the maximum precision for float?</p>
</div>
<div class="post-text" itemprop="text">
<p>Works for me like this</p>
<p><strong>For Python 3.X</strong></p>
<pre><code>&gt;&gt;&gt; '{:.9f}'.format(8/3)
 '2.666666667'

&gt;&gt;&gt; '{:.15f}'.format(8/3)
 '2.666666666666667'

&gt;&gt;&gt; '{:.20f}'.format(8/3)
 '2.66666666666666651864'
</code></pre>
<p><strong>For Python 2.X</strong></p>
<pre><code>&gt;&gt;&gt; '{:.20f}'.format(8.0/3)
 '2.66666666666666651864'

&gt;&gt;&gt; '{:.20f}'.format(8/3.0)
 '2.66666666666666651864'

&gt;&gt;&gt; '{:.20f}'.format(float(8)/3)
 '2.66666666666666651864'

&gt;&gt;&gt; '{:.20f}'.format(8/float(3))
 '2.66666666666666651864'
</code></pre>
</div>
<span class="comment-copy">Have you tried using the decimal type ...  <code>from decimal import *  Decimal(5) / Decimal(7)</code> <a href="https://docs.python.org/2/library/decimal.html" rel="nofollow noreferrer">docs.python.org/2/library/decimal.html</a></span>
<span class="comment-copy">See hint here:<a href="https://docs.python.org/3/tutorial/floatingpoint.html#representation-error" rel="nofollow noreferrer">docs.python.org/3/tutorial/â€¦</a></span>
<span class="comment-copy">How should I round Decimal(5) / Decimal(7)?</span>
<span class="comment-copy">The first line of code in your question results in a <code>ValueError: Format specifier missing precision</code> in both Python 2 and 3. When using the <code>format()</code> function, you don't need to put <code>%</code> in the format string. Try using <code>format(float(5)/float(7), '.20f')</code> instead which will give <code>'0.71428571428571430157'</code>.</span>
<span class="comment-copy">The OP wants to convert <code>5/7</code>, why didn't you use those values?</span>
<span class="comment-copy">No reason, i just randomly picked. You can use 5/7 also, it will work</span>
<span class="comment-copy">'{:.20f}'.format(5/7.0) gives '0.71428571428571430157' gives correct string, but I need float and float('{:.20f}'.format(5/7.0)) gives incorrect result.</span>
<span class="comment-copy">float conversion will be shortened. You can use round((8/3), 20) for float, but float has a limitation of 16 decimal points.</span>
<span class="comment-copy">What type doesn't have such limitations?</span>
