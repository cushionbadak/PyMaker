<div class="post-text" itemprop="text">
<p>I recently ran into some problems decoding a handle (with errors mapping 0x81, 0x8D) from the Biopython module with an anaconda 4.1.1 python 3.5.2 installation on a sony vaio windows 10 system</p>
<p>After some research, it seems that possibly the problem may be that the default decoding codec is cp1252. I ran the code below and found that indeed the default codec is set to cp1252. </p>
<p>However, several posts suggest that python 3 should have set the default codec to utf8. Is that correct? If so, why is mine cp1252 and how can I solve this?
<code>
import locale
os_encoding = locale.getpreferredencoding()
</code></p>
</div>
<div class="post-text" itemprop="text">
<p>According to <a href="https://docs.python.org/3/whatsnew/3.0.html" rel="noreferrer">What’s New In Python 3.0</a>,</p>
<blockquote>
<p>There is a platform-dependent default encoding […] In many cases, but not all, the system default is UTF-8; you should never count on this default.</p>
</blockquote>
<p>and</p>
<blockquote>
<p>PEP 3120: The default source encoding is now UTF-8.</p>
</blockquote>
<p>In other words, Python opens source files as UTF-8 by default, but any interaction with the filesystem will depend on the environment. It's strongly recommended to use <code>open(filename, encoding='utf-8')</code> to read a file.</p>
<p>Another change is that <code>b'bytes'.decode()</code> and <code>'str'.encode()</code> with no argument use utf-8 instead of ascii.</p>
<p><a href="https://docs.python.org/3/whatsnew/3.6.html" rel="noreferrer">Python 3.6 changes</a> some more defaults:</p>
<blockquote>
<p>PEP 529: Change Windows filesystem encoding to UTF-8</p>
<p>PEP 528: Change Windows console encoding to UTF-8</p>
</blockquote>
<p>But the default encoding for <code>open()</code> is still whatever Python manages to infer from the environment.</p>
<p>It appears that 3.7 will add an (opt-in!) mode where the environmental locale encoding is ignored, and everything is all UTF-8 all the time (except for specific cases where Windows uses UTF-16, I suppose). See <a href="https://www.python.org/dev/peps/pep-0540/" rel="noreferrer">PEP 0540</a> and corresponding <a href="https://bugs.python.org/issue29240" rel="noreferrer">Issue 29240</a>.</p>
</div>
<span class="comment-copy">Clarifying that I use .read() to parse the handle from the Entrez.efetch module. Is it then possible to specify the encoding like with open()?</span>
