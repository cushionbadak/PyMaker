<div class="post-text" itemprop="text">
<p>I'm using getopt in Python now and know some basic usage.
But I wonder if there is way to parse two or more arguments after a option.</p>
<p>e.g.</p>
<pre><code>python test.py -a 111 -b 222 333
</code></pre>
<p>How to get both '222' and '333' when I parse option '-b'.Actually I can only catch '222'.</p>
</div>
<div class="post-text" itemprop="text">
<p>You would use argparse (why optparse, why?):</p>
<pre><code>&gt;&gt;&gt; parser = argparse.ArgumentParser()
&gt;&gt;&gt; parser.add_argument('--foo', action='append')
&gt;&gt;&gt; parser.parse_args('--foo 1 --foo 2'.split())
Namespace(foo=['1', '2'])
</code></pre>
<p>From the documentation:
<a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">https://docs.python.org/3/library/argparse.html</a></p>
<p>eg:</p>
<pre><code>python test.py -a 111 -b 222 -b 333 -b 4444
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Parameter 'nargs' can do that in argparse.</p>
<pre><code>&gt;&gt;&gt; parser = argparse.ArgumentParser()
&gt;&gt;&gt; parser.add_argument('--foo', nargs=2)
&gt;&gt;&gt; parser.add_argument('bar', nargs=1)
&gt;&gt;&gt; parser.parse_args('c --foo a b'.split())
Namespace(bar=['c'], foo=['a', 'b'])
</code></pre>
<p>e.g.</p>
<pre><code>python --foo 111 222
</code></pre>
<p><a href="https://docs.python.org/3/library/argparse.html#nargs" rel="nofollow noreferrer">argparse documentation</a></p>
</div>
<span class="comment-copy">Use CSV and split when you parse? 222,333</span>
<span class="comment-copy">@tehjoker Yeah, it's a solution to add additional characters. Maybe getopt doesn't include the method I want.</span>
