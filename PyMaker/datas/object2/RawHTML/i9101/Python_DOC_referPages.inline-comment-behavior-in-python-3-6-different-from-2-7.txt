<div class="post-text" itemprop="text">
<p>So I am moving my code from python 2.7 to 3.6 (yay!). However, I realized that all my super-long config files will need to be modified because while a line like this was valid in a config file in 2.7, it is not in 3.6</p>
<pre><code>SCALE_PRECIPITATION = 1000.0 ; Convert from m to mm
</code></pre>
<p>Is there a way to have inline comment in a config file in python 3.6?</p>
<pre><code>import sys
if sys.version_info.major == 3:
    from configparser import ConfigParser as SafeConfigParser
else:
    from ConfigParser import SafeConfigParser

parser = SafeConfigParser(inline_comment_prefixes=True)
parser.read('config_file.txt')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It looks like you can specify <code>inline_comment_prefixes</code> as an argument to <a href="https://docs.python.org/3/library/configparser.html#configparser.ConfigParser" rel="nofollow noreferrer"><code>configparser.ConfigParser</code></a>.</p>
<blockquote>
<p>When inline_comment_prefixes is given, it will be used as the set of substrings that prefix comments in non-empty lines.</p>
</blockquote>
<p>This behavior was changed in python3.2:</p>
<blockquote>
<p>Changed in version 3.2: In previous versions of <code>configparser</code> behaviour matched <code>comment_prefixes=('#',';')</code> and <code>inline_comment_prefixes=(';',)</code>.</p>
</blockquote>
<p>Note that this also tells you what values to use to recover the old behavior ;-).</p>
</div>
<span class="comment-copy">What are you using to parse these config files?</span>
<span class="comment-copy">@wim -- I was just adding that :-).</span>
<span class="comment-copy">thanks @mgilson</span>
