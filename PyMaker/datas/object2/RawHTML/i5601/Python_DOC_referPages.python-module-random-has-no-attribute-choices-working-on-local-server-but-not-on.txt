<div class="post-text" itemprop="text">
<p>I have a script which selects a random number form available list at random.
I have been testing it on django's local server and it worked fine but when I moved it to a live server I keep getting this error:</p>
<pre><code>AttributeError: 'module' object has no attribute 'choices'
</code></pre>
<p>Here's my code:</p>
<pre><code>import random

class singlePull(TemplateView):
template_name = 'gacha/singlepull.html'

def randomStar(self):
    choice = [5,4,3]
    probability = [0.1, 0.2, 0.7]
    star = random.choices(choice, probability)
    return star


def post(self, request):
    result = self.randomStar()
    for key in result:
        character = Characters.objects.filter(stars=key).order_by('?')[:1]
        for obj in character:
            name = obj.name
            stars = obj.stars
            series = obj.series
            image = obj.image
    return JsonResponse({'name': name, 'stars': stars, 'series': series, 'image': image}, safe=False)
</code></pre>
<p>How come I keep getting this error? What could be wrong here?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>choices</code> is added in version 3.6. Presumably the live server uses an older version while you locally use 3.6.</p>
<p>See <a href="https://docs.python.org/3/library/random.html?highlight=choices#random.choices" rel="nofollow noreferrer">random.choices documentation</a>: "New in version 3.6"</p>
</div>
<span class="comment-copy">Post a complete minimal example. You don't show the random import so I know something is missing.  Anyway, try <code>random.random.choices()</code></span>
<span class="comment-copy">You're never importing the <code>random</code> module; the code you've shown would never work.</span>
<span class="comment-copy">Where's the relevant import?</span>
<span class="comment-copy">Just add <code>import random</code></span>
<span class="comment-copy">Ensure you do not have a random.py file in the same folder.</span>
<span class="comment-copy">This might be it, I just noticed the live server has python 3.5.2. I can't upgrade, can I?</span>
<span class="comment-copy">I don't know a lot about Python on web servers, but if you're not administrator on that server I don't think there's a way for you to upgrade.</span>
<span class="comment-copy">The server is managed by me so that's not a problem. No worries, I will google that. Cheers</span>
