<div class="post-text" itemprop="text">
<p>I got an error</p>
<pre><code>TypeError: unsupported operand type(s) for +: 'PosixPath' and 'str'
</code></pre>
<p>My code is the following</p>
<pre><code>import os
import cv2
import random
from pathlib import Path

path = Path(__file__).parent
path = "../img_folder"

for f in path.iterdir():

    print(f)
    f = str(f)
    img=cv2.imread(f)
    line = random.randint(0, 50)
    img[3, 3, :] = line
    cv2.imwrite(path + "/" + "photo.png", img)
</code></pre>
<p>Traceback says a code of <code>cv2.imwrite~</code> is wrong. I really cannot understand why this is wrong. Is this type of path error? Or am I wrong to use this method? How should I fix this?</p>
</div>
<div class="post-text" itemprop="text">
<p>If you look through your type error, it's actually because you're trying to use the <code>+</code> operator on a <code>PosixPath</code> type and a <code>str</code>. You'll need to convert the <code>PosixPath</code> to a string before you can use the <code>imwrite</code>.</p>
<p>Maybe try:</p>
<pre><code>cv2.imwrite(str(path) + "/" + "photo.png", img)
</code></pre>
<p>Alternatively, use the proper concatenation as described in the <a href="https://docs.python.org/3/library/pathlib.html#operators" rel="nofollow noreferrer">pathlib docs</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You cannot using operan <code>+</code> in <code>PosixPath</code>, but using <code>/</code></p>
<pre><code>    # before
    cv2.imwrite(path + "/" + "photo.png", img)
    # after
    cv2.imwrite(path / "photo.png", img)
</code></pre>
</div>
<span class="comment-copy">Are you sure you posted the correct code? <code>path</code> is clearly a string at the start of the for-loop, but you call <code>iterdir</code> on it, which AFAIK is not a method on <code>str</code> in either Python 2 or 3.</span>
<span class="comment-copy">Assuming that the <code>path="../img_folder"</code> does not exist (as noted by @SilvioMayolo) , I believe that <code>pathlib.Path</code> returns a <code>PosixPath</code> object (not a string).  I don't think you can add these two different objects directly.</span>
