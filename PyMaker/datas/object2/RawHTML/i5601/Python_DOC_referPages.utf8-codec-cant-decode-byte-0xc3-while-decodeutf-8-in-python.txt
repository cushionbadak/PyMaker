<div class="post-text" itemprop="text">
<p>Today I was hit with strange error in my script:</p>
<pre><code>'utf8' codec can't decode byte 0xc3 in position 21: invalid continuation byte
</code></pre>
<p>I'm reading data from socket <code>sock.recv</code> and result is <code>buff.decode('utf-8')</code> where buff is the returned data. </p>
<p>But today I found pretty much "unicorn" where one of the characters returned "▒" &lt;-- this is what throw decode utf-8 into exception. Is there some pre process that would either remove or replace such a strange character?</p>
</div>
<div class="post-text" itemprop="text">
<p>There is a second parameter for <a href="https://docs.python.org/3/library/stdtypes.html?highlight=decode#bytes.decode" rel="noreferrer"><code>.decode()</code> </a> named <code>errors</code>. You can set it to <code>'ignore'</code> to ignore all non-utf8 characters, or set it to <code>'replace'</code> to replace them with the diamond question mark (�). </p>
<pre><code>buff.decode('utf-8', 'ignore')
</code></pre>
</div>
<span class="comment-copy">I love you ! exactly what I needed</span>
