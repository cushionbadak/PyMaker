<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/3906137/why-cant-i-call-read-twice-on-an-open-file">Why can't I call read() twice on an open file?</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I have a users.txt and password.txt and i need to iterate in both files</p>
<p>Example of users.txt:</p>
<ul>
<li>root</li>
<li>admin</li>
<li>oracle</li>
<li>users</li>
</ul>
<p>Example of password.txt</p>
<ul>
<li>toor</li>
<li>rooot</li>
<li>administrator</li>
<li>password</li>
</ul>
<p>In my loop just print the first user "root" and all of the password but dont 
print the others users, this is my code:</p>
<pre><code>fu = open("/home/dskato/diccionarios/user.txt", "r")
fp = open("/home/dskato/diccionarios/pasword.txt", "r")

for user in fu.readlines():
  for password in fp.readlines():
    print "Username: "+user+" Password: "+password
</code></pre>
<p>This is the output but don't iterate over the others users 
What it's wrong?</p>
<p>Username: root
 Password: 123456</p>
<p>Username: root
 Password: 12345678</p>
<p>Username: root
 Password: 12345678</p>
<p>Username: root
 Password: 1234</p>
<p>Username: root
 Password: pass</p>
<p>Username: root
 Password: password</p>
<p>And i need this output example:</p>
<ul>
<li>root: 123456</li>
<li>root:password</li>
<li>root:toor</li>
<li>admin:123456</li>
<li>admin:password</li>
<li>admin:toor</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>You are iterating over all the passwords with the inner loop on the first iteration of the outer loop. On the second iteration of the outer loop, there are no more passwords to iterate (<code>fp</code>'s current position is at the end of the file). </p>
<p>You could <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer"><code>fp.seek(0)</code></a> to reset <code>fp</code> after each user iteration:</p>
<pre><code>for user in fu:
    for password in fp:
        print "Username: " + user.rstrip('\n') + " Password: " + password.rstrip('\n')
    fp.seek(0)
</code></pre>
<p>Or you could read the passwords once into a list:</p>
<pre><code>passwords = list(fp)

for user in fu:
    for password in passwords:
        print "Username: " + user.rstrip('\n') + " Password: " + password.rstrip('\n')
</code></pre>
<p>There's a tradeoff between file access and memory usage here. </p>
</div>
<div class="post-text" itemprop="text">
<p>You have a nested for loop, which reads passwords (in the internal loop), for each users (in the external loop). </p>
<p>What happened now, your external loop read first user (root), and the internal read all password, and print them together with root.  </p>
<p>When your external loops tries to process second user, your password file is already reaching the end, nothing is printed.</p>
<p>You need to read lines of these files separately, store it in an array and print later.</p>
<p>Better yet, just use paste : <a href="https://unix.stackexchange.com/questions/234208/combining-several-files-into-a-single-csv">https://unix.stackexchange.com/questions/234208/combining-several-files-into-a-single-csv</a></p>
</div>
<span class="comment-copy">this is the output root:123, admin:pass,  And i need to iterate the users again with the password, like root:123, root:pass, root:toor, admin:123, admin:pass, admin:toor</span>
<span class="comment-copy">You want every user with every password? If so, please update your question to clarify.</span>
<span class="comment-copy">Yes  i need that, i edited now</span>
<span class="comment-copy">no nee to use <code>readlines</code>, it is inefficient.</span>
<span class="comment-copy">I edited my answer to reflect the updated question and incorporate feedback from @juanpa.arrivillaga.</span>
<span class="comment-copy"><code>paste</code> doesn't perform nested loops.It just "zips" the data together.</span>
<span class="comment-copy">Indeed, I did not notice the example outputs, (or it was edited after I answered). Now trying different passwords for each users is not something I am familiar with :P</span>
<span class="comment-copy">same for me. Even got 2 upvotes for a wrong answer. Deleted it.</span>
