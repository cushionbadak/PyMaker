<div class="post-text" itemprop="text">
<p>I am currently trying to run a <a href="https://github.com/slok/prometheus-python/blob/master/examples/memory_cpu_usage_example.py" rel="nofollow noreferrer">sample code</a> I code off of the internet. </p>
<p>While trying to run it using python2.7, I get the following ERROR :</p>
<pre><code># python2.7 example.py 
Traceback (most recent call last):
  File "example.py", line 9, in &lt;module&gt;
    from http.server import HTTPServer
ImportError: No module named http.server
</code></pre>
<p>I tried to run the following :</p>
<pre><code># pip install http.server
Collecting http.server
  Could not find a version that satisfies the requirement http.server (from versions: )
No matching distribution found for http.server
</code></pre>
<p>But when I use python3, it does not give me the ERROR. Rather gives the ERROR :</p>
<pre><code># python3 example.py 
Traceback (most recent call last):
  File "example.py", line 13, in &lt;module&gt;
    from prometheus.client import Gauge
ImportError: No module named 'prometheus.client'
</code></pre>
<p>Im trying to install <code>prometheus.client</code> using pip and pip3 but nothing.</p>
<pre><code># pip install prometheus.collectors
Collecting prometheus.collectors
  Could not find a version that satisfies the requirement prometheus.collectors (from versions: )
No matching distribution found for prometheus.collectors

# pip3 install prometheus.collectors
Collecting prometheus.collectors
  Could not find a version that satisfies the requirement prometheus.collectors (from versions: )
No matching distribution found for prometheus.collectors
</code></pre>
<p>How can I get the missing libraries ? </p>
<p><strong>EDIT ::</strong></p>
<p>In the below example I am using a very minimalist approach (again from github)</p>
<pre><code>from prometheus_client import start_http_server, Summary
import random
import time

# Create a metric to track time spent and requests made.
REQUEST_TIME = Summary('request_processing_seconds', 'Time spent processing request')

# Decorate function with metric.
@REQUEST_TIME.time()
def process_request(t):
    """A dummy function that takes some time."""
    time.sleep(t)

if __name__ == '__main__':
    # Start up the server to expose the metrics.
    start_http_server(8000)
    # Generate some requests.
    while True:
        process_request(random.random())
</code></pre>
<p>Running the above code yields :</p>
<pre><code># python3.4 main.yaml 
Traceback (most recent call last):
  File "main.yaml", line 1, in &lt;module&gt;
    from prometheus_client import start_http_server, Summary
ImportError: No module named 'prometheus_client'
</code></pre>
<p>Whereas I do have the library installed. </p>
<pre><code># pip3 install prometheus_client
Requirement already satisfied: prometheus_client in /usr/lib/python2.7/site-packages
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/http.server.html" rel="nofollow noreferrer"><code>http.server</code></a> is a module in Python 3. </p>
<p>See the note for <a href="https://docs.python.org/2/library/simplehttpserver.html" rel="nofollow noreferrer"><code>SimpleHTTPServer</code></a> in Python 2:</p>
<blockquote>
<p>Note The <code>SimpleHTTPServer</code> module has been merged into <code>http.server</code> in Python 3. The <code>2to3</code> tool will automatically adapt imports when converting your sources to Python 3.</p>
</blockquote>
<p>For <code>prometheus.client</code>, you want <code>pip install prometheus_client</code>. See <a href="https://github.com/prometheus/client_python" rel="nofollow noreferrer">https://github.com/prometheus/client_python</a></p>
<p><a href="https://github.com/slok/prometheus-python/blob/master/README.md" rel="nofollow noreferrer">README.md from the repository you linked</a> states:</p>
<blockquote>
<p>Deprecated, use: <a href="https://github.com/prometheus/client_python" rel="nofollow noreferrer">https://github.com/prometheus/client_python</a></p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>I'm running on ubuntu 18.10 and i got the same issue, and i have python2 install already. I was able to solved it by installing python3 and python3-pip like below.</p>
<pre><code>sudo apt install python3
sudo apt install python3-pip
pip3 install prometheus_client
</code></pre>
<p>May be helpful to somebody!</p>
</div>
<span class="comment-copy">Ive tried that too. But unfortunately it does not work.</span>
<span class="comment-copy">+1 cos I jumped past the README deprecation warning in that library while looking for install instructions :P. But if that code-base still exists online, there should be some internal consistency on how it works? I mean, just because the library is deprecated, they wouldn't just completely break it? And OP didn't do <code>pip install prometheus_client</code>. Struggling to make sense of the issue OP is facing.</span>
<span class="comment-copy">The instructions in the old repository are now out of sync with pip. If you were to use the package as it was in the old repository, the examples in the old repository would probably work.</span>
<span class="comment-copy">Hello. Please review my EDIT. The issue is when I use python2 , it complains about <code>http.server</code>. And when I use python3, it complains about <code>prometheus_client</code>. Whereas I do have the libraries installed.</span>
<span class="comment-copy">As I stated, <code>http.server</code> is a Python 3 module. It does not exist for Python 2. Did you install <code>prometheus_client</code> for Python 3 or for Python 2? It sounds like you only installed it for Python2.</span>
