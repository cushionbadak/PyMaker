<div class="post-text" itemprop="text">
<p>The Getting Started docs for asyncssh give the following hello example:</p>
<pre><code>import asyncio, asyncssh, sys

async def run_client():
    async with asyncssh.connect('localhost') as conn:
        result = await conn.run('echo "Hello!"', check=True)
        print(result.stdout, end='')

try:
    asyncio.get_event_loop().run_until_complete(run_client())
except (OSError, asyncssh.Error) as exc:
    sys.exit('SSH connection failed: ' + str(exc))
</code></pre>
<p>However, this will not run, because async with is not supported in Python 3.4:</p>
<pre><code>async with asyncssh.connect('localhost', username='squirtle', password='xxxxxxxxxxxx') as conn:
     ^
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I went and did it, this works for me.</p>
<pre><code>@asyncio.coroutine
def run_client():
        with(yield from asyncssh.connect('localhost', username='root', password='xxxxxxxx')) as conn:
                result = yield from conn.run('ls', check=True)
                print(result.stdout, end='')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>async</code> keyword was introduced in <strong>Python 3.5</strong>, you should use <code>asyncio.corutine</code> in earlier versions.</p>
<p>Check <a href="https://www.python.org/dev/peps/pep-0492/" rel="nofollow noreferrer">PEP492</a> and <a href="https://docs.python.org/3/whatsnew/3.5.html#summary-release-highlights" rel="nofollow noreferrer">Python 3.5 release notes</a></p>
<p>Also you would like to check this <a href="https://stackoverflow.com/questions/40571786/asyncio-coroutine-vs-async-def">SO Question and answers</a></p>
</div>
<span class="comment-copy">please ask another question with your edit, so we can keep the questions clean</span>
<span class="comment-copy">I've removed the edit and made a new question.</span>
<span class="comment-copy">consider <a href="https://stackoverflow.com/help/someone-answers">stackoverflow.com/help/someone-answers</a></span>
