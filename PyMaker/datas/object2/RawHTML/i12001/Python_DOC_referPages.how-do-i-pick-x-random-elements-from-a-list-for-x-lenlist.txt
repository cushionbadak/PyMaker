<div class="post-text" itemprop="text">
<p>I need to pick random elements from a list.
And the number of random elements is larger than the length of the list (so I will have duplicates).
Therefore I can't use random.sample(), because the sample can't be larger than the population.
Does anyone have a solution?</p>
<p>For example:</p>
<p>lst = [1,2,3,4]</p>
<p>How can I pick 5 random elements from this list, like [1,4,3,1,2]?</p>
</div>
<div class="post-text" itemprop="text">
<p>If I understand correctly, that you want to pick at random from a population, this should do the trick:</p>
<pre><code>import random

list = [1, 2, 3, 4]

random_elements = [random.choice(list) for n in range(5)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import numpy
lst = [1,2,3,4]
choices = numpy.random.choice(lst, size=5, replace=True)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/random.html#random.choice" rel="nofollow"><code>random.choice</code></a> in a loop or list comprehension to return random elements from your input list.</p>
<p>Here's a list comprehension example:</p>
<pre><code>from random import choice

lst =  [10, 20, 30, 40]

num = 5
seq = [choice(lst) for _ in range(num)]
print(seq)
</code></pre>
<p><strong>typical output</strong></p>
<pre><code>[20, 40, 10, 30, 20]
</code></pre>
<p>And here's the same thing using a "traditional <code>for</code> loop:</p>
<pre><code>from random import choice

lst =  [10, 20, 30, 40]

num = 5
seq = []
for _ in range(num):
    seq.append(choice(lst))
print(seq)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need no third-party modules.  Just use a list comprehension:</p>
<pre><code>choices = [random.choice(lst) for _ in range(5)]
</code></pre>
<p>Another way that is a little shorter, but not as efficient is this:</p>
<pre><code>choices = list(map(random.choice, [lst]*5))
</code></pre>
<p>In Python2, <code>map()</code> already returns a list, so you could do:</p>
<pre><code>choices = map(random.choice, [lst]*5)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>My answer involves the <a href="https://docs.python.org/3/library/random.html#random.choice" rel="nofollow noreferrer">random.choice</a> function and a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>.</p>
<p>I suggest also to put the magic inside a function whose name makes explicit what it does.</p>
<pre><code>import random

def pick_n_samples_from_list(n, l):
    return [random.choice(l) for n in range(n)]

n = 5
lst = [1, 2, 3, 4]
print(pick_n_samples_from_list(n, lst))
&gt;[3, 1, 4, 4, 1]
</code></pre>
</div>
<span class="comment-copy">Pick a single random element 5 times?</span>
<span class="comment-copy">Use <code>random.choice</code> in a loop / list comprehension / generator expression. See <a href="http://stackoverflow.com/questions/306400/how-do-i-randomly-select-an-item-from-a-list-using-python" title="how do i randomly select an item from a list using python">stackoverflow.com/questions/306400/â€¦</a></span>
