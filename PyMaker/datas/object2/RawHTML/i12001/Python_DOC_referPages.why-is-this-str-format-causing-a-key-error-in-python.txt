<div class="post-text" itemprop="text">
<p>I have the following code in a python 2.7.10 script</p>
<pre><code>params = {'F': '250', 'I': '-22.5', 'J': '-22.5', 'Y': '12.817175976', 'X': '7.4', 'Z': '-50'}
G3 = 'G3 F {F} I {I} J {J} X {X} Y {Y} Z {Z}  \n'
print(params)
print(G3)
print(G3.format(params))
</code></pre>
<p>When I try to run it it gives the following output:</p>
<pre><code>./g-codeGenerator.py
{'F': '250', 'I': '-22.5', 'J': '-22.5', 'Y': '12.817175976', 'X': '7.4', 'Z': '-50'}
G3 F {F} I {I} J {J} X {X} Y {Y} Z {Z} 

Traceback (most recent call last):
  **Traceback truncated**
  File "./g-codeGenerator.py", line 342, in siliconOutputSequence
    print(G3.format(params))
KeyError: 'F'
</code></pre>
<p>Why is this causing the key error, as far as I can see all of the required elements are present in the parameters?</p>
</div>
<div class="post-text" itemprop="text">
<p>It's because <code>.format()</code> is not expecting a dictionary; it's expecting keyword arguments.  <code>.format({'F': 4})</code> should be changed to <code>.format(F=4)</code>.  To do that with your dictionary, use <code>**</code>:</p>
<pre><code>print(G3.format(**params))
</code></pre>
<p>For more information on argument unpacking, see the <a href="https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists" rel="nofollow">docs</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You just need to unpack the dictionary into the format string using the <code>**</code> operator:</p>
<pre><code>print(G3.format(**params))
</code></pre>
<p><strong>Output</strong></p>
<pre><code>G3 F 250 I -22.5 J -22.5 X 7.4 Y 12.817175976 Z -50 
</code></pre>
</div>
<span class="comment-copy"><i>facepalm</i> Thanks, I feel like a real idiot now looking about 4 lines above my code snippet and seeing exactly that where it's working properly.</span>
<span class="comment-copy">Don't worry.  It took me a minute to see your problem ;)</span>
