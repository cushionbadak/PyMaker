<div class="post-text" itemprop="text">
<p>I am fetching from database a text that is in a json format. Basically dumping an api content from a website to a db with TEXT field. </p>
<p>I can see the json content has no issues/errors, but when I do .. </p>
<pre><code>try:
    get_all = db.query("SELECT id, name, api_content FROM _books")
    _result = get_all.fetchall()
except Exception as e:
    print("[e::line-163] ", e)

try:
    for r in _result:
        api_content = r[2]
        j = json.loads(api_content)
        print('names, ', j['names'])
</code></pre>
<p>I get this error .</p>
<blockquote>
<p>Expecting property name enclosed in double quotes: line 1 column 2 (char 1)  </p>
</blockquote>
<p>The <code>api_content</code> has no issues, it is a well-formed json content. </p>
</div>
<div class="post-text" itemprop="text">
<p>I don't think you have a valid JSON in <code>api_content</code>. Judging by what the error is about, your properties (keys) are enclosed in single quotes but need to be enclosed in double quotes to be a valid JSON.</p>
<p>Here is what is happening:</p>
<pre><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; json.loads('{"key": "value"}')  # &lt;- VALID JSON
{'key': 'value'}
&gt;&gt;&gt; json.loads("{'key': 'value'}")  # &lt;- INVALID JSON
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/__init__.py", line 319, in loads
    return _default_decoder.decode(s)
  File "/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/json/decoder.py", line 355, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
</code></pre>
<hr/>
<p>In other words, you should revise the way you dump the API contents into the database. It looks like you are just writing string representations of  Python dictionary objects instead of using <code>json.dumps()</code>.</p>
<p>If you cannot change that, try using <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow"><code>ast.literal_eval()</code></a> to safely eval the api content:</p>
<pre><code>from ast import literal_eval

for r in _result:
    api_content = r[2]
    j = literal_eval(api_content)
    print('names, ', j['names'])
</code></pre>
</div>
<span class="comment-copy">I think this might be it, I just the db, everything is in single quotes. Is there is way around this?</span>
<span class="comment-copy">@soni-b3196413 I would revise/fix the way you dump the api content into the database (json.dump(s) it properly). If you cannot change that, you can try loading the api contents via <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer"><code>ast.literal_eval()</code></a>.</span>
<span class="comment-copy">So, you are saying there is a way to fix the quotes using <code>json.dump</code> prior to submitting the <code>api_content</code> to database? if so, then that would be better, as I was going to try replace the string .. which would be a lot of work. Can you produce an example? sorry, I am 0 in python</span>
<span class="comment-copy">@soni-b3196413 I've added more information into the answer - check it out.</span>
<span class="comment-copy">Thanks so much. it works, not sure if <code>ast</code> is bad, but i'll read on it later.</span>
