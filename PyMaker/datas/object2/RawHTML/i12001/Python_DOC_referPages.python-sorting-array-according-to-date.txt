<div class="post-text" itemprop="text">
<p>How can i sort python list according to maximum date which is combined with string</p>
<pre><code>['', 'q//Attachments/Swoop_coverletter_311386_20120103.doc', 'q//Attachments/Swoop_RESUME_311386_20091012.doc', 'q//Attachments/Swoop_Resume_311386_20100901.doc', 'q//Attachments/Swoop_reSume_311386_20120103.doc', 'q//Attachments/Swoop_coverletter_311386_20100901.doc', 'q//Attachments/Swoop_coverletter_311386_20091012.doc']
</code></pre>
<p>above is the list and expected result is this</p>
<pre><code>['q//Attachments/Swoop_coverletter_311386_20120103.doc','q//Attachments/Swoop_reSume_311386_20120103.doc','q//Attachments/Swoop_Resume_311386_20100901.doc','q//Attachments/Swoop_coverletter_311386_20100901.doc','q//Attachments/Swoop_RESUME_311386_20091012.doc','q//Attachments/Swoop_coverletter_311386_20091012.doc','']
</code></pre>
<p>I wrote a script which is not sorting but priniting only one value at end</p>
<pre><code>a = ['q//Attachments/Swoop_coverletter_311386_20120103.doc','q//Attachments/Swoop_reSume_311386_20120103.doc','q//Attachments/Swoop_Resume_311386_20100901.doc','q//Attachments/Swoop_coverletter_311386_20100901.doc','q//Attachments/Swoop_RESUME_311386_20091012.doc','q//Attachments/Swoop_coverletter_311386_20091012.doc','']
print max(a)
</code></pre>
<p>Result:</p>
<pre><code>q//Attachments/Swoop_reSume_311386_20120103.doc
</code></pre>
<p>How can i get expected output like this</p>
<p>Expected output:</p>
<pre><code>['q//Attachments/Swoop_coverletter_311386_20120103.doc','q//Attachments/Swoop_reSume_311386_20120103.doc','q//Attachments/Swoop_Resume_311386_20100901.doc','q//Attachments/Swoop_coverletter_311386_20100901.doc','q//Attachments/Swoop_RESUME_311386_20091012.doc','q//Attachments/Swoop_coverletter_311386_20091012.doc','']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Write a function to extract the date from your string with a regular expression, and use that as key to <code>sorted</code>:</p>
<pre><code>import re

l = ['',
     'q//Attachments/Swoop_coverletter_311386_20120103.doc',
     'q//Attachments/Swoop_RESUME_311386_20091012.doc',
     'q//Attachments/Swoop_Resume_311386_20100901.doc',
     'q//Attachments/Swoop_reSume_311386_20120103.doc',
     'q//Attachments/Swoop_coverletter_311386_20100901.doc',
     'q//Attachments/Swoop_coverletter_311386_20091012.doc']

def get_date(line):
    pattern = '.*_(\d{8}).doc'
    m = re.match(pattern, line)
    if m:
        return int(m.group(1))
    else:
        return -1 # or do something else with lines that contain no date


print sorted(l, key=get_date, reverse=True)
</code></pre>
<p>prints:</p>
<pre><code>['q//Attachments/Swoop_coverletter_311386_20120103.doc', 
 'q//Attachments/Swoop_reSume_311386_20120103.doc', 
 'q//Attachments/Swoop_Resume_311386_20100901.doc', 
 'q//Attachments/Swoop_coverletter_311386_20100901.doc', 
 'q//Attachments/Swoop_RESUME_311386_20091012.doc', 
 'q//Attachments/Swoop_coverletter_311386_20091012.doc', 
 '']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think the problem might be easier solvable by using the built-in function <code>str.rpartition('_')</code> (<a href="https://docs.python.org/3/library/stdtypes.html#str.rpartition" rel="nofollow">https://docs.python.org/3/library/stdtypes.html#str.rpartition</a>).</p>
<p>I'm assuming all your files have the same format of course, in that case the above function would always return <code>&lt;date&gt;.doc</code>. Then you just have to remove the <code>.doc</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could try an alternate one line solution <em>(kind of)</em>. You have to first clean the list by removing empty elements.</p>
<pre><code>given_list = filter(None, given_list)
sorted(given_list, key=lambda x: datetime.strptime(x.split(".")[0][-8:], "%Y%m%d"), reverse=True)
</code></pre>
<p>Or to simplify it like in <a href="https://stackoverflow.com/a/35890966/2932244">BioGeek's answer</a>, instead of using <code>datetime</code> simply convert into <code>int</code> and sort on it.</p>
<pre><code>given_list = filter(None, given_list)
sorted(a, key=lambda x: int(x.split(".")[0][-8:]), reverse=True)
</code></pre>
<p><em>Output:</em></p>
<pre><code>['q//Attachments/Swoop_coverletter_311386_20120103.doc', 
 'q//Attachments/Swoop_reSume_311386_20120103.doc',
 'q//Attachments/Swoop_Resume_311386_20100901.doc',
 'q//Attachments/Swoop_coverletter_311386_20100901.doc', 
 'q//Attachments/Swoop_RESUME_311386_20091012.doc',
 'q//Attachments/Swoop_coverletter_311386_20091012.doc']
</code></pre>
</div>
