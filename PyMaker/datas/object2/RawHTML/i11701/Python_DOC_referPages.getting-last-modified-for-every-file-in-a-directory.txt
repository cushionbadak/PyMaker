<div class="post-text" itemprop="text">
<p>I'm trying to get data for every file in a specific directory. Right now I'm just trying to get last-modified date. It seems like I need to convert this WindowsPath to a string, but I couldn't find any function that would do that.</p>
<pre><code>import os
import time
from pathlib import Path

startDir = os.getcwd()

pt = r"\\folder1\folder2"

asm_pths = [pth for pth in Path(pt).iterdir()
            if pth.suffix == '.xml']


for file in asm_pths:
    (mode, ino, dev, nlink, uid, gid, size, atime, mtime, ctime) = os.stat(file)
    print("last modified: %s" % time.ctime(mtime))
</code></pre>
<p>Console:</p>
<pre><code>Traceback (most recent call last):
  File "C:\Users\daniel.bak\My Documents\LiClipse Workspace\Crystal Report Batch Analyzer\Analyzer\analyzer.py", line 34, in &lt;module&gt;
    (mode, ino, dev, nlink, uid, gid, size, atime, mtime, ctime) = os.stat(file)
TypeError: argument should be string, bytes or integer, not WindowsPath
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <code>path</code> argument to <a href="https://docs.python.org/3.5/library/os.html#os.stat" rel="nofollow"><code>os.stat</code></a> must be a string but you are passing in an instance of <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" rel="nofollow"><code>Path</code></a>. You need to convert <code>Path</code> to string using <code>str</code>. </p>
<pre><code>for file in asm_pths:
    (mode, ino, dev, nlink, uid, gid, size, atime, mtime, ctime) = os.stat(str(file))
    print("last modified: %s" % time.ctime(mtime))
</code></pre>
<p>But if you only want last modification date then <a href="https://docs.python.org/3.5/library/os.path.html#os.path.getmtime" rel="nofollow"><code>os.path.getmtime</code></a> will be fine:</p>
<pre><code>for file in asm_pths:
    print("last modified: %s" % time.ctime(os.path.getmtime(str(file)))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3.5/library/os.path.html#os.path.getmtime" rel="nofollow"><code>os.path.getmtime(file)</code></a> should give you the anwser. Your problem is that <code>file</code> type should be a string. Change your code to something like:</p>
<pre><code># a list of string
paths = [f for f in os.listdir(".") if f.endswith(".xml")]
for f in paths:
    print("last modified: %s" % time.ctime(os.path.getmtime(f)))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You may also use <code>lstat().st_mtime</code> for a <code>WindowsPath</code> (pathlib.Path) object. </p>
<h2>Example:</h2>
<pre><code>from pathlib import Path

file = Path(r'C:\Users\&lt;user&gt;\Desktop\file.txt')
file.lstat().st_mtime

Output: 1496134873.8279443

import datetime
datetime.datetime.fromtimestamp(file.lstat().st_mtime)

Output: datetime.datetime(2017, 5, 30, 12, 1, 13, 827944)
</code></pre>
</div>
