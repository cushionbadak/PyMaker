<div class="post-text" itemprop="text">
<p>New to Python so help much appreciated. Trying to create a list from a csv file but I get back empty list. The code is:</p>
<pre><code>f = open('f04.csv','r')
fs = csv.reader(f)

for row in fs:
    print(row)

print("\n create list:")
rawlist = list(fs)
print(rawlist)
</code></pre>
<p>The output is </p>
<pre><code>['0.161872459', '0.007599374', '0.356000303']
['0.252876406', '0.174271357', '0.186588529']
['0.002431561', '0.304828772', '0.413916445']
['0.317126652', '0.205842315', '0.007455314']
['0.035314146', '0.033238938', '0.037165931']
['0.701855497', '0.173086947', '0.040612888']
['0.576945162', '0.846018396', '0.046673223']
['0.170591115', '0.587155632', '0.177219448']
['0.83711092', '0.419058334', '0.829849144']

 create list:
[]
</code></pre>
<p>As you can see the reader works but when I try to create a list it returns empty. Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>Iterators such as files can only be iterated once. You need to re-initialize them to be able to restart reading from the beginning. Try:</p>
<pre><code>f = open('f04.csv','r')
fs = csv.reader(f)

rawlist = []
for row in fs:
    print(row)
    rawlist.append(row)

print(rawlist)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can only move though the iterator once. You can however <em>reset</em> the iterator by using <code>seek</code> (see docs <a href="https://docs.python.org/3/library/io.html#io.IOBase.seek" rel="nofollow">https://docs.python.org/3/library/io.html#io.IOBase.seek</a>).</p>
<p>Your example would then only need <strong>one additional line</strong> of code, becoming:</p>
<pre><code>f = open('f04.csv','r')
fs = csv.reader(f)

for row in fs:
    print(row)

f.seek(0)

print("\n create list:")
rawlist = list(fs)
print(rawlist)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Files cannot be iterated twice without rewinding, and <code>csv.reader</code> returns an iterator that cannot be iterated twice at all.</p>
<p>The easy and "right" way is that you load the whole file into memory:</p>
<pre><code>with open('f04.csv') as f:   # with syntax ensures that the file is closed right away
    rawlist = list(csv.reader(f))

# from here on, `rawlist` contains everything you had in the file

for row in rawlist:
    print(row)

print(rawlist)
</code></pre>
<p>This will work as long as your file is not huge.</p>
</div>
<span class="comment-copy">Works, thank you.</span>
