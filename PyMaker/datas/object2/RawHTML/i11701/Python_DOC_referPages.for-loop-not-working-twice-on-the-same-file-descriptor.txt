<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/10255273/iterating-on-a-file-using-python">Iterating on a file using Python</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>The code is not entering the second for loop. I am not modifying the file descriptor anywhere. Why is that happening?    </p>
<pre><code>import os
import re

path = '/home/ajay/Desktop/practice/ajay.txt'
os.system('ifconfig&gt;&gt;path')
fd = open(path,'r+')
interfaces = []
tx_packets = []

for line in fd:

    if(re.search(r'(\w+)\s+\Link',line)):
    inter = re.match(r'(\w+)\s+\Link',line)
    interface = inter.group(1)
    interfaces.append(interface)

for lines in fd:

    if(re.search(r'\s+TX packets:(\d+)',lines)):
        tx_packs = re.match(r'\s+TX packets:(\d+)',lines)
        tx_pack = tx_packs.group(1)
        tx_packets.append(tx_pack)


print interfaces
print  tx_packets
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Because <code>for lines in fd:</code> will place the read pointer, file pointer or whatever it's called at the end of the file. Call <code>fd.seek(0)</code> in between your <code>for</code> loops</p>
</div>
<div class="post-text" itemprop="text">
<p>That is because your file pointer has reached the end of the file. So you need to point it back to the beginning of the file before your next iteration. Put this before your second loop: </p>
<pre><code>fd.seek(0)
</code></pre>
<p>Check the tutorial on input/output <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow">here</a>. The part about <code>seek</code> states:</p>
<blockquote>
<p>To change the file objectâ€™s position, use f.seek(offset, from_what).</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>The <code>for</code> loop works by calling <code>fd.next()</code> until it raises <code>StopIteration</code>.  When you iterate through it the second time, the file has already finished.  To get back to the beginning, use <code>fd.seek(0)</code></p>
</div>
<span class="comment-copy">Because <code>for lines in fd:</code> will place the read pointer or whatever it's called at the end of the file. Call <code>fd.seek(0)</code> in between your <code>for</code> loops</span>
