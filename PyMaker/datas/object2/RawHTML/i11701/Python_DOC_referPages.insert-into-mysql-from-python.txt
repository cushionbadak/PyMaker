<div class="post-text" itemprop="text">
<p>I am trying to insert a csv file into mysql.Here is my code.</p>
<pre><code>path = r'C:\Users\ravi\Desktop\Book1.csv'
with open(path, 'rb') as csvfile:
    csv_data = csv.reader(csvfile, delimiter=' ', lineterminator=" ")
    for row in csv_data:
        print row
        cur.execute("INSERT INTO testtable (id,name) VALUES (%s, %s)" % row)
</code></pre>
<p>The error is:</p>
<pre><code>cur.execute("INSERT INTO testtable (id,name) VALUES (%s, %s)" % row)
TypeError: not enough arguments for format string.
</code></pre>
<p>Please help me solve this</p>
</div>
<div class="post-text" itemprop="text">
<p>Are you sure you are using right delimiter???</p>
<pre><code>csv_data = csv.reader(csvfile, delimiter=' ', lineterminator=" ")
</code></pre>
<p>For csv, shouldn't it be ,</p>
<pre><code>csv_data = csv.reader(csvfile)
</code></pre>
<p>Actually for csv.reader(), </p>
<blockquote>
<p>A one-character string used to separate fields. It defaults to ','.</p>
</blockquote>
<p><a href="https://docs.python.org/3/library/csv.html" rel="nofollow">https://docs.python.org/3/library/csv.html</a></p>
<p>Try this for insert statement:-</p>
<pre><code>cur.execute("INSERT INTO testtable (id,name) VALUES (%s, %s)" % (row[0],row[1]))
</code></pre>
</div>
<span class="comment-copy">What is the value of <code>row</code> printed?</span>
<span class="comment-copy">it is a list with first row of csv file. In this case it is ['id', 'name'] the headers of csv file.</span>
<span class="comment-copy">Okay, quick question, what if you define the reader as <code>csv_data = csv.reader(csvfile, delimiter=' ')</code>?</span>
<span class="comment-copy">The same result .no change ..</span>
<span class="comment-copy">I have tried it by changing the definition of reader,How ever the same error persits. i think the error is with the insert statement</span>
<span class="comment-copy">Thanks for correcting the reader definition.Could you pls help me with insert statement</span>
<span class="comment-copy">i have updated the answer...please try now</span>
<span class="comment-copy">Thanks a lot That worked.Can u pls help me how can i exclude the header  in csv file from getting inserted into my db</span>
<span class="comment-copy">@venkatsai:- Please mark it solved if it solved your problem. In this way it will help others looking for similar problem...</span>
