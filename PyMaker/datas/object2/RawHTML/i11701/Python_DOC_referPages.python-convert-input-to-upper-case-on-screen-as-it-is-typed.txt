<div class="post-text" itemprop="text">
<p>How can my Python program convert the user's keyboard input to upper case, as though the user has CAPS LOCK enabled?</p>
<p>I want to emulate a program running on a computer which doesn't have any lower-case letters (i.e. a character set more limited than ASCII).</p>
<p>The text input, typed interactively by the user at the keyboard, should be forced to upper case in real time as though that's what the user typed.</p>
<p>The command line interface could use Python's standard <a href="https://docs.python.org/3/library/cmd.html" rel="nofollow"><code>cmd</code></a> library, or something else. The conversion could be done by a custom input stream, or some other way.</p>
<p>I am not interested in completely re-implementing the character-by-character input system; for example, I would like to continue making use of <code>readline</code> if it is available. I only want to translate the resulting stream as it appears visually and as it comes into the program.</p>
<p>There is a Unix terminal attribute, <code>OLCUC</code>, which sounds promising; but it is <a href="http://pubs.opengroup.org/onlinepubs/7908799/xbd/termios.html" rel="nofollow">marked LEGACY in the Single Unix Specification</a>, and its implementation is unreliable (causes garbage for some normal control sequences or Unicode text). So that is not a solution.</p>
<p>Especially important is that the interface should appear visibly indistinguishable from someone actually typing upper case text; the display should only ever show the user's input as the upper case text the program will process.</p>
</div>
<div class="post-text" itemprop="text">
<p>Using getch: <a href="http://code.activestate.com/recipes/134892/" rel="nofollow">http://code.activestate.com/recipes/134892/</a></p>
<p>Append after <code>stdin.read</code> in <code>__call__</code> func the following:</p>
<pre><code>try:
    tty.setraw(sys.stdin.fileno())
    ch = sys.stdin.read(1).upper()
    sys.stdout.write(ch)
    ...
</code></pre>
<p>You can just do a conditional while (e.g. until user presses enter) to get char by char and echo it as upper case:</p>
<pre><code>getch = _Getch()
text = ''

while True:
    char = getch()
    if ord(char) == 13:  # ascii carriage return
        break
    else:
        text += char

print text
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/510357/python-read-a-single-character-from-the-user">Python read a single character from the user</a></span>
<span class="comment-copy">Thanks, but no, I don't want to be responsible for re-implementing every aspect of character-by-character input. I have edited the question to clarify this.</span>
