<div class="post-text" itemprop="text">
<p>I unpickle the <a href="http://www.cs.toronto.edu/~kriz/cifar.html" rel="nofollow noreferrer"><code>cifar10</code> dataset</a> and pickle it as a file immediately. Why do I get a file with a different size?</p>
<p>The code is as follows:</p>
<pre><code>import cPickle as pk


def unpickle_data(filename, mode='rb'):
    with open(filename, mode) as pkfile:
        data = pk.load(pkfile)
    return data


def pickle_data(data, filename, mode='wb'):
    with open(filename, mode) as pkfile:
         pk.dump(data, pkfile)


def main():
     dict = unpickle_data('data_batch_1')
     keys = dict.viewkeys()
     print keys
     print len(dict['data'])
     pickle_data(dict, 'mydata')


if __name__ == '__main__':
     main()
</code></pre>
<p>The file I got is almost twice size of the original file.
<a href="https://i.stack.imgur.com/z8gsa.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/z8gsa.png"/></a>
<a href="https://i.stack.imgur.com/q04Gl.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/q04Gl.png"/></a></p>
<p>I've unpickled the new file and compared the data with original file. The data values and data types are all the same. So what's the reason?</p>
<p>Also, I've find that the unpickle and pickle operation are generating a different size only on <code>cifar10</code> dataset.</p>
</div>
<div class="post-text" itemprop="text">
<p>Pickle supports multiple protocols.  From <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow">the documentation</a>:</p>
<blockquote>
<p>There are currently 5 different protocols which can be used for
  pickling. The higher the protocol used, the more recent the version of
  Python needed to read the pickle produced.</p>
<ul>
<li>Protocol version 0 is the original “human-readable” protocol and is backwards compatible with earlier versions of Python.</li>
<li>Protocol version 1 is an old binary format which is also compatible with earlier versions of Python.</li>
<li>Protocol version 2 was introduced in Python 2.3. It provides much more efficient pickling of new-style classes. Refer to PEP 307 for
  information about improvements brought by protocol 2.</li>
<li>Protocol version 3 was added in Python 3.0. It has explicit support for bytes objects and cannot be unpickled by Python 2.x. This
  is the default protocol, and the recommended protocol when
  compatibility with other Python 3 versions is required.</li>
<li>Protocol version 4 was added in Python 3.4. It adds support for very large objects, pickling more kinds of objects, and some data
  format optimizations. Refer to PEP 3154 for information about
  improvements brought by protocol 4.</li>
</ul>
</blockquote>
<p>I suspect your original document was pickled with something other than
version 0, while when you saved it you used the default.</p>
</div>
