<div class="post-text" itemprop="text">
<p>I am trying to create a program which prints the mean of certain values in a file. When I run my code using the file 'cropdata.txt', which contains this:</p>
<pre><code>Lettuce 1 2 3 
Tomato 6 5 1 
</code></pre>
<p>I get the following error:</p>
<pre><code>    line_mean = (sum(line_parts[1:])/len(line_parts))
TypeError: unsupported operand type(s) for +: 'int' and 'str' 
</code></pre>
<p>I am not really sure why this is as I thought that I had converted the selected elements to integers.</p>
<p>My code:</p>
<pre><code>file = ('cropdata.txt')
with open(file, 'r') as file_numsort_1:
    for line in file_numsort_1:
        line = (line.rstrip(" \n"))
        line_parts = line.split(' ')
        for num in line_parts[1:]:
            num=int(num)
        line_mean = (sum(line_parts[1:])/len(line_parts))
        print(line_mean) 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Upon converting like this <code>num=int(num)</code>, you didn't save the conversion back in the list.<br/>
Try converting like so:</p>
<pre><code>line_parts = [int(x) for x in line_parts[1:]]
</code></pre>
<p>and then sum like so:</p>
<pre><code>line_mean = (sum(line_parts)/len(line_parts))
</code></pre>
<p>Alternatively you may use the <a href="https://docs.python.org/3/library/statistics.html#statistics.mean" rel="nofollow">statistics</a> module instead of summing yourself.</p>
<hr/>
<p>An optimized version:</p>
<pre><code>import statistics

file = ('cropdata.txt')
with open(file, 'r') as file_numsort_1:
    for line in file_numsort_1:
        # Strip, split, and convert to int
        line_ints = map(int, line.rstrip().split()[1:])

        # Print the mean
        print(statistics.mean(line_ints)) 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your code</p>
<pre><code>for num in line_parts[1:]:
    num=int(num)
</code></pre>
<p>isn't really doing anything, as the variable <code>num</code> gets overwritten each iteration of the loop.  Therefore, none of the data is converted from <code>str</code> to <code>int</code> type which is the cause of your error.  What you want to do is create a list of numbers as such:</p>
<pre><code>file = ('cropdata.txt')
with open(file, 'r') as file_numsort_1:
    for line in file_numsort_1:
        line = (line.rstrip(" \n"))
        line_parts = line.split(' ')

        num_list = []
        for num in line_parts[1:]:
            num_list.append(int(num))

        line_mean = sum(num_list)/float(len(num_list))
</code></pre>
<p>A few other things to note:</p>
<ul>
<li>Using <code>line.split(' ')</code> is a little superfluous as <code>line.split()</code> will automatically split whitespace delimiters.  It also counts consecutive spaces as one delimeter</li>
<li>No argument is needed in <code>line = line.rstrip()</code> and you certainly don't need the enclosing parenthesis</li>
<li>I've added a <code>float()</code> function to your <code>line_mean</code> calculation.  In Python 2, operations on two integers stay as an integer (so 5/3 = 1, not 1.66).  <s>I believe Python 3 has similar behavior but this extra function doesn't hurt if not</s> (Thanks for the clarification Bharel), this float function is not needed in Python 3</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>Your problem is not with <code>sum</code> but the list of 'numbers', this should solve your problem:</p>
<pre><code>line_parts = line.split(' ')
list_of_nums = [int(item) for item in line_parts[1:]]
line_mean = (sum(list_of_nums)/len(C))
print(line_mean) 
</code></pre>
</div>
<span class="comment-copy"><code>sum(map(int, line_parts[1:]))</code>, and you'd want to divide by <code>len(line_parts) - 1</code>. <code>num = int(num)</code> only rebinds <code>num</code>, not the value still in the list.</span>
<span class="comment-copy">This would drop <code>line_parts[0]</code> altogether.</span>
<span class="comment-copy">Python 3 does not have a similar behavior.</span>
