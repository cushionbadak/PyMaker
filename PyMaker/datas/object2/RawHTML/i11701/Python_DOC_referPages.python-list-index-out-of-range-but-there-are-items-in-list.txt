<div class="post-text" itemprop="text">
<p>I'm trying to add 18 list items to a 3 text file, 6 items for each them. <code>paths[0]</code> and <code>paths[1]</code> text files are correct but third one <code>paths[2]</code> only gets 3 items.</p>
<pre><code>mainStudents = ["1 Name Surname D1", "2 Name Surname D2" ...16x]
def randomize(path):
    count = 0
    currentpathIs = getprojdir + "\\" + "\shuffled" + path
    print(currentpathIs)
    with open(currentpathIs, "a+") as file:
        while True:
            try:
                file.write(mainStudents[count] + "\n")
                del(mainStudents[count])
                print(count)
                count += 1
            except Exception as e:

                print(mainStudents)
                break
            if count == 6:
                break

randomize(paths[0])  
randomize(paths[1])
randomize(paths[2])
</code></pre>
<p>I'm getting this error:</p>
<blockquote>
<p>Traceback (most recent call last):</p>
<p>File "C:\Users\user\Desktop\New folder\python.py", line 53, in  randomize(paths[2]) </p>
<p>File "C:\Users\user\Desktop\New folder\python.py", line 43, in randomize
      file.write(mainStudents[count] + "\n")</p>
<p>IndexError: list index out of range</p>
</blockquote>
<p>But there's 3 items left in <code>mainStudents</code> list?</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem you have is that when you delete the item from your list, you are then decreasing its size. Therefore, your count is going to increment and then try to access an index that no longer exists. Take a very simple example of just having a list of size two: </p>
<pre><code>mainStudents = ["1 Name Surname D1", "2 Name Surname D2"]
</code></pre>
<p>Now, when you call your method, what is going to happen, the first iteration will work, because you will access <code>mainStudents[0]</code>. </p>
<p>But, on your second iteration, you have deleted that item from the list, so now your list looks like: </p>
<pre><code>['2 Name Surname D2']
</code></pre>
<p>Which is now a list of size one, and the index access for it would be <code>0</code>.</p>
<p>So, the next iteration of your while loop will have <code>count</code> at <code>1</code>. Therefore, that is exactly where your <code>IndexError</code> is coming from. </p>
<p>The combination of deciding to use a <code>while</code> loop and <code>del</code> items from your list is what is causing issues. Instead, choose what it is exactly you want to iterate over, which from your logic seems like it is <code>mainStudents</code>. So why not just do that instead? </p>
<pre><code>def randomize(path):
    currentpathIs = getprojdir + "\\" + "\shuffled" + path
    print(currentpathIs)
    with open(currentpathIs, "a+") as file:
        for student in mainStudents:
            file.write(student + "\n")
</code></pre>
<p>And you can further simplify that by simply taking your list and converting it to a string separated by <code>\n</code> by using the available string method, <code>join</code>: </p>
<pre><code>'\n'.join(mainStudents)
</code></pre>
<p>Furthermore, there are available methods to facilitate path creation. Take a look at the <a href="https://docs.python.org/3/library/os.html" rel="nofollow">os</a> module. More specifically <code>os.path.join</code>. So, your code can be further simplified to: </p>
<pre><code>from os.path import join

def randomize(path):
    currentpathIs = join(getprojdir, shuffled, path)
    with open(currentpathIs, "a+") as file:
        file.write('\n'.join(mainStudents))
</code></pre>
</div>
<span class="comment-copy">Where do you initialize <code>mainStudents</code>?</span>
<span class="comment-copy"><code>mainStudents</code> is a global?</span>
<span class="comment-copy">What is <code>mainStudents</code>'s value?</span>
<span class="comment-copy"><code>mainStudents</code> is a global and it's like: <code>mainStudents = ["1 name surname D4" ,  ... 17more]</code></span>
<span class="comment-copy">@suayipuzulmez Please update your question and add the part of the code that initializes and populates <code>mainStudents</code></span>
