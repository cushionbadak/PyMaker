<div class="post-text" itemprop="text">
<p>I want to use lru_cache in my code, however, I get this error:</p>
<pre><code>NameError: name 'lru_cache' is not defined
</code></pre>
<p>I do have an import functools in my code but that does not help</p>
<p>Example code is here:</p>
<pre><code>https://docs.python.org/3/library/functools.html

@lru_cache(maxsize=None)
def fib(n):
    if n &lt; 2:
        return n
    return fib(n-1) + fib(n-2)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you really just wrote <code>import functools</code>, then that's not enough. You need to either import the <code>lru_cache</code> symbol with <code>from functools import lru_cache</code>, or you need to qualify the name when you attempt to use it, like <code>@functools.lru_cache</code>.</p>
<p>There's nothing special about the functools module in this respect. <em>All</em> modules work this way. You've probably noticed when you've imported other modules and used other functions.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to import <code>lru_cache</code> before using it:</p>
<pre><code>from functools import lru_cache

@lru_cache(maxsize=None)
def fib(n):
    if n &lt; 2:
        return n
    return fib(n-1) + fib(n-2)
</code></pre>
<p>Or alternatively refer to it with full name when importing <code>functools</code>:</p>
<pre><code>import functools

@functools.lru_cache(maxsize=None)
def fib(n):
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The import line is not included in the question, but it should be:</p>
<pre><code>from functools import lru_cache
</code></pre>
<p>Alternatively, the function decorator could be changed to:</p>
<pre><code>@functools.lru_cache(maxsize=None)
</code></pre>
</div>
