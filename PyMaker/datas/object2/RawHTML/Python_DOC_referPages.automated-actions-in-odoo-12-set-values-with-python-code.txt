<div class="post-text" itemprop="text">
<p>I tried to take text from one field and set it modificated to another throught Execute Python Code. </p>
<pre><code>recs = record.smt
for rec in recs:
    details = pythonwhois.get_whois(rec)
    if 'No match for' in str(details):
        record.smt2='ok'
    else:
        record.smt2='denied'
</code></pre>
<p>Error: forbidden opcode</p>
<p>Please, help!</p>
</div>
<div class="post-text" itemprop="text">
<p>For the line:</p>
<pre><code>details = pythonwhois.get_whois(rec)
</code></pre>
<p>You are using a external library <code>pythonwhois</code> which is not imported, how do you suppose to use that in your execution. As <code>import</code> statement is also not allowed, you can't just import any library.</p>
<p>instead of using dot operator, try to use <code>write</code> function.</p>
<pre><code>    if 'No match for' in str(details):
        smt2='ok'
    else:
        smt2='denied'
record.write({'smt2': smt})
</code></pre>
<p>Also keep in mind that <code>record</code> is the record on which the action is triggered; may be void</p>
</div>
<span class="comment-copy">Thanks!! But how can i get whois information?</span>
<span class="comment-copy">do you have access to add custom module?</span>
<span class="comment-copy">you have to write functions in custom modules model definition, for that you need permission/access to add new modules.</span>
<span class="comment-copy">thanks! where can i read more about actions? docs or book. i can't found information</span>
<span class="comment-copy">You have to have knowledge of odoo Model, View and ORM concepts, you can follow documentation <a href="https://www.odoo.com/documentation/11.0/howtos/backend.html#build-an-odoo-module" rel="nofollow noreferrer">odoo.com/documentation/11.0/howtos/â€¦</a>.</span>
