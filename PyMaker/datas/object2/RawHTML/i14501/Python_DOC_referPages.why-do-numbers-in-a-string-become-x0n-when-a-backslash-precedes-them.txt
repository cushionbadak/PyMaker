<div class="post-text" itemprop="text">
<p>I was doing a few experiments with escape backslashes in the Python 3.4 shell and noticed something quite strange.</p>
<pre><code>&gt;&gt;&gt; string = "\test\test\1\2\3"
&gt;&gt;&gt; string
'\test\test\x01\x02\x03'
&gt;&gt;&gt; string = "5"
&gt;&gt;&gt; string
'5'
&gt;&gt;&gt; string = "5\6\7"
&gt;&gt;&gt; string
'5\x06\x07'
</code></pre>
<p>As you can see in the above code, I defined a variable string as <code>"\test\test\1\2\3"</code>. However, when I entered <code>string</code> in the console, instead of printing <code>"\test\test\1\2\3"</code>, it printed <code>"\test\test\x01\x02\x03"</code>. Why does this occur, and what is it used for?</p>
</div>
<div class="post-text" itemprop="text">
<p>In Python string literals, the <code>\</code> character starts escape sequences. <code>\n</code> translates to a newline character, <code>\t</code> to a tab, etc. <code>\xhh</code> hex sequences let you produce codepoints with hex values instead, <code>\uhhhh</code> produce codepoints with 4-digit hex values, and <code>\Uhhhhhhhh</code> produce codepoints with 8-digit hex values.</p>
<p>See the <a href="https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals" rel="nofollow"><em>String and Bytes Literals</em> documentation</a>, which contains a table of all the possible escape sequences.</p>
<p>When Python echoes a string object in the interpreter (or you use the <a href="https://docs.python.org/3/library/functions.html#repr" rel="nofollow"><code>repr()</code> function</a> on a string object), then Python creates a <em>representation</em> of the string value. That representation happens to use the exact same Python string literal syntax, to make it easier to debug your values, as you can use the representation to <em>recreate</em> the exact same value.</p>
<p>To keep non-printable characters from either causing havoc or not be shown at all, Python uses the same escape sequence syntax to represent those characters. Thus bytes that are not printable are represented using suitable <code>\xhh</code> sequences, or if possible, one of the <code>\c</code> single letter escapes (so newlines are shown as <code>\n</code>).</p>
<p>In your example, you created non-printable bytes using the <code>\ooo</code> <em>octal value</em> escape sequence syntax. The digits are interpreted as an octal number to create a corrensponding codepoint. When echoing that string value back, the default <code>\xhh</code> syntax is used to represent the exact same value in hexadecimal:</p>
<pre><code>&gt;&gt;&gt; '\20' # Octal for 16
'\x10'
</code></pre>
<p>while your <code>\t</code> became a <em>tab</em> character:</p>
<pre><code>&gt;&gt;&gt; print('\test')
    est
</code></pre>
<p>Note how there is no letter <code>t</code> there; instead, the remaining <code>est</code> is indented by whitespace, a horizontal tab.</p>
<p>If you need to include <em>literal</em> <code>\</code> backslash characters you need to <em>double</em> the character:</p>
<pre><code>&gt;&gt;&gt; '\\test\\1\\2\\3'
'\\test\\1\\2\\3'
&gt;&gt;&gt; print('\\test\\1\\2\\3')
\test\1\2\3
&gt;&gt;&gt; len('\\test\\1\\2\\3')
11
</code></pre>
<p>Note that the representation <em>used doubled backslashes</em>! If it didn't, you'd not be able to copy the string and paste it back into Python to recreate the value. Using <code>print()</code> to write the value to the terminal as actual characters (and not as a string representation) shows that there are single backslashes there, and taking the length shows we have just 11 characters in the string, not 15.</p>
<p>You can also use a <em>raw</em> string literal. That's just a different syntax, the string objects that are created from the syntax are the exact same type, with the same value. It is just a different way of spelling out string values. In a raw string literal, backslashes are just backslashes, as long as they are not the last character in the string; most escape sequences do not work in a raw string literal:</p>
<pre><code>&gt;&gt;&gt; r'\test\1\2\3'
'\\test\\1\\2\\3'
</code></pre>
<p>Last but not least, if you are creating strings that represent filenames on your Windows system, you could also use <em>forward</em> slashes; most APIs in Window don't mind and accept both types of slash as separators in the filename:</p>
<pre><code>&gt;&gt;&gt; 'C:/This/is/a/valid/path'
'C:/This/is/a/valid/path'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When you write</p>
<pre><code>string = "\test\test\1\2\3"
</code></pre>
<p>Python thinks that you want to define a string of characters that starts with the tab character ("\t") then the character "e", then "s", and so on. Python also thinks that you want to include some non-printable characters corresponding to the literal numbers 1, 2, and 3, which the shorthand "\1", "\2" and "\3" provides.</p>
</div>
<span class="comment-copy">Because <code>\</code> is an <i>escape character</i>.</span>
<span class="comment-copy">And also, if you print() that you'll see that "\t" is actually a tab...</span>
<span class="comment-copy">Did you take a look at the language reference? That should be the first place you look when you find something in the core language that doesn't work as you expect. <a href="https://docs.python.org/2.0/ref/strings.html" rel="nofollow noreferrer">docs.python.org/2.0/ref/strings.html</a></span>
<span class="comment-copy">Or use the <code>r</code> prefix to disable escapes (almost) entirely. (A trailing backslash will still prevent the closing quote).</span>
<span class="comment-copy">@o11c which is already mentioned in this answer:-)</span>
<span class="comment-copy">Ah, at the end. The "If you need to include literal \ backslash characters you need to double the character" part is misleading.</span>
<span class="comment-copy">That's still true for regular string literals. And the paragraph with raw string literals starts with <i>You can also</i>.</span>
