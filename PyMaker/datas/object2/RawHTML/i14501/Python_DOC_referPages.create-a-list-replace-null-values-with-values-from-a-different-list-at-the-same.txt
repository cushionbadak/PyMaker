<div class="post-text" itemprop="text">
<p>I query an api:</p>
<pre><code>url = 'https://api.forecast.io/forecast/'+api_key+'/'+lat+','+lng
f = urllib2.urlopen(url)
json_string = f.read()
parsed_json = json.loads(json_string)
c = parsed_json['currently']
</code></pre>
<p>Some keys are defined, and others are not:</p>
<pre><code>if 'temperature' in c: 
</code></pre>
<p>I want to build an object of a few specific values:</p>
<pre><code>vector = [c['temperature'], ... c['wind_speed']
</code></pre>
<p>In total, there should be 11 items. If a key is undefined, I want to replace the value in that position from another list with same indeces.</p>
<pre><code>averages = [average_temp, ... average_wind]
</code></pre>
<p>Something like this:</p>
<pre><code># for each of the keys I want:
   # if it is defined:
      # add this value to the list
   # else:
      # add the value at the same index in the averages vector
</code></pre>
<p>I imagine you might index through both vectors at the same time. Of course, the first vector has not been defined yet. Somehow the values need to be indexed first. What is the pythonic way of doing this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Whenever your problem includes "… from a different list at the same index", this is a case for <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow"><code>zip</code></a>. <code>zip</code> takes a pair of lists, and turns it into a list of pairs.</p>
<p>Then, you need an expression that's the left thing unless it's null, in which case the right thing.</p>
<p>And then you use a comprehension to map that over the whole zip.</p>
<p>So:</p>
<pre><code>[a if a != null else b for a, b in zip(A, B)]
</code></pre>
<p>(I don't know what your "null" means or how you check it, but just replace the <code>a != null</code> with <code>a is not None</code> or <code>not a.is_null()</code> or whatever's appropriate.)</p>
</div>
<span class="comment-copy">Are you aware of <code>dict.get()</code>?  <a href="http://stackoverflow.com/questions/9358983/python-dictionary-and-default-values" title="python dictionary and default values">stackoverflow.com/questions/9358983/…</a></span>
<span class="comment-copy">If you are willing to have the defaults be defined in a dict() instead of in a list, see  this answer: <a href="http://stackoverflow.com/a/17501381/103081">stackoverflow.com/a/17501381/103081</a></span>
