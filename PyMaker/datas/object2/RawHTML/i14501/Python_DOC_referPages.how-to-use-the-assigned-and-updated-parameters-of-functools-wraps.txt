<div class="post-text" itemprop="text">
<p>I know wraps has attributes as below: </p>
<p><a href="https://docs.python.org/3/library/functools.html?highlight=wraps#functools.wraps" rel="noreferrer">functools.wraps(wrapped[, assigned][, updated])</a></p>
<p>But I want know how to use the <code>assigned</code> and <code>updated</code> params, does anyone have an example?</p>
</div>
<div class="post-text" itemprop="text">
<p>The "assigned" parameter tells which attributes on the wrapper function will be assigned to the attributes of the same name on the wrapped (decorated) function. By default they are <code>'__module__', '__name__', '__doc__'</code>, which are defined as default in the variable functools.WRAPPER_ASSIGNMENTS . As @abarnet put it in the comments, one example of another attribute one might want to copy over would be function annotations in Python 3.x- so you might want the assigned parameter to be: <code>('__module__', '__name__', '__doc__', '__anotations__')</code> .</p>
<p>The "updated" parameter is more or less the same, but the corresponding attributes in the wrapper will have it's "updated" method called with that attribute from the decorated function - which means that it only works when both attributes are a mutable mapping - for example, a dictionary. By default that will update the <code>__dict__</code> attribute of the wrapper with the <code>__dict__</code> of the wrapped, making the wrapper function reflect all extraneous attributes it might have been assigned by different underlying decorators (decorators applied before the decorator with the call to "wraps" get applied). The only possible use cases for changing "updated" would be to change it to an empty sequence, to prevent <code>__dict__</code> from being updated. Otherwise, if you wanted to update more attributes, that  would mean you would be working on a project that would use different dictionary attributes on callable objects, and you certainly would have more problems at that point than not knowing how to use "wraps" properly.</p>
<p>TL;DR: you <em>might</em> find of some use for something along:</p>
<pre><code>@wraps(func, ('__module__', '__name__', '__doc__', '__anotations__'), ())
def wrapper(*args, **kw):
    ...
</code></pre>
<p>But not necessarily.</p>
<p>As a final, anecdotal note, if the decorated object is an instance of a class with a <code>__call__</code> method, instead of a function, the <code>__dict__</code> update will make the wrapper function have a copy of all instance attributes of the decorated instance - that is more a side effect than a useful thing, as these copied attributes won't follow further changes of state in the decorated instance (and methods on the decorated instance will still receive "self" as the unwrapped instance):</p>
<pre><code>&gt;&gt;&gt; from functools import wraps
&gt;&gt;&gt; class MyCallable(object):
...   def pr(self):  
...     print(self.a)
...   def __call__(self, new_a):
...     self.a =  new_a


&gt;&gt;&gt; def deco(clb):
...    @wraps(clb)
...    def wrapper(*args):
...       return clb(*args)
...    return wrapper
... 
&gt;&gt;&gt; m = MyCallable()
&gt;&gt;&gt; m(1)
&gt;&gt;&gt; m.a
1
&gt;&gt;&gt; m.pr()
1
&gt;&gt;&gt; m = deco(m)
&gt;&gt;&gt; m(2)
&gt;&gt;&gt; m.a
1
&gt;&gt;&gt; m.__wrapped__.pr()
2
</code></pre>
<p>So, this might be an example of you not wanting to copy <code>__dict__</code>over to the wrapper, and always access the orignal instance through the <code>__wrapped__</code> attribute, as above. But, I actually digress, as I had never seen anyone wrapping instances of classes with decorators, and can't think of a usecase for such that would not be better resolved by a class method doing what the decorator should do in the first place.</p>
</div>
<span class="comment-copy">If you want to copy annotations in Python 3.1, or if you want to wrap a class or other kind of callable instead of a function, you'll obviously want to pass different lists of <code>assigned</code> attributes. The <code>update_wrapper</code> docs, directly above <code>wraps</code>, tell you what the defaults are; if you understand what assigning <code>__doc__</code> or <code>__module__</code> does it should be obvious when you'd want to copy different values.</span>
<span class="comment-copy">possible duplicate of <a href="http://stackoverflow.com/questions/308999/what-does-functools-wraps-do">What does functools.wraps do?</a></span>
<span class="comment-copy">@JohnMee I know</span>
<span class="comment-copy">I had known but that isn't I need.</span>
