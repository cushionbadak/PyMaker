<div class="post-text" itemprop="text">
<p>I am using python3 and, using my email credentials, this function prints a block of text that appears to be divided into formal sections. Here is my code for reading emails:</p>
<pre><code>import pprint
import imapclient

# Email = Your email
# Password = Your password
# folder = just type '[Gmail]/All Mail'.
# readonly = Tell wether emails are marked as read or not when you read them here.
# search = Search term for gmail. Can be empty by typing ''.
def ReadEmail(Email, Password, folder, readonly, search):
    imapObj = imapclient.IMAPClient('imap.gmail.com', ssl=True)
    imapObj.login(' ' + Email + ' ', ' ' + Password + ' ')
    pprint.pprint(imapObj.list_folders())
    imapObj.select_folder(str(folder), readonly=readonly)
    UIDs = imapObj.gmail_search(str(search))
    rawMessages = imapObj.fetch(UIDs, ['BODY[]'])
    pprint.pprint(rawMessages)
</code></pre>
<p>This email can be accessed through less secure apps by the way, by google's settings. Anyway, when you run this with your credentials, you get this big block of text. The side notes tell you what is what, and the quotes were there in my script to remind me where things are:</p>
<pre><code>                #    {1: {b'BODY[]': b'Bcc: thedestoryer11@gmail.com\r\nReturn-Path: '      &lt;&lt;&lt; Receiver's email
                #               b'&lt;noreply.smtp.supermechm500@gmail.com&gt;\r\nRece'           &lt;&lt;&lt; Sender of an email
                #               b'ived: from [127.0.0.1] (ec2-23-21-200-247.comput'
                #               b'e-1.amazonaws.com. [23.21.200.247])\r\n       '
                #               b' by smtp.gmail.com with ESMTPSA id 24-v6sm169089'         &lt;&lt;&lt; Sent using...
                #               b'38qts.19.2018.11.14.16.31.38\r\n        for &lt;t'
                #               b'hedestoryer11@gmail.com&gt;\r\n        (version=T'           &lt;&lt;&lt; Reciever of the email
                #               b'LS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=12'
                #               b'8/128);\r\n        Wed, 14 Nov 2018 16:31:38 -'
                #               b'0800 (PST)\r\nMessage-ID: &lt;5becbe6a.1c69fb81.4'
                #               b'af4f.c041@mx.google.com&gt;\r\nDate: Wed, 14 Nov '           &lt;&lt;&lt; Date Received
                #               b'2018 16:31:38 -0800 (PST)\r\nFrom: noreply.smt'
                #               b'p.supermechm500@gmail.com\r\n\r\nTesting from SM'         &lt;&lt;&lt; Message (Will not contain buttons or images. Check your email application for these media
                #               b'TP +-+\r\n',
</code></pre>
<p>I can see the \n, \r and b'' in there but it doesn't function. It's just printed out completely. How do I print this formally?</p>
</div>
<div class="post-text" itemprop="text">
<p>The imapclient <a href="https://imapclient.readthedocs.io/en/2.1.0/concepts.html#working-with-fetched-messages" rel="nofollow noreferrer">docs</a> demonstrate how to create email message objects using Python's <a href="https://docs.python.org/3/library/email.html" rel="nofollow noreferrer">email</a> package:</p>
<pre><code>import email

for uid, message_data in server.fetch(messages, 'RFC822').items():
    email_message = email.message_from_bytes(message_data[b'RFC822'])
    print(uid, email_message.get('From'), email_message.get('Subject'))
</code></pre>
<p>If you want to print a complete message you could do</p>
<pre><code>print(email_message)
</code></pre>
<p>The <a href="https://docs.python.org/3/library/email.message.html#email.message.EmailMessage" rel="nofollow noreferrer">email.message.EmailMessage</a> class provides various methods for accessing different parts of a message such as headers, body, mime parts.</p>
</div>
