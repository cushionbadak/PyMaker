<div class="post-text" itemprop="text">
<p>I need to shift elements in a list if there are empty spaces starting from a certain index, the elements to the right of the shifted elements must NOT move from their index, a demonstration:</p>
<pre><code># desired output
["not end","x","y","","","","don't move"]


# works here
l = ["not end","","","","x","y","don't move"]
start = 1
aext_len = 3
end = start + aext_len + 1

for empty, cell in enumerate(l[start:end - 1], 1):
    if cell:
        break

for z in range(aext_len + 2 - empty):
    l.insert(start + z, l.pop(start + empty + z))
print (l)
#['not end', 'x', 'y', '', '', '', "don't move"]


# not here
l = ["not end","","x","y","","","don't move"]
start = 1
aext_len = 3
end = start + aext_len + 1

for empty, cell in enumerate(l[start:end - 1], 1):
    if cell:
        break

for z in range(aext_len + 2 - empty):
    l.insert(start + z, l.pop(start + empty + z))
print (l)
#['not end', 'y', '', '', '', 'x', "don't move"]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The solution is actually much simpler. </p>
<pre><code>l = ["not end", "", "", "", "x", "y", "don't move"]
</code></pre>
<p>Define the end of the "do not move" zone:</p>
<pre><code>MOVE = 6
</code></pre>
<p>"Squeeze out" the empty strings:</p>
<pre><code>part1 = [x for x in l[:MOVE] if x]
</code></pre>
<p>Move the "squeezed out" empty strings to the end:</p>
<pre><code>part2 = (MOVE - len(part1)) * [""]
</code></pre>
<p>Combine the pieces:</p>
<pre><code>part1 + part2 + l[MOVE:]
#['not end', 'x', 'y', '', '', '', "don't move"]
</code></pre>
<p><strong>Alternatively</strong>, you can sort the first part of the list by the property of being an empty string:</p>
<pre><code>sorted(l[:MOVE], key=lambda x: x=="") + l[MOVE:]
#['not end', 'x', 'y', '', '', '', "don't move"]
</code></pre>
</div>
<span class="comment-copy">If it's not too much trouble, would the code for shifting the elements to the right based on empty cells on the right hand side be much different? :P you don't have to answer that one</span>
<span class="comment-copy">@citizen2077 Just change the order of part1 and part2.</span>
