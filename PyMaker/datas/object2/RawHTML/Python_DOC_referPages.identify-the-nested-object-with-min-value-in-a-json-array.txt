<div class="post-text" itemprop="text">
<p>I have a JSON file with the following structure.</p>
<p>I want to identify the channel with the minimum fee and to print its details (channel_id, node1, node2 and the total fee) </p>
<p>The total fee of a channel is the sum of fees of both nodes:
    total_fee = fee_node1 + fee_node2</p>
<pre><code>{
"edges": [
    {
        "channel_id": "1",
        "node1": "Alice",
        "node2": "Bob",
        "node1_policy": {
            "fee": "1000"
        },
        "node2_policy": {
            "fee": "1000"
        }
    },
    {
        "channel_id": "2",
        "node1": "Caleb",
        "node2": "Daniel",
        "node1_policy": {
            "fee": "500",
        },
        "node2_policy": {
            "fee": "3000",
        }
    },
    {
        "channel_id": "3",
        "node1": "Elen",
        "node2": "Fatih",
        "node1_policy": {
            "fee": "2000"
        },
        "node2_policy": {
            "fee": "5000"
        }
    }

}
</code></pre>
<p>What is the best method to accomplish this task?</p>
</div>
<div class="post-text" itemprop="text">
<p>It is quite simple to do that in a few lines of code. I should mention though that the format of your JSON file is invalid, because of the redundant commas right after the <code>fee</code> keys. Consider removing them in order to be valid:</p>
<pre><code>import json

with open('channels.json', 'r') as inFile:
    jsonData = json.loads(inFile.read())
    minimum = min([elem for elem in jsonData['edges']], key=lambda e: int(e['node1_policy']['fee']) + int(e['node2_policy']['fee']))
    print(minimum)
</code></pre>
<p>Output:</p>
<pre><code>{'channel_id': '1', 'node1': 'Alice', 'node2': 'Bob', 'node1_policy': {'fee': '1000'}, 'node2_policy': {'fee': '1000'}}
</code></pre>
</div>
