<div class="post-text" itemprop="text">
<p>I want to know how many years, months, days, hours, minutes and seconds in between '2014-05-06 12:00:56' and '2012-03-06 16:08:22'. The result shall looked like: “the difference is xxx year xxx month xxx days xxx hours xxx minutes”</p>
<p>For example:</p>
<pre><code>import datetime

a = '2014-05-06 12:00:56'
b = '2013-03-06 16:08:22'

start = datetime.datetime.strptime(a, '%Y-%m-%d %H:%M:%S')
ends = datetime.datetime.strptime(b, '%Y-%m-%d %H:%M:%S')

diff = start – ends
</code></pre>
<p>if I do:</p>
<pre><code>diff.days
</code></pre>
<p>It gives the difference in days. </p>
<p>What else I can do? And how can I achieve the wanted result?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use a <code>relativedelta</code> from the <a href="https://pypi.python.org/pypi/python-dateutil/">dateutil package</a>. This will take into account leap years and other quirks.</p>
<pre><code>import datetime
from dateutil.relativedelta import relativedelta

a = '2014-05-06 12:00:56'
b = '2013-03-06 16:08:22'

start = datetime.datetime.strptime(a, '%Y-%m-%d %H:%M:%S')
ends = datetime.datetime.strptime(b, '%Y-%m-%d %H:%M:%S')

diff = relativedelta(start, ends)

&gt;&gt;&gt; print "The difference is %d year %d month %d days %d hours %d minutes" % (diff.years, diff.months, diff.days, diff.hours, diff.minutes)
The difference is 1 year 1 month 29 days 19 hours 52 minutes
</code></pre>
<p>You might want to add some logic to print for e.g. "2 years" instead of "2 year".</p>
</div>
<div class="post-text" itemprop="text">
<p>diff is a <code>timedelta</code> instance.</p>
<p>for python2, see:
<a href="https://docs.python.org/2/library/datetime.html#timedelta-objects" rel="nofollow">https://docs.python.org/2/library/datetime.html#timedelta-objects</a></p>
<p>for python 3, see:
<a href="https://docs.python.org/3/library/datetime.html#timedelta-objects" rel="nofollow">https://docs.python.org/3/library/datetime.html#timedelta-objects</a></p>
<p>from docs:</p>
<p>timdelta instance attributes (read-only):</p>
<ul>
<li>days</li>
<li>seconds</li>
<li>microseconds</li>
</ul>
<p>timdelta instance methods:</p>
<ul>
<li>total_seconds()</li>
</ul>
<p>timdelta class attributes are:</p>
<ul>
<li>min</li>
<li>max</li>
<li>resolution</li>
</ul>
<p>You can use the <code>days</code> and <code>seconds</code> instance attributes to calculate what you need.</p>
<p>for example:</p>
<pre><code>import datetime

a = '2014-05-06 12:00:56'
b = '2013-03-06 16:08:22'

start = datetime.datetime.strptime(a, '%Y-%m-%d %H:%M:%S')
ends = datetime.datetime.strptime(b, '%Y-%m-%d %H:%M:%S')

diff = start - ends

hours = int(diff.seconds // (60 * 60))
mins = int((diff.seconds // 60) % 60)
</code></pre>
</div>
<span class="comment-copy">possible duplicate of <a href="http://stackoverflow.com/questions/6749294/understanding-timedelta">Understanding timedelta</a></span>
<span class="comment-copy">waow, mhawke. this is great! you are sexy.</span>
<span class="comment-copy">thanks, Corey Goldberg. your original reply is very useful too.</span>
<span class="comment-copy">The example is not working, it says the difference between the two date is just 19 hours ... obviously, '2014-05-06' and '2013-03-06' is not the case.</span>
