<div class="post-text" itemprop="text">
<p>I have 2 date columns (begin and end) in a data frame where the dates are in the following string format '%Y-%m-%d %H:%M:%S.%f'. How can I change these into date format in python? I also want to create a new column that shows the difference in days between the end and begin dates.</p>
<p>Thanks in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>If you're using a recent version of pandas you can pass a format argument to <code>to_datetime</code>:</p>
<pre><code>In [11]: dates = ["2014-08-27 19:53:06.000", "2014-08-27 19:53:15.002"]

In [12]: pd.to_datetime(dates, format='%Y-%m-%d %H:%M:%S.%f')
Out[12]:
&lt;class 'pandas.tseries.index.DatetimeIndex'&gt;
[2014-08-27 19:53:06, 2014-08-27 19:53:15.002000]
Length: 2, Freq: None, Timezone: None
</code></pre>
<p>Note: it isn't necessary in this case to pass format but it may be faster/tighter:</p>
<pre><code>In [13]: pd.to_datetime(dates,)
Out[13]:
&lt;class 'pandas.tseries.index.DatetimeIndex'&gt;
[2014-08-27 19:53:06, 2014-08-27 19:53:15.002000]
Length: 2, Freq: None, Timezone: None
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <code>datetime</code> module has everything you need to play around with dates. Note that in the format you describe <code>%Y-%m-%d %H:%M:%S.%f</code> the <code>%f</code> does not appear in the <a href="https://docs.python.org/3/library/time.html#time.strftime" rel="nofollow">known directives</a> and is not included in my answer</p>
<pre><code>from datetime import datetime
dates = ["2014-08-27 19:53:06", "2014-08-27 19:53:15"]
# That's where the conversion happens from string to datetime objects
datetimes = [datetime.strptime(date, "%Y-%m-%d %H:%M:%S") for date in dates]
print datetimes
&gt;&gt; [datetime.datetime(2014, 8, 27, 19, 53, 6), datetime.datetime(2014, 8, 27, 19, 53, 15)
# Here a simple subtraction will give you the result you are looking for return a timedelta object
delta = datetimes[1] - datetimes[0]
print type(delta), delta
&gt;&gt; &lt;type 'datetime.timedelta'&gt;, 0:00:09
</code></pre>
</div>
<span class="comment-copy">Have take a look at <a href="https://docs.python.org/3/library/time.html#time.strptime" rel="nofollow noreferrer">time.strptime</a> for the first part ? And then you can subtract one to the other and you'll end up with a <a href="https://docs.python.org/2/library/datetime.html#datetime.timedelta" rel="nofollow noreferrer">timedelta</a> object</span>
<span class="comment-copy">Thanks! it worked perfectly :)</span>
<span class="comment-copy">See the table here: <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="nofollow noreferrer">docs.python.org/3/library/â€¦</a>, <code>%f</code> <i>is</i> included.</span>
<span class="comment-copy">Thanks @joris I have to start using python 3 !</span>
<span class="comment-copy">Your link was also python 3 :-), but the difference was that you linked to the <code>time</code> module, while here <code>datetime</code> is relevant</span>
<span class="comment-copy">Ok in that I have to actually take care about what I post/read ...</span>
