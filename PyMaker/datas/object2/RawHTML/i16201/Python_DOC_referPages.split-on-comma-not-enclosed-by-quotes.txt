<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/8069975/split-string-on-commas-but-ignore-commas-within-double-quotes">Split string on commas but ignore commas within double-quotes?</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I am trying to split a string using a regular expression (re.split), but it's been a while since I've been using regular expressions.</p>
<p>The string looks like:</p>
<pre><code>string = '"first, element", second element, third element, "fourth, element", fifth element'
</code></pre>
<p>I would like to split the string on each comma unless a substring is enclose by quotes. </p>
<p>The output should look like this:</p>
<pre><code>output = ['"first, element"', 'second element', 'third element', '"fourth, element"', 'fifth element']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could try the below code,</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; string = '"first, element", second element, third element, "fourth, element", fifth element'
&gt;&gt;&gt; m = re.split(r', (?=(?:"[^"]*?(?: [^"]*)*))|, (?=[^",]+(?:,|$))', string)
&gt;&gt;&gt; m
['"first, element"', 'second element', 'third element, "fourth, element"', 'fifth element']
</code></pre>
<p><sub>Regex stolen from <a href="https://stackoverflow.com/a/25471762/3297613">here</a> :-)</sub> </p>
</div>
<div class="post-text" itemprop="text">
<p>You want to use the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow">csv</a> module instead of reinventing it.</p>
</div>
<span class="comment-copy">Any attempts so far? Also, <a href="http://stackoverflow.com/q/21261314/1578604">related</a>. IMO, it's easier to use match though.</span>
<span class="comment-copy">Regex is the wrong way to approach this problem. Quoted strings can have escape characters, you should use <code>shlex.split</code> instead.</span>
<span class="comment-copy">Or parse it as csv using the csv module - because that's what it really is.</span>
<span class="comment-copy">See also <a href="http://stackoverflow.com/q/7682561">How do I split a line by commas but ignore commas within quotes?</a>, <a href="http://stackoverflow.com/q/4982531">How do I split a comma delimited string in python except for the commas that are within quotes?</a>, <a href="http://stackoverflow.com/q/2785755">How to split but ignore separators in quoted strings?</a>, <a href="https://www.google.com/search?ie=utf8&amp;oe=utf8&amp;q=python+split+commas+except+inside+quotes&amp;nfpr=1&amp;gws_rd=ssl" rel="nofollow noreferrer">and more</a>.</span>
<span class="comment-copy">I have marked this as the solution as it is technically the answer to my question although I agree that the csv module is the way to go here</span>
<span class="comment-copy">I was trying to create an example using <code>csv.reader</code>, but no luck so far. It looks like it can't cope with some items being wrapped in quotes, and some not.</span>
<span class="comment-copy">thanks @Bjorn, I was able to parse the line using the csv module</span>
<span class="comment-copy">@Bjorn - perhaps something else is going wrong, because the <code>csv</code> module most certainly can parse lines where some fields have the delimiter contained within quotes, whereas other lines have no quotes whatsoever.</span>
