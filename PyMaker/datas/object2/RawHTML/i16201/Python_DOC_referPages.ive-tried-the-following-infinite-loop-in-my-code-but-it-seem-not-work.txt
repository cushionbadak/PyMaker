<div class="post-text" itemprop="text">
<p>I've tried the following infinite loop in my code, but it seem not work, please help, thanks !</p>
<p>Code:</p>
<pre><code>import time
import sys
from qt4 import QtWebKit
from qt4 import QtCore
from qt4 import QtGui
from bs4 import BeautifulSoup

while True: 

header = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; WOW64; rv:31.0) Gecko/20100101 Firefox/31.0'} #Needed to prevent 403 error on Wikipedia

class Render(QtWebKit.QWebPage):
    def __init__(self, url):
        self.app = QtGui.QApplication(sys.argv)
        QtWebKit.QWebPage.__init__(self)
        self.loadFinished.connect(self._loadFinished)
        self.mainFrame().load(QtCore.QUrl(url))
        self.app.exec_()

    def _loadFinished(self, result):
        self.frame = self.mainFrame()
        self.app.quit()

url = 'http://youneednothing.com/'
r = Render(url)
content = unicode(r.frame.toHtml())

soup = BeautifulSoup(content)
print soup
time.sleep(10)
</code></pre>
<p>I've put the following for looping of my code, but it seem not work.</p>
<pre><code> import time

 Wihle True:
 [my code]
 time.sleep(10)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Dont need to execute class every time .</p>
<pre><code>import time
import sys
from qt4 import QtWebKit
from qt4 import QtCore
from qt4 import QtGui
from bs4 import BeautifulSoup



header = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; WOW64; rv:31.0) Gecko/20100101 Firefox/31.0'} #Needed to prevent 403 error on Wikipedia

class Render(QtWebKit.QWebPage):
    def __init__(self, url):
        self.app = QtGui.QApplication(sys.argv)
        QtWebKit.QWebPage.__init__(self)
        self.loadFinished.connect(self._loadFinished)
        self.mainFrame().load(QtCore.QUrl(url))
        self.app.exec_()

    def _loadFinished(self, result):
        self.frame = self.mainFrame()
        self.app.quit()

while True: 
    url = 'http://youneednothing.com/'
    r = Render(url)
    content = unicode(r.frame.toHtml())

    soup = BeautifulSoup(content)
    print soup
    time.sleep(10)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this, this is an infinite loop:</p>
<pre><code>while True:
    print soup
    time.sleep(10)
</code></pre>
<p>In python you have to use tabulations or whitespace to define blocks of code. In this case the <code>print soup</code> and <code>time.sleep(10)</code> make up the block beneath the <code>while True:</code> thereby defining the code that needs to be looped infinitely. </p>
<p>Have a look at Python tutorials regarding the <code>while</code> and other control flow statements, for example <a href="https://docs.python.org/3/tutorial/introduction.html#first-steps-towards-programming" rel="nofollow">3.2 First Steps Towards Programming</a> (second bullet point).</p>
</div>
<div class="post-text" itemprop="text">
<p>Python uses indentation to separate different code blocks. So you need to indent the code after while statement, like you did in the class definition.</p>
<p>So the code should look like this:</p>
<pre><code>while True:
    [your code]
    time.sleep(10)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is a recommendation for your code, as I thought the other answers were sufficient, but this can be handy.
At the top where you import things into your module you have:</p>
<pre><code>from qt4 import QtWebKit
from qt4 import QtCore
from qt4 import QtGui
</code></pre>
<p>this can be refined down to:</p>
<pre><code>from qt4 import QtWebKit, QtCore, QtGui
</code></pre>
<p>when importing it is not 'good' to import more than one thing on one line, except with the <code>from ... import ..., ..., ...</code> technique.
Just a handy tip :)</p>
</div>
<span class="comment-copy">What exactly "doesn't work"?</span>
<span class="comment-copy">IndentationError: expected an indented block</span>
<span class="comment-copy">Well.. it's very clear.</span>
<span class="comment-copy">i've not idea to fix, since i've checked the syntax are ok, and when i take out all looping code, my code is work fine !</span>
<span class="comment-copy">indentation is needed the line after the while True:, also you have spelt while wrong.</span>
<span class="comment-copy">thanks for your sharing !</span>
<span class="comment-copy">I'm happy to help.</span>
