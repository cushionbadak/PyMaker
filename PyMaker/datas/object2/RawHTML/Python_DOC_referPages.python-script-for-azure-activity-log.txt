<div class="post-text" itemprop="text">
<pre><code>from azure.monitor import MonitorClient
#from azure.mgmt.monitor import MonitorMgmtClient
from azure.mgmt.monitor import MonitorManagementClient
from azure.common.credentials import UserPassCredentials
import datetime

# Replace this with your subscription id
subscription_id = '************'

# See above for details on creating different types of AAD credentials
credentials = UserPassCredentials(
'****',  # Your user
'****',      # Your password
)

client = MonitorClient(
  credentials,
  subscription_id
 )

monitor_mgmt_client = MonitorManagementClient(
  credentials,
  subscription_id
)
</code></pre>
<p>after running this code its giving error:
raise error
msrest.exceptions.AuthenticationError: , InvalidClientIdError: (invalid_request) AADSTS900144: The request body must contain the following parameter: 'client_id'</p>
</div>
<div class="post-text" itemprop="text">
<p>It seems you should not use <code>UserPassCredentials</code> anymore, it has been deprecated.</p>
<p>See this <a href="https://docs.microsoft.com/en-us/python/azure/python-sdk-azure-authenticate?view=azure-python#mgmt-auth-legacy" rel="nofollow noreferrer">link</a>:</p>
<blockquote>
<p>In previous version of the SDK, ADAL was not yet available and we provided a <code>UserPassCredentials</code> class. This is considered deprecated and should not be used anymore.</p>
</blockquote>
<p>For Authenticate with token credentials, you could try the code below.</p>
<pre><code>from azure.common.credentials import ServicePrincipalCredentials

# Tenant ID for your Azure Subscription
TENANT_ID = 'ABCDEFGH-1234-1234-1234-ABCDEFGHIJKL'

# Your Service Principal App ID
CLIENT = 'a2ab11af-01aa-4759-8345-7803287dbd39'

# Your Service Principal Password
KEY = 'password'

credentials = ServicePrincipalCredentials(
    client_id = CLIENT,
    secret = KEY,
    tenant = TENANT_ID
)
</code></pre>
<p>If you need more control, it is recommended to use ADAL and the SDK ADAL wrapper.</p>
<pre><code>import adal
from msrestazure.azure_active_directory import AdalAuthentication
from msrestazure.azure_cloud import AZURE_PUBLIC_CLOUD

# Tenant ID for your Azure Subscription
TENANT_ID = 'ABCDEFGH-1234-1234-1234-ABCDEFGHIJKL'

# Your Service Principal App ID
CLIENT = 'a2ab11af-01aa-4759-8345-7803287dbd39'

# Your Service Principal Password
KEY = 'password'

LOGIN_ENDPOINT = AZURE_PUBLIC_CLOUD.endpoints.active_directory
RESOURCE = AZURE_PUBLIC_CLOUD.endpoints.active_directory_resource_id

context = adal.AuthenticationContext(LOGIN_ENDPOINT + '/' + TENANT_ID)
credentials = AdalAuthentication(
    context.acquire_token_with_client_credentials,
    RESOURCE,
    CLIENT,
    KEY
)
</code></pre>
<p>For more details, you could refer to this link : <strong><a href="https://docs.microsoft.com/en-us/python/azure/python-sdk-azure-authenticate?view=azure-python" rel="nofollow noreferrer">Authenticate with the Azure Management Libraries for Python</a></strong></p></div>
<span class="comment-copy">Hi, is my reply helpful?</span>
<span class="comment-copy">Hi, first of all, thanks a lot it was helpful.I think login is good now. But now stuck with the <b>activity log</b> fetch data to a directory. <code>activity_logs = client.activity_logs.list(     filter=filter,     select=select )           for log in activity_logs:     # assert isinstance(log,            azure.monitor.models.EventData)             print log     </code></span>
