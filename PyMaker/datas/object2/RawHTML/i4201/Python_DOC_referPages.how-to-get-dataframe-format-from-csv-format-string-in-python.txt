<div class="post-text" itemprop="text">
<p>Let's say that I have csv format string a='1,2,3\r4,5,6\r7,8,9\r' in python.
How can I get "3 rows x 3 columns" of DataFrame [[1,2,3],[4,5,6],[7,8,9]] from variable a?</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <code>io</code> module to create an <a href="https://docs.python.org/3/library/io.html#io.StringIO" rel="nofollow noreferrer">in-memory text stream</a> from a string. Supposing you have a string that is actually in csv format then:</p>
<pre><code>In [1]: import io

In [2]: import pandas as pd

In [3]: s = '1,2,3\n4,5,6\n7,8,9'

In [4]: print(s)
1,2,3
4,5,6
7,8,9
</code></pre>
<p>Using <code>io.StringIO</code> just like you would a file object:</p>
<pre><code>In [5]: pd.read_csv(io.StringIO(s))
Out[5]:
   1  2  3
0  4  5  6
1  7  8  9

In [6]: pd.read_csv(io.StringIO(s), header=None)
Out[6]:
   0  1  2
0  1  2  3
1  4  5  6
2  7  8  9
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this:</p>
<pre><code>temp = [i.split(',') for i in a.split('/r')]
result = [list(map(int, i)) for i in temp[:-1]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>An alternative can be this:</p>
<p>Input:</p>
<pre><code>a='1,2,3\n4,5,6\n7,8,9'
print a

1,2,3
4,5,6
7,8,9
</code></pre>
<p>Converting to list and then df:</p>
<pre><code>import re
import pandas as pd
my_list = re.split("[,\n]", a)
df = pd.DataFrame(np.array(my_list).reshape(3,3), columns = list("abc"))
print df
</code></pre>
<p>Output:</p>
<pre><code>   a  b  c
0  1  2  3
1  4  5  6
2  7  8  9
</code></pre>
</div>
<span class="comment-copy">Sorry, it should be backslash, so \r, means the end of line. I modified the post.</span>
