<div class="post-text" itemprop="text">
<p>I'm writing some schema tests for django, using django's wrapper of the <code>unittest</code> framework.</p>
<p>I want to check that a field is always going to be <code>DateTimeField</code>, rather than <code>DateField</code>. So I attempted the following:</p>
<pre><code>class TestSuite(TestCase):
    def test_for_correct_datetype(self):
        self.assertTrue(isinstance(Obj.time, models.DateTimeField))
</code></pre>
<p>Because previously:</p>
<pre><code>class Obj(models.Model):
    ....
    time = models.DateTimeField()
</code></pre>
<p>Note: There were several answers that said to use <code>getattr</code>, and it doesn't work for me either.</p>
<p>How can I make the <code>self.assertTrue()</code> work?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.djangoproject.com/en/2.0/ref/models/meta/#django.db.models.options.Options.get_field" rel="nofollow noreferrer"><code>get_field</code></a> method from the Model _meta API:</p>
<pre><code>from django.db import models

class TestSuite(TestCase):
    def test_for_correct_datetype(self):
        self.assertTrue(isinstance(Obj._meta.get_field('time'), models.DateTimeField))
</code></pre>
</div>
<span class="comment-copy">Hint: if you want to check type, maybe use the <a href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance" rel="nofollow noreferrer"><code>assertIsInstance</code> method</a></span>
