<div class="post-text" itemprop="text">
<pre><code>import csv  
import random  
import math  
import operator  



def loadDataset(filename,trainingSet=[],testSet=[]):  
    with open(filename, 'rt') as csvfile:  
        lines = csv.reader(csvfile)  
        dataset = list(lines)  
        z = len(dataset)-1  


 for x in range(len(dataset)-2):  
            for y in range(8,9):  
                dataset[x][y] = float (dataset[x][y])   
                trainingSet.append(dataset[x]) 


    for y in range(8,9):  
            dataset[z][y] = float (dataset[z][y])  
            testSet.append(dataset[z])


def euclideanDistance(instance1, instance2):  
    distance = 0  
    X= (instance1[9] - instance2[9]) +(instance1[8] - instance2[8])  
    distance += pow(X, 2)  
    return math.sqrt(distance)   

def getNeighbors(trainingSet, testInstance, k):  
    distances = []  
    for x in range(len(trainingSet)):  
        dist = euclideanDistance(testInstance, trainingSet[x])  
        distances.append((trainingSet[x], dist))  
    distances.sort(key=operator.itemgetter(1))  
    neighbors = []    
    for x in range(k): 
        neighbors.append(distances[x][0])  
    return neighbors  

def main():  
    trainingSet=[]  
    testSet=[]  
    loadDataset('G:\ABCD.csv', trainingSet, testSet)  
    print ('Train set: ' + repr(len(trainingSet)))  
    print ('Test set: ' + repr(len(testSet)))  
    k = 4     
    neighbors = getNeighbors(trainingSet, testSet[0], k)  
    a=(neighbors[0][1])  
    print('Best Neighbor is: ' + a)  

main()  
</code></pre>
<p><a href="https://i.stack.imgur.com/KAX7I.jpg" rel="nofollow noreferrer">Error I am getting</a>
<a href="https://i.stack.imgur.com/Z94Ay.jpg" rel="nofollow noreferrer">Dataset Screenshot</a></p>
<p>I am getting TypeError while executing the code basically in this program i am trying to find euclidian distance from a test point to each point in the given dataset and then after sorting trying to get neighbors with least distance .</p>
</div>
<div class="post-text" itemprop="text">
<p>The error says you are trying to subtract a string from a string (line 22 in your <code>euclidianDistance</code> function)</p>
<p>You need to parse the two co-ordinates into numbers to be able to subtract them. The <a href="https://docs.python.org/3/library/functions.html?highlight=float#float" rel="nofollow noreferrer">float</a> function will be able to do that.</p>
<p>Example - you're using <code>instance1[9]</code> which is a string representing a floating point number, so <code>float(instance1[9])</code> should give you a number.</p>
<p>Just leave a comment if you're still struggling and I'll show you the update you need to make.</p>
</div>
<span class="comment-copy">Did Same and it worked perfectly thanks for input</span>
<span class="comment-copy">You are welcome. Looks like you're new here, in case you don't know - question askers will typically click the "accept" checkmark on the answer that solved their problem to show others which answer helped (and gives the person who answered some reputation)</span>
