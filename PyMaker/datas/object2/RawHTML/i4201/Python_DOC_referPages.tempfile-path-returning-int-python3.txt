<div class="post-text" itemprop="text">
<p>I would like to know if there is a way to find the path of a temporary file without it returning an int (15 in my case). I would like to return a string (or an object in which I can then turn into one, please detail how) path is the path to the temp file (and the name of it). Example: /Users/FooBar/Python3.6/Modules/TempFile/Opus/THE_TEMP_FILE or something like that. I have already written a small .wav file to it and would like to get the path to get the playing time/duration of it using os .stat(). I want to use a temporary file because I am lazy and I do not want to do a lot of 'special' code for the four different operating systems I am trying to this program on. Here is my code:  </p>
<pre><code>import pygame, time, os, tempfile
import urllib.request as ur

pygame.init() # Initialize the pygame
DISPLAYSURF = pygame.display.set_mode((1, 1)) # Sets display. Needed to play sound

sound = input('What sound should play: ') # Asks which sound
url = 'http://207.224.195.43:8000/' + sound # Gets server url
response = ur.urlopen(url) # Open url
data = response.read() # Create byte like object containing .wav code
f = tempfile.TemporaryFile() # Create TempFile
f.write(data) # Write .wav data gotten from server

f.seek(0) # Prepare to read it
soundObj = pygame.mixer.Sound(f.read()) # Load sound to be played
f.seek(0) # Prepare to read it
statbuf = os.stat(f.name) # Gets stats from TempFile. Returns int, I want to fix that
mbytes = statbuf.st_size / 1024 # Gets 'not real' sound duration
soundObj.play() # Plays sounds
time.sleep(mbytes / 200) # Gets 'real' sound duration and waits
soundObj.stop() # Stops sounds once done
</code></pre>
<p>Let me know (comment) if you have any suggestions. I have looked at a few sites, one of which was on stack-overflow, one that you could mistake to be a duplicate of this question. It was about Django which as I understand is entirely different then python. Thanks for possibly answering this question. Remember, I am not looking for a confirmation on this is an issue, I already know that. Please give me a possible answer to the question as soon as you can.
Thanks!</p>
<p>-User 9311010</p>
</div>
<div class="post-text" itemprop="text">
<p>The whole point of <a href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryFile" rel="nofollow noreferrer"><code>tempfile.TemporaryFile</code></a> is that there <em>is</em> no name for the file, if at all possible:</p>
<blockquote>
<p>… Under Unix, the directory entry for the file is either not created at all or is removed immediately after the file is created. Other platforms do not support this; your code should not rely on a temporary file created using this function having or not having a visible name in the file system.</p>
</blockquote>
<p>If you want a temporary file with an accessible filename, use <a href="https://docs.python.org/3/library/tempfile.html#tempfile.NamedTemporaryFile" rel="nofollow noreferrer"><code>NamedTemporaryFile</code></a>:</p>
<blockquote>
<p>This function operates exactly as <code>TemporaryFile()</code> does, except that the file is guaranteed to have a visible name in the file system… That name can be retrieved from the name attribute of the returned file-like object.</p>
</blockquote>
<hr/>
<p>However, I don't think you need a filename in the first place. Do you only want one so you have something to pass to <code>stat</code>? In Python 3.3+, you can pass a file object (like <code>f</code>) to <code>stat</code> instead of its name. In older versions, you can use <code>fstat</code> with the file's descriptor (<a href="https://docs.python.org/3/library/io.html#io.IOBase.fileno" rel="nofollow noreferrer"><code>fileno()</code></a>).</p>
</div>
<span class="comment-copy">(1) Django is not entirely different than Python; it's a framework written in Python and used in Python code. (2) Just saying that you've looked other answers that might look like duplicates is not helpful. Tell us <i>which</i> answers. Otherwise, someone may well incorrectly close your question as a dup of one of those, or give you the same answer that doesn't work for you, because nobody has any way of guessing that you already tried that answer.</span>
<span class="comment-copy">I only want it to use to <code>os.stat()'. Could you give an example of using </code>tempfile.TemporaryFile()` or is that to much?</span>
<span class="comment-copy">@user9311010 You just call <code>os.stat(f)</code>. Unless you're using Python 3.2, in which case you use <code>os.fstat(f.fileno())</code>.</span>
