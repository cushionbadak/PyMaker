<div class="post-text" itemprop="text">
<p>I am using HtmlTestRunner to generate my test report, but I am not able to understand why I am getting this error: <code>"TypeError: issubclass() arg 1 must be a class"</code></p>
<p>My setup is Python 3.6, pytest, Ubuntu 17.10.</p>
<p>This is the code I have written:</p>
<pre><code>from pages.Home.category_page import CategoryPage
from utilites.testStatus import TestStatus
import pytest
import unittest
import time

@pytest.mark.usefixture("oneTimeSetUp","setUp")
class CategoryTest(unittest.TestCase):
    @pytest.fixture(autouse=True)
    def classSetup(self,oneTimeSetUp):
        self.ca = CategoryPage(self.driver)
        self.ts = TestStatus(self.driver)

    @pytest.mark.run(order=1)
    def test_Announcements_link_WAF001(self):
        result = self.ca.find_announcements_link()
        self.ts.markFinal("Announcements link", result,"To find announcements link")
        time.sleep(2)

    @pytest.mark.run(order=2)
    def test_FirstLinkInAnnouncements_WAF002(self):
        result=self.ca.find_first_announcement_link()
        self.ts.markFinal("Latest link in announcements",result,"To click on latest announcements link")
        time.sleep(2)

    @pytest.mark.run(order=3)
    def test_Products_Link_WAF003(self):
        result=self.ca.find_products()
        self.ts.markFinal("Products link",result,"To find products link")
        time.sleep(2)

    @pytest.mark.run(order=4)
    def test_FirstLinkInProducts_WAF004(self):
        result=self.ca.find_first_products_link()
        self.ts.markFinal("Latest link in products",result,"To click on latest products link")
        time.sleep(2)
</code></pre>
<p>The test suite runner:</p>
<pre><code>from unittest import TestLoader, TestSuite
from HtmlTestRunner import HTMLTestRunner
from tests.Home import category_test

example_tests = TestLoader().loadTestsFromTestCase(category_test)
suite = TestSuite(example_tests)
runner = HTMLTestRunner(output='example_suite', template='path/to/template', report_title='My Report')
runner.run(suite)
</code></pre>
<p>This is the resulting error:</p>
<pre><code>Traceback (most recent call last):
  File "/home/manoj/PycharmProjects/untitled8/test/test_suite.py", line 6, in &lt;module&gt;
    example_tests = TestLoader().loadTestsFromTestCase(to_test_login)
  File "/usr/lib/python3.6/unittest/loader.py", line 85, in loadTestsFromTestCase
    if issubclass(testCaseClass, suite.TestSuite):
TypeError: issubclass() arg 1 must be a class
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your problem is that you are passing the test module, instead of the test class, to the runner. If you look at <a href="https://docs.python.org/3/library/unittest.html#unittest.TestLoader.loadTestsFromTestCase" rel="nofollow noreferrer"><code>unittest</code>'s documentation for <code>loadTestsFromTestCase</code></a>, you'll see its argument needs to be a <code>TestCase</code>-derived class.</p>
<p>I reduced your example to a minimal version to simplify my answer a bit:</p>
<p>In <code>tests.py</code>:</p>
<pre><code>import unittest

class MyTestCase(unittest.TestCase):
    def test_something(self):
        assert True
</code></pre>
<p><code>runner.py</code>, based on yours:</p>
<pre><code>from unittest import TestLoader, TestSuite, TextTestRunner
import tests

example_tests = TestLoader().loadTestsFromTestCase(tests)
suite = TestSuite(example_tests)
runner = TextTestRunner()
runner.run(suite)
</code></pre>
<p>This will give the following output:</p>
<pre><code>$ python runner.py
Traceback (most recent call last):
  File "runner.py", line 4, in &lt;module&gt;
    example_tests = TestLoader().loadTestsFromTestCase(tests)
  File "/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/unittest/loader.py", line 85, in loadTestsFromTestCase
    if issubclass(testCaseClass, suite.TestSuite):
TypeError: issubclass() arg 1 must be a class
</code></pre>
<p>If I switch <code>runner.py</code> to use the class instead, it works:</p>
<pre><code>from unittest import TestLoader, TestSuite, TextTestRunner
from tests import MyTestCase

example_tests = TestLoader().loadTestsFromTestCase(MyTestCase)
suite = TestSuite(example_tests)
runner = TextTestRunner()
runner.run(suite)
</code></pre>
<p>Output:</p>
<pre><code>$ python runner.py
.
----------------------------------------------------------------------
Ran 1 test in 0.000s

OK
</code></pre>
<p>You should be able to adapt this to your code. That being said, the pytest integration might not work with HtmlTestRunner, which is unittest-based. Make sure you look into <a href="https://pypi.org/project/pytest-html/" rel="nofollow noreferrer">pytest-html</a></p>
</div>
<span class="comment-copy">Where is the error flagged?</span>
<span class="comment-copy">You shouldn't use <code>pytest</code> features if you want to run the tests with <code>unittest</code>.</span>
<span class="comment-copy">This the error i am getting @Dragonthoughts                                                        Traceback (most recent call last):   File "/home/manoj/PycharmProjects/untitled8/test/test_suite.py", line 6, in &lt;module&gt;     example_tests = TestLoader().loadTestsFromTestCase(to_test_login)   File "/usr/lib/python3.6/unittest/loader.py", line 85, in loadTestsFromTestCase     if issubclass(testCaseClass, suite.TestSuite): TypeError: issubclass() arg 1 must be a class</span>
<span class="comment-copy">OK thank you for your help</span>
