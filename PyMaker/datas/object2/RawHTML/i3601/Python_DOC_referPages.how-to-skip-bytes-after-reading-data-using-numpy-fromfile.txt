<div class="post-text" itemprop="text">
<p>I'm trying to read noncontiguous fields from a binary file in Python using numpy fromfile function. It's based on this Matlab code using fread:</p>
<pre><code>    fseek(file, 0, 'bof');
    q = fread(file, inf, 'float32', 8);
</code></pre>
<p>8 indicates the number of bytes I want to skip after reading each value. I was wondering if there was a similar option in fromfile, or if there is another way of reading specific values from a binary file in Python. Thanks for your help.</p>
<p>Henrik </p>
</div>
<div class="post-text" itemprop="text">
<p>Something like this should work, untested:</p>
<pre><code>import struct

floats = []
with open(filename, 'rb') as f:
    while True:
        buff = f.read(4)                # 'f' is 4-bytes wide
        if len(buff) &lt; 4: break
        x = struct.unpack('f', buff)[0] # Convert buffer to float (get from returned tuple)
        floats.append(x)                # Add float to list (for example)
        f.seek(8, 1)                    # The second arg 1 specifies relative offset
</code></pre>
<p>Using <a href="https://docs.python.org/2/library/struct.html#struct.unpack" rel="nofollow noreferrer"><code>struct.unpack()</code></a></p>
</div>
<span class="comment-copy">Why do you need numpy for that? Just <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer"><code>open()</code></a> your file in binary mode and use <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow noreferrer"><code>read()</code> and <code>seek()</code></a> to traverse your file.</span>
