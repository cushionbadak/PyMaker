<div class="post-text" itemprop="text">
<p>I have this <em>string</em> below. How can I replace the last but one space without using a for loop in python.</p>
<blockquote>
<p><code>"814409014860", "BOA ", "604938XXXXXX5410 ",,"ADOM ","ADU SAVBOSS SVGIDIIADOM0001 Int. charge ","24/05/18 09:39:08 0.70 ",0.00</code></p>
</blockquote>
<p>I want to avoid for loop because the the data is huge.</p>
<p>The comma is needed just after the minutes timestamp</p>
<blockquote>
<p><code>09:39:08 0.70 ",0.00</code> =&gt; <code>09:39:08, 0.70 ",0.00</code></p>
</blockquote>
<p>Python, bash, c# is preferred.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/stdtypes.html#str.rfind" rel="nofollow noreferrer">rfind</a> and <code>rsplit</code>:</p>
<pre><code># First find the occurrence of the last space
last_space_index = big_string.rfind(" ")

# then split from the right the substring that ends in that index
new_big_string = ", ".join(big_string[:last_space_index].rsplit(" ", 1)) + big_string[last_space_index:]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Python regex substitution?</p>
<pre><code>import re

s = '"814409014860", "BOA ", "604938XXXXXX5410 ",,"ADOM ","ADU SAVBOSS SVGIDIIADOM0001 Int. charge ","24/05/18 09:39:08 0.70 ",0.00'

pattern = r'(\d{2}\:\d{2}\:\d{2})'

output = re.sub(pattern,r'\1,',s)

print(output)

&gt;'"814409014860", "BOA ", "604938XXXXXX5410 ",,"ADOM ","ADU SAVBOSS SVGIDIIADOM0001 Int. charge ","24/05/18 09:39:08, 0.70 ",0.00'
</code></pre>
</div>
<span class="comment-copy">Let me clarify your question: you want to replace <code>space</code>-symbol only after "0.70 " preserving all other: "24/05/18 09:39:08 ", "Int. charge ". Yes?</span>
<span class="comment-copy">And "huge": "huge" as "cannot fit in RAM (or near to this)", "huge" as "..." ?</span>
<span class="comment-copy">No, before <code>0.70</code></span>
<span class="comment-copy">Actually, it would take quite longer. Thats the problem.</span>
<span class="comment-copy">Be careful: It seems that last occurrence is not the last</span>
<span class="comment-copy">The OP need to replace the "last but one" occurrence, isn't it?</span>
<span class="comment-copy">Sorry! English is not my mother tongue.</span>
<span class="comment-copy">Locates the timestamp pattern <code>r'(\d{2}\:\d{2}\:\d{2})'</code> and replaces it with the matched pattern with a comma after <code>r'\1,'</code>.</span>
