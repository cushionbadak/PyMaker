<div class="post-text" itemprop="text">
<p>I've been trying to figure out how I can loop through a root directory with sub directories and search for a file. If a specific file exists then run a script.</p>
<p>File structure example:
Root
--Folder 1
----TEST.txt
--Folder 2
----[no files]
--Folder 3
----TEST.txt</p>
<p>What I am trying to achieve is having the .py file in Root. When run it will loop over each folder in Root, if the file TEST.txt then do some processing.</p>
<p>Notes:
There will always be folders in Root
Where processing is needed there will be a file called TEST.txt
There will definitely be some folders that do <em>not</em> have TEST.txt</p>
<p>Pseudo code:
From Root open Folder 1. If TEST.txt is there then do some cool stuff and then 'cd ../' and repeat process but look in Folder 2.
Stop looping when all Folders have been checked. </p>
</div>
<div class="post-text" itemprop="text">
<p>This code should be able to search all folders and sub folders for a file.</p>
<pre><code>import os

thisdir = os.getcwd()
for root, dirs, files in os.walk(thisdir):
    if 'TEST.txt' in files:
        #do some processing
</code></pre>
<p>Joining 'root' and the file name should be able to give you access to that file if you want to execute or analyze it somehow.</p>
</div>
<span class="comment-copy">Check out <code>os.walk</code> and <code>os.listdir</code> : <a href="https://docs.python.org/3/library/os.html" rel="nofollow noreferrer">docs.python.org/3/library/os.html</a></span>
<span class="comment-copy">Thanks for that, I never knew about those. Will do more research on them.</span>
<span class="comment-copy">Thanks, back on work now so I'll test it tonight.</span>
<span class="comment-copy">Perfect, (quickly tested in a VM) exactly what I needed. Thanks so much</span>
