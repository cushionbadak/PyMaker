<div class="post-text" itemprop="text">
<p>Im struggling to get an xml file parsed using python as it has a nested structure.</p>
<p>My XML file looks like below</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;DvMCLIResult version="8.6.0-00"&gt;
&lt;CommandResult command="GetStorageArray"&gt;
&lt;StorageArray objectID="ARRAY.R800.20454" name="POD1_SU73CYBSVSPF01" 
description="VSP G1500 (20454) at 10.181.35.238" serialNumber="20454" 
arrayFamily="R800" arrayType="R800" ...output truncated as I have similar 50 
values...... /&gt;
&lt;/CommandResult&gt;
&lt;/DvMCLIResult&gt;
</code></pre>
<p>Im looking to get the information of the "StorageArray" in two variables, like</p>
<p>Key &amp; value. Eg. (Key should get the value "objectID" &amp; value should get "ARRAY.R800.20454" and so on for all the remaining items in a loop. The "StorageArray" has over 50 items in it hence I have truncated the XML file.</p>
<p>I would be printing out the values as below</p>
<pre><code>Key,Value
objectID,ARRAY.R800.20454
name,POD1_SU73CYBSVSPF01
description,VSP G1500 (20454) at 10.181.35.238
serialNumber,20454
arrayFamily,R800
arrayType,R800 and so on
</code></pre>
<p>My code:</p>
<pre><code>def  Parse_GetStorageArray():
# Parse the XML to the text file as "Component" "Identifier" "Status"    
#"Result" format
    xmlfile = HiCommandCLI_XML_Path+'/GetStorageArray.xml'
    with open(xmlfile, 'rt') as f:
      tree = ElementTree.parse(f)

      for element in tree.getiterator('StorageArray'):
          items=element.getchildren()
          for content in items:
              print (content.tag)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your problem is with this line:</p>
<pre><code>    items=element.getchildren()
</code></pre>
<p>The <code>StorageArray</code> element does not have any children; it only has attributes.</p>
<p>You should use this instead:</p>
<pre><code>    items = element.attrib
</code></pre>
<p><code>items</code> will be a dictionary that you can then iterate over...</p>
<pre><code>{'objectID': 'ARRAY.R800.20454', 
'name': 'POD1_SU73CYBSVSPF01',
'description': 'VSP G1500 (20454) at 10.181.35.238', 
'serialNumber': '20454',
'arrayFamily': 'R800', 
'arrayType': 'R800'}
</code></pre>
</div>
<span class="comment-copy">The examples in the docs (<a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">docs.python.org/3/library/xml.etree.elementtree.html</a>) are as good or better than any answers you will get here. Give it shot, and come back with your code and specific problems you are having.</span>
<span class="comment-copy">Im not an expert with this. My code is pasted above, but its not printing anything</span>
<span class="comment-copy">Thank You ! That make sense. Appreciate it.</span>
