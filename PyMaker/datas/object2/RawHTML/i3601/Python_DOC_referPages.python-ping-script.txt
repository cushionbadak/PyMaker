<div class="post-text" itemprop="text">
<p>I am trying to write a Python script that pings IP addresses and outputs whether each ping succeeded. So far I have the following code, but the output seems inaccurate. Namely, when I run the script, it pings each hostname as expected but the output is only ever all up or all down.</p>
<pre><code>import os

hostname0 = "10.40.161.2"
hostname1 = "10.40.161.3"
hostname2 = "10.40.161.4"
hostname3 = "10.40.161.5"

response = os.system("ping -c 1 " + hostname0)
response = os.system("ping -c 1 " + hostname1)
response = os.system("ping -c 1 " + hostname2)
response = os.system("ping -c 1 " + hostname3)

if response == 0:
    print hostname0, 'is up'
    print hostname1, 'is up'
    print hostname2, 'is up'
    print hostname3, 'is up'
else:
    print hostname0, 'is down'
    print hostname1, 'is down'
    print hostname2, 'is down'
    print hostname3, 'is down'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You should print the result immediately after pinging each hostname. Try this:</p>
<pre><code>import os

hostnames = [
    '10.40.161.2',
    '10.40.161.3',
    '10.40.161.4',
    '10.40.161.5',
]

for hostname in hostnames:
    response = os.system('ping -c 1 ' + hostname)
    if response == 0:
        print hostname, 'is up'
    else:
        print hostname, 'is down'
</code></pre>
<p>Also, you should consider using the <a href="https://docs.python.org/3/library/subprocess.html#module-subprocess" rel="nofollow noreferrer"><code>subprocess</code> module</a> instead of <code>os.system()</code> as the latter is deprecated.</p>
</div>
<span class="comment-copy">you are continually resetting <code>response</code>. By the if statement, it is only based on the response to hostname8.</span>
<span class="comment-copy">Consider looping through a list and printing the response.</span>
<span class="comment-copy">As a side note: that <a href="https://docs.python.org/3/library/os.html#os.system" rel="nofollow noreferrer">the docs for <code>os.system</code></a> explicitly tell you that "The subprocess module provides more powerful facilities for spawning new processes and retrieving their results; using that module is preferable to using this function."</span>
<span class="comment-copy">thank you this is working a lot better now!</span>
