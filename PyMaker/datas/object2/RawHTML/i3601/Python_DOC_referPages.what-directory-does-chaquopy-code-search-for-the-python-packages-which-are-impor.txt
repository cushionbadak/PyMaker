<div class="post-text" itemprop="text">
<p>I have imported nltk library in my main method of the Python code of the chaquopy Android app. It is asking me to implement <code>nltk.download('punkt')</code> for my processing. So I wanted to know: in what directory does the code look for the packages, so that I can download a copy of them in the desired folder for my code to work right?</p>
<p><strong>Edit</strong>: I implemented the solution provided by @mhsmith, but nltk.download('punkt') is still giving Lookup Error.
Screenshots are attached:</p>
<p>The first line is the download_dir in which nltk.download('punkt') is downloading data</p>
<p><a href="https://i.stack.imgur.com/zK7d7l.png" rel="nofollow noreferrer"><img alt="The first line is the download_dir in which nltk.download('punkt') is downloading data" src="https://i.stack.imgur.com/zK7d7l.png"/></a></p>
<p>This is the error I am getting even after implementing solution by @mhsmith</p>
<p><a href="https://i.stack.imgur.com/0F2k3.png" rel="nofollow noreferrer"><img alt="This is the error I am getting even after implementing solution by @mhsmith" src="https://i.stack.imgur.com/0F2k3.png"/></a></p>
<p>This is the snippet of my code</p>
<p><a href="https://i.stack.imgur.com/aWiKE.png" rel="nofollow noreferrer"><img alt="This is the snippet of my code" src="https://i.stack.imgur.com/aWiKE.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>I think the cleanest solution would be to create a separate directory for your downloads, like this:</p>
<pre><code>from com.chaquo.python import Python
download_dir = "{}/nltk".format(Python.getPlatform().getApplication().getFilesDir())
if not os.path.exists(download_dir):
    os.mkdir(download_dir)
nltk.download(..., download_dir=download_dir)
</code></pre>
<p>(The <code>getPlatform</code> method requires Chaquopy 3.2.0 or later.)</p>
<p>From the <a href="https://www.nltk.org/data.html" rel="nofollow noreferrer">NLTK documentation</a>, it looks like you'll have to set the <code>NLTK_DATA</code> <a href="https://docs.python.org/3/library/os.html#os.environ" rel="nofollow noreferrer">environment variable</a> to this directory. This should probably be done <em>before</em> you <code>import nltk</code>.</p>
</div>
<span class="comment-copy">I have inserted the snippets of the code in the folowing answer to the above question. please clarify the issue</span>
<span class="comment-copy">@utkarshverma If your app is based off the "hello" example I guess you're using Chaquopy 3.1.0. Please edit your build.gradle to upgrade to version 3.2.0.</span>
<span class="comment-copy">I have edited the question with the doubts. Additionally I have one more doubt that what does setting environment variable in system do if the app is running on mobile. I mean, if I set the download_dir path in the system as shown in snippet, the error of directory doesnot exist occurs</span>
<span class="comment-copy">The app is giving some new errors as attached in Edit. Any help would be great</span>
<span class="comment-copy">@utkarshverma I've added a link in my answer explaining how to set an environment variable. This should probably be done <i>before</i> you <code>import nltk</code>.</span>
