<div class="post-text" itemprop="text">
<p>I realize this may be marked as a duplicate, however I would still appreciate a clear and concise response. I have spent quite a bit of time trying to use some of the code from some of the responses that were already given in other similar questions to no avail.</p>
<p>I have a csv file that may vary in length from time to time. The program that I have written in python will open the csv file, read it and make changes to certain fields of data. The program I have written works wonderfully and I am near the end of this project. The only issue I am facing is that I need to add two new columns. One of them has the header 'Institution' and will always contain the same data, the number 18 and another with the header 'File Type'. The 'File Type' header will always have the number 16 below it on every row.</p>
<p>In example:</p>
<pre class="lang-none prettyprint-override"><code>Document Type|Name|Tax ID|Loan Number|Institution|Full Path|File Type|
 Some Info   |blah|123456|123456abcde|    18     |C:\blah  |   16    |
</code></pre>
<p>etc, etc, ...</p>
<p>So basically for every row of data that needs converted, I will always need the program to take my csv file, and insert the two new columns, <code>Institution</code> and <code>File Type</code> with the data <code>18</code> and <code>16</code>, respectively, on each row that happens to exist within the csv. Make sense? So if there is 150 rows, I will need it to put it in 150 times. If the document converts 45 rows, then 45.</p>
<p>Here is the program that I have written and it works perfectly, other than the column part. I am not sure how to go about writing the part to add the columns.</p>
<pre><code>def newDate():
    file = open("needs_convertedTest.csv","r")

    newFile = []
    for line in file:
        data = line.split(",")
        newDate = data[5][0:2]+data[5][3:5]+data[5][8:10]
        newLine = "%s,%s,%s,%s,%s,%s,%s,%s,%s" % (data[0],data[1],data[2],data[3],data[4],newDate,"18",data[6],"16")
        newFile.append(newLine)

    file = open("needs_convertedTest.csv","w")

    for line in newFile:
        file.write(line)

    file.close()
</code></pre>
<p>So here I am showing just the code I edited to include the new columns.</p>
<p>Here is the error I am getting.</p>
<pre class="lang-none prettyprint-override"><code>Traceback (most recent call last):
File "C:\Users\delgadom.sbt\Desktop\CSV Editor\CSVDocEditor.py", line 154, in &lt;module&gt;
updateDocType(),newDate(),newSSN(),filePath(),newName(),newHeader()
File "C:\Users\delgadom.sbt\Desktop\CSV Editor\CSVDocEditor.py", line 21, in updateDocType
newLine = "%s,%s,%s,%s,%s,%s,%s" %(docType, data[1], data[2], data[3], data[4], data[5],"18",data[6],"16")
TypeError: not all arguments converted during string formatting
</code></pre>
<p>I am using Python 3.6.1.</p>
<p>I sincerely appreciate any and all responses.</p>
<p>Thank you,
Max</p>
</div>
<div class="post-text" itemprop="text">
<p>It looks like your problem is trying to access <code>data[8]</code> when data only has seven entries.  I assume you probably want <code>data[6]</code> instead.</p>
<p>As an aside, using pandas makes things quite easy:</p>
<pre><code>import pandas as pd
data = pd.read_csv("needs_convertedTest.csv")
data["Institution"] = 18
data["File Type"] = 16
data.to_csv("output_file_name.csv", index=False)
</code></pre>
</div>
<span class="comment-copy">Why aren't you using the <a href="https://docs.python.org/3/library/csv.html#module-csv" rel="nofollow noreferrer"><code>csv</code></a> module?</span>
<span class="comment-copy">You need to create MCVE that illustrates your problem and replace what's in your question with it (and get rid of the wall of code). See <a href="https://stackoverflow.com/help/mcve"><i>How to create a Minimal, Complete, and Verifiable example</i></a>.</span>
<span class="comment-copy">If all you want to know is how to add a single column to a csv file, then, after the sample input data, show some code you wrote that attempts to just do that. It should be relatively small. It's OK if it doesn't work. Just describe the error or incorrect results you're getting. Also try to get the indentation right (it's very important in Python and incorrect in the code currently in your question). It's also important to specify what version of Python, 2 or 3, your using when dealing with csv files.</span>
<span class="comment-copy">You should show an example input line, but as you say you want to insert new columns, it is likely that the original file contains less than 9 columns. If my guess is correct the error could be caused by an attempt to use <code>data[8]</code>.</span>
<span class="comment-copy">I would have rather of gone a different route, however because I want to gain as much insight into python as possible, I very much appreciate your response. I have tested what you suggested here and am very pleased!  Thank you, sincerely! Max</span>
