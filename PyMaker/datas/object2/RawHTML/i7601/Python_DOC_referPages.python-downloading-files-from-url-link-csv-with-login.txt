<div class="post-text" itemprop="text">
<p>Currently I have a csv file with a large number of links (900+) to download files from. What I wish to do is download all the files from this csv file however in order to download the files I need to log into the website which is done by navigating to a specific page on the website of interest and logging in from there.</p>
<p>I can set up a login session via selenium and use repeated driver.get commands to initiate the downloads but this has a tendency to not work in my experience. </p>
<p>Wget is an option to retrieve the files via iterating over the links in the file but it doesn't get around the issue that the website requires a login to work.</p>
<p>So in short my question what is the most efficient implementation for iterating over a series of download links located in a csv file, downloading all files from said links and enabling a login session to be able to download these files?</p>
<p>EDIT: Currently testing with requests</p>
<pre><code>import requests
s = requests.Session()
print(s.cookies.get_dict())
s.get("URL of Landing page to generate cookies")
print(s.cookies.get_dict())
s.get("Login page URL")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use the <code>urllib.request</code> module and its <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.HTTPBasicAuthHandler" rel="nofollow noreferrer">HTTPBasicAuthHandler()</a> class. So you could:</p>
<pre><code>import urllib.request as ur

mgr = ur.HTTPPasswordMgrWithDefaultRealm()
mgr.add_password(None, 'url', 'username', 'password') # where url is each url

auth = ur.HTTPBasicAuthHandler(mgr)

opener = ur.build_opener(auth)

rsp = opener.open('url/at/some/path').read()
</code></pre>
<p>However you want to iterate through the CSV to build a list of URLs and make queries is up to you.</p>
</div>
<span class="comment-copy">Have a look at <code>requests.Session</code>, with it you can login and follow up with others downloads</span>
<span class="comment-copy">I've taken a short look at it and from what I understand I need to generate a browser session which contains cookies to log into the website. Now I've done this using selenium but It doesn't help with looping over the links that I need later in the program. However using the above code I get the following error <code>SSLError: ("bad handshake: Error([('SSL routines', 'ssl3_get_server_certificate', 'certificate verify failed')],)",)</code> What do you make of this?</span>
