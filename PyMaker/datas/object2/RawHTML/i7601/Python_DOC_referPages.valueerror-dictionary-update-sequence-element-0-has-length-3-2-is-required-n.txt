<div class="post-text" itemprop="text">
<p>I am working on NLTK:</p>
<pre><code>data = urllib.parse.urlencode({"text": "I'm good "}).encode('ascii')
u = urllib.request.urlopen("http://text-processing.com/api/sentiment/",data)
the_page = u.read()
print (the_page)
</code></pre>
<h1>Returns</h1>
<pre><code>b'{"probability": {"neg": 0.22531846855219551, "neutral": 
0.084284385065714951, "pos": 0.77468153144780449}, "label": "pos"}'
</code></pre>
<p>Which is clearly bytes, I want to convert this bytes array into dictionary to access value of the key "label"</p>
<pre><code>d = dict(toks.split(":") for toks in the_page.decode("ascii").split(",") if 
toks)   #Error referred here


for key,value in d.items():
    if key is 'label':
        print (value)
#Should return pos
</code></pre>
<p>The script throws error, "ValueError: dictionary update sequence element #0 has length 3; 2 is required 
"</p>
</div>
<div class="post-text" itemprop="text">
<p>Just use the <code>json</code> module to convert it to a regular Python dictionary:</p>
<pre><code>import json
d = json.loads(the_page.decode("utf-8"))
print(d["label"])
</code></pre>
<p>Hope this helps.</p>
</div>
<span class="comment-copy">That looks like JSON. Perhaps try using the <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer"><code>json</code></a> module.</span>
