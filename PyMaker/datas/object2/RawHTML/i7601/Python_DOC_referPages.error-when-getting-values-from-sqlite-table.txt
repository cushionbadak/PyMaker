<div class="post-text" itemprop="text">
<p><strong>EDIT :</strong> Turns out I made a silly typo , Thanks for helping out !</p>
<p>I want to get the values form an sqlite table , I used <code>fetchnone()</code> to get the last row value . But I am getting an unknown error when calling that function</p>
<pre><code>'sqlite3.Cursor' object has no attribute 'fetchnone' 
</code></pre>
<p>Here's my code for redirect function and I can't figure out where the error is</p>
<pre><code>@app.route('/&lt;short_url&gt;')
def redirect(short_url):
    conn = sqlite3.connect('url.db')
    cursor = conn.cursor()

    result_cur = cursor.execute("SELECT URL FROM WEB_URL WHERE S_URL = ?;" ,(short_url,) )
    try:
        redirect_url = result_cur.fetchnone()
        print redirect_url

        conn.close()
        return redirect(redirect_url)   
    except Exception as e:
        error  = e 
        return render_template('index.html' , error = error)
</code></pre>
<p>Thanks!</p>
<p>EDIT :</p>
<p>I know this is against some rules of Stackoverflow , But I'd like to ask another question regarding redirection :</p>
<p>I am trying to build a URL shortener , but I am having error when redirecting user to the longer URL . I have used SQLite for database . 
Here's my redirection code:</p>
<pre><code>@app.route('/&lt;short_url&gt;')
def redirect(short_url):
    conn = sqlite3.connect('url.db')
    cursor = conn.cursor()

    result_cur = cursor.execute("SELECT URL FROM WEB_URL WHERE S_URL = ?;" ,(short_url,) )
    try:
        redirect_url = result_cur.fetchone()[0]
        print redirect_url

        conn.close()
        return redirect(redirect_url , code = 200)  
    except Exception as e:
        error  = e 
        return render_template('index.html' , error = error)
</code></pre>
<p>The <code>fetchone()[0]</code> does return the correct long URL , but on clicking the generated short URL I'm getting this error</p>
<pre><code> 'NoneType' object has no attribute '__getitem__' 
</code></pre>
<p>There shouldn't be a <code>NoneError</code> because I'm getting a value from the db. </p>
</div>
<div class="post-text" itemprop="text">
<p>You have typo: <strong>fetchone()</strong> is right method.</p>
<p>Reference : <a href="https://docs.python.org/2/library/sqlite3.html#sqlite3.Cursor.fetchone" rel="nofollow noreferrer">https://docs.python.org/2/library/sqlite3.html#sqlite3.Cursor.fetchone</a> </p>
</div>
<span class="comment-copy">[Clippy] Did you mean <a href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.fetchone" rel="nofollow noreferrer"><code>fetchone()</code></a>?</span>
<span class="comment-copy">yes , I have used fetchnone()[0]</span>
<span class="comment-copy">You have fetch <b>none</b>, you want fetch <b>one</b>.</span>
<span class="comment-copy">yep , I noticed Thanks a lot!</span>
<span class="comment-copy">Please post a new question rather than editing this one.</span>
