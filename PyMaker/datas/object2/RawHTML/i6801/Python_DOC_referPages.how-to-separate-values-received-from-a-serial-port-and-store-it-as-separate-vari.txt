<div class="post-text" itemprop="text">
<p>I am new to python, to sensors and Stackoverflow. I am working on a project at my uni to read 4 sensor data on COM4 of my pc through pyserial. I wrote the below code to accomplish this:</p>
<pre><code>import serial
ser = serial.Serial('COM4', 9600, timeout=5)
ser.write("\r".encode())
response =  ser.read(60)
print (response)
ser.close()
</code></pre>
<p>I get the output something like:</p>
<pre><code>b'reply:node01\r\n69\r\n45\r\n117\r\n994\r\n
</code></pre>
<p>Values 69,45,117,994 are readings from the 4 sensors respectively. I did some research and changed <code>print (response)</code> to <code>print (response.decode('utf-8'))</code> , now I get the output which looks like:</p>
<pre><code>reply:node01
69
45
117
994
</code></pre>
<p>I really need some help in separating and storing the sensor values from my initial output or from the output that I received after adding <code>print (response.decode('utf-8'))</code> as separate variables, something like field1=69, field2=45, field3=117, field4=994. So that I can send this to thingspeak API: </p>
<pre><code>https://api.thingspeak.com/update?api_key=XXXXXXXXXXXXXXXXXXX&amp;field1=69&amp;field=45&amp;field3=117&amp;field4=994
</code></pre>
<p>PS: Scalable - more number of sensors might be added at later stage of this project, so the number of data values received will also increase.</p>
<p>Please, I really need some help with this.</p>
</div>
<div class="post-text" itemprop="text">
<p>Good call on the conversion to text from bytes. Now suppose you store that decoded string, as in</p>
<pre><code>my_str = response.decode('utf-8')
</code></pre>
<p>You can use the <code>splitlines</code> string method to get strings for each line:</p>
<pre><code>field0, field1, field2, field3, field4 = my_str.splitlines()
</code></pre>
<p>Then you can interpolate those values into some template to give you the URL you want. If you'd prefer a list of the values, just use</p>
<pre><code>fields = my_str.splitlines()
</code></pre>
</div>
<span class="comment-copy">investigate <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow noreferrer">str.split()</a>, to split your response on the carriage returns.</span>
<span class="comment-copy"><code>splitlines</code> string method works. I am able to save each data individually now. Thanks a ton !</span>
