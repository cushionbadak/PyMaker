<div class="post-text" itemprop="text">
<p>I have no idea how to use <code>datetime.tzinfo</code> module. I have to convert a datetime data from UTC to local timezone and if I retrieve '+2'(which means gmt+2) how do I convert this to tzinfo object? </p>
<p>Also, is it possible to convert from UTC to local timezone with daylight saving time applied automatically? How do I set to subtract one hour automatically <strong>only</strong> during dst?</p>
</div>
<div class="post-text" itemprop="text">
<p>Python doesn't really implement well timezones. According to the <a href="https://docs.python.org/2/library/datetime.html#tzinfo-objects" rel="nofollow noreferrer">documentation</a>, tzinfo is just an abstract class meant to be implemented by the user.</p>
<p>I'd recommend the third party <a href="http://pytz.sourceforge.net/" rel="nofollow noreferrer">pytz</a> module for dealing with timezones.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>tzoffset</code> to set the timezone offset that you retrieve. For example, if you get "+2", parse that string so that <code>n = 2</code>:
</p>
<pre><code>from dateutil.tz import tzoffset

utc_dt = your_datetime.replace(tzinfo=tzoffset("UTC+0",0))
local_dt = utc_dt.astimezone(tzoffset("UTC+{}".format(n), n*60*60))
</code></pre>
<p>The variable <code>utc_dt</code> was used just to be sure that your original datetime has a the right UTC timezone as attribute, otherwise it won't work. Then you can set the offset in seconds for your target local time. </p>
<p>I'm not sure if it's possible to apply DST just knowing the UTC/GMT offset, because some countries in a timezone may not apply it. If you had the exact localization, like "Europe/Vienna", you could use the pytz library and the <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.dst" rel="nofollow noreferrer">datetime.dst()</a> method to determine whether to subtract one hour or not.</p>
</div>
<span class="comment-copy">Thanks a lot. I'll try it.</span>
