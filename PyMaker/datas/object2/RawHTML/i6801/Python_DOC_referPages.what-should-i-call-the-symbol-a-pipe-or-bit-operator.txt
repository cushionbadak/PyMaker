<div class="post-text" itemprop="text">
<p>Just see the following:</p>
<pre><code>def update_page_info(url):
    # fetch_page -&gt; parse_page -&gt; store_page
    chain = fetch_page.s(url) | parse_page.s() | store_page_info.s(url)
    chain()

@app.task()
def fetch_page(url):
    return myhttplib.get(url)

@app.task()
def parse_page(page):
    return myparser.parse_document(page)

@app.task(ignore_result=True)
def store_page_info(info, url):
    PageInfo.objects.create(url=url, info=info)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have a pipe <em>character</em> (more correctly called the <a href="https://en.wikipedia.org/wiki/Vertical_bar" rel="nofollow noreferrer"><em>vertical bar</em> character</a>), which when used in an expression is called a <a href="https://docs.python.org/3/reference/expressions.html#binary-bitwise-operations" rel="nofollow noreferrer">binary bitwise operator</a>:</p>
<blockquote>
<p>The <code>|</code> operator yields the bitwise (inclusive) OR of its arguments, which must be integers.</p>
</blockquote>
<p>The operator is hookable via the <a href="https://docs.python.org/3/reference/datamodel.html#object.__or__" rel="nofollow noreferrer"><code>__or__</code> special method</a>, which is what SQLAlchemy uses to build queries, as seen in your example code (in contrast to the <a href="https://docs.python.org/3/reference/expressions.html#boolean-operations" rel="nofollow noreferrer">boolean <code>or</code> operator</a>, which can't be hooked into due to its short-circuiting behaviour).</p>
</div>
<span class="comment-copy">The <i>character</i> is the pipe or vertical bar, the <i>operation</i> is the bitwise or, so I tend to call it a pipe unless I'm specifically talking about the operation</span>
<span class="comment-copy">@NickA Could you give a link where I can learn more about the operation?I just feel  confused for not seeing it in tutorial,only bitwise operator is introduced.</span>
<span class="comment-copy">see @Martijn's answer, he links to some useful resources, I'd especially check the second link labelled "binary bitwise operator"</span>
<span class="comment-copy">Note the character is called the pipe because it was originally used for piping commands together in Unix</span>
<span class="comment-copy">The operator is hookable via the <b>or</b> special method. Could you elaborate on the meaning of this line?</span>
<span class="comment-copy">So the usage is not a python definition?</span>
<span class="comment-copy">@NM: In the expression <code>a | b</code>, Python looks for <code>type(a).__or__</code> and calls that, passing in <code>b</code>, if it exists. This allows objects to alter how the operator is handled (there is a reverse <code>__ror__</code> too, if <code>type(a).__or__</code> doesn't exist or returns <code>NotImplemented</code>, <code>type(b).__ror__</code> is tried too).</span>
<span class="comment-copy">@Assassin: of course it is a Python definition; it's all Python code. But the operation has been hooked to fit SQLAlchemy's specific use cases.</span>
