<div class="post-text" itemprop="text">
<p>I'm wondering how Python parses:</p>
<pre><code>not a &lt; b &lt; c
</code></pre>
<p>It seems to interpret this as:</p>
<pre><code>not (a &lt; b &lt; c)
</code></pre>
<p>as opposed to <code>(not a) &lt; b &lt; c</code></p>
<p>This question explains grouping vs chaining:
<a href="https://stackoverflow.com/questions/25753474/python-comparison-operators-chaining-grouping-left-to-right">Python comparison operators chaining/grouping left to right?</a> but what are the rules for the precedence of chained comparisons?</p>
<p>It's strange to me that <code>not</code>, <code>&lt;</code> and <code>&gt;</code> have the same precedence, but <code>not a &lt; b &lt; c</code> parses as <code>not (a &lt; b &lt; c)</code> while <code>-a &lt; b &lt; c</code> parses as <code>(-a) &lt; b &lt; c</code>.</p>
<p>I tested this by evaluating <code>not 2 &gt; 1 &gt; 2</code> in Python 2.7.</p>
</div>
<div class="post-text" itemprop="text">
<p>Python has an Abstract Syntax Tree module to show you what's happening:</p>
<pre><code>import ast
t = ast.parse('not a &lt; b &lt; c')
print(ast.dump(t))
</code></pre>
<p>It gives (cleaned up a bit):</p>
<pre><code>[Expr(value=UnaryOp(
    op=Not(),
    operand=Compare(
        left=Name(id='a'),
        ops=[Lt(), Lt()],
        comparators=[Name(id='b'), Name(id='c')]
    )
))]
</code></pre>
<p>And indeed, the <a href="https://docs.python.org/3/reference/expressions.html#operator-precedence" rel="nofollow noreferrer">documentation</a> says that <code>not</code> has lower precedence than <code>&lt;</code>.</p>
</div>
<span class="comment-copy"><code>not 2 &lt; 1 &lt; 2</code> isn't being parsed as <code>not (2 &lt; 1 &lt; 2)</code>. Each term is processed left-to-right. The <code>not 2</code> is <code>False</code> which is the same as the numeric value <code>0</code>—so it's equivalent to <code>0 &lt; 1 &lt; 2</code>.</span>
<span class="comment-copy">This tips was already viewed. Could be: <a href="https://stackoverflow.com/questions/25753474/python-comparison-operators-chaining-grouping-left-to-right" title="python comparison operators chaining grouping left to right">stackoverflow.com/questions/25753474/…</a></span>
<span class="comment-copy">What made you think <code>not</code>, <code>&lt;</code>, and <code>&gt;</code> had the same precedence?</span>
<span class="comment-copy">@martineau I was using 2 &gt; 1 &gt; 2 not 2 &lt; 1 &lt; 2, and I don't think that's true about the parsing</span>
<span class="comment-copy">@user2357112 I mistook the <code>not in</code> and <code>is not</code> tests for the boolean <code>not</code> operator</span>
<span class="comment-copy">@rici: Thanks, edited.</span>
<span class="comment-copy">Aha I was looking at the wrong <code>not</code>, thank you!</span>
