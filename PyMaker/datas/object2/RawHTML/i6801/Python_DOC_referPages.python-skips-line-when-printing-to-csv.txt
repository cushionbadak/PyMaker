<div class="post-text" itemprop="text">
<p>I am trying to create .csv file.</p>
<p>For some reason it skips line before printing entry.</p>
<p>Here is the output</p>
<p><a href="https://i.stack.imgur.com/GPfi7.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/GPfi7.png"/></a></p>
<p>But here is what I need</p>
<p><a href="https://i.stack.imgur.com/Vskx4.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/Vskx4.png"/></a></p>
<p>Below is code. Apparently <code>if line != "":</code> doesn't work</p>
<pre><code>import csv

#-----------------------------------
def csv_writer(data,path):
    """
    Write data to a CSV file path
    """
    with open(path, "w") as csv_file:
        writer = csv.writer(csv_file, delimiter=',')
        for line in data:
            if line != "":
                writer.writerow(line)

#-----------------------------------
if __name__ == "__main__":
    data = ["first_name,last_name,city".split(","),
            "Tyrese,Hirthe,Strackeport".split(","),
            "Jules,Dicki,Lake Nickolasville".split(","),
            "Dedric,Medhurst,Stiedemannberg".split(",")
            ]
    path = "output.csv"
    csv_writer(data,path)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Some python versions (on windows) have an issue with that <code>with open(path, "w") as csv_file:</code>. A <a href="https://docs.python.org/3/library/csv.html#id3" rel="nofollow noreferrer">spurious carriage return char is inserted</a>, creating a blank line after each line.</p>
<p>You have to add <code>newline=""</code> as stated in the documentation. Python 3:</p>
<pre><code>with open(path, "w",newline="") as csv_file:
    writer = csv.writer(csv_file, delimiter=',')
</code></pre>
<p>As for python 2:</p>
<pre><code>with open(path, "wb") as csv_file:
    writer = csv.writer(csv_file, delimiter=',')
</code></pre>
<p>see also:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/38808284/portable-way-to-write-csv-file-in-python-2-or-python-3">portable way to write csv file in python 2 or python 3</a></li>
<li><a href="https://stackoverflow.com/questions/39892463/csv-writer-expected-byte-like-and-space-between-rows">csv writer expected byte like and space between rows</a></li>
</ul>
<p>(note that latest Python versions on Windows don't need this anymore, but the documentation continues to state it)</p>
</div>
<div class="post-text" itemprop="text">
<p>When you open the file you need to pass the keyword argument newline with a blank string. This will prevent the newlines being added between rows. Your function should be: </p>
<pre><code>def csv_writer(data,path):
"""
Write data to a CSV file path
"""
with open(path, "w", newline = '') as csv_file:
    writer = csv.writer(csv_file, delimiter=',')
    for line in data:
        if line != "":
            writer.writerow(line)
</code></pre>
<p>Note that this is only an issue on Windows.</p>
</div>
<span class="comment-copy">the issue is specific to windows and is covered in the <a href="https://docs.python.org/3/library/csv.html#id3" rel="nofollow noreferrer">documentation</a></span>
