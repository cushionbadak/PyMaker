<div class="post-text" itemprop="text">
<p>I need some help with my code. I have got an error when I am trying to add 30 mins with <code>getTime3</code>.</p>
<pre><code>import datetime
import time

getTime3 = '12:30AM'
dt3 = time.strptime(getTime3, '%I:%M%p')
test_time = dt3 + datetime.timedelta(minutes = 30)

print test_time
</code></pre>
<p>The error are jumping on this line:</p>
<pre><code>test_time = dt3 + datetime.timedelta(minutes = 30)
</code></pre>
<p>Here is what <code>dt3</code> show the struct_time object:</p>
<pre><code>time.struct_time(tm_year=1900, tm_mon=1, tm_mday=1, tm_hour=0, tm_min=30, tm_sec=0, tm_wday=0, tm_yday=1, tm_isdst=-1)
</code></pre>
<p>Here is what <code>test_time</code> show the object without the <code>dt3</code>:</p>
<pre><code>0:30:00
</code></pre>
<p>Can you please help me with how I could correct the error to allow me to add the minutes?</p>
</div>
<div class="post-text" itemprop="text">
<p>The easiest way to manipulate the <code>time.struct_time</code> type is by converting it to seconds since epoch, and vice versa.</p>
<p>In your particular case, you want to add 30 minutes, that will be <code>30 * 60</code> seconds:</p>
<pre><code>test_time = time.localtime(time.mktime(dt3) + 30*60))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would use just <a href="https://docs.python.org/3/library/datetime.html" rel="nofollow noreferrer">datetime</a> module for better handling dates and times:</p>
<pre class="lang-py prettyprint-override"><code>import datetime

format = '%I:%M%p'
getTime3 = '12:30AM'
dt3 = datetime.datetime.strptime(getTime3, format)
test_time = dt3 + datetime.timedelta(minutes = 30)

print(test_time.time().strftime(format))
</code></pre>
</div>
<span class="comment-copy">you're using the <code>time</code> version of <code>strptime</code>, which <a href="https://docs.python.org/2/library/time.html#time.strptime" rel="nofollow noreferrer">returns a <code>struct_time</code></a>; you probably want to be using the <code>datetime</code> version of <code>strptime</code>, <a href="https://docs.python.org/2/library/datetime.html#datetime.datetime.strptime" rel="nofollow noreferrer">which returns a <code>datetime</code></a></span>
<span class="comment-copy">@Hamms I am sorry but i cant use datetime version of strptime because the application I am running will only allow me to use <code>time</code> version of strtime which it works fine.</span>
<span class="comment-copy">@Hamms please see the update in my question</span>
<span class="comment-copy">That seems pretty strange to me, but in that case I'd just <a href="https://stackoverflow.com/questions/1697815/how-do-you-convert-a-python-time-struct-time-object-into-a-datetime-object">convert the struct_time to a datetime</a></span>
