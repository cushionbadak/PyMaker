<div class="post-text" itemprop="text">
<pre><code>X = corpus.get("Andrew Shapiro")

testsite_array = []

with X as my_file:

    for line in my_file:

        testsite_array.append(line)
</code></pre>
<p>where corpus is a dictonary and Andrew Shapiro is an item in it. It gives me following error.</p>
<pre><code>  File "C:/Users/Vrushab PC/Downloads/Dissertation/untitled0.py", line 71, in &lt;module&gt;

 with X as my_file:

AttributeError: __enter__
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In order to use the with statement, the object, X in this case, the object must have implemented the <strong>enter</strong> method and <strong>exit</strong> method. The whole point is that it allow for the object to clean it's self up even in the case of an exception. Think try:except:finally done much more cleanly.</p>
<p>In order to answer your question though, I would need to know what you expected X to be. You named your temporary placeholder for it as my_file so is X supposed to be a file path that you want to open or something?</p>
<p>A full example of what you are attempting to do would be helpful.</p>
<p>Generally though, you would use the with statement for doing things like opening files like this:
with open(X, 'r') as my_file:
    ...</p>
<p>Tahoe</p>
</div>
<span class="comment-copy">What is <code>X</code>? Does it implement <a href="https://docs.python.org/3/reference/datamodel.html#context-managers" rel="nofollow noreferrer">the necessary <code>__enter__</code> and <code>__exit__</code> methods</a> to be used as a context manager?</span>
<span class="comment-copy">Stating @ChristianDean's concern a different way, what is the motivation for using a <code>with</code> statement on that dictionary value?   Why use <code>with</code>?</span>
<span class="comment-copy">normally you would say "with open(filepath) as my_file:" filepath would not be a dictionary entry</span>
<span class="comment-copy">I think you need "with open(X) as my_file:"</span>
