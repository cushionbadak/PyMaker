<div class="post-text" itemprop="text">
<p>I'm trying to figure out a way to have argparse positional arguments be mutually exclusive to an optional argument.</p>
<p>For example:</p>
<pre><code>./adder 20 32
Output: 52
./adder --interactive
adder&gt;
</code></pre>
<p>Right now, if I were to just try '--interactive', it tells me that I'm missing positional arguments.</p>
<p>Example code:</p>
<pre><code>parser = argparse.ArgumentParser()
parser.add_argument('a', metavar='First')
parser.add_argument('b', metavar='Second')
parser.add_argument('--interactive')
parser.parse_args()
</code></pre>
<p>I was wondering if there is an elegant way to do this (preferably using argparse functionality) so that '--interactive' disables the requirement of using the two positional arguments.</p>
</div>
<div class="post-text" itemprop="text">
<p>Usually positional arguments can not be omitted. You can try <code>nargs='*'</code> as an alternative.</p>
<pre><code>parser = argparse.ArgumentParser()
parser.add_argument('ab', nargs='*', type='int')
parser.add_argument('--interactive', action='store_true')
args = parser.parse_args()
</code></pre>
<p>Use list <code>args.ab</code> to store positional argument. If it is omitted, then <code>args.ab</code> will be an empty list.</p>
</div>
<span class="comment-copy">can we see the actual code where you specify the args and such?</span>
<span class="comment-copy">Just added example code</span>
<span class="comment-copy">have you tried <code>add_argument('parms', nargs='*')</code>? arguments are gathered into a list, if positional argument absent, list is empty.</span>
<span class="comment-copy">The mutually_exclusive_group mechanism, <a href="https://docs.python.org/3/library/argparse.html#mutual-exclusion" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#mutual-exclusion</a>, accepts on 'optional' (? or *) positional argument</span>
