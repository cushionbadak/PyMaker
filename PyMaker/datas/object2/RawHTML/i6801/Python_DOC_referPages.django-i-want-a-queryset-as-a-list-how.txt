<div class="post-text" itemprop="text">
<p>I need to get a Queryset in Django and make a copy of it as a variable in the form of a list of dictionaries. I thought this is what Querysets were, I guess I'm wrong.</p>
<pre><code>listA = User_Item.objects.filter(user=User.objects.get(id=1))
</code></pre>
<p>Gives me an error when I try to perform a simple algorithm with it.
I don't want to interact with the database- I need to copy that Queryset as a list of dictionaries, so I can display modified versions of the lists without actually changing the data. How do I do this?</p>
<p>(Trying to get a list of entries in this join table, which should be a list of dictionaries with dictionaries for some of the key values)</p>
</div>
<div class="post-text" itemprop="text">
<p>To make a list from a query set just pass it to the list function <code>list_a = list(queryset)</code>. That will return you a list with the objects from the queryset. If you want that as a dict you can call the <code>values()</code> method on the queryset before passing it to the list: <code>list(queryset.values())</code></p>
</div>
<div class="post-text" itemprop="text">
<p>Both <code>values()</code> and <code>values_list()</code> return a <code>queryset object</code>, which should be fine for most cases. But if you do want to have a list, then as the previous answer states you will have to typecast it to a list using the function <code>list(queryset)</code></p>
<p>Typecasting to queryset to a list will remove some performance gained just by using the queryset.</p>
</div>
<span class="comment-copy">You can use <a href="https://docs.python.org/3/library/itertools.html#itertools.ifilter" rel="nofollow noreferrer">itertools.ifilter</a> with lambda expression.</span>
<span class="comment-copy">go with <code>values() or values_list()</code> its very good for db performance but a but ugly to handle sometimes since everything is hardcoded.  <a href="https://docs.djangoproject.com/en/1.11/ref/models/querysets/#values" rel="nofollow noreferrer">docs.djangoproject.com/en/1.11/ref/models/querysets/#values</a></span>
<span class="comment-copy">values(), won't that just get a list of values from the object? I could but it'll be a bit harder to work with in the template. I'm trying to copy the Queryset as it is - a list of dictionaries(objects).</span>
