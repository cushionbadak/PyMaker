<div class="post-text" itemprop="text">
<p>The SMTPHandler requires a "subject" to be included when <a href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.SMTPHandler" rel="nofollow noreferrer">it is initialized</a>.</p>
<p>How can the subject line include the level of the event that generated the email? For example:</p>
<pre><code>import logging
from logging.handlers import SMTPHandler

logger = logging.getLogger('test_logger')

email = SMTPHandler(*credentials, subject="class_name")

logger.addHandler(email)

logs.info('Info Test')

logs.error('Error Test')
</code></pre>
<p>How to make the subject list for <code>logs.info('Info Test')</code> be <code>INFO: class_name</code> and <code>logs.Error('Error Test')</code> be <code>ERROR: class_name</code>?</p>
</div>
<div class="post-text" itemprop="text">
<p>To do this, you need to subclass <code>SMTPHandler</code> and override the <a href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.SMTPHandler.getSubject" rel="nofollow noreferrer"><code>getSubject</code> method</a>, which says:</p>
<blockquote>
<p>If you want to specify a subject line which is record-dependent, override this method.</p>
</blockquote>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/1343227/can-pythons-logging-format-be-modified-depending-on-the-message-log-level">Can Python's logging format be modified depending on the message log level?</a></span>
<span class="comment-copy">The two questions are different as the Formatted works for the content of the log message, and has nothing to do with the <code>SMTPHandler</code> subject line.</span>
