<div class="post-text" itemprop="text">
<p>I tried the below code to create a debug log based on write permission in the directory. If the directory has write permission create the log locally else create the log in home directory.</p>
<pre><code>if len(sys.argv) &gt; 1:
    for i in range (1,len(sys.argv)):
        if (sys.argv[i] == "debug"):

            if os.access("./", os.W_OK) is not True:
                logging.basicConfig(filename="$HOME/post_debug.log", filemode='a')
            else:
                logging.basicConfig(filename="post_debug.log", filemode='a')

            level_name = sys.argv[i]
            level = LEVELS.get(level_name, logging.NOTSET)
            logging.basicConfig(level=level)
            level_set = 1
        elif level_set != 1:
            level = logging.WARNING
else:
    level = logging.WARNING

log = logging.getLogger('post')
log.setLevel(level)
</code></pre>
<p>But the code goes into loop 1 i.e. without write permission and checks for the log file in the current directory [<strong>/disks/desperado/hang_logs/home.list/$HOME/post_debug.log</strong>] instead of home directory as given below,</p>
<pre><code>Traceback (most recent call last):
  File "/disks/scripts/pp/post.py", line 86, in &lt;module&gt;
    logging.basicConfig(filename="$HOME/post_debug.log", filemode='a')
  File "/usr/pkgs/python/2.7/lib/python2.7/logging/__init__.py", line 1500, in basicConfig
    hdlr = FileHandler(filename, mode)
  File "/usr/pkgs/python/2.7/lib/python2.7/logging/__init__.py", line 889, in __init__
    StreamHandler.__init__(self, self._open())
  File "/usr/pkgs/python/2.7/lib/python2.7/logging/__init__.py", line 908, in _open
    stream = open(self.baseFilename, self.mode)
IOError: [Errno 2] No such file or directory: '/disks/desperado/hang_logs/home.list/$HOME/post_debug.log'
</code></pre>
<p>Am I missing something? Share in your inputs!</p>
</div>
<div class="post-text" itemprop="text">
<p>You are missing use of <a href="https://docs.python.org/3/library/os.path.html#os.path.expandvars" rel="nofollow noreferrer"><code>expandvars</code></a> to expand the <code>$HOME</code> environment variable properly:</p>
<pre><code>from os.path import expandvars

# ...

logging.basicConfig(filename=expandvars("$HOME/post_debug.log"), filemode='a')
</code></pre>
<p>Also, take a look at <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer"><code>argparse</code></a>, it could be useful for you :)</p>
</div>
<span class="comment-copy">Thanks a lot for the quick response. Freaks, made the same mistake in my previous post. Appreciate the help!</span>
