<div class="post-text" itemprop="text">
<p>I currently am plotting multiple plots across 4 axis using seaborn. In order to do this, I manually select nrows=4 and then run 4 boxplots at once.</p>
<pre><code>import pandas as pd
import numpy as np
import seaborn as sns
%matplotlib inline

data=np.random.randn(1000)
label = ['A','B','C','D'] * 250

df = pd.DataFrame(
{'label': prod1,
 'data': data
})

fig, (ax1, ax2, ax3, ax4) = plt.subplots(nrows=4, sharey=True)
fig.set_size_inches(12, 16)

sns.boxplot(data=df[df['label']=='A'], y='data', ax=ax1)
sns.boxplot(data=df[df['label']=='B'], y='data', ax=ax2)
sns.boxplot(data=df[df['label']=='C'], y='data', ax=ax3)
sns.boxplot(data=df[df['label']=='D'], y='data', ax=ax4)
</code></pre>
<p>I would like to rewrite this function so that it automatically recognizes the unique number of labels, creates the number of axes automatically, then plots.</p>
<p>Does anyone know how I can accomplish this? Thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>The assignment</p>
<pre><code>fig, ax = plt.subplots(nrows=4, sharey=True)
</code></pre>
<p><a href="https://matplotlib.org/devdocs/api/_as_gen/matplotlib.pyplot.subplots.html" rel="nofollow noreferrer">makes <code>ax</code> a NumPy array of axes</a>. This array can be one- or two-dimensional (depending on the value of the <code>nrows</code> and <code>ncols</code> parameters),
so calling <code>ax.ravel()</code> is used to ensure it is one-dimensional. 
Now you can loop over <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip(label, ax.ravel())</code></a> to call <code>sns.boxplot</code> once for each label and axes.</p>
<pre><code>fig, ax = plt.subplots(nrows=4, sharey=True)
fig.set_size_inches(12, 16)
for labeli, axi in zip(label, ax.ravel()):
    sns.boxplot(data=df[df['label']==labeli], y='data', ax=axi)
</code></pre>
<p>Note that <code>zip</code> ends when the shortest of the iterators end. So even though
<code>label</code> has length 1000, only the first 4 items are used in the loop since there
are only 4 axes.</p>
<p>Alternatively, just assign <code>label = ['A','B','C','D']</code> since that variable is not used anywhere else (at least, not in the posted code).</p>
</div>
<span class="comment-copy">Thank you! Works great!  You mention ax.ravel ensures that it's 1 dimensional. Does that mean this would need to be different if it was, say, a 2x2 plot?</span>
<span class="comment-copy">By using <code>ax.ravel()</code> the code will not have to change  if you use <code>plt.subplots(nrows=2, ncols=2, sharey=True)</code>. That's the reason for using <code>ax.ravel()</code> even though it is not necessary with just <code>nrows=4</code>.</span>
<span class="comment-copy">Thank you. That's perfect.</span>
