<div class="post-text" itemprop="text">
<p>I met some problems when I'd like to check if the input regex if correct or not.</p>
<p>I'd like to check is there one backslash before every symbol, but I don't know how to implement using Python.</p>
<p>For example:</p>
<ul>
<li><code>number: 123456789</code>. (return <code>False</code>)</li>
<li><code>phone\:111111</code> (return <code>True</code>)</li>
</ul>
<p>I try to use <code>(?!)</code> and <code>(?=)</code> in Python, but it doesn't work.</p>
<p>Update:</p>
<p>I'd like to match the following string:</p>
<p><code>\~</code>, <code>\!</code>, <code>\@</code>, <code>\$</code>, <code>\%</code>, <code>\^</code>, <code>\&amp;</code>, <code>\*</code>, <code>\(</code>, <code>\)</code>, <code>\{</code>, <code>\}</code>, <code>\[</code>, <code>\]</code>, <code>\:</code>, <code>\;</code>, <code>\"</code>, <code>\'</code>,  <code>\&gt;</code>, <code>\&lt;</code>, <code>\?</code></p>
<p>Thank you very much.</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>import re
if re.seach(r"\\\W", "phone\:111111") is not None:
      print("OK")
</code></pre>
<p>Does it work?</p>
</div>
<div class="post-text" itemprop="text">
<p>Reading between the lines a bit, it sounds like you are trying to pass a string to a regex and you want to make sure it has no special characters in it that are unescaped.</p>
<p>Python's <code>re</code> module has an inbuilt <a href="https://docs.python.org/2/library/re.html#re.escape" rel="nofollow"><code>re.escape()</code></a> function for this.</p>
<p><strong>Example:</strong></p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; print(re.escape("phone:111111"))
"phone\\:111111"
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Check that the entire string is composed of single characters or pairs of backslash+symbol:</p>
<pre><code>import re
def has_backslash_before_every_symbol(s):
    return re.match(r"^(\\[~!@$%^&amp;*(){}\[\]:;"'&gt;&lt;?]|[^~!@$%^&amp;*(){}\[\]:;"'&gt;&lt;?])*$", s) is not None
</code></pre>
<p>Python regex reference: <a href="https://docs.python.org/3/library/re.html" rel="nofollow">https://docs.python.org/3/library/re.html</a></p>
</div>
<span class="comment-copy"><code>:</code> doesn't require any escaping in regex</span>
<span class="comment-copy">What do you mean by symbols?</span>
<span class="comment-copy">Did you mean to say <i>before every non-word symbol</i>? <code>r"(?:(?&lt;=\\\\)|(?&lt;!\\))[^\w\\]"</code>?</span>
<span class="comment-copy">What would be the output if the input is <code>foo</code> ?</span>
