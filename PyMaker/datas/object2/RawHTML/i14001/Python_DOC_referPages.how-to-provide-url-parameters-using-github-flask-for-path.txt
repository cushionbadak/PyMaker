<div class="post-text" itemprop="text">
<p>First, I am a total n00b to Python. I am using github-flask, and flask obviously, to pull data from the GitHub API. I am trying to use the <code>contents_url</code> and retrieve a file. The URL from the GitHub API is something like:</p>
<pre><code>// json
{
    ...
    "contents_url": "https://api.github.com/repos/&lt;org_name&gt;/&lt;repo_name&gt;/contents/{+path}"
    ...
}
</code></pre>
<p>... and when I try and give that to the github-flask instance I get a TypeError, "TypeError: request() got an unexpected keyword argument 'path'" using:</p>
<pre><code># python
contents = github.get(repo['contents_url'], path='.gitignore')
</code></pre>
<p>I'm pretty sure I am missing something simple. I don't have to resort to string manipulation do I? </p>
</div>
<div class="post-text" itemprop="text">
<p>Python's recommended string interpolation is the <code>.format</code> method. Your code will work with that with just a few minor changes:</p>
<pre><code>contents = github.get(repo['contents_url'].format(path='.gitignore'))
</code></pre>
<p>But you'll also have to change your <code>contents_url</code> slightly:</p>
<pre><code>https://api.github.com/repos/&lt;org_name&gt;/&lt;repo_name&gt;/contents/{path}
</code></pre>
<p>Just be careful - <code>.format</code> interpolates based on curly braces, so any literal curly braces need to be escaped. More information is available here: <a href="https://docs.python.org/3/library/string.html#formatstrings" rel="nofollow">https://docs.python.org/3/library/string.html#formatstrings</a></p>
<hr/>
<p>Edit: As you mentioned in the comment below, the URL is coming directly from GitHub's API and you can't/shouldn't change it. It turns out they're using <a href="http://tools.ietf.org/html/rfc6570" rel="nofollow">RFC 6570</a> URL templates (see <a href="https://developer.github.com/v3/#hypermedia" rel="nofollow">https://developer.github.com/v3/#hypermedia</a>). If you use the <a href="https://github.com/uri-templates/uritemplate-py" rel="nofollow">uritemplate</a> library I suggested below, the code will look like this:</p>
<pre><code>from uritemplate import expand

# ...

contents = github.get(expand(repo['contents_url'], {'path': '.gitignore'}))
</code></pre>
</div>
<span class="comment-copy">Thank you. I can't - or shouldn't - change the <code>contents_url</code> because it is provided by the GitHub API as a string. I was hoping to be able to simply use it.</span>
<span class="comment-copy">It looks at if the GitHub API is using <a href="http://tools.ietf.org/html/rfc6570" rel="nofollow noreferrer">RFC 6570</a> URL templates (see <a href="https://developer.github.com/v3/#hypermedia" rel="nofollow noreferrer">developer.github.com/v3/#hypermedia</a>). You'll want to use an appropriate library. It looks like <a href="https://github.com/uri-templates/uritemplate-py" rel="nofollow noreferrer">uritemplate</a> may be the best one to start with.</span>
<span class="comment-copy">I haven't yet had a chance to try this out but it sounds good. I will try and get to it soon.</span>
<span class="comment-copy">Worked like a charm. Thank you.</span>
