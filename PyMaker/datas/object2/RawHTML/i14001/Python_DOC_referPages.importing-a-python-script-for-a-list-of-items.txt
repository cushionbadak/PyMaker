<div class="post-text" itemprop="text">
<p>I have a certain clustering code, which takes  variable named as market as parameter and does the processing. Now I want to run this code for all the markets through another script. Assuming my clustering script is Cmeans_omni and I am calling it from temp.py. So my piece of code is:</p>
<pre><code>###temp.py
m= ['A','B','C', 'Other'] #market list
for market_for_clustering in m:
    import Cmeans_omni  
</code></pre>
<p>Now problem comes that Cmeans_omni.py saves the output using the to_csv module. So the last line of the code is:</p>
<pre><code>df.to_csv(output_dir + market +   output_filename,mode='w',index=False)   #df is the output data generated by C_means.py
</code></pre>
<p>The code would run for all the markets, but it would save the result in the output directory only for last market(parameter), which is Other. I want to save the results for all the markets. I know I am missing some very basic stuff, any help would be appreciated!!</p>
</div>
<div class="post-text" itemprop="text">
<p>You should change your structure a little bit:</p>
<p><strong>Cmeans_omni.py:</strong></p>
<pre><code>def doWork(fileName):
   ...
   df.to_csv(fileName, mode='w', index=False)
</code></pre>
<p><strong>temp.py:</strong></p>
<pre><code>import Cmeans_omni
markets = ['A.csv', 'B.csv', 'C.csv']
for m in markets:
   Cmeans_omni.doWork(m)
</code></pre>
</div>
<span class="comment-copy">What sait said. Take a look at the section on <a href="https://docs.python.org/3/tutorial/modules.html" rel="nofollow noreferrer">Modules</a> in the official Python tutorial.</span>
