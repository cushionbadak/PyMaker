<div class="post-text" itemprop="text">
<p>I have a method that detects what file it should open based on input, opens the file, then returns the file object.</p>
<pre><code>def find_and_open(search_term):
    # ... logic to find file
    return open(filename, 'r')
</code></pre>
<p>I like this way because it hides the most amount of implementation from the caller.  You give it your criteria, it spits out the file object. Why bother with String paths if you're just going to open it anyway?</p>
<p>However, in other Python projects I tend to see such a method return a string of the filepath, instead of the fileobject itself.  The file is then opened at the very last minute, read/edited, and closed.</p>
<p>My questions are:</p>
<ul>
<li><p>from a performance standpoint, does passing around file objects carry more overhead?  I suppose a reference is a reference no matter what it points to, but perhaps there's something going on in the interpreter that makes a String reference faster to pass around than a file reference?</p></li>
<li><p>From a purely "Pythonic" standpoint, does it make more sense to return the file object, or the String path (and then open the file as late as possible)?</p></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<ol>
<li>Performance is unlikely to be an issue. Reading and writing to disk are orders of magnitude slower than reading from RAM, so passing a pointer around is very unlikely to be the performance bottleneck. <a href="https://stackoverflow.com/questions/1371400/how-much-faster-is-the-memory-usually-than-the-disk">1</a></li>
<li>From the <a href="https://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow">python docs</a>:

<blockquote>
<p>It is good practice to use the <code>with</code> keyword when dealing with file objects. This has the advantage that the file is properly closed after its suite finishes, even if an exception is raised on the way. It is also much shorter than writing equivalent <code>try</code>-<code>finally</code> blocks ...</p>
</blockquote></li>
</ol>
<p>Note that you can both use <code>with</code> to open a file <em>and</em> pass the file object around to other functions, either by nesting functions or using <code>yield</code>. Though I would consider this less pythonic than passing a file string around in most cases.</p>
<blockquote>
<p>Simple is better than complex.
      Flat is better than nested.</p>
</blockquote>
<p>You might also be interested in <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow">pathlib</a>.</p>
</div>
<span class="comment-copy">Why don't you use the <code>timeit</code> or <code>profile</code> modules and find out for yourself?</span>
<span class="comment-copy">I prefer to return the String path, and open file using <code>with open(...) as ...</code></span>
