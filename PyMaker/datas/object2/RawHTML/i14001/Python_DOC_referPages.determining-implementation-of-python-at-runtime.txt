<div class="post-text" itemprop="text">
<p>I'm writing a piece of code that returns profiling information and it would be helpful to be able to dynamically return the implementation of Python in use.</p>
<p>Is there a Pythonic way to determine which implementation (e.g. Jython, PyPy) of Python my code is executing on at runtime?  I know that I am able to get version information from <code>sys.version</code>:</p>
<pre><code>&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.version
'3.4.3 (default, May  1 2015, 19:14:18) \n[GCC 4.2.1 Compatible Apple LLVM 6.1.0 (clang-602.0.49)]'
</code></pre>
<p>but I'm not sure where to look in the <code>sys</code> module to get the implementation that the code is running.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>python_implementation</code> from the <code>platform</code> module in <a href="https://docs.python.org/3/library/platform.html#platform.python_implementation" rel="noreferrer">Python 3</a> or <a href="https://docs.python.org/2/library/platform.html#platform.python_implementation" rel="noreferrer">Python 2</a>.  This returns a string that identifies the Python implementation.</p>
<p>e.g. </p>
<p><code>return_implementation.py</code></p>
<pre><code>import platform
print(platform.python_implementation())
</code></pre>
<p>and iterating through some responses on the command line: </p>
<pre><code>$ for i in python python3 pypy pypy3; do echo -n "implementation $i: "; $i return_implementation.py; done
implementation python: CPython
implementation python3: CPython
implementation pypy: PyPy
implementation pypy3: PyPy
</code></pre>
<p>Note as of this answer's date, the possible responses are 'CPython', 'IronPython', 'Jython', 'PyPy', meaning that it's possible that your implementation will not be returned by this <code>python_implementation</code> function if it does not identity to the <code>sys</code> module as one of these types.</p>
<p><a href="https://hg.python.org/cpython/file/3.4/Lib/platform.py#l1207" rel="noreferrer"><code>python_implementation</code> is calling <code>sys.version</code></a> under the hood and attempting to match the response to a regex pattern -- if there's no conditional match, there's no matching string response.</p>
</div>
<span class="comment-copy">@Jasper that question deals with returning the <i>version</i> of Python, not the implementation.</span>
<span class="comment-copy">You failed to define "implementation" although you did with clarity in your own answer.</span>
<span class="comment-copy">@msw I'm not sure I agree.  The official wiki uses the same language: <a href="https://wiki.python.org/moin/PythonImplementations" rel="nofollow noreferrer">wiki.python.org/moin/PythonImplementations</a> In any case, apologies if there was vagueness in the question.</span>
