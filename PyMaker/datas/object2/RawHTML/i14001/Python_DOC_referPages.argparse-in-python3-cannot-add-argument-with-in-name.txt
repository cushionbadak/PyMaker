<div class="post-text" itemprop="text">
<p>This is my sample program:</p>
<pre><code>   #!/usr/bin/python

   import os
   import string
   import argparse

   parser = argparse.ArgumentParser(description="get all versions")
   parser.add_argument(test-version)
   version = parser.parse_args()

   print(version.test-version)
</code></pre>
<p>When I run the python script, it throws the error:</p>
<pre><code>AttributeError: 'Namespace' object has no attribute 'test'
</code></pre>
<p>If I try the same example with argument "test" instead of "test-version" it works fine.</p>
<p>It is important for me to have the - in my argument name.</p>
<p>How can I fix this issue? </p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>Try this:</p>
<pre><code>print(getattr(version, 'test-version'))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The issue is that you can't have a <code>-</code> in a variable name, because it's the subtraction operator. So, in your code, the interpreter is trying to do <code>version.test - version</code>, which doesn't work because <code>version</code> doesn't have a <code>.test</code> attribute and you can't subtract a namespace from something. If you want to use <code>-</code> in the argument, you need to set the <code>dest=</code> parameter in <a href="https://docs.python.org/3/library/argparse.html#the-add-argument-method" rel="nofollow"><code>.add_argument()</code></a>.</p>
<p>For example:</p>
<pre><code>import argparse

parser = argparse.ArgumentParser(description="get all versions")
parser.add_argument('--test-version', dest='test_version')
version = parser.parse_args(['--test-version', '1'])

print(version.test_version)
</code></pre>
<p>or if you want it as a status flag:</p>
<pre><code>import argparse

parser = argparse.ArgumentParser(description="get all versions")
parser.add_argument('--test-version', action='store_true', dest='test_version')
version = parser.parse_args(['--test-version'])

print(version.test_version)
</code></pre>
</div>
<span class="comment-copy">You need a proper <a href="http://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable Example</a>. You can have a <code>-</code> in your argument name, so the issue is something else.</span>
<span class="comment-copy">Ok.. here it is:</span>
<span class="comment-copy">I'm assuming you have quotes in  <code>parser.add_argument('test-version')</code> in your actual code? (This is why it's important to make sure the code you put up is actually generating the error you say it is)</span>
<span class="comment-copy">No. That's not your full code. If it was, you would be getting <code>NameError: name 'test' is not defined</code>. Because you have not defined <code>test-version</code>, nor could you, because it's not a valid variable name.</span>
<span class="comment-copy">I tried running your example and it outputs <code>NameError: name 'test' is not defined</code>, not <code>AttributeError: 'Namespace' object has no attribute 'test'</code>.</span>
<span class="comment-copy">Thanks! this works!</span>
<span class="comment-copy">this sample provided by you does not work</span>
<span class="comment-copy">@user1164061 I was missing the second <code>-</code> in the argument to add_argument. It works now.</span>
<span class="comment-copy">still doesn't work. Throws the same error</span>
<span class="comment-copy">What error are you getting?</span>
<span class="comment-copy">You actually don't need <code>dest='test_version'</code>. Argparse will convert <code>--test-version</code> to <code>test_version</code> by default.</span>
