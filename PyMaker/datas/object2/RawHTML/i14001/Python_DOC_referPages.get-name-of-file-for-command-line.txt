<div class="post-text" itemprop="text">
<p>I am hoping someone may be able to teach me how to get the name of a file and then make it a part of a string. I want to be able to save a file and then use the name of the file to execute a command line. Here is what I have so far.</p>
<pre><code>def save(self):
        filename = QtGui.QFileDialog.getSaveFileName(self, "Save file", "", ".inp")
        if filename == "":
            pass
        else:
            nfile = open(filename, 'w')
            self.cursor.movePosition(self.cursor.Start, self.cursor.MoveAnchor)
            self.cursor.movePosition(self.cursor.End, self.cursor.KeepAnchor)
            text = self.cursor.selection()
            text1 = text.toPlainText()
            nfile.write(text1)
            nfile.close()
</code></pre>
<p>I want to take the name of the file I just created and insert it in this line:</p>
<pre><code>import os
os.system("rungms file_name.inp 13-64 1 0 file_name.out")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here's a solution using QT convenient <code>QFileInfo</code>. It will work with a file name, or with a path.</p>
<pre><code>filename="myFileName.something"
fileInfo=QtCore.QFileInfo(filename)
name=fileInfo.baseName()
myCommand="rungms %s.inp 13-64 1 0 %s.out"%(name,name)
</code></pre>
<p>Or without QT:</p>
<pre><code>filename="myFileName.something"
name=filename.split(".")[0]
myCommand="rungms %s.inp 13-64 1 0 %s.out"%(name,name)
</code></pre>
<p>NB: With "filename.foo1.foo2", the first method will give you "filename.foo1" and the second method "filename"</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/os.path.html#os.path.splitext" rel="nofollow"><code>os.path.splitext</code></a></p>
<pre><code>from os import path

print(path.splitext("filename.inp")[0]+".out")
</code></pre>
<p>This works even if you have more than one period in the filename, and also doesn't count the period at the beginning of the filename used to make hidden files.</p>
</div>
<span class="comment-copy">Is your problem how to go from "filename.something" to <code>"rungms file_name.inp 13-64 1 0 file_name.out"</code>, or do you have a problem in your first code block ? Also, what exactly are you doing with <code>cursor</code>? It seems a bit overcomplicated to me.</span>
<span class="comment-copy">Thank you tmoreau. My problem is, as you said, how to go from "filename.something" to "rungms filename.inp 13-64 1 0 filename.out"; where filename is the name of the file entered in the save dialog.</span>
<span class="comment-copy">Thank you, tmoreau. This worked marvels.</span>
