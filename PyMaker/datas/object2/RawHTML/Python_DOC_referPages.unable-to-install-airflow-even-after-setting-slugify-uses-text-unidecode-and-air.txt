<div class="post-text" itemprop="text">
<p>I am installing <code>airflow</code> via command:
<code>python3 setup.py install</code>. It takes in the requirements file, <code>requirements/athena.txt</code> which is:</p>
<blockquote>
<p>apache-airflow[celery,postgres,hive,password,crypto]==1.10.1</p>
</blockquote>
<p>I got an error:</p>
<pre><code>RuntimeError: By default one of Airflow's dependencies installs a GPL dependency (unidecode). To avoid this dependency set SLUGIFY_USES_TEXT_UNIDECODE=yes in your environment when you install or upgrade Airflow. To force installing the GPL version set AIRFLOW_GPL_UNIDECODE
</code></pre>
<p>To remove this error, I set <code>export SLUGIFY_USES_TEXT_UNIDECODE=yes</code> and <code>export AIRFLOW_GPL_UNIDECODE=yes</code>. However, running the command <code>python3 setup.py install</code> still gives the same error, nothing changed. To check env variables:</p>
<pre><code>➜  athena-py git:(pyspark-DataFrameStatFunctions) echo $SLUGIFY_USES_TEXT_UNIDECODE
yes
➜  athena-py git:(pyspark-DataFrameStatFunctions) echo $AIRFLOW_GPL_UNIDECODE
yes
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Airflow is not officially supporting python3.7 yet.</p>
<p><a href="https://i.stack.imgur.com/C4U2V.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/C4U2V.png"/></a></p>
<p>I think <code>pip</code> might not be picking up your environment variables. You can try the following command on your shell to make sure it picks up the options you are providing.</p>
<pre><code>AIRFLOW_GPL_UNIDECODE=yes pip3 install "apache-airflow[celery,postgres,hive,password,crypto]==1.10.1"```
</code></pre>
</div>
<span class="comment-copy">python3 is the version</span>
<span class="comment-copy">which python version ? 3.5 or 3.7?</span>
<span class="comment-copy">Python 3.7.2 is the exact version</span>
<span class="comment-copy">I created a virtualenv(just an fyi). It worked! Though, we should look into why env variables weren't picked up. Any idea?</span>
