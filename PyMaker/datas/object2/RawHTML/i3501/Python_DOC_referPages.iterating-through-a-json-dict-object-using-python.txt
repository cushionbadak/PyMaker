<div class="post-text" itemprop="text">
<p>There is a json file that has data I am looking to throw into a database, but there are over 10000 entries. So I want to automate it. </p>
<p>Here is an example of the parsed json code through python:</p>
<pre><code>{'product': {'product_data': [{'product_name': 'debian_linux',
                                                                                             'version': {'version_data': [{'version_value': '8.0'}]}}]},
                                                            'vendor_name': 'debian'}]}},
                    'data_format': 'MITRE',
                    'data_type': 'CVE',
                    'data_version': '4.0',
</code></pre>
<p>basically where it says <code>'product_name': 'debian_linux'</code> is what I'm after. I want to print out each product name in the json file, but only show 1 of the <code>product_name</code> if it has more than one entry (ex: there could be like 15 mentions of debian_linux, or windows_server_2008, but I only want to see one of those fifteen.)</p>
<p>I read the documentation for the <code>jsons</code> library, but it's hard to understand without having much experience with coding, but I gave it a shot and here is my code so far:</p>
<pre><code>import json
from pprint import pprint

with open('nvd.json') as f:
    data = json.load(f)

pprint(data["product_name"])
</code></pre>
<p>I get an error saying <code>KeyError: 'product_name'</code></p>
</div>
<div class="post-text" itemprop="text">
<p>As mentioned in the comments, you have nested dictionaries, ie. you got to loop over them with e.g. <code>for key, values in data.items()</code> and then verify that the key corresponds to your <code>product_name</code>.</p>
<p>see also <a href="https://stackoverflow.com/questions/3294889/iterating-over-dictionaries-using-for-loops">iterating over dictionaries</a></p>
</div>
<div class="post-text" itemprop="text">
<p>I've figured it out!</p>
<pre><code>import json
import sqlite3

with open('nvd.json', 'r') as file:
    parsed = json.load(file)

for item in parsed['CVE_Items']:
    for x in item:
        for test in item['cve']['affects']['vendor']['vendor_data']:

            print(test['product']['product_data'][0]['product_name'])
</code></pre>
</div>
<span class="comment-copy">See e.g. <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">docs.python.org/3/tutorial/datastructures.html#dictionaries</a>; you need to know basic data structures.</span>
<span class="comment-copy">@jonrsharpe I know what data structures are.</span>
<span class="comment-copy">Then why are you trying to access a key that clearly isn't in the dictionary you're trying to access it in?</span>
<span class="comment-copy">I understand that these are nested dictionaries, or possibly also a list within a dict, but I am trying to figure out how to access it.</span>
<span class="comment-copy">If it's answered, mark as answered, please</span>
