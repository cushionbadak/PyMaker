<div class="post-text" itemprop="text">
<p>Anyone that has tried text parsing in C++ compared to Python will notice a considerable difference in effort and difficulty with Python being the easier of the two quite normally. For this reason I would much rather write a text parsing function in Python that my program written in C++ can use.</p>
<p>I thought of compiling a <code>.py</code> file into a <code>.dll</code> but this doesn't seem possible according to the Googling I've done. I can compile a <code>.py</code> file into an <code>.exe</code> file then pass the text to be parsed as a command line argument. However, I would rather not spawn multiple processes each time I need to parse text.</p>
<p>I was wondering if there were anyway possible to use a Python function in a C++ program or some other means someone can think of. I just want to avoid using C++ to parse text.</p>
<p>Thanks for your time.</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes you can. You have to embed the python interpreter in your application.</p>
<p>Your calling code would seem something like:</p>
<pre><code>Py_Initialize();
PyRun_SimpleString("import parser\n"
                   "parse(" + program_code + ")\n");
</code></pre>
<p>There is <a href="https://docs.python.org/3/extending/embedding.html" rel="nofollow noreferrer">a whole section in the docs dedicated to embedding Python</a>.</p>
</div>
<span class="comment-copy">You can build a python interpreter into a c++ program but I'm pretty sure that will be more difficult than parsing your text in c++ to start with. <a href="https://docs.python.org/3/extending/embedding.html" rel="nofollow noreferrer">docs.python.org/3/extending/embedding.html</a></span>
<span class="comment-copy">@AlanBirtles Indeed. That documentation page was very vague as to how to go about embedding it. It really only gave examples of code to use <b>after</b> it's embedded. Quite the headache I have ahead of me. For the sake of time I may just find a way to use a <code>.py</code> executable to parse all my text in the most efficient manner I can find. Thanks.</span>
<span class="comment-copy">see <a href="https://docs.python.org/3/faq/windows.html#how-can-i-embed-python-into-a-windows-application" rel="nofollow noreferrer">docs.python.org/3/faq/â€¦</a></span>
<span class="comment-copy">That leaves you with the (rather tedious) problem of getting the result from Python and having to either convert it (i.e. write a "parser" for Python data structures) or use it directly. I think that writing a parser in C++ may be more difficult, but writing that Python-&gt;C++ interface is no walk in the park either <i>and</i> it's boring and takes time that you could spend on less boring things.</span>
