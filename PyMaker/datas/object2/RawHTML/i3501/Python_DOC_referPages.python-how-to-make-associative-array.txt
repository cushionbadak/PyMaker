<div class="post-text" itemprop="text">
<p>I made a python script and need to have some parameters in an XML. So here is the XML  : </p>
<pre><code>&lt;ROOT&gt;
&lt;FOLDERTYPES&gt;
    &lt;FOLDERTYPE_ID&gt;
        &lt;NAME&gt;FOURNISSEUR&lt;/NAME&gt;
        &lt;ID&gt;2&lt;/ID&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Administratif&lt;/NAME&gt;
            &lt;ID&gt;4&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Commandes&lt;/NAME&gt;
            &lt;ID&gt;5&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Factures&lt;/NAME&gt;
            &lt;ID&gt;6&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
    &lt;/FOLDERTYPE_ID&gt;
    &lt;FOLDERTYPE_ID&gt;
        &lt;NAME&gt;CLIENT&lt;/NAME&gt;
        &lt;ID&gt;3&lt;/ID&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Administratif&lt;/NAME&gt;
            &lt;ID&gt;4&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Commandes&lt;/NAME&gt;
            &lt;ID&gt;5&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Factures&lt;/NAME&gt;
            &lt;ID&gt;6&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
        &lt;SUBFOLDER&gt;
            &lt;NAME&gt;Logistique&lt;/NAME&gt;
            &lt;ID&gt;7&lt;/ID&gt;
        &lt;/SUBFOLDER&gt;
    &lt;/FOLDERTYPE_ID&gt;
&lt;/FOLDERTYPES&gt;
</code></pre>
<p></p>
<p>For now, I'm just capable to get the "name" and "ID" like the following : </p>
<pre><code>{'FOURNISSEUR': {'id': '2'}, 'CLIENT': {'id': '3'}}
</code></pre>
<p>But I need to have all of the subfolders, in a dict like this : </p>
<pre><code>{'FOURNISSEUR': {'id': '2', 'subfolders' : {'Administratif':'4','Commandes':'5','Factures':'6'}}, 'CLIENT': {'id': '3', 'subfolders' : {'Administratif':'4','Commandes':'5','Factures':'6','Logistique':'7'}}
</code></pre>
<p>Here is the piece of code I have for now : </p>
<pre><code>def getFolderTypeArray(fileName):
    result = {}
    with open(fileName, 'rb') as config_file:
        content = config_file.read()
    config = BeautifulSoup(content, "lxml")

    folderTypesId = config.find_all('foldertype_id')
    for folderType in folderTypesId:
        label               = folderType.find('name').string
        folderTypeId        = folderType.find('id').string
        result[label]       = {'id' : folderTypeId}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Add in another loop </p>
<pre><code>folderTypesId = config.find_all('foldertype_id')
for folderType in folderTypesId:
    label               = folderType.find('name').string
    folderTypeId        = folderType.find('id').string
    subfolders = dict() 
    for s in folderType.find_all('subfolder'):
        subfolders[s.find('name').string] = s.find('id').string
    result[label]       = {'id' : folderTypeId, 'subfolders': subfolders}
</code></pre>
</div>
<span class="comment-copy">They're called dictionaries or <code>dict</code>s in python, not associative arrays. You probably want an xml parser: <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">docs.python.org/3/library/xml.etree.elementtree.html</a></span>
<span class="comment-copy">Well, where are you making the subfolder key?</span>
<span class="comment-copy">@cricket_007 for now I didn't code anything for the subfolders. I just made some tries, but without success because I didn't know how to realize that</span>
<span class="comment-copy">check: <a href="https://github.com/hay/xml2json" rel="nofollow noreferrer">github.com/hay/xml2json</a></span>
<span class="comment-copy"><code>result['subfolders'] = some_dictionary</code> after the loop. Build that inner dictionary within the loop... You're already building a dictionary. <code>result[label]</code> and <code>{'id' : folderTypeId}</code></span>
<span class="comment-copy">That's perfect, thanks a lot :)</span>
