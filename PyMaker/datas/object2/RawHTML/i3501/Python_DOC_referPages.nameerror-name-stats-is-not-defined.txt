<div class="post-text" itemprop="text">
<p>i am messing about on python trying out classes but i am getting a name error which i dont know how to fix. it works fine when not in a class but now it is it doesnt work i presume this is a obvious problem , or just the whole thing is wrong, and i now look stupid lol, the other variables are things i havent got round to doing yet so ignore them. (yes the stats are ripped straight from fallout")</p>
<pre><code>import time, random
class User():
        def players():
            players = 0
        def stats(self):
            perks = 20
            print ("you have 20 perk points to spend")
            print(""" you have several choices of what to spend
                        them in:
                        STRENGTH - what it says on the tin
                        PERCEPTION - awareness
                        ENDURANCE - how long you can endure something
                        CHARISMA - yet again what it says on the tin
                        INTELLIGENCE - how smart you are
                        AGILITY - how much of a slippery bugger you are
                        LUCK - how lucky you are""")
            strength = int(input("What level is your strength?"))
            perks = perks - strength
            perception = int(input("What level is your perception?"))
            perks = perks - perception
            endurance = int(input("What level is your endurance?"))
            perks = perks - endurance
            charisma = int(input("What level is your charisma?"))
            perks = perks - charisma
            intelligence = int(input("What level is your intelligence?"))
            perks = perks - intelligence
            agility = int(input("What level is your agility?"))
            perks = perks - agility
            luck = int(input("What level is your luck?"))
            perks = perks - luck

            if perks &gt;= 0:
                print ("this works")
            elif perks &lt;=-1:
                print("this also works")
        def __init__(self,username,stats):
            self.username = username
            self.stats = stats

            players +=1
story = "on"
while story ==  "on":
    print ("Start of story")    
    stats()


 Welcome to my story
    Traceback (most recent call last):
      File "C:/Users/----/----/python/----.py", line 45, in &lt;module&gt;
        stats()
    NameError: name 'stats' is not defined
    &gt;&gt;&gt; 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>your problem is that you have the <code>attribute</code> <code>stats</code> and the method <code>stats</code> you can rename your <code>stats</code> attribute to <code>_stats</code>, and also you need to make an object from <code>User</code> class for example</p>
<pre><code>class User():

    def __init__(self,username,stats):
        self.username = username
        self._stats = stats
        ...

    def stats(self):
        ...


user = User('test', 1)
story = "on"
while story ==  "on":
    print ("Start of story")    
    user.stats() # method
    user._stats # attribute
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>stats()</code> is a method of your class <code>User</code>. That means <code>stats()</code> exists within the <a href="https://docs.python.org/3/tutorial/classes.html#scopes-and-namespaces-example" rel="nofollow noreferrer">scope</a> of <code>User</code>, but out of the scope it is not defined.</p>
<p>Then there's another problem: Your <code>__init__</code> takes an argument with the same name (<code>stats</code>), and then you set <code>stats</code> as an attribute of <code>self</code>. That means you override your method <code>stats()</code> with whatever you pass to the <code>__init__</code> call (when you set <code>self.stats = stats</code>). You should rename this attribute, maybe to <code>self._stats = stats</code>.</p>
<p>And in your global scope, you have never <a href="https://docs.python.org/3/tutorial/classes.html#class-objects" rel="nofollow noreferrer">instantiated</a> your class <code>User</code>. So you could do something like this:</p>
<pre><code>user = User("Jeremy", "whatever your stats are")
story = "on"
while story ==  "on":
    print ("Start of story")    
    user.stats()
</code></pre>
<p>This will resolve the error. However I'm not sure if the code will do what you expect it to do. You define a lot of variables within <code>stats()</code>, like <code>strength</code> etc. Maybe you'd want to define them as attributes to <code>self</code>, so <code>self.strength = ...</code>.</p>
<p>You can then access them in the global scope via <code>user.strength</code> etc.</p>
</div>
<span class="comment-copy">Please review your indentation. Also you're shadowing the method by assigning an attribute of the same name in <code>__init__</code>.</span>
<span class="comment-copy">The reason you're getting an error is because the <code>stats</code> method/attribute (as jonrsharpe pointed out, you've used the name stats for both a method and an attribute) is defined only on the User class, and thus means nothing outside the context of a User instance. <a href="https://docs.python.org/2/tutorial/classes.html" rel="nofollow noreferrer">Here</a> is the doc page on classes that you should take a look at.</span>
