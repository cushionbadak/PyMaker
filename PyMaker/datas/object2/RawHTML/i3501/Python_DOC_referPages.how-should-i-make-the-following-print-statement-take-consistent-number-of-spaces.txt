<div class="post-text" itemprop="text">
<p>How should I make the following print statement take consistent number of space for each portion (epoch, time, loss, etc.). Currently, they are not consistent because sometimes some of the float values may take 5 spaces or 6 spaces (e.g 10.345, 2.123). </p>
<pre><code>print('Epoch: [{0}][{1}/{2}]\t'
      'Time: {batch_time.val:.3f} ({batch_time.avg:.3f})\t'
      'Loss: {loss.val:.4f} ({loss.avg:.4f})\t'
      'Prec@1: {top1.val:.3f}% ({top1.avg:.3f}%)\t'
      'Prec@5: {top5.val:.3f}% ({top5.avg:.3f}%)'.format(
       epoch, i, len(data_loader), batch_time=batch_time,
       loss=losses, top1=top1, top5=top5))
</code></pre>
<p>Example:</p>
<pre><code>Epoch: [4][90/1770] | Time: 0.315 (0.321) | Loss: 1.5111 (1.6552) | Prec@1: 72.266% (67.943%) | Prec@5: 84.375% (83.001%)
Epoch: [4][100/1770] | Time: 0.314 (0.320) | Loss: 1.6079 (1.6558) | Prec@1: 70.312% (67.965%) | Prec@5: 84.766% (82.990%)
</code></pre>
<p>As you can see, the spacing in each section is not consistent. Pre-adding spaces does not work because the number of spaces to add have to be different depending on the length of the values (90/1770 vs 100/1770).</p>
<p>I understand that I could do <code>{:5.3f}</code> in print format but the problem with my print statement is that some are fixed words like "Epoch", while some are variables, the values. How should I deal with case like this? I need to make the whole chunk consistent not just the values.</p>
</div>
<div class="post-text" itemprop="text">
<p>You already know how to add a width to floats:</p>
<blockquote>
<p>I understand that I could do {:5.3f} in print format </p>
</blockquote>
<p>You can do the exact same with integers, or any other type.</p>
<pre><code>print('Epoch: [{0:1}][{1:3}/{2:4}]\t'
      'Time: {batch_time.val:5.3f} ({batch_time.avg:5.3f})\t'
      # and so on
</code></pre>
<p>That <code>{1:3}</code> means that <code>90</code> will show up with a space before it, like this:</p>
<pre><code>Epoch: [4][ 90/1770] | Time: 0.315 (0.321) | Loss: 1.5111 (1.6552) | Prec@1: 72.266% (67.943%) | Prec@5: 84.375% (83.001%)
</code></pre>
<p>So it'll line up with the next line:</p>
<pre><code>Epoch: [4][100/1770] | Time: 0.314 (0.320) | Loss: 1.6079 (1.6558) | Prec@1: 70.312% (67.965%) | Prec@5: 84.766% (82.990%)
</code></pre>
<p>If you haven't read the documentation for the <a href="https://docs.python.org/3/library/string.html#format-specification-mini-language" rel="nofollow noreferrer">Format Specification Mini-Language</a>, and are just guessing at how you can change samples you found in random online code in hopes they'll do what you want, read the docs. It's all pretty simple.</p>
<hr/>
<p>You also say:</p>
<blockquote>
<p>the problem with my print statement is that some are fixed words like "Epoch"</p>
</blockquote>
<p>The fixed strings don't seem to be a problem in the first place. </p>
<p>If they are, you can make them all the same width by just manually adding spaces.</p>
<p>If you really want to, you can store those fixed strings in variables and add format fields for them instead, so you have somewhere to add a width field:</p>
<pre><code>print('{epoch_label:6}: [{0:1}][{1:3}/{2:4}]\t'
      '{time_label:6}: {batch_time.val:5.3f} ({batch_time.avg:5.3f})\t'
      # etc.
      loss=losses, top1=top1, top5=top5, 
      epoch_label='Epoch', time_label='Time'))
</code></pre>
<p>â€¦ but that seems kind of silly.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can play with 'center','rjust' and 'ljust', too:</p>
<pre><code>In [23]: for a,b,c,d in ( (4,90,1770,0.315), (4,100,1770,0.314)):
    ...:     print("Epoch: "+f"[{a}][{b}/{c}]".center(15)+"| Time: "+f"{d:.3f}".center(8)+"|")
    ...:     

Epoch:   [4][90/1770] | Time:  0.315  |
Epoch:  [4][100/1770] | Time:  0.314  |
</code></pre>
</div>
<span class="comment-copy">You already know how to handle the floats. For the fixed text at the left, the easiest thing to do with the fixed parts is to just put the spaces in manually: add one space after <code>Epoch</code> and two after <code>Time</code> and <code>Loss</code>, and now they're all 6 characters.</span>
<span class="comment-copy">@abarnert I have added an example. Adding spaces would not work because the number of space to add is different every time.</span>
