<div class="post-text" itemprop="text">
<p>I have some lists of floats:</p>
<pre><code>arr1 = [ 123456.78, 123.45, -123456789.01, 23.45 ]
arr2 = [ .1278, .92, .5401, .2345 ]
</code></pre>
<p>I want to print them in tabular form with various formats, depending on which list of values I'm printing</p>
<p>Eg: </p>
<ul>
<li>print <code>arr1</code> as whole dollar values with thousands separators</li>
<li>print <code>arr2</code> as percentages with 1 decimal place</li>
</ul>
<p>Would result in something such as:</p>
<pre><code>"       $123,457 |            $123 |   -$123,456,789 |             $23"
"          12.8% |           92.0% |           54.0% |           23.4%"
</code></pre>
<p>This is what I have been able to come up with so far:</p>
<pre><code>def join(fmt, arr):
    return ' | '.join([fmt.format(a) for a in arr])

print('{}'.format(join('${:14,.0f}', arr1)))
print('{}'.format(join('{:15.1%}',   arr2)))
</code></pre>
<p>This results in the following:</p>
<pre><code>"$       123,457 | $           123 | $  -123,456,789 | $            23"
"          12.8% |           92.0% |           54.0% |           23.4%"
</code></pre>
<p>Issues with this approach:</p>
<ul>
<li>It prints the dollar sign first, and then the padding</li>
<li>It prints the negative sign after the dollar sign</li>
<li>Since the dollar sign is not part of the formatting, I have to remember to reduce my padding from 15 to 14 for that format string.</li>
</ul>
<p>How can I get the dollar sign printed up against the number?<br/>
Is it possible to make the dollar sign part of the format so that I can still use 15 as my padding?</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's how to format the money values as whole dollars, using Python 3.6 <a href="https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals" rel="nofollow noreferrer">f-strings</a>. We <em>could</em> also do the padding with <code>.rjust</code> in the <code>dollars</code> function, but it's cleaner &amp; more flexible to do it separately.</p>
<pre><code>arr1 = [123456.78, 123.45, -123456789.01, 23.45]

def dollars(n):
    return f"{'-' if n &lt; 0 else ''}${round(abs(n)):,}"

s = ' | '.join([dollars(u).rjust(15) for u in arr1])
print(repr(s))
</code></pre>
<p><strong>output</strong></p>
<pre><code>'       $123,457 |            $123 |   -$123,456,789 |             $23'
</code></pre>
<p>Make sure that <code>round(abs(n))</code> does what you want. The <code>round</code> function does <a href="https://en.wikipedia.org/wiki/Rounding#Round_half_to_even" rel="nofollow noreferrer">"Banker's rounding"</a>, and you may wish to use <code>int(0.5 + x)</code> instead of <code>round(x)</code>. Also consider the effect of taking the absolute value after rounding instead of before.</p>
</div>
<div class="post-text" itemprop="text">
<p>This should do it for you:</p>
<pre><code>dollar_commas = ''.join("${:,} | ".format(int(round(num))).rjust(20) for num in arr1).replace('$-', '-$')
print dollar_commas[:-2]

percent = ''.join("{0:.1%} | ".format(num).rjust(20) for num in arr2)
print percent[:-2]
</code></pre>
<p>Output:</p>
<pre><code>     $123,457 |              $123 |     -$123,456,789 |               $23
        12.8% |             92.0% |             54.0% |             23.4%
</code></pre>
</div>
<span class="comment-copy">Take a look at <a href="https://docs.python.org/3/library/locale.html#locale.currency" rel="nofollow noreferrer">docs.python.org/3/library/locale.html#locale.currency</a></span>
<span class="comment-copy">@PM2Ring how would I use <code>locale.currency</code> in my <code>join</code> function, or would I have to special case the printing of currencies?</span>
<span class="comment-copy">Yes, you will need to treat the currencies as a special case. Another option to using <code>locale</code> is to do the formatting in 2 stages. First format the number and add the currency symbol, and possible negative sign. Then do the padding. This is a little more compact if you can use Python 3.6+ f-strings.</span>
<span class="comment-copy">@PM2Ring additionally I am not sure I can drop the cents in the values? (ie: print only the dollar value)</span>
<span class="comment-copy">@PM2Ring I am using python 3.6.5</span>
