<div class="post-text" itemprop="text">
<p>In python we use optparse to format our CLI parameters. However, I don't know how to apply add_option() on supporting combined or a groups of arguments. </p>
<p>For example:</p>
<p>1) How can my CLI support combined paramters:</p>
<p>eg: </p>
<pre><code>python test.py -ah
</code></pre>
<p>actually, this command can expand to:</p>
<pre><code>python test.py -a -h
</code></pre>
<p>2) How can my CLI support groups parameters:</p>
<p>eg: </p>
<pre><code>python test.py -f f1.txt f2.txt f3.txt
</code></pre>
<p>in this example: space is the separator, we can also define comma also as the separator.</p>
<p>I don't know whether optparse can support.</p>
</div>
<div class="post-text" itemprop="text">
<p>You should not be using optparse for new projects. <a href="https://docs.python.org/2/library/optparse.html" rel="nofollow noreferrer">According to the docs</a>:</p>
<blockquote>
<p>Deprecated since version 2.7: The optparse module is deprecated and
  will not be developed further; development will continue with the
  argparse module.</p>
</blockquote>
<p>The functionality you are looking for is built into <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">argparse</a>:</p>
<pre><code>import argparse

parser = argparse.ArgumentParser('Test program')
parser.add_argument('-a', action='store_true')
parser.add_argument('-v', action='store_true')
parser.add_argument('-f', nargs='+')
args = parser.parse_args()

print(args)
</code></pre>
<p>This yields:</p>
<pre><code>$ python parser.py -av -f f1.txt f2.txt f3.txt
Namespace(a=True, f=['f1.txt', 'f2.txt', 'f3.txt'], v=True)
</code></pre>
</div>
<span class="comment-copy">optparse is deprecated. See the first example of argparse that uses a group of numbers. <a href="https://docs.python.org/2/library/argparse.html#module-argparse" rel="nofollow noreferrer">docs.python.org/2/library/argparse.html#module-argparse</a></span>
<span class="comment-copy">Thanks for your prompt.</span>
<span class="comment-copy">Thanks for your advice, and it works for me!</span>
<span class="comment-copy">@tOmMy No problem! Have you read the page on <a href="https://stackoverflow.com/help/someone-answers">"What should I do when someone answers my question?"</a></span>
<span class="comment-copy">Yes, for my reputation is less than 15 and I have already voted your answer's up, the system has recorded this but doesn't show in publicity. Thanks again.</span>
