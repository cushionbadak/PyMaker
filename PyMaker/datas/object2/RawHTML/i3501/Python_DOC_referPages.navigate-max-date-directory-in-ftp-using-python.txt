<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/51756672/get-the-latest-ftp-folder-name-in-python">Get the latest FTP folder name in Python</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I'm trying to navigate to the latest directory on an FTP site to download a CSV file in it. For this example, I'm trying to select the <code>OG_EWA_2018-06-02</code> link. How can I access using the max date? Thanks </p>
<pre class="lang-none prettyprint-override"><code>OG_EWA_2018-03-02 . . . Mar 02 10:52        
OG_EWA_2018-04-03 . . . Apr 03 09:20        
OG_EWA_2018-05-02 . . . May 02 09:17        
OG_EWA_2018-06-02 . . . Jun 02 10:52 
</code></pre>
<pre><code>from ftplib import FTP

ftp = FTP('ftp')
ftp.cwd('OG_EWA')
ftp.retrlines('LIST')
print(ftp)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The first thing you need to do is to get the output into a list or something else you can process it, instead of just dumping it to stdout. As <a href="https://docs.python.org/3/library/ftplib.html" rel="nofollow noreferrer">the docs</a> explain, you do this by passing a callback function:</p>
<pre><code>files = []
ftp.retrlines('LIST', files.append)
</code></pre>
<p>Now, you’ve got a list of lines. Since the filenames are identical up to the date, and the date is in YYYY-MM-DD format, the normal string order is the date order, so you don’t need to do anything fancy; just call <code>max</code> on it:</p>
<pre><code>latest = max(files)
</code></pre>
</div>
