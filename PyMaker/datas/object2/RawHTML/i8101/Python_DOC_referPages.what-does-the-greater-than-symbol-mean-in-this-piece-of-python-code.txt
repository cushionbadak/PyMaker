<div class="post-text" itemprop="text">
<p>I am trying to implement a restricted boltzmann machine in C++. I am using this Python code as a guide:
<a href="https://github.com/echen/restricted-boltzmann-machines/blob/master/rbm.py" rel="nofollow noreferrer">https://github.com/echen/restricted-boltzmann-machines/blob/master/rbm.py</a></p>
<p>This is Line 37:</p>
<pre><code>pos_hidden_states = pos_hidden_probs &gt; np.random.rand(num_examples, self.num_hidden + 1)
</code></pre>
<p>pos_hidden_states and pos_hidden_probs are both 2D matrices, of type <code>vector&lt;vector&lt;double&gt;&gt;</code> in C++, and num_examples and num_hidden are both integers. </p>
<p>Could anyone explain what the greater-than symbol means here?</p>
</div>
<div class="post-text" itemprop="text">
<p>Probably not easy to translate <code>numpy</code> into C++, lot's of abstraction in <code>numpy</code>. Anyway, it's acting as a vectorized comparison, because <code>np.random.rand(...)</code> returns a <code>np.ndarray</code>, which if <code>pos_hidden_probs</code> is either a scalar or a <code>np.ndarray</code> it will behave in a vectorized (i.e. elementwise) manner:</p>
<pre><code>&gt;&gt;&gt; rand_array = np.random.rand(2, 2)
&gt;&gt;&gt; rand_array
array([[ 0.1807726 ,  0.67617382],
       [ 0.84396805,  0.04450794]])
&gt;&gt;&gt; 0.5 &gt; rand_array
array([[ True, False],
       [False,  True]], dtype=bool)
&gt;&gt;&gt;
</code></pre>
<p>If <code>pos_hidden_probs</code> is some sort of <code>np.ndarray</code>, the behavior might be influenced by <a href="https://docs.scipy.org/doc/numpy-1.10.0/user/basics.broadcasting.html" rel="noreferrer"><em>broadcasting</em></a>, a feature of numpy:</p>
<pre><code>&gt;&gt;&gt; np.array([0.5, 0.5]) &gt; rand_array
array([[ True, False],
       [False,  True]], dtype=bool)
&gt;&gt;&gt; np.array([0.5, .9]) &gt; rand_array
array([[ True,  True],
       [False,  True]], dtype=bool)
&gt;&gt;&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The <code>&gt;</code> operator works element-wise in NumPy, e.g.</p>
<pre><code>np.array([[1,2],[3,4]]) &gt; np.array([[2,2],[2,2]])
</code></pre>
<p>gives you <code>np.array([[False,False],[True,True]])</code></p>
<p>NumPy also does <a href="https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html" rel="nofollow noreferrer">broadcasting</a>, which gives meaning to comparison between arrays of different dimensions.</p>
</div>
<div class="post-text" itemprop="text">
<p>The &gt; is comparing the hidden prob (a float in this case) against each item in a 2d numpy array and returning a 2d array of boolean values:</p>
<pre><code>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.random.randn(3,2)array([[-0.74615339, -1.22667606],
       [ 0.22729787,  0.72070398],
       [-1.06876014,  0.06367189]])
&gt;&gt;&gt; 5.  &gt;  np.random.randn(3,2)
array([[ True,  True],
       [ True,  True],
       [ True,  True]], dtype=bool)
&gt;&gt;&gt; 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Due to operator overloading, the <code>&gt;</code> operator can do practically anything -- it simply invokes the <code>__gt__</code> special method on the object. But absent any other information, I would expect it to simply evaluate "greater than" and return a <code>bool</code> value.</p>
</div>
<span class="comment-copy">refer here <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.greater.html#numpy.greater" rel="nofollow noreferrer">docs.scipy.org/doc/numpy/reference/generated/â€¦</a></span>
<span class="comment-copy"><a href="http://stackoverflow.com/questions/1061283/lt-instead-of-cmp">stackoverflow.com/questions/1061283/lt-instead-of-cmp</a> &amp; <a href="https://docs.python.org/3/reference/datamodel.html#object.__lt__" rel="nofollow noreferrer">docs.python.org/3/reference/datamodel.html#object.__lt__</a></span>
