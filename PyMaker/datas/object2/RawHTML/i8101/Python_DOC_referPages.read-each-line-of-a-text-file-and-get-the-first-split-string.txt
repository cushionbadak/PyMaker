<div class="post-text" itemprop="text">
<p>I want to read a text file <strong>link123.txt</strong> from my python code. The text file contains 3 lines.</p>
<pre><code>www.link1.com | linkname1
www.link2.com | linkname2
www.link3.com | linkname3
</code></pre>
<p>I need to assign the first portion(url) of the line in "target" variable &amp; second portion(link name) to "name" variable(for further usage).</p>
<p>So far the code:</p>
<pre><code>f = open("link123.txt")
target = [url.strip() for url in f.readlines()]
f.close()
</code></pre>
<p>My question is how can I get two value from a line which is split by (" | ")
Any guidance would be much appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Instead of</p>
<pre><code>target = [url.strip() for url in f.readlines()]
</code></pre>
<p>use</p>
<pre><code>pairs  = [line.strip().split(' | ') for line in f.readlines()]

target = [pair[0] for pair in pairs]
name   = [pair[1] for pair in pairs]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow noreferrer"><code>str.split</code></a> to split string by delimiter:</p>
<pre><code>&gt;&gt;&gt; 'www.link1.com | linkname1'.split(' | ')
['www.link1.com', 'linkname1']
</code></pre>
<p>Then, use iterable-unpacking (or multiple assignment) to save to variables:</p>
<pre><code>&gt;&gt;&gt; target, name = 'www.link1.com | linkname1'.split(' | ')
&gt;&gt;&gt; target
'www.link1.com'
&gt;&gt;&gt; name
'linkname1'
</code></pre>
<hr/>
<pre><code>with open("link123.txt") as f:
    for line in f:
        target, name = line.strip().split(' | ')
        # Do something with `target`, `name`
</code></pre>
<p>NOTE: Iterating file object will yield lines. You don't need to use <code>file.readlines()</code> which returns a list of all lines unless you need all lines at once.</p>
<hr/>
<p><strong>UPDATE</strong></p>
<p>If you want list of targets, names, you can use <code>zip</code>:</p>
<pre><code>&gt;&gt;&gt; rows = [['link1', 'name1'], ['link2', 'name2'], ['link3', 'name3']]
&gt;&gt;&gt; zip(*rows)
[('link1', 'link2', 'link3'), ('name1', 'name2', 'name3')]
# In Python 3.x, zip will return `zip` object instead of list.
</code></pre>
<hr/>
<pre><code>with open("link123.txt") as f:
    targets, names = zip(*[line.strip().split(' | ') for line in f])
    # targets, names = map(list, zip(...))   # if you want lists isntead of tuples
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Do you need all the names and all the targets in a different variables, e.g.:</p>
<pre><code>In [1]:
with open("link123.txt") as f:
    targets, names = zip(*[url.strip().split(' | ') for url in f])
targets, names

Out[1]:
(('www.link1.com', 'www.link2.com', 'www.link3.com'), 
 ('linkname1', 'linkname2', 'linkname3'))
</code></pre>
<p>But you may want to consider holding them in a dict:</p>
<pre><code>In [2]
with open("link123.txt") as f:
    data = [dict(zip(['target', 'name'], url.strip().split(' | '))) for url in f]
data

Out[2]:
[{'name': 'linkname1', 'target': 'www.link1.com'},
 {'name': 'linkname2', 'target': 'www.link2.com'},
 {'name': 'linkname3', 'target': 'www.link3.com'}]
</code></pre>
</div>
<span class="comment-copy">So you only need the first line of the file?</span>
<span class="comment-copy">@timgeb: No he needs to divide each line on <code>|</code> and save them in respective variables.</span>
<span class="comment-copy">Take a look at the split command. <a href="https://docs.python.org/2/library/string.html#string.split" rel="nofollow noreferrer">docs.python.org/2/library/string.html#string.split</a> and a example of usage in <a href="http://www.pythonforbeginners.com/dictionary/python-split" rel="nofollow noreferrer">pythonforbeginners.com/dictionary/python-split</a></span>
