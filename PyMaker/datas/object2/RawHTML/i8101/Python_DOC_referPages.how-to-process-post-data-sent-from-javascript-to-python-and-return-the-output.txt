<div class="post-text" itemprop="text">
<p>I'm not too familiar with python and how it should work with my code. 
I'm trying to POST data to python script and get the return from it, but it seems the python script is not receiving it. I have tried to look here for various posts but still confused why this is not working as i want it to.
Am I missing something?</p>
<p>My JS:</p>
<pre><code>var x=[1,1,2,2,3,3], y=[4,2,2,6,5,4];

function testArraytoJSON(){
  var ourJSON = {'x':x,'y':y}
    console.log(ourJSON);
    $.post('test.py', JSON.stringify(ourJSON),function(data){
      console.log(data);
      console.log('returned');
    },'json');
  };
</code></pre>
<p>Here is the HTML:</p>
<pre><code>&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;PYthon Post Test&lt;/title&gt;
  &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;&lt;/script&gt;
  &lt;script src='hello.js'&gt;&lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
   &lt;button onclick="testArraytoJSON()"&gt;HERE&lt;/button&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>The Python script:</p>
<pre><code>#!/usr/bin/python
import sys, json,
import numpy as np

# Feature scaling to range of 0-255
def scale(data):
    data[:] = [(255*(x - min(data)) / (max(data) - min(data)) ) for x in data]
    return(data)

def twoDColorPalette(x,y,greenValue=0):
    if len(x) != len(y):
        raise ValueError('x and y values needs to be the same length')
    else:
        x[:] = scale(x)
        y[:] = scale(y)
        return(np.column_stack( (x, [greenValue] * len(x), y) ) )

# Load the data that PHP sent us
try:
    data = json.loads(sys.argv[1])
    x = data['x']
    y = data['y']
    twoDColorPalette(x, y)

except:
    print "ERROR"
    sys.exit(1)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You say in the comments that this is supposed to be run via CGI, but you haven't structured it as a CGI script at all. </p>
<p>CGI scripts don't read from command-line parameters; they take input via stdin, and Python provides the <a href="https://docs.python.org/3/library/cgi.html#using-the-cgi-module" rel="nofollow noreferrer"><code>cgi.FieldStorage</code> class</a> for processing those parameters and accessing them via a dictionary-like interface.</p>
<p>Also, your script does nothing with the result of your function; it simply throws it away. A CGI script needs to write a response to stdout, which 
must be in HTTP format: ie, one or more header lines, a blank line, then the output. In a Python CGI script, you can produce these simply via <code>print</code>.</p>
<p>Note that you are very cleverly hiding any of the useful error information Python would give you, by including a catch-all <code>except</code> clause that simply prints 'ERROR'. <strong>Don't do that</strong>. Exceptions exist for a reason, which is to show you exactly what went wrong. Remove that try/except.</p>
</div>
<span class="comment-copy">How is this Python script supposed to be running? Python is not PHP, you can't just plonk it on a server and expect it to work. How have you configured your server to run Python scripts?</span>
<span class="comment-copy">Can you provide network log? You can use Chrome DevTools or Fiddler to get it.</span>
<span class="comment-copy">@DanielRoseman I'm confused what you mean? I have XAMMP running and i have set the cgi scripts to work with .py file types. Should I do something else?</span>
<span class="comment-copy">@DanielRoseman I'll give it a try thanks. I really don't have clue here since I have 0 experience with Python, I just need to send a JSON(or arrays if could) to python script and get a processed Data back. Like here we send x,y co-ordinates and it generates a color for each point. Which i will use in JS to plot a graph where each point is colored based on the python output</span>
<span class="comment-copy">thanks for this, it really helped and i managed to make it work by reading from stdin and then printing to stdout</span>
<span class="comment-copy">It worked when i was using the XAMPP apache server on my local host, but after moving things to the linux server with apache it seems to give me  403 (Forbidden), even though I have same settings</span>
