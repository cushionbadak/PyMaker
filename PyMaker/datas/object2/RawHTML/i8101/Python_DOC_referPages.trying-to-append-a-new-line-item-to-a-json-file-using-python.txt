<div class="post-text" itemprop="text">
<p>I am trying to add a new line item to my json file for shipstation. I have the following python code which allows me to change the value of a key:</p>
<pre><code>resp['items'][0]['sku'] = 'DISCOUNT3'
</code></pre>
<p>but i want to add a new <code>"items"</code> key</p>
<pre><code>resp['items'][1]['sku'] = 'DISCOUNT3'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Adding a new item to the list in Python is done with <code>append()</code> method:</p>
<pre><code>new_object = {'sku': 'DISCOUNT3'}
resp['items'].append(new_object)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You do not mention the type of <code>resp['items']</code>.</p>
<p>Actually, if your <code>resp['items']</code> is a <strong>list object</strong>, you cannot add a key to it, only an element. You can do it as follows</p>
<pre><code>&gt;&gt;&gt; resp['items'].append({'sku':'DISCOUNT3'}) # if resp['items'] is empty, it will be located at index 0
&gt;&gt;&gt; resp['items'].append({'sku':'DISCOUNT3'}) # will be located at index 1
&gt;&gt;&gt; resp['items']
[{'sku': 'DISCOUNT3'}, {'sku': 'DISCOUNT3'}]
</code></pre>
<p>But <code>resp['items']</code> is very unlikely to be a list, since you are about two add two identical elements. If <code>resp['items']</code> is a <strong>dictionary object</strong>, what you may want to do is</p>
<pre><code>&gt;&gt;&gt; resp['items'][0] = {'sku':'DISCOUNT3'}
&gt;&gt;&gt; resp['items'][1] = {'sku':'DISCOUNT3'}
&gt;&gt;&gt; resp['items']
{0: {'sku': 'DISCOUNT3'}, 1: {'sku': 'DISCOUNT3'}}
</code></pre>
<hr/>
<p>Or, since it is not easy to figure out what you really ask/want, know that keys in python dictionaries are <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">unique</a>. Which means that if you want to create a new key with <code>'DISCOUNT3'</code> as associated value, you will have, in one way or another, to add a new key. E.g.</p>
<pre><code>resp['items'][0]['sku'] = 'DISCOUNT3'
resp['items'][0]['new_sku'] = 'DISCOUNT3'
</code></pre>
<p>And, be <code>resp['items']</code> a list or a dictionnary, it will be identical with this other pointer</p>
<pre><code>resp['items'][1]['sku'] = 'DISCOUNT3'
resp['items'][1]['new_sku'] = 'DISCOUNT3'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>this worked thanks all</p>
<p>new_object = {'sku': 'miscellaneous','name': 'Miscellaneous','quantity': 1,'unitPrice': 5.00}
resp['items'].append(new_object)</p>
</div>
<span class="comment-copy">Can you provide a code snippet which you are using to add new items?</span>
<span class="comment-copy">dictionary keys must be unique so you can't add new thing keyed with <code>items</code> in <code>resp</code>. You want <code>resp['items'].append({"sku": "DISCOUNT4"})</code>?</span>
<span class="comment-copy">It would be nice to write a reason for downvoting next time ;)</span>
<span class="comment-copy">this is a snippert from the json file i want to add to</span>
<span class="comment-copy">"items": [     {       "adjustment": false,       "createDate": "2017-05-12T06:48:38.997",       "fulfillmentSku": null,       "imageUrl": null,       "lineItemKey": null,       "modifyDate": "2017-05-12T06:48:38.997",       "name": "DISCOUNT_TOTAL_ZOEY",       "options": [],       "orderItemId": 84406181,       "productId": 10443850,       "quantity": 1,       "shippingAmount": null,       "sku": "DISCOUNT3",       "taxAmount": null,       "unitPrice": -109.95,       "weight": {         "WeightUnits": 1,         "units": "ounces",         "value": 16.00       }     }</span>
