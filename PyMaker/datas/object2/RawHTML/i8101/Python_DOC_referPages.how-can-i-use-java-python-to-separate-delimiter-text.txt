<div class="post-text" itemprop="text">
<p>This topic has been discussed a lot but mine is more complicated. The delimiter in the text file is not just , or any single delimiter but two types of delimiter. "is the delimiter between different fields.</p>
<p>For example: </p>
<pre class="lang-none prettyprint-override"><code>þIDþ"þNameþ"þAddressþ    
þ1þ"þtest1þ"þt"est1þ    
þ2þ"þt"est2þ"þtest2þ
</code></pre>
<p>I am going to read those lines, separate those elements and then store them into database.</p>
<p>The database table will be like: </p>
<pre class="lang-none prettyprint-override"><code>ID   Name    Address
 1   test1   t"est1 
 2   t"est2   test2 
</code></pre>
<p>Which is the best way to get this result? Split will not work. Pattern?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can accomplish this by using the <code>|</code> operator.</p>
<pre><code>Scanner scanner = new Scanner(System.in).useDelimiter("\\sþ\\s|\\s¶\\s");
String next = scanner.next();
System.out.println(next);
System.out.println(scanner.next());
System.out.println(scanner.next());
</code></pre>
<p>Running this should output:</p>
<pre><code>ID
Name
Address
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have data that has delimiters and quoting. The quoting allows the delimiter to also be used in the column values. Here the delimiter is the <code>"</code> character, and <code>þ</code> is the quote character.</p>
<p>The Python <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer"><code>csv</code> module</a> can handle both directly; just set the <code>quotechar</code> and <code>delimiter</code> options:</p>
<pre><code>import csv

with open(filename, 'r', newline='') as inputfile:
    reader = csv.reader(inputfile, delimiter='"', quotechar='þ')
    for row in reader:
        # handle the row
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; import csv
&gt;&gt;&gt; from io import StringIO
&gt;&gt;&gt; data = StringIO('''\
... þIDþ"þNameþ"þAddressþ
... þ1þ"þtest1þ"þt"est1þ
... þ2þ"þt"est2þ"þtest2þ
... ''')
&gt;&gt;&gt; reader = csv.reader(data, delimiter='"', quotechar='þ')
&gt;&gt;&gt; for row in reader:
...     print(row)
...
['ID', 'Name', 'Address']
['1', 'test1', 't"est1']
['2', 't"est2', 'test2']
</code></pre>
</div>
<span class="comment-copy">So your input has <code>þ</code> "quotes" around the columns, and the headers also have <code>¶</code> delimiters? Why don't the rows not have that delimiter?</span>
<span class="comment-copy">sorry, I put it there but stackflow changed my original one. I do not know why so i changed ¶ to ". Thanks.</span>
<span class="comment-copy">So you have <code>"</code> as the delimiter, and <code>þ</code> quotes. The Python <code>csv</code> module can handle that <i>directly</i>, just configure the quote and delimiter characters.</span>
<span class="comment-copy">Perfect! I will use this one since I use java a lot.Thanks so much</span>
<span class="comment-copy">This'll fail to parse the delimiters inside the values correctly: <code>1þ"þtest1þ"þt"est1þ</code> will be parsed to <code>1</code>, <code>test1</code>, <code>t</code>, <code>est1</code>.</span>
<span class="comment-copy">That makes it so simple. I did not use python so much but i am starting. That is great. I will try. Thank you for providing the code.</span>
