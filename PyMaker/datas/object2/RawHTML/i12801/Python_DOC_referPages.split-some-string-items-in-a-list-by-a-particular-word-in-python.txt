<div class="post-text" itemprop="text">
<p>i have a list which contains some string items</p>
<pre><code>res = ["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'KIDS' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'FANTASY' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME =='Mumbai' &amp; EVENT_GENRE == 'FESTIVAL' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'WORKSHOP' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'EXHIBITION' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'",
"FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'"]
</code></pre>
<p>i want to iterate over all list items and</p>
<p>1.remove a word phrase if start with count_     (in between two &amp; character)</p>
<p>out put should be like</p>
<pre><code>res = ["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'KIDS'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'FANTASY'",
 "FAV_VENUE_CITY_NAME =='Mumbai' &amp; EVENT_GENRE == 'FESTIVAL'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'WORKSHOP'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'EXHIBITION'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'",
 "FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'"]
</code></pre>
<p>i have tried something like </p>
<pre><code>for x in res:
    regex = re.compile('count_')   #setting a search cateory
    matches = [string for string in res if re.match(regex, string)]  # finding all matches
    resfinal = [x for x in res if x not in matches]
</code></pre>
<p>But not successful.  I know i am missing some reg operation  tricks ,but not getting it. Please suggest with some codelines.</p>
</div>
<div class="post-text" itemprop="text">
<p>You don't need a regex.</p>
<pre><code>&gt;&gt;&gt; res = ["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'KIDS' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'FANTASY' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME =='Mumbai' &amp; EVENT_GENRE == 'FESTIVAL' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'WORKSHOP' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'EXHIBITION' &amp; count_EVENT_GENRE &gt;= 1",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'",
"FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'",
"FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'"]
&gt;&gt;&gt; [' &amp; '.join(x for x in i.split(' &amp; ') if not x.startswith('count_')) for i in res]
["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'KIDS'", "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'FANTASY'", "FAV_VENUE_CITY_NAME =='Mumbai' &amp; EVENT_GENRE == 'FESTIVAL'", "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'WORKSHOP'", "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'EXHIBITION'", "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'", "FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'", "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'", "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'"]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think you are using the wrong datatype. Consider trying to build a list of dicts if you want to extract any more information from these strings. If you insist on keeping your list items strings, try this:</p>
<pre><code>import re
regex = re.compile(r'( &amp;|^)\s*count_.*?(&amp; |$)')
new_res = []
for line in res:
    match = regex.search(line)
    if match:
        groups = match.groups()
        replacement = groups[0] if groups[0] and groups[1] else ''
        new_res.append(
            line[:m.start()] + replacement + line[m.end():]
        )
    else:
        new_res.append(line)
res = new_res
del new_res
</code></pre>
<p>The magic is in the regular expression. It matches ' &amp;' or the beginning of a string, then only space characters until 'count_', then anything else and finally a finishing '&amp; ' or the end of the string. '*?' is to make sure it makes a match as small as possible.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/re.html#re.match" rel="nofollow"><code>re.match()</code> == <code>re.search('^regex')</code></a></p>
<p>So <code>re.match(regex, string)</code> will check if the string is starts with <code>count_</code>, not search in in the string. So you should use <code>re.search()</code> instead of <code>re.match()</code>:</p>
<pre><code>for x in res:
    regex = re.compile('count_')   #setting a search cateory
    matches = [string for string in res if re.search(regex, string)]  # finding all matches
    resfinal = [x for x in res if x not in matches]
</code></pre>
<p>Output:</p>
<pre><code>["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'",
 "FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'",
 "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'"]
</code></pre>
<p>But <code>if x not in matches</code> will remove the string if there's <code>count_</code> in it. I think you should use:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; res = ["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'KIDS' &amp; count_EVENT_GENRE &gt;= 1",
... "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'FANTASY' &amp; count_EVENT_GENRE &gt;= 1",
... "FAV_VENUE_CITY_NAME =='Mumbai' &amp; EVENT_GENRE == 'FESTIVAL' &amp; count_EVENT_GENRE &gt;= 1",
... "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'WORKSHOP' &amp; count_EVENT_GENRE &gt;= 1",
... "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'EXHIBITION' &amp; count_EVENT_GENRE &gt;= 1",
... "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'",
... "FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'",
... "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'",
... "FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'"]

&gt;&gt;&gt; for x in res:
...     resfinal = [re.sub(' &amp; count_.*(?= &amp; )', '', x) for x in res]  # remove all things after that ` &amp; count_`
</code></pre>
<p>Demo: </p>
<pre><code>&gt;&gt;&gt; for i in resfinal:
...     print(i)
...     
... 
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'KIDS'
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'FANTASY'
FAV_VENUE_CITY_NAME =='Mumbai' &amp; EVENT_GENRE == 'FESTIVAL'
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'WORKSHOP'
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; EVENT_GENRE == 'EXHIBITION'
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|DRAMA|'
FAV_VENUE_CITY_NAME = 'Mumbai' &amp;  &amp; FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_GENRE == '|COMEDY|'
FAV_VENUE_CITY_NAME == 'Mumbai' &amp; FAV_LANGUAGE == 'Hindi'
&gt;&gt;&gt; 
</code></pre>
</div>
<span class="comment-copy">@Kevin-if there is something more after the count_ phrase end then your code is deleting that part also...for example res = ["FAV_VENUE_CITY_NAME == 'Mumbai' &amp; count_EVENT_GENRE &gt;= 1 &amp; EVENT_GENRE == 'KIDS'"]</span>
<span class="comment-copy">@Satya: Oops, forgot that. What about know? Added a <code>(?= &amp; )</code>.</span>
<span class="comment-copy">:now this works fine.Thanks.</span>
