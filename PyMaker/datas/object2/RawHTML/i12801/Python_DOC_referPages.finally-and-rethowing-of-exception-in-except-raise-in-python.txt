<div class="post-text" itemprop="text">
<pre><code>try:
   #error code
except Exception as e:
   print 'error',e
   raise miexp("malicious error")  
   #userdefined exception, miexp
finally:
   print 'finally'
</code></pre>
<p>Why the output is in the following formats?</p>
<p>Output: </p>
<pre><code>error
finally
malicious error
</code></pre>
<p>Actually I expected as:</p>
<pre><code>error
malicious error
finally
</code></pre>
<p>Why so?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>miexp("malicious error")</code> isn't handled, therefore it will end the execution of the program. On the other hand, the <code>finally</code> block is <em>guaranteed</em> to be executed. </p>
<p>To ensure this Python executes the <code>finally</code> block <em>before</em> actually raising the exception. From the <a href="https://docs.python.org/3/reference/compound_stmts.html#finally" rel="noreferrer">documentation</a>:</p>
<blockquote>
<p>If an exception occurs in any of the clauses and is not handled, the exception is temporarily saved. The finally clause is executed. If there is a saved exception it is re-raised at the end of the finally clause.</p>
</blockquote>
</div>
