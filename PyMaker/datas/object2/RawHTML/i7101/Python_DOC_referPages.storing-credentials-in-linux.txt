<div class="post-text" itemprop="text">
<p>I need to access a service which requires a username and password, and i do not wish to store this in the code. The code runs on a linux server with kerberos.</p>
<p>Can anybody point to examples which allow me to store a password on linux with python or bash shell from linux?</p>
<p>At the moment i am using a clear text password in a file with permissions for only the current user.</p>
<p>I have been pointed to a guide using powershell:</p>

#

<pre><code>#The following command create a txt file containing a encrypted version of
#the password string (in this example "P@ssword1"). This is something you do once while
#logged on as the account that will eventually decrypt the password
#######################################################################################
"P@ssword1" | ConvertTo-SecureString -AsPlainText -Force | ConvertFrom-SecureString | Out-File "C:\Temp\Password.txt"


#######################################################################################
#In your script that are using the encrypted password, you can do the following:
#######################################################################################
# 1) Read the encrypted password from the txt file and convert it to a SecureString object
$pass = Get-Content "C:\Temp\Password.txt" | ConvertTo-SecureString

# 2) Convert the SecureString object to a plain text variable that can be used in the script
#The decrypted password is now available in the $UnsecurePassword variable.
$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($pass)
$UnsecurePassword = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR)
cls
Write-Host $UnsecurePassword
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For storing config values I'd recommend using <a href="https://docs.python.org/3/library/configparser.html" rel="nofollow noreferrer">configparser</a> which will allow you to store any kinds of config and parameters in a config file.</p>
<p>Storing usernames and passwords is, of course, very sensitive. One way would be to encrypt the data with a master key that is only known to you and not hardcoded anywhere. Instead, each time you run or start your script, you could just prompt for that master key and then decrypt the encrypted password stored in the config file. This approach is explained <a href="https://stackoverflow.com/a/12047153/3628578">here</a>. </p>
</div>
<span class="comment-copy">There's not much point in putting an encrypted password in the file. The script will have to contain the decryption key, so anyone who can read the script will be able to decrypt the password in the file.</span>
<span class="comment-copy">@Barmar &gt;&gt; there is some Windows magic involved in the Powershell trick, i.e. if you copy the encrypted file to another machine or access it from another user's session you won't be able to use the "automagic" key. OK, there are multiple privilege escalation issues in Windows but that's another matter...</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/7014953/i-need-to-securely-store-a-username-and-password-in-python-what-are-my-options">I need to securely store a username and password in Python, what are my options?</a></span>
