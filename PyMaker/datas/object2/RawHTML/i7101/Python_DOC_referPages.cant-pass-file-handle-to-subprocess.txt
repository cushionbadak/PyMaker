<div class="post-text" itemprop="text">
<p>I created a file in the current directory with <code>echo "foo" &gt; foo</code>. I then tried to pass that file to <code>subprocess.run</code>, but I seem to misunderstand how file paths are handled in Python, since I'm getting an error. What's wrong? </p>
<p>My test code</p>
<pre><code>with open('foo') as file:
    import subprocess
    subprocess.run(['cat',file])
</code></pre>
<p>yields</p>
<pre><code>TypeError: expected str, bytes or os.PathLike object, not _io.TextIOWrapper
</code></pre>
<p>What is a <code>PathLike</code> object? How to I get it from <code>open('foo')</code>? Where can I find more information about how files are handled in Python?</p>
</div>
<div class="post-text" itemprop="text">
<p>There's no need to open the file in the first place. You can simply run</p>
<pre><code>import subprocess
subprocess.run(['cat', 'foo'])
</code></pre>
<p>The <code>cat</code> command is being run as a shell command by your machine, so you should just be able to pass the file name as a string.</p>
<p>Python does not handle the file at all. The point of subprocess is to pass a command to the underlying system (in this case, apparently a UNIX based OS). All you are doing is passing a plaintext command to the command line.</p>
<p>I won't, however, discourage you from reading about file handling. Look at <a href="https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">this</a> documentation.</p>
</div>
<div class="post-text" itemprop="text">
<p>PathLike object: <a href="https://docs.python.org/3/library/os.html#os.PathLike" rel="nofollow noreferrer">docs</a></p>
<p>How to get it from the <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">open</a> call's <a href="https://docs.python.org/3/glossary.html#term-file-object" rel="nofollow noreferrer">return value</a>:</p>
<p>Use the <code>name</code> field  </p>
<pre><code>subprocess.run(['cat',file.name])
</code></pre>
<p>Learn about python files: <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">Reading and writing files</a></p>
</div>
<span class="comment-copy">It requires a <i>string-like</i> or <code>PathLike</code> object. Just pass it <code>'foo'</code>. Why are you <code>open</code>ing the file, anyway?</span>
<span class="comment-copy">In contrast to "path like", there's so called <a href="https://docs.python.org/3/glossary.html#term-file-object" rel="nofollow noreferrer">"file like" objects</a> (like the one you tried to pass to <code>subprocess.run()</code>). In short, those are file handles that allow you to operate on files (or streams, generally speaking) <i>from inside Python</i>, with methods like <code>read()</code> and <code>write()</code>.</span>
