<div class="post-text" itemprop="text">
<p>I'm having issues calling functions from the command line with argparse. I just want it to execute one of the functions defined in the script.</p>
<pre><code>import os
import shutil
import getpass
import argparse


user = getpass.getuser()
copyfolders = ['Favorites']

parser = argparse.ArgumentParser()
parser.add_argument('e', action='store')
parser.add_argument('i', action='store')
args = parser.parse_args()


def exp(args):
    for folder in copyfolders:
        c_path = os.path.join("C:", "/", "Users", user, folder)
        l_path = os.path.join("L:", "/", "backup", folder)
        shutil.copytree(c_path, l_path)

def imp(args):
    for folder in copyfolders:
        l_path = os.path.join("L:", "/", "backup", folder)
        c_path = os.path.join("C:", "/", "Users", user, folder)
        shutil.copytree(l_path, c_path)
</code></pre>
<p>When I try to call it with an argument I get:</p>
<blockquote>
<p>error the follow arguments are required: i</p>
</blockquote>
<p>No matter what argument is passed.</p>
</div>
<div class="post-text" itemprop="text">
<p>A couple of problems here:</p>
<ol>
<li>You can't use <a href="https://docs.python.org/3/library/argparse.html#action" rel="nofollow noreferrer"><code>action</code></a> to call a defined function directly. However, you can set it to a boolean variable value using <code>action='store_true'</code> and then define your logic what to do when that variable is true (or false)</li>
<li>Your functions <a href="https://stackoverflow.com/a/1909389/1312080">have to be defined before you call them</a> in the script.</li>
</ol>
<p>This is what ended up working for me:</p>
<pre><code>def exp(arg):
    #replace below with your logic
    print("in exp for %s" % arg)

def imp(arg):
    #replace below with your logic
    print("in imp for %s" % arg)

user = getpass.getuser()
copyfolders = ['Favorites']

parser = argparse.ArgumentParser()

#make sure to prefix the abbreviated argument name with - and the full name with --
parser.add_argument('-e', '--exp', action='store_true', required=False)
parser.add_argument('-i', '--imp', action='store_true', required=False)
args = parser.parse_args()

isExp = args.exp
isImp = args.imp

if isExp:
    exp("foo")

if isImp:
    imp("bar")
</code></pre>
<p>Also, make sure to prefix the abbreviated argument name with <code>-</code> and the full name with <code>--</code>.</p>
</div>
<span class="comment-copy">What command are you using from the command line to execute the script?  Where in the script are either of the functions <code>exp()</code> or <code>imp()</code> ever called (it appears they are only defined)?</span>
<span class="comment-copy">Have you tried with two arguments?  <code>python script.py arg1 arg2</code></span>
