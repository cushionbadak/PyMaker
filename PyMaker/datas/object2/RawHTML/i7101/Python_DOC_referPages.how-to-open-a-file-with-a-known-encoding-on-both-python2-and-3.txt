<div class="post-text" itemprop="text">
<p>When opening a file known to be utf-8 on a script that needs to be Py2 &amp; 3 compatible. Is there a nicer way to do it than this:</p>
<pre><code>if sys.version_info &lt; (3, 0):
    long_description = open('README').read()
else:
    long_description = open('README', encoding='utf-8').read()
</code></pre>
<p>Calling <code>open('README').read()</code> on Python3.x causes encoding error for systems that default to <code>ascii</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use the <code>io.open</code> function, which is the built-in <code>open()</code> in Python 3.</p>
<pre><code>from io import open
long_description = open('README', encoding='utf-8').read()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/codecs.html#codecs.open" rel="nofollow noreferrer"><code>codecs.open</code></a>. It's cross-Python compatible:</p>
<pre><code>import codecs
long_description = codecs.open('README', encoding='utf-8').read()
</code></pre>
</div>
