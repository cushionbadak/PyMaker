<div class="post-text" itemprop="text">
<p>I would like to use assertions, so that my script exists, when assertions fail.</p>
<p>For that I wrote an own function, which stops the script</p>
<pre><code>def assertExit(mlambda, errorMessage):
    res = mlambda()
    if res != True:
        sys.exit(errorMessage)

assertExit((lambda: False), "Should fail")
</code></pre>
<p>Is there a way to do that with pythons native assertions?</p>
<pre><code>assert False # should exit the script
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As has been pointed out, an unhandled <code>AssertionError</code>, as thrown by <code>assert</code>, should already stop your script. </p>
<p><code>assert</code> always fails if the condition being tested doesn't evaluate to <code>True</code>. That is, <a href="https://docs.python.org/3/reference/simple_stmts.html#assert" rel="nofollow noreferrer">as long as you do not start in optimized mode</a>, in which case it will not throw an <code>AssertionError</code>.</p>
<p>So</p>
<pre><code>def assert_exit(condition, err_message):
    try:
        assert condition
    except AssertionError:
        sys.exit(err_message)
</code></pre>
<p>Should be what you want, if you absolutely want to call <code>sys.exit()</code> and use <code>assert</code>, although</p>
<pre><code>assert condition
</code></pre>
<p>will stop your script just as fine and provide a <code>stacktrace</code>, which saves you the trouble of entering a custom error message each time you call <code>assert_exit</code>, and points you directly to the offending party.</p>
</div>
<span class="comment-copy">Native assertions will raise an exception if they fail, which will terminate the application unless you catch it.</span>
<span class="comment-copy">Simply <i>not catching</i> <code>AssertionError</code>s should do the trickâ€¦ why do you need an even more direct <code>exit</code>?</span>
<span class="comment-copy">you are right, failed assertions do stop the script already. I was confused, because the logs order was wrong, and in the logs, after assertion exception, some output was logged</span>
