<div class="post-text" itemprop="text">
<p>I have a python unittest like below , I want to run this whole Test N Number of times</p>
<pre><code>class Test(TestCase)

    def test_0(self):
            .........
            .........
            .........

Test.Run(name=__name__)
</code></pre>
<p>Any Suggestions?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use parameterized tests. There are different modules to do that. I use nose to run my unittests (more powerful than the default unittest module) and there's a package called nose-parameterized that allows you to write a factory test and run it a number of times with different values for variables you want.
If you don't want to use nose, there are several other options for running parameterized tests.</p>
<p>Alternatively you can execute any number of test conditions in a single test (as soon as one fails the test will report error). In your particular case, maybe this makes more sense than parameterized tests, because in reality it's only one test, only that it needs a large number of runs of the function to get to some level of confidence that it's working properly. So you can do:</p>
<pre><code>import random
class Test(TestCase)

    def test_myfunc(self):
        for _ in range(100):
            input = random.random() 
            self.assertEquals(input, input + 2)


Test.Run(name=__name__) 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>Why because... the test_0 method contains a random option.. so each time it runs it selects random number of configuration and tests against those configurations. so I am not testing the same thing multiple times..</p>
</blockquote>
<p>Randomness in a test makes it non-reproducible. One day you might get 1 failure out of 100, and when you run it again, it’s already gone.</p>
<p>Use a modern testing tool to parametrize your test with a sequential number, then use <a href="https://docs.python.org/3/library/random.html#random.seed" rel="nofollow noreferrer"><code>random.seed</code></a> to have a random <strong>but reproducible</strong> test case for each number in a sequence.</p>
<p>portusato suggests nose, but pytest is a more modern and popular tool:</p>
<pre><code>import random, pytest

@pytest.mark.parametrize('i', range(100))
def test_random(i):
    orig_state = random.getstate()
    try:
        random.seed(i)
        data = generate_random_data()
        assert my_algorithm(data) == works
    finally:
        random.setstate(orig_state)
</code></pre>
<p><a href="https://docs.pytest.org/en/latest/parametrize.html" rel="nofollow noreferrer"><code>pytest.mark.parametrize</code></a> “explodes” your single <code>test_random</code> into 100 individual tests — <code>test_random[0]</code> through <code>test_random[99]</code>:</p>
<pre><code>$ pytest -q test.py
....................................................................................................
100 passed in 0.14 seconds
</code></pre>
<p>Each of these tests generates different, random, but reproducible input <code>data</code> to your algorithm. If <code>test_random[56]</code> fails, it will fail <em>every time</em>, so you will then be able to debug it.</p>
</div>
<span class="comment-copy">The good question is why to you want that? The unittest frameword is intented to allow to test results of methods, so running same test multiple times does not really make sense. And if you want to control execution times, the module to use is <code>timeit</code>.</span>
<span class="comment-copy">Why because... the test_0 method contains a random option.. so each time it runs it selects random number of configuration and tests against those configurations. so I am not testing the same thing multiple times..</span>
<span class="comment-copy">Even running multiple tests against random value is weird. Tests are intended to be run again with always same result specially when you want to control that an evolution has brought no regression. Choose a number  of <i>interesting</i> configurations and test against them. If you want to learn about parameterized test you could have a look at <a href="https://stackoverflow.com/q/32899/3545273">stackoverflow.com/q/32899/3545273</a></span>
