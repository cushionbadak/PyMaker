<div class="post-text" itemprop="text">
<p>I need to find all the elements in an array that are &gt;0 and then replace each one with a random number between 0 and 5 in Python 3.</p>
<p>I have made an array (called L) of 20 elements that each equal 0 or 1, but am struggling to replace elements individually. (However in future this may equal a range of numbers, so I need &gt;0 and not just =1)</p>
<p>I do not want </p>
<pre><code>speed = np.random.randint(0,5) 
L[L &gt; 0] = speed
</code></pre>
<p>as this changed all the elements &gt;0 to the same random number.</p>
<p>Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p>Perhaps this will help you. </p>
<pre><code>from random import *
L = [0,0,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0]

i=0
for n in L:
    x = randint(1, 5)    # Pick a random number between 1 and 5.
    if n &gt; 0:
        L[i] = x
    i+=1
print(L)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Perhaps this?</p>
<p>I instantiate <code>L</code> with a special pattern, so that it should be easy to discern if the code does what's intended.</p>
<pre><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; L = [0, 0, 0, 0, 0, 1, 1, 1, 1, 1]
&gt;&gt;&gt; list(map(lambda x: random.randint(0,5) if x&gt;0 else x, L))
[0, 0, 0, 0, 0, 3, 2, 2, 4, 5]
</code></pre>
<p>I should mention that this code does <em>not</em> replace individual elements in <code>L</code>. It creates a new list. However, unless the list is especially large this would make no difference, in fact might be slightly faster. (This might be why someone down-voted. You just can't please everyone.)</p>
</div>
<span class="comment-copy">Welcome to SO. Unfortunately this isn't a discussion forum or tutorial. Please take the time to read <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a> and the other links on that page.  Invest some time with <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">the Tutorial</a> practicing the examples. It will give you an idea of the tools Python offers to help you solve your problem.</span>
<span class="comment-copy">Create any array of random numbers that is the same shape as <code>L</code> and use the same <i>mask</i> (<code>[L&gt;0]</code>) for the assignment.</span>
<span class="comment-copy">To quote the link you posted, "if your motivation is 'I would like others to explain __ to me', then you are probably OK. " A mask would also not work and I did try this method previously to asking the question.</span>
<span class="comment-copy">Why not <code>L[L &gt; 0] = np.random.randint(0, 5, size=(L&gt;0).sum())</code>?</span>
<span class="comment-copy">Hmm that nearly seems to be working but not quite...It is now giving 2 identical array outputs instead of 1 array</span>
<span class="comment-copy">What about it isn't working? Perhaps I misunderstood what you are trying to do. The above code iterates over an array L containing values of either 0 or 1, and if any value is &gt; 0 it replaces that value with a randomly generated integer between 1 and 5. Is that not what you asked for?</span>
<span class="comment-copy">Yes it is, sorry I solved that second problem so deleted it, but it is still giving 2 lines of array: [1 0 1 0 0 0 4 0 0 0 0 0 1 0 0 4 0 0 0 0] [1 0 1 0 0 0 4 0 0 0 0 0 1 0 0 4 0 0 0 0] instead of just [1 0 1 0 0 0 4 0 0 0 0 0 1 0 0 4 0 0 0 0]</span>
<span class="comment-copy">check your indentations in your IDE, it sounds like you may have the print statement indented within the for loop.</span>
<span class="comment-copy">You are right and I am an idiot, thanks!!</span>
<span class="comment-copy">Thank you for the help! The previous answer replaced the list as I was requested but I shall keep this comment in case it helps someone else :)</span>
<span class="comment-copy">Jenny, you're very welcome.</span>
