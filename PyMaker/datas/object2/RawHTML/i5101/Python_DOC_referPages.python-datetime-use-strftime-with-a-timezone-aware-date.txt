<div class="post-text" itemprop="text">
<p>Suppose I have date <code>d</code> like this : </p>
<pre><code>&gt;&gt;&gt; d 
datetime(2009, 4, 19, 21, 12, tzinfo=tzoffset(None, -7200))
</code></pre>
<p>As you can see, it is "timezone aware", there is an offset of 2 Hour, utctime is </p>
<pre><code>&gt;&gt;&gt; d.utctimetuple() 
time.struct_time(tm_year=2009, tm_mon=4, tm_mday=19, 
                 tm_hour=23, tm_min=12, tm_sec=0, 
                 tm_wday=6, tm_yday=109, tm_isdst=0)
</code></pre>
<p>So, real UTC date is 19th March 2009 <strong>23</strong>:12:00, right ? </p>
<p>Now I need to format my date in string, I use </p>
<pre><code>&gt;&gt;&gt; d.strftime('%Y-%m-%d %H:%M:%S.%f') 
'2009-04-19 21:12:00.000000'
</code></pre>
<p>Which doesn't seems to take this offset into account. How to fix that ? </p>
</div>
<div class="post-text" itemprop="text">
<p>In addition to what @Slam has already answered:</p>
<p>If you want to output the UTC time without any offset, you can do</p>
<pre><code>from datetime import timezone, datetime, timedelta
d = datetime(2009, 4, 19, 21, 12, tzinfo=timezone(timedelta(hours=-2))
d.astimezone(timezone.utc).strftime('%Y-%m-%d %H:%M:%S.%f')
</code></pre>
<p>See <a href="https://docs.python.org/3.6/library/datetime.html#datetime.datetime.astimezone" rel="nofollow noreferrer">datetime.astimezone</a> in the Python docs.</p>
</div>
<div class="post-text" itemprop="text">
<p>The reason is python actually formatting your datetime object, not some "UTC at this point of time"</p>
<p>To show timezone in formatting, use <code>%z</code> or <code>%Z</code>.</p>
<p>Look for <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="nofollow noreferrer">strf docs</a> for details</p>
</div>
<div class="post-text" itemprop="text">
<p>This will convert your local time to UTC and print it:</p>
<pre><code>import datetime, pytz
from dateutil.tz.tz import tzoffset

loc = datetime.datetime(2009, 4, 19, 21, 12, tzinfo=tzoffset(None, -7200))

print(loc.astimezone(pytz.utc).strftime('%Y-%m-%d %H:%M:%S.%f') )
</code></pre>
<p>(<a href="http://pytz.sourceforge.net/" rel="nofollow noreferrer">http://pytz.sourceforge.net/</a>)</p>
</div>
