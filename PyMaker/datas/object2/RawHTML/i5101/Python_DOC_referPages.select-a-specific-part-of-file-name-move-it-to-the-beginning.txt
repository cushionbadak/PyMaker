<div class="post-text" itemprop="text">
<p>I have some video lessons that I want to rename in a specific way with Python. Here is an example file name:</p>
<pre><code>3D Graphics - Crash Course Computer Science #27-TEAtmCYYKZA.en"
</code></pre>
<p>I want to select "27" and move it to the beginning of the file name, and remove the "Crash Course Computer Science #" and "-TEAtmCYYKZA.en" part altogether. So, the output I want would be:</p>
<pre><code>27 - 3D Graphics
</code></pre>
<p>Two more examples: </p>
<pre><code>Advanced CPU Designs - Crash Course Computer Science #9-rtAlC5J1U40
Boolean Logic &amp; Logic Gates - Crash Course Computer Science #3-gI-qXk7XojA
</code></pre>
<p>to: </p>
<pre><code>9 - Advanced CPU Designs
3 - Boolean Logic &amp; Logic Gates
</code></pre>
<p>I know how to do the removing part but I could find how to select the "# number" substring. I found a <code>.split()</code> function but again, I cannot see how I can make it work.</p>
<p>Here is what I wrote so far but I am already stuck on early stages.</p>
<pre><code>import os

def rename():
    file_list = os.listdir(r"D:\Downloads\New folder")

    for file_name in file_list:
        os.rename(file_name, )

rename() 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Given your examples this is easily done without a regular expression like:</p>
<h3>Code:</h3>
<pre><code>def transform_name(filename):
    number = filename.split('#')[1].split('-')[0].strip()
    name = filename.split('-')[0].strip()
    return '{} - {}'.format(number, name)
</code></pre>
<h3>Using in the Example:</h3>
<pre><code>os.rename(existing_filename, transform_name(existing_filename))
</code></pre>
<h3>Test Code:</h3>
<pre><code>test_in = (
    "3D Graphics - Crash Course Computer Science #27-TEAtmCYYKZA.en",
    "Advanced CPU Designs - Crash Course Computer Science #9-rtAlC5J1U40",
    "Boolean Logic &amp; Logic Gates - Crash Course Computer Science #3-gI-qXk7XojA",
)

desired_out = (
    "27 - 3D Graphics",
    "9 - Advanced CPU Designs",
    "3 - Boolean Logic &amp; Logic Gates",
)

for data in zip(test_in, desired_out):
    assert transform_name(data[0]) == data[1], "{} != {}".format(
        transform_name(data[0]), data[1])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I like <a href="https://stackoverflow.com/users/7311767/stephen-rauch"><code>@StephenRauch</code></a>'s answer without a regular expression and this is just to show another option.</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; REGEX = re.compile(r'(?P&lt;name&gt;.+) - .+ #(?P&lt;number&gt;\d+)')
&gt;&gt;&gt; test_in = (
...     "3D Graphics - Crash Course Computer Science #27-TEAtmCYYKZA.en",
...     "Advanced CPU Designs - Crash Course Computer Science #9-rtAlC5J1U40",
...     "Boolean Logic &amp; Logic Gates - Crash Course Computer Science #3-gI-qXk7XojA",
... )
&gt;&gt;&gt; for line in test_in:
...     m = REGEX.match(line)
...     if m:
...         print('{number} - {name}'.format(**m.groupdict()))
... 
27 - 3D Graphics
9 - Advanced CPU Designs
3 - Boolean Logic &amp; Logic Gates
</code></pre>
</div>
<span class="comment-copy">Please update your question the code you have tried, even if it doesn't work. Then we can understand what you are having difficulty with.</span>
<span class="comment-copy">You should post a few more examples of how the filenames look now, and what you are trying to make them into.</span>
<span class="comment-copy">You're probably going to want a <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">regular expression</a></span>
<span class="comment-copy">Why did you edit the answer into the question?</span>
<span class="comment-copy">Frankly, I am not far advanced in Python or programming so I could not implement your code in any way. I understood what you did with splitting the filename two times then combining it again, but I could not proceed from then on. And I did not understand what's happening at Test Code part. I edited and updated the code, now I am getting a " [WinError 2] The system cannot find the file specified" error.</span>
<span class="comment-copy">Test code is just test code.  I generally write it for me, to be quick and easy.  I put it into the answer so that I can retest later if needed.  Is there something the answer code that is not clear?</span>
<span class="comment-copy">I see your confusion from your question edit.  I added a bit more to hopefully clarify how to use the answer.</span>
<span class="comment-copy">Apparently, file extensions were causing some problems, though I do not know why. That is why I struggled so much. I bulk removed extensions from file names with another python script, renamed them all with your code, then added the extension prefix again with another python script. It was not the best way but I still learned a lot, and that was my first goal, not renaming the files. :) Afterall, I could rename them all in 2 minutes manually. Thank you!</span>
