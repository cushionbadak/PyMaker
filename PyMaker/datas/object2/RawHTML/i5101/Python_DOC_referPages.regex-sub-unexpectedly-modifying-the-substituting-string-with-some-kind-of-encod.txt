<div class="post-text" itemprop="text">
<p>I have a path string "...\\JustStuff\\2017GrainHarvest_GQimagesTestStand\\..." that I am inserting into an existing text file in place of another string.  I compile a regex pattern and find bounding text to get the location to insert, and then use regex.sub to replace it.  I'm doing something like this...</p>
<pre><code>with open(imextXML, 'r') as file:
    filedata = file.read()
redirpath = re.compile("(?&lt;=&lt;directoryPath&gt;).*(?=&lt;/directoryPath&gt;)", re.ASCII)
filedatatemp = redirpath.sub(newdir,filedata)
</code></pre>
<p>The inserted text is messed up though, with "\\20" being replaced with "\x8" and "\\"  replaced with "\" (single slash)</p>
<p>i.e.
"...\\JustStuff\\2017GrainHarvest_GQimagesTestStand\\..." becomes
"...\\JustStuff\x817GrainHarvest_GQimagesTestStand\..."</p>
<p>What simple thing am I missing here to fix it?</p>
<h2>Update:</h2>
<p>to break this down even further to copy and paste to reproduce the issue...</p>
<pre><code>t2 = r'\JustStuff\2017GrainHarvest_GQimagesTestStand\te'
redirpath = re.compile("(?&lt;=&lt;directoryPath&gt;).*(?=&lt;/directoryPath&gt;)", re.ASCII)
temp = r"&lt;directoryPath&gt;aasdfgsdagewweags&lt;/directoryPath&gt;"
redirpath.sub(t2,temp)
</code></pre>
<p>produces...</p>
<pre><code>&gt;&gt;'&lt;directoryPath&gt;\\JustStuff\x817GrainHarvest_GQimagesTestStand\te&lt;/directoryPath&gt;'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When you define the string that you want to insert, prefix it with an <code>r</code> to indicate that it is a <a href="https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals" rel="nofollow noreferrer">raw string literal</a>:</p>
<pre><code>&gt;&gt;&gt; rex = re.compile('a')
&gt;&gt;&gt; s = 'path\\with\\2017'
&gt;&gt;&gt; sr = r'path\\with\\2017'
&gt;&gt;&gt; rex.sub(s, 'ab')
'path\\with\x817b'
&gt;&gt;&gt; rex.sub(sr, 'ab')
'path\\with\\2017b'
</code></pre>
</div>
<span class="comment-copy">OK...hmm, newdir does look like "sr" in your example...with double slashes. (I had to correct my post since double slashes in quotes where showing up in the post as a single slash).  It's only after i do the re.sub that it is incorrect and looks like "s" in your example.</span>
<span class="comment-copy">@user3496060 I see, then you should probably define the double backslashed version as a raw string as well</span>
<span class="comment-copy">@user3496060 Already did!</span>
<span class="comment-copy">Sry -- just saw that :-)</span>
