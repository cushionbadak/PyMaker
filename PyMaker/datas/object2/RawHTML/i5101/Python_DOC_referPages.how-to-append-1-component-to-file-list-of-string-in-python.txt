<div class="post-text" itemprop="text">
<p>I have a file youtput.txt, with the following content:</p>
<p><code>["bush", "bush", "harry", "harry", "mark", "mark", "messi", "messi", "obama", "obama", "ronaldo", "ronaldo", "stevejob", "stevejob", "suarez", "suarez", "trump", "trump"]</code></p>
<p>I want to append "test" to this file so that the output will be:</p>
<p><code>["bush", "bush", "harry", "harry", "mark", "mark", "messi", "messi", "obama", "obama", "ronaldo", "ronaldo", "stevejob", "stevejob", "suarez", "suarez", "trump", "trump", "test"]</code></p>
<p>How can I do that?</p>
</div>
<div class="post-text" itemprop="text">
<p>Load the file into a <code>string</code>, <code>strip</code> the new-line, use <code>ast.literal_eval</code> to <a href="https://stackoverflow.com/questions/1894269/convert-string-representation-of-list-to-list-in-python">convert the string to a list</a>, <code>append</code> <code>"test"</code> and finally write to the same file after passing the <code>list</code> into the <code>str()</code> function:</p>
<pre><code>import ast
l = ast.literal_eval(open("youtube.txt").read().strip())
l.append("test")
open("youtube.txt", "w").write(str(l))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this code:</p>
<pre><code>data = None
with open('youroutput.txt') as store:
    data = eval(store.read())
data.append("test")

with open('youroutput.txt', 'w') as dump:
    dump.write(repr(data))
</code></pre>
</div>
<span class="comment-copy">See <a href="https://docs.python.org/3/tutorial/" rel="nofollow noreferrer">docs.python.org/3/tutorial</a>. If you have a more specific query, give a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a>.</span>
<span class="comment-copy">Is that <code>list</code> in the file just plain text (so basically a string)?</span>
<span class="comment-copy">yes, above is its content that I copied</span>
<span class="comment-copy">thank you very much &lt;3 &lt;3. It work perfectly with me :D</span>
<span class="comment-copy"><code>eval</code> is extremely insecure. For instance, what if the contents of <code>"youroutput.txt"</code> were <code>__import__("os").system("rm -rf /")</code>?</span>
<span class="comment-copy">I agree. But <code>eval</code> is okay if the content of the file is under user's control and seeing the beginner-type question, I made that assumption. Anyway, if "youroutput.txt" contained that the OP would get "permission denied" and we would get another question on SO ;-)</span>
<span class="comment-copy">thank you very much :D</span>
<span class="comment-copy">@KietNguyen You are welcome! If this answer worked for you, you can accept it by clicking the tick icon.</span>
