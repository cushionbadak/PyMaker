<div class="post-text" itemprop="text">
<p>TLDR; <code>PyString_FromString</code> doesn't work in Python3.5 so I need an alternative.</p>
<p>I am following an example for including python 3 within a C++ project from this python documentation:
<a href="https://docs.python.org/3/extending/embedding.html" rel="nofollow noreferrer">https://docs.python.org/3/extending/embedding.html</a></p>
<p>Everything is working fine but now I want to change the line that reads:</p>
<p><code>pValue = PyLong_FromLong(atoi(argv[i + 3]));</code></p>
<p>to the following (I also no longer use i, that was from a loop):</p>
<p><code>pValue = PyString_FromString("A string instead of a number");</code></p>
<p>It seems the <code>PyString_FromString</code> function is no longer an option Python3.5 and I get the following error when I compile the code with g++:</p>
<pre><code>main.cpp:559:60: error: ‘PyString_FromString’ was not declared in this scope
         pValue = PyString_FromString("A string instead of a number");`
</code></pre>
<p>Any idea on how I get around this? No matter what I look for I can't seem to find a solution that doesn't throw an error. I need to pass a string to my Python file and I have a string to start with already.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_FromString" rel="noreferrer"><code>PyUnicode_FromString()</code></a></p>
<pre><code>if (!(pValue = PyUnicode_FromString("A string instead of a number")))
  return NULL;
</code></pre>
</div>
<span class="comment-copy">This works perfectly, thank you!</span>
