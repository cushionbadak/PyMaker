<div class="post-text" itemprop="text">
<p>I have two folders. <code>FolderA</code> contains dozens of executables, <code>FolderB</code> contains an initial input file and a subsequent input file (both text files). </p>
<p>I would like to write a script that will do the following:</p>
<ul>
<li>Create folder for each of the executables</li>
<li>Copy corresponding executable and a copy of the initial input file into this new folder</li>
<li>Run executable for this input file</li>
<li>Once process is complete, copy subsequent input file and run executable again</li>
<li>End when this second process is done</li>
</ul>
<p>This could easily be a <code>for</code> loop and I could accomplish this using the <code>os</code> package, unfortunately I'd like to see if there is a way to run this process in parallel for all the executables, or some strategic number of executables at a given iteration.</p>
<p>I've never done parallel processing before and I also have no idea how it can be accomplished for such a two-step execution process. Any help would be most appreciated. Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can easily use <a href="https://docs.python.org/2/library/multiprocessing.html" rel="nofollow noreferrer">multiprocessing</a> for that.
Write a function which runs the entire process for a given executable:</p>
<pre><code>def foo(exe_path):
    do stuff
</code></pre>
<p>Then feed it into map:</p>
<pre><code>import multiprocessing
pool = multiprocessing.Pool(os.cpu_count() - 1)
pool.map(foo, list_of_paths)
</code></pre>
</div>
<span class="comment-copy">Have a look <a href="https://docs.python.org/3/library/multiprocessing.html" rel="nofollow noreferrer">docs.python.org/3/library/multiprocessing.html</a></span>
<span class="comment-copy">I've also been looking into <code>subprocess</code>. Do you think this would also be a good candidate? How about <code>os</code>?</span>
<span class="comment-copy">your question seems too broad, I suggest you write some code first and then submit again if you are stuck</span>
<span class="comment-copy">You're right it is quite broad. I will do some research and try again. Thanks for the tip though</span>
<span class="comment-copy">I recommend writing the script that does the work sequentially first. Then once it's working, go through some tutorial on multiprocessing. Write small script that runs 2 processes in paralelll e.g. <code>ls .</code>. Then combine your new knowledge with your sequential script.</span>
