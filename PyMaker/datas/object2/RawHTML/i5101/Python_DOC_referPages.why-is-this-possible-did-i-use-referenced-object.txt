<div class="post-text" itemprop="text">
<pre><code>d  = {0: {'inCap': 0, 'outCap': 0, 'isNew': True}, 1: {'inCap': 0, 'outCap': 0, 'isNew': True}, 2: {'inCap': 0, 'outCap': 0, 'isNew': True}, 3: {'inCap': 0, 'outCap': 0, 'isNew': True}, 4: {'inCap': 0, 'outCap': 0, 'isNew': True}}

d Out[18]:  {0: {'inCap': 0, 'isNew': True, 'outCap': 0},  1: {'inCap': 0, 'isNew': True, 'outCap': 0},  2: {'inCap': 0, 'isNew': True, 'outCap': 0},  3: {'inCap': 0, 'isNew': True, 'outCap': 0},  4: {'inCap': 0, 'isNew': True, 'outCap': 0}}

d[0]["inCap"] -= 9999

d Out[20]:  {0: {'inCap': -9999, 'isNew': True, 'outCap': 0},  1: {'inCap': 0, 'isNew': True, 'outCap': 0},  2: {'inCap': 0, 'isNew': True, 'outCap': 0},  3: {'inCap': 0, 'isNew': True, 'outCap': 0},  4: {'inCap': 0, 'isNew': True, 'outCap': 0}}

d = dict(zip(range(5),[{"isNew":True,"inCap":0,"outCap":0}]*5))

d[0]["inCap"] -= 9999

d Out[23]:  {0: {'inCap': -9999, 'isNew': True, 'outCap': 0},  1: {'inCap': -9999, 'isNew': True, 'outCap': 0},  2: {'inCap': -9999, 'isNew': True, 'outCap': 0},  3: {'inCap': -9999, 'isNew': True, 'outCap': 0},  4: {'inCap': -9999, 'isNew': True, 'outCap': 0}}
</code></pre>
<p>What is the difference  between these types of defenition?</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes, as Maarten Fabr√© noted: <code>[foo]*5</code> produces a list with 5 references to <code>foo</code>. Python uses references <em>everywhere</em>; when you don't notice is generally because of changing the reference rather than the object it points to. For instance, tuples, strings and numbers are immutable, so you do not change them but point to different objects. <a href="https://nedbatchelder.com/text/names.html" rel="nofollow noreferrer">Facts and myths about Python names and values</a> is one of many articles explaining this subject. </p>
<p>This is why you sometimes see things like <code>[[0]*5 for i in range(5)]</code>; this repeats the creation of the inner list, since the loop evaluates the expression repeatedly. It's not necessary for the inner list itself because <code>0</code> is immutable. We also have a <a href="https://docs.python.org/3/library/copy.html" rel="nofollow noreferrer">copy</a> module that offers both shallow and deep copying. </p>
</div>
<span class="comment-copy"><code>[{"isNew":True,"inCap":0,"outCap":0}]*5</code> is a <code>list</code> with 5 times the elements <code>{"isNew":True,"inCap":0,"outCap":0}</code>. The exact same element. Try <code>[id(i) for i in [{"isNew":True,"inCap":0,"outCap":0}]*5]</code></span>
