<div class="post-text" itemprop="text">
<p>I am having trouble coding the user input variable DOB as a while loop and showing an error if the user does not input dob as dd/mm/yyyy</p>
<p>Any suggestions?</p>
<pre><code>import datetime

while True :
    DOB = input('Date of Birth ')
    try :
        DOB = datetime.datetime.strptime(DOB, "%d//%m//%Y")
    except ValueError:
        print ('Error, Please try again')
    else:
        print("Error: must be format dd/mm/yyyy ")
        userkey = input("press 1 to try again or 0 to exit:")
        if userkey == "1":
            header()
        else:
            sys.exit
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There are a lot of errors here. So bear with me if I seem to be overwhelmingly negative.</p>
<pre><code>DOB = datetime.datetime.strptime(week, "%d//%m//%Y")
</code></pre>
<p>is expecting the input string to be in <code>week</code>, but the <code>input()</code> call actually assigns it to <code>DOB</code>. So you will get <code>NameError: name 'week' is not defined</code>. And you have specified the date format with doubled slashes, <code>%d//%m//%Y</code>, as if the slashes needed to be escaped, but they don't, so you are asking the user to enter <code>12//02//2018</code> which no user is likely to guess, especially as your error prompt does not say this.</p>
<p>Next, you have <code>try..except..else</code>. This doesn't do what you seem to think it does. From the <a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">tutorial</a>:</p>
<blockquote>
<p>The try â€¦ except statement has an optional else clause, which, when present, must follow all except clauses. It is useful for code
  that must be executed if the try clause does not raise an exception.</p>
</blockquote>
<p>In other words, even if the user <em>does</em> succeed in entering a "valid" date, double slashes and all, your code issues the message <code>Error: must be format dd/mm/yyyy</code>. </p>
<p>After that, if the user makes an error and presses <code>1</code> to try again, your exception handler calls <code>header()</code>, which doesn't exist, and so the program will fail. And if the user presses <code>0</code> your exception handler attempts to call <code>sys.exit()</code>, but there is no <code>import sys</code>, so that will also get a <code>NameError</code>. And if even with <code>import sys</code>, it will still not do what you want, because you omitted the parens. Without them, you are <em>naming</em> the function, not <em>calling</em> it.</p>
<p>And lastly, you have a <code>while True</code> loop but you never exit from it, even if the user does enter a valid date.</p>
<p>With all of these things fixed up, the code looks like this:</p>
<pre><code>import datetime
import sys

while True :
    DOB = input('Date of Birth ')
    try :
        DOB = datetime.datetime.strptime(DOB, "%d/%m/%Y")
        break
    except ValueError:
        print("Error: must be format dd/mm/yyyy ")
        userkey = input("press 1 to try again or 0 to exit:")
        if userkey == "0":
            sys.exit()

print (f"DOB is {DOB}")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are saving the input as variable <code>DOB</code> but using variable <code>week</code> while testing against the given format inside <code>datetime.datetime.strptime</code>:</p>
<pre><code>DOB = input('Date of Birth ')
DOB = datetime.datetime.strptime(week, "%d//%m//%Y")  
</code></pre>
<p>So, you can do:</p>
<pre><code>DOB = datetime.datetime.strptime(DOB, "%d/%m/%Y")  
</code></pre>
<p>Also, make the datetime format specifier as <code>%d/%m/%Y</code>, without the redundant <code>/</code>s in between.</p>
<p>Another thing is, you have not imported <code>sys</code> but used <code>sys.exit</code> at the end. So you need to: </p>
<ul>
<li><code>import sys</code></li>
<li>Use exit status you want in the function call e.g. <code>sys.exit(0)</code> (the default is <code>0</code> BTW when no integer is given) for exit status <code>0</code> (means success, anything else indicates failure: typically between 1-255). Just doing <code>sys.call</code> refers to the function object, does not call it</li>
</ul>
<p>As a side note, as your <code>DOB</code> is not a constant, you should make it <em>snake_case</em> e.g.:</p>
<pre><code>date_of_birth = input('Date of Birth ')
</code></pre>
</div>
<span class="comment-copy">Why are you escaping forward slashes?</span>
<span class="comment-copy">Thanks for your answer. Would replacing (f"DOB is {DOB}") with break close the while loop and enable me to start another while loop ?</span>
<span class="comment-copy">If you put a <code>break</code> where the <code>print()</code> call is you will get a syntax error. You can only use <code>break</code> inside a loop. It is already outside the loop. I put the <code>print()</code> call there only to verify program operation. Without it you can't see if the program ended because of the <code>break</code> or because of <code>sys.exit()</code>.</span>
<span class="comment-copy">also, <code>sys.exit</code> should be called as <code>sys.exit(0)</code> and <code>import sys</code> is required at the top.</span>
<span class="comment-copy">@Devstr Edited in.</span>
<span class="comment-copy">I have made the above suggested edits.</span>
<span class="comment-copy">Thanks for suggestions. I have edited the code (pasted into question area) but now get an error when I enter the date in the correct format. I have tried cmd and spyder.   Date of Birth 10/10/1985 Error: must be format dd/mm/yyyy press 1 to try again or 0 to exit:</span>
