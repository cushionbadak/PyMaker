<div class="post-text" itemprop="text">
<p>I just stumbled on what seems a bug to me :</p>
<pre><code>var = "2"
if var is "" or "1":
    print(var)
</code></pre>
<p>This piece of code returns "2" as I expect it to print nothing.</p>
<p>Can someone explains this result to me ?</p>
<p>Tested on 2.7 and 3.4</p>
</div>
<div class="post-text" itemprop="text">
<ol>
<li><p>Your expression is parsed as <code>(var is "") or "1"</code>, which is always True, because <code>"1"</code>is True-ish.</p></li>
<li><p>If you add parentheses to get <code>var is ("" or "1")</code>, that is equvalent to <code>var is True</code>, because <code>"" or "1"</code> is True, because "1" is True-ish.</p></li>
<li><p>Comparing strings with <code>is</code> is fraught with peril, because the <code>is</code> operator checks <em>identity</em>, not equality.</p></li>
</ol>
<p>You probably want <code>var in ("", "1")</code></p>
</div>
<span class="comment-copy">It may help to understand that this is parsed as <code>if ((var is "") or ("1"))</code> so you need to understand how <code>is</code> works and what the meaning of <code>"1"</code> is when considered as a boolean</span>
<span class="comment-copy"><code>is</code> operator: <a href="https://stackoverflow.com/questions/13650293/understanding-pythons-is-operator" title="understanding pythons is operator">stackoverflow.com/questions/13650293/…</a></span>
<span class="comment-copy">See truth value testing here: <a href="https://docs.python.org/2/library/stdtypes.html?highlight=type%20conversions" rel="nofollow noreferrer">docs.python.org/2/library/…</a></span>
<span class="comment-copy">Yes, obvious mistake from me, I shall pay more attention next time... Thank you for the answer anyway !</span>
