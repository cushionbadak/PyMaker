<div class="post-text" itemprop="text">
<p>I'm trying to del an object in my list inside my loop but it's not working.</p>
<pre><code>data = []

data.append({
    'one': 1,
    'two': 2
})

data.append({
    'one': 3,
    'two': 4
})

data.append({
    'one': 5,
    'two': 6
})

for d in data:
    if d['one'] == 3:
        del d
</code></pre>
<p>It's impossible to delete my object like that ? <code>del d</code></p>
<p>The only one solution that I found is to create a counter then delete with index in the data list <code>del data[x]</code></p>
</div>
<div class="post-text" itemprop="text">
<p><code>del d</code> unbinds the name <code>d</code>, which is <em>just another reference</em> to one of the dictionaries in <code>data</code>. Since references are reassigned and unbound independently (see this <a href="https://nedbatchelder.com/text/names.html" rel="nofollow noreferrer">classic</a>) you won't see any changes to <code>data</code>.</p>
<p>In general, it is <a href="https://stackoverflow.com/questions/1207406/how-to-remove-items-from-a-list-while-iterating">error prone</a> to remove items from a list while iterating over it.</p>
<p>The conventional wisdom aquired from hundreds of years of programming Python says to build a new list and rebind the name.</p>
<pre><code>&gt;&gt;&gt; data = [d for d in data if d['one'] != 3]
&gt;&gt;&gt; data
[{'two': 2, 'one': 1}, {'two': 6, 'one': 5}]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/functions.html#filter" rel="nofollow noreferrer">filter</a>:</p>
<pre><code>data = filter(lambda x: x['one'] != 3, data)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You cannot delete items from a list while you are iterating through it because the list indices change as you delete elements. Also <code>del d</code> simply deleted the name <code>d</code>, the dictionary will still exist in the list.</p>
<p>The best solution here is to create a new list with the unwanted elements filtered out:</p>
<pre><code>data = [d for d in data if d['one'] != 3]
</code></pre>
<p>If it is important to modify the existing list <code>data</code> because there are other references to it that must also see the changes you can use a slice assignment to update the original list, but this is not usually needed:</p>
<pre><code>data[:] = [d for d in data if d['one'] != 3]
</code></pre>
</div>
<span class="comment-copy">No. You can't delete it without index.</span>
<span class="comment-copy">Thank you guys for your nice answer. That is clear</span>
