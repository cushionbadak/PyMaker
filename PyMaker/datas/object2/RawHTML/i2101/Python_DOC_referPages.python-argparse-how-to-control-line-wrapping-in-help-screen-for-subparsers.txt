<div class="post-text" itemprop="text">
<p>I'm using Python 3.6.3 and have this piece of code:</p>
<pre><code>import argparse
from argparse import RawTextHelpFormatter

parser = argparse.ArgumentParser(prog='foobar',
                                     formatter_class=RawTextHelpFormatter)
parser.add_argument('-lf', '--logfile', dest='logfile', default='/dev/null',
                    help='some very long help message goes here ..............................\n' +
                   'more text here xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx')

subparsers = parser.add_subparsers()
abcd_parser = subparsers.add_parser('abcd')

abcd_parser.add_argument('zzz', nargs='+',
                         help='A very long help message\ngoes here...... more help text goes here zzzzzzz   zzzzzzzzzzzzzzzzzzzzzzz  ')


args = parser.parse_args()
</code></pre>
<p>The help output looks like:</p>
<pre><code>$ ./foobar  -h
usage: foobar [-h] [-lf LOGFILE] {abcd} ...

positional arguments:
  {abcd}

optional arguments:
  -h, --help            show this help message and exit
  -lf LOGFILE, --logfile LOGFILE
                        some very long help message goes here ..............................
                        more text here xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
</code></pre>
<p>The above output doesn't wrap the help text, as expected (except where i explicitly put in "\n")</p>
<p>However, the help output for the subparser looks like:</p>
<pre><code>$ ./foobar  abcd  -h
usage: foobar abcd [-h] zzz [zzz ...]

positional arguments:
  zzz         A very long help message goes here...... more help text goes
              here zzzzzzz zzzzzzzzzzzzzzzzzzzzzzz

optional arguments:
  -h, --help  show this help message and exit
</code></pre>
<ol>
<li>How can i get the "goes here" to be printed on a new line (i specified "\n" but that didn't work)</li>
<li>How can i disable the line wrap so that the entire help text for the "zzz" argument is on one line?</li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>You need to give the subparser the same <code>formatter_class</code> you gave to the main parser, which you can do by passing <code>formatter_class</code> to <code>add_parser</code>:</p>
<pre><code>abcd_parser = subparsers.add_parser('abcd', formatter_class=RawTextHelpFormatter)
</code></pre>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/argparse.html#sub-commands" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#sub-commands</a> - says <code>add_parser</code>  takes <code>any ArgumentParser constructor arguments</code>,  I suppose it could be more explicit (the topic has come up in a bug/issue).</span>
<span class="comment-copy">Thanks...  this worked.  I thought i already tried that.</span>
