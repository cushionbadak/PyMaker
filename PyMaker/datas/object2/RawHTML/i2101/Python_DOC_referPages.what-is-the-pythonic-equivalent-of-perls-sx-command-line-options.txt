<div class="post-text" itemprop="text">
<p>I'm given a task to convert a <strong>Perl script to Python</strong>.</p>
<p>I'm really new to Perl and understanding it where I came across a command line option which is <code>-Sx</code>. </p>
<p>There is good documentation provided for these parameters in Perl. But there is no much documentation for the same in python (Didn't find much info in Python official  site).</p>
<p>My question is are those command line options <code>-Sx</code> same for both <strong>Perl</strong> and <strong>Python</strong>?</p>
<p>Do they achieve same task in both?</p>
</div>
<div class="post-text" itemprop="text">
<p>Questions I asked in a comment: </p>
<blockquote>
<p>Have you thought about if that bit of shell you were asking about is really necessary for what you're doing? Or are you just trying to blindly translate without understanding what things are doing? </p>
</blockquote>
<p>I'm pretty sure the answers are no and yes respectively. That's not a good place to be when you're trying to translate code from one language to another; you should understand <strong>what</strong> is going on in the original and make your new version do the same thing in whatever way is most appropriate for the new language, and not get trapped into some blind-leading-the-blind cargo cult code where you have no idea what's going on or how to fix it when it invariably doesn't work.</p>
<p>It doesn't help that based on your <a href="https://stackoverflow.com/questions/52785232/what-does-exec-perl-perl-sx-0-1-mean-in-shell-script">other question</a> your source program that you're trying to translate is rather confusing if you've never seen one like it before.</p>
<p>You have a shell script that, as the only thing it does, is run perl with a program whose source is directly embedded in the shell script. The reason to do this is to have the real script run under different perl installs on the same computer depending on the environment (Personally I'd put the perl code in its own separate file instead of trying to be clever with having it directly in the shell script; <a href="https://perlbrew.pl/Perlbrew-In-Shell-Scripts.html" rel="nofollow noreferrer">perlbrew documentation</a> examples take that approach). Is that something you need to be concerned about with the python version? I'm guessing probably not (and if it is, look into pythonic ways to do it, not obscure perlish ways). Which means the answer to another question</p>
<blockquote>
<p>Are you sure you even <em>need</em> equivalents [to -S and -x]? </p>
</blockquote>
<p>is no, I don't think you do. I think you should just keep it to pure python, making the things those options do irrelevant.</p>
</div>
<div class="post-text" itemprop="text">
<p>The following snippet is used to support ancient systems that predate the existence of <code>python</code>:</p>
<pre><code>#!/bin/sh
exec perl -Sx $0 ${1+"$@"}
   if 0;
</code></pre>
<p>Now, <a href="https://stackoverflow.com/questions/52785232/what-does-exec-perl-perl-sx-0-1-mean-in-shell-script">it appears</a> that you are dealing with a bastardized and modified version, but it makes no more sense to use that. If the caller wants to use a specific <code>perl</code>, they should use <code>"$PERL" script</code> instead of relying on <code>script</code> to use <code>$PERL</code>.</p>
<p>So, you should be using the following for the Perl script:</p>
<pre><code>#!/usr/bin/env perl
</code></pre>
<p>or</p>
<pre><code>#!/path/to/the/installing/perl
</code></pre>
<p>So, you should be using the following for the Python script:</p>
<pre><code>#!/usr/bin/env python
</code></pre>
<p>or</p>
<pre><code>#!/path/to/the/installing/python
</code></pre>
</div>
<span class="comment-copy">What does the <code>-Sx</code> option do?</span>
<span class="comment-copy">Two <i>different</i> options. <code>-S</code> and <code>-x</code> that do two different things. Did you read the documentation you were given a link to earlier to see what they do? Did you look at Python documentation to see if there are any equivalents? Are you sure you even <i>need</i> equivalents? Have you thought about if that bit of shell you were asking about is really necessary for what you're doing? Or are you just trying to blindly translate without understanding what things are doing? (I don't recommend that last)</span>
<span class="comment-copy">-S searches for the script in PATH variables. -x mentions that the actual script to execute starts from the line that begins with <code>#!</code></span>
<span class="comment-copy"><a href="https://docs.python.org/3/using/cmdline.html" rel="nofollow noreferrer">Here are the Python docs it sounds like you didn't find.</a></span>
<span class="comment-copy">Are you saying you looked at Python docs saying "Skip the first line of the source" and Perl docs saying "Leading garbage will be discarded until the first line that starts with #! and contains the string "perl". Any meaningful switches on that line will be applied.", and you still do not know whether those docs describe the same functionality?</span>
<span class="comment-copy">No. The -Sx are not needed like really. But will the script execute in same way if I put the python code in same shell script. I'm thinking it would be better to put the whole python code in a different script file and call that file from shell script file. Can we do that?</span>
