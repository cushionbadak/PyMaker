<div class="post-text" itemprop="text">
<p>I have a python code that takes 2 input files from the Input folder, they are shapefiles but the format is irrelevant to the questions. I process the files and then eventually output a csv file to the Output folder.</p>
<p>To help visualize this maybe the flow line can explain what I do.</p>
<pre><code>Input/Lines/line1.shp + Input/Points/point1.shp &gt;&gt; Python Code &gt;&gt; Output/data1.csv
</code></pre>
<p>I would like to be able to iterate the python code over all the input files in the input folders and store all the output files. So line1.shp+point1.shp = data1.csv and line2.shp+point2.shp = data2.csv and so on..</p>
<p>Any guidance or help on how to do this would be great, the code runs well for any input but would like to be able to do it on a lot of data. I am fairly new to python and don't really know what to look for.</p>
<p>Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>I guess a for loop will be helpful as follow:</p>
<pre><code>&gt;&gt;&gt; import shapefile
&gt;&gt;&gt; import csv
&gt;&gt;&gt; file_point = 'Input/points/point%s.shp'
&gt;&gt;&gt; file_line = 'Input/Lines/line%s.shp'
&gt;&gt;&gt; file_output = 'Output/data%s.csv'
&gt;&gt;&gt;
&gt;&gt;&gt; number_of_file = 10 # your file size
&gt;&gt;&gt;
&gt;&gt;&gt; for file_index in range(1,number_of_file+1):
...     sf_p = shapefile.Reader(file_point%str(file_index))
...     sf_l = shapefile.Reader(file_line%str(file_index))
...
...     # do some things you want
...
...     with open(file_output%str(file_index), 'w') as csvfile:
...         # write(your data)

# example of file pathes in for loop
Input/points/point1.shp
Input/points/point2.shp
Input/points/point3.shp
Input/points/point4.shp
Input/points/point5.shp
Input/points/point6.shp
Input/points/point7.shp
....
</code></pre>
<p>And those two websites will be helpful for shapfile and csv reader/writer in python</p>
<p><a href="https://pypi.org/project/pyshp/" rel="nofollow noreferrer">https://pypi.org/project/pyshp/</a></p>
<p><a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">https://docs.python.org/3/library/csv.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>To start off Im not sure what you need to do with the files, but it seems like you have that covered. There are some parts of the <a href="https://docs.python.org/3/library/os.html" rel="nofollow noreferrer">os module</a> that you might find useful. I have include the functions that seem most useful in your case.</p>
<pre><code># os module
import os

# get the current path where your program is executing
current_path = os.getcwd()
# or
current_path = 'my/file/path/to/files'

# lists all the files and directories in the current path
for item in os.listdir(current_path):

    # the file path for each item in current_path
    file_path = current_path+"\\"+item

    # make sure the path is not a directory
    if not os.path.isdir(file_path):

        # separate the file name and file extension
        file_name, file_extension = os.path.splitext(file_path)

        # make sure you are operating on .shp files 
        if file_extension == '.shp':
            # do you file processing here
            # also create you output files here 
            # if you want 1 output for every input file
</code></pre>
</div>
