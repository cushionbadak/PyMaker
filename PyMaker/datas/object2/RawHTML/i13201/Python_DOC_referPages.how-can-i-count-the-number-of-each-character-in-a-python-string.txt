<div class="post-text" itemprop="text">
<p>I have written this Python program to count the number of each character in a Python string.</p>
<pre><code>def count_chars(s):
    counts = [0] * 65536
    for c in s:
        counts[ord(c)] += 1
    return counts

def print_counts(counts):
    for i, n in enumerate(counts):
        if n &gt; 0:
            print(chr(i), '-', n)

if __name__ == '__main__':
    print_counts(count_chars('hello, world \u2615'))
</code></pre>
<p>Output:</p>
<pre><code>  - 2
, - 1
d - 1
e - 1
h - 1
l - 3
o - 2
r - 1
w - 1
â˜• - 1
</code></pre>
<p>Can this program take care of counting the number of any occurrences of any Unicode character? If not, what can be done to ensure that every possible Unicode character is taken care of?</p>
</div>
<div class="post-text" itemprop="text">
<p>Your code only handles characters in the <a href="https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane" rel="nofollow">Basic Multilingual Plane</a>; <a href="https://en.wikipedia.org/wiki/Emoticons_(Unicode_block)" rel="nofollow">emoticons</a> won't be handled, for example. You could remedy that by just using a dictionary instead of a list with a fixed number of indices, and use the characters as keys.</p>
<p>However, you should just use a <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow"><code>collections.Counter()</code> object</a>:</p>
<pre><code>from collections import Counter

counts = Counter(s)

for character, count in counts.most_common():
    print(character, '-', count)
</code></pre>
<p>It is, after all, designed for just such use cases.</p>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; from collections import Counter
&gt;&gt;&gt; s = 'hello, world \u2615 \U0001F60A'
&gt;&gt;&gt; counts = Counter(s)
&gt;&gt;&gt; for character, count in counts.most_common():
...     print(character, '-', count)
...
  - 3
l - 3
o - 2
r - 1
w - 1
e - 1
h - 1
d - 1
â˜• - 1
, - 1
ðŸ˜Š - 1
</code></pre>
</div>
<span class="comment-copy">Did you try to see what happens?</span>
