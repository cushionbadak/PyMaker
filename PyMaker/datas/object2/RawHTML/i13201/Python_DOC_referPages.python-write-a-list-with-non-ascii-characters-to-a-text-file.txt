<div class="post-text" itemprop="text">
<p>I'm using python 3.4 and I'm trying to write a list of names to a text file. The list is as follows:</p>
<pre><code>my_list = ['Dejan Živković','Gregg Berhalter','James Stevens','Mike Windischmann',
               'Gunnar Heiðar Þorvaldsson']
</code></pre>
<p>I use the following code to export the list:</p>
<pre><code>file = open("/Users/.../Desktop/Name_Python.txt", "w")
file.writelines( "%s\n" % item for item in my_list )
file.close()
</code></pre>
<p>But it does not work. Python seems not to like non-ASCII characters and gives me the following errors:</p>
<pre><code>"UnicodeEncodeError: 'ascii' codec can't encode character '\u017d' in position 6: ordinal not in range(128)"
</code></pre>
<p>Do you know if there is a way to solve this problem ? Maybe it's possible to write files in UTF-8 / unicode ?</p>
</div>
<div class="post-text" itemprop="text">
<p>The issue is that the file is getting openned with <code>ascii</code> encoding (which might be what is returned by <a href="https://docs.python.org/3/library/locale.html#locale.getpreferredencoding" rel="noreferrer"><code>locale.getpreferredencoding()</code></a> for your environment). You can try openning with the correct encoding (maybe <code>utf-8</code>) . Also, you should use <code>with</code> statement so that it handles closing the file for you.</p>
<p>For Python 2.x , you can use <a href="https://docs.python.org/2/library/codecs.html#codecs.open" rel="noreferrer"><code>codecs.open()</code></a> function instead of <code>open()</code> -</p>
<pre><code>with codecs.open("/Users/.../Desktop/Name_Python.txt", "w",encoding='utf-8') as file:
    file.writelines( "%s\n" % item for item in my_list )
</code></pre>
<p>For Python 3.x , you can use the built-in function <a href="https://docs.python.org/3/library/functions.html#open" rel="noreferrer"><code>open()</code></a> , which supports <code>encoding</code> argument. Example -</p>
<pre><code>with open("/Users/.../Desktop/Name_Python.txt", "w",encoding='utf-8') as file:
    file.writelines( "%s\n" % item for item in my_list )
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>try this:</p>
<pre><code>&gt;&gt;&gt; my_list = ['Dejan Živković','Gregg Berhalter','James Stevens','Mike Windischmann' ,'Gunnar Heiðar Þorvaldsson']
&gt;&gt;&gt; f = open("/Users/.../Desktop/Name_Python.txt", "w")
&gt;&gt;&gt; for x in my_list:
...     f.write("{}\n".format(x))
... 
&gt;&gt;&gt; f.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Best method would be to play with <code>unicodes</code></p>
<pre><code>my_list = [u'Dejan \u017Divkovi\u0107','Gregg Berhalter','James Stevens','Mike Windischmann'
           ,u'Gunnar Hei\u00F0ar \u00FEorvaldsson']
print my_list[0]
</code></pre>
<p>Output:<code>Dejan Živković</code></p>
</div>
<div class="post-text" itemprop="text">
<p>Try using UTF-8 encoding. You can start by putting # -<em>- coding: utf-8 -</em>- at the top of your .py file.</p>
</div>
<span class="comment-copy">Which version are you using?</span>
<span class="comment-copy">It works.  I am not getting any error in python 2.7.6.</span>
<span class="comment-copy">I'm using Python 3.4, does the problem come from that ?</span>
<span class="comment-copy">It works! Thanks a lot =)</span>
<span class="comment-copy">Worked for me too, I had trouble with this for a long time!</span>
<span class="comment-copy">It does not seem to work. I use Python 3 by the way, maybe the problem comes from that ?</span>
<span class="comment-copy">@BernEy, i checked, its working with python3, does ur console support uft-8</span>
<span class="comment-copy">In Python 3, strings are unicode objects by default. So the <code>u</code> is a no-op. This answer is a valid thing to do but I don't think it solves the OP's problem.</span>
<span class="comment-copy">if this were the problem, the file wouldn't even parse</span>
