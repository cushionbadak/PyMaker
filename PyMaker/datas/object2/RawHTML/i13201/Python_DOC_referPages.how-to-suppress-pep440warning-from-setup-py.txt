<div class="post-text" itemprop="text">
<p>I am running <code>python setup.py</code> or <code>python3 setup.py</code> which gives me <code>PEP440Warning</code>'s for unrelated packages I am not going to fix:</p>
<pre><code>/usr/lib/python3/dist-packages/pkg_resources/__init__.py:2512: PEP440Warning: 'python-apt (0.9.3.11build1)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.
  PEP440Warning,
/usr/lib/python3/dist-packages/pkg_resources/__init__.py:2512: PEP440Warning: 'apturl (0.5.2ubuntu6)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.
  PEP440Warning,
/usr/lib/python3/dist-packages/pkg_resources/__init__.py:2512: PEP440Warning: 'ufw (0.34-rc-0ubuntu5)' is being parsed as a legacy, non PEP 440, version. You may find odd behavior and sort order. In particular it will be sorted as less than 0.0. It is recommend to migrate to PEP 440 compatible versions.
  PEP440Warning,
</code></pre>
<p>I would like to silence this warning, and I tried a number of variants of the <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-W"><code>-W</code> switch</a> without any success:</p>
<ul>
<li>match module: <code>-W ignore:::pkg_resources:</code> → warnings there, no message about invalid <code>-W</code> specification</li>
<li>match class name: <code>-W ignore::PEP440Warning::</code> → <code>Invalid -W option ignored: unknown warning category: 'PEP440Warning'</code></li>
<li>match fully qualified class name: <code>-W ignore::pkg_resources.PEP440Warning::</code> → <code>Invalid -W option ignored: invalid module name: 'pkg_resources'</code> (??)</li>
<li>match the message test: <code>-W ignore:PEP 440:::</code> →  warnings there, no message about invalid <code>-W</code> specification</li>
<li>match all warnings: <code>-W ignore</code>  →  warnings there</li>
</ul>
<p>The last attempt leads me to believe that for some reason the command-line switch is not being honored at all. Why?</p>
</div>
<div class="post-text" itemprop="text">
<p>If using <code>-W ignore</code> still shows the warning, <code>setuptools</code> is either not using the <code>warnings</code> module to generate that output or it is starting a new Python without the same options.</p>
<p>Try using an environment variable like this: <code>export PYTHONWARNINGS="ignore"</code></p>
<p>If it still shows the warning, then I'd check the source code to see how that warning is being generated.</p>
</div>
