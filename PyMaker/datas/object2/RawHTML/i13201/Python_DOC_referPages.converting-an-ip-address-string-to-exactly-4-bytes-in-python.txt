<div class="post-text" itemprop="text">
<p>So this is very simple, but I'm having trouble getting this to work.  I want to, for example, if the incoming IP address string is '168.108.114.22', convert this to a bytes object like:</p>
<pre><code>\xA8\x6C\x72\x16
</code></pre>
<p>Basically each part of the IP address is converted to it's hexadecimal equivalent.  </p>
<p>I've tried so many ways but couldn't get what I want.  String manipulation, using socket.inet_aton, packing, etc.  I want to be able to send  these bytes over a socket and then receive and parse them at the other end, but I am having trouble just getting my bytes object created and looking like that.</p>
</div>
<div class="post-text" itemprop="text">
<p>Python's <a href="https://docs.python.org/2/library/socket.html?highlight=aton#socket.inet_aton" rel="nofollow"><code>inet_aton</code></a> function should do what you need, it does return a string containing exactly 4 bytes:</p>
<pre><code>import socket

print socket.inet_aton('168.108.114.22')
print socket.inet_aton('65.66.67.68')
</code></pre>
<p>These would display:</p>
<pre><code>Â¨lr
ABCD 
</code></pre>
<p>And to convert the four characters back again using <a href="https://docs.python.org/2/library/socket.html?highlight=aton#socket.inet_ntoa" rel="nofollow"><code>inet_ntoa</code></a>:</p>
<pre><code>print socket.inet_ntoa('\xA8\x6C\x72\x16')
print socket.inet_ntoa('ABCD')
</code></pre>
<p>Giving:</p>
<pre><code>65.66.67.68
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>this</p>
<pre><code>ip='168.108.114.22'

b_out = bytes(map(int,ip.split('.')))
print(b_out)
</code></pre>
<p>on python 3 produces</p>
<pre><code>b'\xa8lr\x16'
</code></pre>
<p>which should be what you are looking for, if I understand correctly.</p>
<p>Note: there are more specific and optimized utility functions to manipulate IP addresses</p>
</div>
<span class="comment-copy">How would I convert this back to the IP address on the other end of the socket?  If I sent it through this way, after converting using inet_aton.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/socket.html?highlight=aton#socket.inet_ntoa" rel="nofollow noreferrer">ntoa</a> i.e. network-to-ascii (they all come from good ol' C)</span>
