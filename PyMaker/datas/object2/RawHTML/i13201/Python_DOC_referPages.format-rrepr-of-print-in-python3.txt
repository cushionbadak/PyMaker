<div class="post-text" itemprop="text">
<pre class="lang-none prettyprint-override"><code>&gt;&gt;&gt;print('You say:{0:r}'.format("i love you"))
Traceback (most recent call last):
  File "&lt;pyshell#5&gt;", line 1, in &lt;module&gt;
    print('You say:{0:r}'.format("i love you"))
ValueError: Unknown format code 'r' for object of type 'str'
</code></pre>
<p>I just use <code>%r(repr())</code> in python2, and it should work in python3.5. Why is it?</p>
<p>Besides, what format should I use?</p>
</div>
<div class="post-text" itemprop="text">
<p>What you are looking for is called conversion flag. And that should be specified like this</p>
<pre><code>&gt;&gt;&gt; print('you say:{0!r}'.format("i love you"))
you say:'i love you'
</code></pre>
<p>Quoting Python 3's <a href="https://docs.python.org/3/library/string.html#format-string-syntax" rel="noreferrer">official documentation</a>,</p>
<blockquote>
<p>Three conversion flags are currently supported: <code>'!s'</code> which calls <code>str()</code> on the value, <code>'!r'</code> which calls <code>repr()</code> and <code>'!a'</code> which calls <code>ascii()</code>.</p>
</blockquote>
<p>Please note that, Python 2 supports only <code>!s</code> and <code>!r</code>. As per the Python 2's <a href="https://docs.python.org/2/library/string.html#formatspec" rel="noreferrer">official documentation</a>,</p>
<blockquote>
<p>Two conversion flags are currently supported: <code>'!s'</code> which calls <code>str()</code> on the value, and <code>'!r'</code> which calls <code>repr()</code>.</p>
</blockquote>
<hr/>
<p>In Python 2, you might have done something like</p>
<pre><code>&gt;&gt;&gt; 'you say: %r' % "i love you"
"you say: 'i love you'"
</code></pre>
<p>But even in Python 2 (also in Python 3), you can write the same with <code>!r</code> with <code>format</code>, like this</p>
<pre><code>&gt;&gt;&gt; 'you say: {!r}'.format("i love you")
"you say: 'i love you'"
</code></pre>
<p>Quoting example from <a href="https://docs.python.org/3/library/string.html#format-examples" rel="noreferrer">official documentation</a>,</p>
<blockquote>
<p>Replacing <code>%s</code> and <code>%r</code>:</p>
<pre><code>&gt;&gt;&gt; "repr() shows quotes: {!r}; str() doesn't: {!s}".format('test1', 'test2')
"repr() shows quotes: 'test1'; str() doesn't: test2"
</code></pre>
</blockquote>
</div>
<span class="comment-copy">@wim Couldn't find the actual release it got introduced but as per the documentation it is available since v3.2</span>
