<div class="post-text" itemprop="text">
<p>I have some .txt files in a folder. I need to collect their content all in one .txt file.  I'm working with Python and tried:</p>
<pre><code>import os

rootdir = "\\path_to_folder\\"

for files in os.walk(rootdir):
    with open ("out.txt", 'w') as outfile:
         for fname in files:
             with open(fname) as infile:
                  for line in infile:
                      outfile.write(line)
</code></pre>
<p>but did not work. The 'out.txt' is generated but the code never ends. Any advice? Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>os.walk</code> returns tuples, not filenames:</p>
<pre><code>with open ("out.txt", 'w') as outfile:
    for root, dirs, files in os.walk(rootdir):
        for fname in files:
             with open(os.path.join(root, fname)) as infile:
                  for line in infile:
                      outfile.write(line)
</code></pre>
<p>Also you should open outfile in the beginning, not in each loop.</p>
</div>
<div class="post-text" itemprop="text">
<p>This solved my problem. The generated 'out.txt' file is just 151KB. </p>
<pre><code>file_list = os.listdir("\\path_to_folder\\")

with open('out.txt', 'a+') as outfile:
for fname in file_list:
    with open(fname) as infile:
        outfile.write(infile.read())
</code></pre>
<p>Thanks everybody.</p>
</div>
<span class="comment-copy">Any reason you don't do this in the shell with <code>find rootdir -type f -exec cat {} + &gt; out.txt</code></span>
<span class="comment-copy">Read the docs for os.walk: <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer">docs.python.org/3/library/os.html#os.walk</a></span>
<span class="comment-copy"><a href="http://stackoverflow.com/q/13613336/198633">Almost a duplicate</a></span>
<span class="comment-copy">Could you please expand on how to do this in the shell with find rootdir -type f -exec cat {} + &gt; out.txt? Thanks</span>
<span class="comment-copy">Unfortunately even opening 'outfile' in the beginning I couldn't solve the problem: the loop never ends</span>
<span class="comment-copy">Maybe there are too many files in your directory, try with test data.</span>
<span class="comment-copy">It was a good idea to try with test data. The loop eventually ended, but the problem is not solved yet. I opened 6 files of around 150KG and my 'out.txt' is 923,700KG.</span>
