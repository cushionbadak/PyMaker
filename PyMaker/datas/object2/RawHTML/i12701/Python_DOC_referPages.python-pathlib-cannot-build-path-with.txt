<div class="post-text" itemprop="text">
<p>I am using the library <code>pathlib</code>, and try to build a Path in the following way.</p>
<pre><code>BASE_DIR = Path(__file__).ancestor(3)
secrets_file = BASE_DIR / 'main_app' / 'settings' / 'secrets.json'
</code></pre>
<p>However, when running this, I get the following error:</p>
<pre><code>TypeError: unsupported operand type(s) for /: 'Path' and 'str'
</code></pre>
<p>I think I am following the syntax as defined in the <code>pathlib</code> <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow">documentation</a> (but probably I am not in an obscure way).</p>
<pre><code>&gt;&gt;&gt; p = Path('/etc')
&gt;&gt;&gt; q = p / 'init.d' / 'reboot'
</code></pre>
<p>What am I doing wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p>Almost certainly, you have defined a custom class called <code>Path</code> (or imported Path from another module). In either case, that Path overshadows the one from pathlib. To verify, run</p>
<pre><code>print(Path.__module__)
</code></pre>
<p>to find out which module <code>Path</code> is coming from.</p>
</div>
<div class="post-text" itemprop="text">
<p>For readability I prefer using <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.joinpath" rel="nofollow">Path.joinpath</a>. In your case, it will be :</p>
<pre><code>BASE_DIR.joinpath('main_app','settings', 'secrets.json')
</code></pre>
<p>Thus you can use * operator and for long lines it will be more comfortable. Using the tools the library provided you ensures you won't run into these errors, since they handle the details for you. </p>
</div>
<span class="comment-copy">Can you post a <a href="http://stackoverflow.com/help/mcve"><i>complete</i> example</a>? Most likely, you have defined your own class <code>Path</code>. In addition, this question would be greatly improved by posting useful debugging information, namely the outputs of <code>print(Path.__module__)</code> and <code>import sys;print(sys.modules[Path.__module__])</code>.</span>
<span class="comment-copy">Oops, I found my error already. Instead of <code>from pathlib import Path</code> I had <code>from unipath import Path</code>.</span>
<span class="comment-copy">That was indeed the problem. I imported <code>unipath</code>'s Path instead of <code>pathlib</code>'s.</span>
