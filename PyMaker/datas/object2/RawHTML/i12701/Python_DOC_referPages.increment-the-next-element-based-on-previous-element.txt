<div class="post-text" itemprop="text">
<p>When looping through a list, you can work with the current item of the list. For example, if you want to replace certain items with others, you can use:</p>
<pre><code>a=['a','b','c','d','e']

b=[]
for i in a:
    if i=='b':
       b.append('replacement')     
    else:   
        b.append(i)

print b
['a', 'replacement', 'c', 'd', 'e']
</code></pre>
<p>However, I wish the replace certain values not based on index <code>i</code>, but based on index <code>i+1</code>. I've been trying for ages and I can't seem to make it work. I would like something like this:</p>
<pre><code>c=['a','b','c','d','e']

d=[]
for i in c:
    if i+1=='b':
       d.append('replacement')     
    else:   
        d.append(i)


print d

d=['replacement','b','c','d','e']
</code></pre>
<p>Is there any way to achieve this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow">list comprehension</a> along with <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow"><code>enumerate</code></a></p>
<pre><code>&gt;&gt;&gt; ['replacement' if a[i+1]=='b' else v for i,v in enumerate(a[:-1])]+[a[-1]]
['replacement', 'b', 'c', 'd', 'e']
</code></pre>
<p>The code replaces all those elements where the next element is <code>b</code>. However to take care of the last index and prevent <code>IndexError</code>, we just append the last element and loop till the penultimate element. </p>
<hr/>
<p>Without a list comprehension</p>
<pre><code>a=['a','b','c','d','e']
d=[]
for i,v in enumerate(a[:-1]):
    if a[i+1]=='b':
        d.append('replacement')     
    else:   
        d.append(v)
d.append(a[-1])
print d
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It's generally better style to not iterate over indices in Python. A common way to approach a problem like this is to use <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow"><code>zip</code></a> (or the similar <a href="https://docs.python.org/3/library/itertools.html#itertools.izip" rel="nofollow"><code>izip_longest</code></a> in <code>itertools</code>) to see multiple values at once:</p>
<pre><code>In [32]: from itertools import izip_longest

In [33]: a=['a','b','c','d','e']

In [34]: b = []

In [35]: for c, next in izip_longest(a, a[1:]):
   ....:     if next == 'd':
   ....:         b.append("replacement")
   ....:     else:
   ....:         b.append(c)
   ....:

In [36]: b
Out[36]: ['a', 'b', 'replacement', 'd', 'e'] 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think there's a confusion in your post between the list indices and list elements. In the loop as you have written it <code>i</code> will be the actual element (e.g. <code>'b'</code>) and not the index, thus <code>i+1</code> is meaningless and will throw a <code>TypeError</code> exception.</p>
<p>I think one of the smallest set of changes you can do to your example to make it work is:</p>
<pre><code>c = ['a', 'b', 'c', 'd', 'e']

d = []

for i, el in enumerate(c[:-1]):
    if c[i + 1] == 'b':
        d.append('replacement')     
    else:
        d.append(el)

print d

# Output...
# ['replacement', 'b', 'c', 'd']
</code></pre>
<p>Additionally it's undefined how you should deal with the boundaries. Particularly when <code>i</code> points to the last element <code>'e'</code>, what should <code>i+1</code> point to? There are many possible answers here. In the example above I've chosen one option, which is to end the iteration one element early (so we never point to the last element <code>e</code>).</p>
<p>If I was doing this I would do something similar to a combination of the other answers:</p>
<pre><code>c = ['a', 'b', 'c', 'd', 'e']


d = ['replacement' if next == 'b' else current
     for current, next in zip(c[:-1], c[1:]) ]

print d

# Output...
# ['replacement', 'b', 'c', 'd']
</code></pre>
<p>where I have used a list comprehension to avoid the loop, and <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow"><code>zip</code></a> on the list and a shifted list to avoid the explicit indices.</p>
</div>
<div class="post-text" itemprop="text">
<p>Try using index of current element to check for the next element in the list .
Replace </p>
<pre><code>if i+1=='b':
</code></pre>
<p>with</p>
<pre><code>if c[c.index(i)+1]=='b':
</code></pre>
</div>
<span class="comment-copy">It's not a very Pythonic solution.</span>
