<div class="post-text" itemprop="text">
<p>I use Python IDLE a lot in my day-to-day job, mostly for short scripts and as a powerful and convenient calculator. </p>
<p>I usually have to work with different numeric bases (mostly decimal, hexadecimal, binary and less frequently octal and other bases.)</p>
<p>I know that using <code>int()</code>, <code>hex()</code>, <code>bin()</code>, <code>oct()</code> is a convenient way to move from one base to another and prefixing <a href="https://docs.python.org/3/reference/lexical_analysis.html#integer-literals" rel="nofollow">integer literals</a> with the right prefix is another way to express an number.</p>
<p>I find it quite inconvenient to have to put a calculation in a function just to see the result in the right base (and the resulting ouput of <code>hex()</code> and similar functions is a string) , so what I'm trying to achieve is to have either a function (or maybe a statement?) that set the internal IDLE number representation to a known base (2, 8, 10, 16).</p>
<p>Example :</p>
<pre><code>&gt;&gt;&gt; repr_hex() # from now on, all number are considered hexadecimal, in input and in output

&gt;&gt;&gt; 10 # 16 in dec
&gt;&gt;&gt; 0x10 # now output is also in hexadecimal

&gt;&gt;&gt; 1e + 2 
&gt;&gt;&gt; 0x20

# override should be possible with integer literal prefixes
# 0x: hex ; 0b: bin ; 0n: dec ; 0o: oct
&gt;&gt;&gt; 0b111 + 10 + 0n10 # dec : 7 + 16 + 10
&gt;&gt;&gt; 0x21 # 33 dec

# still possible to override output representation temporarily with a conversion function
&gt;&gt;&gt; conv(_, 10) # conv(x, output_base, current_base=internal_base)
&gt;&gt;&gt; 0n33
&gt;&gt;&gt; conv(_, 2) # use prefix of previous output to set current_base to 10
&gt;&gt;&gt; 0b100001
&gt;&gt;&gt; conv(10, 8, 16) # convert 10 to base 8 (10 is in base 16: 0x10)
&gt;&gt;&gt; 0o20

&gt;&gt;&gt; repr_dec() # switch to base 10, in input and in output
&gt;&gt;&gt; _
&gt;&gt;&gt; 0n16
&gt;&gt;&gt; 10 + 10
&gt;&gt;&gt; 0n20
</code></pre>
<p>Implementing those features doesn't seem to be difficult, what I don't know is:</p>
<ul>
<li>Is it possible to change number representation in IDLE?</li>
<li>Is it possible to do this without having to change IDLE (source code) itself? I looked at <a href="https://docs.python.org/3/library/idle.html#extensions" rel="nofollow">IDLE extensions</a>, but I don't know where to start to have access to IDLE internals from there.</li>
</ul>
<p>Thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>IDLE does not have a number representation.  It sends the code you enter to a Python interpreter and displays the string sent back in response.  In this sense, it is irrelevant that IDLE is written in Python.  The same is true of any IDE or REPL for Python code.</p>
<p>That said, the CPython sys module has a <code>displayhook</code> function.  For 3.5:</p>
<pre><code>&gt;&gt;&gt; help(sys.displayhook)
Help on built-in function displayhook in module sys:

displayhook(...)
    displayhook(object) -&gt; None

    Print an object to sys.stdout and also save it in builtins._
</code></pre>
<p>That actually should be <code>__builtins__._</code>, as in the example below.  Note that the input is any Python object.  For IDLE, the default <code>sys.displayhook</code> is a function defined in <code>idlelib/rpc.py</code>.  Here is an example relevant to your question.</p>
<pre><code>&gt;&gt;&gt; def new_hook(ob):
    if type(ob) is int:
        ob = hex(ob)
    __builtins__._ = ob
    print(ob)


&gt;&gt;&gt; sys.displayhook = new_hook
&gt;&gt;&gt; 33
0x21
&gt;&gt;&gt; 0x21
0x21
</code></pre>
<p>This gives you the more important half of what you asked for.  Before actually using anything in IDLE, I would look at the default version to make sure I did not miss anything.  One could write an extension to add menu entries that would switch displayhooks.</p>
<p>Python intentionally does not have an input preprocessor function.  GvR wants the contents of a .py file to always be python code as defined in some version of the reference manual.</p>
<p>I have thought about the possibility of adding an inputhook to IDLE, but I would not allow one to be active when running a .py file from the editor.  If there were one added for the Shell, I would change the prompt from '&gt;&gt;&gt;' to something else, such as 'hex&gt;' or 'bin&gt;'.</p>
<p>EDIT:
One could also write an extension to rewrite input code when explicitly requested either with a menu selection or a hot key or key binding.  Or one could edit the current idlelib/ScriptBinding.py to make rewriting automatic.  The hook I have thought about would make this easier, but not expand what can be done now.</p>
</div>
<span class="comment-copy">you can make looping function that will get your input and convert according to your requirement ..</span>
<span class="comment-copy">@AnkurJyotiPhukan Sure, I already thought about doing a quick REPL, but I'd loose all features from IDLE (editing, calltips, debugging, colorization, help and all those features). I'm not against switching to another "IDE", but recoding one would be too much hassle though.</span>
