<div class="post-text" itemprop="text">
<p>Say, I'm going to construct a probably large dictionary in Python 3 for in-memory operations. The dictionary keys are integers, but I'm going to read them from a file as string at first.</p>
<p>As far as storage and retrieval are concerned, I wonder if it matters whether I store the dictionary keys as integers themselves, or as strings.<br/>
In other words, would leaving them as integers help with hashing?</p>
</div>
<div class="post-text" itemprop="text">
<p>Dicts are fast but can be heavy on the memory.
Normally it shouldn't be a problem but you will only know when you test.
I would advise to first test 1.000 lines, 10.000 lines and so on and have a look on the memory footprint.</p>
<p>If you run out of memory and your data structure allows it maybe try using <a href="https://docs.python.org/3/library/collections.html#collections.namedtuple" rel="nofollow">named tuples</a>.</p>
<pre><code>EmployeeRecord = namedtuple('EmployeeRecord', 'name, age, title, department, paygrade')
import csv
for emp in map(EmployeeRecord._make, csv.reader(open("employees.csv", "rb"))):
    print(emp.name, emp.title)
</code></pre>
<p>(Example taken from the link)</p>
<p>If you have ascending integers you could also try to get more fancy by using the <a href="https://docs.python.org/3/library/array.html" rel="nofollow">array module</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Actually the string hashing is rather efficient in Python 3. I expected this to has the opposite outcome:</p>
<pre><code>&gt;&gt;&gt; timeit('d["1"];d["4"]', setup='d = {"1": 1, "4": 4}')
0.05167865302064456
&gt;&gt;&gt; timeit('d[1];d[4]', setup='d = {1: 1, 4: 4}')
0.06110116100171581
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You don't seem to have bothered benchmarking the alternatives. It turns out that the difference is quite slight and I also find inconsistent differences. Besides this is an implementation detail how it's implemented, since both integers and strings are immutable they could possibly be compared as pointers.</p>
<p>What you should consider is which one is the natural choice of key. For example if you don't interpret the key as a number anywhere else there's little reason to convert it to an integer. </p>
<p>Additionally you should consider if you want to consider keys equal if their numeric value is the same or if they need to be lexically identical. For example if you would consider <code>00</code> the same key as <code>0</code> you would need to interpret it as integer and then integer is the proper key, if on the other hand you want to consider them different then it would be outright wrong to convert them to integers (as they would become the same then).</p>
</div>
<span class="comment-copy">What would be the benefit from storing the values as string instead of int if they represent integer? This would be the best thing to do if you want to have complicated code such as <code>my_dict[str(my_val)]</code> everywhere. If these are integers, use <code>int</code>, no matter the way you store information in your files.</span>
<span class="comment-copy">Use integers if you use them as integers later, use strings if you use them as strings later.</span>
<span class="comment-copy">@poke 's answer is most accurate I think</span>
