<div class="post-text" itemprop="text">
<p>I am at a scenario where I call api and based on the results from api I call database for each record that I in api. My api call return strings and when I make the database call for the items return by api, for some elements I get the following error. </p>
<pre><code>Traceback (most recent call last):
  File "TopLevelCategories.py", line 267, in &lt;module&gt;
    cursor.execute(categoryQuery, {'title': startCategory});
  File "/opt/ts/python/2.7/lib/python2.7/site-packages/MySQLdb/cursors.py", line 158, in execute
    query = query % db.literal(args)
  File "/opt/ts/python/2.7/lib/python2.7/site-packages/MySQLdb/connections.py", line 265, in literal
    return self.escape(o, self.encoders)
  File "/opt/ts/python/2.7/lib/python2.7/site-packages/MySQLdb/connections.py", line 203, in unicode_literal
    return db.literal(u.encode(unicode_literal.charset))
UnicodeEncodeError: 'latin-1' codec can't encode character u'\u2013' in position 3: ordinal not in range(256)
</code></pre>
<p>The segment of my code the above error is referring is:</p>
<pre><code>         ...    
         for startCategory in value[0]:
            categoryResults = []
            try:
                categoryRow = ""
                baseCategoryTree[startCategory] = []
                #print categoryQuery % {'title': startCategory}; 
                cursor.execute(categoryQuery, {'title': startCategory}) #unicode issue
                done = False
                cont...
</code></pre>
<p>After doing some google search I tried the following on my command line to understand whats going on...</p>
<pre><code>&gt;&gt;&gt; import sys
&gt;&gt;&gt; u'\u2013'.encode('iso-8859-1')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
UnicodeEncodeError: 'latin-1' codec can't encode character u'\u2013' in position 0: ordinal not in range(256)
&gt;&gt;&gt; u'\u2013'.encode('cp1252')
'\x96'
&gt;&gt;&gt; '\u2013'.encode('cp1252')
'\\u2013'
&gt;&gt;&gt; u'\u2013'.encode('cp1252')
'\x96'
</code></pre>
<p>But I am not sure what would be the solution to overcome this issue. Also I don't know what is the theory behind <code>encode('cp1252')</code> it would be great if I can get some explanation on what I tried above. </p>
</div>
<div class="post-text" itemprop="text">
<p>If you need Latin-1 encoding, you have several options to get rid of the en-dash or other code points above 255 (characters not included in Latin-1):</p>
<pre><code>&gt;&gt;&gt; u = u'hello\u2013world'
&gt;&gt;&gt; u.encode('latin-1', 'replace')    # replace it with a question mark
'hello?world'
&gt;&gt;&gt; u.encode('latin-1', 'ignore')     # ignore it
'helloworld'
</code></pre>
<p>Or do your own custom replacements:</p>
<pre><code>&gt;&gt;&gt; u.replace(u'\u2013', '-').encode('latin-1')
'hello-world'
</code></pre>
<p>If you aren't required to output Latin-1, then UTF-8 is a common and preferred choice.  It is recommended by the W3C and nicely encodes all Unicode code points:</p>
<pre><code>&gt;&gt;&gt; u.encode('utf-8')
'hello\xe2\x80\x93world'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The unicode character u'\02013' is the "en dash". It is contained in the Windows-1252 (cp1252) character set (with the encoding x96), but not in the Latin-1 (iso-8859-1) character set. The Windows-1252 character set has some more characters defined in the are x80 - x9f, among them the en dash.</p>
<p>The solution would be for you to choose a different target character set than Latin-1, such as Windows-1252 or UTF-8, or to replace the en dash with a simple "-".</p>
</div>
<div class="post-text" itemprop="text">
<p><code>u.encode('utf-8')</code> converts it to bytes which can then be printed on stdout using <code>sys.stdout.buffer.write(bytes)</code>
checkout the displayhook on 
<a href="https://docs.python.org/3/library/sys.html" rel="nofollow noreferrer">https://docs.python.org/3/library/sys.html</a></p>
</div>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/3942888/unicodeencodeerror-latin-1-codec-cant-encode-character">UnicodeEncodeError: 'latin-1' codec can't encode character</a></span>
