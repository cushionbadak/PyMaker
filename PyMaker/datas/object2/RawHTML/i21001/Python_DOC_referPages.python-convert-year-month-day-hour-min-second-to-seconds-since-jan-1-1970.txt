<div class="post-text" itemprop="text">
<p>I know how to do it in C and Java, but I don't know a quick way of converting year/month/day/hour/min/second to the # of seconds since the Jan 1 1970 epoch.</p>
<p>Can someone help me?</p>
<p>So far I've figured out how to create a <a href="http://docs.python.org/library/datetime.html" rel="nofollow noreferrer"><code>datetime</code> object</a> but I can't seem to get the elapsed # seconds since the epoch.</p>
<p>(edit: my question is the inverse of this other one: <a href="https://stackoverflow.com/questions/4693915/python-seconds-since-epoch-to-relative-date">Python: Seconds since epoch to relative date</a>)</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>timetuple</code> or <code>utctimetuple</code> method to get time tuple and convert it to timestamp using <code>time.mktime</code></p>
<pre><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; dt = datetime.datetime(2011, 12, 13, 10, 23)
&gt;&gt;&gt; import time
&gt;&gt;&gt; time.mktime(dt.timetuple())
1323793380.0
</code></pre>
<p>There is a nice bug related to it <a href="http://bugs.python.org/issue2736" rel="nofollow">http://bugs.python.org/issue2736</a>, this is interesting read and anybody trying to convert to timestamp should read this. According to that thread correct way is</p>
<pre><code>timestamp = (dt - datetime(1970, 1, 1)) / timedelta(seconds=1)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>datetime.datetime(1970, 1, 1)</code> as a reference and get the total amount of seconds from a <code>datetime.timedelta</code> object as follows:</p>
<pre><code>from datetime import datetime

delta = your_date - datetime(1970, 1, 1)
delta.total_seconds()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import calendar

calendar.timegm(datetime_object.utctimetuple())
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>These lines can return a float number representing seconds since epoch.</p>
<pre><code>import time

time.time()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To convert a datetime object (broken-downtime time: year/month/day/hour/min/second) to  <a href="http://pubs.opengroup.org/onlinepubs/9699919799/xrat/V4_xbd_chap04.html#tag_21_04_15" rel="nofollow noreferrer">seconds since the Epoch (POSIX time)</a>:</p>
<pre><code>seconds_since_epoch = datetime_object.timestamp()
</code></pre>
<p>Note: <a href="http://pubs.opengroup.org/onlinepubs/9699919799/xrat/V4_xbd_chap03.html#tag_21_03_00_17" rel="nofollow noreferrer">POSIX Epoch is "00:00:00 GMT, January 1, 1970"</a>.</p>
<p>If <code>datetime_object</code> has no timezone info then <code>.timestamp()</code> method uses a local timezone.  </p>
<p><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.timestamp" rel="nofollow noreferrer"><code>datetime.timestamp()</code> method</a> is introduced in Python 3.3; for code that works on older Python versions, see <a href="https://stackoverflow.com/a/8778548/4279">Converting datetime.date to UTC timestamp in Python</a>.</p>
</div>
<span class="comment-copy"><code>mktime()</code> works only if <code>dt</code> is a local time. "correct way" works only if <code>dt</code> is a naive datetime object that represents time in UTC (it is wrong if <code>dt</code> is a local time). See <a href="http://stackoverflow.com/a/8778548/4279">Converting datetime.date to UTC timestamp in Python</a>.</span>
<span class="comment-copy">it assumes that <code>your_date</code> is UTC date.</span>
<span class="comment-copy"><code>utctimetuple()</code> fails silently if <code>datetime_object</code> has no timezone info attached unless <code>datetime_object</code> is already represents UTC time.</span>
<span class="comment-copy">That was not the question.</span>
