<div class="post-text" itemprop="text">
<p>Flask suggests the following file layout: </p>
<pre><code>runflaskapp.py 
flaskapp/ 
    __init__.py 
</code></pre>
<p>runflaskapp.py contains: </p>
<pre><code>from flaskapp import app 
app.run(debug=True) 
</code></pre>
<p>flaskapp/<strong>init</strong>.py contains: </p>
<pre><code>from flask import Flask 
app = Flask(__name__) 
</code></pre>
<p>Running this with 'python3 runflaskapp.py' works fine. However it 
seems to me that a more Python3onic way of doing this would be to 
rename 'runflaskapp.py' as 'flaskapp/<strong>main</strong>.py' and then run 
the whole thing as 'python3 -m flaskapp'. Unfortunately this doesn't 
work: </p>
<pre><code>$ python3 -m flaskapp 
 * Running on http://127.0.0.1:5000/ 
 * Restarting with reloader 
Traceback (most recent call last): 
  File "/home/username/src/flaskapp/__main__.py", line 1, in &lt;module&gt; 
    from flaskapp import app 
ImportError: No module named 'flaskapp' 
</code></pre>
<p>Does anyone know why and how to fix it? </p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-m" rel="nofollow"><code>-m</code></a> flag does this:</p>
<blockquote>
<p>Search sys.path for the named module and execute its contents as the <code>__main__</code> module… When a package name is supplied instead of a normal module, the interpreter will execute <code>&lt;pkg&gt;.__main__</code> as the main module.</p>
</blockquote>
<p>In other words, <code>flaskapp</code> is not imported as <code>flaskapp</code>, but as <code>__main__</code>, just like a script would be, and then its <code>__main__</code> module gets executed.</p>
<p>This means <code>from flaskapp import app</code> will not work, because there is nothing named <code>flaskapp</code>.</p>
<p>But the relative import <code>from . import app</code> will. So, as long as there are no absolute imports anywhere in <code>flaskapp</code> except in your new <code>__main__.py</code> file, that one-liner should do it.</p>
</div>
<span class="comment-copy">Which version of Python 3.x is this?</span>
<span class="comment-copy">I'm using Python 3.4.1</span>
