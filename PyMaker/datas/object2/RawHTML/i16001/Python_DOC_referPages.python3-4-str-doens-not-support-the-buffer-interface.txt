<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/11781639/typeerror-str-does-not-support-buffer-interface">TypeError: str does not support buffer interface [duplicate]</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I'm new to Python and have googled ALOT on this problem and I don't get it to work. 
I'm trying to write a value from Roborealm to Python and everything work except that i don't get it to write the value, because of the problem that it doesn't support str. </p>
<p>Here is my own code, the rest of my code is from Roborealm: </p>
<pre><code>rr = RR_API()
width = 0
height = 0
rr.Connect("localhost")
import math 
import socket
Clientsocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
Clientsocket.bind(("localhost", 4040))
serversocket = Clientsocket



#Circles
Circles = str(rr.GetVariable("CirclesCount"), "utf-8")
if Circles &gt;=1:
  print ("Circles = "+rr.GetVariable("CIRCLES_COUNT"))
</code></pre>
<p>And the error code:</p>
<pre><code>Traceback (most recent call last):
  File "C:\Users\RU21\Desktop\Röda puckar\Förbindelse med RR.py", line 281, in &lt;module&gt;
    Circles = str(rr.GetVariable("CirclesCount"), "utf-8")
  File "C:\Users\RU21\Desktop\Röda puckar\Förbindelse med RR.py", line 117, in GetVariable
    self.sock.send("&lt;request&gt;&lt;get_variable&gt;"+str(name) +"&lt;/get_variable&gt;&lt;/request&gt;")
TypeError: 'str' does not support the buffer interface
</code></pre>
<p>I'm new to Python and I have googled ALOT and this is my last chance of getting it to work so please help me. </p>
</div>
<div class="post-text" itemprop="text">
<p>The problem is in <code>C:\Users\RU21\Desktop\Röda puckar\Förbindelse med RR.py</code>, not (only) in your code.</p>
<p>Looking at the traceback, it seems that Roborealm does not support Python 3.x. You should install Python 2.7 and try agin.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>rr.GetVariable("CirclesCount")</code> is returning a str object. You would only need to specify the <code>"utf-8"</code> encoding argument if you had encoded bytes, but since you getting a decoded str, all you need to do is:</p>
<pre><code>Circles = str(rr.GetVariable("CirclesCount"))
</code></pre>
<p>or just (which is better):</p>
<pre><code>Circles = rr.GetVariable("CirclesCount")
</code></pre>
<p>Here is the relevant documentation: <a href="https://docs.python.org/3/library/stdtypes.html#str" rel="nofollow">https://docs.python.org/3/library/stdtypes.html#str</a></p>
</div>
<span class="comment-copy">You need a <i>bytes</i> value, not a string. But you <b>already have a string</b>.</span>
<span class="comment-copy">Ah, right. I did not read the traceback correctly.</span>
<span class="comment-copy">THANKS ALOT, installed Python 2.7 and my code worked :)</span>
<span class="comment-copy">I've tried both ways you said but i still get the same error code. I've tried delete 'str' in Roborealms code also but then i get the error. TypeError: 'str' object is not callable</span>
<span class="comment-copy">don't call <code>str()</code>; unless it is necessary.</span>
<span class="comment-copy">@J.F.Sebastian: Yes. I included the str() version to highlight the 2 str signatures. I've edited my answer indicate that without the str call is better.</span>
