<div class="post-text" itemprop="text">
<p>I'm having a little trouble writing data to text files with python. Basically, what I want to do is read information in a text file, update the read text, and write the updated information back to the same text file. Reading and updating the text is easy enough, however, I run into difficulties when I try to write the updated text back to the text file.</p>
<p>The text file is very basic and consists of three lines. Here it is:</p>
<pre><code>48850

z_merged_shapefiles

EDRN_048850
</code></pre>
<p>I used the code below to try and update it but got this error: <code>'file' object has no attribute 'writeline'</code></p>
<p>Here is the code that I used:</p>
<pre><code>fo = open("C:\\Users\\T0015685\\Documents\\Python\\Foo1.txt", "r")

read1 = fo.readline()
read2 = fo.readline()
read3 = fo.readline()

fo.close()

edrn_v = int(read1) + 1
newID = "EDRN_" + str(edrn_v)

fo = open("C:\\Users\\T0015685\\Documents\\Python\\Foo1.txt", "w")

fo.writeline(edrn_v)
fo.writeline(read2)
fo.writeline(newID)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Although there is a <code>readline</code> there is no analog <code>writeline</code>.</p>
<p>You can either use a <code>write</code> and append a <code>'\n'</code> to terminate a line</p>
<pre><code>with open("C:\\Users\\T0015685\\Documents\\Python\\Foo1.txt", "w") as fo:
    fo.write(edrn_v + '\n')
    fo.write(read2 + '\n')
    fo.write(newID + '\n')
</code></pre>
<p>Or put all the variables in a <code>list</code> and use <code>writelines</code>.</p>
<pre><code>with open("C:\\Users\\T0015685\\Documents\\Python\\Foo1.txt", "w") as fo:
    fo.writelines([edrn_v, read2, newID])
</code></pre>
<p><strong>Note</strong></p>
<p>I am using the <a href="https://docs.python.org/3/reference/compound_stmts.html#with" rel="nofollow">with open</a> statement</p>
<pre><code>with open() as f:
</code></pre>
<p>So you don't have to manage the <code>open</code> and <code>close</code> yourself</p>
<pre><code>f.open()
f.read()
f.close()
</code></pre>
</div>
<span class="comment-copy">Thanks Cyber, your answer works. One problem though, it does read and write as I would expect but creates a space on line 3 and moves the content I would expect to be there to line 4. Do you know why this happens and how I can stop it?</span>
