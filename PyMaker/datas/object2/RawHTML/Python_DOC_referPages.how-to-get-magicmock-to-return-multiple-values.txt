<div class="post-text" itemprop="text">
<p>I'm trying to mock a library (<code>matplotlib</code> for what it's worth), and am hitting an issue where it fails when the mock is called expecting a tuple returned. Is there a better way to do this?</p>
<pre><code>Python 3.7.2 (default, Jan 13 2019, 12:50:15) 
[Clang 10.0.0 (clang-1000.11.45.5)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import mock
&gt;&gt;&gt; foo = mock.MagicMock()
&gt;&gt;&gt; a, b = foo()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ValueError: not enough values to unpack (expected 2, got 0)
&gt;&gt;&gt; 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can set the <code>return_value</code> attribute of the <code>MagicMock</code> object with a tuple of your choice:</p>
<pre><code>import mock
foo = mock.MagicMock()
foo.return_value = 1, 2
a, b = foo()
assert a == 1
assert b == 2
</code></pre>
</div>
<span class="comment-copy">hmm. that's do-able but non-ideal. usually when i use <code>MagicMock</code> it always returns a <code>MagicMock</code> for anything called on it. so now what i'd do is <code>foo.return_value = (mock.MagicMock, mock.MagicMock)</code> (or my my specific case <code>matplotlib.plt.subplots.return_value = (mock.MagicMock, mock.MagicMock)</code></span>
