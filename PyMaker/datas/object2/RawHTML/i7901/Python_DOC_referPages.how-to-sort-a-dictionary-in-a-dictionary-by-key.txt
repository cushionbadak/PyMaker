<div class="post-text" itemprop="text">
<p>can you help me a little bit i'm stuck somewhere in my python code.
i'm sorry if my english is bad, but i'll try my best.</p>
<pre><code>dict = {2: {20.934144973754883: 'red'},
      8: {36.431842803955078: 'blue'},
      9: {27.323692321777344: 'blue'},
     15: {37.194934844970703: 'blue'},
     18: {19.550689697265625: 'red'}}
y = []
x = []

for key,value in dict.items():
    y.append(key)

    for val,color in value.items():
        x.append(val)
        c.append(color)

plt.scatter(sorted(x),sorted(y),color = c)
</code></pre>
<p>To make a line of the data i sorted the x and y. But then when i scattered my plot, the colors where wrong. I know it's because i didn't sorted the colors. But if i try to sort them i fail. Because of the variable value:</p>
<pre><code>value = {20.934144973754883: 'red'}
        {36.431842803955078: 'blue'}
        {27.323692321777344: 'blue'}
        {37.194934844970703: 'blue'}
        {19.550689697265625: 'red'}
</code></pre>
<p>You can't sort this.
please help me, i don't know what to do</p>
</div>
<div class="post-text" itemprop="text">
<p>Implementing <a href="https://stackoverflow.com/questions/44315308/how-to-sort-a-dictionary-in-a-dictionary-by-key/44315638#comment75636258_44315308">quantik's suggestion</a> to use <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" rel="nofollow noreferrer">collections.OrderedDict</a> makes sorting the keys possible and may yield the desired result:</p>
<pre><code>import collections

d = collections.OrderedDict()

d[2]  = {20.934144973754883: 'red'}
d[8]  =  {36.431842803955078: 'blue'}
d[9]  = {27.323692321777344: 'blue'}
d[15] = {37.194934844970703: 'blue'}
d[18] = {19.550689697265625: 'red'}

y = []
x = []

for key,value in d.items():
    y.append(key)

    for val,color in value.items():
        x.append(val)
        c.append(color)

plt.scatter(sorted(x),sorted(y),color = c)
</code></pre>
<p>produces this output:</p>
<p><a href="https://i.stack.imgur.com/hICcF.png" rel="nofollow noreferrer"><img alt="colors scatter plot" src="https://i.stack.imgur.com/hICcF.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>To make a line of the data i sorted the x and y. But then when i scattered my plot, the colors where wrong.</p>
</blockquote>
<p>Your expected results are not clear, but I have the impression you interested in directly plotting the data.</p>
<blockquote>
<p>I know it's because i didn't sorted the colors. </p>
</blockquote>
<p>If you are only interested in plotting data from the dictionary, sorting is unnecessary as we can unpack the dictionary in parallel.</p>
<blockquote>
<p>But if i try to sort them i fail. </p>
</blockquote>
<p>Right now, you are unpacking parts of your data separately, which causes misalignment. You may be mistakenly tempted to sort the data to correct this misalignment.  </p>
<p>Instead, try unpacking with <code>for</code> loops or a list comprehension (note <code>d</code> is used instead of the builtin <code>dict</code> variable):</p>
<pre><code>import matplotlib.pyplot as plt

#%matplotlib inline

d = { 2: {20.934144973754883: 'red'},
      8: {36.431842803955078: 'blue'},
      9: {27.323692321777344: 'blue'},
     15: {37.194934844970703: 'blue'},
     18: {19.550689697265625: 'red'}}

data = [(x, y, c) for y, v in d.items() for x, c in v.items()]

for x, y, c in data:
    plt.scatter(x, y, color=c)
</code></pre>
<p><a href="https://i.stack.imgur.com/lS7GX.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/lS7GX.png"/></a></p>
<p>Alternatively, you can substitute the last two lines with the following, which unpacks all <code>x, y, c</code> data in parallel using <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip</code></a>:</p>
<pre><code>xs, ys, cs = zip(*data)
plt.scatter(xs, ys, color=cs)
</code></pre>
</div>
<span class="comment-copy">It's a bit hard to understand the question, at least for me. Can you share the output you'd like to get for this sample?</span>
<span class="comment-copy">Dictionaries are only sortable in Python3.6 I believe. There are ways to circumevent this like using <code>OrderedDict</code> from <code>collection</code> see <a href="https://stackoverflow.com/questions/613183/sort-a-python-dictionary-by-value">this</a>. In your case the value inside your dictionary would be the second dictionary.</span>
<span class="comment-copy">Ordering of dictionaries in 3.6 is a side-effect of the C implementation and should not be relied upon.</span>
<span class="comment-copy">Add <code>c = []</code> to avoid an error.  I notice the last red point is not correlated with the data.  I expect a point at <code>(19.5.., 18)</code>  instead there is one around <code>(37, 18)</code>.</span>
