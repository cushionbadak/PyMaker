<div class="post-text" itemprop="text">
<p>I'd like to open a .blend file as a text in python, like you would open a .blend file in a text editor. But I only can open it as binary with <em>open(blend, "rb").read()</em>, but then I get encrypted text and it needs very long to load.</p>
<p>How do I get just the text?
<em>open(blend, "r").read()</em> doesn't work, because I get this error:</p>
<pre><code>    File "C:\Users\Daniel\AppData\Local\Programs\Python\Python36-32\lib\encodings\cp1252.py", line 23, in decode
    return codecs.charmap_decode(input,self.errors,decoding_table)[0]
UnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 18726: character maps to &lt;undefined&gt;
</code></pre>
<p>Thanks for help!</p>
</div>
<div class="post-text" itemprop="text">
<p>Opening with <code>"rb"</code> is correct, and the "encrypted text" is how 3d models are stored in blender. I don't really understand your motive for trying to do this so I can't help further.</p>
<p>More information on error:
In the encoding file.read uses, 0x81 is an undefined byte, so it errors when it sees that. However, when opened with <code>"rb"</code>, it will just store the values, not try to convert them to characters (not completely accurate, but helps understand).</p>
</div>
<div class="post-text" itemprop="text">
<p>While the blend file is a binary data file, you will also find that many of them will also be compressed.</p>
<p>The easiest way would be to let blender read the file. To automate the task you can start blender in background mode from <a href="https://docs.blender.org/manual/en/dev/advanced/command_line/arguments.html" rel="nofollow noreferrer">the CLI</a> and have it run a python script using the <a href="https://docs.blender.org/api/blender_python_api_current/" rel="nofollow noreferrer">blender API</a> that extracts the info you want.</p>
<pre><code>blender -b --python extractor.py
</code></pre>
<p>If you are using python to do that, you can use <a href="https://docs.python.org/3/library/subprocess.html#subprocess.run" rel="nofollow noreferrer"><code>subprocess.run()</code></a>.</p>
<pre><code>subprocess.run(['blender', '-b', '--python', 'extractor.py'])
</code></pre>
<p>However if you need to do this on a machine without blender installed, it is possible to read a blend file from python without blender, depending on your needs you may find the answers <a href="https://blender.stackexchange.com/q/35849/935">here</a> and <a href="https://blender.stackexchange.com/q/2410/935">here</a> to be helpful.</p>
</div>
<span class="comment-copy">You cant get "just the text", a blender file <b>is not text</b></span>
<span class="comment-copy">@NickA I know, but you can "open it as text". Just like as you would open it in notepad.</span>
<span class="comment-copy">well if you want the text you could open it in text mode and find an appropriate encoding to read ot with, or open in binary mode and remove the non text characters</span>
<span class="comment-copy">The Blender file is basically a dump of the memory into a file. This makes saving faster and preserves the viewport state.</span>
<span class="comment-copy">Yes Nick, but how can I open it in text mode?</span>
