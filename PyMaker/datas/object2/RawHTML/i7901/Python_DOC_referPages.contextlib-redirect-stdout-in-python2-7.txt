<div class="post-text" itemprop="text">
<p>I use Python2.7 and I want the function: <a href="https://docs.python.org/3/library/contextlib.html#contextlib.redirect_stdout" rel="nofollow noreferrer">contextlib.redirect_stdout</a>.
I mean, I want to redirect the output of specific function (not the all program).
The problem is - only Python3 supports "context.redirect_stdout" and no Python2.7. </p>
<p>Someone know how can I use the same function in Python2.7 or to implement the same idea?</p>
<p>Thanks in advance</p>
</div>
<div class="post-text" itemprop="text">
<p>Something like this should do the job if you're not worried about re-using the same context manager object.</p>
<pre><code>import sys
import contextlib

@contextlib.contextmanager
def redirect_stdout(target):
    original = sys.stdout
    sys.stdout = target
    yield
    sys.stdout = original
</code></pre>
</div>
<span class="comment-copy"><a href="https://contextlib2.readthedocs.io/en/stable/" rel="nofollow noreferrer">contextlib2.readthedocs.io/en/stable</a></span>
<span class="comment-copy">Is it change the all program sdtout? because I have some threads in the same process..</span>
<span class="comment-copy">It does more or less the same thing as <code>redirect_stdout</code> from Python 3's <code>contextlib</code>, whose docs <a href="https://docs.python.org/3/library/contextlib.html?highlight=contextlib.redirect_stdout#contextlib.redirect_stdout" rel="nofollow noreferrer">say it is not suitable for threaded applications</a>. I haven't tested it, but it should redirect <code>stdout</code> globally for all threads. I'm not aware of any way to redirect it in only the current thread.</span>
