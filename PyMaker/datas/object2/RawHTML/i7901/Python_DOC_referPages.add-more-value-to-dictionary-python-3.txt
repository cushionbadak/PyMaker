<div class="post-text" itemprop="text">
<p>how do you add value to a key without overwriting the first value? Here is an example of my code:</p>
<pre><code>def course_rolls(records):
    """Maps course code to the student ID"""
    course_to_id_dict = {}
    for record in records:
        course = record[0][0]
        student_id = record[1][0]
        course_to_id_dict[course] = {student_id}
    print(course_to_id_dict)
    return course_to_id_dict
records = [(('MTH001', 'Mathematics 1'),
            (2763358, 'Cooper', 'Porter')),
           (('EMT003', 'Mathematical Modelling and Computation'),
            (2788579, 'Mandi', 'Stachowiak'))]
rolls = course_rolls(records)
expected = {'MTH001': {2763358}, 'EMT003': {2788579}}
print(rolls==expected)
</code></pre>
<p>The output is True</p>
<p>Let's say if a student ID maps with the same key and I wanted the output to be the expected:</p>
<pre><code>rolls = course_rolls(records)
records = [(('MTH001', 'Mathematics 1'),
            (2763358, 'Cooper', 'Porter')),
           (('EMT003', 'Mathematical Modelling and Computation'),
            (2788579, 'Mandi', 'Stachowiak')),
           (('MTH001', 'Mathematics 1'),
            (2763567, 'New', 'Value'))]
rolls = course_rolls(records)
expected = {'MTH001': {2763358,2763567}, 'EMT003': {2788579}}
print(rolls==expected)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to either detect that the key is already present in <code>course_to_dict_id</code> and add to that set, or use <a href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" rel="nofollow noreferrer"><code>dict.setdefault()</code></a> to give you an <em>empty</em> set whenever you try to retrieve a key that isn't set yet.</p>
<p>The latter is more concise:</p>
<pre><code>for record in records:
    course = record[0][0]
    student_id = record[1][0]
    course_to_id_dict.setdefault(course, set()).add(student_id)
</code></pre>
<p>This produces <code>{'MTH001': {2763358, 2763567}, 'EMT003': {2788579}}</code> as the output (each value in the dictionary a set with 1 or more integers).</p>
</div>
<span class="comment-copy">but how come if I wrote course_to_id_dict[course].append({student_id}) would not work</span>
<span class="comment-copy">@AsyrawiAbdullahZawawi: <code>course_to_id_dict[course]</code> is not a list, it is a set object (provided the object exists). <code>course_to_id_dict[course].add(student_id)</code> would work, provided you first test if <code>course</code> is an existing key.</span>
