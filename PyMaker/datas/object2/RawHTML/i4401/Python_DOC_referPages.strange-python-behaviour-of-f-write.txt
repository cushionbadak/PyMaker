<div class="post-text" itemprop="text">
<p>I was writing some python code and I found a strange behaviour in my code.</p>
<p>This is the code:</p>
<pre><code>import sys

f=open("test1","wb")
test="1000000000"
f.write(bytearray(int(test)))
f.close()
</code></pre>
<p>It generates the file <strong>test1</strong> with lenght 1000000000 (1,0 GB) filled with 0.
Is this supposed to happen(if yes, <strong>why</strong>?) or is a bug?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>bytearray()</code> function creates an array of bytes from a parameter <code>source</code> and the documentation states:</p>
<blockquote>
<p>If it is an integer, the array will have that size and will be initialized with null bytes.</p>
</blockquote>
<p>So you are then just writing 1 billion null characters (<code>\x00</code>) to that file!</p>
</div>
<div class="post-text" itemprop="text">
<p>Initialising a <code>bytearray</code> with a single integer value creates an empty (i.e. filled with zeroes) <code>bytearray</code> of the size specified (as <a href="https://docs.python.org/3/library/stdtypes.html#bytearray" rel="nofollow noreferrer">documented here</a>). Your code therefore converts the string "1000000000" into an integer and then creates a <code>bytearray</code> of that size which it writes to disk.</p>
<p>There is nothing strange or surprising about this behaviour.</p>
</div>
<span class="comment-copy">Do you know what the first argument to <code>bytearray</code> is supposed to be?</span>
<span class="comment-copy">Reading <a href="https://docs.python.org/3/library/stdtypes.html#bytearray" rel="nofollow noreferrer">the docs</a> is overrated, isn't it?</span>
<span class="comment-copy">What did you even <i>expect</i> to happen, anyway?</span>
