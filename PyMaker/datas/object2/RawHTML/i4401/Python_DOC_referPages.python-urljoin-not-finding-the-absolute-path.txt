<div class="post-text" itemprop="text">
<p>I'm trying to get the absolute path but I dont get the correct result. This is I'm trying:</p>
<p>Given I have this html page url:</p>
<pre><code>url1 = 'build/en/index.html'
</code></pre>
<p>and I have this relative path in the file:</p>
<pre><code>url2  = '/pub-assets/css/indexen.css'
</code></pre>
<p>I'm doing:</p>
<pre><code>urljoin(url1, url2)
</code></pre>
<p>So I should get <strong>build/pub-assets/css/indexen.css</strong></p>
<p>but I don't get what is expected.
Any suggestion much appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>If your <code>url1</code> is a file (instead of directory), you should modify the path by using <a href="https://docs.python.org/2/library/urlparse.html#urlparse.urlparse" rel="nofollow noreferrer"><code>urlparse</code></a> and <code>ParseResult._replace</code> to modify the result. </p>
<pre><code>from urlparse import urlsplit

url1 = 'https://example.com/en/index.html'
url2  = 'pub-assets/css/indexen.css'

p = urlsplit(url1).path
new_path = p[:p.rfind('/') + 1] + url2    #Gets the last directory and appends url
joined = urlsplit(url1)._replace(path=new_path)
print joined.geturl()  #Outputs https://example.com/en/pub-assets/css/indexen.css
</code></pre>
<p>This is assuming that <code>url1</code> is an absolute path and <code>url2</code> is a relative path.</p>
</div>
<div class="post-text" itemprop="text">
<p>Python 3.6.1:</p>
<pre><code>&gt;&gt;&gt; u1 = 'https://example.com/en/index.html'
&gt;&gt;&gt; u2 = 'pub-assets/css/indexen.css'
&gt;&gt;&gt; import urllib.parse
&gt;&gt;&gt; urllib.parse.urljoin(u1, u2)
'https://example.com/en/pub-assets/css/indexen.css'
</code></pre>
<p>Python 2.7.14:</p>
<pre><code>&gt;&gt;&gt; u1 = 'https://example.com/en/index.html'
&gt;&gt;&gt; u2 = 'pub-assets/css/indexen.css'
&gt;&gt;&gt; import urlparse
&gt;&gt;&gt; urlparse.urljoin(u1, u2)
'https://example.com/en/pub-assets/css/indexen.css'
</code></pre>
<p>Note the changed import. I would double-check your Python version, import statement, and perhaps post more of your program.</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/10893374/python-confusions-with-urljoin" title="python confusions with urljoin">stackoverflow.com/questions/10893374/â€¦</a></span>
<span class="comment-copy">@MdJohirulIslam I've already seen this post but it did not solve my issue</span>
<span class="comment-copy">You are doing some other mistake. I run your code and get the correct path <code>https://example.com/en/pub-assets/css/indexen.css</code>. If you upload a little bit more code then that would help</span>
<span class="comment-copy">url1 = 'build/en/index.html' --- url2  = '/pub-assets/css/indexen.css'  it results in: build/en//pub-assets/css/indexen.css</span>
<span class="comment-copy">@Milix This was using your question as it was originally asked without the leading slash in <code>url2</code>. If you will always have a leading slash with <code>url2</code>, then drop the trailing slash by removing the <code>+1</code> in the answer.</span>
<span class="comment-copy">I updated the question. do you have any idea?</span>
<span class="comment-copy">I'd encourage you to try parsing the urls using some more specific methods in <a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow noreferrer">urllib.parse</a>.</span>
<span class="comment-copy">Also, using Python 3.6.4, I can <code>urljoin</code> your example URLs and I get <code>build/en/pub-assets/css/indexen.css</code>. What version of Python are you using?</span>
