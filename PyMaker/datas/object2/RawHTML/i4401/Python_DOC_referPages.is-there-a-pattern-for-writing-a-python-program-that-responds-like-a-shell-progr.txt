<div class="post-text" itemprop="text">
<p>I want to modify a python program I've written to accept commands from the command line and then respond to these commands just like a shell.</p>
<p>Is there a standard pattern or library for doing this, or do I just use something like a <code>while True:</code> and <code>stdin.readline()</code>?</p>
</div>
<div class="post-text" itemprop="text">
<p>This is what the <a href="https://docs.python.org/3/library/cmd.html" rel="nofollow noreferrer"><code>cmd</code> module</a>, in the standard library, is designed for:</p>
<blockquote>
<p>The <code>Cmd</code> class provides a simple framework for writing line-oriented command interpreters. These are often useful for test harnesses, administrative tools, and prototypes that will later be wrapped in a more sophisticated interface.</p>
</blockquote>
<p>and from the <a href="https://docs.python.org/3/library/cmd.html#cmd-example" rel="nofollow noreferrer"><em>Example</em> section</a>:</p>
<blockquote>
<p>The <code>cmd</code> module is mainly useful for building custom shells that let a user work with a program interactively.</p>
</blockquote>
<p>and a quick demo example:</p>
<pre><code>import cmd

class CmdDemo(cmd.Cmd):
    intro = "Welcome to the cmd module demo. Type any command, as long as it's black!"
    prompt = '(demo) '

    def default(self, arg):
        print("Sorry, we do't have that color")

    def do_black(self, arg):
        """The one and only valid command"""
        print("Like Henry Ford said, you can have any color you like.")
        print(f"You now have a black {arg}")

    def do_exit(self, arg):
        """Exit the shell"""
        print('Goodbye!')
        return True

if __name__ == '__main__':
    CmdDemo().cmdloop()
</code></pre>
<p>which when run produces:</p>
<pre class="lang-none prettyprint-override"><code>Welcome to the cmd module demo. Type any command, as long as it's black!
(demo) ?

Documented commands (type help &lt;topic&gt;):
========================================
black  exit  help

(demo) help black
The one and only valid command
(demo) red Volvo
Sorry, we do't have that color
(demo) black Austin Martin
Like Henry Ford said, you can have any color you like.
You now have a black Austin Martin
(demo) exit
Goodbye!
</code></pre>
</div>
<span class="comment-copy">You mean <a href="https://docs.python.org/2/howto/argparse.html" rel="nofollow noreferrer">docs.python.org/2/howto/argparse.html</a> ?</span>
<span class="comment-copy">For Python 3 it is <a href="https://docs.python.org/3/howto/argparse.html" rel="nofollow noreferrer">docs.python.org/3/howto/argparse.html</a></span>
<span class="comment-copy">@SeverinPappadeux: that's not what the OP is asking for, that's a command-line argument parser, not a command shell.</span>
<span class="comment-copy">Yes, use the <a href="https://docs.python.org/3/library/cmd.html" rel="nofollow noreferrer"><code>cmd</code> module</a> to produce such an interface.</span>
<span class="comment-copy">Thanks, why would someone down-vote this and not say why?</span>
<span class="comment-copy">Awesome.  From reading the cmd docs this looks exactly like what I need.  It wasn't clear to me how to google for the answer -- my normal course of action -- because the terms have different meanings in different contexts.  Appreciate the very helpful response.</span>
