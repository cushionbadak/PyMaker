<div class="post-text" itemprop="text">
<p>Using Python 2.7</p>
<p>Existing <code>list</code>: Columns and same hostname multiple entries:  <code>xlist</code></p>
<pre><code>Index([u'id', u'last_checkin', u'name'], dtype='object')

{'last_checkin': &lt;DateTime '20180411T14:28:18' at 7f0639d26d88&gt;, 'id': 1000017017, 'name': 'linux1v'}
{'last_checkin': &lt;DateTime '20180411T17:18:30' at 7f0639d26dd0&gt;, 'id': 1000019428, 'name': 'linux1v'}
{'last_checkin': &lt;DateTime '20180411T17:18:52' at 7f0639d26e18&gt;, 'id': 1000019430, 'name': 'linux1v'}
{'last_checkin': &lt;DateTime '20180411T17:24:55' at 7f0639d26e60&gt;, 'id': 1000019437, 'name': 'linux1v'}
{'last_checkin': &lt;DateTime '20180411T17:21:18' at 7f0639d26ea8&gt;, 'id': 1000019443, 'name': 'linux1v'}
{'last_checkin': &lt;DateTime '20180411T17:30:26' at 7f0639d26ef0&gt;, 'id': 1000019453, 'name': 'linux1v'}
</code></pre>
<p>New <code>list</code>: <code>zlist</code></p>
<pre><code>for i in xlist:
  zhostname = i.get('name')
  #print zhostname
  if zhostname not in zlist:
       zlist.append(i)
</code></pre>
<p>In 1st <code>list</code> there are multiple entries for the same host with a different <code>last_checkin</code> date and/or <code>id</code>. For the new <code>list</code> I am trying add to the <code>list</code> when hostname does not already exist. But the new <code>list</code> seems to be an exact copy of the first <code>list</code>. It is like it is not checking for only the hostname in the new list. I do not care about the <code>last_checkin</code> date or <code>id</code> for either entry.</p>
<p>How does it validate the entry if I am only checking the name of the host?<br/>
i.e.:</p>
<pre><code>[if zhostname not in zlist:
   zlist.append(i)]
</code></pre>
<p>So when it looks for the hostname in zlist is it also validating the other columns and sees it is different based on the whole row?</p>
<p>Hopefully this is not clear as mud.</p>
<p>My goal is to have a list with no duplicate hostname entries regardless of <code>id</code> or <code>last_checkin</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem is that zhostname is just a string so when you compare it to the Index objects using <code>zhostname not in zlist</code> the string zhostname will never match the Index's in zlist.</p>
<p>I recommend using a dictionary using the name of the host as the keys.
<a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/datastructures.html#dictionaries</a></p>
<pre><code>checkins = dict()
for i in xlist:
    zhostname = i.get('name')
    if zhostname not in checkins:
        checkins[zhostname] = i
</code></pre>
</div>
<span class="comment-copy">Sorry this is totally unclear. Do you mean this is a <b><i>pandas dataframe</i></b> column whose contents are a list? (If not, please untag <a href="https://stackoverflow.com/questions/tagged/pandas">pandas</a>). Next, instead of saying <i>"In 1st list there are multiple entries for the same host with a different last_checkin date... id"</i>, please <b>show us some rows of your dataframe, showing the id, last_checkin, name</b> columns.</span>
<span class="comment-copy">It probably doesn't have anything to do with your actual issue, but it's a really bad idea to name something <code>list</code> in your code, since that hides the name of the builtin <code>list</code> datatype. It makes your question rather confusing too, since I have no idea when you're saying "list" if you mean the builtin list, or your variable named <code>list</code> (which appears not to be a builtin list, but rather a dataframe or something).</span>
<span class="comment-copy">Yea I found an example that use that... I will change it. It was from a Redhat Manual.</span>
