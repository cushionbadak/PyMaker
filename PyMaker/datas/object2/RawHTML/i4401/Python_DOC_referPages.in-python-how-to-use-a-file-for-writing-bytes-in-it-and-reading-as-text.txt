<div class="post-text" itemprop="text">
<p>I would like to save bytes to a file and then read that file as a text. Can I do it with one <code>with</code>? What should I use, <code>wb</code>, <code>r</code> or <code>wbr</code>?</p>
<pre><code>myBytesVar = b'line1\nline2'
with open('myFile.txt', 'wb') as fw:
    fw.write(myBytesVar)

with open('myFile.txt', 'r') as fr:
    myVar = fr.read()
    print(myVar)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You don't need to re-read the file if you already have its contents stored in <code>myBytesVar</code>:</p>
<pre><code>myBytesVar = b'line1\nline2'

with open('myFile.txt', 'wb') as fw:
    fw.write(myBytesVar)

myVar = myBytesVar.decode('utf-8')
</code></pre>
<p>The encoding Python assumes when reading files as text without an explicit encoding is <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">platform-dependent</a>, so I'm just assuming UTF-8 will work.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here is some information on what mode we should use :</p>
<blockquote>
<p>The default mode is 'r' (open for reading text, synonym of 'rt'). For
  binary read-write access, the mode 'w+b' opens and truncates the file
  to 0 bytes. 'r+b' opens the file without truncation.</p>
</blockquote>
<p>Read more here.
<a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">https://docs.python.org/3/library/functions.html#open</a></p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to do it with one "with": When you write it "wb" is good. 
when you read the file try it</p>
<pre><code>myvar = open('MyVar.txt', 'r').read()
print(myvar)
</code></pre>
</div>
<span class="comment-copy">Why can't you just write <code>myBytesVar</code> to the file and re-use it with <code>myVar = myBytesVar.decode('utf-8')</code>?</span>
<span class="comment-copy">Thanks. Do I need utf8 if I have coding:utf-8 at the beginning of a script?</span>
<span class="comment-copy">By "with one <code>with</code>" do you mean that something like this is acceptable: <code>with open("myFile.txt", "wb") as outFile, open("myFile.txt", "r") as inFile:</code>? This should work, although it's just syntactic sugar for a double <code>with</code>.</span>
<span class="comment-copy">@HrvojeT: The encoding that your Python script file itself uses and the encoding your <code>myFile.txt</code> uses are two completely different things.</span>
<span class="comment-copy">Do I have to close the file then?</span>
<span class="comment-copy">No, what' it need. you already write into file "Myfile.txt" when you see your file "Myfile.txt" it contains line1line2</span>
