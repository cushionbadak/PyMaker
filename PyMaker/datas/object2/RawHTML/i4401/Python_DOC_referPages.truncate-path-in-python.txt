<div class="post-text" itemprop="text">
<p>Is there a way to truncate a long path in Python so it only displays the last couple or so directories? I thought I could use os.path.join to do this, but it just doesn't work like that. 
I've written the function below, but was curious to know if there is a more Pythonic way of doing the same.</p>
<pre><code>#!/usr/bin/python

import os

def shorten_folder_path(afolder, num=2):

  s = "...\\"
  p = os.path.normpath(afolder)
  pathList = p.split(os.sep)
  num = len(pathList)-num
  folders = pathList[num:]

  # os.path.join(folders) # fails obviously

  if num*-1 &gt;= len(pathList)-1:
    folders = pathList[0:]
    s = ""

  # join them together
  for item in folders:
    s += item + "\\"

  # remove last slash
  return s.rstrip("\\")

print shorten_folder_path(r"C:\temp\afolder\something\project files\more files", 2)
print shorten_folder_path(r"C:\big project folder\important stuff\x\y\z\files of stuff", 1)
print shorten_folder_path(r"C:\folder_A\folder\B_folder_C", 1)
print shorten_folder_path(r"C:\folder_A\folder\B_folder_C", 2)
print shorten_folder_path(r"C:\folder_A\folder\B_folder_C", 3)


...\project files\more files
...\files of stuff
...\B_folder_C
...\folder\B_folder_C
...\folder_A\folder\B_folder_C
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The built-in <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">pathlib</a> module has some nifty methods to do this:</p>
<pre><code>&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; 
&gt;&gt;&gt; def shorten_path(file_path, length):
...     # Split the path into separate parts, select the last 
...     # 'length' elements and join them again
...     return Path(*Path(file_path).parts[-length:])
... 
&gt;&gt;&gt; shorten_path('/path/to/some/very/deep/structure', 2)
PosixPath('deep/structure')
&gt;&gt;&gt; shorten_path('/path/to/some/very/deep/structure', 4)
PosixPath('some/very/deep/structure')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You were right when you tried to use <code>os.path</code>. You can simply use <code>os.path.split</code> or <code>os.path.basename</code> like this:</p>
<pre><code>fileInLongPath = os.path.join(os.getcwd(), os.listdir(os.getcwd())[0]) # this will get the first file in the last directory of your path
os.path.dirname(fileInLongPath) # this will get directory of file
os.path.dirname(os.path.dirname(fileInLongPath)) # this will get the directory of the directory of the file
</code></pre>
<p>And just keep doing that as many times as necessary.</p>
<p>Source: <a href="https://stackoverflow.com/a/10149358/6745924">this answer</a></p>
</div>
