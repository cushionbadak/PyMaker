<div class="post-text" itemprop="text">
<p>I have to select those symptoms which is in the dictionary with the symptoms already posted.It works fine.But for some symptoms typeError is showing in command prompt and also all are getting printed in command prompt but not in html page.
Here is my code</p>
<p>views.py</p>
<pre><code>def predict(request):
sym=request.POST.getlist('symptoms[]')
sym=list(map(int,sym))
diseaseArray=[]
diseaseArray=np.array(diseaseArray,dtype=int)
dictArray=[]
for dicti in dictionary:
    if (set(sym)&lt;= set(dicti['symptoms']) and len(sym)!= 0) or [x for x in sym if x in dicti['primary']]:
        diseaseArray=np.append(diseaseArray,dicti['primary'])
        diseaseArray=np.append(diseaseArray,dicti['symptoms'])
diseaseArray=list(set(diseaseArray))
print(diseaseArray)
for i in diseaseArray:
    if i not in sym:
        dict={'id':i}
        dictArray.append(dict)
        print(dictArray)
for j in dictArray:
    symptoms=Symptom.objects.get(syd=j['id'])
    j['name']=symptoms.symptoms
    print(j['name'])
print(len(dictArray))
return JsonResponse(dictArray,safe=False)
</code></pre>
<p>template</p>
<pre><code>$('.js-example-basic-multiple').change(function(){
  $('#suggestion-list').html('');
  $('#suggestion').removeClass('invisible');

  $.ajax({
  url:"/predict",
  method:"post",
  data:{
    symptoms: $('.js-example-basic-multiple').val(),
  },
  success: function(data){

      data.forEach(function(disease){
      console.log(disease.name)
        $('#suggestion-list').append('&lt;li&gt;'+disease.name+'&lt;li&gt;')
        $('#suggestion-list').removeClass('invisible');
    });



  }

  });
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The type of each element in <code>diseaseArray</code> is a <code>np.int32</code> as defined by the line:</p>
<pre><code>diseaseArray=np.array(diseaseArray,dtype=int)  # Elements are int32
</code></pre>
<p><code>int32</code> cannot be serialized to JSON by the <code>JsonResponse</code> being returned from the view.</p>
<p>To fix, convert the id value to a regular <code>int</code>:</p>
<pre><code>def predict(request):
    ...
    for i in diseaseArray:
        if i not in sym:
            dict={'id': int(i)}  # Convert the id to a regular int
            dictArray.append(dict)
            print(dictArray)
    ...
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You seem to be trying to save non JSON serializable objects.
If you want to save specific objects for later use I'd recommend you to use pickle.
<a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">https://docs.python.org/3/library/pickle.html</a></p>
</div>
<span class="comment-copy">I fixed my code.But I deleted that dtype and worked fine</span>
<span class="comment-copy">can you please explain it?which one have to be saved using pickle?dictionary is saved using pickle.</span>
<span class="comment-copy">Some of the datatypes that you are trying to save into JSON are not default python builtin datatypes. like int32 , If you want to save your objects in any format, so that you can read it the next time around. You can use pickle.dump instead of json.dump</span>
