<div class="post-text" itemprop="text">
<p>I'm creating a script to connect on a storage array and run a command.</p>
<pre><code>stdin, stdout, stderr = ssh.exec_command("statvv -rw -iter 1")
for status in stdout:
    result = (status)
    print(result)
</code></pre>
<p>The output is this:</p>
<pre class="lang-none prettyprint-override"><code>V90Z_10_3PAR05   t     0     0     0       0       0      0  0.00  0.00   0.0   0.0    0
V91A_10_3PAR05   r     0     0     0       0       0      0  0.00  0.00   0.0   0.0    -
V91A_10_3PAR05   w     0     0     0       0       0      0  0.00  0.00   0.0   0.0    -
V91A_10_3PAR05   t     0     0     0       0       0      0  0.00  0.00   0.0   0.0    0
--
           309   r  1577  1577        112637  112637         1.83  1.83  71.4  71.4    -
           309   w 20158 20158       1125017 1125017         1.49  1.49  55.8  55.8    -
           309   t 21736 21736       1237653 1237653         1.52  1.52  56.9  56.9    7
</code></pre>
<p>But I want to print only the last lines after the <code>--</code> without saving this to a file.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you know the number of lines that you want to skip, then you could keep a counter and do something like this:</p>
<pre><code>counter = 0 
MAX_COUNT = number_of_lines_you_want_to_skip
for status in stdout:
    if counter &gt; MAX_COUNT:
        result = (status)
        print(result)
    else:
        counter ++
</code></pre>
<p>If you do not know the lines, you could keep reading until you see a <code>"--"</code> (which is what the snippet in your question looks like) and then print only those lines that came after the <code>"--"</code> </p>
<pre><code>seen_dash_flag = false
for status in stdout:
    if status.startswith("--"):
        seen_dash_flag = true
    if seen_dash_flag:             
            result = (status)
            print(result)   
</code></pre>
<p>Hope this helps!</p>
</div>
<div class="post-text" itemprop="text">
<p>I'm not familiar with statvv, but if you know the lines you want will always be after a line reading <code>'--'</code>, you can keep a boolean that tracks whether you've seen it:</p>
<pre><code>stdin, stdout, stderr = ssh.exec_command("statvv -rw -iter 1")
final_status = False
for status in stdout:
    if final_status:
        print(status)
    elif status == '--':
        final_status = True
</code></pre>
</div>
<span class="comment-copy">If you know how many lines to expect, you can skip the first N-M lines and print the remaining M lines. If you do not know, collect all lines into a list and then print the last M lines from the list. It is as easy as <code>print("\n".join(list(stdout)[-M:]))</code>.</span>
<span class="comment-copy">If it's always the same number of lines, just pipe it through <code>tail</code> on the remote host. That way you don't transmit data you're not going to use.</span>
<span class="comment-copy">Is Are those dashes part of <code>stdout</code>?</span>
<span class="comment-copy">@DyZ Not a list, but a <a href="https://docs.python.org/3/library/collections.html#collections.deque" rel="nofollow noreferrer">bounded-length deque</a> (which the documentation describes as "similar to the tail filter in Unix") for efficiency.</span>
<span class="comment-copy">Hi Prune. the dashes are part of stdout</span>
<span class="comment-copy">Thanks. Helps me a lot</span>
<span class="comment-copy">Gald to hear :)</span>
<span class="comment-copy">Thanks ryanmrubin</span>
