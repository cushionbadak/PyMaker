<div class="post-text" itemprop="text">
<p>I am trying to add an element to a json file in python but I am not able to do it.</p>
<p>This is what I tried untill now (with some variation which I deleted):</p>
<pre><code>import json

data = [ { 'a':'A', 'b':(2, 4), 'c':3.0 } ]
print 'DATA:', repr(data)

var = 2.4
data.append({'f':var})
print 'JSON', json.dumps(data)
</code></pre>
<p>But, what I get is: </p>
<pre><code>DATA: [{'a': 'A', 'c': 3.0, 'b': (2, 4)}]
JSON [{"a": "A", "c": 3.0, "b": [2, 4]}, {"f": 2.4}]
</code></pre>
<p>Which is fine because I also need this to add a new row instead an element but I want to get something like this: </p>
<pre><code>[{'a': 'A', 'c': 3.0, 'b': (2, 4), "f":2.4}]
</code></pre>
<p>How should I add the new element?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do this.</p>
<pre><code>data[0]['f'] = var
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>alternatively you can do </p>
<pre><code>iter(data).next()['f'] = var
</code></pre>
</div>
<span class="comment-copy">I think the thing to understand here is that you have in your list a dict embedded in it, when you append you add a new element which is a new dict. If you want to add to the dict then you should access the dict and add the new element as @Jayanth has shown</span>
<span class="comment-copy">That was what I was looking for. Thank you</span>
<span class="comment-copy">What if 'f' doesn't exist, then you have a key error</span>
<span class="comment-copy">@LawrenceDeSouza Look at the example code: <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">docs.python.org/3/tutorial/datastructures.html#dictionaries</a></span>
