<div class="post-text" itemprop="text">
<p>The post <a href="https://stackoverflow.com/questions/9626535/get-domain-name-from-url">Get domain name from URL</a>
suggested multiple libraries to get the top level domain. but </p>
<p><strong>how else can I strip a domain name from webpage with no additional library?</strong></p>
<p>I had tried it with regex it seems to work but I am sure there are better ways of doing it and lots of urls that will break the regex:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; url = "https://stackoverflow.com/questions/22143342/how-else-can-i-strip-a-domain-name-from-webpage-with-no-additional-library-pyt"
&gt;&gt;&gt; domain = re.sub("(http://|http://www\\.|www\\.)","",url).split('/')[0]
&gt;&gt;&gt; domain
'stackoverflow.com'
&gt;&gt;&gt; url = "www.apple.com/itune"
&gt;&gt;&gt; re.sub("(http://|http://www\\.|www\\.)","",url).split('/')[0]
&gt;&gt;&gt; 'apple.com'
</code></pre>
<p>I've also tried urlparse but it ends up with <code>None</code>:</p>
<pre><code>&gt;&gt;&gt; from urlparse import urlparse
&gt;&gt;&gt; url ='https://stackoverflow.com/questions/22143342/how-else-can-i-strip-a-domain-name-from-webpage-with-no-additional-library-pyt'
&gt;&gt;&gt; urlparse(url).hostname
'stackoverflow.com'
&gt;&gt;&gt; url = 'www.apple.com/itune'
&gt;&gt;&gt; urlparse(url).hostname
&gt;&gt;&gt; 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>How about make a function that wraps <code>urlparse</code> ?</p>
<pre><code>&gt;&gt;&gt; from urlparse import urlparse
&gt;&gt;&gt;
&gt;&gt;&gt; def extract_hostname(url):
...     components = urlparse(url)
...     if not components.scheme:
...         components = urlparse('http://' + url)
...     return components.netloc
...
&gt;&gt;&gt; extract_hostname('http://stackoverflow.com/questions/22143342')
'stackoverflow.com'
&gt;&gt;&gt; extract_hostname('www.apple.com/itune')
'www.apple.com'
&gt;&gt;&gt; extract_hostname('file:///usr/bin/python')
''
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="http://docs.python.org/3/library/urllib.parse.html" rel="nofollow">urllib.parse</a> standard library.</p>
<pre><code>&gt;&gt;&gt; from urllib.parse import urlparse
&gt;&gt;&gt; url = 'http://stackoverflow.com/questions/22143342/how-else-can-i-strip-a-domain-name-from-webpage-with-no-additional-library-pyt'
&gt;&gt;&gt; urlparse(url).hostname
'stackoverflow.com'
</code></pre>
</div>
<span class="comment-copy"><a href="http://docs.python.org/2/library/urlparse.html" rel="nofollow noreferrer"><code>urlparse</code></a> is not an external library. Why don't you use it?</span>
<span class="comment-copy">still checking whether my urls break the <code>urlparse</code>, i would have use a regex if possible to see how much i get hasten the process... it's a long list, lol...</span>
<span class="comment-copy">If <code>urlparse</code> does not handle the url, please report a bug.</span>
<span class="comment-copy">why do you think that regex would hasten the parsing?</span>
<span class="comment-copy">see appended question</span>
<span class="comment-copy">checking components' scheme sounds good =), in fact there are many more instances of <code>urlparse(url).hostname</code> becoming Noney, i guess i'll have to catch whatever i can and just throw the noney ones...</span>
<span class="comment-copy">isn't it from <code>from urlparse import urlparse</code> ??</span>
<span class="comment-copy">For python2, yes. My example is for python3</span>
