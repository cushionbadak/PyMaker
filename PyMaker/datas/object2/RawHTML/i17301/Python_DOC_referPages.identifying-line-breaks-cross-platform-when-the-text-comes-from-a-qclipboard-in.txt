<div class="post-text" itemprop="text">
<p>I'm writing a python script that takes text from the clipboard using a pyqt QClipboard object.</p>
<p>The script parses the pasted text as a 2D list breaking into rows at line breaks.</p>
<p>I use windows and in most programming languages I'm used to checking of a '\n' character to identify a line break. The problem I'm hitting is that this script needs to work cross platform and it's not working right on a Mac and after doing some digging I've discovered that a Mac line ending is classed as '\r\n' in python</p>
<p>How can I identify the line endings consistently cross platform?</p>
<p>At the moment I have two separate areas that look for line endings</p>
<p>This one looks for a straggling EOL character and removes it:</p>
<pre><code>if pastedtext[-1] == '\n':
    pastedtext = pastedtext[:-1]
</code></pre>
<p>While this splits the text at each EOL</p>
<pre><code>pasted = pastedtext.split('\n')
</code></pre>
<p>This works fine on windows but not on mac. How can I get these lines to work correctly on both systems, or is there as way I can convert the pasted text into a specific platform's line ending style before running these lines?</p>
<p>Is my only option to branch into two separate handling procedures after doing a string search for '\r\n' in an 'if'?</p>
</div>
<div class="post-text" itemprop="text">
<p>This is what <a href="http://docs.python.org/3/library/stdtypes.html#str.splitlines" rel="nofollow">splitlines</a> is for:</p>
<pre><code>    lines = pastedtext.splitlines()
</code></pre>
<p>which will split the text into lines in a platform-independant way. The eol characters will be stripped from the lines, unless you pass <code>True</code> as an argument.</p>
</div>
<span class="comment-copy">Worked like a charm on windows, now i just gotta see if it wokrs on Mac as the pasted output is a tad... weird</span>
