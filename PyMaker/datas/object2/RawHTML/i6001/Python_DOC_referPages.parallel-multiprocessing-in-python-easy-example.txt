<div class="post-text" itemprop="text">
<p>I need to say that multiprocessing is something new to me. I read some about it but it makes me more confused. I want to understand it on a simple example. Let's assume that we have 2 functions in first one I just increment 'a' variable and then assign it to 'number' variable, in second I start first function and each every one second I want to print 'number' variable. It should looks like:</p>
<pre><code>global number

def what_number():
    a=1
    while True:
       a+=1
       number=a

def read_number():
    while True:
       --&gt; #here I need to start 'what_number' function &lt;--
        time.sleep(1)
        print(number)


if __name__ == "__main__":
    read_number()
</code></pre>
<p>How can I do that? Is there an easy and proper way to do that ?</p>
<p>UPDATE:</p>
<p>I saw noxdafox answer I'm really thankfull but it isn't exactly what I want. First of all I don't want send value in first function ('main' in noxdafox code). Second I don't want to get all values so quene will won't work. I need to get after each second number of while loops. Code should be something like : </p>
<pre><code>import multiprocessing
import time

number = 0


def child_process():
    global number
    while True:
        number += 1
        print(number)


def main():
    process = multiprocessing.Process(target=child_process)
    process.start()

    while True:
       print("should get same number:",number)
       time.sleep(0.001)

if __name__ == "__main__":
    main()
</code></pre>
<p>If u run above code you get something like: <a href="https://i.stack.imgur.com/lW66L.jpg" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/lW66L.jpg"/></a></p>
<p>but this blue selected values should be same ! and that's the main problem :)</p>
<p>P.S sorry for chaos</p>
</div>
<div class="post-text" itemprop="text">
<p>Ok it takes some time but I figured it out. All it was about <a href="https://docs.python.org/3/library/multiprocessing.html#sharing-state-between-processes" rel="nofollow noreferrer">Sharing state between processes </a> now all it works like charm. Code :</p>
<pre><code>from multiprocessing import Process, Value
import time


def child_process(number):
    number.value = 0
    while True:
        number.value += 1
        #print(number)


def main():
    num = Value('i')
    process = Process(target=child_process, args=(num,))
    process.start()
    while True:
       print("should get same number:", num.value)
       time.sleep(1)

if __name__ == "__main__":
    main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As processes live in separate memory address spaces, you cannot share variables. Moreover, you are using global variables incorrectly. <a href="https://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them">Here</a> you can see an example on how to use global variables.</p>
<p>The most straightforward way to share information between processes is via a <a href="https://docs.python.org/3.6/library/multiprocessing.html#pipes-and-queues" rel="nofollow noreferrer"><code>Pipe</code></a> or <a href="https://docs.python.org/3.6/library/multiprocessing.html#pipes-and-queues" rel="nofollow noreferrer"><code>Queue</code></a>.</p>
<pre><code>import multiprocessing

def child_process(queue):
    while True:
        number = queue.get()
        number += 1
        queue.put(number)

def main():
    number = 0
    queue = multiprocessing.Queue()
    process = multiprocessing.Process(target=child_process, args=[queue])
    process.start()

    while True:
        print("Sending %d" % number)
        queue.put(number)

        number = queue.get()
        print("Received %d" % number)

        time.sleep(1)

if __name__ == "__main__":
    main()
</code></pre>
</div>
<span class="comment-copy"><a href="http://chriskiehl.com/article/parallelism-in-one-line/" rel="nofollow noreferrer">chriskiehl.com/article/parallelism-in-one-line</a></span>
<span class="comment-copy"><code>global number</code> ?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/8533318/multiprocessing-pool-when-to-use-apply-apply-async-or-map">multiprocessing.Pool: When to use apply, apply_async or map?</a></span>
<span class="comment-copy">@alfasin global because I want to get access to it from other function</span>
<span class="comment-copy">That's not how <code>global</code> is used</span>
<span class="comment-copy">Thanks for your answer but in this case I get number increased for 1 every 1sec . The point is to get number of while loops you know what I mean ?</span>
<span class="comment-copy">I mean to get value of number where number is all the time increased for 1sec in while loop :)</span>
<span class="comment-copy">there is a way to do it something like that ? <a href="https://pastebin.com/ehMv1j1p" rel="nofollow noreferrer">pastebin.com/ehMv1j1p</a> ? But for now it's giving all the time 0</span>
<span class="comment-copy">I updated question have a look now if u can :)</span>
