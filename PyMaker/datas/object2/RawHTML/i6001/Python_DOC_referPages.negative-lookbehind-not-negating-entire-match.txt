<div class="post-text" itemprop="text">
<p>EDIT:  To be more precise the hostnames could come anywhere within a paragraph, I want to completely discard any hosts that start with https:// (or http:// actually, but just testing with https://), I don't want to capture their hostnames, but I do want to capture any hostnames that don't start with https://</p>
<p>I'm having trouble getting a python regex with a negative lookbehind to work.  I want to match hostnames, but not when they start with https://.</p>
<p>so match: caller.fls.help.test.com
<strong>not</strong>: <a href="https://dont-want.fls.help.test.com" rel="nofollow noreferrer">https://dont-want.fls.help.test.com</a></p>
<p>My regex I've built is:</p>
<pre><code>((?&lt;!https:\/\/)([a-zA-Z0-9_-]+?)(\.\w{3})?
(\.help\.test\.com|\.remote\.help\.test\.com))
</code></pre>
<p>Unfortunately, this still matches "aller.fls.help.test.com" in my example.  You can see that here:</p>
<p><a href="https://i.stack.imgur.com/yftoM.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/yftoM.png"/></a></p>
<p>How do I make the negative lookbehind negate the whole match?  Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>Does this do what you want?  I anchored the start and end of the match so that it considers the whole line from start to finish.</p>
<pre><code>(\n|^)((?&lt;!https:\/\/)([a-zA-Z0-9_-]+?)(\.\w{3})?(\.help\.test\.com|\.remote\.help\.test\.com))(\n|$)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If all hosts come in as single strings, I'd recommend another approch: Look if 'https' is contained in your string - If not, compare the hostname. </p>
<p>It would look like this:</p>
<pre><code>hosts = ['caller.fls.help.test.com','https://caller.fls.help.test.com']

for host in hosts:
    if 'https' not in host:
        #Your match-regex
</code></pre>
</div>
<span class="comment-copy">do you have to use negative lookbehind? can't you use negative look ahead? ^(?!(?:https))(.*)$</span>
<span class="comment-copy">Don't waste your time with regexes: use <a href="https://docs.python.org/3/library/urllib.parse.html#module-urllib.parse" rel="nofollow noreferrer">urllib.parse</a>.</span>
<span class="comment-copy">To clarify, you want to match hostnames that are just the host name, or that start with 'http://' but just not with 'https://'... is that right?</span>
