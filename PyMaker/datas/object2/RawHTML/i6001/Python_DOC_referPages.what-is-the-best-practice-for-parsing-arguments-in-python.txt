<div class="post-text" itemprop="text">
<p>As I don't have much experience in Python, I'm always trying to follow the <a href="https://google.github.io/styleguide/pyguide.html?showone=Main#Main" rel="nofollow noreferrer">Google Python Style Guide</a>. The guide contains the following sentence.</p>
<p>"Even a file meant to be used as a script should be importable and a mere import should not have the side effect of executing the script's main functionality."</p>
<p>Therefore, I searched for a way to override <code>__getattr__</code>, and have been using <a href="https://stackoverflow.com/a/14620633/5277458">this ArrtDict class</a> for arguments parsing as follows.</p>
<pre><code>import argparse

class AttrDict(dict):
    def __init__(self, *args, **kwargs):
        super(AttrDict, self).__init__(*args, **kwargs)
        self.__dict__ = self

def parse_args(args):
    if isinstance(args, list):
        parser = argparse.ArgumentParser()
        parser.add_argument('--args1')
        return parser.parse_args(args)
    else:
        return AttrDict(args)

def main(args):
    args = parse_args(args)

if __name__ == '__main__':
    import sys
    main(sys.argv[1:])
</code></pre>
<p>What would be the best practice for arguments parsing in Python?</p>
</div>
<div class="post-text" itemprop="text">
<p>What the sentence you're referring to is saying is that you should have this line in your script file:</p>
<pre><code>if __name__ == '__main__':
</code></pre>
<p>And that any code that runs the script should appear in that block.  By doing so, you ensure that the code won't automatically run when you import it from another file, since importing ignores the if statement mentioned above.</p>
<p>For processing arguments (which should exist in the if block mentioned above, since you wouldn't want to do that when importing), you should use argparse for everything after Python 2.7.  Here's a link to the documentation:</p>
<p><a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">Python argparse library</a></p>
<p>You shouldn't have to override <code>__getattr__</code></p>
</div>
<span class="comment-copy">This is probably more appropriate for code review if there are no bugs in the code you've provided.</span>
<span class="comment-copy">@EdwardMoseley Okay, I will move it soon but I can't right now because I can only post once every 40 minutes.</span>
<span class="comment-copy"><code>argparse.Namespace</code> is a class that behaves much like your <code>AttrDict</code>.  <code>parse_args</code> returns such an object, but you can create one yourself,  <code>args=argparse.Namespace(foo='bar', verbose=True)</code>.</span>
<span class="comment-copy">I think I was so obsessed with calling main method from impoting module. Thank you for your advice.</span>
