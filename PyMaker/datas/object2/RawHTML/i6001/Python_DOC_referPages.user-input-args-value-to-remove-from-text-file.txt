<div class="post-text" itemprop="text">
<p>when user runs <code>script.py -r sampletext</code> I want this to remove that text from the file. </p>
<pre><code>#!/usr/bin/python3
import shutil
import argparse

parser = argparse.ArgumentParser()
parser.add_argument('-r', action='store_true')
args = parser.parse_args()

if args.r:
        f = open("config.dat","r")
        lines = f.readlines()
        f.close()
</code></pre>
<p>What I'm trying to do here is after the above code has read the file then the code below will re-write the file and leave out the <code>args</code> command :</p>
<pre><code>f = open("config.dat","w")
for line in lines:
    print(line)
    if line!= (args.r + "\n"): #Replace this string with your arg var
        f.write(line)
f.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When you specify <code>action="store_true"</code>, that means that <code>args.r</code> will be stored as a boolean (True/False).
If you want ro retrieve the argument after the <code>-r</code> option you have to use:</p>
<pre><code>parser.add_argument('-r', dest='to_remove')
</code></pre>
<p>Then you can access it with <code>args.to_remove</code>.</p>
<p>Please read more about the <a href="https://docs.python.org/3/library/argparse.html#the-add-argument-method" rel="nofollow noreferrer">add_argument</a> method.</p>
</div>
