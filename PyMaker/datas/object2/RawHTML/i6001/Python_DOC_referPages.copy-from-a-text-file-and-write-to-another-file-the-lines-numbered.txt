<div class="post-text" itemprop="text">
<p>My question is simple.</p>
<p>My task is to read a text file named cities.txt with countries and capitals 
(e.g. the first three lines are:</p>
<p>Aberdeen, Scotland</p>
<p>Adelaide, Australia</p>
<p>Algiers, Algeria</p>
<p>)</p>
<p>and write to another text file named out.txt these contents numbered
(e.g.</p>
<p>1: Aberdeen, Scotland</p>
<p>2: Adelaide, Australia</p>
<p>3: Algiers, Algeria</p>
<p>)</p>
<p>My code so far is:</p>
<p><div class="snippet" data-babel="false" data-console="true" data-hide="false" data-lang="js">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>try:
    with open('cities.txt', 'r') as f:
        with open('out.txt', 'w') as m:
            lines = f.read()
            #missing code
except:
    print('Error')
else:
    with open('out.txt', 'r') as m:
        content = m.read()
    print(content)</code></pre>
</div>
</div>
</p>
<p>Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p>You could do it, like so:</p>
<pre><code>with open('cities.txt') as infile, open('out.txt', 'w') as outfile:
    in_lines = infile.readlines()
    for i, line in enumerate(in_lines, start=1):
        outfile.write('{}: {}'.format(i, line))
</code></pre>
<p>The text written to the <code>out.txt</code>:</p>
<pre><code>1: Aberdeen, Scotland
2: Adelaide, Australia
3: Algiers, Algeria
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You just need to loop over each line in the input file and write to the output - and use a counter to keep track of the line number:</p>
<pre><code>with open('cities.txt', 'r') as f:
    with open('out.txt', 'w') as m:
        l = 1
        for line in f:
            m.write("{}: {}".format(l, line))
            l += 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can keep it short by opening the files on one line</p>
<pre><code>with open(r'bla.txt', 'r') as fd, open(r'bla2.txt', 'w') as fd2:
    count = 1
    for line in fd.readlines():
        fd2.write(str(count) + ': ' + line)
        count += 1
</code></pre>
</div>
<span class="comment-copy">Have a look at <a href="https://docs.python.org/3/library/stdtypes.html#str.splitlines" rel="nofollow noreferrer"><code>str.splitlines()</code></a> and <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer"><code>enumerate()</code></a>.</span>
<span class="comment-copy">It worked! Thank you!</span>
<span class="comment-copy">The else block doesn't print anything...</span>
