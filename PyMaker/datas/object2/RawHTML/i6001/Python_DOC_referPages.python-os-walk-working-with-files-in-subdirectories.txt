<div class="post-text" itemprop="text">
<p>Learning Python as part of my thesis, and I'm completely self taught/don't know what I'm doing; apologies if this is trivial.
Been scouring the net for a while, and cannot find a "plain english" answer to this, nor can I figure out how to do this on my own. I've gleaned many tidbits on knowledge from this site via lurking, so I hope ya'll can help.</p>
<p>I have a folder that contains folders named after years (2001, 2002, 2003, etc), and inside each is a numbered folder for each month (01, 02, 03, etc). Inside each of those are my csv files that I'm working with. I've already set up a program to load them in and analyze them, but it only works when there are no subdirectories involved. Otherwise it tells me the file does not exist. Simply trying to get python to see the csv files in those subdirectories and run them through the program.</p>
<p>For example, this works just fine:</p>
<pre><code>top = r'C:\Users\Brock\Desktop\Masters_Python&amp;Data\WRF_data\ctl\2006\01'
os.chdir(top)    #change current directory to 'top' object
for root,dirs,files in os.walk(top, topdown = True):
    for file in files:
    #blah blah program goes here
</code></pre>
<p>However when I try to run this:</p>
<pre><code>top = r'C:\Users\Brock\Desktop\Masters_Python&amp;Data\WRF_data\ctl'
os.chdir(top)
for root,dirs,files in os.walk(top, topdown = True):    
    for file in files:
    #blah blah program goes here
</code></pre>
<p>It tells me that the first file in the first folder (01) does not exist. Also throws a random "b" in there after the word "File":</p>
<pre><code>FileNotFoundError: File b'1136072700_KSUN_wrf6x6.csv' does not exist 
</code></pre>
<p>This occurs if top is something like "r'C:\Users\Brock\Desktop\Masters_Python&amp;Data\WRF_data\ctl\2006' as well.</p>
<p>Again, I apologize if this is a stupid question, but I'd rather ask someone who knows rather than me fiddling with it for a week to get somewhere.</p>
<p>Cheers</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to use <a href="https://docs.python.org/3/library/glob.html" rel="nofollow noreferrer"><code>glob</code></a>:</p>
<pre><code>import glob
import csv

path = r'C:\Users\Brock\Desktop\Masters_Python&amp;Data\WRF_data\ctl\*\*\*.csv'
for file in glob.iglob(path):
   with open(file) as f:
     reader = csv.reader(f, delimiter=',')
     for row in reader:
         do_something_with(row)
</code></pre>
</div>
<span class="comment-copy">Read the <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer">docs.python.org/3/library/os.html#os.walk</a> : "Note that the names in the lists contain no path components. To get a full path (which begins with top) to a file or directory in <code>dirpath</code>, do <code>os.path.join(dirpath, name)</code>"</span>
<span class="comment-copy">That worked perfectly.  Just so I understand what it is I've got here: The *s represent wildcards, glob generates the list of directories and files, while iglob does this without doing them all simultaneously?  Thank you for your quick response, had a feeling this matter was really simple to solve lol.</span>
