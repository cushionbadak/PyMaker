<div class="post-text" itemprop="text">
<p>I have a json format string to be loaded with python2, but it will be error when <code>json.loads()</code>.  </p>
<p><code>{"api":"wdetail","v":"5.0","ret":["100"],"data":{"apiStack":[{"name":"esi","value":"{\"api\":\"com.aaa.detail\",\"v\":\"1.0\",\"ret\":[\"11\"]}"}]}}</code></p>
<p>when loads above json string, it will prompt error: <code>ValueError: Expecting , delimiter: line 1 column 87 (char 86)</code>, I found that is because there quote mark  before brace in <code>"value":"{\"api\"</code>, if I remove quote mark, json loads works.</p>
<p><code>{"api":"wdetail","v":"5.0","ret":["100"],"data":{"apiStack":[{"name":"esi","value":{\"api\":\"com.aaa.detail\",\"v\":\"1.0\",\"ret\":[\"11\"]}}]}}</code></p>
<p>About first string, how can I ask json.loads to support it. otherwise, I need to remove quote mark one by one which is bored.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="nofollow noreferrer">str.replace()</a> to remove <code>"{</code> and <code>}"</code> from your first string:</p>
<pre><code>new_s = s.replace('"{', '{').replace('}"', '}')  # s is your first string here
data = json.loads(new_s)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Since we are talking about json.loads() means that you are reading files.
you can do so with bash and the amazing sed</p>
<pre><code>sed -i 's/"{/{/g' filename.json &amp;&amp; sed -i 's/}"/}/g' filename.json
</code></pre>
<p>and if you wanna be very cool you can even use a fabric script!</p>
</div>
<span class="comment-copy">Can we see the exact string literal you're using (preferably a MCVE)? If you wrapped what you had in an <code>r''</code> string, it should work fine. Are you testing this from an actual other input, or by just manually entering the string?</span>
<span class="comment-copy">Indeed that works, however I wonder why the value of the key "value" is quoted to begin with. Is it supposed to be a string value and not an actual object? This suggestion will parse the value as a JSON object and not a string, and maybe that's not what's intended.</span>
<span class="comment-copy">No, it is supposed to be a string, it surely comes from the string's source or the processing before this stage.</span>
<span class="comment-copy">this string is come from another output, the replacement may be a solution. but if there is real { in a string, the replace will be something wrong.</span>
<span class="comment-copy">@JerryYYRain If you can fix this issue in your sting's source, that's what you should normally do.</span>
<span class="comment-copy">The string come from others, I can not modify it directly. Maybe I should handle it by myself.</span>
<span class="comment-copy">I don't see how this answers the question - <code>json.loads</code> specifically does not work on files (that would be <code>.load</code>), but <code>a ``str``, ``bytes`` or ``bytearray`` instance</code>. Providing someone with a bash command doesn't help them if they want to parse JSON in Python.</span>
<span class="comment-copy">In the specific question when he says "I need to remove quote mark one by one which is bored." you gather that his source is a file.json opened with read and being passed to json.loads but loads() complaints for invalid syntax. so why not use bash to deal with it since it's can be dealed with by generating a fabric.py script to fix all json files before your python execution and improve its performance??</span>
<span class="comment-copy">The question doesn't mention files anywhere. If you're reading JSON files, you would use <code>.load</code> instead of loads anyway. You can't assume they're working with files - it may have come from an API, from another function in Python, or from another program. Note that the question says "JSON <b>string</b>".</span>
<span class="comment-copy">The phrase "remove one by one" indicates a STATIC CONTENT .  STATIC CONTENT = FILE</span>
<span class="comment-copy">There's really no need for that kind of tone - I'm not criticising you, I'm providing feedback for your answer. OP never once mentions files, but specifically mentions it's a string 6 times. English clearly isn't OP's first language, so it's not really going to be productive to read too much into "I need to remove quote mark one by one which is bored."</span>
