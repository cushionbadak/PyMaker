<div class="post-text" itemprop="text">
<p>consider i'm getting out from a row where row[0],row[1],row[2] consists of below output and it comes in same order as below:</p>
<pre><code>'Testcase2', 37L, 'hydra.c
'Testcase2', 100L,'vendor.c
'Testcase7', 34L, 'template.c
'Testcase3', 88L, 'hydra.c
'Testcase3', 80L, 'vendor.c
'Testcase6', 81L, 'template.c
'Testcase1', 1L, 'hydra.c
'Testcase4', 89L, 'vendor.c
'Testcase8', 41L, 'template.c
'Testcase5', 83L, 'vendor.c
'Testcase4', 98L, 'template.c
</code></pre>
<p>i need a unique test case names to be printed along with maximum row[1] value so i thought of creating dictionary with multiple values.</p>
<pre><code>{'Testcase1': {'hydra.c': 1},
 'Testcase2':{'hydra.c':37,'vendor.c':100 },
 'Testcase3':{'hydra.c':1,'vendor.c':80}
 'Testcase4':{'vendor.c':89,'template.c':98},
 'Testcase5':{'vendor.c':83}
 'Testcase6':{'template.c':34}....} 
</code></pre>
<p>for creating dictionary with multiple values as above please do help me so that later i will do sorting of nested dict so that later i ll print testcase name with highest row[1] value:</p>
<pre><code>from pprint import pprint as pp
d={}
for x,y,z in row:
    d.setdefault(x,{z:[]})
    d[x][z].append(y)

pp(d)
</code></pre>
<p>i tried above code but its updating only with new file name its not appending as above requirement.</p>
</div>
<div class="post-text" itemprop="text">
<p>Append is a list operation. Based on your example data, it appears you anticipate distinct z's for a given x:</p>
<pre><code>    for x, y, z in row:
        if x not in d:
            d[x] = {}
        d[x][z] = y
</code></pre>
<p>But that <code>if</code> is a common pattern addressed in <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer">collections</a>:</p>
<pre><code>from collections import defaultdict

    d = defaultdict(dict)
    for x, y, z in row:
        d[x][z] = y
</code></pre>
</div>
<span class="comment-copy"><a href="https://stackoverflow.com/help/how-to-ask">stackoverflow.com/help/how-to-ask</a></span>
<span class="comment-copy">And what have you tried in order to achieve this?</span>
<span class="comment-copy">i have added my code</span>
<span class="comment-copy">how to sort 'd' based on value 'y'</span>
<span class="comment-copy">A dict makes no promises about being sorted. You'll want some sortable data structure, such as a list. Initialize with <code>lst = []</code>, and after assigning <code>d[x][z] = y</code>, also do <code>lst.append((y, x, z))</code> (or the tuple y, z, x if that is what your question was asking). Then <code>sorted(lst)</code> gives the desired result. To make it look nice, use <code>pprint.pprint(sorted(lst))</code>.</span>
<span class="comment-copy">A revision to this      if x not in d:             d[x] = {}         d[x][z] = y is needlessly slow this is faster:   going with try/except KeyError catch is way faster.</span>
