<div class="post-text" itemprop="text">
<p>Is there an option to set the maximum characters per line in a <code>QTextEdit</code>?</p>
<p>I have an app that opens a template and pastes fetched <code>QLineEdit</code> strings into specific lines in the <code>QTextEdit</code>.</p>
<p>I have tried:</p>
<pre><code>QTextEdit.setMaximumWidth(something)
QTextEdit.setLineWrapMode(QTextEdit.WidgetWidth)
QTextEdit.setWordWrapMode(QtGui.QTextOption.WrapAtWordBoundaryOrAnywhere)
</code></pre>
<p>This does the job visually in the app, but when saving the text to a file, the word-wrap settings in the QTextEdit are ignored (and those lines mentioned can be 1000 characters long).</p>
<p>I see that:</p>
<pre><code>QTextDocument.setTextWidth()
</code></pre>
<p>has it, but not <code>QTextEdit</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you need to fix the width of the text when saving, you can use the <a href="https://docs.python.org/3/library/textwrap.html#module-textwrap" rel="nofollow noreferrer">textwrap</a> module from the stdlib:</p>
<pre><code>import textwrap

def saveText(self, width=100):
    text = self.textEdit.toPlainText()
    with open('somefile.txt', 'w') as stream:
        for line in textwrap.wrap(text, width=width):
            stream.write(line)
</code></pre>
<p>The format of the text can be modified in various other ways by using the keyword arguments specified for the <a href="https://docs.python.org/3/library/textwrap.html#textwrap.TextWrapper" rel="nofollow noreferrer">TextWrapper</a> class.</p>
</div>
<div class="post-text" itemprop="text">
<p>The answer to my problem was partly solved by using textwrap, and pasting it to the QTexEdit box before saving, or it wouldent work properly.
this textbox searched another textbox and replacing flagged words.
and with just saving the final textbox in the end that one string would not be wrapped when using texwrap save.</p>
<p>this code worked.</p>
<pre><code>import textwrap
branchoverview = data["results"][0]['overview']
width = 10
self.QTexEdit_plot.setText(textwrap.fill(str(branchoverview), width=width))
</code></pre>
<p>Thank you <a href="https://stackoverflow.com/users/984421/ekhumoro">ekhumoro</a> for setting me on right track.</p>
</div>
<span class="comment-copy"><code>textEdit.document().setTextWidth(width)</code>.</span>
<span class="comment-copy">It seem that      textEdit.document().setTextWidth(width) dont either have any effect when saving the content of a Qtextedit to a file. it however do line breaks correct visually.</span>
<span class="comment-copy">Unfortunately textwrap consider the Qtextedit box like a long string.</span>
<span class="comment-copy">@StormShadow. What do you mean? It <b>is</b> a long string. That's why you need to break it up into lines.</span>
