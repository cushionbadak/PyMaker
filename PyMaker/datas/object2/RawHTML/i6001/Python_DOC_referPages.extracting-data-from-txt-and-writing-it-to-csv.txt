<div class="post-text" itemprop="text">
<p>I have a txt file with json tweets, 
every tweet is between ["text": &amp; "is_quote_status":], 
i have manged to extract just the tweets, now i want to write the print output line by line to a csv.</p>
<pre><code>import csv
with open('trumpT.csv', "wb") as csvfile:
    writer = csv.writer(trumpT.csv, delimiter=',')
with open('sim.txt', 'rb') as f:
    for line in f:
        line.split('"text" :')[1].split(', "is_quote_status')[0]
        writer.writerow(line)
</code></pre>
<p>Error
    writer = csv.writer(trumpT.csv, delimiter=',')
    NameError: name 'trumpT' is not defined</p>
<p>I able to get this part right but the csv is not working?</p>
<pre><code>with open('sim.txt', 'rb') as f:
    for line in f:
        print line.split('"text" :')[1].split(', "is_quote_status')[0]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this:</p>
<pre><code>import csv

with open("sim.txt", "r", newline='', encoding='utf8') as in_txt:
        in_reader = csv.reader(in_txt, delimiter = '\t')
        with open("trumpT.csv", "w", encoding='utf-8') as out_csv:
            out_writer = csv.writer(out_csv)
            for row in in_reader:
                row.split('"text" :')[1].split(', "is_quote_status')[0]
                out_writer.writerow(row)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>When using <code>with</code> take care to see until when you need that object, </p>
<blockquote>
<p>Python will then execute the code body, and no matter what happens in that code, call the guard objectâ€™s <strong>exit</strong> method.</p>
</blockquote>
<p>So you have to do everything in the body of the <code>with</code> statement
your code should look like this:</p>
<pre><code>import csv
with open('trumpT.csv', "wb") as csvfile, open('sim.txt', 'rb') as f:       
    writer = csv.writer(trumpT.csv, delimiter=',')
    for line in f:
        line.split('"text" :')[1].split(', "is_quote_status')[0]
        writer.writerow(line)
</code></pre>
<p>Sources:</p>
<p><a href="http://effbot.org/zone/python-with-statement.htm" rel="nofollow noreferrer">http://effbot.org/zone/python-with-statement.htm</a>
<a href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="nofollow noreferrer">https://docs.python.org/3/reference/compound_stmts.html#the-with-statement</a></p>
</div>
<div class="post-text" itemprop="text">
<p>This process can be made simple by using <a href="https://pandas.pydata.org/" rel="nofollow noreferrer">Pandas</a>.</p>
<p>Consider you have a valid json file at <code>/path/to/input.json</code> or <code>/path/to/input.txt</code>, file extension doesn't matters as far as a valid json is present.</p>
<pre><code>import pandas as pd

df = pd.read_json("path/to/input.txt")
df[["text", "created_at_date"]].to_csv("output.csv", index=False)
</code></pre>
</div>
<span class="comment-copy">Which error do you get ?</span>
<span class="comment-copy">it seems you shoud replace <code>trumpT.csv</code> with <code>'trumpT.csv'</code> (need quotes)</span>
<span class="comment-copy">it is in quotes!! i dont know why i am getting this error!!</span>
<span class="comment-copy">i'm not talking about line 2 but line 3: <code>writer = csv.writer(trumpT.csv, delimiter=',')</code></span>
<span class="comment-copy">Now im getting a fresh error, writer = csv.writer('trumpT.csv', delimiter=',') TypeError: argument 1 must have a "write" method</span>
<span class="comment-copy">thank you for this, i am getting an error--with open("sim.txt", "r", newline='', encoding='utf8') as in_txt: TypeError: file() takes at most 3 arguments (4 given)</span>
<span class="comment-copy">Code was intended for version 3, I am assuming you're on 2.  Try <code>with open("sim.txt", "rb")</code> instead</span>
