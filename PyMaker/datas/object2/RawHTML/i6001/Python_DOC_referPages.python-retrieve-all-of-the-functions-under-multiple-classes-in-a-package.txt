<div class="post-text" itemprop="text">
<p>I currently have a package structure like that:</p>
<pre><code>common/
    a.py
    b.py
    c.py
    __init__.py
    .svn
util/
    util.py
    __init__.py
</code></pre>
<p>I want to write a function in util.py to retrieve all of the functions in a.py, b.py, c.py</p>
<pre><code>from os import listdir

files = listdir(directory_to_common)
for f in files:
    if '.py' in f and '__' not in f:
        module_name = f.split(.)[0]
        module = __import__(module_name)
</code></pre>
<p>I can successfully import the module. </p>
<p>Than I used </p>
<pre><code>inspect.getmembers(module) 
</code></pre>
<p>but it returns a lot of un-needed information.
From here, how do I retrieve the functions inside a.py, b.py, c.py? </p>
<pre><code>#a.py, b.py, c.py has similar structure as follows:
class A:
    def __init__(self):
        .....
    def method1_in_a(self):
        .....
    def method2_in_a(self):
        .....
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To return only needed information, use the optional argument <code>predicate</code>. Example to find all classes in a module and all functions in a class:</p>
<pre><code>classes = inspect.getmembers(module, predicate=inspect.isclass)
for cls_name, cls in classes:
    functions = inspect.getmembers(cls, predicate=inspect.isfunction)
        for fn_name, fn in functions:
            print(cls_name, fn_name)
</code></pre>
<p>For a list of all available predicates, see <a href="https://docs.python.org/3/library/inspect.html" rel="nofollow noreferrer">inspect module docs</a> (all the functions named <code>inspect.isXYZ</code> are predicates).</p>
</div>
<div class="post-text" itemprop="text">
<p>You can try this:</p>
<pre><code>import inspect
from os import listdir
files = listdir(directory_to_common)
functions = [inspect.getmembers(__import__("{}.{}".format(directory_to_common, i[:-3])), inspect.isfunction) for i in files if i.endswith('.py') and not i.startswith('__')]
</code></pre>
</div>
<span class="comment-copy">What do you mean by "functions"?  Functions defined using <code>def</code>? Instances of <code>function</code>? Any callables?</span>
<span class="comment-copy">@Goyo I mean to return all the method, method1_in_a, method2_in_a, etc in each class inside ech py files.</span>
