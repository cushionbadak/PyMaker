<div class="post-text" itemprop="text">
<p>The following code gives me the data for all the folders, subfolders and files along with the size of each. Currently, this is saving the data in a CSV file. But I believe this kind of data (nested data) is best suited for XML. I am not very well versed with XML. Any help to modify the code will be appreciated </p>
<pre><code>import os
import csv

def GetHumanReadable(size,precision=2):
    suffixes=['KB','MB','GB','TB']
    suffixIndex = 0 
    while size &gt; 1024:
        suffixIndex += 1 #increment the index of the suffix
        size = size/1024.0 #apply the division
    return "%.*f %s"%(precision,size,suffixes[suffixIndex])

def list_files(startpath):
    with open('output.csv','w') as file:
        for root, dirs, files in os.walk(startpath):
            level = root.replace(startpath, '').count(os.sep)
            indent = ' ,' * 4 * (level)
            file.write('{}{}/\n'.format(indent, os.path.basename(root)))
            subindent = ' ,' * 4 * (level + 1)
            for f in sorted(files, key=lambda f: os.path.getsize(root + os.sep + f)):
                converted_size = GetHumanReadable(os.path.getsize(root + os.sep + f))
                file.write('{}{},{}\n'.format(subindent, f, converted_size))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can take help of import xml.etree.ElementTree to make an output xml file.
here is an example</p>
<pre><code>import xml.etree.ElementTree as ET
data='''
&lt;root&gt;
&lt;H D="14/11/2017"&gt;
&lt;FC&gt;
    &lt;F LV="0"&gt;The quick&lt;/F&gt;
    &lt;F LV="1"&gt;brown&lt;/F&gt;
    &lt;F LV="2"&gt;fox&lt;/F&gt;
&lt;/FC&gt;
&lt;/H&gt;
&lt;H D="14/11/2017"&gt;
&lt;FC&gt;
    &lt;F LV="0"&gt;The lazy&lt;/F&gt;
    &lt;F LV="1"&gt;fox&lt;/F&gt;
&lt;/FC&gt;
&lt;/H&gt;
&lt;/root&gt;
'''
root= ET.XML(data)

with open('d:\output.xml', 'wb') as file:
    Et.ElementTree(root).write(file, encoding='utf-8', xml_declaration=True)
</code></pre>
</div>
<span class="comment-copy">try to use <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">xml.etree.elementtree</a></span>
