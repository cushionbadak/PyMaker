<div class="post-text" itemprop="text">
<p>Pagination is not working while doing a search.</p>
<p><code>views.py</code>:</p>
<pre><code>def crud(request):

    user_list = User.objects.all()
    paginator = Paginator(user_list, 3)
    page = request.GET.get('page')
    users = paginator.get_page(page)
    return render(request, 'crud/crud.html', {'users': users})


def search(request):

    users = None
    fname = request.POST.get('search')
    try:
        user_list = User.objects.filter(first_name__startswith=fname) | 
        User.objects.filter(last_name__startswith=fname)
        paginator = Paginator(user_list, 3)
        page = request.GET.get('page')
        users = paginator.get_page(page)
    except:
        pass
    return render(request, 'crud/crud.html', {'users': users}, {'fname': fname})
</code></pre>
<p><code>Crud.html</code>:</p>
<pre><code>&lt;form name="myform" method="POST" action="{% url 'search' %}"&gt;

{% csrf_token %}

         &lt;input type="text" name="search" value="{{ fname }}" 

         placeholder="Search  name"/&gt;

&lt;/form&gt;
</code></pre>
<p>How should I fix this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You do not need a try for a filter in Django.
The result is every time a query.</p>
<p>so this should be work fine and work fine for me:</p>
<pre><code>users = None
fname = request.POST.get('search')
user_list = User.objects.filter(first_name__startswith=fname)
paginator = Paginator(user_list, 3)
page = request.GET.get('page')
users = paginator.get_page(page)
return render(request, 'crud/crud.html', {'users': users, 'fname': fname})
</code></pre>
</div>
<span class="comment-copy">use 4 spaces in front of your code.  Please add your question to the body of your question.</span>
<span class="comment-copy">My search function is working normally, but with pagination it is not working.</span>
<span class="comment-copy">{% if users.has_previous %}        &lt;a href="?page=1"&gt;&amp;laquo; first&lt;/a&gt;         &lt;a href="?page={{ users.previous_page_number }}"&gt;previous&lt;/a&gt; {% endif %}  &lt;span class="current"&gt;       Page {{ users.number }} of {{ users.paginator.num_pages }}.   &lt;/span&gt;    {% if users.has_next %}        &lt;a href="?page={{ users.next_page_number }}"&gt;next&lt;/a&gt;        &lt;a href="?page={{ users.paginator.num_pages }}"&gt;last &amp;raquo;&lt;/a&gt;    {% endif %}</span>
<span class="comment-copy">My search function is working normally, but with pagination it is not working. below html code is for pagination. While I am clicking on next it is not working during search.</span>
<span class="comment-copy">@AakashVaghela what do you mean with 'not working'. Please explain what you get and what you expect and what you have tried.</span>
<span class="comment-copy">My pagination is not working with search. I have two views as mentioned in code. Without search my pagination(3 records per page) is working. With search If I am getting records(4 records means in 2 pages), then while clicking on next button I am getting all the records, not only one record in second page.      As While clicking on next my GET method is getting called which is in crud.</span>
