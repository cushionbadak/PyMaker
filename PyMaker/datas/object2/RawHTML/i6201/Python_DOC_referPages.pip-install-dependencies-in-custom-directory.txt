<div class="post-text" itemprop="text">
<p>I'm trying to install couple of modules via <code>pip</code> into custom directory using flag <code>--target</code>.</p>
<p>e.g.:</p>
<p><code>pip3 install --target /custom/module/location /path/to/package1</code></p>
<p>Everything works just fine. By adding <code>/custom/module/location</code> to <code>PYTHONPATH</code> I can use my <code>package1</code>.</p>
<p>But when I try to install <code>package2</code> which requires <code>package1</code> (located in <code>/custom/module/location</code>) pip throws:</p>
<pre><code>Could not find a version that satisfies the requirement ...
No matching distribution found ...
</code></pre>
<p>Basically:</p>
<pre class="lang-sh prettyprint-override"><code>PYTHONPATH=/custom/module/location
pip3 install --target /custom/module/location /path/to/package1
pip3 install --target /custom/module/location /path/to/package2
</code></pre>
<p>does not work, but</p>
<pre class="lang-sh prettyprint-override"><code>pip3 install --user /path/to/package1
pip3 install --user /path/to/package2
</code></pre>
<p>works just fine. Is there any way of telling pip to look into custom location <code>/custom/module/location</code> other than <code>PYTHONPATH</code>?</p>
<p>btw when using first method, <code>pip3 list</code> can see the <code>package1</code></p>
</div>
<div class="post-text" itemprop="text">
<p>I think <a href="https://pip.pypa.io/en/latest/reference/pip_install/#cmdoption-t" rel="nofollow noreferrer">target</a> switch will be used like this:  </p>
<pre><code>pip install --target=/home/path/of/directory package_name
</code></pre>
<p>You need to add <code>/home/path/of/directory</code> to <code>PYTHONPATH</code> to actually use them from that location.  </p>
<p>You can upgrade pip by:-    </p>
<pre><code>pip install -U pip
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Solved it by using raw setuptools.
First add a path to <code>PYTHONPATH</code> and then install local packages.</p>
<pre class="lang-sh prettyprint-override"><code>EXTRAPATH=/home/path/of/directory/lib/python3.5/site-packages
export PYTHONPATH=$PYTHONPATH:$EXTRAPATH
cd /path/to/package1 &amp;&amp; python setup.py --prefix=/home/path/of/directory
cd /path/to/package2 &amp;&amp; python setup.py --prefix=/home/path/of/directory
</code></pre>
</div>
<span class="comment-copy">I'm installing local packages, which is why pip install argument is poiting to a directory containing <code>setup.py</code></span>
<span class="comment-copy">no virtualenv on the server nor root access, thats why I'm installing modules to custom folder. <a href="https://docs.python.org/3/distutils/setupscript.html" rel="nofollow noreferrer">setup.py</a> installation is working just fine without virtualenv (for example <code>package1</code> and other pakcages are working fine)</span>
