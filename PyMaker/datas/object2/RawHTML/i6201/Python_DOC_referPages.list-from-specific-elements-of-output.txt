<div class="post-text" itemprop="text">
<p>I am building a script to get data from server logs.  The data arrive in the following format showing time stamps and frequency of occurrences.</p>
<pre><code>20:52:37 - 3

20:52:38 - 8

20:52:39 - 28

20:52:40 - 58

20:52:41 - 59

20:52:42 - 51

20:52:43 - 37

20:52:44 - 22

20:52:45 - 4

20:52:47 - 14

20:52:48 - 15

20:52:49 - 12

20:52:50 - 4

20:52:51 - 5

20:52:52 - 12

20:52:53 - 5
</code></pre>
<p>I'm trying to create a list of just the numbers after the dash to appear like:</p>
<pre><code>[3,8,28,etc.,etc.]
</code></pre>
<p>I've tried splitting the output and then adding just the desired element but keep hitting errors. trying to split on the dash and new line code then simply add the right position for each number:</p>
<pre><code> c = resp.split(' - ','\r\n\n')
    lst = c[::2]
    list = []
    list.append(lst)
    print(list)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>re.findall</code>:</p>
<pre><code>import re
s = """
 20:52:37 - 3

 20:52:38 - 8

 20:52:39 - 28

 20:52:40 - 58

 20:52:41 - 59
 ....
 """

data = map(int, re.findall('(?&lt;=\s-\s)\d+', s))
</code></pre>
<p>Output:</p>
<pre><code>[3, 8, 28, 58, 59...]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To remove trailing newlines you can use <a href="https://docs.python.org/3/library/stdtypes.html#str.rstrip" rel="nofollow noreferrer">rstrip()</a>:</p>
<pre><code>res = []

with open('server.log') as f:
    lines = (line.rstrip() for line in f)  # to remove trailing newlines
    lines = (line for line in lines if line)  # to remove blank lines
    res = [int(line.split(' - ')[-1]) for line in lines]
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>&gt;&gt;&gt; res
[3, 8, 28, 58, 59, 51, 37, 22, 4, 14, 15, 12, 4, 5, 12, 5]
</code></pre>
</div>
<span class="comment-copy">Split only takes one argument to split on. See: <a href="https://docs.python.org/2/library/stdtypes.html#str.split" rel="nofollow noreferrer">docs.python.org/2/library/stdtypes.html#str.split</a></span>
<span class="comment-copy"><code>resp.strip('\n').split(' - ')[-1]</code>, but use a variable name that doesn't overwrite the built-in <code>list</code>, then <code>l = []</code>, <code>l.append(resp.strip('\n').split(' - ')[-1])</code></span>
<span class="comment-copy">are there really empty lines/linebreaks between the data lines?</span>
<span class="comment-copy">Are you sure python is the right choice for this? Sounds like this type of problem would be very simple to solve with awk. Not that it can't be solved in python, or even C for that matter... But typically when I'm working with log parsing like this, and it's not involving complex computation or manipulation which would require python libraries, I use awk or even just bash.</span>
<span class="comment-copy">thanks this was perfect.  I shouldve tried regular expressions :(</span>
<span class="comment-copy">@JSimonsen glad to help!</span>
