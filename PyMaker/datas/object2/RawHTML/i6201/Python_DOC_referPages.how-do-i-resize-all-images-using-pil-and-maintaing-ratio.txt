<div class="post-text" itemprop="text">
<p>I have a Folder named /Gallery/ and it has subfolders with lots of images in it and i need to resize it all with a width of 800px.</p>
<p>How can I automate the process I'm using this code:</p>
<pre><code>from PIL import Image

basewidth = 800
img = Image.open('imagename.jpg')
wpercent = (basewidth/float(img.size[0]))
hsize = int((float(img.size[1])*float(wpercent)))
img = img.resize((basewidth,hsize), Image.ANTIALIAS)
img.save('imagename.jpg') 
</code></pre>
<p>to do something like 
for each picture in each folder in gallery
   rezizepicture</p>
<p>Thank you!.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use os.listdir(path) to get all the files in a directory, and os.path.join(directory, fileName) to get the entire path to a file. Then use a loop like "for fileName in os.listdir(directory):" to loop through all the file in the directory. You may want to add a check to ensure you are only operating on JPG files. Inside the loop, use your already written code as a start. I wouldn't overwrite the existing images, unless you have them backed up somewhere.</p>
</div>
<div class="post-text" itemprop="text">
<p>To iterate through the files matching a specific pattern you can use globs in <a href="https://docs.python.org/3/library/pathlib.html#module-pathlib" rel="nofollow noreferrer">pathlib</a>. Here's an example that identifies all of the files with a <code>jpg</code> extension in all sub directories.</p>
<pre><code>&gt;&gt;&gt; import pathlib
&gt;&gt;&gt; p = pathlib.Path(".\Gallery")
&gt;&gt;&gt; for img_file in p.rglob("*.jpg"):
...   print(img_file)
...
Gallery\top1.jpg
Gallery\top2.jpg
Gallery\sub1\sub1.jpg
Gallery\sub2\sub2.jpg
Gallery\sub2\sub3.jpg
Gallery\sub3\sub4.jpg
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>for Python 3.5+</p>
<pre><code>import glob    
from PIL import Image

for infile in glob.glob("/Gallery/**/*.jpg", recursive=True):

    basewidth = 800
    img = Image.open(infile)
    wpercent = (basewidth/float(img.size[0]))
    hsize = int((float(img.size[1])*float(wpercent)))
    img = img.resize((basewidth,hsize), Image.ANTIALIAS)
    img.save(infile) 
</code></pre>
</div>
<span class="comment-copy">This code will not return the files in any of the subfolders.</span>
<span class="comment-copy">I change it to "/Gallery/*/*.jpg" to iterate over files in subfolders</span>
<span class="comment-copy"><code>"/Gallery/*/*.jpg"</code> will miss files in the top level directory, that's why I used <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.rglob" rel="nofollow noreferrer">Path.rglob()</a>.</span>
<span class="comment-copy">("/Gallery/**/*.jpg", recursive=True) will catch flies in the top level directory</span>
