<div class="post-text" itemprop="text">
<p>I'm attempting to pass in an argument to my script but for some reason if I specify <code>-t</code> for my time value, it shows up in the script as an empty string. If I specify <code>--time</code>, I get the correct value. Why?</p>
<pre><code>import sys, getopt, time


def main(argv):
    inputfile = ''
    outputfile = ''
    sleeptime = 6

    if len(sys.argv) == 1:
        print("No arguments supplied")
        print('Usage: test.py -i &lt;inputfile&gt; -o &lt;outputfile&gt; -t &lt;1-24&gt;')
        sys.exit()

    try:
        opts, arg = getopt.getopt(argv, "i:o:t", ["ifile=", "ofile=", "time="])
    except getopt.GetoptError:
        print('Incorrect options.')
        print('Usage: test.py -i &lt;inputfile&gt; -o &lt;outputfile&gt; -t &lt;1-24&gt;')
        sys.exit()

    for opt, arg in opts:
        if opt in ("-i", "--ifile"):
            inputfile = arg
        elif opt in ("-o", "--ofile"):
            outputfile = arg
        elif opt in ("-t", "--time"):
            print("time = ", arg)
            sleeptime = int(arg)
        else:
            print("Unknown arg")
            sys.exit()

    print(sleeptime)

if __name__ == "__main__":
    main(sys.argv[1:])
</code></pre>
<p>I pretty much ripped the code from here: <a href="https://www.tutorialspoint.com/python/python_command_line_arguments.htm" rel="nofollow noreferrer">https://www.tutorialspoint.com/python/python_command_line_arguments.htm</a></p>
</div>
<div class="post-text" itemprop="text">
<p>To answer your question, i think you forgot the trailing colon for the <code>t</code> option (since <code>t</code> requires an argument), try changing it to <code>"i:o:t:"</code>, see <a href="https://docs.python.org/3/library/getopt.html#getopt.getopt" rel="nofollow noreferrer">https://docs.python.org/3/library/getopt.html#getopt.getopt</a>.</p>
<p>The whole line should look like this:</p>
<pre><code>opts, arg = getopt.getopt(argv, "i:o:t:", ["ifile=", "ofile=", "time="])
</code></pre>
<p>In general i agree with the comments above though, i would recommend to use <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">https://docs.python.org/3/library/argparse.html</a> for command line argument parsing :).</p>
</div>
<div class="post-text" itemprop="text">
<p>In the <a href="https://docs.python.org/3/library/getopt.html#getopt.getopt" rel="nofollow noreferrer">docs</a>:</p>
<blockquote>
<p><em>shortopts</em> is the string of option letters that the script wants to recognize, with options that require an argument followed by a colon </p>
</blockquote>
<p>You missed the colon on the <code>t</code>.  Modify like this, and it works:</p>
<pre><code>opts, arg = getopt.getopt(argv, "i:o:t:", ["ifile=", "ofile=", "time="])
</code></pre>
</div>
<span class="comment-copy">Why don't you just use <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer"><code>argparse</code></a>? That's literally what <a href="https://docs.python.org/3/library/getopt.html" rel="nofollow noreferrer">the <code>getopt</code> docs</a> suggest.</span>
<span class="comment-copy">I appreciate the suggestion but this doesn't answer my question.</span>
<span class="comment-copy">...I didn't post it as an answer.</span>
