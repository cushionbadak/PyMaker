<div class="post-text" itemprop="text">
<p>I have completed some rather intensive calculations, and i was not able to save my results in pickle (recursion depth exceded), so i was forced to print all the data and save it in a text file. </p>
<p>Is there any easy way to now convert my list of tuples in text to well... list of tuples in python? the output looks like this: </p>
<pre><code>[(10, 5), (11, 6), (12, 5), (14, 5), (103360, 7), (16, 6), (102725, 7), (17, 6), (18, 5), (19, 9), (20, 6), ...(it continues for 60MB)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="noreferrer"><code>ast.literal_eval()</code></a>:</p>
<pre><code>&gt;&gt;&gt; s = '[(10, 5), (11, 6), (12, 5), (14, 5)]'
&gt;&gt;&gt; res = ast.literal_eval(s)
[(10, 5), (11, 6), (12, 5), (14, 5)]
&gt;&gt;&gt; res[0]
(10, 5)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>string = "[(10, 5), (11, 6), (12, 5), (14, 5), (103360, 7), (16, 6), (102725, 7), (17, 6), (18, 5), (19, 9), (20, 6)]" # Read it from the file however you want

values = []
for t in string[1:-1].replace("),", ");").split("; "):
    values.append(tuple(map(int, t[1:-1].split(", "))))
</code></pre>
<p>First I remove the start and end square bracket with <code>[1:-1]</code>, I replace <code>),</code> with <code>);</code> to be able to split by <code>;</code> so that the it foesn't split by the commas inside the tuples as they are not preceded by a <code>)</code>. Inside the loop I'm using <code>[1:-1]</code> to remove the parenthesis this time and splitting by the commas. The <code>map</code> part is to convert the numeric <code>str</code>s into <code>int</code>s and I'm appending them as a <code>tuple</code>.</p>
</div>
<span class="comment-copy">Use <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer"><code>ast.literal_eval</code></a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/1894269/convert-string-representation-of-list-to-list-in-python" title="convert string representation of list to list in python">stackoverflow.com/questions/1894269/â€¦</a></span>
<span class="comment-copy">Wait, that data is quite flat. Why would pickle exceed recursion depth for this? Is that data example really representative?</span>
<span class="comment-copy">i would have to include the whole data in my source then, no?</span>
<span class="comment-copy">@KONAKONA No, you'd read it from whatever file it's been saved to</span>
<span class="comment-copy">@KONAKONA Do you mean that you want to convert only a subset of your stored data?</span>
<span class="comment-copy">Alright, since it is all in one line, i can just read that line, convert it to string, and use ast.literal_eval(), thank you!</span>
