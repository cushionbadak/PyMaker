<div class="post-text" itemprop="text">
<p>I am using the logging module in the following way:</p>
<pre><code>logging.basicConfig(level=logging.DEBUG,
                    format='%(asctime)s %(name)-12s %(levelname)-8s %(message)s',
                    filename=my_filename,
                    filemode='w')
</code></pre>
<p>and </p>
<pre><code>logging.info("Set up logger")
</code></pre>
<p>for writing. The output is:</p>
<pre><code>2017-11-05 19:10:22,762 root      INFO     Set up logger
</code></pre>
<p>QUESTION: instead of the current timestamp, I would like to have a past (or future, whatever) timestamp. So whenever I want to write something in the log, I can pass the date as argument with something like:</p>
<pre><code>logging.info(msg="Set up logger", date='2010-01-01 19:10:22,762')
</code></pre>
<p>in order to have</p>
<pre><code>2010-01-01 19:10:22,762 root      INFO    Set up logger
</code></pre>
<p>Any help?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do that simply by:</p>
<pre><code>logging.basicConfig(level=logging.DEBUG,
                    format='%(date)s %(name)-12s %(levelname)-8s %(message)s',
                    filename=my_filename,
                    filemode='w')
</code></pre>
<p>and logging with:</p>
<pre><code>logging.info(msg="Set up logger", extra={'date':'2010-01-01 19:10:22,762'})
</code></pre>
<p>Do note that since you hardcoded the <code>date</code> argument in the format, a log message without one will fail. If you want to make it optional, you'll need to use something like <code>filters</code> to modify your log message on the fly.</p>
</div>
<span class="comment-copy">So you want the timestamp to be not the actual timestamp? What's the point of that? If you just want to put arbitrary things in the message you can <i>already do that</i>, it's not clear what the problem is.</span>
<span class="comment-copy">If I put it in the message, I won't have a standard format like %(time)s %(name)s %(levelname)s %(message)s</span>
<span class="comment-copy">You can do that formatting yourself.</span>
<span class="comment-copy">How can I do that?</span>
<span class="comment-copy">With <a href="https://docs.python.org/3/library/time.html#time.strftime" rel="nofollow noreferrer"><code>time.stftime</code></a>, like what <code>logging</code> itself uses.</span>
<span class="comment-copy">I tried what you said but it doesn't work:  TypeError: _log() got an unexpected keyword argument 'date'</span>
<span class="comment-copy">my bad @riccio777, updated the code (forgot it's the extra arg).</span>
<span class="comment-copy">Thank you, just one little thing: date in the dictionary should be with the quotes.</span>
<span class="comment-copy">I will test my code before I post next time :| glad I could help</span>
