<div class="post-text" itemprop="text">
<p>I'm new to this all, and I would like to simply determine what to write on the command line to run a python program (<code>myprogram.py</code>) which contains the following code at the end:</p>
<pre><code>from http.server import test, SimpleHTTPRequestHandler
from argparse import ArgumentParser
from os import getcwd, chdir
from os.path import exists, relpath, join
from logging import getLogger
from pathlib import Path

info = getLogger(__name__).info

# (some lines not shown)

if __name__ == '__main__':
        parser = ArgumentParser()
        parser.add_argument('--bind', '-b', default='', metavar='ADDRESS',
                            help='Specify alternate bind address '
                                 '[default: all interfaces]')
        parser.add_argument('--port', '-p', default=8000, metavar='PORT',
                            type=int, help='Specify alternate port [default: 8000]')
        parser.add_argument('dir', action='store',
                            default='.', type=Path, nargs='?',
                            help='Specify directory to serve [default: $PWD]')
        args = parser.parse_args()
        info('chdir({args.dir})'.format(args=args))
        chdir(args.dir)
        test(HandlerClass=NoCacheHandler, port=args.port, bind=args.bind)
</code></pre>
<p>The program is supposed to (among other things) change the working directory to a folder called "static", which is at the same location as myprogram.py.  I tried many things (including specifying the full path, with and without quotes, with nested quotes, etc), for example:</p>
<pre><code>$ python myprogram.py dir static
</code></pre>
<p>I get:</p>
<pre><code>usage: myprogram.py [-h] [--bind ADDRESS] [--port PORT] [dir]
myprogram.py: error: unrecognized arguments: static
</code></pre>
<p>I read several docs (such as <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">this</a>) and examples etc, but am stuck.  Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>There are two problems that I can see;</p>
<ol>
<li><code>dir</code> is the name of the variable that the first unflagged argument will go into. You don't specific it on the command line, it's position is what makes it go here. So try running <code>python myprogram.py static</code>.</li>
<li>I'm not really sure what <code>Path</code> is, but I think you just want to remove that argument. Without <code>type</code> specified, it'll default to <code>string</code> which is capable of holding a path.</li>
</ol>
</div>
<span class="comment-copy"><code>dir</code> is the name of the variable that the first unflagged argument will go into. You do not need to specific it on the command line. So try running <code>python myprogram.py static</code>.</span>
<span class="comment-copy">I see... when i try that though I get the following: Traceback (most recent call last):   File "myprogram.py", line 39, in &lt;module&gt;     chdir(args.dir) TypeError: argument should be string, bytes or integer, not PosixPath</span>
<span class="comment-copy">Can you please include your imports? I can't tell where <code>Path</code> is coming from. But I'm guessing it isn't supported by ArgumentParser - try removing that to return back to the default of string...</span>
<span class="comment-copy">I added the sources above.  When I remove "type=Path," it works.  Thank you!  I'm not sure what the purpose of the Path part was--this was someone else's code and over my head.</span>
<span class="comment-copy">@Shadow do you want to convert your comment to an answer, or should this just be closed?</span>
