<div class="post-text" itemprop="text">
<p>I am trying to make a Raspberry Pi robot using Python and I don't really know how to use curses to assign a key to a movement. I am very new to this and would like some help.</p>
<p>I wrote my try at the code below:</p>
<pre><code>import RPi.GPIO as GPIO
import curses 
GPIO.setmode(GPIO.BOARD)
GPIO.setup(7,GPIO.OUT)
GPIO.setup(11,GPIO.OUT)
GPIO.setup(13,GPIO.OUT)
GPIO.setup(15,GPIO.OUT)
try: 
    stdscr = curses.initscr()
    curses.noecho()
    curses.cbreak()
    stdscr.keypad(1)
    while 1:
        c = stdscr.getch()
        if c == ord('p'):
             stdscr.addstr("")
        elif c == 37:
            GPIO.output(7,False)
            GPIO.output(11,True)
            GPIO.output(13,False)
            GPIO.output(13,True)

finally: 
    curses.nocbreak(); stdscr.keypad(0)l curses.echo
    curses.endwin()
    GPIO.cleanup()
</code></pre>
<p>I keep getting the following error:</p>
<pre><code>Traceback (most recent call last):
File "/home/pi/ROBOT_FINAL.py", line 26, in &lt;module&gt;
curses.nocbreak(); stdscr.keypad(0); curses.echo()
error: must call initscr() first
</code></pre>
<p>Please help</p>
<p>Thanks,
Aryan</p>
</div>
<div class="post-text" itemprop="text">
<p>Looking at your code, it looks like an error occurs inside of your <code>try block</code>. Unfortunately, I can only assume at the moment, that the error happens during the <code>curses.initscr()</code> call.
Your <code>finally block</code> is always execute, even if an error occurred.</p>
<p>To diagnose this further: Can you add a <code>except</code> to your <code>try block</code> and print the error?</p>
<p>If you see an error like <code>AttributeError: 'Module' object has no attribute 'initscr'</code>, then you probably named your python script <code>curses</code>. Rename it and delete the 'curses.pyc' file.</p>
</div>
<span class="comment-copy">Thanks for the help and also how would I add a catch to my try block? I'm pretty new at python and still learning and would appreciate it a lot.</span>
<span class="comment-copy">Sorry, I meant <code>except:</code>. Take a look here: <a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">docs.python.org/3/tutorial/errors.html</a></span>
