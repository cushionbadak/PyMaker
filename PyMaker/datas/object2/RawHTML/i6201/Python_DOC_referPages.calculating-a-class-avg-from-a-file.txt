<div class="post-text" itemprop="text">
<p>For this function, I want the class average for each assignment. I get this error when I try to test my function. Can anyone please help me fix this?
I want to go through the columns and have something like this. After I split the list, I want to interleave the grades of the assignments and add the corresponding items. How do I do that and then calculate the average?
I want to have [99, 88, 77, 66][11, 22, 33, 44][78, 58, 68, 88]into [99, 11, 78][88, 22, 58][77, 33, 68][66, 44, 88]</p>
<blockquote>
<p>for item in range(grades_list[4:]):
  builtins.TypeError: 'list' object cannot be interpreted as an integer </p>
</blockquote>
<p>Here is the file for my function.</p>
<pre><code>Last Name,First Name,Student No.,uTORid,A1,A2,A3,A4
Smith, Joe,9911991199,smithjoe9,99,88,77,66
Ash, Wood,9912334456,ashwood,11,22,33,44
Full, Kare,9913243567,fullkare,78,58,68,88


def class_avg(open_file):
    '''(file) -&gt; list of float
    Return a list of assignment averages for the entire class given the open
    class file. The returned list should contain assignment averages in the 
    order listed in the given file.  For example, if there are 3 assignments 
    per student, the returned list should 3 floats representing the 3 
    averages.
   [a1_avg, a2_avg, a3_avg, a4_avg]
   [62.666666666666664, 56.0, 59.333333333333336, 66.0]
    '''
    new_list = []
    for line in open_file:
        grades_list = line.split(',')
    for item in range(grades_list[4:]):
    total = sum(grades_list[4:][item])
   avg = total/len(grades_list[4:])
   new_list.append(avg)
   return new_list
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There are a couple problems in your code.</p>
<ul>
<li>You need to skip the header line ("Last Name,First Name,Student No.,uTORid,A1,A2,A3,A4")</li>
<li>You're also calculating multiple averages per student (for the first row, your code essentially does <code>(9 + 9) / 2</code>, <code>(8 + 8) / 2</code>, etc)</li>
<li>Also, it seems like you are trying to read down the columns, but that doesn't work</li>
</ul>
<p>Something like this might work for you:</p>
<pre><code>averages = []

with open('class_avg.csv') as fp:
    next(fp)  # skip header row
    reader = csv.reader(fp)
    for student_row in reader:
        grades = student_row[4:]  # extract columns 4, 5, 6, and 7 all at once
        total = sum(float(grade) for grade in grades)
        average = total / len(grades)
        averages.append(average)

print(averages)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Create a 2d list .....
Read all the lines and then just do computation on the colomns you want output for ...
Accessing the column is something like</p>
<pre><code>#example in python console
&gt;&gt;&gt; list = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
&gt;&gt;&gt; new_list = [item[1] for item in list]
&gt;&gt;&gt; new_list
[2, 5, 8]
</code></pre>
</div>
<span class="comment-copy">I think you need to skip the first line in the file. Also, you should use the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv module</a> in the standard library to read CSV files.</span>
<span class="comment-copy">Probably a <code>\n</code> character problem: try <code>grades4 = assignment_list[7].strip()</code></span>
<span class="comment-copy">In the first loop <code>grades1</code> is the string "A1". Then you loop over that string and try to convert <code>"A"</code> to a float, which fails. That's what the Exception message means. Try <code>float('A')</code> in the python repl to reproduce.</span>
<span class="comment-copy">Whats the difference betwen float('A') and float(A)</span>
<span class="comment-copy">Looks like your averages, avg1, avg2, avg3, avg4, will all be 1.  Verify by <code>print (len(grades1))</code>.  Use <code>grades = assignment_list[4:]</code> then <code>avg = sum(float(g) for g in grades) / len (grades)</code>.  Saves 7 lines of code.</span>
<span class="comment-copy">I want the averages for all the marks in a1, a2, a3, and a4. I want everyone's a1 avg, a2 avg, and a3 avg like this a1: 99, 11, 78. The avg of that and same with the other assignments.</span>
<span class="comment-copy">I see. This code is still a good starting point for that. You will just need to build up a list for each of A1, A2, A3, and A4 by going through each student row then do the summing and averaging after all the rows are read.</span>
<span class="comment-copy">Can we do this by going through the columns of a1, a2, a3, and a4 and then just averaging that out? If we were to do that, how would we go through a column?</span>
<span class="comment-copy">I added a note about that in my answer. You can't read down columns that way. You have to go through each row and extract the value for each column into a corresponding list.</span>
<span class="comment-copy">And where do I put that value?</span>
<span class="comment-copy">I want to get the a1 avgs and same with the other assignments. Like the grades for a1 are 99, 11, 78 and I want to get the average of that.</span>
