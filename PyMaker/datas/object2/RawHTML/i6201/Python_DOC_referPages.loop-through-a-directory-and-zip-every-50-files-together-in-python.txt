<div class="post-text" itemprop="text">
<p>I'm sure there is probably a better way to do this but I am trying to loop through a directory and zip together every 50 files. It works for most of the files, but messes up when it gets to the last 49 files.</p>
<p>I would like to tell it to still zip those 49 files together.</p>
<p>Here if my code:</p>
<pre><code>import os 
from zipfile import ZipFile
from os import walk

current_directory = os.getcwd()
total = 0
cnt = 0
zip_list = []
name_count = 0 

for f in os.listdir(current_directory)
    total+=1

for f in os.listdir(current_directory):
    cnt+=1

    if f.endswith('Z') and len(zip_list) &lt;= 50:
        zip_list.append(f)

        if len(zip_list) == 50:
            name_count+=1
            with ZipFile('zip'+str(name_count), 'w') as myzip:
                for f in zip_list:
                    myzip.write(f)
            del zip_list[:]     
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You don't need too many tracking variables there if you only need 50-50 chunks from the list then just append all the files in the list and then split it up into equal size chunks of 50 :</p>
<pre><code>for item in range(0,len(zip_list),50):
    chunks.append(zip_list[item:item+50])

for index,chunk_1 in enumerate(chunks):
    with ZipFile(str(index) + '.zip', 'w') as myzip:
        for files in chunk_1:
            myzip.write(files)
</code></pre>
<blockquote>
<p>the modified version of your  code :</p>
</blockquote>
<pre><code>import os
from zipfile import ZipFile
from os import walk

current_directory = os.getcwd()
zip_list = []
chunks=[]

for f in os.listdir(current_directory):

    if f.endswith('Z'):
        zip_list.append(f)


for item in range(0,len(zip_list),50):
    chunks.append(zip_list[item:item+50])

for index,chunk_1 in enumerate(chunks):
    with ZipFile(str(index) + '.zip', 'w') as myzip:
        for files in chunk_1:
            myzip.write(files)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think you just need a bit more code after the end of the last loop (outside the loop) like:</p>
<pre><code>if len(zip_list) &gt; 0:
    name_count += 1
    with ZipFile('zip' + str(name_count), 'w') as myzip:
        for f in zip_list:
            myzip.write(f)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If I understood the question correctly ,here is a different approach:</p>
<pre><code>import os 
from zipfile import ZipFile
from os import walk

current_directory = os.getcwd()
total = 0
cnt = 0
zip_list = []
name_count = 0 

file_names = os.listdir(current_directory)
file_count = len(os.listdir(current_directory))

while cnt&lt;file_count:
    zip_list = []
    if file_count-cnt&gt;49:
        zip_list = file_names[cnt:cnt+50]
        cnt = cnt+50
    else:
        zip_list = file_names[cnt:]
        cnt = file_count
    name_count +=1
    with ZipFile('zip'+str(name_count), 'w') as myzip:
        print zip_list
        for f in zip_list:
            myzip.write(f)
</code></pre>
</div>
<span class="comment-copy">What is the question?. Please take the time to read <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a> and the links it contains.  You should spend some time working your way through <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">the Tutorial</a>, practicing the examples. It will give you an introduction to the tools Python has to offer and you may even start to get ideas for solving your problem.</span>
