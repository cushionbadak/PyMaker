<div class="post-text" itemprop="text">
<p>How can I create a fake file object in Python that contains text? I'm trying to write unit tests for a method that takes in a file object and retrieves the text via <code>readlines()</code> then do some text manipulation. Please note I can't create an actual file on the file system. The solution has to be compatible with Python 2.7.3.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is exactly what <a href="https://docs.python.org/2/library/stringio.html" rel="noreferrer"><code>StringIO</code>/<code>cStringIO</code></a> (renamed to <a href="https://docs.python.org/3/library/io.html#io.StringIO" rel="noreferrer"><code>io.StringIO</code></a> in Python 3) is for.</p>
</div>
<div class="post-text" itemprop="text">
<p>Or you could implement it yourself pretty easily especially since all you need is <code>readlines()</code>:</p>
<pre><code>def FileSpoof:
     def __init__(self,my_text):
         self.my_text = my_text
     def readlines(self):
         return self.my_text.splitlines()
</code></pre>
<p>then just call it like:</p>
<pre><code>somefake = FileSpoof("This is a bunch\nOf Text!")
print somefake.readlines()
</code></pre>
<p>That said the other answer is probably more correct.</p>
</div>
<span class="comment-copy">+1 I was just going to post that!</span>
<span class="comment-copy">The solution has to be compatible with Python 2.7.3</span>
<span class="comment-copy">@user1454693 The StringIO version is... or are you using a different 2.7.3 than the rest of the world?</span>
<span class="comment-copy">@user1454693 StringIO is compatible with 2.7.3 and above.</span>
