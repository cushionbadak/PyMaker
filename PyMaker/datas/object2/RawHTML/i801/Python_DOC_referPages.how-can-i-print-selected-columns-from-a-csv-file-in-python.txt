<div class="post-text" itemprop="text">
<p>I have this code:</p>
<pre><code>file=open("database.txt","r")
list_0=file.readlines()

item=input("enter station name: ")
for element in list_0:
    a=element.index(' ')
    if element.find(item.lower())!=-1:
        print(element[:a]+" -----&gt; "+element[a:])
</code></pre>
<p>Result from above I want:</p>
<pre><code>enter station name: ambala

14096 himalyan-queen

12498 shan-e-punjab

22461 shri-shakti
</code></pre>
<p>But it is showing this result:</p>
<pre><code>enter station name: ambala

14096 himalyan-queen new-delhi,ambala,chandigarh,kalka

12498 shan-e-punjab new-delhi,ambala,ludhiana,amritsar

22461 shri-shakti new-delhi,ambala,ludhiana,katra
</code></pre>
<p>anybody knows how to do this?</p>
<p>Here is the data from CSV file(you can see delimiter is " "-space)</p>
<pre><code>14096 himalyan-queen new-delhi,ambala,chandigarh,kalka
12498 shan-e-punjab new-delhi,ambala,ludhiana,amritsar
22461 shri-shakti new-delhi,ambala,ludhiana,katra
12412 intercity amritsar,ludhiana,chandigarh
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You should find the second space.</p>
<p>try the following piece of code: </p>
<pre><code>file=open("C:\Users\Anything\Desktop\stackoverflow\db.txt","r")
list_0=file.readlines()

item=raw_input("enter station name: ")
for element in list_0:
    a=element.index(' ')
    if element.find(item.lower())!=-1:
        element1 = element[a:].strip()
        b = element1.index(' ')
        print (element[:a] + ' '+ element1[:b])

</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>with open('database.txt', 'r') as f:
    lines = f.readlines()

station_name = 'ambala'
for line in lines:
    spaced = line.split()
    commad = spaced[2].split(',')
    if station_name in commad[1]:
        print(spaced[0], '----&gt;', spaced[1])
</code></pre>
<p>The above should result to:</p>
<pre><code>Î» python sample.py
14096 ----&gt; himalyan-queen
12498 ----&gt; shan-e-punjab
22461 ----&gt; shri-shakti
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Here is an answer using the csv module and using "with" statements to open and close files</p>
<pre><code>import csv

with open('names.csv', newline='') as csvfile:
    reader = csv.reader(csvfile, delimiter=' ')
    item=input("enter station name: ")
    for row in reader:
        if item in row[2].split(','):
            print(row[0], row[1])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would suggest using <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv library</a>:</p>
<pre><code>import csv

item = 'ambala' #for demonstration purpose, get it like you did before

with open('database.txt', newline='') as csvfile:
    spamreader = csv.reader(csvfile, delimiter=' ', quotechar='|')
    for row in spamreader:
        if item in row[2]:
            print(row[0] + ' ' + row[1])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As mentioned by other use the csv library, so you are able to read lines as list:</p>
<pre><code>['14096 himalyan-queen new-delhi', 'ambala', 'chandigarh', 'kalka']
</code></pre>
<p>Then, you can easily access the required column by index.</p>
<p>This is another possible implementation:</p>
<pre><code>import csv

item = 'ambala' # input etc.
with open('database.txt', newline='') as csvfile:
  reader = csv.reader(csvfile)
  for row in reader:
    if row[1] == item: # look just on the second column, but you can customise: if item in row[1:]:
      a = row[0].index(' ')
      print((row[0][:a] + " -----&gt; " + row[0][a:]))

# 14096 -----&gt;  himalyan-queen new-delhi
# 12498 -----&gt;  shan-e-punjab new-delhi
# 22461 -----&gt;  shri-shakti new-delhi
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is that when you print you use:</p>
<pre><code>element[:a] // will print all the elements that are from the begining of the list until 'a' index
</code></pre>
<p>and </p>
<pre><code>element[a:] // will print all the elements that are from 'a' index of the list until the end this is why you print all the elements 'himalyan-queen new-delhi,ambala,chandigarh,kalka'
</code></pre>
<p>to solve the problem try this</p>
<pre><code>file=open("database.txt","r")
list_0=file.readlines()

item=input("enter station name: ")
for element in list_0:
    splitted_elem=element.split(' ')
    if item.lower() in splitted_elem[2]:
        print(splitted_elem[0]+" -----&gt; "+splitted_elem[1])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this:</p>
<pre><code>item=input("enter station name: ")
for element in list_0:
    a=element.split(' ')
    if element.find(item.lower())!=-1:
        print(a[0], a[1])
</code></pre>
<p>This modification will compare your input against the entire string, but only display the number and the first part of the string part, which is separated by a whitespace.</p>
</div>
<span class="comment-copy">Could you include a few lines from <code>database.txt</code>? EDIT: I'd also check out the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer"><code>csv</code></a> module from the standard library</span>
<span class="comment-copy">so i have added some of the lines from CSV file.</span>
<span class="comment-copy">Your data should be seperated via comma <a href="https://tools.ietf.org/html/rfc4180" rel="nofollow noreferrer">RFC</a>. Doenst matter in your case :)</span>
<span class="comment-copy">perfect. I just want this answer without importing csv. thanks! buddy.</span>
<span class="comment-copy">if i put any other station i.e katra, new-delhi. It doesn't give any result.</span>
<span class="comment-copy">this works.thanks!</span>
<span class="comment-copy">it only prints element before a i.e element[a-1] which is 6,8 and 1. and a space which is element[a]</span>
<span class="comment-copy">you are right. Now it will work solving your problem</span>
<span class="comment-copy">error with contain function "AttributeError: 'str' object has no attribute 'contains' "</span>
<span class="comment-copy">it gives    1 -----&gt; 4     1 -----&gt; 2     2 -----&gt; 2</span>
<span class="comment-copy">@KartikJuneja D'oh! You're right. I fixed it...</span>
