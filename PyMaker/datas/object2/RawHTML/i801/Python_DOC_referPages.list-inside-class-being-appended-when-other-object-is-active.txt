<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/1680528/how-to-avoid-having-class-data-shared-among-instances">How to avoid having class data shared among instances?</a>
<span class="question-originals-answer-count">
                    8 answers
                </span>
</li>
</ul>
</div>
<p>I'm creating a school project that needs to record the events of each iteration of a subroutine in a list. However, it appends both players list. How do I stop this from happening?</p>
<p>For example:</p>
<pre><code>class Player:

    l = list()
    def append_list(self,i):
        self.l.append(i)

p1 = Player()
p2 = Player()

for i in range(0,5):

    p1.append_list(i)
    print(p1.l)
    p2.append_list(i)
    print(p1.l)
</code></pre>
<p>This code outputs:</p>
<pre><code>[0]
[0, 0]
[0, 0, 1]
[0, 0, 1, 1]
[0, 0, 1, 1, 2]
[0, 0, 1, 1, 2, 2]
[0, 0, 1, 1, 2, 2, 3]
[0, 0, 1, 1, 2, 2, 3, 3]
[0, 0, 1, 1, 2, 2, 3, 3, 4]
[0, 0, 1, 1, 2, 2, 3, 3, 4, 4]
</code></pre>
<p>but I need it to output:</p>
<pre><code>[0]
[0]
[0, 1]
[0, 1]
[0, 1, 2]
[0, 1, 2]
[0, 1, 2, 3]
[0, 1, 2, 3]
[0, 1, 2, 3, 4]
[0, 1, 2, 3, 4]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use separate <em>instance variables</em> instead of shared <em>class variables</em> - that way each of your player instances has its <em>own</em> list instead of a shared one:</p>
<pre><code>class Player:
    def __init__(self):
        self.l = []       # create a instance list l

    def append_list(self,i):
        self.l.append(i)

# other code identical
</code></pre>
<p>Output:</p>
<pre><code>[0]
[0]
[0, 1]
[0, 1]
[0, 1, 2]
[0, 1, 2]
[0, 1, 2, 3]
[0, 1, 2, 3]
[0, 1, 2, 3, 4]
[0, 1, 2, 3, 4]
</code></pre>
<p>More: </p>
<ul>
<li><a href="https://stackoverflow.com/questions/2714573/instance-variables-vs-class-variables-in-python">Instance variables vs. class variables in Python</a></li>
<li><a href="https://docs.python.org/3/tutorial/classes.html#class-and-instance-variables" rel="nofollow noreferrer">PyTut: Class and Instance Variables</a></li>
</ul>
</div>
