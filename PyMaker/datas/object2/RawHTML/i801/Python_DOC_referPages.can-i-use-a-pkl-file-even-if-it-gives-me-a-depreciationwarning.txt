<div class="post-text" itemprop="text">
<p>I'm working through someone else's poorly documented code (it uses tf-idf to find clusters of documents), and I came across this:</p>
<pre><code>from sklearn.externals import joblib

#joblib.dump(km,  'doc_cluster.pkl')
km = joblib.load('doc_cluster.pkl')
clusters = km.labels_.tolist()
</code></pre>
<p>It's supposed to unpickle doc_cluster.pkl, but when I run it, I get a DepreciationWarning that says that the file was generated with a joblib version less than 0.10, and it requests that I regenerate the file. However, I can't do that, because I didn't create doc_cluster.pkl. So is it ok to just move forward and ignore the warning, or will that mess things up down the line?</p>
</div>
<div class="post-text" itemprop="text">
<p>A deprecation warning is <em>just a warning</em>, and loading succeeds. The pickle file is still being loaded and supported, at least in this version of sklearn (which bundles the 3rd party <a href="https://joblib.readthedocs.io/en/latest/" rel="nofollow noreferrer"><code>joblib</code> project</a>). A future version of <code>joblib</code> may stop supporting that specific format, but that hasn't happened yet.</p>
<p>You can re-create the pickle file with the current version, simply by dumping the same object back to disk:</p>
<pre><code>km = joblib.load('doc_cluster.pkl')
joblib.dump(km, 'doc_cluster.pkl', compress=True)
</code></pre>
<p>Also see the <a href="https://joblib.readthedocs.io/en/latest/persistence.html" rel="nofollow noreferrer"><code>joblib</code> <em>persistence</em> documentation</a>.</p>
<p>Alternatively, you could suppress the warning, by using a warning filter. You can set filters in the <a href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONWARNINGS" rel="nofollow noreferrer"><code>PYTHONWARNINGS</code> environment variable</a>, with the <a href="https://docs.python.org/3/using/cmdline.html#cmdoption-w" rel="nofollow noreferrer"><code>-W</code> command-lne switch</a> (I'd use the string <code>ignore::DeprecationWarning:sklearn.externals.joblib</code>), or by using the <a href="https://docs.python.org/3/library/warnings.html" rel="nofollow noreferrer"><code>warnings</code> module</a> directly:</p>
<pre><code>import warnings
warnings.filterwarnings(
    "ignore", category=DeprecationWarning,
    module=r'sklearn\.externals\.joblib'
)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Deprecation Warnings are only warnings that tell you that the code your using has been updated in the package and that there is a better / more efficient way of writing your program. The package still supports it, just know that in a future update of the package the old functions might now be supported.</p>
</div>
<span class="comment-copy">I used the recreating the pickle file solution, and it worked. Thank you!</span>
