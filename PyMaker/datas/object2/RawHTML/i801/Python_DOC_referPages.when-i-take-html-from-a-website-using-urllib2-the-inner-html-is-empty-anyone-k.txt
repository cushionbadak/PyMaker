<div class="post-text" itemprop="text">
<p>I am working on a project and one of the steps includes getting a random word which I will use later. When I try to grab the random word, it gives me '<code>&lt;span id="result"&gt;&lt;/span&gt;</code>' but as you can see, there is no word inside.</p>
<p><b>Code:</b></p>
<pre><code>import urllib2
from bs4 import BeautifulSoup

quote_page = 'http://watchout4snakes.com/wo4snakes/Random/RandomWord'

page = urllib2.urlopen(quote_page)

soup = BeautifulSoup(page, 'html.parser')

name_box = soup.find("span", {"id": "result"})

print name_box

name = name_box.text.strip() 

print name
</code></pre>
<p>I am thinking that maybe it might need to wait for a word to appear, but I'm not sure how to do that.</p>
</div>
<div class="post-text" itemprop="text">
<p>This word is added to the page using JavaScript. We can verify this by looking at the actual HTML that is returned in the request and comparing it with what we see in the web browser DOM inspector. There are two options:</p>
<ol>
<li>Use a library capable of executing JavaScript and giving you the resulting HTML</li>
<li>Try a different approach that doesn't require JavaScript support</li>
</ol>
<p>For 1, we can use something like <a href="https://html.python-requests.org/" rel="nofollow noreferrer"><code>requests_html</code></a>. This would look like:</p>
<pre class="lang-py prettyprint-override"><code>from requests_html import HTMLSession

url = 'http://watchout4snakes.com/wo4snakes/Random/RandomWord'

session = HTMLSession()
r = session.get(url)

# Some sleep required since the default of 0.2 isn't long enough.
r.html.render(sleep=0.5)
print(r.html.find('#result', first=True).text)
</code></pre>
<p>For 2, if we look at the network requests that the page is making, then we can see that it retrieves random words by making a POST request to <code>http://watchout4snakes.com/wo4snakes/Random/RandomWord</code>. Making a direct request with a library like <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer"><code>requests</code></a> (recommended in the standard library documentation <a href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request" rel="nofollow noreferrer">here</a>) looks like:</p>
<pre class="lang-py prettyprint-override"><code>import requests

url = 'http://watchout4snakes.com/wo4snakes/Random/RandomWord'

print(requests.post(url).text)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>So the way that the site works is that it sends you the site with no word in the span box, and edits it in later through JavaScript; that's why you get a span box with nothing inside.</p>
<p>However, since you're trying to get the word I'd definitely suggest you use a different method to getting the word, rather than scraping the word off the page, you can simply send a POST request to <code>http://watchout4snakes.com/wo4snakes/Random/RandomWord</code> with no body and receive the word in response.</p>
<p>You're using Python 2 but in Python 3 (for example, so I can show this works) you can do:</p>
<pre><code>&gt;&gt;&gt; import requests
&gt;&gt;&gt; r = requests.post('http://watchout4snakes.com/wo4snakes/Random/RandomWord')
&gt;&gt;&gt; print(r.text)
doom
</code></pre>
<p>You can do something similar using urllib in Python 2 as well.</p>
</div>
<span class="comment-copy">What happens when you print that? Have you tried inspecting the whole page?</span>
<span class="comment-copy">@slezica When I print it, it gives me an empty piece of html.</span>
