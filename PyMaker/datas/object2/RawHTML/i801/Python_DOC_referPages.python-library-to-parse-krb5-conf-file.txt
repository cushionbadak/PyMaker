<div class="post-text" itemprop="text">
<p>Is there any python library that can be used to parse krb5.conf file. I need to parse krb5.conf to extarct out auth_to_local rules and pass them to kafka as kafka don't extract out user name properly iwthout this.</p>
<p>I tried to find this but no luck so far and hence the question.</p>
<p>My krb5.conf look like below</p>
<pre><code>includedir /etc/krb5/conf

[libdefaults]

default_keytab_name = /etc/krb5/krb5.keytab
default_realm = EXAMPLE.COM

[realms]
EXAMPLE.COM = {
  auth_to_local_realm = UNIX.EXAMPLE.COM
  auth_to_local = DEFAULT
}

UNIX.EXAMPLE.COM = {
                 acl_file = /var/tmp/file
             admin_keytab = /var/tmp/keytab
}

[logging]
        kdc = abc
        kdc = pqr
        default = klm
[appdefaults]
kinit = {
  renewable   = true
  forwardable = true
}
field=value
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>That file is in windows INI file format , you may use this module to parse it:</p>
<p><a href="https://docs.python.org/3/library/configparser.html" rel="nofollow noreferrer">https://docs.python.org/3/library/configparser.html</a></p>
<pre><code>import configparser

config = configparser.ConfigParser()


config.read('/tmp/krb5.conf')

print(config.sections())
</code></pre>
<p>output:</p>
<pre><code>['libdefaults', 'realms', 'domain_realm', 'capaths']
&gt;&gt;&gt; 
[Finished in 0.2s]
</code></pre>
</div>
<span class="comment-copy">I have updated question with sample krb5.conf. In my case, its actually not a ini format, it contains section less field, it has duplicate entries, it also uses blocks in braces {}</span>
