<div class="post-text" itemprop="text">
<p>is there a way to turn a string to an module object? i want to to do a function call after doing an API request but I cant convert the string I got from the request to a module object</p>
<p>I have seen some code that could actually do it however it is done by importing the module.</p>
<pre><code>        import controller.mipay.controller as mipay

        @api.route('/redirect')
        class Request(Resource):
            parser = RequestChecker()
            def post(self):
                req = self.parser.parse_args() # &lt;---- JSON/Dictionary

                #method_to_call = getattr(mipay, req['PaymentEndpoint'])
                method_to_call = getattr(req['PaymentMethod'], req['PaymentEndpoint'])

                return method_to_call()
</code></pre>
<p>is there anyway to convert the string to a module object or anything I can do to the string so I could call my function</p>
</div>
<div class="post-text" itemprop="text">
<p><code>__import__</code> may be is your answer:</p>
<pre><code>module = __import__("module.path")
</code></pre>
<p>Refer at: <a href="https://docs.python.org/3/library/importlib.html" rel="nofollow noreferrer">https://docs.python.org/3/library/importlib.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>I assume req['PaymentMethod'] is the module and req['PaymentEndpoint'] is the method. What you can do is use importlib.</p>
<pre><code>#import controller.mipay.controller as mipay
import importlib

my_mapping = {'mipay':'controller.mipay.controller'}

class Request(Resource):
    parser = RequestChecker()

    def post(self):
        req = self.parser.parse_args()  # &lt;---- JSON/Dictionary

        # method_to_call = getattr(mipay, req['PaymentEndpoint'])
        mipay= importlib.import_module(my_mapping[req['PaymentMethod']])
        method_to_call = getattr(mymodule, req['PaymentEndpoint'])

        return method_to_call()
</code></pre>
</div>
<span class="comment-copy">does this code import the module?</span>
<span class="comment-copy">yeah, you can try it by yourself.</span>
<span class="comment-copy">I am getting an error of ModuleNotFoundError: No module named 'mipay</span>
<span class="comment-copy">I see, you actually want to import 'controller.mipay.controller'. Best way to do it is via a dictionary. Answer updated above.</span>
