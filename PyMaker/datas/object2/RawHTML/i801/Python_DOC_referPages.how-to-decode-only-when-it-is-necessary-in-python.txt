<div class="post-text" itemprop="text">
<p>I have a mixed dataset where some of them are as strings and some as bytes as follows.</p>
<pre><code>mydata={'data mining': [b'data', b'text mining', b"artificial intelligence"], 'neural networks': ['cnn', 'rnn', "artificial intelligence"]}
</code></pre>
<p>My code is as follows</p>
<pre><code>for key, value in mydata.items():
    for item in value:
        print(type(item))
</code></pre>
<p>Since some of the values are bytes I wanted to convert them to strings. Therefore, I did the following change to the above code.</p>
<pre><code>for key, value in mydata.items():
    for item in value:
        print(type(item.decode("utf-8")))
</code></pre>
<p>However, then I get an error saying; <code>AttributeError: 'str' object has no attribute 'decode'</code></p>
<p>I also tried:</p>
<pre><code>for key, value in mydata.items():
    for item in value:
        if type(item) == 'str':
            print(type(item))
</code></pre>
<p>But it did not work for me.</p>
<p>Is there a way to resolve this issue?</p>
</div>
<div class="post-text" itemprop="text">
<p>Following is an implementation of the various suggestions in the comments. Check if the list element is a bytes object and decode if so (since bytes objects are immutable, I am replacing the list element with a decoded version).</p>
<pre><code>mydata = {'data mining': [b'data', b'text mining', b'artificial intelligence'], 'neural networks': ['cnn', 'rnn', "artificial intelligence"]}

for items in mydata.values():
    for i, item in enumerate(items):
        if isinstance(item, bytes):
            items[i] = item.decode()

print(mydata)
# OUTPUT
# {'data mining': ['data', 'text mining', 'artificial intelligence'], 'neural networks': ['cnn', 'rnn', 'artificial intelligence']}
</code></pre>
</div>
<span class="comment-copy">you can always <code>try: ... catch AttributeError: ...</code>,  no? Better yet, I would just deal with whatever is giving you this messy data in the first place. But you can clean it easily.</span>
<span class="comment-copy">"<i>Is there a way to resolve this issue?</i>" Check the data type and don't call deode if it is a string?</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/functions.html#isinstance" rel="nofollow noreferrer">isinstance</a></span>
<span class="comment-copy">I agree with the first comment: your data representation is a mess, so you should not create such representation in the first place. If you get your data from different sources (and this is the reason why representation is different), then for each source you should know how to convert the data to the unified format (and convert before adding to your data structure).</span>
<span class="comment-copy"><code>type(item) == 'str'</code> is checking if the class / type object is equal to the <code>str</code> object <code>'str'</code>, but that <i>will never happen</i>. You could do <code>type(item) == str</code> or <code>type(item) is str</code>, or even more idiomatically, <code>isinstance(item, str)</code>. Of course, you can just use a <code>try-except</code> as well.</span>
