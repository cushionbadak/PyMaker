<div class="post-text" itemprop="text">
<p>Here's the code: <a href="https://github.com/zSucrilhos/programming/blob/master/Python/psw-generator-ASCII-1.9.5-CLI-t7.py" rel="nofollow noreferrer">https://github.com/zSucrilhos/programming/blob/master/Python/psw-generator-ASCII-1.9.5-CLI-t7.py</a></p>
<p>And on Repl.it: <a href="https://repl.it/@ErickCesar/PushyFabulousTask" rel="nofollow noreferrer">https://repl.it/@ErickCesar/PushyFabulousTask</a></p>
<p>This is a password generator that i'm doing for fun and mostly to learn Python.
It works fine, as expected, i set the following arguments:</p>
<pre><code>-np, --repeat = Generate more than one psw at a time (default=1)
-pl, --length = Password length (default=25 chars)
-pt, --type   = Password's type; Can be one of the following:
</code></pre>
<pre><code>                             1 - UPPERCASE ONLY
                             2 - lowercase only
                             3 - 1234567890 only
                             4 - !@#$%¨&amp;* only
                             5 - Mixed 12ab!@
</code></pre>
<pre><code>
</code></pre>
<p>The problem is the default "help" argument (-h, --help). It shows an big error message when i try to run the program:</p>
<pre><code>C:\Users\Pentium IV 641\Desktop\programming\programming\Python&gt;python psw-generator-ASCII-1.9.5-CLI-t7.py -h
Traceback (most recent call last):
  File "psw-generator-ASCII-1.9.5-CLI-t7.py", line 118, in &lt;module&gt;
    arguments = parser.parse_args()
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 1730, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 1762, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 1968, in _parse_known_args
    start_index = consume_optional(start_index)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 1908, in consume_optional
    take_action(action, args, option_string)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 1836, in take_action
    action(self, namespace, argument_values, option_string)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 1020, in __call__
    parser.print_help()
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 2362, in print_help
    self._print_message(self.format_help(), file)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 2346, in format_help
    return formatter.format_help()
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 282, in format_help
    help = self._root_section.format_help()
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 213, in format_help
    item_help = join([func(*args) for func, args in self.items])
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 213, in &lt;listcomp&gt;
    item_help = join([func(*args) for func, args in self.items])
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 213, in format_help
    item_help = join([func(*args) for func, args in self.items])
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 213, in &lt;listcomp&gt;
    item_help = join([func(*args) for func, args in self.items])
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 519, in _format_action
    help_text = self._expand_help(action)
  File "C:\Users\Pentium IV 641\AppData\Local\Programs\Python\Python36-32\lib\argparse.py", line 606, in _expand_help
    return self._get_help_string(action) % params
ValueError: unsupported format character '?' (0xa8) at index 154
</code></pre>
<p>Tried adding the <code>-h</code> and <code>--help</code> argument by my own and it didn't helped. The error would show the same way.</p>
<p>Tried both in Linux (Arch) and Windows 10, same thing.</p>
<p>I don't know exactly what to try next, because i don't understood the error well to solve it by my own. So i'm asking for help.</p>
<p>I also went to the library file (argparse.py) to see if i could understand better what was going on (didn't edited anything), but i couldn't (beginner here). Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem was this character (<code>%</code>) in your string .</p>
<blockquote>
<p>4 - !@#$%¨&amp;* only</p>
</blockquote>
<p>If you want to print <code>%</code> use <code>%%</code> instead of <code>%</code>.</p>
<p>like this.</p>
<pre><code>4 - !@#$%%¨&amp;* only
</code></pre>
<blockquote>
<p>This could be <code>argparse</code> seems to use <code>%</code> formatting in <code>self._get_help_string(action)</code> <code>%</code> params, otherwise <code>%</code> does not have to be escaped.</p>
</blockquote>
<p>This is a similar relevant question <a href="https://stackoverflow.com/questions/2847272/python-string-formatting-when-string-contains-s-without-escaping">Python string formatting when string contains “%s” without escaping</a></p>
</div>
<span class="comment-copy">Not an answer, just a suggestion: Instead of allowing <i>only</i> lowercase or <i>only</i> uppercase or <i>only</i> all mixed, how about using a bit-mask? 1 for lowercase, 2 for uppercase, 4 for numbers, 8 for special chars -&gt; 9 for lowercase and special chars.</span>
<span class="comment-copy">And <b>please</b> put your code into the body of the question (the argparse stuff starting in <a href="https://github.com/zSucrilhos/programming/blob/master/Python/psw-generator-ASCII-1.9.5-CLI-t7.py#L82" rel="nofollow noreferrer"><code>line 82</code></a> should be sufficient).</span>
<span class="comment-copy">tobias_k, like it. Thanks for the suggestion.</span>
<span class="comment-copy">shmee, i didn't put it in the body of the question because, as i said in above, i don't know what caused the error, so i tought it could be any thing. That's why i put it on  repl.it and github...</span>
<span class="comment-copy">The use of formatting in the help string is explained at <a href="https://docs.python.org/3/library/argparse.html#help" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#help</a></span>
<span class="comment-copy">Good find. You could add that this is a problem because <code>argparse</code> seems to use <code>%</code> formatting in <code>self._get_help_string(action) % params</code>, otherwise <code>%</code> does not have to be escaped.</span>
<span class="comment-copy">I update the answer.</span>
<span class="comment-copy">Not downvoting, but this post is likely to cause a hitchhiker situation. If at any point both links from the OP's post go down, this answer is widely useless because no one will really know what the question was. This is only ever okay if the answer is 42 ;) Please try to make sure that the quality of a question is sufficient before answering.</span>
<span class="comment-copy">Thanks a LOT for that! It solved the problem :)</span>
