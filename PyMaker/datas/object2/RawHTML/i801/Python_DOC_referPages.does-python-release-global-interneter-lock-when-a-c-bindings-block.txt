<div class="post-text" itemprop="text">
<p>I have a some C bindings that do lot of disk access.</p>
<p>Is the GIL released when the C library blocks on disk access?</p>
</div>
<div class="post-text" itemprop="text">
<p>C libraries that run as part of a Python program can, as you suggest, release the GIL before performing extensive computations without needing access to Python objects, and doing so will indeed allow more parallelism by allowing I/O to continue in the background. Unless the library was intended for the Python environment, however, it probably won't, and even if it was there's no guarantee it does release the GIL.</p>
<p>If the libraries weren't specifically designed for Python they won't release the GIL. In that case you can achieve a lot by wrapping the appropriate functions in C wrappers that manage the GIL.</p>
<p>If the libraries weren't specifically for Python, or if the GIL isn't mentioned in their documentation, the only way to be sure would be to examine the source code. Your C code can manipulate the GIL using <a href="https://docs.python.org/3/c-api/init.html#thread-state-and-the-global-interpreter-lock" rel="nofollow noreferrer">functions defined in Python's C API</a>.</p>
</div>
<span class="comment-copy">extra points if you add a link to the functions that must be called to release the GIL. :)</span>
<span class="comment-copy">I think you are looking for <a href="https://docs.python.org/3/c-api/init.html#thread-state-and-the-global-interpreter-lock" rel="nofollow noreferrer"><code>PyGILstate_release</code></a></span>
