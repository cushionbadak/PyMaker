<div class="post-text" itemprop="text">
<p>I'm trying to insert multiple rows into a table using a for-loop in python using the following code:</p>
<pre><code>ID = 0
values = ['a', 'b', 'c']
for x in values:
   database.execute("INSERT INTO table (ID, value) VALUES (:ID, :value)",
                     ID = ID, value = x)
   ID += 1
</code></pre>
<p>What I'd expected to happen was that this piece of code would insert three rows into my table. The only problem is that it only executes the query once. So I'd only get the row " 0, 'a' ".   </p>
<p>There aren't any error messages popping up, it just doesn't update the table with the other two values. Weirdly enough however, I can circumvent this problem by using multiple queries, like so: </p>
<pre><code>ID = 0
values = ['a', 'b', 'c']
for x in values:
   database.execute("INSERT INTO table (ID) VALUES (:ID)", ID = ID)
   database.execute("INSERT INTO table (value) VALUES (:value)", value = x)
   ID += 1
</code></pre>
<p>While this updates my code, this method becomes more tedious as I add columns to my table further down the line. Does anyone know why the first snippet of code doesn't work and the second one does?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/sqlite3.html#cursor-objects" rel="nofollow noreferrer">execute method</a> takes an array as the second parameter.</p>
<blockquote>
<p><strong>execute</strong>(sql[, parameters])</p>
<p>Executes an SQL statement. The SQL statement may be parameterized (i. e. placeholders instead of SQL literals). The sqlite3 module
  supports two kinds of placeholders: question marks (qmark style) and
  named placeholders (named style).</p>
</blockquote>
<p>This should work:</p>
<p><code>database.execute("INSERT INTO table (ID, value) VALUES (:ID, :value)", [ID ,  x])</code></p>
<p>You might want to investigte <code>executemany</code> while you're in the doc.</p>
<p>From the same doc:</p>
<blockquote>
<p><strong>commit()</strong></p>
<p>This method commits the current transaction. If you don’t call this method, anything you did since the last call to commit() is not
  visible from other database connections. If you wonder why you don’t
  see the data you’ve written to the database, please check you didn’t
  forget to call this method.</p>
</blockquote>
<p>You might want to investigte <code>executemany</code> while you're in the doc.</p>
</div>
<span class="comment-copy">You aren't really adding the "value" in the same row as "ID", you know.</span>
<span class="comment-copy">I'm not 100% sure, but have you commited your queries from Python? I believe by default SQLite is auto-commit, but maybe you can check this.</span>
