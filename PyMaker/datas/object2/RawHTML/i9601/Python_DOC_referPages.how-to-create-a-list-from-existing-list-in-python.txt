<div class="post-text" itemprop="text">
<p>I am having a list in below format. How can i create another list from the existing one with just selected elements.</p>
<pre><code>[{'UserDiscount': 0.0, 'CostTotalInvEOPAmount': 940.0, 'WeekEndingData': u'2016-10-08', 'WeeksOnHand': 0.0, 'UnitTotalInvEOPQuantity': 250.0, 'WeeksOfSales': 0.0, 'UnitCostAmount': 3.76, 'Week': u'2016 Wk 36', 'CostReceiptAmount': 940.0, 'UnitSalesQuantity': 0.0, 'UnitReceiptQuantity': 250.0, 'Demand': 0.0, 'InventoryBOP': 0.0, 'PEMDiscount': 0.0, 'ElasticLift': 0.0, 'StoreCount': 0, 'PriceStatus': 4, 'UnitOnOrderQuantity': None, 'ReceiptSizeContributions': [{u'sizeId': u'e1656ac7-1cc1-40ce-b485-989bba9d758d', u'contribution': 1.0}], 'CostSalesAmount': 0.0, 'LifeCycleProperties': {u'IsAtRegularPrice': False, u'IsAtMarkdown': False, u'IsFinished': False, u'IsPreSeason': True}, 'MardownDiscount': 0.0, 'RecommendedReceipt': 250.0, 'RecommendedReceiptSizeContributions': [{u'sizeId': u'e1656ac7-1cc1-40ce-b485-989bba9d758d', u'contribution': 1.0}], 'UnitTotalInvBOPQuantity': 0.0, 'CostOnOrderAmount': None, 'InventoryEOP': 250.0, 'CostTotalInvBOPAmount': 0.0, 'Receipt': 250.0, 'Sales': 0.0, 'LostSales': 0.0, 'TotalDiscount': 0.0, 'RetailSalesAmount': 0.0},
 {'UserDiscount': 0.0, 'CostTotalInvEOPAmount': 940.0, 'WeekEndingData': u'2016-10-15', 'WeeksOnHand': 0.0, 'UnitTotalInvEOPQuantity': 250.0, 'WeeksOfSales': 15.784951285314385, 'UnitCostAmount': 3.76, 'Week': u'2016 Wk 37', 'CostReceiptAmount': 0.0, 'UnitSalesQuantity': 0.0, 'UnitReceiptQuantity': 0.0, 'Demand': 0.0, 'InventoryBOP': 250.0, 'PEMDiscount': 0.0, 'ElasticLift': 0.0, 'StoreCount': 0, 'PriceStatus': 4, 'UnitOnOrderQuantity': None, 'ReceiptSizeContributions': [], 'CostSalesAmount': 0.0, 'LifeCycleProperties': {u'IsAtRegularPrice': False, u'IsAtMarkdown': False, u'IsFinished': False, u'IsPreSeason': True}, 'MardownDiscount': 0.0, 'RecommendedReceipt': 0.0, 'RecommendedReceiptSizeContributions': [], 'UnitTotalInvBOPQuantity': 250.0, 'CostOnOrderAmount': None, 'InventoryEOP': 250.0, 'CostTotalInvBOPAmount': 940.0, 'Receipt': 0.0, 'Sales': 0.0, 'LostSales': 0.0, 'TotalDiscount': 0.0, 'RetailSalesAmount': 0.0}]
</code></pre>
<p>My new list will having below elements.</p>
<pre><code>[{'UserDiscount': 0.0, 'CostTotalInvEOPAmount': 940.0, 'WeekEndingData': u'2016-10-08', 'WeeksOnHand': 0.0, 'UnitTotalInvEOPQuantity': 250.0, 'WeeksOfSales': 0.0, 'UnitCostAmount': 3.76, 'Week': u'2016 Wk 36', 'CostReceiptAmount': 940.0, 'UnitSalesQuantity': 0.0, 'UnitReceiptQuantity': 250.0, 'Demand': 0.0, 'InventoryBOP': 0.0, 'PEMDiscount': 0.0, 'ElasticLift': 0.0, 'StoreCount': 0, 'PriceStatus': 4, 'UnitOnOrderQuantity': None, 'CostSalesAmount': 0.0,  'RecommendedReceipt': 250.0, 'RetailSalesAmount': 0.0},
 {'UserDiscount': 0.0, 'CostTotalInvEOPAmount': 940.0, 'WeekEndingData': u'2016-10-15', 'WeeksOnHand': 0.0, 'UnitTotalInvEOPQuantity': 250.0, 'WeeksOfSales': 15.784951285314385, 'UnitCostAmount': 3.76, 'Week': u'2016 Wk 37', 'CostReceiptAmount': 0.0, 'UnitSalesQuantity': 0.0, 'UnitReceiptQuantity': 0.0, 'Demand': 0.0, 'InventoryBOP': 250.0, 'PEMDiscount': 0.0, 'ElasticLift': 0.0, 'StoreCount': 0, 'PriceStatus': 4, 'UnitOnOrderQuantity': None,  'CostSalesAmount': 0.0, 'RecommendedReceipt': 0.0, 'RetailSalesAmount': 0.0}]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have a list with two dictionaries. To filter the dictionaries you can try</p>
<pre><code>    keep=[key1,key2] #keys you wanna keep
    newList = []
    for item in mylist:
        d = dict((key,value) for key, value in item.iteritems() if key in keep)
        newlist.append(d)
    del mylist
</code></pre>
<p>Also using <a href="https://pypi.python.org/pypi/funcy" rel="nofollow noreferrer">funcy</a> you can do a</p>
<pre><code>   import funcy
   mydict={1:1,2:2,3:3}
   keep=[1,2]
   funcy.project(mydict,keep)
=&gt; {1: 1, 2: 2}
</code></pre>
<p>which is much prettier imho.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use the list comprehension <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions</a></p>
<pre><code>[l for l in your_list if l['UserDiscount'] &gt;= 1 ]
[{'UserDiscount': l['UserDiscount'],'CostTotalInvEOPAmount': l['CostTotalInvEOPAmount']}  for l in your_list ]
</code></pre>
<p>Using this way you can filter the elements in your list and change the structure of your dicts in the list</p>
</div>
<span class="comment-copy">What is the method behind the selection? This list has only 2 elements, so i guess you want to do something with the dictionaries inside the list.</span>
<span class="comment-copy">Hi gabor, can you please reframe your question. what does it means by method behind the selection. is it about selecting the elements in the new list?</span>
<span class="comment-copy">Yes gabor, I want to filter our few elements from the inner dictionaries</span>
<span class="comment-copy">As i said in your list you only have 2 elements. You can refer to them as <code>list[0]</code> or <code>list[1]</code>. Your question is very unclear, and from your description it is unsolvable. I think you want to do something with the dictionaries inside the list, but it is unclear what you want to do.</span>
<span class="comment-copy">What did you try till now? Stackoverflow won't give you the code, you have to come to the conclusion to yourself ;)</span>
<span class="comment-copy">Thanks @themistoklik. This works</span>
<span class="comment-copy">How to check if all the list elements , i.e newlist[0], newlist[1] contains equal number of keys. if a certain key is missing from newlist[1],  i need to delete that element from the list. i.e newlist.pop[1]</span>
<span class="comment-copy">@occasionalvisitor to See how many keys are there do a len(dict.keys()). To remove on missing key do a try: dict[key] except KeyError: #pop here.</span>
<span class="comment-copy">d = dict((key, value) for key, value in items.iteritems() if all(cols in items for cols in filter_columns)) is checking if all required keys are present in dict. if yes i am adding to new list, but if any of the keys are not present it is appending an empty dict to new list. Any help??</span>
<span class="comment-copy">Add an else next to the if to do what you want</span>
