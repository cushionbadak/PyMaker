<div class="post-text" itemprop="text">
<p>I'm trying to export all of my maps that are in my subdirectories.</p>
<p>I have the code to export, but I cannot figure out where to add the loop that will make it do this for all subdirectories.  As of right now, it is exporting the maps in the directory, but not the subfolders.</p>
<pre><code>import arcpy, os

arcpy.env.workspace = ws = r"C:\Users\162708\Desktop\Burn_Zones"

for subdir, dirs, files in os.walk(ws):

    for file in files:

        mxd_list = arcpy.ListFiles("*.mxd")

        for mxd in mxd_list:

            current_mxd = arcpy.mapping.MapDocument(os.path.join(ws, mxd))
            pdf_name = mxd[:-4] + ".pdf"
            arcpy.mapping.ExportToPDF(current_mxd, pdf_name)

        del mxd_list
</code></pre>
<p>What am I doing wrong that it isn't able to iterate through the subfolders?  </p>
<p>Thank you!</p>
</div>
<div class="post-text" itemprop="text">
<p>Iterating through os.walk result you should give tuples containing <code>(path, dirs, files)</code> (the first in the tuple is the current path that contains <code>files</code> which is why I tend to name it that way). The current directory does not change automatically so you need to incorporate it into the path you're giving to <code>arcpy.ListFiles</code> like this:</p>
<pre><code>arcpy.ListFiles(os.path.join(path, "*.mxd"))
</code></pre>
<p>You should also remove the loop <code>for file in files</code>. It seems like you're exporting the files per directory so why export the whole directory every time for each file?</p>
<p>Also you should change <code>arcpy.mapping.MapDocument(os.path.join(ws, mxd))</code> to <code>arcpy.mapping.MapDocument(os.path.join(path, mxd))</code> where <code>path</code> is again the first element from <code>os.walk</code>.</p>
</div>
<span class="comment-copy">I don't believe <code>os.walk</code> changes the working directory.  <code>os.path.join(subdir, '*.mxd')</code> could replace <code>'*.mxd'</code> in your code, or you could <code>os.chdir(subdir)</code></span>
<span class="comment-copy">@Dobbins are you not familiar with the functionality of <code>os.walk</code> ? <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer">docs.python.org/3/library/os.html#os.walk</a></span>
