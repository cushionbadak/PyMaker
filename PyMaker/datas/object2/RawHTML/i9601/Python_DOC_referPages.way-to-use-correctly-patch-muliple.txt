<div class="post-text" itemprop="text">
<p>I am new to mocking using patch.
<a href="https://docs.python.org/3/library/unittest.mock.html#patch-multiple" rel="nofollow noreferrer">https://docs.python.org/3/library/unittest.mock.html#patch-multiple</a></p>
<p>And wondering why:</p>
<pre><code>with patch.multiple(lock, cache=local_cache, LOCK_TIMEOUT=1):
</code></pre>
<p>is not equivalent to:</p>
<pre><code>with patch.object(lock, 'cache', local_cache):
    with patch.object(lock, 'LOCK_TIMEOUT', 1):
</code></pre>
<p>How should one setup patch.multiple to get same effect?</p>
</div>
<div class="post-text" itemprop="text">
<p>The correct way of calling <code>patch.multiple</code> is:</p>
<pre><code>with patch.multiple('utils.lock', cache=local_cache, LOCK_TIMEOUT=1):
</code></pre>
</div>
