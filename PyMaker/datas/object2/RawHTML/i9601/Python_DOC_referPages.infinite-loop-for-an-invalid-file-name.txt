<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response">Asking the user for input until they give a valid response</a>
<span class="question-originals-answer-count">
                    17 answers
                </span>
</li>
</ul>
</div>
<p>I'm working on a program that accepts a file name as an input, I'm trying to add an error check so that when an invalid file is entered it doesn't break the program, but I'm not quite sure how to do it.</p>
<p>Currently I'm just using </p>
<p>image1 = Image.open(raw_input('Enter your first image name: '))</p>
<p>Essentially what I need is some type of loop in the event that a file isn't there. For example the file I'm using is june_subset_gray.tif, but if someone wrote jne_subset_gray.tif rather than prompting them to try again it would just break. Also I don't want to hard code what it could be because something could name their file picture.jpeg, or alaska.tif.</p>
<p>With that said I'm guessing I'm looking for something that will loop in the event that the file being called doesn't exist.</p>
<p>Thanks for all the responses in advance. This wasn't covered in my programming class at all so I'm at the mercy of google and stackoverflow.</p>
</div>
<div class="post-text" itemprop="text">
<p>A quick while loop will do it</p>
<pre><code>while True:
    try:
        image1 = Image.open(raw_input('Enter your first image name: '))
        break
    except IOError:
        print("invalid filename, try again")
</code></pre>
<p>I'm not sure what <code>Image</code> is, but it may raise several different types of errors. For instance, what if the user inputs a valid file name but its not an image file. Read its help and experiment to see if there are other exceptions to catch.</p>
</div>
<span class="comment-copy">Read about try/except <a href="https://docs.python.org/2.7/tutorial/errors.html" rel="nofollow noreferrer">docs.python.org/2.7/tutorial/errors.html</a></span>
<span class="comment-copy">You will have to get out of asking for the filename in the Image.open line. Instead, you need to get the input value, test for file exists, and only then try the Image.open using the variable as the filename.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/os.path.html#os.path.exists" rel="nofollow noreferrer">os.path.exists</a>, <a href="https://docs.python.org/3/library/os.path.html#os.path.isfile" rel="nofollow noreferrer">os.path.isfile</a> but it doesn't check if file is correct image and still you may need <code>try/except</code> with <code>open()</code></span>
<span class="comment-copy">@LaughingVergil - depending on what <code>Image</code> is, it likely raises an error on failure so there is no need to test externally.</span>
<span class="comment-copy">Thanks! That did the trick. I had no idea it was that simple.</span>
<span class="comment-copy">The rule is "Easier to ask for forgiveness than permission" ... just try it and catch any exceptions.</span>
