<div class="post-text" itemprop="text">
<p>I need to turn this file content into a dictionary, so that every key in the dict is a name of a movie and every value is the names of the actors that plays in it inside a set.
i thought about reading the file, putting every movie name in a list and than make it a set to remove duplicats.
then, a loop to make every movie name a key, the problem is what next? how do
i make the values actor names?</p>
<p>comment: its a text file (.txt)
Example of file content:</p>
<pre class="lang-none prettyprint-override"><code>Brad Pitt, Sleepers, Troy, Meet Joe Black, Oceans Eleven, Seven, Mr &amp; Mrs Smith
Tom Hanks, You have got mail, Apollo 13, Sleepless in Seattle, Catch Me If You Can
Meg Ryan, You have got mail, Sleepless in Seattle
Diane Kruger, Troy, National Treasure
Dustin Hoffman, Sleepers, The Lost City
Anthony Hopkins, Hannibal, The Edge, Meet Joe Black, Proof
Alec Baldwin, The Edge, Pearl Harbor
Angelina Jolie, Bone Collector, Lara Croft Tomb Raider, Mr &amp; Mrs Smith
Denzel Washington, Bone Collector, The Siege, American Gangster
Julia Roberts, Pretty Woman, Oceans Eleven, Runaway Bride
Gwyneth Paltrow, Shakespeare in Love, Bounce, Proof
Russell Crowe, Gladiator, A Beautiful Mind, Cinderella Man, American Gangster
Sylvester Stallone, Rocky, Rambo, Assassins
Johnny Depp, Edward Scissorhands, The Pirates of Caribbean, Finding Neverland
Leonardo Di Caprio, Titanic, Blood Diamond, The Departed, Catch Me If You Can
Antonio Banderas, The Mask of Zorro, Desperado
Tom Cruise, Top Gun, Mission Impossible, Jerry Maguire, A Few Good Men
Kate Winslet, Titanic, Finding Neverland
George Clooney, Oceans Eleven, Intolerable Cruelty
Matt Damon, Good Will Hunting, Bourne Identity, Bourne Ultimatum, The Departed
Ben Affleck, Bounce, Good Will Hunting, Pearl Harbor
Catherine Zeta Jones, The Mask of Zorro, Intolerable Cruelty
Morgan Freeman, Bone Collector, Seven, Million Dollar Baby, Bruce Almighty
Bruce Willis, Die Hard, The Sixth Sense, Pulp Fiction, The Siege
Julianne Moore, Assassins, Hannibal
Salma Hayek, Desperado, Wild Wild West
Will Smith, Wild Wild West, Pursuit of Happyness, Hitch, Men in Black
Kevin Bacon, A Few Good Men, Sleepers
Jim Carrey, The Mask, Bruce Almighty, Ace Ventura, Me-Myself &amp; Irene
Renee Zellweger, Me-Myself &amp; Irene, Jerry Maguire, Cinderella Man
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Even though the input is a text file, it can be read with Python <a href="https://docs.python.org/3/library/csv.html#module-csv" rel="nofollow noreferrer"><code>csv</code></a> module because it appears to be formatted properly for one, and doing so makes processing the data and creating the dictionary itself relatively straight-forward.</p>
<p>Formatting the results is a little tortuous, since I wanted it to be just a certain wayâ€”but that's not what you're asking about anyway, right? <code>;-)</code></p>
<pre><code>#!/usr/bin/env python2
import csv

# Create and populate the target dictionary from the data in the file.
movie_actors_dict = {}
with open('actors.txt', 'rb') as csvfile:
    for row in csv.reader(csvfile, skipinitialspace=True):
        actor, movies = row[0], row[1:]
        for movie in movies:
            movie_actors_dict.setdefault(movie, set()).add(actor)

# Display resulting dictionary.
print('{')
representation = ',\n'.join(('    {!r}: {{\n'.format(movie)
                             + ',\n'.join('        {!r}'.format(actor)
                                for actor in sorted(movie_actors_dict[movie]))
                             + '\n    }') for movie in sorted(movie_actors_dict))
print(representation)
print('}')
</code></pre>
<p>Sample output:</p>
<pre class="lang-none prettyprint-override"><code>{
    'A Beautiful Mind': {
        'Russell Crowe'
    },
    'A Few Good Men': {
        'Kevin Bacon',
        'Tom Cruise'
    },
    'Ace Ventura': {
        'Jim Carrey'
    },
    'American Gangster': {
        'Denzel Washington',
        'Russell Crowe'
    },
    'Apollo 13': {
        'Tom Hanks'
    },
    'Assassins': {
        'Julianne Moore',
        'Sylvester Stallone'
    },
    'Blood Diamond': {
        'Leonardo Di Caprio'
    },
    'Bone Collector': {
        'Angelina Jolie',
        'Denzel Washington',
        'Morgan Freeman'
    },
    ... etc, etc
}
</code></pre>
</div>
<span class="comment-copy">Something more detailed please</span>
<span class="comment-copy">i'm using python 2, so this code doesn't seem to work (because of the *movies), also could you please explain this line "for actor, *movies in csv.reader(csvfile, skipinitialspace=True):"</span>
<span class="comment-copy">You should have tagged (and maybe mentioned in your question) what version you were using, because all the things you're asking about are related to new things in version 3. Why are you using version 2?</span>
<span class="comment-copy">@martineau OP had tagged the question as python-2.7</span>
<span class="comment-copy">@shash678: No, I did after they let me know (and have revised my answer accordingly).</span>
