<div class="post-text" itemprop="text">
<p>source.xml</p>
<pre><code>&lt;root xxx&gt;
    &lt;test&gt;
        &lt;ppp&gt;
            &lt;ppp&gt;
                xxx
            &lt;/ppp&gt;
            &lt;ppp&gt;
                yyy
            &lt;/ppp&gt;
             ...
             ...
       &lt;/ppp&gt;
    &lt;/test&gt;
</code></pre>
<p>there are many among ppp
I want to extract it to single  files :</p>
<p>1.xml:</p>
<pre><code>    &lt;ppp&gt;
        xxx
    &lt;/ppp&gt;
</code></pre>
<p>2.xml</p>
<pre><code>    &lt;ppp&gt;
        yyy
    &lt;/ppp&gt;
</code></pre>
<p>3.xml and so on</p>
<p>I know it can be achieved by xml.etree.ElementTree
pls kindly give me an example for this, the confusing part is it has double ppp.</p>
</div>
<div class="post-text" itemprop="text">
<p>The solution using <code>xml.etree.ElementTree</code> module:</p>
<pre><code>import xml.etree.ElementTree as ET

# to load xml contents from file use the following:
# tree = ET.parse('source.xml')
# root = tree.getroot()


source = '''&lt;?xml version="1.0"?&gt;
&lt;root&gt;
    &lt;test&gt;
        &lt;ppp&gt;
            &lt;ppp&gt;
                xxx
            &lt;/ppp&gt;
            &lt;ppp&gt;
                yyy
            &lt;/ppp&gt;
       &lt;/ppp&gt;
    &lt;/test&gt;
&lt;/root&gt;
'''

root = ET.fromstring(source)
for k, ppp in enumerate(root.findall('./test/ppp/ppp')):
    tree = ET.ElementTree(ppp)
    tree.write(str(k+1) + '.xml')
</code></pre>
<ul>
<li><p><code>root.findall('./test/ppp/ppp')</code> - finds all matching elements by path</p></li>
<li><p><code>tree.write()</code> - writes the element tree to a file, as XML</p></li>
</ul>
<p>The above code will parse the needed elements and write them into files <code>1.xml</code> and <code>2.xml</code> respectively</p>
<p><a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">https://docs.python.org/3/library/xml.etree.elementtree.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>In the docs (<a href="https://docs.python.org/2/library/xml.etree.elementtree.html" rel="nofollow noreferrer">https://docs.python.org/2/library/xml.etree.elementtree.html</a>) I found the following sentence:</p>
<blockquote>
<p>Children are nested, and we can access specific child nodes by index:</p>
<blockquote>
<p>&gt;</p>
<blockquote>
<p>root[0][1].text
      '2008'</p>
</blockquote>
</blockquote>
</blockquote>
<p>So you should be able to simply call them by Index after getting them out of your first big xml. Hope this is somehow helpfull :)</p>
</div>
<span class="comment-copy">does it work in python2.7.11  and I want to use tree.find() after tree = ET.ElementTree(ppp)</span>
<span class="comment-copy">the solution covers your initial requirements and it should work on python 2.7</span>
