<div class="post-text" itemprop="text">
<p>I wrote a python script to make an api call. The script returns a integer(number). I want to compare this output with a parameter that is going to pass to the script.</p>
<p>for example if x is the number returned by the script, I would to like to execute script as follows python test.py 20 and compare x with 20.</p>
<p>Please help.</p>
<p>Below is the script:</p>
<pre><code>import json
import os, sys
import urllib2

def main():
    data = json.load(urllib2.urlopen('some url'))
    val = data.keys()[0]
    print(val)

if __name__ == "__main__":
    try:
        main()
    except Exception as e:
        print ('!!FAIL {0}!!!'.format(e))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can access the command line arguments via the <a href="https://docs.python.org/3/library/sys.html#sys.argv" rel="nofollow noreferrer"><code>sys.argv</code></a> list:</p>
<pre><code>import json
import os, sys
import urllib2

def main(expected_value):
    data = json.load(urllib2.urlopen('some url'))
    matched = data.keys()[0] == expected_value
    print('expected value {}'.format('matched' if matched else 'mismatch'))
    # and you could return a bool...
    return matched

if __name__ == "__main__":
    try:
        main(sys.argv[1])    # pass the first command line argument to main()
    except Exception as e:
        print('!!FAIL {0}!!!'.format(e))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>First, you should wrap your script into a function (<code>main()</code> for example) that returns a value to compare. Second, you have to get the command line argument with <code>sys.argv</code>. The template of what you need may look like this:</p>
<pre><code>import sys

def main():
    # do something you need ...
    return 5

if __name__ == "__main__":
    returned = main()
    correct_returned = int(sys.argv[1])
    if returned == correct_returned:
        print("Everything is fine.")
    else:
        print("Error: the script returned {0} instead of {1}".format(returned, correct_returned))
</code></pre>
</div>
<span class="comment-copy">Possible duplicate of <a href="http://stackoverflow.com/questions/1009860/command-line-arguments-in-python">Command Line Arguments In Python</a></span>
