<div class="post-text" itemprop="text">
<p>Building a scraper with selenium in python. Trying to select a number of buttons in sequence that have sequential titles of the form 'Race n' where n is an integer.</p>
<p>I want to be able to do something like:</p>
<pre><code>driver.find_element_by_css_selector("a[title*=race_i]").click()
</code></pre>
<p>where the variable <code>race_i = 'Race ' + str(i)</code> </p>
<p>Is it possible to feed the css or xpath lookup a variable, rather than a plain string? The number of buttons varies so I need this function to be adaptable and work for any value of n. </p>
</div>
<div class="post-text" itemprop="text">
<p>How about you just concat the variable to the xpath/css selector?</p>
<pre><code>driver.find_element_by_css_selector("a[title*=" + race_i + "]").click()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>format</code> function such as</p>
<pre><code>for i in range(1,10):
 driver.find_element_by_css_selector("a[title*=race_{}]".format(i)).click()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To find an element through the variable <code>title</code> you can use either of the following <a href="https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890">Locator Strategies</a>:</p>
<ul>
<li><p><code>css_selector</code>:</p>
<pre><code>for i in range(1,5):
    driver.find_element_by_css_selector("a[title*='race_'"+ str(i) +"]").click()
</code></pre></li>
<li><p><code>xpath</code>: </p>
<pre><code>for i in range(1,5):
    driver.find_element_by_xpath('//a[contains(@title, "race_{}")]'.format(i)).click()
</code></pre></li>
</ul>
</div>
<span class="comment-copy">Welcome to SO. You can append the variable as follows. <code>driver.find_element_by_css_selector("a[title*=Race" + str(i) + "]").click()</code></span>
