<div class="post-text" itemprop="text">
<p>I'm trying to understand fixtures and unit tests in Django. I can successfully load a fixture and use the data in my unit test.</p>
<p>What I want to do is <strong>compare the results of the test to a second fixture</strong>, <code>fixture_2</code>, which represents how the data <em>should</em> look.</p>
<p>Here's a step-by-step of what I am talking about:</p>
<ol>
<li>Import <code>fixture_1</code>, generating the initial test data.</li>
<li>Run the test on the data, changing it.</li>
<li>Somehow compare the results of the test to <code>fixture_2</code>.</li>
</ol>
<p>Is there a way to do step 3? Should I somehow overwrite the test database with <code>fixture_2</code> and do the assertions from there, or is there a way of comparing the test database to a fixture?</p>
</div>
<div class="post-text" itemprop="text">
<p>The fixture file is JSON data. You could use the <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer">json</a> library to load the data and then do your comparisons? Something like:</p>
<pre><code>import json

self.assertEqual(MyModel.objects.all().count(), len(json.loads(fixture_2)))
</code></pre>
</div>
<span class="comment-copy">works for me. thanks.</span>
