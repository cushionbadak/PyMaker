<div class="post-text" itemprop="text">
<p>I have a counter-intuitive issue while writing my script in Python. </p>
<pre><code>&gt;&gt;&gt; def foo():
...     return False
... 
&gt;&gt;&gt; foo()
False
&gt;&gt;&gt; foo()==False
True
&gt;&gt;&gt; i=1
&gt;&gt;&gt; i!=0
True
&gt;&gt;&gt; foo()==False &amp; i!=0
False
&gt;&gt;&gt; (foo()==False) &amp; i!=0
True
&gt;&gt;&gt; 
</code></pre>
<p>As you can see <strong>foo()==False</strong> returns <strong>True</strong> as <strong>i!=0</strong> does, so intuitively I would expect <strong>True &amp; True</strong> to return <strong>True</strong>, however when I run <strong>foo()==False &amp; i!=0</strong> I receive False and when I run <strong>(foo()==False) &amp; i!=0</strong> I get True as was initially expected. What is going on here? </p>
</div>
<div class="post-text" itemprop="text">
<p>It's simple pythons order of operations. In</p>
<pre><code>foo()==False &amp; i!=0
</code></pre>
<p>the bitwise and <code>&amp;</code> has a higher precedence than the <code>==</code>. Thus, you're really evaluating</p>
<pre><code>foo()==(False &amp; i)!=0
</code></pre>
<p>If you replace your bitwise and <code>&amp;</code> with a logical and <code>and</code>, your answer comes out as expected </p>
<pre><code>&gt;&gt;&gt; foo()==False and i!=0
True
</code></pre>
<p>Read more about it <a href="http://www.informit.com/articles/article.aspx?p=459269&amp;seqNum=11" rel="nofollow noreferrer">here</a></p>
</div>
<div class="post-text" itemprop="text">
<p><code>&amp;</code> has higher precedence than <code>==</code> and <code>!=</code> in python so use <code>(foo()==False) &amp; (i!=0)</code> to make sure that no operand precedence conflict occurs.</p>
</div>
<div class="post-text" itemprop="text">
<p>The reason is that there is operator precedence in python, refer to the <a href="https://docs.python.org/3/reference/expressions.html#operator-precedence" rel="nofollow noreferrer">doc:</a></p>
<p>Comparisons(<code>==,!=</code>) has lower precedence than Bitwise AND(<code>&amp;</code>):</p>
<p><code>foo()==False &amp; i!=0</code> ==&gt; <code>foo()==(False &amp; i)!=0</code></p>
<p><code>(foo()==False) &amp; i!=0</code>  ==&gt; <code>((foo()==False) &amp; i)!=0</code></p>
</div>
<div class="post-text" itemprop="text">
<p><code>&amp;</code> is the Bitwise operator, you can use it to see if a number is even or odd. Since <code>foo()</code> returns <code>False</code> which is considered 0 and 0 is not considered an odd number, theBitwise operator <code>&amp;</code> will return <code>False</code> because is not an odd number.</p>
</div>
<div class="post-text" itemprop="text">
<p>As per python documentation 6.16. Operator precedence &amp; has higher precedence than == or !=
therefore when you run foo()==False &amp; i!=0 is evaluated as follows</p>
<pre><code>foo()==False &amp; i!=0
foo() == (False &amp; True)!= 0  #since 1 is nothing but True
Foo() == False != False
</code></pre>
<p>which is false.</p>
<p><a href="https://docs.python.org/3/reference/expressions.html#summary" rel="nofollow noreferrer">https://docs.python.org/3/reference/expressions.html#summary</a> </p>
<p>I initially tried to include a table but dont know how to do that in stackoverflow. sorry.</p>
</div>
