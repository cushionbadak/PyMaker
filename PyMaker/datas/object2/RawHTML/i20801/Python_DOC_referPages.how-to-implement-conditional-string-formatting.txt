<div class="post-text" itemprop="text">
<p>I've been working on a text-based game in Python, and I've come across an instance where I want to format a string differently based on a set of conditions. </p>
<p>Specifically, I want to display text describing items in a room. I want this to be displayed, in the room's description, if and only if the item object in question is in the room object's list of items. The way it is set up, I feel that simply concatenating strings based on conditionals will not output as I want, and it would be better to have a different string for each case. </p>
<p>My question is, is there any pythonic method for formatting strings based on the result of a Boolean conditional? I could use a for loop structure, but I was wondering if there was something easier, similar to a generator expression.</p>
<p>I'm looking for something similar to this, in string form</p>
<pre><code>num = [x for x in xrange(1,100) if x % 10 == 0]
</code></pre>
<p>As a general example of what I mean:</p>
<pre><code>print "At least, that's what %s told me." %("he" if gender == "male", else: "she")
</code></pre>
<p>I realize that this example is not valid Python, but it shows, in general, what I'm looking for. I'm wondering if there is any valid expression for boolean string formatting, similar to the above.
After searching around a bit, I was unable to find anything pertaining specifically to conditional string formatting. I did find several posts on format strings in general, but that is not what I'm looking for.</p>
<p>If something like that does indeed exist, it would be very useful. I'm also open to any alternate methods that may be suggested. Thanks in advance for any help you can provide.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your code actually <em>is</em> valid Python if you remove two characters, the comma and the colon.</p>
<pre><code>&gt;&gt;&gt; gender= "male"
&gt;&gt;&gt; print "At least, that's what %s told me." %("he" if gender == "male" else "she")
At least, that's what he told me.
</code></pre>
<p>More modern style uses <a href="https://docs.python.org/library/string.html#format-specification-mini-language"><code>.format</code></a>, though:</p>
<pre><code>&gt;&gt;&gt; s = "At least, that's what {pronoun} told me.".format(pronoun="he" if gender == "male" else "she")
&gt;&gt;&gt; s
"At least, that's what he told me."
</code></pre>
<p>where the argument to format can be a <code>dict</code> you build in whatever complexity you like.</p>
</div>
<div class="post-text" itemprop="text">
<p>There is a conditional expression in Python which takes the form</p>
<pre><code>A if condition else B
</code></pre>
<p>Your example can easily be turned into valid Python by omitting just two characters:</p>
<pre><code>print ("At least, that's what %s told me." % 
       ("he" if gender == "male" else "she"))
</code></pre>
<p>An alternative I'd often prefer is to use a dictionary:</p>
<pre><code>pronouns = {"female": "she", "male": "he"}
print "At least, that's what %s told me." % pronouns[gender]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use a <a href="https://docs.python.org/3/whatsnew/3.6.html#pep-498-formatted-string-literals" rel="nofollow noreferrer">formatted string literal</a> (they look like <code>f"something"</code>) with an <code>if</code> statement </p>
<pre><code>print(f"Please close the window{'s' if num_windows &gt; 1 else ''}.")
</code></pre>
<p>I had to mix <code>"</code> and <code>'</code> quotes because <a href="https://stackoverflow.com/questions/51775950/why-isnt-it-possible-to-use-backslashes-in-f-strings">you cannot use backslashes</a> to escape quotes in an f-string.</p>
<p>This works in Python 3.6 and later.</p>
</div>
<span class="comment-copy">if you remove the comma and the semicolon it becomes valid python</span>
<span class="comment-copy">s = "At least, that's what {pronoun} told me.".format(pronoun=["she","he"][gender == "male"])</span>
<span class="comment-copy">Is it possible to squeeze an elif in here? e.g. format(pronoun="he" if gender == "male"  pronoun = "she" elif gender=="female" else "not found")</span>
<span class="comment-copy">The answer works for only one if else statement when I added ("/{tech}".format(tech='w' if portfolio=='onshore' else 's' if portfolio=='solar'), I get invalidSyntax Error</span>
<span class="comment-copy">@HVS it is possible, see <a href="https://stackoverflow.com/questions/4614179/python-inline-elif-possible">this answer on stringing together <code>else</code>/<code>if</code> statements to simulate an inline <code>elif</code></a>. But you really shouldn't, you should define a function instead.</span>
