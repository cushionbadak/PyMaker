<div class="post-text" itemprop="text">
<p>I am using the following sparql query using sparqlwrapper as follows.</p>
<pre><code>from SPARQLWrapper import SPARQLWrapper, JSON
sparql = SPARQLWrapper("http://live.dbpedia.org/sparql")
sparql.setReturnFormat(JSON)
my_category = 'dbc:Meteorological_concepts'
sparql.setQuery(f" ASK {{ {my_category}  skos:broader{{1,3}} dbc:Medicine }} ")
results = sparql.query().convert()
print(results['boolean'])
</code></pre>
<p>As mentioned above it works fine with categories that do not have brackets (e.g., <code>dbc:Meteorological_concepts</code>). However, when I enter a category with brackets (i.e <code>my_category = dbc:Elasticity_(physics)</code>) I get the following error.</p>
<pre><code>b"Virtuoso 37000 Error SP030: SPARQL compiler, line 4: syntax error at 'physics' before ')'\n\nSPARQL query:\ndefine sql:big-data-const 0 \n#output-format:application/sparql-results+json\n\n    ASK { dbc:Elasticity_(physics) skos:broader{1,3} dbc:Medicine }\n"
CRITICAL: Exiting due to uncaught exception &lt;class 'SPARQLWrapper.SPARQLExceptions.QueryBadFormed'&gt;
</code></pre>
<p>Is there a way to resolve this issue.</p>
<p>I am happy to provide more details if needed.</p>
</div>
<div class="post-text" itemprop="text">
<p>Please don't plus this answer, I am rewriting what @StanislavKralin mentioned in the above comment. I always try to use full URL in the SPARQL code, particularly when there is special character in SPARQL query. </p>
<pre><code>from SPARQLWrapper import SPARQLWrapper, JSON
sparql = SPARQLWrapper("http://live.dbpedia.org/sparql")
sparql.setReturnFormat(JSON)
my_category = '&lt;http://dbpedia.org/resource/Category:Elasticity_(physics)&gt;'
sparql.setQuery(f" ASK {{ {my_category}  skos:broader{{1,3}} dbc:Medicine }} ")
results = sparql.query().convert()
print(results['boolean'])
</code></pre>
</div>
<span class="comment-copy">This is an issue with DBpedia URIs. See <a href="https://stackoverflow.com/questions/18232010/sparql-queries-with-round-brackets-throw-exception">this question</a></span>
<span class="comment-copy">@chrisis thanks a lot. It would be really great if you could post it as an answer :)</span>
<span class="comment-copy">Try to use full URIs: <code>&lt;http://dbpedia.org/resource/Category:Elasticity_(physics)&gt;</code>.</span>
<span class="comment-copy">@StanislavKralin Thanks a lot. That worked. Thank you once again :)</span>
<span class="comment-copy">@StanislavKralin Could you please kindly tell me if you know an answer for this <a href="https://opendata.stackexchange.com/questions/13997/how-to-identify-general-terms-using-lod/" title="how to identify general terms using lod">opendata.stackexchange.com/questions/13997/â€¦</a> :)</span>
