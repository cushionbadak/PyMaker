<div class="post-text" itemprop="text">
<p>Here is the server code in Python 2.7:</p>
<pre><code>import socket               # Import socket module
s = socket.socket()         # Create a socket object
host = socket.gethostname() # Get local machine name
port = 12345                # Reserve a port for your service.
s.bind((host, port))        # Bind to the port

s.listen(5)                 # Now wait for client connection.
while True:
    c, addr = s.accept()     # Establish connection with client.
print ('Got connection from', addr)
    c.send('Thank you for connecting')
c.close()                # Close the connection
</code></pre>
<p>Here is the client code in Python 2.7</p>
<pre><code>import socket               # Import socket module

s = socket.socket()         # Create a socket object
host = socket.gethostname() # Get local machine name
port = 12345                # Reserve a port for your service.

s.connect((host, port))
print(s.recv(1024))
s.close                     # Close the socket when done
</code></pre>
<p>To reiterate, everything works fine in Python 2.7 but not 3.5.2 which is the version I would like it to work in.</p>
</div>
<div class="post-text" itemprop="text">
<p>You cannot send a string in python 3. It must be bytes. Your server script will have failed with the error <code>TypeError: a bytes-like object is required, not 'str'</code>, not sure why you never saw it.</p>
<p>So prefix your string with <code>b</code> to make it a bytes literal and python 3 will be happy.</p>
<pre><code>c.send(b'Thank you for connecting')
</code></pre>
</div>
<span class="comment-copy">in what way does it not work? Is there an exception or does it just do nothing?</span>
<span class="comment-copy">I'd say check defined methods for the socket library in python 3.5, some might have changed, or their parameters may be different</span>
<span class="comment-copy">It gives me an [Errno 61] connection refused. However when I execute it from python 2.7 it works fine</span>
<span class="comment-copy">@Mixone thanks I'll look into it.</span>
<span class="comment-copy">take a look at their example: <a href="https://docs.python.org/3/library/socket.html#example" rel="nofollow noreferrer">docs.python.org/3/library/socket.html#example</a></span>
<span class="comment-copy">I never saw that error but i will bare that in mind and change my code accordingly, thanks.</span>
<span class="comment-copy">exactly what he said, I tested your code and got:                     Traceback (most recent call last):         File "serverTest.py", line 11, in &lt;module&gt;     c.send('Thank you for connecting') TypeError: a bytes-like object is required, not 'str'</span>
<span class="comment-copy">I have made the changes you guys suggested but I'm still getting a connection error. May be a firewall issue or something I'm missing. Thanks anyway.</span>
<span class="comment-copy">It was for me on win 10 and ubuntu 16.04. Unlikely a firewall issue if py 2 works and py 3 fails, unless yoiu had previously refused firewall access to py3 and it had remembered that setting. If you run it multiple times it will also causes an error as you dont release the server socket, the SO_REUSEADDR setting to <code>setsockopt</code> should stop that.</span>
