<div class="post-text" itemprop="text">
<p>i want to peform simple tokenization to count the number of words in html line by line, except the words between <code>&lt;a&gt;</code> tag and the words between <code>&lt;a&gt;</code> tag will count individually</p>
<p>can nltk do this? or there any library can do this?</p>
<p>for example :
this the html code </p>
<pre><code>&lt;div class="side-article txt-article"&gt;
&lt;p&gt;&lt;strong&gt;BATAM.TRIBUNNEWS.COM, BINTAN&lt;/strong&gt; - Tradisi pedang pora mewarnai serah terima jabatan pejabat di &lt;a href="http://batam.tribunnews.com/tag/polres/" title="Polres"&gt;Polres&lt;/a&gt; &lt;a href="http://batam.tribunnews.com/tag/bintan/" title="Bintan"&gt;Bintan&lt;/a&gt;, Senin (3/10/2016).&lt;/p&gt;
&lt;p&gt;Empat perwira baru Senin itu diminta cepat bekerja. Tumpukan pekerjaan rumah sudah menanti di meja masing masing.&lt;/p&gt;
&lt;p&gt;Para pejabat tersebut yakni AKP Adi Kuasa Tarigan, Kasat Reskrim baru yang menggantikan AKP Arya Tesa Brahmana. Arya pindah sebagai Kabag Ops di &lt;a href="http://batam.tribunnews.com/tag/polres/" title="Polres"&gt;Polres&lt;/a&gt; Tanjungpinang.&lt;/p&gt;
</code></pre>
<p>and i want the output will be</p>
<pre><code>WordsCount : 0 LinkWordsCount : 0
WordsCount : 21 LinkWordsCount : 2
WordsCount : 19 LinkWordsCount : 0
WordsCount : 25 LinkWordsCount : 2
</code></pre>
<p>WordsCount is the number of words in each line except the text between <code>&lt;a&gt;</code> tag. And if there a word appear twice it will be count as two.
LinkWordsCount is the number of words in between <code>&lt;a&gt;</code> tag.</p>
<p>so how to make it count line by line except the <code>&lt;a&gt;</code> tag, and the words between <code>&lt;a&gt;</code> tag will count individually.</p>
<p>Thank You.</p>
</div>
<div class="post-text" itemprop="text">
<p>Iterate over each line of raw HTML and simply search for links in each line.</p>
<p>In the example below, I am using a very naive way for getting the words count - split the line by spaces (this way <code>-</code> is counted as word and <code>BATAM.TRIBUNNEWS.COM</code> counts as a single word).</p>
<pre><code>from bs4 import BeautifulSoup

html = """
&lt;div class="side-article txt-article"&gt;
&lt;p&gt;&lt;strong&gt;BATAM.TRIBUNNEWS.COM, BINTAN&lt;/strong&gt; - Tradisi pedang pora mewarnai serah terima jabatan pejabat di &lt;a href="http://batam.tribunnews.com/tag/polres/" title="Polres"&gt;Polres&lt;/a&gt; &lt;a href="http://batam.tribunnews.com/tag/bintan/" title="Bintan"&gt;Bintan&lt;/a&gt;, Senin (3/10/2016).&lt;/p&gt;
&lt;p&gt;Empat perwira baru Senin itu diminta cepat bekerja. Tumpukan pekerjaan rumah sudah menanti di meja masing masing.&lt;/p&gt;
&lt;p&gt;Para pejabat tersebut yakni AKP Adi Kuasa Tarigan, Kasat Reskrim baru yang menggantikan AKP Arya Tesa Brahmana. Arya pindah sebagai Kabag Ops di &lt;a href="http://batam.tribunnews.com/tag/polres/" title="Polres"&gt;Polres&lt;/a&gt; Tanjungpinang.&lt;/p&gt;
"""

soup = BeautifulSoup(html.strip(), 'html.parser')

for line in html.strip().split('\n'):
    link_words = 0

    line_soup = BeautifulSoup(line.strip(), 'html.parser')
    for link in line_soup.findAll('a'):
        link_words += len(link.text.split())

    # naive way to get words count
    words_count = len(line_soup.text.split())
    print ('WordsCount : {0} LinkWordsCount : {1}'
           .format(words_count, link_words))
</code></pre>
<p>Output:</p>
<pre><code>WordsCount : 0 LinkWordsCount : 0
WordsCount : 16 LinkWordsCount : 2
WordsCount : 17 LinkWordsCount : 0
WordsCount : 25 LinkWordsCount : 1
</code></pre>
<p><strong>EDIT</strong></p>
<p>If you want to read the HTML from a file, use something like this:</p>
<pre><code>with open(path_to_html_file, 'r') as f:
    html = f.read()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would suggest to try to go with RegEx in python that is <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">re</a></p>
<p>To count link words use regex that count href= like <a href="https://stackoverflow.com/questions/499345/regular-expression-to-extract-url-from-an-html-link">this one</a></p>
<p>RegEx also will help you to find words that don't include &lt; &gt; and by spliting them with space you will have array that you can len and have number of words.</p>
<p>That would be the path I would take.</p>
</div>
<span class="comment-copy">I'm having a bit of trouble understanding your question. Can you please show what the current output is and what you want the output to be so we can see how they differ? Thank you</span>
<span class="comment-copy">Wow Thanks! its really work. But if i use html from a file. its said AttributeError: 'file' object has no attribute 'strip'. what i have to do if i use a file html as the input?</span>
<span class="comment-copy">Please do not suggest to <a href="http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454">parse HTML with RegEx</a>...</span>
