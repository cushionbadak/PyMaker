<div class="post-text" itemprop="text">
<p>I want to execute code after the python interpreter has started.</p>
<p>We use virtualenv and up to now we had a file called sitecustomize.py which got executed during interpreter start up.</p>
<p>The sitecustomize.py was part of our project. We use the Django definition of this term: It is a small python module which only holds config and nearly no code: <a href="https://docs.djangoproject.com/en/dev/ref/applications/#projects-and-applications" rel="nofollow noreferrer">Django's Definition of "Project"</a> </p>
<p>Unfortunately some linux distros (Ubuntu) provide a global sitecustomize, and our per virtualenv sitecustomize does not get loaded.</p>
<h1>Question</h1>
<p>How to run Python code on interpreter startup in a virtualenv?</p>
<p>This code should be executed even if the interactive interpreter gets started.</p>
<h1>Goal vs Strategy</h1>
<p>I don't care if this hook is called "sitecustomize" or different :-)</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>usercustomize</code>.</p>
<p>On some linux distros a global sitecustomize exists, on some not. </p>
<p>This can lead to confusing behaviour. </p>
<p>No linux distro provides a usercustomize. </p>
<p>See <a href="https://docs.python.org/3/library/site.html" rel="nofollow noreferrer">site</a></p>
<blockquote>
<p>... After this, an attempt is made to import a module named usercustomize, which can perform arbitrary user-specific customizations, if ENABLE_USER_SITE is true.</p>
</blockquote>
</div>
<span class="comment-copy">you can place your code (bash that runs the python script) at the bottom of <code>bin/activate</code>....after the virtualenv is activated whatever code you place there would run</span>
<span class="comment-copy">@danidee AFAIK this does not work if you create a <code>console_script</code> via <code>setup.py</code>. The  python interpreter of the virtualenv gets used, but the <code>bin/active</code> script does not get executed.</span>
