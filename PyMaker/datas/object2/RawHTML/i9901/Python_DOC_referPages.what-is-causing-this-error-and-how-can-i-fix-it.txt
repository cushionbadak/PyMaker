<div class="post-text" itemprop="text">
<p>I am trying to make a simple compression program in Python, but am receiving this error</p>
<pre><code>with open("admin.dll", "r").read() as text:
AttributeError: __exit__    
</code></pre>
<p>Why am I getting this error? This is my full code</p>
<pre><code>import zlib, sys, time, base64
with open("admin.txt", "r").read() as file:
    print("Uncompressed: " + str(sys.getsizeof(file)))
    compressed = zlib.compress(file, 9)
    print("Compressed: ", end="")
    print(sys.getsizeof(compressed))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are asking Python to treat the result of the expression <code>open("admin.dll", "r").read()</code> (a string) as a context manager. Context managers are expected to have a <code>__exit__</code> method, but strings don't have those methods.</p>
<p>You'd normally pass in the <em>file object</em>:</p>
<pre><code>with open("admin.dll", "r") as fileobj:
    text = fileobj.read()
</code></pre>
<p>File objects <em>do</em> have the required context manager methods.</p>
<p>Note that you have other errors too; <code>sys.getsizeof</code> produces the memory size of a Python object, <em>not</em> the size of a file. You could use <a href="https://docs.python.org/3/library/os.html#os.stat" rel="nofollow noreferrer"><code>os.stat()</code></a> for that, or seek to the end of the file and use <code>fileobj.tell()</code> to get a size. To get the size of the compressed result, use <code>len()</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>I believe you should open the file. Appoint a variable to it. In your case file.
Then on the next line you can read the file by calling f.read()</p>
</div>
