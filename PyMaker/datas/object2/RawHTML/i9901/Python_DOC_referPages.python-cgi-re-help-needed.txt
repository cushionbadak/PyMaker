<div class="post-text" itemprop="text">
<p>I understand most of the following code and what it does except for the <code>if re.search(str(searchString), line) != None:</code>  line - which is near the bottom.</p>
<p>The code accepts a string input by the user on another HTML form and then this python script runs to check a file if the entered string/words is in that file and then prints all lines with the word in.</p>
<pre><code>import cgi, re

print ('Content-type: text/html \n')
print ('&lt;html&gt;')
print ('&lt;head&gt;')
print ('&lt;title&gt;Web Client Server File Search Example &lt;/title&gt;')
print ('&lt;/head&gt;')
print ('&lt;body&gt;')
print ("&lt;H1&gt;Search Text Example &lt;/H1&gt;")

form = cgi.FieldStorage() 
searchString = form.getvalue('search')   
print("&lt;br&gt;&lt;H2 style='color:red;'&gt; Search String: ", searchString)
fh = open("animals.txt")
fhdatalist = fh.readlines()

for line in fhdatalist:
    line = line.rstrip()
    if re.search(str(searchString), line) != None:
        print ('&lt;br&gt;Line Found: ', line)

fh.close()
</code></pre>
<p>Could someone briefly explain how it/the search() works please?</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>searchString = form.getvalue('search')   
</code></pre>
<p>this line takes the search value entered in a form on the HTML page</p>
<pre><code>if re.search(str(searchString), line) != None:
</code></pre>
<p>this line takes each line in the animals.txt file and checks if the search word is found in that line. If it's found, that line from animals.txt is printed. </p>
<p>re is the python regular expression parser, which is extremely powerful and you should check it out! </p>
<p>Python2.7: <a href="https://docs.python.org/2/library/re.html" rel="nofollow noreferrer">https://docs.python.org/2/library/re.html</a></p>
<p>Python3.5: <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html</a></p>
<p>======</p>
<p>And now, a word of warning. You are letting the viewer of your web page interact directly with your code. What if I searched for the following terms? Try it and see what happens:</p>
<pre><code>.*
*
</code></pre>
</div>
<span class="comment-copy">Okay thanks! That makes more sense I think. What is the '!= None:' part for then?</span>
<span class="comment-copy">When the re.search function finds a match, it returns a match object, that you can get info from. If it doesn't find anything, it returns <code>None</code>.   So, that line is saying "if the re.search functions return value does not equal <code>None</code>, print the line form the file.  That's a slight error by the way - you might want to change the line to <code>if re.search(str(searchString), line) is not None:</code>. Your homework is to find out why ;)</span>
<span class="comment-copy">Funnily enough my tutor actually wrote that code...so I thought he'd have done it right! Reading it as 'is not None' makes it easier to understand now. Thank you so much!</span>
