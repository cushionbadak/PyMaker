<div class="post-text" itemprop="text">
<p>Ok, I have a directory with many files and subdirectories; among these ones there are 20 directories called <code>mbr001</code>, <code>mbr002</code>, ... until <code>mbr020</code> that are the ones I am interested in.</p>
<p>I want to write a program that iteratively goes into <code>mbr001</code>, do somethings, then to <code>mbr002</code>, do the same things, and so on.</p>
<p>A solution with Python's <code>os.chdir('./mbr001')</code> until 20 seems pretty inefficient.</p>
<p>Besides, when I am in such directories, let's say for example <code>mbr012</code>, I want to create a variable that has in its name the number of the mbr where I am, in this case 12. Something like <code>variable = 'mbr012_file.dat'</code>. (This <code>variable</code> is used in what I am doing inside each directory, not relevant here).</p>
<p>What I would need would be something like this (note this is pseudo-code):</p>
<pre><code>for i in mbr[i]:
    variable = "mbr[i]_file.dat"
    ...
</code></pre>
<p>How can I do the loop and the variable naming? Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>What about something like this ?</p>
<pre><code>for i in range(1, 21):
    dn =  "./mbr{:03}".format(i)
    var = "mbr{:03}_file.dat".format(i)
    os.chdir(dn)
    # Do your stuff here
    #
    #
    os.chdir("..")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/stdtypes.html#str.format" rel="nofollow noreferrer"><code>format</code></a>:</p>
<pre><code>for i in list_of_is:
    filename = "mbr{0:02d}_file.dat".format(i)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You just need to concatenate '_files.dat' into the directory name</p>
<pre><code>import re
for i in mbr_list:
    variable = i + '_files.dat'
    # use regex if you only interest on the numeric part
    # variable = re.sub('mbr(\d+)', r'mbr\1_file.dat', i)
    # do your thing here
</code></pre>
</div>
<span class="comment-copy">Are you sure that <code>i</code> is both the loop variable <i>and</i> used to get the items to loop over?</span>
<span class="comment-copy"><code>listdir</code> might not be want he wants to do and the <code>range</code> should be defined as <code>range(1, 21)</code> or use <code>i+1</code> instead of <code>i</code>. i would simpy suggest using absolute paths instead of relative ones to avoid having to <code>chdir</code> everytime</span>
<span class="comment-copy">@Ev.Kounis You are right, my bad.</span>
<span class="comment-copy">@Ev.Kounis I agree about your absolute path advise. But since there is no information about operations to do in those folders, i will keep it like thise for now.</span>
<span class="comment-copy">What I am doing is to concatenate all the files in each <code>mbr...</code> directory; indeed using the solution from this post <a href="http://stackoverflow.com/questions/17749484/python-script-to-concatenate-all-the-files-in-the-directory-into-one-file" title="python script to concatenate all the files in the directory into one file">stackoverflow.com/questions/17749484/â€¦</a> The variable <code>outfilename</code> is what it would be here <code>var</code>.</span>
<span class="comment-copy">I am checking @C.LECLERC 's solution. The size of my directories is pretty big...</span>
<span class="comment-copy">Thank you. I assume the _list part converts to a list the integers. I didn't know of this trick.</span>
<span class="comment-copy">Just notice, actually shouldn't just variable = i +  '_file.dat' will do ?</span>
