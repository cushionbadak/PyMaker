<div class="post-text" itemprop="text">
<p>So I have lists in the format:</p>
<pre><code>[2.7, 2018, Canada]
[3.4, 2018, New York, USA]
[17.49, 2017, Canada]
</code></pre>
<p>This pattern continues for a while with countries repeating.</p>
<p>I want to put it in the format:</p>
<pre><code>{Canada: [2018, 2.7, 2017, 17.49], USA: [2018, 3.4]}
</code></pre>
<p>Here's the code I got
(data_lists = the lists above)</p>
<pre><code>empty_dic = {}
empty_dic[data_lists[-1]] = []
if data_lists[-1] in empty_dic:
    empty_dic[data_lists[-1]].append([data_lists[1], data_lists[2])

print(empty_dic)
</code></pre>
<p>However, the append function doesn't work like I want it. It overwrites the information in the previous list. Giving me an output like:</p>
<pre><code>{Canada: [2018, 17.49], USA: [2018, 3.4]}
</code></pre>
<p>How do I make it add onto the list assigned to the key instead of replacing it?</p>
<p>Edit: Wanted to clarify that my data is imported from a text file in that format with the new line spacings</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>collections.defaultdict</code></p>
<pre><code>from collections import defaultdict
data = [[2.7, 2018, "Canada"], [3.4, 2018, "New York", "USA"], [17.49, 2017, "Canada"]]
d = defaultdict(list)
for sublist in data:
    d[sublist[-1]] += sublist[0:2]
</code></pre>
<p>Output</p>
<pre><code>&gt;&gt;&gt; d
defaultdict(&lt;class 'list'&gt;, {'USA': [3.4, 2018], 'Canada': [2.7, 2018, 17.49, 2017]})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer">itertools.groupby</a> to group lists based on common keys and then build up dict as your expected output</p>
<pre><code>&gt;&gt;&gt; import itertools
&gt;&gt;&gt; data = [[2.7, 2018, "Canada"], [3.4, 2018, "New York", "USA"], [17.49, 2017, "Canada"]]
&gt;&gt;&gt; d = dict((k,list(g))for k,g in itertools.groupby(sorted(data,key=lambda x: x[-1]),key=lambda x: x[-1]))
</code></pre>
<p>This operation will group lists based on common key. We have specified key to be last element of list</p>
<pre><code>&gt;&gt;&gt; d
&gt;&gt;&gt; {'Canada': [[2.7, 2018, 'Canada'], [17.49, 2017, 'Canada']], 'New York': [[3.4, 2018, 'New York', 'USA']]}

&gt;&gt;&gt; final_dict = dict((k,list(filter(lambda x: x!=k, list(itertools.chain(*v))))) for k,v in d.items())
</code></pre>
<p>This will give you required output</p>
<pre><code>&gt;&gt;&gt; final_dict
&gt;&gt;&gt; {'Canada': [2.7, 2018, 17.49, 2017], 'New York': [3.4, 2018, 'USA']}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>A = [[2.7, 2018, "Canada"], [3.4, 2018, "New York", "USA"], [17.49, 2017, "Canada"]]

d = {}
for i in A:
    if i[-1] not in d: #Check if key already in dict
        d[i[-1]] = []
    d[i[-1]] += i[:len(i)-1]   #Exclude last element

print d
</code></pre>
<p><strong>Result:</strong></p>
<pre><code>{'Canada': [2.7, 2018, 17.49, 2017], 'USA': [3.4, 2018, 'New York']}
</code></pre>
</div>
<span class="comment-copy">is your <code>data_lists =  [[2.7, 2018, Canada], [3.4, 2018, New York, USA], [17.49, 2017, Canada]]</code> ? cause your initialization <code>empty_dic[data_lists[-1]] = []</code> is actually not right</span>
<span class="comment-copy">How would I format my multiple lines of data from the way it is in the post to the way it's written in your comment?</span>
<span class="comment-copy">@bruhsmh Where did you get the data in the original format you showed? As written it isn't valid Python syntax. Did you read it from a file like that?</span>
<span class="comment-copy">Yes I got it from a text file, however all I had to do was make an empty list and append it to fix it! Also, Using this method is it possible to switch the order of values. So [2018, 2.7] instead of [2.7, 2018]?</span>
<span class="comment-copy">Yes in that case to switch the values <code>d[sublist[-1]] += sublist[1::-1]</code></span>
