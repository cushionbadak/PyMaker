<div class="post-text" itemprop="text">
<p>I am beginner to the python, it would be great help if anybody can help to me understand why <code>dict</code>  works with list comprehension and does not work with simple parameter argument in my case ? both code sample are given below,</p>
<p>Input: (I am reading below data from .txt file and converting in to JSON)</p>
<pre><code>vm4 : Windows10
vm2 : Ubuntu14
vm1 : Ubuntu14
vm3 : MacOSX10.11
</code></pre>
<p>working code.</p>
<pre><code>file1 = dict(i.split(':') for i in file1.split('\n'))
</code></pre>
<p>Code Not working </p>
<pre><code>for i in file1.split('\n'):
    print dict(i.split(':'))

ValueError                                Traceback (most recent call last)
&lt;ipython-input-176-048ba6a1e29b&gt; in &lt;module&gt;()
      1 for i in file1.split('\n'):
----&gt; 2     print dict(i.split(':'))

ValueError: dictionary update sequence element #0 has length 4; 2 is required
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Are you trying to turn the contents of the text file into a dictionary?</p>
<p>If so, is this what you wanted:</p>
<pre><code>d = {}
with open("text.txt") as f:  
    for line in f:
        key, value = line.strip().split(' : ')
        d[key] = value
print(d)
</code></pre>
<p>Output:</p>
<pre><code>{'vm4': 'Windows10', 'vm2': 'Ubuntu14', 'vm1': 'Ubuntu14', 'vm3': 'MacOSX10.11'}
</code></pre>
</div>
<span class="comment-copy">If your data in <code>.txt</code> file is already formatted as <code>dict</code> then use <a href="https://docs.python.org/3/library/functions.html#eval" rel="nofollow noreferrer">eval</a></span>
<span class="comment-copy">If you want to read all the lines of a file in a list you can also use <code>list(f)</code> or <code>f.readlines()</code>.</span>
<span class="comment-copy">I make a copy of you <code>txt</code> and use this code and work perfect: <code>with open("test.txt", "r") as file:     file1 = dict(i.split(" : ") for i in file)</code></span>
<span class="comment-copy">@GarbageCollector That is <i>very</i> unsafe! Don't do that!</span>
<span class="comment-copy">My code  <code>file1 = dict(i.split(" : ") for i in file)</code> is working absolutely fine.!  but i dont understand why it was not working without list comprehension.! I need some explanation for this .. if any one can help over here. ! One thing I noticed that for list comprehension we are passing entire <code>for</code> loop as <code>dict</code> argument. for another piece of code we are not doing so.. that might be the reason ..!</span>
<span class="comment-copy">Thanks Bill for another approach to solve this ..!</span>
