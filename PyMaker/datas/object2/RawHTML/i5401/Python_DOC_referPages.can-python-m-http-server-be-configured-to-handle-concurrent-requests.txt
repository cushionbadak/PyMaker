<div class="post-text" itemprop="text">
<p>I have a small demo page served with http.server. I tried sharing with my coworkers but discovered that http.server remains blocked on any open connection, so concurrent users can't be served.  Is there a way to run http.server to handle concurrent connections?  I found nothing useful here: <a href="https://docs.python.org/3/library/http.server.html" rel="nofollow noreferrer">https://docs.python.org/3/library/http.server.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>IIRC there is no existing config option, but you could extend one with <code>socketserver.ThreadingMixin</code> if you like:</p>
<pre><code>import sys
import socketserver
import http.server


class ThreadedHTTPServer(socketserver.ThreadingMixIn, http.server.HTTPServer):
    daemon_threads = True


port = int(sys.argv[1])
server = ThreadedHTTPServer(('', port), http.server.SimpleHTTPRequestHandler)
try:
    server.serve_forever()
except KeyboardInterrupt:
    pass
</code></pre>
<p>ps: there is <a href="https://bugs.python.org/issue31639" rel="nofollow noreferrer">a related python ticket</a>.</p>
</div>
