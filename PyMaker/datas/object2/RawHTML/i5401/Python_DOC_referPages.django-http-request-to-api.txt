<div class="post-text" itemprop="text">
<p>So i been trying to get this to work but at the same time i do not understand some of these code means. I'm sorry for making the question so long but i want to understand how these works.</p>
<p>I am trying to make a HTTP request to another API to do POST and GET method using django. Based on the website code example, which is this url: <a href="https://www.twilio.com/blog/2014/11/build-your-own-pokedex-with-django-mms-and-pokeapi.html" rel="nofollow noreferrer">https://www.twilio.com/blog/2014/11/build-your-own-pokedex-with-django-mms-and-pokeapi.html</a></p>
<p>As i wanted to use HTTP Request on my API to call other API, therefore i wanted to get a better understanding of how these works and how to use it.</p>
<p>The code is at the bottom of the website. But i will just provide the code here so it is easier for you.</p>
<p><strong>website code</strong></p>
<pre><code>from django_twilio.views import twilio_view
from twilio.twiml import Response
import requests
import json

BASE_URL = 'http://pokeapi.co'

def query_pokeapi(resource_uri):
    url = '{0}{1}'.format(BASE_URL, resource_uri)
    response = requests.get(url)

    if response.status_code == 200:
        return json.loads(response.text)
    return None

@twilio_view
def incoming_message(request):
    twiml = Response()

    body = request.POST.get('Body', '')
    body = body.lower()

    pokemon_url = '/api/v1/pokemon/{0}/'.format(body)
    pokemon = query_pokeapi(pokemon_url)

    if pokemon:
        sprite_uri = pokemon['sprites'][0]['resource_uri']
        description_uri = pokemon['descriptions'][0]['resource_uri']

        sprite = query_pokeapi(sprite_uri)
        description = query_pokeapi(description_uri)

        message = '{0}, {1}'.format(pokemon['name'], description['description'])
        image = '{0}{1}'.format(BASE_URL, sprite['image'])

        frm = request.POST.get('From', '')
        if '+44' in frm:
            twiml.message('{0} {1}'.format(message, image))
            return twiml
        twiml.message(message).media(image)
        return twiml

    twiml.message("Something went wrong! Try 'Pikachu' or 'Rotom'")
    return twiml
</code></pre>
<p>My question is:</p>
<ol>
<li><p>i have read about the <code>request.POST</code> and <code>request.POST.get</code> but i still don't get it. Isn't <code>request.POST</code> = POST method/create function ? </p></li>
<li><p>what does <code>body.lower</code> mean ? Cant seems to find anything about it.</p></li>
<li><p>I am very confuse about this part </p>
<pre><code>sprite_uri = pokemon['sprites'][0]['resource_uri']
description_uri = pokemon['descriptions'][0]['resource_uri']

sprite = query_pokeapi(sprite_uri)
description = query_pokeapi(description_uri)
</code></pre></li>
</ol>
<p>is <code>pokemon['sprites']</code> refers to the sprites field in the api ? </p>
<ol start="4">
<li><p>What does this even means ?</p>
<pre><code>    frm = request.POST.get('From', '')
    if '+44' in frm:
        twiml.message('{0} {1}'.format(message, image))
        return twiml
    twiml.message(message).media(image)
    return twiml
</code></pre></li>
</ol>
<p><code>request.POST.get('From', '')</code> Isn't POST where user enter data ? Where does 'From' come from? And what does this means ? <code>if '+44' in frm:</code> if +44 is found in frm ?</p>
</div>
<div class="post-text" itemprop="text">
<p>ALL The questions are based on very basic python concepts, I recommend you go through python docs here <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">Python Docs</a></p>
<ol>
<li><p>Diff in request.POST and request.POST.get()</p>
<pre><code>Ex request.post has following dict {'abc_key': 'abc_value'}
    than request.POST['abc_key'] will give 'abc_value'
    but  request.POST['xyz_key'] will throw error

    so we use default value to escape this error
    request.POST.get('xyz_key', "default_value")
    this will not give error if xyz_key is not found
</code></pre></li>
<li><p>body.lower</p>
<p>This method returns a copy of the string in which all case-based 
 characters have been lowercased.</p>
<p>check this link  <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">lower()</a></p></li>
<li><p>pokemon['sprites'][0]['resource_uri']
this is serching in pokemon (which have dictionary values)</p>
<p>Ex. pokemon = {'sprites':[{'resource_uri': 'res_value'}, 1, 2, 3 ]}
    so pokemon['sprites'][0]['resource_uri']  will give 'res_value'</p></li>
<li><p>frm = request.POST.get('From', '')  same as i said in 1st point</p></li>
<li><p>if '+44' in frm:<br/>
this will return True if string '+44' is substring in frm 
variable(string)</p></li>
</ol>
</div>
<span class="comment-copy">These are all really basic Python questions. Rather than trying to understand a big chunk of existing Django code, you should go and do an introductory Python tutorial first.</span>
<span class="comment-copy">So <code>request.post</code> will display error if the key/field name is wrong while <code>request.post.get</code> will display None ?  But isnt request.post a post function ? Why am i getting the value if all im doing is sending data? At most i know that the response i get back is if the post function is success or fail.</span>
<span class="comment-copy">So for example if i do a <code>request.post{'title': '12 Season', 'author': 'May'}</code> to a book api, does this means that i created an book object into the api ?</span>
<span class="comment-copy">post is not sending data its request method (out of many) it says you have received an POST request and have data withing request.post , request will have data like.... request = {post: {1,2}, get:{1,2}} and you can access data based on request you receive either get or post</span>
<span class="comment-copy">just do print(request) inside def incoming_message(request) and you will see all data request holds</span>
<span class="comment-copy">wait, so the post is actually like a search ? eg: posting userId will get back the information of the userId given ?</span>
