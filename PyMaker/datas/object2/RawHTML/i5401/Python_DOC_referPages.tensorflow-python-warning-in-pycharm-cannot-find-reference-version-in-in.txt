<div class="post-text" itemprop="text">
<p>I'm using the</p>
<pre><code>if tf.__version__ &lt; x.x.x:
</code></pre>
<p>statement within PyCharm, which is found in many of the TensorFlow GitHub examples, like so:</p>
<pre><code># tensorflow_version_test.py

import tensorflow as tf

#######################################################################################################################
def main():
    if tf.__version__ &lt; "1.4.0":
        print("ERROR: TensorFlow version is older than 1.4.0, upgrade to 1.4.0 or higher before continuing !!!")
        return
    # end if

    print("TensorFlow version is &gt;= 1.4.0, continuing . . .")

    # rest of program would go here . . .

# end main

#######################################################################################################################
if __name__ == "__main__":
    main()
</code></pre>
<p>This works great, I'm at TensorFlow 1.4.0 currently, if I run this script as above, the error message does not show, and if I change the <code>if</code> statement to, for example, 2.4.0 (which is not out yet of course) then the error shows as expected and the program exits.</p>
<p>The problem I'm encountering is PyCharm shows the following warning on the if statement:</p>
<pre><code>Cannot find reference '__version__' in '__init__.py'
</code></pre>
<p>Here is a screenshot:</p>
<p><a href="https://i.stack.imgur.com/PiE0B.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/PiE0B.png"/></a></p>
<p>If I choose the PyCharm light bulb icon, I get these options:</p>
<p><a href="https://i.stack.imgur.com/7aUmc.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/7aUmc.png"/></a></p>
<p>none of which are especially appealing.</p>
<p>For the moment, I'm choosing the last option "Suppress for statement", which adds this line above the if statement</p>
<pre><code># noinspection PyUnresolvedReferences
</code></pre>
<p>My concern here is I'm in the process of writing documentation that many other people will use, some of whom will be using PyCharm and some of whom will inevitably be using a different editor.</p>
<p>For this reason, I can't alter any of the TensorFlow <strong>init</strong>.py files, because that would then create a custom install on my computer and anybody following my documentation would see different results on their screen if they are using PyCharm.  Further, I'm using pip to install packages so I'm not even sure if this is possible, but even if it is it's still not an acceptable choice.</p>
<p>Similarly, I'd prefer not to include a comment line specific to PyCharm since that would cause confusion for those not using PyCharm.</p>
<p>I'd really prefer to not disable this inspection entirely since I find PyCharm's warnings very helpful in many circumstances and therefore I'd rather not disable them.</p>
<p>Upon Googling on this concern, I found this <a href="https://stackoverflow.com/questions/23248017/cannot-find-reference-xxx-in-init-py-python-pycharm">post</a>.</p>
<p>The suggested answers were to either edit an <strong>init</strong>.py file which I'd rather not do for the reasons mentioned above, or to change the import statement to be to the effect of</p>
<pre><code>from somePackage import module1, module2, module3
</code></pre>
<p>which does not seem to be applicable in my case since I'm importing TensorFlow entirely with the statement</p>
<pre><code>import tensorflow as tf
</code></pre>
<p>Even if modifying the import statement to prevent this warning is somehow possible I'd still rather not do this as this would cause confusion for non-PyCharm users and would make my examples different than all the other TensorFlow documentation and examples available.</p>
<p>At the moment it seems this is the best I can do:</p>
<pre><code>    # this next comment line is necessary to avoid a false warning if using the editor PyCharm
    # noinspection PyUnresolvedReferences
    if tf.__version__ &lt; "1.4.0":
        print("ERROR: TensorFlow version is older than 1.4.0, upgrade to 1.4.0 or higher before continuing !!!")
        return
    # end if
</code></pre>
<p>Is there something I'm missing here?  Any suggestions as to a better way to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>tf.__version__</code> is generated dynamically, so the various <code>import</code> hacks are unlikley to work.  </p>
<p>A simple hack to work around the warning is using <a href="https://docs.python.org/3/library/functions.html#getattr" rel="nofollow noreferrer">getattr</a> like:</p>
<pre><code>import tensorflow as tf

if getattr(tf, '__version__') &lt; "1.4.0":
    ....
</code></pre>
</div>
<span class="comment-copy">Thanks for the suggestion, but I'll think I'll stick with the comment line above.  I'd rather put in an odd comment then change a line of actual running code to accommodate PyCharm.</span>
