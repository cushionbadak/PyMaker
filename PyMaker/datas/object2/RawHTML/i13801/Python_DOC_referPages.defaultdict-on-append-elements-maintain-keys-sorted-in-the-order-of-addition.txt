<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/4126348/how-can-this-function-be-rewritten-to-implement-ordereddict">How can this function be rewritten to implement OrderedDict?</a>
<span class="question-originals-answer-count">
                    3 answers
                </span>
</li>
</ul>
</div>
<p>I created a empty <code>defaultdict(list)</code>, and I am adding to it. I want the keys to be sorted in the order of addition. My code takes an input.</p>
<p><strong>Input:</strong></p>
<pre><code>4
bcdef
abcdefg
bcde
bcdef
</code></pre>
<p><strong>My Code:</strong> </p>
<pre><code>from collections import defaultdict
d = defaultdict(list)
a = int(input())
for i in range(a):
    temp = raw_input()
    d[temp].append(i)
for k in d:
    print k
</code></pre>
<p><strong>Output:</strong> </p>
<pre><code>bcde             
bcdef
abcdefg
</code></pre>
<p><strong>Desired Output</strong></p>
<pre><code>bcdef
abcdefg
bcde
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" rel="nofollow"><code>collections.OrderedDict</code></a> to maintain the order of the insertion of keys.</p>
<pre><code>&gt;&gt;&gt; from collections import OrderedDict
&gt;&gt;&gt; d = OrderedDict()
&gt;&gt;&gt; for i in range(4):
...     d.setdefault(input(), []).append(i)
... 
bcdef
abcdefg
bcde
bcdef
&gt;&gt;&gt; print("\n".join(d))
bcdef
abcdefg
bcde
</code></pre>
<p>Here, we use <a href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" rel="nofollow"><code>setdefault</code></a> method, which will set the default value (the second argument) for the key, if it is not found in the dictionary already. And the <code>setdefault</code> returns the value corresponding to the key, so in this case, if the key is not there, then a new list is assigned against the key and it will be returned. If the key already exists, then the existing list corresponding to that will be returned. And we simply call <code>append</code> on the list returned.</p>
</div>
<span class="comment-copy">Thanks,solved my problem, but I have a doubt. I read <code>defaultdict(list)</code> is faster than <code>dict.setdefault</code> . I tried <code>OrderedDict(list)</code> but it gave an error. So, with <code>OrderedDict()</code> ,  <code>dict.setdefault</code> is the only way. right?</span>
<span class="comment-copy">@Charan Correct, with <code>OrderedDict</code>, you can use only <code>setdefault</code>.</span>
