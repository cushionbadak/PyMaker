<div class="post-text" itemprop="text">
<p>I am seeing a very strange behavior coming from these two commands:</p>
<pre><code>k = [name for name in os.listdir('/home/kwotsin/Datasets/flowers/') if os.path.isdir(name)]
</code></pre>
<p>versus the following command when I run it in a terminal on the path above:</p>
<pre><code>k = [name for name in os.listdir('.') if os.path.isdir(name)]
</code></pre>
<p>When I run this to check:</p>
<pre><code>k = [name for name in os.listdir('/home/kwotsin/Datasets/flowers/')]
for name in k:
    print os.path.isdir(name)
</code></pre>
<p>I get False instead, although <code>k</code> actually has a subdirectory listed in it!</p>
<p>The first one returns me nothing while the second one returns me a list of subdirectories. Why would this happen?</p>
</div>
<div class="post-text" itemprop="text">
<p>this is a problem because <code>name</code> (coming from <code>os.listdir</code>) will only contain the last part of the path and therefore be a <em>relative path</em>. <code>os.isdir('testdir')</code> will only look for <code>'testdir'</code> in your current working directory (<code>os.getcwd()</code> will tell you which one that is; that is also what is referenced by <code>'.'</code>).</p>
<p>you could fix that with something like</p>
<pre><code>my_dir = '/home/kwotsin/Datasets/flowers/'
...
if os.isdir(os.path.join(my_dir, name)):
    ...
</code></pre>
<p>because now <code>os.path.join(my_dir, name)</code> is the <em>absolute path</em> of the directory/file called <code>name</code> in <code>my_dir</code> and it will be found independently of your working directory.</p>
<p>just in case: <a href="https://docs.python.org/3/library/pathlib.html" rel="nofollow noreferrer">pathlib</a> is a nice built-in module for path handling...</p>
</div>
<span class="comment-copy">Not sure how you get 'False' as output given that code. Which one is strange: tje list with the absolute path or the list with the relative path?  Showing the output would help explain.</span>
<span class="comment-copy">Thank you for your answer! That makes sense given that <code>name</code> is not attached to any directory. I would understand why Python doesn't give True for os.path.isdir.</span>
