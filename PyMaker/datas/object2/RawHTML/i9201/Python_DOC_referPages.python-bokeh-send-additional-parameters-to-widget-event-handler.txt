<div class="post-text" itemprop="text">
<p>I want to send additional data to a bokeh event handler (e.g. an on_change or on_click method).  A minimal example that increments or decrements an integer is below (I run this app with 'bokeh serve --show app.py).  I had to write separate event handlers that do almost identical things in this example.  To write this app with just one event handler function, I need to pass additional data or the event handler must know the calling object.  How do I do that?</p>
<pre><code>from bokeh.plotting import curdoc
from bokeh.models.widgets import Button, Paragraph
from bokeh.layouts import widgetbox

minus = Button(label='-')
plus = Button(label='+')
text = Paragraph(text='0')

def minus_callback():
    text.text = str(int(text.text) - 1)

def plus_callback():
    text.text = str(int(text.text) + 1)

minus.on_click(minus_callback)
plus.on_click(plus_callback)
# I would prefer to just use one callback and pass additional data to it:
# minus.on_click(callback, action='decrement')
# plus.on_click(callback, action='increment')

layout = widgetbox(minus, plus, text)
curdoc().add_root(layout)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The standard <a href="https://docs.python.org/3/library/functools.html#functools.partial" rel="noreferrer"><code>functools.partial</code></a>  facility that is built into python works fine with Bokeh callbacks.</p>
<pre><code>from functools import partial
from bokeh.plotting import curdoc
from bokeh.models.widgets import Button, Paragraph
from bokeh.layouts import widgetbox

minus = Button(label='-')
plus = Button(label='+')
text = Paragraph(text='0')

def callback(foo):
    print(foo)

minus.on_click(partial(callback, foo="minus"))
plus.on_click(partial(callback, foo="plus"))

layout = widgetbox(minus, plus, text)
curdoc().add_root(layout)
</code></pre>
</div>
<span class="comment-copy">Thanks for this answer - functools partial also works well with Bokeh FunctionHandler to pass kwargs when running a server application within Jupyter, so the function in <a href="https://github.com/bokeh/bokeh/blob/0.12.5/examples/howto/server_embed/notebook_embed.ipynb" rel="nofollow noreferrer">this</a> code could have variables passed to it...</span>
