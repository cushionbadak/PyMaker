<div class="post-text" itemprop="text">
<p>So I have a jq command that converts my json array into a json object. The command works normally in the windows terminal, but when I try to implement it into my python program i get this: jq: error: </p>
<pre><code>Could not open file &gt;newfile.json: Invalid argument.
</code></pre>
<p>Here is my jq command which works and puts the transformed json into newfile.json:</p>
<pre><code>jq ".[]" data.txt &gt;newfile.json
</code></pre>
<p>Here is my subprocess call in my python program:</p>
<pre><code> subprocess.call('jq ".[]" data.txt &gt;newfile.json', cwd=r'C:/Users/john/Desktop/swag', shell=True)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Open the output file yourself, and you won't need to rely on shell behavior (which is, obviously, not working in the present case) to do it for you.</p>
<pre><code>subprocess.call(['jq', '.[]', 'data.txt'],
  cwd=r'C:/Users/john/Desktop/swag',
  stdout=open('C:/Users/john/Desktop/swag/newfile.json', 'w'))
</code></pre>
</div>
<span class="comment-copy">To get the subprocess module to handle shell features such as redirection, you need to add <code>shell=True</code> to the call.</span>
<span class="comment-copy">I've already done this sorry I forgot to add that to my question, but it did not solve my problem.</span>
<span class="comment-copy">Clearly a Windows-specific problem. Not having a Windows system available to test with, the easy answer is to give a solution that bypasses relying on the shell to do things for you altogether.</span>
<span class="comment-copy">Why are you using <code>jq</code> for this when Python has a <code>json</code> library built right in?</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer">docs.python.org/3/library/json.html</a></span>
