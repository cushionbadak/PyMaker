<div class="post-text" itemprop="text">
<p>I'm tring to write the one line equivalent to:</p>
<pre><code>if userSet in Cluster.salientGroupCache:
            return Cluster.salientGroupCache[userSet]
</code></pre>
<p>So, i tried:</p>
<pre><code>return Cluster.salientGroupCache[userSet] if userSet in Cluster.salientGroupCache else None
</code></pre>
<p>But this line returns <code>Cluster.salientGroupCache[userSet]</code> or <code>None</code> depnding on the evaluation of the expression.</p>
<p>The following gives me an error:</p>
<pre><code>None if not userSet in Cluster.salientGroupCache else return Cluster.salientGroupCache[userSet]
</code></pre>
<p>Is there a way to selective return a value using inline if, and if not I would appreciate an explanation as to why.</p>
</div>
<div class="post-text" itemprop="text">
<p>You want a 1 line-code? Why? </p>
<p>If it's about style and performance then start by doing only one lookup in <code>Cluster.salientGroupCache</code>:</p>
<pre><code>try:
    return Cluster.salientGroupCache[userSet]
except KeyError:  # or another error (it's a dict, right?)
    pass
</code></pre>
<p>That's probably faster and more pythonic because it follows the <a href="https://docs.python.org/3/glossary.html#term-eafp" rel="nofollow noreferrer">EAFP principle: "Easier to ask for forgiveness than permission."</a></p>
<hr/>
<p>About your exception:</p>
<pre><code>None if not userSet in Cluster.salientGroupCache else return Cluster.salientGroupCache[userSet]
#              that's not allowed in an expression----^^^^^^
</code></pre>
<p>However the:</p>
<pre><code>return Cluster.salientGroupCache[userSet] if userSet in Cluster.salientGroupCache else None
</code></pre>
<p>should work without problems.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can write your first code on one line if you want:</p>
<pre><code>if userSet in Cluster.salientGroupCache: return Cluster.salientGroupCache[userSet]
</code></pre>
<p>This is not great style, but it does exactly what you want. You can't use an <code>if</code> expression for this because <code>return</code> is a statement, and you can't nest a statement inside an expression.</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>If it's not in it, nothing supposes to happen. </p>
</blockquote>
<p>Then what you are doing won't work, when using the <code>return</code> keyword, something gets returned. So just keep it as you originally had it so code can continue to flow if the <code>userSet</code> isn't in the group</p>
<blockquote>
<p>I prefer using inline ifs as the code is shorter.</p>
</blockquote>
<p>This is a very dangerous way to start learning to code.</p>
<p>Yes, you may sometimes look smarter to others but the second they start to realise that your "one-liner" is actually making performance slower, they will be just reverting your code back to the simpler form.</p>
</div>
<span class="comment-copy">What is it supposed to do if the userSet isn't in it? why does this have to be on one line?</span>
<span class="comment-copy">If it's not in it, nothing supposes to happen. I prefer using inline ifs as the code is shorter.</span>
