<div class="post-text" itemprop="text">
<p>Today I came across the following pylint error:</p>
<blockquote>
<p>invalid-all-object (E0604):</p>
<p>Invalid object %r in __all__, must contain only strings Used when an invalid (non-string) object occurs in __all__.</p>
</blockquote>
<p>And I'm quite curious to why is it considered incorrect to expose objects directly?</p>
</div>
<div class="post-text" itemprop="text">
<p>Because it's supposed to be a list of <em>names</em>, not values:</p>
<blockquote>
<p>If the list of identifiers is replaced by a star (<code>'*'</code>), all public names defined in the module are bound in the local namespace for the scope where the <code>import</code> statement occurs.</p>
<p>The <em>public names</em> defined by a module are determined by checking the module’s namespace for a variable named <code>__all__</code>; <strong>if defined, it must be a sequence of strings which are names defined or imported by that module</strong>. The names given in <code>__all__</code> are all considered public and are required to exist. If <code>__all__</code> is not defined, the set of public names includes all names found in the module’s namespace which do not begin with an underscore character (<code>'_'</code>). <code>__all__</code> should contain the entire public API. It is intended to avoid accidentally exporting items that are not part of the API (such as library modules which were imported and used within the module). [<a href="https://docs.python.org/3/reference/simple_stmts.html#the-import-statement" rel="noreferrer">Language Reference</a>]</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>If you expose something other than a string, Python will throw an exception.  This is why pylint gives that error, because the code is incorrect.</p>
<p>File mymodule.py:</p>
<pre><code>def func():
    pass
__all__ = [func]
</code></pre>
<p>Now run:</p>
<pre><code>from mymodule import *
</code></pre>
<p>You will get a <code>TypeError</code>.</p>
<pre>
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: attribute name must be string, not 'function'
</pre>
<p>The reason is that <code>__all__</code> is used to name attributes on the module object.  That's just how the mechanism works.  If you wanted to modify Python's import mechanism so that you could just put objects there, I suppose you could, but it would only work with certain types of objects (functions and classes would work, but constants would not work, and you wouldn't be able to rename functions and classes).</p>
</div>
