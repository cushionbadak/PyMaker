<div class="post-text" itemprop="text">
<p>I have a simple bit of code that goes into aws and grabs some data then prints it out to console</p>
<p>MyCode:</p>
<pre><code>import boto3
from pprint import pprint

ec2 = boto3.resource('ec2')
client = boto3.client('ec2')

#This is the VPC ID and Linked Tags
for vpctags in client.describe_vpcs()['Vpcs']: 
    print("VPC ID: ", vpctags['VpcId']) 
    print("Tags: ", vpctags['Tags'])
    for subnet in client.describe_subnets()['Subnets']:
        print("Subnet ID: ", subnet['SubnetId'])
        print("Subnet ID: ", subnet['Tags'])

###############################################
</code></pre>
<p>I get an error because one or more of my subnets don't have tags:</p>
<blockquote>
<p>print("Subnet ID: ", subnet['Tags']) KeyError: 'Tags'</p>
</blockquote>
<p>I'm not expecting every subnet to have tags so is there a way to simply ignore the lack of tags and just print empty or simply move on? </p>
<p>sorry if this sounds like a silly question, I've searched google and found some ideas but they look a little advanced for what I have.</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes,
You can replace </p>
<pre><code>print("Subnet ID: ", subnet['Tags'])
</code></pre>
<p>with</p>
<pre><code>print("Subnet ID: ", subnet.get('Tags', ''))
</code></pre>
<p>Using get with allow you to define a default value in case Tags doesn't exist</p>
</div>
<div class="post-text" itemprop="text">
<p>Catch the <a href="https://docs.python.org/3/library/exceptions.html#KeyError" rel="nofollow noreferrer"><code>KeyError</code> exception</a>:</p>
<pre><code>try:
    print("Tags: ", vpctags['Tags'])
except KeyError:
    print("Tags: None")
</code></pre>
<hr/>
<p>If the <code>Tags</code> key doesn't exist, it will instead print "None".</p>
</div>
<div class="post-text" itemprop="text">
<p>much better than trapping the exception: use <code>get</code></p>
<pre><code>print("Tags: ", vpctags.get('Tags',"None"))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Another option:</p>
<pre><code>if 'Tags' in subnet:
  print("Subnet ID: ", subnet['Tags'])
</code></pre>
</div>
<span class="comment-copy">Use an exception.</span>
<span class="comment-copy">You're right! :) Saved my day</span>
