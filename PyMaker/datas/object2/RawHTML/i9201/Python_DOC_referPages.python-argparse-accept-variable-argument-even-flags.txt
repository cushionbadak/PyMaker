<div class="post-text" itemprop="text">
<p>I have the following </p>
<pre><code>p = ThrowingArgumentParser()
p.add_argument('action', type=str, choices=actions)
p.add_argument('args', nargs='*')
</code></pre>
<p>This is part of a multi level application. In level one, the command I care about is of the format <code>command other-things-that-will-be-parsed-by-the-sub-module</code> (for example <code>get user john</code>). So I'd except to get <code>action = "get"</code> and <code>args = ["user", "john"]</code>.</p>
<p>So far so good. However, if I include a flag, all hell breaks loose (<code>get user john --detailed</code>). This will return a <code>None</code>. But I want to get the same as before: <code>action = "get"</code> and <code>args = ["user", "john", "--detailed"]</code>.</p>
<p>Why is this failing?</p>
</div>
<div class="post-text" itemprop="text">
<p>I think you can use <code>nargs=argparse.REMAINDER</code>. Please see <a href="https://docs.python.org/3/library/argparse.html#nargs" rel="nofollow noreferrer">https://docs.python.org/3/library/argparse.html#nargs</a>.</p>
</div>
