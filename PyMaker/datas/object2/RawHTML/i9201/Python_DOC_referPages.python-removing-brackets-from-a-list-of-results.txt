<div class="post-text" itemprop="text">
<p>i am retrieving some results from a mysql database and they come in a form separated by brackets. I want to remove the brackets, i have used the strip function but that will only work for when i have one result to display. </p>
<p>The code below will only remove brackets for search results that only have one element. </p>
<pre><code>@QtCore.pyqtSignature("on_pushButton_clicked()")
def searchDBnumber(self):
    searchName = self.searchInput.toPlainText() 

    if len(searchName) != 0:
        searchForName = ("""SELECT number FROM test_table WHERE name =""" + "'"+ searchName +"'")



        cursor.execute(searchForName)

        result = cursor.fetchall()

        result = str(result).strip('[](),')
        self.number.setPlainText(result)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you want to simply remove all brackets from a result, you can use replace() method. The syntax is string.replace(string_to_replace, string_to_replace_with).</p>
<p>eg:</p>
<pre><code>result = str(result).replace("()", "")
</code></pre>
<p>This will need to be done for each bracket type, I believe. So another round for "[]".</p>
<p>Note that after you remove all brackets, splitting a result set to individual rows might be hard if the brackets are the delimiters.</p>
</div>
<div class="post-text" itemprop="text">
<p>After some playing around I found that the results you get back from a mysql query aren't string but tuples so simply trying to remove the brackets doesn't work.</p>
<p>Here's is my example of how I dealt with it, starting with the query:</p>
<pre><code>mycursor.execute("SELECT name1, name2 FROM testdatabase where (name1 REGEXP '^test.*') ")
</code></pre>
<p>I can then loop through the results and print each one like this:</p>
<pre><code>for result in query_results:
    print(result)
</code></pre>
<p>Which gives some results like this:</p>
<pre><code>('test0', 'something0')
('test1', 'something1')
('testing0', 'somethingelse1')
</code></pre>
<p>But I wanted to separate each of those results into both fields so you can do something like this:</p>
<pre><code>for result in query_results:
    part1, part2 = result
    print('{} - {}'.format(part1, part2))
</code></pre>
<p>which will give you output like this:</p>
<pre><code>test0 - something0
test1 - something1
testing0 - somethingelse1
</code></pre>
<p>Rather than just printing these out the plan for my code is to create a json type dictionary that I can easily search.</p>
</div>
<span class="comment-copy">Try: <code>', '.join(map(repr, result))</code>. Can include the output of <code>print(result)</code> in your question?</span>
<span class="comment-copy">Don't ever do this: <code>name =""" + "'"+ searchName +"'"</code> when forming SQL queries. Here lies the path to <a href="https://xkcd.com/327/" rel="nofollow noreferrer">lil Bobby Tables</a>. Use placeholders and pass your arguments to <code>cursor.execute</code>.</span>
<span class="comment-copy">About "the form", <code>fetchall</code> returns a list of tuples (usually). You should format that using <a href="https://docs.python.org/3/library/stdtypes.html#str.join" rel="nofollow noreferrer"><code>str.join</code></a> and <a href="https://docs.python.org/3/library/stdtypes.html#str.format" rel="nofollow noreferrer"><code>str.format</code></a> (for example) to suit your needs, as pointed out by @MYGz.</span>
