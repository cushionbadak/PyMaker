<div class="post-text" itemprop="text">
<p>I have the following method:</p>
<pre><code>def file_search(self, fundCodes, type):
    funds_string = '_'.join(sorted(fundCodes))
    files = set(os.listdir(self.unmappedDir))
    file_match = 'citco_unmapped_{type}_{funds}_{start}_{end}.csv'.format(type=type, funds=funds_string, start=self.startDate, end=self.endDate)
    if file_match in files:
        filename = os.path.join(self.unmappedDir, file_match)
        return self.read_file(filename)
    else:
        Logger.error('No {type} file/s found for {funds}, between {start} and {end}'.format(type=type, funds=fundCodes,
                                                                                            start=self.startDate, end=self.endDate))
</code></pre>
<p>The method is part of a Module that searches for files matching a certain format.  <code>fundCodes</code> would be an array and the rest of the info for the file comes from its initialized variables. </p>
<p>So the method would find a file like this one, if it matches the format:</p>
<p><code>citco_unmapped_trades_PCASPE_PUPSFF_2018-07-19_2018-07-20.csv</code></p>
<p>In my directory. </p>
<p>I was told to look into <a href="https://docs.python.org/3/library/pathlib.html#module-pathlib" rel="nofollow noreferrer"><code>pathlib</code> module</a> since I might be overengeneering this, but I'm not sure how else I could improve the method other than re-writing it with <code>pathlib</code> somehow. Any suggestions would be appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>I ended up re-writing it as so:</p>
<pre><code>def file_search(self, fundCodes, dataType):
    funds_string = '_'.join(sorted(fundCodes))
    file_match = 'citco_unmapped_{type}_{funds}_{start}_{end}.csv'.format(type=dataType, funds=funds_string,
                                                                          start=self.startDate, end=self.endDate)
    unmapped_file = Path(self.unmappedDir, file_match)
    if unmapped_file.exists():
        return self.read_file(unmapped_file)
    else:
        Logger.error('No {type} file/s found for {funds}, between {start} and {end}'.format(type=dataType, funds=fundCodes,
                                                                                            start=self.startDate, end=self.endDate))
</code></pre>
</div>
<span class="comment-copy">btw using built-ins names for your objects (<code>type</code> in particular case) may cause a lot of problems</span>
<span class="comment-copy">Ah good call, i'll change that. Thank you.</span>
<span class="comment-copy">can you provide a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a> so we can copy-paste your class definition and see how we can help</span>
<span class="comment-copy"><code>pathlib</code> is (generally) a good replacement for <code>os.path</code>. If you are simply rewriting the module to pathlib, you might as well use f-string rather than <code>.format</code> imo. If the module is <i>not</i> working, you should point out what the problem is.</span>
