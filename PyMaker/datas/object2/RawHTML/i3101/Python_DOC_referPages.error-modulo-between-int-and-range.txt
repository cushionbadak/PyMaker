<div class="post-text" itemprop="text">
<p>I tried to create a mini-program that counts how many primes there are until some number (the input)</p>
<pre><code>def count_primes(num):
for i in range(num + 1):
    primes = [2]
    if i % range(2,i) != 0:
        primes.append(i)

return len(primes)
</code></pre>
<p>When I ran my program, I got an error:</p>
<pre><code>TypeError: unsupported operand type(s) for %: 'int' and 'range'
</code></pre>
<p>I didn't understand how to correct my program.</p>
</div>
<div class="post-text" itemprop="text">
<p>the problem is with the following line</p>
<pre><code>i % range(2,i)
</code></pre>
<p>what you are trying to do is to apply modulus between an integer and a range. which is not defined by default. </p>
<p>you can implement this by overloading the <code>__mod__(a, b)</code>. But, by default, you can do this between two int's or floats.</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem starts here</p>
<blockquote>
<p>i % range(2,i)</p>
</blockquote>
<p>The variable <code>i</code> is a integer. <code>range(2,i)</code> is a list or a generator, depending on what <code>python</code> version you are using.</p>
<p>You cannot get the remeinder of dividing a number by a list / function.</p>
</div>
<div class="post-text" itemprop="text">
<p>The error tells you that you cannot use the modulo operator with operand of types int and range, which make sense.</p>
<p>I think list comprehension can help you, if you don't know what it is, Wikipedia can help you with the theory (<a href="https://en.wikipedia.org/wiki/List_comprehension" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/List_comprehension</a>) and Python.org with the practical (<a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions</a>).</p>
<p>You should try this instead:</p>
<pre><code>def count_primes(num):
    primes=[]
    for i in range(2,num+1):
        if len([i%n for n in range(1,i+1) if i%n==0])==2:
            primes.append(i)
    return len(primes)
</code></pre>
<p>This code uses a list comprehension to count the number of divisor of i and if this number is 2, it appends i to the list primes.</p>
</div>
<span class="comment-copy">what should <code>i % range(2,i)</code> be in your opinion?</span>
<span class="comment-copy">It means that <code>i % range(2,i)</code> doesn't make sense. You can't divide an integer by a range to find the remainder.</span>
<span class="comment-copy">I think you are using prime sieving but not the right attempt so far.</span>
<span class="comment-copy">... maybe you want <code>any(i%d for d in range(2,i))</code>? Python does not automatically "vectorize" the operation...</span>
<span class="comment-copy">but, how the list will ever equal 0?  What about it?</span>
<span class="comment-copy">You are right, I answer too quickly without testing sorry, I have just edited my answers which should be working well now, let me know if my explanations are unclear.</span>
