<div class="post-text" itemprop="text">
<p>I'm using py2app to pack up my python script as an .app document on mac but find an import error:</p>
<pre><code>Traceback (most recent call last):
File "/Library/Frameworks/Python.framework/Versions/3.7/bin/py2applet", line 7, in &lt;module&gt;
from py2app.script_py2applet import main
File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/py2app/script_py2applet.py", line 13, in &lt;module&gt;
from plistlib import Plist
ImportError: cannot import name 'Plist' from 'plistlib' (/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/plistlib.py)
</code></pre>
<p>And I am try to search this kind of error through google found out no one has ask the same question as mine. Is there any error with my own setting?</p>
</div>
<div class="post-text" itemprop="text">
<p>This is a temporary fix until the new update is released, some time later this month.</p>
<p>Find path to the <code>py2app</code> directory as you will need to change some lines of code in a few files in this directory.</p>
<p>If you have terminal you can find the directory with:</p>
<pre><code>find ~/ -type f -name “*py2app*”
</code></pre>
<blockquote>
<p>FILE 1</p>
</blockquote>
<p>py2app/build_app.py
(line 614)</p>
<p>Replace:</p>
<pre><code>if isinstance(self.plist, plistlib.Dict):

    self.plist = dict(self.plist.__dict__)

else:

  self.plist = dict(self.plist)
</code></pre>
<p>With the following:</p>
<pre><code>if not isinstance(self.plist, dict):

    self.plist = dict(self.plist)
</code></pre>
<blockquote>
<p>FILE 2</p>
</blockquote>
<p>py2app/create_appbundle.py 
(line 26)</p>
<p>Replace: </p>
<pre><code>dirs = [contents, resources, platdir]

plist = plistlib.Plist()

plist.update(kw)

plistPath = os.path.join(contents, 'Info.plist')

if os.path.exists(plistPath):

    if plist != plistlib.Plist.fromFile(plistPath):

        for d in dirs:

            shutil.rmtree(d, ignore_errors=True)

for d in dirs:

    makedirs(d)

plist.write(plistPath)
</code></pre>
<p>With the following:</p>
<pre><code>dirs = [contents, resources, platdir]

plistPath = os.path.join(contents, 'Info.plist')

if os.path.exists(plistPath):

    for d in dirs:

        shutil.rmtree(d, ignore_errors=True)

for d in dirs:

    makedirs(d)

plistlib.writePlist(kw, plistPath)
</code></pre>
<blockquote>
<p>FILE 3</p>
</blockquote>
<p>py2app/script_py2applet.py
(line 13)</p>
<p>Replace:</p>
<pre><code>from plistlib import Plist
</code></pre>
<p>With the following:</p>
<pre><code>import plistlib
</code></pre>
<p>Also, replace (line 115)</p>
<pre><code>plist = Plist.fromFile(fn)
</code></pre>
<p>With the following:</p>
<pre><code>plist = plistlib.fromFile(fn)
</code></pre>
<p>Then you can finally create the setup.py file in your app directory with:</p>
<pre><code>py2applet --make-setup my_project.py
</code></pre>
<p>And build the standalone app with:</p>
<pre><code>python setup.py py2app -A
</code></pre>
<p>Contribution to <a href="https://bitbucket.org/ronaldoussoren/py2app/issues/242/py2app-incompatible-with-new-python-37#comment-46869960" rel="nofollow noreferrer">this guy</a> for most of the code above. </p>
<p>The reason for this issue is due to Plist being depreciated in python3.7. <a href="https://docs.python.org/3/whatsnew/3.7.html" rel="nofollow noreferrer">See python docs</a></p>
</div>
