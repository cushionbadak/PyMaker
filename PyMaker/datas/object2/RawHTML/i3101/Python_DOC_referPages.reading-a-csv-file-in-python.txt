<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/3906137/why-cant-i-call-read-twice-on-an-open-file">Why can't I call read() twice on an open file?</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/36572993/python-the-second-for-loop-is-not-running">Python : The second for loop is not running</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
<li>
<a dir="ltr" href="/questions/11150155/why-cant-i-repeat-the-for-loop-for-csv-reader">Why can't I repeat the 'for' loop for csv.Reader?</a>
<span class="question-originals-answer-count">
                    2 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/36561963/for-loop-not-working-twice-on-the-same-file-descriptor">For loop not working twice on the same file descriptor [duplicate]</a>
<span class="question-originals-answer-count">
                    3 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/10255273/iterating-on-a-file-using-python">Iterating on a file using Python</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>I want to open and read file Mappe1.csv but it is not working. I am using Python 3.6.5 Anaconda. I do not know what I am doing wrong. Any ideas?</p>
<p>File Mappe1.csv contains:</p>
<pre><code>A;B;C
1;4;7
2;5;8
3;6;9
</code></pre>
<p>The python code for opening Mappe1.csv looks like the following:</p>
<pre><code>import csv


class CSVAdapter:
    def read_csv(self):
        with open("C:/Users/User/PycharmProjects/General/DesignUploader/Mappe1.csv") as file:
            dialect = csv.Sniffer().sniff(file.read(1024))
            csv_file = csv.reader(file.readlines(), dialect, quotechar='"')
            print("A")
            csv_file_list = []
            for row in file:
                print("B")
            for row in csv_file:
                print("C")
                csv_file_list.append(row)
        return csv_file_list
</code></pre>
<p>The printout is "A" only. "B" and "C" does not get printed which leads me to the conclusion that the file was not read correctly.</p>
<p>Are there any python/windows settings required to allow Python to read a file?</p>
<p>Thank you for your help!</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to supply to <code>csv.reader</code> file object, not <code>file.readlines()</code>. If you want to print Bs, you need to seek to the beginning of file, similar with the Cs.</p>
<pre><code>import csv

def read_csv():
    with open("data.csv") as file:
        dialect = csv.Sniffer().sniff(file.read(1024))
        csv_file = csv.reader(file, dialect, quotechar='"')

        print("A")
        csv_file_list = []

        file.seek(0)

        for row in file:
            print("B")

        file.seek(0)

        for row in csv_file:
            print("C")
            csv_file_list.append(row)
    return csv_file_list

print(read_csv())
</code></pre>
<p>Prints:</p>
<pre><code>A
B
B
B
B
C
C
C
C
[['A', 'B', 'C'], ['1', '4', '7'], ['2', '5', '8'], ['3', '6', '9']]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>csv.reader takes a file object as first parameter, not a list which is what file.readlines() returns.</p>
<p>So your line:</p>
<pre><code>csv_file = csv.reader(file.readlines(), dialect, quotechar='"')
</code></pre>
<p>should be:</p>
<pre><code>csv_file = csv.reader(file, dialect, quotechar='"')
</code></pre>
<p>your for loop to print('B') should be:</p>
<pre><code>for row in file.readlines():
    print('B')
</code></pre>
<p>your for loop to print('C') should work fine like it is although it is worth noting that you could directly set csv_file_list = list(csv_file). And you should reset your file to the first line with:</p>
<pre><code>file.seek(0)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I use <code>pandas</code> for reading csvs when working with data. The code is very simple, and outputs the answer into a pandas <code>DataFrame</code>. </p>
<p><code>import pandas</code></p>
<p><code>df = pandas.read_csv('C:/Users/User/PycharmProjects/General/DesignUploader/Mappe1.csv')</code></p>
<p><code>df</code></p>
</div>
<div class="post-text" itemprop="text">
<p>In your code, you are only printing <code>A</code>, <code>B</code>, or <code>C</code>. Try printing the whole line instead. You will see that the <code>row</code> in <code>cvs_file</code> is an object where we are only accessing one part of it. From <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">the docs</a>, see the example:</p>
<pre><code> &gt;&gt;&gt; import csv
 &gt;&gt;&gt; with open('eggs.csv', newline='') as csvfile:
 ...     spamreader = csv.reader(csvfile, delimiter=' ', quotechar='|')
 ...     for row in spamreader:
 ...         print(', '.join(row))
 Spam, Spam, Spam, Spam, Spam, Baked Beans
 Spam, Lovely Spam, Wonderful Spam
</code></pre>
<p>From this example, try:</p>
<pre><code> for row in csv_file:
     print(','.join(row))
</code></pre>
<p>instead.</p>
<p>Finally, you will want to change the way the files are being read. Your <code>cvs_files</code> is using <code>delimiter</code> of <code>;</code>. Try that instead of the <code>dialect</code>. And your <code>file</code> does not actually have any property <code>row</code>. You will need to </p>
<pre><code>lines = file.readlines()
</code></pre>
</div>
<span class="comment-copy">That call to <code>read(1024)</code> reads the whole file, leaving nothing left to read. Then you call <code>readlines()</code>, which also reads the whole file, or would if there were anything left. Then <code>for row in file:</code> also reads the whole file. And, of course, so does <code>for row in csv_file:</code>.</span>
