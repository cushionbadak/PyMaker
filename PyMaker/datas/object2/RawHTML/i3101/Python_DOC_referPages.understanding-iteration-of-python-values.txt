<div class="post-text" itemprop="text">
<p>i need help understanding why i cant iterate through the ls -ltcrd output which im storing in a variable:</p>
<pre><code>def test():
    tmplist = os.system('ls -ltcrd /tmp/*')
    tmplist.split(' ')[:1]  #trying to grab the last column here

print test()
</code></pre>
<p>What I'm trying to do with the above python code is equivalent to this in shell:</p>
<pre><code>ls -ltcrd /tmp/* | awk '{print $NF}'
</code></pre>
<p>Note that the output contains the absolute path of all the files under /tmp.  </p>
<p>Ideally, Id like to avoid calling any external utilities.  But running it as shown above seems to be the simplest way to get what i want.  </p>
<p>not even sure if "iteration" is the right term to use to describe this.  </p>
</div>
<div class="post-text" itemprop="text">
<p>Try something like this...</p>
<pre><code>import subprocess
import os

# use the subprocess module to get the output of the command
def test(path):
    tmplist = subprocess.check_output(['ls', '-ltcrd', path])
    return tmplist.split()[-1:][0]

# get every filename under /tmp/
files = os.listdir('/tmp/')

# iterate over every filename, and run 'test'
for file in files:
    x = test('/tmp/' + file)
    print(x)
</code></pre>
</div>
<span class="comment-copy">Your function <code>test</code> returns <code>None</code> because there is no <code>return</code> statement</span>
<span class="comment-copy">Read the documentation for <a href="https://docs.python.org/3/library/os.html#os.system" rel="nofollow noreferrer"><code>os.system</code></a>.  It returns the exit code of the command.</span>
<span class="comment-copy">Also, <code>[:1]</code> grabs the <b>first</b> element, not the last</span>
<span class="comment-copy">@PatrickHaugh and is deprecated..</span>
<span class="comment-copy">There are other functions in the <code>os</code> module that can, for instance, list directories.</span>
