<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/8006551/how-to-split-long-regular-expression-rules-to-multiple-lines-in-python">How to split long regular expression rules to multiple lines in Python</a>
<span class="question-originals-answer-count">
                    6 answers
                </span>
</li>
</ul>
</div>
<p>I have a regex for email in python like this, whole regex in single line and it works perfectly</p>
<pre class="lang-python prettyprint-override"><code>emailRegEx = re.compile(
    r"""(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])"""
)
</code></pre>
<p>But when I try to split it into multiple lines it won't match anything, eg:</p>
<pre class="lang-python prettyprint-override"><code>emailRegEx = re.compile(
    r"""
    (?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])
    """
)
</code></pre>
<p>As shown above even if I put one newline in the string it won't match any emails and I get an empty list. I have tried many things changing indentation and stuff but as soon as there is a newline anywhere between the triple quotes the regex stops working.<br/>
I am using VS Code.</p>
<p>EDIT:<br/>
Thanks to everyone for the comments and answer, its working now, here is my working code:</p>
<pre><code>emailRegEx = re.compile(
    r"""
    (?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])
    """
    , re.X)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/re.html#re.X" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html#re.X</a> is what you are looking for I think:</p>
<blockquote>
<p>This flag allows you to write regular expressions that look nicer and
  are more readable by allowing you to visually separate logical
  sections of the pattern and add comments. Whitespace within the
  pattern is ignored [...]</p>
</blockquote>
</div>
<span class="comment-copy">The second regex starts and ends with a line break... And it's also indented, which means it contains a bunch of spaces...</span>
<span class="comment-copy">Add <a href="https://docs.python.org/2/library/re.html#re.X" rel="nofollow noreferrer"><code>re.X</code></a> as the second argument and escape <code>#</code> (and literal whitespaces if you have any or are going to add any).</span>
<span class="comment-copy">FYI, <a href="https://stackoverflow.com/a/10660443/6345404">stackoverflow.com/a/10660443/6345404</a> if you want multi line string, the third code snippet in the answer might be useful for you.</span>
<span class="comment-copy">The regex doesn't look particularly good. Where did you get it from and what is it supposed to accomplish?</span>
<span class="comment-copy">Thanks everyone, its working now. Sorry about duplicate question, I searched a lot but couldn't find the answer.</span>
<span class="comment-copy">Thanks it works.</span>
