<div class="post-text" itemprop="text">
<p>I've created a program that takes data from a .txt files and uses a series of regular expressions to turn it into useful information that can go into a Pandas Dataframe. When I was testing this program, I was simply copying and pasting bits of the data from the .txt files into variables in Python, rather than uploading the entire .txt files. But now that I've finished all the testing, I can't figure out how to get the .txt files uploaded in a useful way. </p>
<p>I tried in both Google Colab and Jupyter Notebook. Here is the code for JN: </p>
<pre><code>file1 = open("sample_file.txt","r")
file1.readlines()
</code></pre>
<p>Unfortunately, I get output that looks like gibberish (though might be hexadecimal). </p>
<pre><code>'ÿþG\x00a\x00m\x00e\x00 \x00s\x00t\x00a\x00r\x00t\x00e\x00d\x00 \x00a\x00t\x00:\x00 \x002\x000\x001\x008\x00/\x007\x00/\x002\x001\x00 \x006\x00:\x003\x003\x00:\x001\x004\x00\n'
</code></pre>
<p>How do I fix this and make it readable so my program will run on it? </p>
</div>
<div class="post-text" itemprop="text">
<p>The data in the file is encoded as UTF-16, little-endian. The fact that every other byte is a null byte (<code>\x00</code>) is a strong hint that some variant of UTF-16 is involved.</p>
<p>Pass the <code>open</code> function an encoding argument to decode the data.</p>
<pre><code>file1 = open("sample_file.txt","r", encoding="utf-16-le")
file1.readlines()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try to add encoding to your code.</p>
<pre><code>open(Filename, 'r', encoding='utf-8')
</code></pre>
<p>See more here: <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">https://docs.python.org/3/library/functions.html#open</a> </p>
<p>(Copied from this response:
<a href="https://stackoverflow.com/questions/491921/unicode-utf-8-reading-and-writing-to-files-in-python">Unicode (UTF-8) reading and writing to files in Python</a>)</p>
</div>
<span class="comment-copy">At a guess the file is encoded as utf16, but the fragment that you have provided isn't valid utf16 (perhaps you have truncated a larger fragment?).  So you try passing <code>open</code> an <code>encoding</code> argument of <code>'utf-16-le'</code> or <code>'utf-16-be'</code>.</span>
<span class="comment-copy">'utf-16-le' worked. Thanks!  I copied just the first line, so maybe I truncated it.</span>
<span class="comment-copy">Looks like it was 'utf-16-le', but you and snakecharmerb got me on the right track. Thanks!</span>
