<div class="post-text" itemprop="text">
<p>I'm a python beginner trying to make a game of blackjack, and have been continuously getting multiple keyerrors regarding this code</p>
<pre><code>def rank(rank):
    rank={
        '2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'10':10,'Jack':10,
       'King':10,'Queen':10,'Ace':1}
    return random.choice(rank)
</code></pre>
<p>The error occurs when I try calling the function like this</p>
<pre><code>def draw_card(card):
    card_rank=Card.rank(rank)
    card_suit=Card.suit(suit)
    card={card_suit:card_rank}
    return card
</code></pre>
<p>to try and use the 'rank' function in class 'Card' to apply attributes to a new 'card' variable</p>
</div>
<div class="post-text" itemprop="text">
<p><code>random.choice</code> takes a <code>list</code> (or <code>tuple</code>) in input (it needs integer-indexable objects).</p>
<p>So just convert <code>rank</code> dictionary (the values, it is) to a <code>list</code> then pick a value: like this (I've created a new function because the <code>rank(rank)</code> bit made no sense, you don't need a parameter to pick a card:</p>
<pre><code># globally defined (constant), pointless to define it locally, you may
# need it in another part of the program
rank={'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'10':10,'Jack':10,
   'King':10,'Queen':10,'Ace':1}

def pick():       
    return random.choice(list(rank.values()))
</code></pre>
<p><code>list(rank.values())</code> is <em>required</em> in python 3, dictionary values are no longer of <code>list</code> type. Maybe you want to pre-compute this list to save computation time.</p>
</div>
<span class="comment-copy">Why are you calling <code>random.choice</code> on a dict, and why is everything in the <code>rank</code> function named <code>rank</code>?</span>
<span class="comment-copy">You should make a <code>Card</code> class, instantiate 52 <code>Card</code> objects in a list, and then <a href="https://docs.python.org/3/library/random.html#random.shuffle" rel="nofollow noreferrer"><code>random.shuffle</code></a> it.</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/4859292/how-to-get-a-random-value-in-python-dictionary">How to get a random value in python dictionary</a></span>
<span class="comment-copy">Is this the exact code you are trying to run? Because it's full of syntactical and logical errors.</span>
<span class="comment-copy">Even with the <code>list</code> call, the fact that a dict is involved at all is pointless, and generating new random cards on demand is probably inappropriate in the first place.</span>
<span class="comment-copy">yep, but the dict may be used somewhere else, I made it global</span>
<span class="comment-copy">Thank you, this has been helpful. I do need the rank as a dictionary, though, so that I can return to the user the rank+suit of their card (e.g. "Ace of Spades") and keep the blackjack value of each card assigned to it's name.</span>
