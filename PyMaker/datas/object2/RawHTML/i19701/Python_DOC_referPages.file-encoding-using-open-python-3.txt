<div class="post-text" itemprop="text">
<p>I have a script which uses open() to create multiple files.
All files are created successfully and it seems that there are no problems,
but when attempting to run res.py, it crashes displaying following error:</p>
<pre><code>  File "C:\Users\Mirac\Python\res.py", line 38
SyntaxError: Non-UTF-8 code starting with '\xd7' in file C:\Users\Mirac\Python\res.py on line 38, but no encoding declared;
</code></pre>
<p>When opening file through IDLE, I get 'Specify file encoding' window:</p>
<pre><code>The file's encoding is invalid for Python 3.x. 
IDLE will convert it to UTF-8.
What is current encoding of the file?
</code></pre>
<p>This is line 38 of res.py:</p>
<pre><code>print("Configuration file updated.")
</code></pre>
<p>So, can I set encoding to file during creation, something like this:</p>
<pre><code>open("res.py", "w").encoding("UTF-8")
with open("res.py", "a") as file:
    file.write("File contents here")
</code></pre>
<p>If not, how can I fix this problem?</p>
</div>
<div class="post-text" itemprop="text">
<p>This is not a problem with how you open and write files in Python. It's a problem with Python trying to read your python <em>source</em> files. You need to specify an encoding for your <em>source</em> file so that Python can read the <code>.py</code> file correctly.</p>
<p>You need to figure out what encoding your editor used when writing this file. Add that as a comment to the top of the file (first or second line):</p>
<pre><code># coding: latin-1
</code></pre>
<p>See the <a href="http://docs.python.org/3/howto/unicode.html#unicode-literals-in-python-source-code" rel="nofollow">Unicode Literals in Python Source Code</a> section of the Python Unicode HOWTO.</p>
<p>Note that the error message you gave is not complete, the following text is part of that:</p>
<pre><code>see http://www.python.org/peps/pep-0263.html for details
</code></pre>
<p>The <a href="http://www.python.org/peps/pep-0263.html" rel="nofollow">linked PEP 263</a> explains source code encoding in more detail.</p>
</div>
<span class="comment-copy">Note that you missed out a crucial part of the error message: <code>see http://www.python.org/peps/pep-0263.html for details</code> is missing. Did you look at that URL at all?</span>
<span class="comment-copy">thanks. how come does only this one not work? other files work fine...</span>
<span class="comment-copy">Tried adding that line. Didn't work... Any ideas?</span>
<span class="comment-copy">@Mirac7: It's not a panacea, there may be other errors, or you could have your encoding incorrect. Without the full contents of your file, it's hard to tell what is going wrong.</span>
