<div class="post-text" itemprop="text">
<p>The user will input either hostname or the IP address. If the user enters the IP address, I want to leave as it is but if the user enters the hostname I want to convert it into IP address using the following method:</p>
<pre><code>def convert(hostname):
    command = subprocess.Popen(['host', hostname],
                           stdout=subprocess.PIPE).communicate()[0]

    progress1 = re.findall(r'\d+.', command)
    progress1 = ''.join(progress1)
    return progress1 
</code></pre>
<p>How do I do it?</p>
</div>
<div class="post-text" itemprop="text">
<p>To get ip whether input is ip or hostname:</p>
<pre><code>ip4 = socket.gethostbyname(ip4_or_hostname)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you can use a regex to match your input and test if it is a ip address or not</p>
<pre><code>test = re.compile('\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b')
result = test.match(hostname)
if not result:
    # no match -&gt; must be an hostname #
    convert(hostname)
</code></pre>
<p>that regex allows invalid ip addresses (like 999.999.999.999) so you may want to tweak it a bit, it's just a quick example</p>
</div>
<div class="post-text" itemprop="text">
<p>There are a number of questions on stackoverflow already about validating an IP address. </p>
<ol>
<li><a href="https://stackoverflow.com/questions/10086572/ip-address-validation-in-python-using-regex">IP Address validation in python</a></li>
<li><a href="https://stackoverflow.com/questions/319279/how-to-validate-ip-address-in-python">Validating IP Addresses in python</a></li>
</ol>
<p>I would like to ask why you are communicating with a subprocess when you can do this within the standard python library.</p>
<p>I would recommend resolving a host name into a IP address by using some of pythons built in functionality. </p>
<p>You can do this by importing and using the <a href="http://docs.python.org/2/library/socket.html#socket.gethostbyname" rel="nofollow noreferrer">python sockets library</a></p>
<p>For example using the code found in link 1:</p>
<pre><code>import socket
import re
regex = re.compile(r"^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$")
result = regex.match(address)
if not result:
    address = socket.gethostbyname(address)
</code></pre>
</div>
<span class="comment-copy">Look in this <a href="http://stackoverflow.com/questions/319279/how-to-validate-ip-address-in-python">thread</a>.</span>
<span class="comment-copy">I already have a method to validate if the user input IP address is valid or not.</span>
<span class="comment-copy">so, you have the validation method and the conversion method, you just need to combine them, what's the real problem then?</span>
<span class="comment-copy">Before posting this question I didn't have the conversion method. Now, I do have this function socket.gethostbyname(ip4_or_hostname) but this is not working in my code.</span>
<span class="comment-copy">Note that it doesn't cover IPv6 addresses. On Python3, you can use <a href="https://docs.python.org/3/library/ipaddress.html" rel="nofollow noreferrer">docs.python.org/3/library/ipaddress.html</a></span>
