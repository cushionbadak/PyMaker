<div class="post-text" itemprop="text">
<p>I have a Python 3 file. I want to use an open-source tool on the internet (nltk), but unfortunately it only supports Python 2. There is no way for me to convert it to Python 3, nor can I convert my Python 3 file to Python 2.</p>
<p>If the user does not give a certain argument (on argparse) then I do something in my file. If the user does give a certain argument, however, I need to use nltk.</p>
<p><strong>Writing a Python 2 script that uses nltk and then executing script that in my Python 3 script</strong></p>
<p>My current idea is to write a script in Python 2 that does what I want with nltk and then run that from my current Python 3 script. However, I don't actually know how to do this.
I found this code: <code>os.system(command)</code> and so I will modify it to be <code>os.system("python py2.py")</code> (where py2.py is my newly written Python 2 file).
I'm not sure if that will work.</p>
<p>I also don't know if that is the most efficient way to solve my problem. I cannot find any information about it on the internet.</p>
<p>The data transferred will probably be quite large. Currently, my test data is about 6600 lines, utf-8. Functionality is more important than how long it takes (to a certain extent) in my case.</p>
<p>Also, how would I pass values from my Python 2 script to my Python 3 script?</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>Is there any other way to do this?</p>
<p>Well, if you're <em>sure</em> you can't convert your script to Python 2, then having one script call the other by running the Python interpreter probably is the <em>best</em> way. (And, this being Python, the best way is, or at least should be, the only way.)</p>
<p>But are you sure? Between the <a href="http://packages.python.org/six/" rel="nofollow"><code>six</code></a> module, the <a href="http://wiki.python.org/moin/3to2" rel="nofollow"><code>3to2</code></a> tool, and <a href="http://docs.python.org/2/library/__future__.html" rel="nofollow"><code>__future__</code></a> statements, it may not be as hard as you think.</p>
<p>Anyway, if you <em>do</em> need to have one script call the other, you should almost never use <code>os.system</code>. As the <a href="http://docs.python.org/3/library/os.html#os.system" rel="nofollow">docs</a> for that function say:</p>
<blockquote>
<p>The <code>subprocess</code> module provides more powerful facilities for spawning new processes and retrieving their results; using that module is preferable to using this function. See the Replacing Older Functions with the subprocess Module section in the subprocess documentation for some helpful recipes.</p>
</blockquote>
<p>The simplest version is this:</p>
<pre><code>subprocess.check_call(["python", "py2.py"])
</code></pre>
<p>This runs your script, waits for it to finish, and raises an exception if the script returns failureâ€”basically, what you wanted to do with <code>os.system</code>, but better. (For example, it doesn't spawn an unnecessary extra shell, it takes care of error handling, etc.)</p>
<p>That assumes whatever other data you need to share is being shared in some implicit, external way (e.g., by accessing files with the same name). You might be better off passing data to <code>py2.py</code> as command-line arguments and/or <code>stdin</code>, passing data back as via <code>stdout</code>, or even opening an explicit pipe or socket to pass things over. Without knowing more about exactly what you need to do, it's hard to suggest anything, but the docs, especially the section <a href="http://docs.python.org/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module" rel="nofollow">Replacing Older Functions with the <code>subprocess</code> Module</a> have lots of discussion on the options.</p>
<p>To give you an idea, here's a simple example: to pass one of your filename arguments to <code>py2.py</code>, and then get data back from <code>py2.py</code> to <code>py3.py</code>, just have <code>py3.py</code> do this:</p>
<pre><code>py2output = subprocess.check_output(["python", "py2.py", my_args[0]])
</code></pre>
<p>And then in <code>py2.py</code>, just <code>print</code> whatever you want to send back.</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://stackoverflow.com/questions/6501271/anyone-hear-when-nltk-3-0-will-be-out">Anyone hear when NLTK 3.0 will be out?</a> here in SO points out that...</p>
<blockquote>
<p>There's a Python 3 branch:</p>
<p><a href="https://github.com/nltk/nltk/tree/nltk-py3k" rel="nofollow noreferrer">https://github.com/nltk/nltk/tree/nltk-py3k</a></p>
</blockquote>
<p>The answer is from July 2011. It could be improved since then.</p>
<p>I have just looked at <a href="https://github.com/nltk/nltk" rel="nofollow noreferrer">https://github.com/nltk/nltk</a>. There is at least the document that talks about Python 3 port related things <a href="https://github.com/nltk/nltk/blob/2and3/web/dev/python3porting.rst" rel="nofollow noreferrer">https://github.com/nltk/nltk/blob/2and3/web/dev/python3porting.rst</a>.</p>
<p><a href="https://groups.google.com/forum/#!topic/nltk-dev/BW2VkTyKoAw" rel="nofollow noreferrer">Here is a longer discussion</a> on NLTK and Python 3 that you may be interested in.</p>
<p>And the <a href="http://pyfound.blogspot.hu/2012/11/grants-to-assist-kivy-nltk-in-porting.html" rel="nofollow noreferrer">Grants to Assist Kivy, NLTK in Porting to Python 3</a> (published 3 days ago) is directly related to the problem.</p>
</div>
<span class="comment-copy">That depends on what kind of data you need to transfer between your scripts. But that's probably the best way to handle this for now.</span>
<span class="comment-copy">I'm curious why you can't translate your script to py 2.  Do you know about 3to2?</span>
<span class="comment-copy">"nor can I convert my Python 3 file to Python 2." - Why not? Doing so it usually fairly trivial.</span>
<span class="comment-copy">I tried <code>py2output = subprocess.check_output(['python', "py2.py","-i a.txt"])</code> but it just prints out `-i a.txt" (my arguments).</span>
<span class="comment-copy">@user1925847: What is the "it" there? You need to be a bit clearer. Also, do you actually want <code>"-i a.txt"</code> to be a single argument, rather than <code>"-i"</code> and <code>"a.txt"</code> as separate arguments?</span>
