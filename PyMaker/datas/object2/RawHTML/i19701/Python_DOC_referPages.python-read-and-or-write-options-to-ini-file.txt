<div class="post-text" itemprop="text">
<p>I need some help with some (basic) python code:</p>
<pre><code>from ConfigParser import SafeConfigParser
import os
inifile=os.path.basename(__file__)+".ini"

def GetOption(Section, Option, Default):
 while True:
  parser=SafeConfigParser()
  f=open(inifile,"w")
  f.close()
  parser.read(inifile)
  if parser.has_section(Section):
   if parser.has_option(Option):
    Output=parser.get(Section, Option)
    break
   else: parser.set(Section, Option, str(Default))
  else: parser.add_section(Section)
 return Output

Rate=GetOption("MAIN","Rate",0.2208)
Currency=GetOption("MAIN","Currency","euros")
</code></pre>
<p>What I'm trying to make it do is read from a .ini file (sharing the same name as the script) and create it if it does not exist.</p>
<p>Likewise, it would then read the Section and create it if it does not exist.
Same for the Option it's reading, and if that does not exist, set the option to Default.</p>
<p>As is, it creates the file, but it is empty and therefore it does not read anything and doesn't break the while loop.</p>
<p>I'm pretty new to python and have never used the ConfigParser module, which may be why I'm stuck (or because I'm missing something blatantly obvious)</p>
<p>Either way, I'd appreciate any help given.</p>
</div>
<div class="post-text" itemprop="text">
<p>You're never actually writing to the config file. Take a look at <a href="http://docs.python.org/3/library/configparser.html#examples" rel="nofollow noreferrer">http://docs.python.org/3/library/configparser.html#examples</a> for some usage patterns.</p>
</div>
<span class="comment-copy">Sorry, but you're doing it all wrong. Please review the Python tutorial first which is at <a href="http://docs.python.org/2/tutorial/" rel="nofollow noreferrer">docs.python.org/2/tutorial</a> , and familiarize yourself with conventions. Then expand upon the existing usage pattern examples.</span>
