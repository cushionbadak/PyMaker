<div class="post-text" itemprop="text">
<p>I have a Python script where I would like to force all required arguments to be named (non-positional).</p>
<p>So the following should work:</p>
<p><code>python myscript --arg1 arg1 --arg2 arg2
 python myscript --arg2 arg2 --arg1 arg1</code></p>
<p>But the following should fail:</p>
<p><code>python myscript arg1 arg2
 python myscript --madeUpArg arg1 --arg2 arg2</code></p>
<p>From what I can tell, in argparse if you make something required, it becomes a positional argument, so both of the second examples that I want to fail will succeed (even the second case, with the made up argument!). How do I get desired functionality?</p>
</div>
<div class="post-text" itemprop="text">
<p>No argument you haven't defined will be accepted as long as you don't call <code>parse_known_args</code> explicitly.</p>
<p>To make an otherwise optional argument required, use the <code>required</code> keyword argument when defining it.</p>
<pre><code>p = argparse.ArgumentParser()
p.add_argument("--arg1", required=True)
p.add_argument("--arg2", required=True)
</code></pre>
</div>
<span class="comment-copy">I'd point out that there's a somewhat common convention that required arguments should be positional, and switches (the ones with dashes like <code>--arg1</code>) should be optional. Not to say you have to do it that way, but just be aware that you'll be throwing some people a curveball, so to speak - they may not expect the program to require non-positional arguments.</span>
<span class="comment-copy">This  <code>required</code> paragraph doesn't say it becomes a <code>positional</code>, <a href="https://docs.python.org/3/library/argparse.html#required" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#required</a>.  Have you experimented with the <code>required</code> parameter?</span>
<span class="comment-copy">Use an <code>argument_group</code> <a href="https://docs.python.org/3/library/argparse.html#argument-groups" rel="nofollow noreferrer">docs.python.org/3/library/argparse.html#argument-groups</a>, if you don't like how the <code>help</code> labels your required named arguments.</span>
<span class="comment-copy">I realized that part of what was confusing me is that the argument parser will by default accept any unambiguous prefix for an argument. E.g. if you have just one argument <code>--arg1</code> it will accept <code>--ar</code>. This made me think it was not properly requiring the arguments.</span>
