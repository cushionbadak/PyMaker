<div class="post-text" itemprop="text">
<p>I have rows of values in a text file which looks like this:</p>
<pre><code>2,3,4,2
4,5,6,3
2,3,4,1
</code></pre>
<p>I want to be able to sum them in rows:</p>
<p>Eg,</p>
<pre><code>row1 = 11
row2 = 18
row3 = 10
</code></pre>
<p>I have tried to add all the lines in a multi dimensional array, however I am having difficulties. I have tried the codes below:</p>
<pre><code>allVotes=[]
fo=open('Votes.txt','r')

for line in fo:
  line=line.strip()
  parts=line.split(',')
  eachLine=int(line)
  allVotes.append(eachLine)
print(allVotes)
</code></pre>
<p>However, each line is not an integer. Any other ways to solve this?</p>
</div>
<div class="post-text" itemprop="text">
<p>To get it into a 2-D array try this</p>
<pre><code>all_values = []
with open('Votes.txt', 'rt') as file:
    for line in file:
        line = list(map(int, string.split(",")))
        all_values.append(line)
</code></pre>
<p>Or you could do something like this to get the sum of each line in a 1d array.</p>
<pre><code>def get_results(filename):

    def sum_line(line):
        return sum(map(int, line.split(",")))

    with open(filename, 'rt') as file:
        return [sum_line(line) for line in file]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can not convert a list of strings to list of integers with int() call on that list, you need to convert each value separately since <a href="https://docs.python.org/3/library/functions.html#int" rel="nofollow noreferrer">int()</a> function accepts strings only.</p>
<p>To do that you can use <a href="https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehensions</a> or <a href="https://docs.python.org/3/library/functions.html#map" rel="nofollow noreferrer">map function</a>:</p>
<pre><code># List comprehension
eachLine = [int(s) for s in line]

# using map function
eachLine = list(map(int, line))
</code></pre>
<p>You can call <a href="https://docs.python.org/3/library/functions.html#sum" rel="nofollow noreferrer">sum()</a> on these lists to get the sums. So, in your case results can be achieved by the following code:</p>
<pre><code>fo=open('Votes.txt','r')

for line in fo:
    vote_sums = sum([int(s) for s in line.strip().split(',')])
    print(vote_sums)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this one:    </p>
<pre><code>fo=open('rank.txt','r')
for line in fo:
    l=list(map(int,line.split(",")))
    sm=sum(l[0:len(l)])
    print (sm)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>sum(map(lambda x: int(x), raw_input().split(',')))</code></p>
</div>
<div class="post-text" itemprop="text">
<p>Using <strong>pandas</strong> we can do this in a single-row operation.</p>
<pre><code>s = u"""2,3,4,2
4,5,6,3
2,3,4,1"""

import io
import pandas as pd

l = pd.read_csv(io.StringIO(s),header=None).sum(axis=1).tolist()
#l = pd.read_csv("path/to/file.csv",header=None).sum(axis=1).tolist()
</code></pre>
<p>l returns:</p>
<pre><code>[11, 18, 10]
</code></pre>
<p>With pandas we can also export to dictionaries:</p>
<pre><code>df = pd.read_csv(io.StringIO(s),header=None).sum(axis=1)
df.index = ("row {}".format(i+1) for i in range(len(df)))
d = df.to_dict()
</code></pre>
<p>d returns</p>
<pre><code>{'row 1': 11, 'row 2': 18, 'row 3': 10}
</code></pre>
</div>
<span class="comment-copy">After <code>parts=line.split(',')</code>, you need to <code>sum(map(int, parts))</code> to get the sum of current ints in the line.</span>
