<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/39086/search-and-replace-a-line-in-a-file-in-python">Search and replace a line in a file in Python</a>
<span class="question-originals-answer-count">
                    13 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/17140886/how-to-search-and-replace-text-in-a-file-using-python">How to search and replace text in a file using Python?</a>
<span class="question-originals-answer-count">
                    12 answers
                </span>
</li>
</ul>
</div>
<p>I have the text file (input.txt)</p>
<pre><code>*HEADING
*NODE, NSET=ALLNODES
   1,   0.000000e+00,   0.000000e+00,   0.000000e+00
   2,   2.500000e-01,   0.000000e+00,   0.000000e+00
*ELEMENT, TYPE=S9R5, ELSET=EB1
  ...
  ...
  ...
  ...
 **
 * END OF FILE
</code></pre>
<p>My goal is replace all the lines between the lines (<code>*ELEMENT, TYPE=S9R5, ELSET=EB1</code>) and (<code>**</code>) with a new lines.</p>
<p>and keep the rest of the file unchanged. Any solution using: <code>open('input.txt', 'w') as f1:</code> would erase everything in the file and write the new two lines and this is not the thing I need.</p>
</div>
<div class="post-text" itemprop="text">
<p>This should do the job:</p>
<pre><code>text = open("input.txt", "r").read()
with open("input.txt", "w") as f:
    for line in text.split("\n"):
        if "line 1" in line:
           line = line.replace("line 1", "line 3")
        elif "line 2" in line:
           line = line.replace("line 2", "line 4")
        f.write(line + "\n")
</code></pre>
<p>I copied out your <code>file</code> into a <code>file</code> named <code>input.txt</code> and tested the <code>code</code> exactly and it gave the right <code>output</code> (i.e. changed the <code>file</code> in the intended way), so hopefully it works for you too!</p>
</div>
<span class="comment-copy">Welcome to SO. Unfortunately this isn't a discussion forum, tutorial or code writing service. Please take the time to read <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a> and the links it contains.  You should spend some time working your way through <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">the Tutorial</a>, practicing the examples. It will give you an introduction to the tools Python has to offer and you may even start to get ideas for solving your problem.</span>
<span class="comment-copy"><a href="https://stackoverflow.com/questions/17140886/how-to-search-and-replace-text-in-a-file-using-python" title="how to search and replace text in a file using python">stackoverflow.com/questions/17140886/â€¦</a></span>
<span class="comment-copy">Sorry Joe but I changed the question because I do not know the content of the lines that I need to replace. All that I know is the two lines that I need to replace all the data in between. Thanks</span>
