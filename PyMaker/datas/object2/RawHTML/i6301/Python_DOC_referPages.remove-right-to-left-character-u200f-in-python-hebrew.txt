<div class="post-text" itemprop="text">
<p>I have a dataframe, and I want the unique strings of a specific column. The strings are in Hebrew.</p>
<p>Because I'm using pandas dataframe, I wrote: <code>all_names = history.name.unique()</code> (<code>history</code> is the data frame with a <code>name</code> column).</p>
<p>I get strange duplicates with the <code>\u200f</code> character. Like <code>ערן</code> and another one with the  <code>\u200f</code></p>
<pre><code>all_names
array(['\u200fערן', 'ערן',  ...., None], dtype=object)
</code></pre>
<p>How can I remove these characters? (From the original data frame)</p>
</div>
<div class="post-text" itemprop="text">
<p>You can clear-up your <code>name</code> strings by filtering out all non-letters and non-whitespaces (Unicode-wise) by <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html" rel="nofollow noreferrer"><code>apply</code></a>ing a <a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer"><code>re.sub</code></a>-based function to all the values in the <code>name</code> column.</p>
<p>For example (assuming Python 3, which handles Unicode properly):</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; history.name.apply(lambda s: s and re.sub('[^\w\s]', '', s))
</code></pre>
<p>The <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax" rel="nofollow noreferrer"><code>\w</code> includes all Unicode word characters</a> (including numbers) and <code>\s</code> includes all Unicode whitespace characters.</p>
<p>By the way, the <code>\u200f</code> (aka the <code>RIGHT-TO-LEFT MARK</code>) that's bothering you is in the Unicode codepoint category "Other, Format":</p>
<pre><code>&gt;&gt;&gt; import unicodedata
&gt;&gt;&gt; unicodedata.name('\u200f')
'RIGHT-TO-LEFT MARK'
&gt;&gt;&gt; unicodedata.category('\u200f')
'Cf'
</code></pre>
<p>so, you can be sure it'll be removed with the filter above.</p>
</div>
