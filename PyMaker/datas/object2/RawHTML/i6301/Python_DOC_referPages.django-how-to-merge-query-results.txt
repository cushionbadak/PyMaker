<div class="post-text" itemprop="text">
<p>I have an ArrayField with choices and i'm trying to filter the choices:</p>
<pre><code>    PAYMENT_CASH = '0'
    PAYMENT_CARD = '1'
    PAYMENT_BANK = '2'
    PAYMENT_ONLINE = '3'
    PAYMENT = (
        (PAYMENT_CASH, _('Cash')),
        (PAYMENT_CARD, _('Card')),
        (PAYMENT_BANK, _('Bank')),
        (PAYMENT_ONLINE, _('Online')),
    )
options = ArrayField(models.CharField(max_length=1, choices=PAYMENT, default='0'), size=4)
</code></pre>
<p>When i use <code>Location.objects.filter(city__id='683506').values_list('options', flat=True)</code> it returns me</p>
<pre><code>&lt;QuerySet [['0'], ['0', '1', '2', '3'], ['0', '1', '2'], ['0', '1'], ['0', '1', '2', '3']]&gt;
</code></pre>
<p>I wish to get all the options that are used.
How can i merge the query or make them into a list and merge them?</p>
<p>This is what i wish to get <code>['0', '1', '2', '3']</code></p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/itertools.html#itertools.chain" rel="nofollow noreferrer">chain</a>:</p>
<pre><code>qs = Location.objects.filter(city__id='683506').values_list('options', flat=True)
options = set(chain(*qs))
</code></pre>
<p>I used set in second line for removing duplicated options.</p>
</div>
<span class="comment-copy">Why turn the set back into a list? Seems wasteful.</span>
<span class="comment-copy">In question Nita wrote that he want to get list</span>
<span class="comment-copy">i don't really need a list, just to be merged, let me try it</span>
<span class="comment-copy">it's perfect, thank you :)</span>
