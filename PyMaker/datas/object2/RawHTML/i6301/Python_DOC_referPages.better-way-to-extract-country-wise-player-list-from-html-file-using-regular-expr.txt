<div class="post-text" itemprop="text">
<h1>Problem statement:</h1>
<p><strong>Make country wise player list  from the following html code</strong></p>
<pre><code>&lt;ul&gt;
    &lt;li&gt;
        Australia
        &lt;ol&gt;
            &lt;li&gt;Steven Smith&lt;/li&gt;
            &lt;li&gt;David Warner&lt;/li&gt;
        &lt;/ol&gt;
    &lt;/li&gt;
    &lt;li&gt;
        Bangladesh
        &lt;ol&gt;
            &lt;li&gt;Mashrafe Mortaza&lt;/li&gt;
            &lt;li&gt;Tamim Iqbal&lt;/li&gt;
        &lt;/ol&gt;
    &lt;/li&gt;
    &lt;li&gt;
        England
        &lt;ol&gt;
            &lt;li&gt;Eoin Morgan&lt;/li&gt;
            &lt;li&gt;Jos Buttler&lt;/li&gt;
        &lt;/ol&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<h2>Expected Output:</h2>
<p>Australia- Steven Smith, David Warner</p>
<p>Bangladesh- Mashrafe Mortaza, Tamim Iqbal</p>
<p>England- Eoin Morgan, Jos Buttler</p>
<h2>My Code:</h2>
<p>It works well. I'm looking for better code. Please help me.</p>
<pre><code>import re

with open('playerlist.html', 'r') as f:
    text = f.read()

mytext = re.sub(r'[\n\t]', '', text)

pat = r'&lt;li&gt;(\w+?)&lt;ol&gt;&lt;li&gt;(\w+\s?\w+)&lt;/li&gt;&lt;li&gt;(\w+\s?\w+)&lt;/li&gt;'

cpat = re.compile(pat)

result = cpat.findall(mytext)


for a,b,c in result:
    print('{0}- {1}, {2}'.format(a,b,c))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Parsing xml/html data with regex never was and never will be a good idea.<br/>Use xml/html parsers.</p>
<p>The right way with <strong><a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">xml.etree.ElementTree</a></strong> module (one of those parsers. You could try another ones):</p>
<pre><code>import xml.etree.ElementTree as ET

root = ET.parse('playerlist.html').getroot()
for li in root.findall('.//li[ol]'):
    print(li.text.strip(), '- {}, {}'.format(*(i.text.strip() for i in li.findall('ol/li'))))
</code></pre>
<p>The output:</p>
<pre><code>Australia - Steven Smith, David Warner
Bangladesh - Mashrafe Mortaza, Tamim Iqbal
England - Eoin Morgan, Jos Buttler
</code></pre>
</div>
<span class="comment-copy">What are you looking to improve on in the existing algorithm?</span>
<span class="comment-copy">If it really works and there is no issue, please consider posting it at <a href="https://codereview.stackexchange.com">Code Review</a>, it is off-topic here.</span>
<span class="comment-copy">yes, there is a big problem in your code: you should NOT parse xml/html with regex</span>
