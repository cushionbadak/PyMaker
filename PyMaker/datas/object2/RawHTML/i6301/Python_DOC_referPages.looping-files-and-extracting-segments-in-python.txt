<div class="post-text" itemprop="text">
<p>I am trying to create a loop and extrat some segments of files located in a folder. I could easily do it in R but in Python I am having trouble. I have already tried with os and with glob.</p>
<p>The code in R looks like this:</p>
<pre><code>## loop over all files
for (i in 1:length(file)) {

    ## extract file name
    file.name &lt;- strsplit(file[i],"\\.")[[1]][1]

    ## extract file header
    file.head &lt;- readLines(file[i], n = length(grep("#", readLines(file[i]))))
....
</code></pre>
<p>and the code in Python that I made looks like this (path is the directoy):</p>
<pre><code>for file in os.listdir(path):

    ## extract file name
    filename = os.fsdecode(file)

    ## extract file header
    tempfile = os.open(file, os.O_RDWR)
</code></pre>
<p>Altough I am new in Python, I didnt believe such simple thing would be so time consuming. I appreciate the help, as I have already scoutted the web for an answer.</p>
</div>
<div class="post-text" itemprop="text">
<p>First, you can use <a href="https://docs.python.org/3.5/library/os.html#os.scandir" rel="nofollow noreferrer"><code>os.scandir</code></a> to get paths, rather than filenames.</p>
<p>Then, use <code>file.readlines()</code>:</p>
<pre><code>for file in os.scandir(path):
    tempfile = os.open(file).readlines()
</code></pre>
<p>I am unfamiliar with R syntax, but it appears that you want to get all of the lines that begin with <code>#</code>. To do that, just use a list comprehension:</p>
<pre><code>for file in os.scandir(path):
    tempfile = [l for l in os.open(file).readlines() if l[0] == '#']
</code></pre>
<p>In fact, you can iterate over the file directly which will iterate over the lines:</p>
<pre><code>for file in os.scandir(path):
    tempfile = [l for l in os.open(file) if l[0] == '#']
</code></pre>
</div>
<span class="comment-copy">What errors are you getting?</span>
<span class="comment-copy">the error is on the tempfile: FileNotFoundError                         Traceback (most recent call last) &lt;ipython-input-42-638830dc1bc8&gt; in &lt;module&gt;() ----&gt; 1 tempfile = os.open(file, os.O_RDWR)</span>
<span class="comment-copy">Welcome to SO. Unfortunately this isn't a discussion forum or a code writing service. Please take the time to read <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a> and the links it contains.  You should spend some time working your way through <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">the Tutorial</a>, practicing the examples. It will give you an introduction to the tools Python has to offer and you may even start to get ideas for solving your problem.</span>
