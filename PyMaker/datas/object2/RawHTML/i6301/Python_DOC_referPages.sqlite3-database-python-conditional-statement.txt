<div class="post-text" itemprop="text">
<pre><code>import sqlite3
conn = sqlite3.connect('LeVinEmployee.db')
profile = input("Are you a user? y/n: ")
if profile == 'y':
    login = input("Enter login name: ")
    #passw = input("Enter password: ")
    c = conn.cursor()
    c.execute("SELECT * FROM Employee WHERE Email = '" + login + "'")
    result = c.fetchone()
    if result[0] == 1:
         print(c.fetchall())
    else:
         print("not")

else:
    print("You are not a user")
</code></pre>
<p>What I am trying to do here is pretty simple. I am trying to create user login function. If user type 'y', program will simply ask to put login email. If user type correct email from database, print that customer information. if wrong, print 'not'. I am not sure what is wrong with my code. Can someone help me please?</p>
</div>
<div class="post-text" itemprop="text">
<p>As I understand, <code>email</code> is an unique field. And your query could return one record or nothing (<code>None</code>). Try</p>
<pre><code>result = c.fetchone()
if result:  # result could be None or tuple (record)
     print(result)
else:
     print("not")
</code></pre>
<p>Also, such method of parameter pass is incorrect (insecure)</p>
<pre><code>c.execute("SELECT * FROM Employee WHERE Email = '" + login + "'")
</code></pre>
<p>use</p>
<pre><code>c.execute("SELECT * FROM Employee WHERE Email=?", login)
</code></pre>
<p>more info <a href="https://docs.python.org/3/library/sqlite3.html#module-sqlite3" rel="nofollow noreferrer">here</a>.</p>
</div>
<span class="comment-copy">It works. Thanks alot. I assume if i want to check password, it will be the same right?</span>
<span class="comment-copy">@Vincent Lynn You are welcome) Yes, it will be the same. Something like <code>c.execute("SELECT * FROM Employee WHERE Email=? AND pass=?", login, pass)</code></span>
<span class="comment-copy">Very helpful. Thank you</span>
