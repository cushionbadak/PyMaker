<div class="post-text" itemprop="text">
<p>I have started writing a code using Geany (working on a Linux). it works fine with Geany and when I try and simulate it on pythontutor.org everything seems to be correct, but IDLE (on a Macbook) won't execute it.
this is my code:</p>
<pre><code>import random
f = open('mots.txt')
word_list = f.readlines()
line = random.randint(0,len(word_list))
word = word_list[line]
print(word)
</code></pre>
<p>it should open the file, make a list of the words contained in it (I have one word for each line), choose a number which corresponds to a line and give me the word it has thus chosen at random.</p>
<p>this is what I get from IDLE:</p>
<pre><code>Traceback (most recent call last):
  File "/Users/luvi/Desktop/maths/INFO-F-101/Projets/projet2_test.py", line 3, in &lt;module&gt;
    word_list = f.readlines()
  File     "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/encodings/ascii.py", line 26, in decode
    return codecs.ascii_decode(input, self.errors)[0]
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 305: ordinal not in range(128)
</code></pre>
<p>thanks!!</p>
</div>
<div class="post-text" itemprop="text">
<p>You did not specifically ask a question, but I presume you want to know why, as well as what to do.  The <a href="http://%20https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">doc for open</a> says "The default encoding is platform dependent (whatever locale.getpreferredencoding() returns)."  If you have a file with a known non-ascii encoding, the safe, cross-platform thing to do is provide an explicit encoding argument in the open call.</p>
<p>Since Python, not IDLE, executes <code>open</code>, I suspect that you should change the title to "Python code working on Linux but not OSX".  To test, run it directly with Python, from a command line, not from IDLE or Geany.</p>
</div>
