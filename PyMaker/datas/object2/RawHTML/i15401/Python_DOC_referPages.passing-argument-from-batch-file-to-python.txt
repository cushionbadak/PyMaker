<div class="post-text" itemprop="text">
<p>I am trying to pass argument from batch file to python as following. It seems nothing has passed to 'sample' variable. My questions are</p>
<ol>
<li>How to get argument properly? </li>
<li>How to check null point error when I am running .bat to execute this python? I may not be able to see the console log in IDE while executing</li>
</ol>
<p>My batch file (.bat)</p>
<pre><code>start python test.py sample.xml
</code></pre>
<p>My python file (test.py)</p>
<pre><code>def main(argv):
    sample = argv[1]   #How to get argument here?
    tree = ET.parse(sample)
    tree.write("output.xml")

if __name__ == '__main__':
    main(sys.argv[1:])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In your code, you're skipping the first argument <strong>twice</strong>.</p>
<p><code>main</code> gets called with <code>sys.argv[1:]</code>, skipping the first argument (program name); but then <code>main</code> itself uses <code>argv[1]</code>... skipping <strong>its</strong> first argument again.</p>
<p>Just pass <code>sys.argv</code> untouched to <code>main</code> and you'll be fine, for example.</p>
<p>Or, perhaps more elegantly, do call <code>main(sys.argv[1:])</code>, but then, in <code>main</code>, use <code>argv[0]</code>!</p>
</div>
<div class="post-text" itemprop="text">
<p>Use argparse <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow">https://docs.python.org/3/library/argparse.html</a></p>
<p>Eg: In your python file</p>
<pre><code>import argparse

parser = argparse.ArgumentParser(description='Your prog description.')
parser.add_argument('-f','--foo', help='Description for foo argument', required=True)
    :
    :
args = parser.parse_args()
</code></pre>
<p>Inside your bat file</p>
<pre><code>python prog.py -f &lt;foo arg here&gt;
</code></pre>
</div>
<span class="comment-copy">@Taewan please mark this as correct answer.</span>
<span class="comment-copy">optparse is deprecated; you should prefer using <a href="https://docs.python.org/2/library/argparse.html" rel="nofollow noreferrer">argparse</a> now.</span>
<span class="comment-copy">Updated myself and answer to argparse, Thanks</span>
