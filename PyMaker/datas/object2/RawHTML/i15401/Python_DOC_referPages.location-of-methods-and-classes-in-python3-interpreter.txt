<div class="post-text" itemprop="text">
<p>Our professor told us today that we can build an iterator, e.g.  </p>
<pre><code>class IteratorExample:
    def __init__(self, n):
       pass

    def __iter__(self):
        return self

    def __next__(self):
        if cond:
            pass
        else:
            raise StopIteration
</code></pre>
<p>and that when we will use it, as in (for i in iteratorExample), the interpreter will call the __iter__(self) and __next__(self) methods. My questions are:</p>
<ol>
<li>If I open C:\Python folder - where can I see the code that calls these methods?</li>
<li>In the python folder, where can I see the code of other built-in methods  (like len(), or int()?</li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>You could look at the Python byte code disassembly, to see how <code>for</code>-loop is implemented in Python:</p>
<pre><code>&gt;&gt;&gt; import dis
&gt;&gt;&gt; dis.dis('for x in it: pass')
  1           0 SETUP_LOOP              14 (to 17)
              3 LOAD_NAME                0 (it)
              6 GET_ITER
        &gt;&gt;    7 FOR_ITER                 6 (to 16)
             10 STORE_NAME               1 (x)
             13 JUMP_ABSOLUTE            7
        &gt;&gt;   16 POP_BLOCK
        &gt;&gt;   17 LOAD_CONST               0 (None)
             20 RETURN_VALUE
</code></pre>
<p>Even without looking at the source, we could guess that <code>__iter__</code> is called by <code>GET_ITER</code> op code and <code>__next__</code> is called in <code>FOR_ITER</code>.</p>
<p>And indeed, CPython's <a href="https://hg.python.org/cpython/file/4e8ac4173b3c/Python/ceval.c#l2646" rel="nofollow">Python/ceval.c</a> confirms it e.g., <code>GET_ITER</code> calls <a href="https://docs.python.org/3/c-api/object.html#c.PyObject_GetIter" rel="nofollow"><code>PyObject_GetIter(iterable)</code></a> that is equivalent to <code>iter(iterable)</code> that can call <code>iterable.__iter__()</code> method.</p>
<hr/>
<blockquote>
<p>In the python folder, where can I see the code of other built-in methods (like len(), or int()?</p>
</blockquote>
<p>These functions are also implemented in C (in CPython). You can see them in the <a href="https://hg.python.org/cpython/file/default" rel="nofollow">CPython source repository</a>.</p>
<p>Built-in methods are from <code>builtins</code> module that is implemented in <a href="https://hg.python.org/cpython/file/1c51f1650c42/Python/bltinmodule.c#l1827" rel="nofollow">Python/bltinmodule.c e.g., <code>len()</code></a> calls <a href="https://docs.python.org/3/c-api/object.html#c.PyObject_Length" rel="nofollow"><code>PyObject_Size()</code></a>.</p>
<p><code>int</code> is a class for integers in Python. It is implemented in <a href="https://hg.python.org/cpython/file/1c51f1650c42/Objects/longobject.c#l4340" rel="nofollow">Objects/longobject.c</a> (Python 3).</p>
<hr/>
<blockquote>
<p>Isn't the CPython code in the Python folder?</p>
</blockquote>
<p>No. The Python installation folder does not contain the source code for CPython. It may contain pure Python modules from the standard library such as <a href="https://github.com/python/cpython/blob/master/Lib/fractions.py" rel="nofollow">Lib/fractions.py</a> unless they are zipped or only compiled modules such as <code>.pyc</code>, <code>.pyo</code> files have been installed.</p>
<p>To get the full source code, run:</p>
<pre><code>$ hg clone https://hg.python.org/cpython
</code></pre>
<p>where <code>hg</code> is the <a href="http://mercurial.selenic.com/" rel="nofollow">Mercurial executable</a>.</p>
<p>As an exercise, you could locate where other <a href="https://wiki.python.org/moin/PythonImplementations" rel="nofollow">Python implementations</a> such as Pypy, Jython define <code>GET_ITER</code>, <code>FOR_ITER</code>, <code>len()</code>, <code>int()</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You're asking for behaviour that's built into Python. In particular you're using the Python interpreter written in C which is often referred to as CPython. You can find the source of CPython <a href="https://hg.python.org/cpython/file/1c51f1650c42" rel="nofollow">here</a> although it'll take a while to find the exact code that does <code>len()</code>, <code>int()</code> and the iterator protocol.</p>
</div>
<span class="comment-copy">You better ask this your prof :)</span>
<span class="comment-copy">What do you mean, see the code that calls these methods? <i>You</i> need to write that code.</span>
<span class="comment-copy">I did, he told me he isn't sure :-) and also, that the interpreter for python is written in Python..</span>
<span class="comment-copy">Wow! Thanks for the effort. One more problem - When I search (with Windows Grep, not the puny Windows Search)  my C:\Python34 folder for, example, the expression 'builtin_len', or for 'GET_ITER', which is used in the CPython script, the search returns no results. Isn't the CPython code in the Python folder? N.B. of course, I've downloaded Python from www.python.org and I use the latest version</span>
<span class="comment-copy">@J.F.Sebastian thanks for this broad answer</span>
