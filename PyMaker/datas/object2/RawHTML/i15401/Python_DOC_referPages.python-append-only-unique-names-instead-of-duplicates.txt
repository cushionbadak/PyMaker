<div class="post-text" itemprop="text">
<p>So its a bot for an online Im called chatango.
its a whitelist that shows who all are allowed to use the bot.</p>
<p>The code is : </p>
<pre><code>whitelist = []
f = open("users/"+name+".txt", "r") # read-only
print("[INFO]LOADING WHITELIST-LVL-1...")
soundz("info")
time.sleep(1)
for name in os.listdir(path):
 if len(name.strip()[:-4])&gt;0: whitelist.append(name.strip()[:-4])
f.close()
</code></pre>
<p>When i add one more person to the list using</p>
<pre><code> open("users/"+name+".txt", 'w')
</code></pre>
<p>and when it is reloaded it makes duplicates in the list </p>
<pre><code>eg 
Before: man1,man2,man3 
[Reloaded] 
After: man1,man2,man3man1,man2,man3,man4
</code></pre>
<p>How do i make it</p>
<pre><code>man1,man2,man3,man4 instead of man1,man2,man3man1,man2,man3,man4 
</code></pre>
<p>after reload? </p>
<p>Please help</p>
</div>
<div class="post-text" itemprop="text">
<p>Try using a set instead (<a href="https://docs.python.org/2/library/stdtypes.html#set" rel="nofollow">Python 2</a> | <a href="https://docs.python.org/3/tutorial/datastructures.html#sets" rel="nofollow">Python 3</a>). Sets do not preserve the order of items but will contain only unique items, so you won't have duplicate entries.</p>
<pre><code>whitelist = set()
f = open("users/"+name+".txt", "r")
print("[INFO]LOADING WHITELIST-LVL-1...")
soundz("info")
time.sleep(1)
for name in os.listdir(path):
    if len(name.strip()[:-4])&gt;0: whitelist.add(name.strip()[:-4])
f.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would check for the existence of the item in the white list and only add if not there:</p>
<p>So at the point where you want to append to whitelist:</p>
<pre><code>if not name in whitelist:
    whitelist.append(name)
</code></pre>
</div>
<span class="comment-copy">Short answer: use a set instead of a list.</span>
<span class="comment-copy">You can either check if the string exists first before appending or use a set as Kevin suggests</span>
<span class="comment-copy">Thank you so much :D</span>
<span class="comment-copy">will this work? if name not in os.listdir(path):                whitelist.remove(name.strip()[:-4])               f.close()</span>
<span class="comment-copy">@Xei That should work. Check the documentation on sets</span>
