<div class="post-text" itemprop="text">
<p>I'm reading a <code>.txt</code> file to create a dictionary I've called <code>irTable</code>. It contains the Key which I'm referring to as a dId (device ID) and then 3 values, label, frequency, state.</p>
<p>Now I'm reading and appending the dictionary fine, however I'm failing to understand a suitable method to re-write these changes to the .txt file line by line.</p>
<p>My current code:</p>
<pre><code>def writeFile():
    f = open("test.txt","w")
    for line in irTable: #irTable being the dictionary where my Key and 3 values are.
        print(line, file="test.txt") 
        f.close()
</code></pre>
<p>Outputs this error:</p>
<pre><code>    print(line, file="test.txt") 
AttributeError: 'str' object has no attribute 'write'
</code></pre>
<p>For reference, the formatting for my .txt file:</p>
<pre><code>rm1d1,lamp,100001,False
rm1d2,tv,100002,False
rm2d1,lamp,100003,False
</code></pre>
<p>So how can I write my 'new' dictionary to this file?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow"><code>file</code> parameter</a> of <code>print</code> expects an open file object as an argument.  You should be passing <code>f</code> instead of the name of the file:</p>
<pre><code>print(line, file=f)
</code></pre>
<p>That, or you could use the <code>write</code> method of <code>f</code>:</p>
<pre><code>f.write(line)
</code></pre>
<p>Note however that this will not add a newline like <code>print</code>.  You need to manually add it if you want one:</p>
<pre><code>f.write(line + '\n')
</code></pre>
<hr/>
<p>Also, the <code>f.close()</code> line needs to be dedented one level.  Otherwise, you will close the file during the first iteration of the loop.  Of course, it would probably be best to just use a <a href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="nofollow">with-statement</a>:</p>
<pre><code>def writeFile():
    with open("test.txt","w") as f:
        for line in irTable:
            print(line, file=f)
</code></pre>
<p>This will automatically close the file for you when done.</p>
</div>
<span class="comment-copy">file.write(line) will write a line into a file for you. Don't close the file until after the for loop is finished. It's also worth looking up the with keyword for opening and closing files as it is the most pythonic way of doing things.</span>
<span class="comment-copy">If <code>irTable</code> is a dictionary, then <code>line</code> is just a key. You want to write both the keys and the values to the file.</span>
<span class="comment-copy">It would probably be cleaner to use <code>file.write(line)</code>, too.</span>
<span class="comment-copy">That works too.  But both methods do the same thing and the <code>file</code> parameter of <code>print</code> was created for doing tasks like this, so it is really a matter of preference.  I was just keeping the OP's style. :)</span>
<span class="comment-copy">Note - <code>print</code> appends a newline, unless you set <code>print(line, end='')</code>, while <code>f.write</code> does not.</span>
<span class="comment-copy">@iCodez Ok so this is writting! Thanks, the only issue I'm having now is that it's only writing the key to the file, not the 3 values with that key.</span>
<span class="comment-copy">@iCodez I've tried <code>for a, b, c, d in irTable:</code> but it's too many values to unload... :/</span>
