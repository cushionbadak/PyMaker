<div class="post-text" itemprop="text">
<p>If I have a list of objects acquired by some query (in this case Django models).</p>
<pre><code>friends = Friend.objects.friends(user1)
</code></pre>
<p>How can I get the list of ids, so I can use it to search another model, like this:</p>
<pre><code>items = Item.objects.get(pk__in=friends_ids).order_by('date')
</code></pre>
<p>I'm pretty sure the lambda expressions should be able to do it but I can't figure it out...</p>
</div>
<div class="post-text" itemprop="text">
<p>If the return value of the <code>friends</code> method is a <a href="https://docs.djangoproject.com/en/1.7/ref/models/querysets/#django.db.models.query.QuerySet" rel="noreferrer"><code>QuerySet</code></a> object, you can use <a href="https://docs.djangoproject.com/en/1.7/ref/models/querysets/#values-list" rel="noreferrer"><code>QuerySet.values_list</code></a> method:</p>
<pre><code>friends_ids = friends.values_list('id', flat=True)
</code></pre>
<p>If it's not a <code>QuerySet</code> object, you can use <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="noreferrer">list comprehension</a> (This one can be used for both <code>QuerySet</code> and non-QuerySet one):</p>
<pre><code>friends_ids = [friend.id for friend in friends]
</code></pre>
</div>
<span class="comment-copy">It returns a list, no queryset. Good point in using the list comprehension... I was thinking way to complex and completely forgot about such an easy solution :).</span>
