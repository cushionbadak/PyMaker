<div class="post-text" itemprop="text">
<p>I have the GPS data set (in csv format) of hundreds of people and I have to study the mobility of them. I have managed to compute the distance between each two point and then compute the speed by simply dividing by the time increment between these two points. I have done all these calculations using pandas and grouping by nickname (this is important because each person has a different trajectory and you can not mix distances and speeds).</p>
<p>The next step I have to do is to compute the average of every three or four velocities to clean some GPS data errors. I have tried this and it works fine but I can not find the way to group it by nickname since the speeds of each user are mixed. Any ideas?</p>
<p><a href="https://i.stack.imgur.com/W0maX.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/W0maX.png"/></a></p>
<p><a href="https://i.stack.imgur.com/R7pbr.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/R7pbr.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>this can be done simply by using the index as a way to group the rows</p>
<pre><code>df['bins'] = df.index // n
</code></pre>
<p>and then doing a group by on 'bins'. to put it in a cleaner function here is the code</p>
<pre><code>import pandas as pd

df = pd.DataFrame({'A':[1,2,3,3,4,4,4],'B':[1,2,3,4,5,6,7]})
def n_average(df, n):
    df['bin'] = df.index // n
    grouped_df = df.groupby(['bin']).mean()
    return grouped_df
n_average(df, 3)
</code></pre>
</div>
