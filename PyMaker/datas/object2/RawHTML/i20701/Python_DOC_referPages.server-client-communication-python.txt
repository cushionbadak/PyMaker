<div class="post-text" itemprop="text">
<p><strong>Server</strong></p>
<pre><code>import socket
import sys
s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)

host= 'VAC01.VACLab.com'
port=int(2000)
s.bind((host,port))
s.listen(1)

conn,addr =s.accept()

data=s.recv(100000)

s.close
</code></pre>
<p><strong>CLIENT</strong></p>
<pre><code>import socket
import sys

s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)

host="VAC01.VACLab.com"
port=int(2000)
s.connect((host,port))
s.send(str.encode(sys.argv[1]))

s.close()
</code></pre>
<p>I want the server to receive the data that client sends.</p>
<p>I get the following error when i try this </p>
<p><strong>CLIENT Side</strong></p>
<p>Traceback (most recent call last):
  File "Client.py", line 21, in 
    s.send(sys.argv[1])
TypeError: 'str' does not support the buffer interface</p>
<p><strong>Server Side</strong></p>
<p>File "Listener.py", line 23, in 
    data=s.recv(100000)
socket.error: [Errno 10057] A request to send or receive data was disallowed bec
ause the socket is not connected and (when sending on a datagram socket using a
sendto call) no address was supplied</p>
</div>
<div class="post-text" itemprop="text">
<p>In the server, you use the <em>listening</em> socket to receive data. It is only used to accept new connections.</p>
<p>change to this:</p>
<pre><code>conn,addr =s.accept()

data=conn.recv(100000)  # Read from newly accepted socket

conn.close()
s.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your line <code>s.send</code> is expecting to receive a stream object. You are giving it a string. Wrap your string with BytesIO.</p>
</div>
<div class="post-text" itemprop="text">
<p>Which version of Python are you using? From the error message, I guess you are unintentionally using Python3. You could try your program with Python2 and it should be fine.</p>
</div>
<div class="post-text" itemprop="text">
<p>try to change the client socket to:</p>
<pre><code>s=socket.socket(socket.AF_INET,socket.SOCK_DGRAM)
</code></pre>
</div>
<span class="comment-copy">I think you may have to convert the <code>str</code> to <code>bytes</code>.</span>
<span class="comment-copy">Do i do this str.encode(sys.argv[1]) ?? i did that ,the errors have stopped but the data is not transferring.</span>
<span class="comment-copy">Are you still having trouble?</span>
<span class="comment-copy">Still giving the same error at the client side. The server error got resolved.</span>
<span class="comment-copy">but their are <a href="https://docs.python.org/3/library/socket.html#socket.socket.recv" rel="nofollow noreferrer"><code>recv()</code></a> and <a href="https://docs.python.org/3/library/socket.html#socket.socket.send" rel="nofollow noreferrer"><code>send()</code></a> methods on <code>socket</code> object.</span>
<span class="comment-copy">Do i do this str.encode(sys.argv[1]) ?? i did that ,the errors have stopped but the data is not transferring.</span>
<span class="comment-copy">@VinodK NO use <code>BytesIO</code>. Go look that up in the docs.</span>
<span class="comment-copy">Ya i am using Python 3</span>
<span class="comment-copy">Vinod - Try it with Python2 then to know the difference.</span>
