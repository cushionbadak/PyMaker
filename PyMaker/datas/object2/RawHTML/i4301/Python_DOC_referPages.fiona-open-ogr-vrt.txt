<div class="post-text" itemprop="text">
<p>I have OGR Virtual Format as test.vrt file, and tried to read it using Python <code>Fiona</code> lib.</p>
<pre><code>&gt;&gt;&gt; import fiona
&gt;&gt;&gt; src = fiona.open('abs_path_to_vrt_file.vrt')
</code></pre>
<p>After that I am receiving an error:</p>
<p><code>fiona.errors.DriverError: unsupported driver: 'OGR_VRT'</code></p>
<p>Here is my test.vrt file:</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;OGRVRTDataSource&gt;
    &lt;OGRVRTLayer name="test"&gt;
        &lt;SrcDataSource&gt;absolute_path_to_test_shp.shp&lt;/SrcDataSource&gt;
    &lt;/OGRVRTLayer&gt;
&lt;/OGRVRTDataSource&gt;
</code></pre>
<p>What I am doing wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p>Fiona only handles a subset GDAL’s supported drivers, and VRT is not one of them:</p>
<pre><code>&gt;&gt;&gt; fiona.supported_drivers
{'AeronavFAA': 'r', 'ARCGEN': 'r', 'BNA': 'raw', 'DXF': 'raw', 'OpenFileGDB': 'r', 'ESRI Shapefile': 'raw', 'GeoJSON': 'rw', 'GPKG': 'rw', 'GPX': 'raw', 'GPSTrackMaker': 'raw', 'Idrisi': 'r', 'MapInfo File': 'raw', 'DGN': 'raw', 'PCIDSK': 'r', 'SEGY': 'r', 'SUA': 'r'}
</code></pre>
<p>VRT files are format drivers - they’re used to create geographic datasets,  reference geographic datasets, and even specify geometric changes to datasets. But VRT files are not geographic datasets themselves. They’re XML files!</p>
<p>Python’s standard library has plenty of support for processing XML files:
<br/><a href="https://docs.python.org/3/library/xml.html" rel="nofollow noreferrer">https://docs.python.org/3/library/xml.html</a></p>
<p>And there are some great 3rd party options too:
<br/><a href="https://github.com/martinblech/xmltodict" rel="nofollow noreferrer">xmltodict</a>
<br/><a href="https://github.com/stchris/untangle" rel="nofollow noreferrer">untangle</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Strangely enough enabling <code>OGR_VRT</code> support at least for such simple vrt files seems to be possible. If you add <code>("OGR_VRT","r")</code> to supported_drivers dictionary in <code>site-packages/fiona/drvsupport.py</code> file opening above xml file with fiona using geopandas seems to work. Use at your own risk! :)</p>
</div>
