<div class="post-text" itemprop="text">
<p>I'm trying to open a file using latin-1 encoding in order to produce a file with a different encoding. I get a <code>NameError</code> stating that <code>unicode is not defined</code>. Here the piece of code I use to this:</p>
<pre><code>sourceEncoding = "latin-1"
targetEncoding = "utf-8"
source = open(r'C:\Users\chsafouane\Desktop\saf.txt')
target = open(r'C:\Users\chsafouane\Desktop\saf2.txt', "w")

target.write(unicode(source.read(), sourceEncoding).encode(targetEncoding))
</code></pre>
<p>I'm not used at all to handling files so I don't know if there is a module I should import to use "unicode"</p>
</div>
<div class="post-text" itemprop="text">
<p>The fact that you see <code>unicode not defined</code> suggests that you're in Python3. Here's a code snippet that'll generate a latin1-encoded file, then does what you want to do, slurp the latin1-encoded file and spit out a UTF8-encoded file:</p>
<pre><code># Generate a latin1-encoded file

txt = u'U+00AxNBSP¡¢£¤¥¦§¨©ª«¬SHY­®¯U+00Bx°±²³´µ¶·¸¹º»¼½¾¿U+00CxÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏU+00DxÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßU+00ExàáâãäåæçèéêëìíîïU+00Fxðñòóôõö÷øùúûüýþÿ'

latin1 = txt.encode('latin1')

with open('example-latin1.txt', 'wb') as fid:
    fid.write(latin1)

# Read in the latin1 file

with open('example-latin1.txt', 'r', encoding='latin1') as fid:
    contents = fid.read()
assert contents == latin1.decode('latin1') # sanity check

# Spit out a UTF8-encoded file

with open('converted-utf8.txt', 'w') as fid:
    fid.write(contents)
</code></pre>
<p>If you want the output to be something other than UTF8, add an <code>encoding</code> argument to <code>open</code>, e.g.,</p>
<pre><code>with open('converted-utf_32.txt', 'w', encoding='utf_32') as fid:
    fid.write(contents)
</code></pre>
<p>The docs have a <a href="https://docs.python.org/3/library/codecs.html#standard-encodings" rel="nofollow noreferrer">list of all supported codecs</a>.</p>
</div>
<span class="comment-copy">And, just to clarify, this is Python2 right? Because Python3 doesn't have a <code>unicode</code> function (strings are UTF8 by default).</span>
