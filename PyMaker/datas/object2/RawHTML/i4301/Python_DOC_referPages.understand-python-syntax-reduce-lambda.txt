<div class="post-text" itemprop="text">
<p>I have a pandas series 'structures'. It contains rows of list of characters.</p>
<pre><code>structures[0] = ['C', 'H', '[', '#']`
</code></pre>
<p>The line below is basically trying to find the union of all characters present in all the rows</p>
<pre><code>charset = list(reduce(lambda x, y: set(y) | x, structures, set()))
</code></pre>
<p>But, I'm not able to understand the syntax. What is | doing and why is set() being passed as an argument to reduce?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>set(y) | x</code> is the union of <code>set(y)</code> and <code>x</code>.</p>
<p>The <code>set()</code> at the end is the initial value for <code>reduce()</code>, the first value of <code>x</code> that will be used so that the function can get going. The first value in <code>structures</code> will be the first value of <code>y</code>.</p>
<p>If you left out the initial value, i.e. something like:</p>
<pre><code>charset = list(reduce(lambda x, y: set(y) | set(x), structures))
</code></pre>
<p>then if <code>structures</code> is empty this will raise:</p>
<pre><code>TypeError: reduce() of empty sequence with no initial value
</code></pre>
<p>and if <code>structures</code> has length one then <code>reduce</code> will just return the one element, not converted to a set.</p>
<p>In general <code>|</code> is the bitwise OR operator but sets override several operators for their own meaning. For future reference the character is called a pipe, so for example searching for "python set pipe" yields some answers.</p>
</div>
<span class="comment-copy">That has nothing to do with <code>reduce</code> or <code>lambda</code>. See <a href="https://docs.python.org/3/library/stdtypes.html#set" rel="nofollow noreferrer">docs.python.org/3/library/stdtypes.html#set</a>.</span>
<span class="comment-copy">@melpomene It looks like that the OP understands none of <code>reduce</code>, <code>lambda</code>, <code>|</code>. Too broad.</span>
