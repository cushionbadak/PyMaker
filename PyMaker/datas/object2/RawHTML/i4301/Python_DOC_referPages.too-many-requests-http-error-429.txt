<div class="post-text" itemprop="text">
<p>I'm trying to scrape the following link using beautifulSoup and Python.</p>
<pre><code>my_url = 'https://www.idealo.de/preisvergleich/OffersOfProduct/5577980_-macbook-air-13-2017-apple.html'
</code></pre>
<p>The problem is the server returns error 429 every time i try to scrape the page.
One of the suggestion found was using header information but it's not working.
The code i used is presented bellow.</p>
<pre><code>hdr = { 'User-Agent' : 'text for header' }
req = Request(my_url,data=None, headers=hdr)
try:
    page=urlopen(req)
except HTTPError as e:
    print('The server couldn\'t fulfill the request.')
    print( 'Error code: ', e.code)
except URLError as e:
    print('We failed to reach a server.')
    print('Reason: ', e.reason)
else:
    # everything is fine
    print("All good")
</code></pre>
<p>What are my options in this situation?
Thank you</p>
</div>
<div class="post-text" itemprop="text">
<p>Everything works fine with both <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer"><code>requests</code></a> and <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.urlopen" rel="nofollow noreferrer"><code>urllib.request.urlopen</code></a>.</p>
<pre><code>from urllib.request import urlopen
import requests

url = 'https://www.idealo.de/preisvergleich/OffersOfProduct/5577980_-macbook-air-13-2017-apple.html'
</code></pre>
<pre><code>&gt;&gt;&gt; r = requests.get(url)
&gt;&gt;&gt; r.status_code
200

&gt;&gt;&gt; with urlopen(url) as response:
...     print(response.status)
200
</code></pre>
<p>Notice that "Receiving a status 429 is not an error". You can read more about it <a href="https://stackoverflow.com/questions/22786068/how-to-avoid-http-error-429-too-many-requests-python">here</a>.</p>
</div>
<span class="comment-copy">The website wants to tell you that it does not like to be scraped.</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/22786068/how-to-avoid-http-error-429-too-many-requests-python">https://stackoverflow.com/questions/22786068/how-to-avoid-http-error-429-too-many-requests-python</a>.</span>
<span class="comment-copy">It seems like you did not understand the problem from the question.</span>
<span class="comment-copy">You're right. I added a note about the 429 error and linked to the duplicate question that should explain the problem in detail.</span>
<span class="comment-copy">Used the code you suggested. I get '429' after using r.status_code. Should i try and change my IP?</span>
<span class="comment-copy">You can try <a href="https://stackoverflow.com/a/22786871">this</a>.</span>
<span class="comment-copy">Used proxy. Still 429 :(</span>
