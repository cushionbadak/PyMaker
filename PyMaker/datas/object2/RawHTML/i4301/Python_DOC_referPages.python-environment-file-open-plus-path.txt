<div class="post-text" itemprop="text">
<p>In environmental variables in system I have defined two variables:</p>
<p>A_home=C:\install\ahome
B_home=C:\install\bhome</p>
<p>following script is written to read information from location of variable A close it, then open location of variable B and write it there, thing is script only works with precise path e.g </p>
<pre><code>C:\install\a\components\xxx\etc\static-data\myfile.xml
C:\install\b\components\xxx\etc\static-data\myfile.xml
</code></pre>
<p>problem is, that i need python to read path that is defined in env variable, plus common path like this:  %a_home%\a\components\xxx\etc\static-data\myfile.xml`</p>
<p>so far i have this, and i cant move forward .... anyone have any ideas?? this script reads only exact path...</p>
<pre><code>file = open('C:\install\a\components\xxx\etc\static-data\myfile.xml','r')
lines = file.readlines()
file.close()
file = open('C:\install\b\components\xxx\etc\static-data\myfile.xml','w')
for line in lines:
  if line!='&lt;/generic-entity-list&gt;'+'\n':
    file.write(line)
file.write('&lt;entity&gt;XXX1&lt;/entity&gt;\n')
file.write('&lt;entity&gt;XXX2&lt;/entity&gt;\n')
file.write('&lt;/generic-entity-list&gt;\n')
file.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try something like this:</p>
<pre><code>import os
import os.path

home = os.getenv("A_HOME")
filepath = os.path.join(home, "components", "xxx", "etc", "static-data", "GenericEntityList.xml")
with open(filepath, 'r') as f:
    for line in f:
        print(line)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>so finally success Thanks Tom, i was inspired by you ....</p>
<p>here goes </p>
<pre><code> import os
path1 = os.environ['SOME_ENVIRO1']
path2 = os.environ['SOME_ENVIRO2']
file = open(path1 +'\\components\\xxx\etc\\static-data\\GenericEntityList.xml', 'r')
lines = file.readlines()
file.close()
file = open(path2 +'\\components\\xxx\\etc\\static-data\\GenericEntityList.xml', 'w')
for line in lines:
  if line!='&lt;/generic-entity-list&gt;'+'\n':
    file.write(line)
file.write('&lt;entity&gt;ENTITY1&lt;/entity&gt;\n')
file.write('&lt;entity&gt;ENTITY2&lt;/entity&gt;\n')
file.write('&lt;/generic-entity-list&gt;\n')
file.close()
</code></pre>
</div>
<span class="comment-copy">It's not clear exactly what the issue is - it sounds like maybe you just don't know how to read the contents of environment variables from inside python? If that was the case, I'm sure googling that exact question would give you an answer, so I'm guessing it's something more complex - but your code doesn't contain anything that uses env vars... Can you clarify the exact problem?</span>
<span class="comment-copy">Yes that's is the issue, I don't know how to force my code to read variable path instead of exact path... Do you understand? I don't want to use exact path but I want to use path in variable and part of path as I mentioned  Components\xxx\etc\static-data\myfile.xml</span>
<span class="comment-copy">Something like this %a_home%\components\xxx\etc......myfile.xml</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/os.html#os.environ" rel="nofollow noreferrer">docs.python.org/3/library/os.html#os.environ</a></span>
<span class="comment-copy">hello tom, yes i read that, but unfortunatelly i still cant make working solution out of it ... is there any points you might share with me to help me in the process? Thanks</span>
<span class="comment-copy">doesnt work.... its invalid syntax,thing is i need to open file from env variable A, and write it to location of variable B ...</span>
<span class="comment-copy">I've fixed the typo, but if you couldn't spot and fix that yourself then it's probably worth doing an online python tutorial first - it looks from the examples of what you've tried that you aren't sure how to do stuff like join strings together, so a tutorial will help fill in a lot of the basics that will help you solve these sort of problems on your own in the future.</span>
<span class="comment-copy">yes i am pretty new to python, although the script simply opens and writes out stuff to console, its almost what i need  :D  i am going to try delete the "print line" and fit it to my script and see what happens.</span>
<span class="comment-copy">Glad you got it working!</span>
