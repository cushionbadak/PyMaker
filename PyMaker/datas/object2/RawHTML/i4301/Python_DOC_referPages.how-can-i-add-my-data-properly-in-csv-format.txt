<div class="post-text" itemprop="text">
<p>My code to write my data in a .txt file:</p>
<pre><code>with open(file_path, 'w') as f:
    id = 1
    for line in value:
        line = re.sub('[^A-Za-z0-9-,]+', '', str(line))
        ymax, xmax, xmin, ymin=line.split(',')
        f.write(('{{\'yMax\': u\'{}\', \'xMax\': u\'{}\', \'xMin\': u\'{}\',\'yMin\': u\'{}\', \'id\': \'{}\', \'name\': \'\'}}'.format(ymax, xmax, xmin, ymin,id)))
        id = id + 1
</code></pre>
<p>outcome :</p>
<pre><code>{'yMax': u'156', 'xMax': u'4802', 'xMin': u'4770','yMin': u'141', 'id': '1', 'name': ''}
{'yMax': u'157', 'xMax': u'4895', 'xMin': u'4810','yMin': u'141', 'id': '2', 'name': ''}
</code></pre>
<p>However i want my data in a table like format of .csv:</p>
<pre><code>image     id    name    xMin    xMax    yMin    yMax
1-0.png   1             4770    4802    141     156
1-0.png   2             4810    4895    141     157
</code></pre>
<p>How can i adjust my code to go from the .txt format i already have to the .csv format i want? The excess column which is image is simply the filename of the txt but .png instead of txt so easy enough using <code>re</code> i can adjust later my main issue is the table shape.</p>
</div>
<div class="post-text" itemprop="text">
<p>This should help. use <code>csv.DictWriter</code></p>
<pre><code>with open(file_path, 'w') as f:
    writer = csv.DictWriter(f, delimiter='\t', fieldnames=['yMax', 'xMax', 'xMin', 'yMin', 'id', 'name'])      #Tab seperated
    writer.writeheader()    #Add header
    for i, line in enumerate(value, 1):             #enumerate to get id
        line = re.sub('[^A-Za-z0-9-,]+', '', str(line))
        ymax, xmax, xmin, ymin=line.split(',')
        d = {'yMax': ymax,'xMax': xmax, 'xMin': xmin,'yMin': ymin, 'id': i, 'name': ''}
        writer.writerow(d)
</code></pre>
<p><strong>Note</strong>: This is sample code.</p>
</div>
<span class="comment-copy">there is a <a href="https://docs.python.org/3/library/csv.html?highlight=csv#module-csv" rel="nofollow noreferrer"><code>csv</code> module</a>. i suggest you use it.</span>
<span class="comment-copy">Oh i'm new to python, mind adding a full answer bellow so i can accept.</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/14037540/writing-a-python-list-of-lists-to-a-csv-file">Writing a Python list of lists to a csv file</a></span>
<span class="comment-copy">got this error `    writer = csv.DictWriter(f, delimiter='\t')  # Tab seperated TypeError: __init__() missing 1 required positional argument: 'fieldnames'`</span>
<span class="comment-copy">add the <code>fieldnames</code>. Updated snippet.</span>
<span class="comment-copy">I updated then got this error <code>ValueError: dict contains fields not in fieldnames: 'x', 'M', 'a', 'x'</code></span>
<span class="comment-copy">Sorry use <code>writerow</code></span>
<span class="comment-copy">Just add <code>writer.writeheader()</code>. I wanted you to figure it out.....</span>
