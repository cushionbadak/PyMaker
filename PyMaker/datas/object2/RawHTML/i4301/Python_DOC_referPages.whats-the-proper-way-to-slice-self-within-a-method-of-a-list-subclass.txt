<div class="post-text" itemprop="text">
<p>I intend to create a method to slice a <code>list</code>, however I don't have the correct syntax here, and I haven't been able to come up with the correct search query to find out how to do this:</p>
<pre><code>class BarList(list):
    """Items in the list are always in ascending order of .date"""
    def trim(self, start:dt.datetime=None, end:dt.datetime=None):
        """Removes all bars before `start` and after `end`"""
        if start:
            for i, bar in enumerate(self):
                if bar.date &gt;= start:
                    self = self[i:]
                    break
</code></pre>
<p>What's the proper way to do what I'm trying to express in the above pseudocode?</p>
</div>
<div class="post-text" itemprop="text">
<p>The reason why <code>self = self[i:]</code> is incorrect is because all it does is slice the list and assign that slice to a local variable named <code>self</code>. It doesn't actually <em>modify</em> the list.</p>
<p>In order to change the content of the list, you can use a <a href="https://docs.python.org/3/tutorial/introduction.html#lists" rel="nofollow noreferrer">slice assignment</a>:</p>
<pre><code>self[:] = self[i:]
</code></pre>
<p>This basically means "replace the entire content of the list with the value on the right side of the <code>=</code> symbol".</p>
<hr/>
<p>The other part of the problem is making your <code>trim</code> method work correctly. There are a few cases that your code doesn't handle. Here's the updated code:</p>
<pre><code>import datetime as dt

class BarList(list):
    """Items in the list are always in ascending order of .date"""
    def trim(self, start:dt.datetime=None, end:dt.datetime=None):
        """Removes all bars before `start` and after `end`"""
        if start:
            for i, bar in enumerate(self):
                if bar &gt;= start:
                    # if this date is later than `start`, remove
                    # everything up to here
                    self[:] = self[i:]
                    break
            else:
                # if no date greater than `start` was
                # found, delete everything
                del self[:]
</code></pre>
<p>Test run:</p>
<pre><code>l = BarList([dt.datetime.now()])
print(l)  # output: [datetime.datetime(2018, 4, 19, 0, 18, 14, 23474)]
l.trim(dt.datetime.now())
print(l)  # output: []
</code></pre>
</div>
