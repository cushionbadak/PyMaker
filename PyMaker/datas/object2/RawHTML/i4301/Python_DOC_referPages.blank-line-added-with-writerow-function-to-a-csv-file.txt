<div class="post-text" itemprop="text">
<p>I am trying to write in a CSV file using this code:</p>
<pre><code>with open('tri.csv', 'a') as csvfile2:
    writer0 = csv.writer(csvfile2, delimiter=';', encoding='utf-8')
    writer0.writerow([id_emp, name_emp, old_date, "", "", "", old_diff])
</code></pre>
<p>but when I open the <code>tri.csv</code> file I find that it adds a blank line after every line.</p>
<p>Why is that?</p>
</div>
<div class="post-text" itemprop="text">
<p>If you are using Python 2.x use <code>'ab'</code> in your <code>open()</code>. If you are using Python 3.x add <code>newline=''</code> as another parameter. This is recommended in the <a href="https://docs.python.org/3/library/csv.html#csv.reader" rel="nofollow noreferrer"><code>csv.writer()</code></a> documentation. For example:</p>
<p>Python 2.x</p>
<pre><code>with open('tri.csv', 'ab') as csvfile2:
    writer0 = csv.writer(csvfile2, delimiter=';', encoding='utf-8')
    writer0.writerow([id_emp, name_emp, old_date, "", "", "", old_diff])
</code></pre>
<p>Python 3.x</p>
<pre><code>with open('tri.csv', 'a', newline='', encoding='utf-8') as csvfile2:
    writer0 = csv.writer(csvfile2, delimiter=';')
    writer0.writerow([id_emp, name_emp, old_date, "", "", "", old_diff])
</code></pre>
<p>Note, by making this change it will remove <strong>additional</strong> blank lines between rows. <code>writerow()</code> will always add a newline at the end which is usually required. To stop it from writing that, you would need a different approach that first writes the data to a string not a file, strip the newline and then write the resulting text to a file.</p>
<p>See also: <a href="https://stackoverflow.com/a/48192161/4985733">Python CSV insert final newline - how can I avoid it?</a></p>
</div>
<span class="comment-copy">Does <code>old_diff</code> contain a newline at the end?</span>
<span class="comment-copy">Which version of Python are you using?</span>
<span class="comment-copy">If you are using Python 2.x use <code>'ab'</code> in your <code>open()</code>. If you are using Python 3.x add <code>newline=''</code> as another parameter.</span>
