<div class="post-text" itemprop="text">
<p>I have a txt file with <code>seven columns and no headers</code>.  There is a space separating the first two columns and then semicolons serve as the delimiter thereafter.</p>
<p>Here is what I tried before realizing the file wasn't uniform:</p>
<pre><code> min17_q1 = open('ES 03-17.Last.txt', 'r')
 for line in min17_q1:
    fields = line.split(";")
    Date = fields[0]
    Time = fields[1]
    Open = fields[2]
    High = fields[3]
    Low = fields[4]
    Close = fields[5]
    Volume = fields[6]
    print(DateTime + Open + High + Low + Close + Volume)
</code></pre>
<p>How can I read this file in and then be able to manipulate the data and/or append identical files to this one?</p>
</div>
<div class="post-text" itemprop="text">
<p>To parse one such line from your file, split on the first space with <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow noreferrer"><code>str.split(maxsplit=1)</code></a>, then split again on semicolons:</p>
<pre><code>for line in min17_q1:
    Date, fields = line.split(" ", 1)
    Time, Open, High, Low, Close, Volume = fields.split(';')
    print(Date + Time + Open + High + Low + Close + Volume)
</code></pre>
<p>To concatenate multiple of these files, use a loop:</p>
<pre><code>with open('output.txt') as outfile:
    # iterate over the files that need to be concatenated
    for infile in ['min17_q1', 'min17_q2', 'min17_q3']:
        with open(infile) as infile:
            # parse each line in the file and add it to the output file
            for line in infile:
                line = line.replace(' ', ';', 1)
                outfile.write(line)
</code></pre>
<p>In this case it's not even necessary to split each row into a list. We can just replace the first space in the line with a semicolon and write it back. To do this, I used <a href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="nofollow noreferrer"><code>str.replace(' ', ';', count=1)</code></a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>This can be done with a single split:</p>
<pre><code>for line in min17_q1:
    Date, Time, Open, High, Low, Close, Volume = line.replace(' ',';',1).split(';')
    print(Date + Time + Open + High + Low + Close + Volume)
</code></pre>
<p>and the reverse operation:</p>
<pre><code>line = "%s %s;%s;%s;%s;%s;%s" % (Date, Time, Open, High, Low, Close, Volume)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>import re,os

outputfile = open('outfile.txt','a')

for all_files in os.listdir(os.getcwd()):
        if re.match(r'samp.*',all_files):
                min_file = open(all_files, 'r')
                for line in min_file:
                        fields=re.split(r'[ ;]',line.strip())
                        c=';'.join(fields)
                        #print c
                        outputfile.write(c)
                        outputfile.write('\n')
                min_file.close()
outputfile.close()
</code></pre>
</div>
<span class="comment-copy">I would use 'a' in this statement to then append files to this one? min17_q1 = open('ES 03-17.Last.txt', 'a')</span>
<span class="comment-copy">@user9050939 I added some code that shows how to add a line to the file.</span>
<span class="comment-copy">using the first for loop I've got all five of my files reading in.  I want the new file (one file with each file appended to another) to be uniform, not with mixed delimiters. After the initial for loop and print statement everything is uniform, so would that not change things?</span>
<span class="comment-copy">@user9050939 Not sure what you mean. What would that change? Of course, if you want the output format to have uniform separators then remove the <code>row = ' '.join([Date, row])</code> line and just join everything with semicolons.</span>
<span class="comment-copy">derp, okay, I see what you're saying.  How would an entire file, or five identical files, be appended?</span>
<span class="comment-copy">suppose there are 5 identical files: min17_q1, min17_q2, min17_q3, min17_q4, min18_q1.  I want them to be one file, appended one after the other</span>
<span class="comment-copy">added list of similar files condition, please change the samp.* with min.*</span>
