<div class="post-text" itemprop="text">
<p>I am writting a code and i already know i'll have to change some instructions when i'll have more information.
I already know the specific lines i'll have to change, but since the code is a bit long, i'd like to prepare the moment i'll have to change those lines, by printing the n° of those lines. Actually i'd like something like a this_line() function that would work like this :</p>
<pre><code>1 
2 
3 print('this line is the n°'.format(this_line())
4

&gt;&gt;&gt; this line is the n°3
</code></pre>
<p>Can i do this without converting my code in .txt and counting the lines ?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/inspect.html#inspect.currentframe" rel="nofollow noreferrer">The <code>inspect</code> module</a> has you covered. Just <code>import inspect</code>, and run:</p>
<pre><code>inspect.currentframe().f_lineno
</code></pre>
<p>to get the line number of the currently executing frame.</p>
<p>Note, this is a feature specific to CPython (the reference interpreter), per the docs:</p>
<blockquote>
<p>CPython implementation detail: This function relies on Python stack frame support in the interpreter, which isn’t guaranteed to exist in all implementations of Python. If running in an implementation without Python stack frame support this function returns None.</p>
</blockquote>
<p>I'm unclear on whether the concept of a frame and its line number will exist elsewhere, but this will work fine on the reference interpreter. It's possible that this is portable (there is no note claiming otherwise), but I can't be sure:</p>
<pre><code>inspect.stack()[0].lineno
</code></pre>
</div>
<span class="comment-copy">It might be useful in a specific niche case, but aren't you sure you'd rather organize your code, so you don't have to look through one single big function ? It would help you immensely, rather than printing the # of a line.</span>
<span class="comment-copy">I need to open many different files with different names, and i dont have the name of those files for the moment, i just have some 'training files' that ables to test if the code is correct, but i'll have to change one by one all of the files names i open in the code when i'll have the final files</span>
<span class="comment-copy">Then, think about it differently. Use variables at the top of your module, which uses for now your training files, and use these variables in your code instead of hard coding the values. Then you will only have to change the top variables ?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/3056048/filename-and-line-number-of-python-script">filename and line number of python script</a></span>
