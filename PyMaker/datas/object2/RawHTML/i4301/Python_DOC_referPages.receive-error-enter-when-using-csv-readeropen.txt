<div class="post-text" itemprop="text">
<p>I get the following error <strong>enter</strong> for the code written after:</p>
<pre><code>Traceback (most recent call last):
File "C:\Users\XXX\Sentiment Analysis-vader.py", line 34, in &lt;module&gt;
    f.printer()

File "C:\Users\XXX\Sentiment Analysis-vader.py", line 18, in printer
    with csv.reader(open('analyse_' + str(bloombergcode) + '.csv', 'r'), delimiter= ",",quotechar='|') as q2:

AttributeError: __enter__

Process finished with exit code 1
</code></pre>
<p>I used the following code:</p>
<pre><code>import csv
from nltk.sentiment.vader import SentimentIntensityAnalyzer


class VaderSentiment:
    def __init__(self, bloomcode):
        self.bloomcode = bloomcode


    def print_sentiment_scores(self, sentence):
        self.sentence = sentence
        analyser = SentimentIntensityAnalyzer()
        snt = analyser.polarity_scores(self.sentence)
        print("{:-&lt;40} {}".format(self.sentence, str(snt)))

    def printer(self):
        bloombergcode = self.bloomcode
        with csv.reader(open('analyse_' + str(bloombergcode) + '.csv', 'r'), delimiter= ",",quotechar='|') as q2:
            for line in q2:
                for field in line:
                    print_sentiment_scores(field)

for code in ('AAPL', 'NFLX'):
    f = VaderSentiment(code)
    f.printer()
    time.sleep(1)
</code></pre>
<p>I already saw some other similar problems (<a href="https://stackoverflow.com/questions/46273154/python-json-with-returns-attributeerror-enter">Python Json with returns AttributeError: __enter__</a>) but the solutions do not work on my problem.</p>
<p>Does anyone see the problem??</p>
<p>Thanks in advance and best regards</p>
<hr/>
<p><strong>////EDIT:</strong></p>
<p>thanks to the contribution marked as helpful, that the code I finally used (after getting another error which I solved)</p>
<pre><code>import csv
from nltk.sentiment.vader import SentimentIntensityAnalyzer
import time

class VaderSentiment:
    def __init__(self, bloomcode):
        self.bloomcode = bloomcode


    def print_sentiment_scores(self, sentence):
        self.sentence = sentence
        analyser = SentimentIntensityAnalyzer()
        snt = analyser.polarity_scores(self.sentence)
        print("{:-&lt;40} {}".format(self.sentence, str(snt)))

    def printer(self):
        bloombergcode = self.bloomcode

        with open(f'analyse_{str(bloombergcode)}.csv', 'r') as csv_file:
            q2 = csv.reader(csv_file, delimiter=",", quotechar='|')
            for line in q2:
                for field in line:
                    self.print_sentiment_scores(field)

for code in ('AAPL', 'NFLX'):
    f = VaderSentiment(code)
    f.printer()
    time.sleep(1)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're not using <a href="https://docs.python.org/3/library/csv.html#csv.reader" rel="nofollow noreferrer"><code>csv.reader</code></a> correctly. It does not support being placed inside a <a href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="nofollow noreferrer"><code>with</code> statement</a>, which is why you're getting an <code>AttributeError: __enter__</code> error. </p>
<p>Try to do it the same way as in the <a href="https://docs.python.org/3/library/csv.html#csv.reader" rel="nofollow noreferrer">usage example</a>:</p>
<pre><code>with open('analyse_' + str(bloombergcode) + '.csv', 'r') as csv_file:
    q2 = csv.reader(csv_file, delimiter=',', quotechar='|')
    for line in q2:
        # ..rest of your code..
</code></pre>
<p>Wrap <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer"><code>open</code></a> instead inside the <code>with</code> (because <code>open</code> supports it and is actually the recommended way of using it) then use <code>csv.reader</code> inside it.</p>
</div>
<span class="comment-copy">Thank you very much! Your answer helped me to solve the problem and I did edit my post for whoever encounters a similar problem.</span>
