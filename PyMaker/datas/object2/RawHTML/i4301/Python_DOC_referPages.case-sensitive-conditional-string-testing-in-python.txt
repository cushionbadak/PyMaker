<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/3627784/case-insensitive-in-python">Case insensitive 'in' - Python</a>
<span class="question-originals-answer-count">
                    8 answers
                </span>
</li>
</ul>
</div>
<p>Let's say that you wish to check existing usernames in a list using Python, ensuring that we check for case sensitivity, such that we force new users to select a unique username so you write something that looks like this:</p>
<pre><code>current_users = ['lana', 'matthew', 'kevin', 'lars', 'louis', 'sarah']
new_users = ['tom', 'tim', 'gus', 'david']

for user in new_users:
    if user.title().upper().lower() in current_users:
        print("Sorry, " + user.title() + ", but that username is 
        already taken. Please choose a new username.")
else:
    print("Hello, " + user.title() + ", that username is available. 
    Welcome aboard!")
</code></pre>
<p>I've tested the code and I know that it works, but I don't pretend to be the world's best coder, and this code doesn't look to be the most efficient. </p>
<p>Is there another way to do this in Python without chaining .title().upper().lower() to check for case sensitivity? </p>
<p>Also, how would one test for a user who capitalised a character <em>inside</em> the username, such as 'maTThew'?</p>
</div>
<div class="post-text" itemprop="text">
<p>You should use <code>str.casefold</code> for case <em>insensitivity</em>:</p>
<pre><code>current_users = ['lana', 'matthew', 'kevin', 'lars', 'louis', 'sarah']
new_users = ['tom', 'tim', 'gus', 'david']

for user in new_users:
    if user.casefold() in current_users:
        print("Sorry, " + user.title() + ", but that username is already taken. Please choose a new username.")
else:
    print("Hello, " + user.title() + ", that username is available. Welcome aboard!")
</code></pre>
<p>As per the <a href="https://docs.python.org/3/library/stdtypes.html#str.casefold" rel="nofollow noreferrer">docs</a>:</p>
<blockquote>
<p>Casefolding is similar to lowercasing but more aggressive because it
  is intended to remove all case distinctions in a string. For example,
  the German lowercase letter 'ß' is equivalent to "ss". Since it is
  already lowercase, <code>lower()</code> would do nothing to 'ß'; <code>casefold()</code>
  converts it to "ss".</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>using title(), upper(), lower() combined together make no sense, Just use lower() function to test.</p>
<pre><code>if user.lower() in current_users:
   some code here
</code></pre>
</div>
<span class="comment-copy">It looks like you're asking for a case <i>insensitive</i> check, i.e. that the code does <i>not</i> care about the case and will equate <code>tom</code> with <code>Tom</code> regardless?</span>
<span class="comment-copy">Using <code>upper()</code> combined with <code>lower()</code> makes no sense. Just use <code>lower()</code> in your case.</span>
<span class="comment-copy">not to mention no need to use <code>title</code> to discard casing afterwards.</span>
<span class="comment-copy"><code>lower()</code> converts all alphabetical characters to lower-case. No need to call <code>title()</code> or <code>upper()</code></span>
<span class="comment-copy">That chaining doesn't do what you think it does.</span>
