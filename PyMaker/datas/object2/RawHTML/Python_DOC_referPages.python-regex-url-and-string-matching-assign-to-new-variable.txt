<div class="post-text" itemprop="text">
<p>I have a csv of URLs in one column and a column of strings (words) associated with those URLs. </p>
<p>I want to write a function that goes through each URL and if "/2019/" is present in the URL, assign it to a new variable called "new_url" and if "/2018/" "/2017/" (etc) is present, assign it to a variable called "old_url"</p>
<p>I also want it to go through each of the words in the first column and if "2019" or no year at all is present, assign that to a new variable called "new_word" </p>
<p><strong>example of columns:</strong><br/>
hyundai sonata rebate         | <a href="https://www.edmunds.com/hyundai/sonata/2018/deals" rel="nofollow noreferrer">https://www.edmunds.com/hyundai/sonata/2018/deals</a></p>
<p>2017 jeep wrangler | <a href="https://www.edmunds.com/jeep/wrangler/2017/deals" rel="nofollow noreferrer">https://www.edmunds.com/jeep/wrangler/2017/deals</a></p>
<p>2019 honda accord | <a href="https://www.edmunds.com/honda/accord/2019/deals" rel="nofollow noreferrer">https://www.edmunds.com/honda/accord/2019/deals</a></p>
<p>I've been trying to work with this <a href="https://gist.github.com/gruber/8891611" rel="nofollow noreferrer">https://gist.github.com/gruber/8891611</a>
but am utterly confused and cant get it to work. Any ideas?!</p>
</div>
<div class="post-text" itemprop="text">
<p>Just something simple to get you started:</p>
<pre><code>import re

sample_rows = [
    ("hyundai sonata rebate", "https://www.edmunds.com/hyundai/sonata/2018/deals"),
    ("2017 jeep wrangler", "https://www.edmunds.com/jeep/wrangler/2017/deals"),
    ("2019 honda accord", "https://www.edmunds.com/honda/accord/2019/deals"),
    ("1985 some old car", "https://www.edmunds.com/some/oldcar/1985/deals")
]

for row in sample_rows:
    keywords = row[0]
    url = row[1]
    # the url
    if "/2019/" in url:
        new_url = url
        print(f"new_url={new_url}")
    elif re.search("/(?:(?:20)|(?:19))\d{2}/", url):
        old_url = url
        print(f"old_url={old_url}")
    # the "words"
    if "2019" in keywords:
        new_word = keywords
        print(f"new_word={new_word}")
    elif re.search("(?:(?:20)|(?:19))\d{2}", keywords) is None:
        new_word = keywords
        print(f"new_word={new_word}")
</code></pre>
</div>
<span class="comment-copy">Is there a way to do this if instead of creating a list, it loops through rows in a dataframe?</span>
<span class="comment-copy">Yes, check this out: <a href="https://stackoverflow.com/questions/16476924/how-to-iterate-over-rows-in-a-dataframe-in-pandas" title="how to iterate over rows in a dataframe in pandas">stackoverflow.com/questions/16476924/â€¦</a></span>
