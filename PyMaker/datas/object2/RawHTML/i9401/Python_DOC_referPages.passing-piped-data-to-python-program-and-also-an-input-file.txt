<div class="post-text" itemprop="text">
<p>I want to pass data to a Python file using a pipe and also specifying an input file like:</p>
<pre><code>cat file.txt|python script.py -u configuration.txt
</code></pre>
<p>I currently have this:</p>
<pre><code>for line in fileinput.input(mode='rU'):
    print(line)
</code></pre>
<p>I know there can be something with sys.argv but maybe using fileinput there is a clean way to do it?</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>From <a href="https://docs.python.org/3/library/fileinput.html#module-fileinput" rel="nofollow noreferrer">the documentation</a>:</p>
<blockquote>
<p>If a filename is <code>'-'</code>, it is also replaced by <code>sys.stdin</code>. To specify an alternative list of filenames, pass it as the first argument to <code>input()</code>.</p>
</blockquote>
<p>So you can create a list containing <code>'-'</code> as well as the contents of <code>sys.argv[1:]</code> (the default), and pass that to <code>input()</code>. Or alternatively just put <code>-</code> in the list of arguments of your Python program:</p>
<pre><code>cat file.txt|python script.py -u - configuration.txt
</code></pre>
<p>or</p>
<pre><code>cat file.txt|python script.py -u configuration.txt -
</code></pre>
<p>depending on whether you want data provided on standard input to be processed before or after the contents of <code>configuration.txt</code>.</p>
<p>If you want to do anything more complicated than just processing the contents of standard input as if it were an input file, you probably should not be using the <code>fileinput</code> module.</p>
</div>
<span class="comment-copy">Thank you! From there I can work on!</span>
