<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/5074803/retrieving-parameters-from-a-url">Retrieving parameters from a URL</a>
<span class="question-originals-answer-count">
                    14 answers
                </span>
</li>
</ul>
</div>
<p>I'm trying to write a method that will extract the query parameters from a URL (<code>php?id=2</code>, <code>admin?id=34&amp;page=2</code>, etc..). What I have so far will do just that unless the php part doesn't have a <code>.</code> for example it will work on <code>https://example.com/subcat.php?id=2</code> but not on <code>http://examples2.com/php?admin=2</code>. </p>
<pre><code>def obtain_inject_query(url):
    queries = url.split("?")
    data = queries[0].rsplit(".")[-1]
    print ''.join(data) + "?" + queries[1]
    # obtain_inject_query("https://example.com/admin?qt=123&amp;america=1234")
    # &lt;= com/admin?qt=123&amp;america=1234
    # obtain_inject_query("https://example.com/subcat.admin?qt=123&amp;america=1234")
    # &lt;= admin?qt=123&amp;america=1234
</code></pre>
<p>How can I fix this to where it will only extract the query and not the <code>com</code> part?</p>
</div>
<div class="post-text" itemprop="text">
<p>What about using the <code>urlparse</code> module:</p>
<pre><code>&gt;&gt;&gt; from urlparse import urlparse
&gt;&gt;&gt; o = urlparse('http://examples2.com/php?admin=2')
&gt;&gt;&gt; o
ParseResult(scheme='http', netloc='examples2.com', path='/php', params='', query='admin=2', fragment='')
&gt;&gt;&gt; o.query
'admin=2'
</code></pre>
</div>
<span class="comment-copy">I didn't even know that existed</span>
<span class="comment-copy">If you are using Python 3 use <code>urllib.parse</code>, the docs are located <a href="https://docs.python.org/3/library/urllib.parse.html#module-urllib.parse" rel="nofollow noreferrer">here</a>.</span>
