<div class="post-text" itemprop="text">
<p>I would like to know how I can use command prompt in python. Here is the thing, I need to run a program which is python based,and I used to do it in command prompt. However, I need to run this program multiple times and, thus, would like to automate it. The program need to run with files in a specific folder, and it uses a config file located in the same specific folder. Finally, I also need it to give a log file once it finishes each process. I used to do all this in command prompt: </p>
<pre><code>C:\Users\Gabriel\Documents\vina_tutorial&gt;"\Program Files (x86)\The Scripps Research Institute\Vina\vina.exe" --config conf.txt --log log.txt
</code></pre>
<p>I tried using python:</p>
<pre><code>import subprocess
subprocess.Popen('C:\\Program Files (x86)\\The Scripps Research Institute\\Vina\\vina.exe -config ' + 'conf.txt', cwd='C:\\Users\\Gabriel\\Documents\\vina_tutorial')
</code></pre>
<p>However, it didn't seem to work. (I did omit the log file thing in this first step)</p>
<p>Any tips on how to proceed or where I can learn something about it?</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to split up your shell command into separate arguments passed into Popen. <a href="https://docs.python.org/3/library/subprocess.html#popen-constructor" rel="nofollow noreferrer">Read the documentation</a></p>
<pre><code>&gt;&gt;&gt; import shlex, subprocess
&gt;&gt;&gt; command_line = input()
/bin/vikings -input eggs.txt -output "spam spam.txt" -cmd "echo '$MONEY'"
&gt;&gt;&gt; args = shlex.split(command_line)
&gt;&gt;&gt; print(args)
['/bin/vikings', '-input', 'eggs.txt', '-output', 'spam spam.txt', '-cmd', "echo '$MONEY'"]
&gt;&gt;&gt; p = subprocess.Popen(args) # Success!
</code></pre>
<p>Also, you may need to escape the backslashes in the Windows filepath. You may also need to enclose quotes IE <code>'"C:\\Program Files (x86)\\etc..\\foo.exe"'</code></p>
</div>
<span class="comment-copy">what sort of error did you get? were you expecting this <code>vina.exe</code> to print to stdout? (it won't automatically)</span>
<span class="comment-copy">There's a typo in the <code>Popen</code> command line. <code>-config</code> should be <code>--config</code> with two hyphens. You must get in the habit of paying attention to small details. See the individual trees, not the forest.</span>
<span class="comment-copy">On Windows you do not need to use an argument list, but it can help if you don't want to manually quote arguments with spaces and escape literal quotes. <code>subprocess.Popen</code> uses <code>subprocess.list2cmdline</code> to build the Windows command-line string with proper quoting and escaping. Do not add extra quotes manually because they will be escaped and passed as literal quotes.</span>
