<div class="post-text" itemprop="text">
<p>I'm trying to print a Python3 dictionary using:</p>
<pre><code>    b_result_page = []
    b_result_list = []
    b_result_page_and_list = {}

    #b_result page contains urls like: somesite.com?first=11
    for brp in b_result_page:
        LIST_SELECT = '.b_algo'
        for page_item_result in response.css(LIST_SELECT):
            NAME_SELECT = 'h2 a ::attr(href)'
            yield {
                'name' : page_item_result.css(LIST_SELECT).extract(),
            }
            #b_result_page_and_list is an empty dict, and im trying to append several page_item_result to its key.
            b_result_page_and_list.setdefault(brp, page_item_result)

    for k,v in b_result_page:
        print("key: {}  value:{}\n".format(k, v))
</code></pre>
<p>When I try to run this via <code>scrapy runspider scrape_b2.py</code>, I get an error of:</p>
<pre><code>    for k,v in b_result_page:
ValueError: too many values to unpack (expected 2)
</code></pre>
<p>Can anyone help me?</p>
</div>
<div class="post-text" itemprop="text">
<p>Two problems:</p>
<ol>
<li><p>You meant to loop over <code>b_result_page_and_list</code></p></li>
<li><p>Looping over a dictionary only loops over its keys; you meant <code>for k, v in b_result_page_and_list.items():</code> to get both keys and values.</p></li>
</ol>
</div>
<span class="comment-copy">You iterate over <code>b_result_page</code> twice - why do you expect a different number of things each time?</span>
<span class="comment-copy">Documentation exists, and it's not difficult to read. <a href="https://docs.python.org/3/tutorial/datastructures.html#looping-techniques" rel="nofollow noreferrer">docs.python.org/3/tutorial/â€¦</a></span>
<span class="comment-copy">I'm certain that code doesn't produce that error message. In particular, <code>b_result_page</code> is an <i>empty</i> list, so the <code>for</code> loops never iterate. Please reduce your original program to the shortest possible <b>complete</b> program that demonstrates the error. See <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a> for more info.</span>
<span class="comment-copy">The thing is, <code>b_result_page_and_list</code> has nothing in it. Im trying to append a key of <code>brp</code> to it, with values in <code>page_item_result</code></span>
<span class="comment-copy">That's quite logical, since b_result_page is an empty list, so the first for loop (which loops over it) never does anything.</span>
<span class="comment-copy">It gets appended values prior to looping, those values look like <code>somesite.com?first=11</code>, etc. let me comment my code to show you what i mean</span>
<span class="comment-copy">Well, you don't show that in the question. Anyway then apparently <code>response.css('.b_algo')</code> is empty.</span>
<span class="comment-copy">But you don't show that in the question, so you're expecting us to be clairvoyant. I've had enough, time to sleep.</span>
