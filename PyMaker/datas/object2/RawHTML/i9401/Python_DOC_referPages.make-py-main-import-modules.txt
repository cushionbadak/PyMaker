<div class="post-text" itemprop="text">
<p>I have a C++ Program in which I call <code>Py_Main</code> to get into Python. Now I would like to execute some commands inside of <code>Py_Main</code> but cannot seem to figure out how to pass that.</p>
<p>I saw that <code>Py_Main</code> calls <code>Py_Initialize</code> so I wonder whether it is possible at all.</p>
<p><strong>EDIT:</strong></p>
<p>I currently try to do:</p>
<pre><code>Py_Initialize();
PyImport_ImportModule("myfoo");

Py_Main(argc, argv);
</code></pre>
<p>And in <code>Py_Main</code> have <code>myfoo</code> not available. I can do <code>import myfoo</code> then fine.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you need to execute simple commands from C/C++ in Python you should be using the <a href="https://docs.python.org/3/c-api/veryhigh.html#c.PyRun_SimpleString" rel="nofollow noreferrer"><code>PyRun_SimpleString</code></a> function which takes a <code>const* char</code> containing the command to execute. </p>
<p>You shouldn't need to dabble with <code>Py_Main</code>, just set the program name and initialize Python with <code>Py_Initialize</code> before you call <code>PyRun_SimpleString</code>. If you need to import a module and use it you can use <a href="https://docs.python.org/3/c-api/import.html#c.PyImport_Import" rel="nofollow noreferrer"><code>PyImport_Import</code></a>.</p>
</div>
<span class="comment-copy">If you are embedding Python use the appropriate <code>C-API</code> function to run statements, it's called <code>PyRun_SimpleString</code> or something like that, can't remember now.</span>
<span class="comment-copy">So for some strange reason <code>PyImport_ImportModule("myfoo")</code> did not work but <code>PyRun_SimpleString("import myfoo")</code> did!?</span>
