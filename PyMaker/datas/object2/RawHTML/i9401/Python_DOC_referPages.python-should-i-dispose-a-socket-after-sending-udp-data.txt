<div class="post-text" itemprop="text">
<p>I have a a method which listens to events, and everytime an event happens, it should send data to a socket (its udp, so I don't check if the data was received).</p>
<p>what I have in the event_handler is this: </p>
<pre><code>    socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    socket.sendto(data, (IP, PORT))
</code></pre>
<p>It seems to me that I need to create a new socket <strong>everytime</strong> the event is called, because I don't know how much time will pass between two events, So having a <strong>global socket variable</strong> and send data on the event <strong>doesn't guarantee</strong> the socket is still up.</p>
<p>The thing is, because I create the socket everytime, should I dispose/close it after sending the data? what is the best way to dispose or close the socket after use?</p>
</div>
<div class="post-text" itemprop="text">
<p>As already explained by Rob, you do not necessarily need to create a new socket every time.</p>
<p>As per the documentation (<a href="https://docs.python.org/3/library/socket.html" rel="nofollow noreferrer">https://docs.python.org/3/library/socket.html</a>):</p>
<blockquote>
<p>Sockets are automatically closed when they are garbage-collected, but
  it is recommended to close() them explicitly, or to use a with
  statement around them.</p>
</blockquote>
<p>Hence, if you choose to create/close every time, you could do something like this:</p>
<pre><code>with socket.socket(socket.AF_INET, socket.SOCK_DGRAM) as socket:
    socket.sendto(data, (IP, PORT))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>It seems to me that I need to create a new socket everytime the event is called,</p>
</blockquote>
<p>No, it is OK to reuse the previous socket. Remember UDP sockekts are connectionless, so your concern about being disconnected doesn't apply.</p>
<blockquote>
<p>The thing is, because I create the socket everytime, should I dispose/close it after sending the data? </p>
</blockquote>
<p>Yes, if you are going to create a zillion sockets, please close them as you go. Otherwise you will run out of file descriptor slots, a limited resource in your process.</p>
</div>
<span class="comment-copy">What do you mean by "socket is still up"? Sockets, afaik, don't have "up" or "down" states.</span>
