<div class="post-text" itemprop="text">
<p>How would I have to create a date modified sorted list with Python of all files in /var/log starting with yum.log</p>
<pre><code>ls -la /var/log/yum.log*                                                                                                      [17-01-04 11:36:41]
-rw-------. 1 root root     0 Jan  1 03:45 /var/log/yum.log
-rw-------. 1 root root 16062 Jan 13  2016 /var/log/yum.log-20160113
-rw-------. 1 root root 36020 Dec 22 16:28 /var/log/yum.log-20170101
</code></pre>
<p>This code creates the list, but it is sorted by name.</p>
<pre><code>logdir = '/var/log'
yum_logs = sorted([f for f in os.listdir(logdir) if f.startswith('yum.log')])
</code></pre>
<p>How can I sort this list by date modified so the newest yum logfile comes first?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/os.path.html#os.path.getmtime" rel="nofollow noreferrer"><code>os.path.getmtime()</code></a>:</p>
<pre><code>logdir = '/var/log'
yum_logs = [f for f in os.listdir(logdir) if f.startswith('yum.log')]
sorted(yum_logs, key=lambda f: os.path.getmtime(os.path.join(logdir, f)))
</code></pre>
<p>You can pass <code>reverse=True</code> to <code>sorted</code> to reverse the order:</p>
<pre><code>sorted(yum_logs, key=lambda f: os.path.getmtime(os.path.join(logdir, f)), reverse=True)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You get modification time using <a href="https://docs.python.org/3/library/os.html#os.stat" rel="nofollow noreferrer">os.stat</a>:</p>
<pre><code>logdir = '/var/log'
files = [f for f in os.listdir(logdir) if f.startswith('yum.log')]
files.sort(key=lambda x: os.stat(os.path.join(logdir, x)).st_mtime)
</code></pre>
</div>
<span class="comment-copy">You could always split the row into pieces or use regexp to draw out the data you want. Then pass it to <a href="https://docs.python.org/3/library/time.html#time.strptime" rel="nofollow noreferrer">time.strptime()</a>. But it would be neat if you would try yourself first and if you bump into any errors we'd be able to help :) The list is sorted by name because <code>listdir()</code> will print out the filenames only relative to the path you put in. If you want size or date data, use <a href="http://stackoverflow.com/questions/237079/how-to-get-file-creation-modification-date-times-in-python">this</a></span>
<span class="comment-copy"><code>by date modified</code>.. Do you mean these dates: <code>20160113</code>, <code>20170101</code> or these: <code>Jan 13  2016</code>, <code>Dec 22 16:28</code>..?</span>
<span class="comment-copy">@Andersson He's looking at getting <code>os.stat(path_to_file)</code> and sort the list based on that.</span>
<span class="comment-copy">these: Jan 13 2016, Dec 22 16:28 and Jan 16:28</span>
<span class="comment-copy">This lists the oldest yum logfile first, I would like to have to newest logfile first in the list.</span>
<span class="comment-copy">files.sort(..., reverse=True)</span>
