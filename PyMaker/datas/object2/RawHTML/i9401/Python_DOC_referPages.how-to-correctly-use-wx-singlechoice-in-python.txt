<div class="post-text" itemprop="text">
<p>Im quite new in python and I would like to show a SingleChoiceDialog box with a list of strings from an sqlite query but I do something wrong and the list in the box shows just the last of the value of the variable list.</p>
<p>The query:</p>
<pre><code>            sql = u"select person.name from person"
            c.execute(sql)
            for row in c.execute(sql):
                    z = list(row)
</code></pre>
<p>The Dialog box:</p>
<pre><code>        def whatusr(parent=None, message='', default_value=''):
                dlg = wx.SingleChoiceDialog(
                        self, "Who?", 'The Caption',
                        z,
                        wx.CHOICEDLG_STYLE
                        )
                if dlg.ShowModal() == wx.ID_OK:
                        print 'You selected: %s\n' % dlg.GetStringSelection()
                dlg.Destroy()
</code></pre>
<p>When I run this, the Dialog box shows just the last value of the list and not all the list.
I think this is because the Dialog box wants me to have an other form of list.
My list <code>z = list(row)</code> outputs the value as: <code>[a], [b], [c], ..</code> but the Dialog box is probably expecting the value in this form: <code>[a,b,c, ..]</code>. Can someone help me? Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>A simple way to achieve this is to create your list from the returned sql statement using only the first element i.e. item[0].</p>
<pre><code>import sqlite3
import wx
db = sqlite3.connect('/home/rolf/my.db',)
cur=db.cursor()
cur.execute('person.name from person')
stats = cur.fetchall()
def xApp():
    z=[]
    for i in stats:
        z.append(i[0])
    dlg = wx.SingleChoiceDialog(None,"Which","title",z,wx.CHOICEDLG_STYLE)
    if dlg.ShowModal() == wx.ID_OK:
        print 'You selected: %s\n' % dlg.GetStringSelection()
    dlg.Destroy()
x=wx.App()
xApp()
x.MainLoop()
</code></pre>
<p>or you could use:</p>
<pre><code>z = [item[0] for item in stats]
</code></pre>
<p>as mentioned by Mike Driscoll but you still need only the first element</p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>wx.SingleChoiceDialog</code> widget does indeed require a normal list in the form of <code>[a,b,c, ..]</code> as you surmised. What you are probably getting is a list of lists and the widget doesn't know how to display that correctly.</p>
<p>I would just use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> to extract the items from the row. Something like this should work:</p>
<pre><code>z = [item for item in row]
</code></pre>
<p>I hope this helps.</p>
</div>
<span class="comment-copy">Thx! z=[]  for i in stats:         z.append(i[0])  Worked for me.</span>
