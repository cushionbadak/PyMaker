<div class="post-text" itemprop="text">
<p>While iterating through json there are some files which does not have the field i am parsing (using iterator as <code>test_category_list = [info["Test Caps"][0]]</code> ). Python is terminating the execution with error <code>KeyError: 'Test Caps' .</code> I wanted give a default test_category_list if no key found. How I will do that in python ?</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/stdtypes.html#dict.get" rel="nofollow noreferrer"><code>dict.get(key[, default])</code></a> accepts a second argument that is returned if no key is found (you can return any python object; for the example i return the string <code>'no_key_found'</code>):</p>
<pre><code>dct = {'key': 'value'}

print(dct.get('key', 'no_key_found'))  # -&gt; 'value'
print(dct.get('no_key', 'no_key_found'))  # -&gt; 'no_key_found'
</code></pre>
<p>or you catch the <code>KeyError</code> in a <code>try/except</code> block:</p>
<pre><code>try:
    ret = dct['key']
except KeyError:
    ret = 'no_key_found'
</code></pre>
<p>note: be sure to <em>only</em> catch the <code>KeyError</code> and not any other kind of exception that might occur there.</p>
<p>you could also check if the key exists before you access it (<code>if 'key' in dct: ...</code>); this is discouraged: the common python coding style prefers <a href="https://docs.python.org/3/glossary.html#term-eafp" rel="nofollow noreferrer">EAFP</a> over <a href="https://docs.python.org/3/glossary.html#term-lbyl" rel="nofollow noreferrer">LBYL</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>One option is to use exceptions. They attempt to run the code in the 'try' section, and if that fails they run the except and continue through the script.</p>
<pre><code>try:
    test_category_list = [info["Test Caps"][0]] 
except Keyerror:
    test_category_list = 'error'
</code></pre>
</div>
<span class="comment-copy">What about <a href="https://docs.python.org/2.7/tutorial/errors.html" rel="nofollow noreferrer"><code>try/except</code></a>? Catch the KeyError and assign your default value</span>
<span class="comment-copy">Check <code>if "Test Caps" in info</code>.</span>
<span class="comment-copy">FWIW, <code>None</code> is the default 2nd arg to <code>.get</code>, so there's no need to specify it explicitly (even though "Explicit is better than implict"). Maybe mention that in your explanation and change your example code to use a more meaningful 2nd arg.</span>
<span class="comment-copy">@PM2Ring right, that was the most stupid choice for the default argument... i wanted to show that you can put stuff there. OP seems to be expecting something sequence-like. will change that.</span>
<span class="comment-copy">This is a great example of why you shouldn't use bare excepts...</span>
<span class="comment-copy">Please change that to <code>except KeyError:</code>. A bare <code>except</code> should <i>only</i> be used at the end of a chain of named <code>except</code>s, and even then it should (generally) re-raise the exception after it's done its special processing.</span>
