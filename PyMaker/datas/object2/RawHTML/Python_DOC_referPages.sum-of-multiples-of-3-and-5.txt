<div class="post-text" itemprop="text">
<p>I have to calculate the sum of all the multiples of 3 and 5 (including themselves) in a range of a given N number (N excluded). I created a python code and it works with N = 10 but doesn't work for N = 100. I don't understand why.</p>
<p>This is the code:</p>
<pre><code>#!/bin/python3
import sys
def multiples_sum(n):
    sum1 = 0
    for i in range(n):
        if i % 3 == 0:
            sum1 = sum1 + i
        if i % 5 == 0:
            sum1 = sum1 + i
    return sum1
t = int(input().strip())
for a0 in range(t):
    n = int(input().strip())
    print(multiples_sum(n))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you are counting the multiples of 15 (= 3 * 5) twice.</p>
<p>your code should be</p>
<pre><code>for i in range(n):
    if i % 3 == 0:
        sum1 += i
    elif i % 5 == 0:
        sum1 += i
</code></pre>
<p>note the <code>elif</code> instead of <code>if</code>.</p>
<p>alternatively:</p>
<pre><code>for i in range(n):
    if i % 3 == 0 or i % 5 == 0:
        sum1 += i
</code></pre>
<p>or directly (as DeepSpace suggests in the comments)</p>
<pre><code>sum1 = sum(i for i in range(n) if 0 in {i % 3, i % 5})
</code></pre>
<hr/>
<p>note that there is no need for looping at all: knowing that the sum of the integers from 1 to (and including) <code>n</code> is</p>
<pre><code>def sum_to(n): 
    return ((n+1)*n)//2
</code></pre>
<p>you can get your number from:</p>
<pre><code>sum1 = 5 * sum_to((n-1)//5) + 3 * sum_to((n-1)//3) - 15 * sum_to((n-1)//15)
</code></pre>
<p>(that could be generalized and made somewhat prettier... but i'm sure you get the idea in this form).</p>
</div>
<div class="post-text" itemprop="text">
<p>EDIT:<br/>
In the meantime I saw @DeepSpace's solution in the comments, particularly the one with the <code>if 0 in {i % 3, i % 5})</code>-check - which I definitely admire; this is really smart!</p>
<hr/>
<p>I think I'd go this way, if you're interested in a different approach:</p>
<pre><code>N = 100
sum(set(list(range(0, N, 3)) + list(range(0, N, 5))))
# 2318
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Because 10 is less than 15, which is the least common multiple of 3 and 5.</p>
<p>You need to treat the particular case of 15.</p>
</div>
<span class="comment-copy">s/alternatively/preferably/</span>
<span class="comment-copy">If you already suggested an alternative solution, how about <code>sum(i for i in range(n) if i % 3 == 0 or i % 5 == 0)</code></span>
<span class="comment-copy">@DeepSpace was thinking about adding that... will do now! thanks.</span>
<span class="comment-copy">@hiroprotagonist or even <code>sum(i for i in range(n) if 0 in {i % 3, i % 5})</code> if you are really brave ;)</span>
<span class="comment-copy">@DeepSpace i am a fan if <code>in set(...)</code> tests!</span>
