<div class="post-text" itemprop="text">
<p>I have a list:</p>
<pre><code>list = [
    {'album': '1', 'artist': 'pedro', 'title': 'Duhast'},
    {'album': '2', 'artist': 'hose', 'title':'Star boy'},
    {'album': '1', 'artist': 'migel', 'title': 'Lemon tree'}
]
</code></pre>
<p>I need to group/sort this list like this :</p>
<pre><code>list = [
    {'album': '1', 
     'tracks': [
        {'artist': 'pedro', 'title': 'Duhast'},
        {'artist': 'migel', 'title': 'Lemon tree'}]
    },
    {'album': '2',
     'tracks':[
        {'artist': 'hose', 'title':'Star boy'}]
    }
]
</code></pre>
<p>More precisely, I need to group tracks by albums. Any ideas to make this easy?</p>
</div>
<div class="post-text" itemprop="text">
<p>1-liner :)</p>
<pre><code>from itertools import groupby

list = [{'album': '1', 'artist': 'pedro', 'title': 'Duhast'}, {'album': '2', 'artist': 'hose', 'title':'Star boy'}, {'album': '1', 'artist': 'migel', 'title': 'Lemon tree'}]

res = [{'album': album, 'tracks': [{'artist': track['artist'], 'title': track['title']} for track in tracks]} for album, tracks in groupby(sorted(list, key=lambda x: x['album']), lambda x: x['album'])]

print(res)
</code></pre>
<p><a href="https://repl.it/HA48/2" rel="nofollow noreferrer">https://repl.it/HA48/2</a></p>
<p>As @Prune mentioned, the <code>groupby</code> function can be used to group a list by a specified key function.  In order for this to work, the list must be sorted by the key.</p>
<p>Personally, I find the above solution a little hard to read... This gives the same result:</p>
<pre><code>from itertools import groupby

list = [{'album': '1', 'artist': 'pedro', 'title': 'Duhast'}, {'album': '2', 'artist': 'hose', 'title':'Star boy'}, {'album': '1', 'artist': 'migel', 'title': 'Lemon tree'}]

res = []
for album, tracks in groupby(sorted(list, key=lambda x: x['album']), lambda x: x['album']):
  res.append({'album': album, 'tracks': [{'artist': track['artist'], 'title': track['title']} for track in tracks]})

print(res)
</code></pre>
<p><a href="https://repl.it/HA48/1" rel="nofollow noreferrer">https://repl.it/HA48/1</a></p>
</div>
<span class="comment-copy">What have you tried that isn't working for you?  We generally expect you to work out some code on your own, before asking for help.</span>
<span class="comment-copy">While you're doing that, look into the <b>groupby</b> function.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer">docs.python.org/3/library/itertools.html#itertools.groupby</a></span>
<span class="comment-copy">Thanks a lot, you are simply the god of programming</span>
