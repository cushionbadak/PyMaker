<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/6777485/modifying-a-python-dict-while-iterating-over-it">Modifying a Python dict while iterating over it</a>
<span class="question-originals-answer-count">
                    8 answers
                </span>
</li>
</ul>
</div>
<p>I'd like to be able to go over a dictionary, calling a function for each entry, while this function might add more entries to the same dictionary. Is it possible to have some sort of iterating method that will allow me to do this AND have the function iterate over the newly added entries at the same for loop?
in example:
I have <code>dict = {"A": 1, "B": 2, "C": 3}</code>
I want to iterate over it with function f. 
Even if calling <code>f(dict["A"])</code> puts a new entry in the dictionary, making it:
<code>{"A": 1, "B":2, "C": 3, "new key": "new value"}</code>, I want the loop to also call <code>f(dict["new key"])</code> at the same iteration.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could create a <a href="https://docs.python.org/3/library/collections.html#collections.deque" rel="nofollow noreferrer"><code>deque</code></a> from the keys in the dictionary, iterate over the queue and add to both, the dictionary and the queue:</p>
<pre><code>import collections

dic = {"A": 1, "B": 2, "C": 3}
deq = collections.deque(dic)

while deq:
    x = deq.pop()
    print(x)
    if x == "B":
        dic["D"] = 4
        deq.append("D")
</code></pre>
</div>
<span class="comment-copy">Welcome to SO! Please edit your question and use the code markup button on top.</span>
