<div class="post-text" itemprop="text">
<p>I'm trying to start a simple dir server on a local network But I am getting this error </p>
<blockquote>
<p>Error response</p>
<p>Error code: 501</p>
<p>Message: Unsupported method ('GET').</p>
<p>Error code explanation: HTTPStatus.NOT_IMPLEMENTED - Server does not
  support this operation.</p>
</blockquote>
<p>This is the example given at <a href="https://docs.python.org/3/library/http.server.html" rel="nofollow noreferrer">https://docs.python.org/3/library/http.server.html</a> If I run it from the command line it works python3 -m http.server. I need to control this server over time so I need to turn it on for a while and turn it off automatically </p>
<pre><code>from http.server import BaseHTTPRequestHandler, HTTPServer




def run(server_class=HTTPServer, handler_class=BaseHTTPRequestHandler):
    server_address = ('0.0.0.0', 8000)
    httpd = server_class(server_address, handler_class)
    httpd.serve_forever()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The answer is in the <a href="https://docs.python.org/3/library/http.server.html" rel="nofollow noreferrer">documentation</a> that you linked to:</p>
<blockquote>
<p>The <code>HTTPServer</code> must be given a <code>RequestHandlerClass</code> on
  instantiation, of which this module provides three different variants:</p>
<p><code>class http.server.BaseHTTPRequestHandler(</code><em><code>request, client_address, server</code></em><code>)</code></p>
<p>This class is used to handle the HTTP requests that arrive at the
  server. <strong>By itself, it cannot respond to any actual HTTP requests; it
  must be subclassed to handle each request method (e.g. <code>GET</code> or
  <code>POST</code>)</strong>. ...</p>
</blockquote>
<p>For your case you should use <a href="https://docs.python.org/3/library/http.server.html#http.server.SimpleHTTPRequestHandler" rel="nofollow noreferrer"><code>http.server.SimpleHTTPRequestHandler</code></a> instead:</p>
<blockquote>
<p><code>class http.server.SimpleHTTPRequestHandler(</code><em><code>request, client_address, server</code></em><code>)</code></p>
<p>This class serves files from the current directory and below, directly
  mapping the directory structure to HTTP requests.</p>
</blockquote>
</div>
