<div class="post-text" itemprop="text">
<p>I have a very simple (I guess ?) question here.</p>
<p>I am working on a code that lets me take data from a txt file and make some calculations on it, and then plot the results.</p>
<p>I've succeeded to build the major part of the code, the only problem here is that the results that I got back after the if loop are not in a form of a list, and the error message is :</p>
<p>TypeError: zip argument #2 must support iteration </p>
<p>So what I am doing wrong ? Thank you for your help.</p>
<p>Here is the code</p>
<pre><code>import math
import matplotlib.pyplot as plt # To import the matplotlib library

def Calcul_Lux(Aperture,Shutter,Speed):
    x=math.pow(Aperture,2)/(Shutter/Speed)
    IL=math.log(x,2)
    lux = math.pow(2,IL) * 2.5
    return lux    

data='/home/stagiaire/Bureau/data0030.txt'
with open(data) as f:
     lines = f.readlines()

for z in lines:
    if z.find("Aperture") &gt;= 0:  
       Aperture=z.split()[-1]
    elif z.find("Shutter Speed") &gt;=0:
        t2=z.split()[-1]
        t3=t2.split("/")
        Shu=t3[0]
        Shutter=float(Shu)
        Spe=t3[1]
        Speed=float(Spe)

tuples = zip(Aperture, Shutter, Speed)
output = map(lambda tup: Calcul_Lux(tup[0], tup[1], tup[2]), tuples)
print(output)

#plt.plot(output, 'ro')# To draw the points from the output
plt.plot(range(len(output)), output, 'ro') 

plt.axhline(y=48000) # la ligne de comparaison 48.000 lux
plt.show()
</code></pre>
<p>The objective is: I have to receive from the loop the Aperture, Shutter, and Speed valeus as it is now but for all the lines of the txt, not only one line. Thank you again for your help.</p>
<p>The txt file can be seen here.</p>
<p>EDIT :</p>
<p>So the problem was that I was not defining empty lists than appending results into them, I edited my initial question so it can help newbies right there. </p>
</div>
<div class="post-text" itemprop="text">
<p>Ok, so as the comments already mention your loop isn't storing any of its values. This means that each time you run the loop, all the variable that are defined inside of it will only keep their associated values within that specific loop. </p>
<p>The trick is to store the data in a list, a dictionary, or some other <a href="https://docs.python.org/3/tutorial/datastructures.html" rel="nofollow noreferrer">Python Data Structures</a>. </p>
<p>Since you mention you want the results stored in a list, I guess you are looking for something like:</p>
<pre><code>aperture_list = []
shutter_list = []
speed_list = [] 
for z in lines:
    if z.find("Aperture") &gt;= 0:  
       aperture_list.append(z.split()[-1])
    elif z.find("Shutter Speed") &gt;=0:
        t2=z.split()[-1]
        t3=t2.split("/")
        Shu=t3[0]
        shutter_list.append(float(Shu))
        Spe=t3[1]
        speed_list.append(float(Spe))
tuples = zip(aperture_list, shutter_list, speed_list)
</code></pre>
</div>
<span class="comment-copy">You are not appending any of your results to a list. So, every iteration of <code>for z in lines:</code> completely overwrites the previous value of <code>Aperture</code>, <code>Shu</code> etc. Append each result of the loop to lists defined before the loop starts.</span>
<span class="comment-copy">Thank you very much !</span>
<span class="comment-copy">You're welcome, if it helped you solve the problem you might consider marking the question as solved :).</span>
