<div class="post-text" itemprop="text">
<pre><code>import paramiko, commands
ssh_client = paramiko.SSHClient()
ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
ssh_client.load_system_host_keys()
ssh_client.connect('xx.xx.x', username='abc', 
key_filename='rsa')

line ="Hello"
stdin, stdout, stderr=ssh_client.exec_command('echo $line')
print stdout.readlines()
</code></pre>
<p>I want to pass the "line" content to echo. But i get 
[u'\n'] as output.</p>
<p>I have also tried echo \$line, echo "$line". But not getting hello as output.</p>
</div>
<div class="post-text" itemprop="text">
<p>The remote shell can't access to your program variables, the command must be composed before its launch.</p>
<pre><code>stdin, stdout, stderr = ssh_client.exec_command('echo "{0}"'.format(line))
</code></pre>
<p>Be aware of safety issues (<strong>Thanks @Tripleee</strong>), in <strong>Python 3</strong> use <a href="https://docs.python.org/3/library/shlex.html#shlex.quote" rel="nofollow noreferrer"><code>shlex.quote</code></a> to increase the robustness of your code:</p>
<pre><code>stdin, stdout, stderr = ssh_client.exec_command('echo {}'.format(quote(line)))
</code></pre>
</div>
<span class="comment-copy">Thanks. that worked!!</span>
<span class="comment-copy">It's still not robust against the value of <code>line</code> containing a double quote or a dollar sign or a backquote, which introduce variable interpolation and command substitution by the shell, respectively.  Single quotes prevent against the latter and work around the former, but then the value cannot contain single quotes.  To be completely robust, you need to use <a href="/questions/35817/how-to-escape-os-system-calls-in-python">something like <code>shlex.quote()</code></a>.</span>
<span class="comment-copy">Very good point @tripleee , thanks ;)</span>
