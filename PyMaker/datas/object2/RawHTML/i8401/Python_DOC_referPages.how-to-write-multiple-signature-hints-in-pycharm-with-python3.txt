<div class="post-text" itemprop="text">
<p>I written a function with an argument on the left, just similar like the built-in <code>range</code> function</p>
<p>The problem is, how to write type hints that can show the two way it should be invoked.</p>
<p>For example, when I type Command+p(Ctrl+p) in <code>range</code> function in PyCharm(range is an object in py3, but it is not the problem):</p>
<pre><code>self:range, stop: int
-------------------------------------------------
self:range, start: int, stop: int, step: int=-1
</code></pre>
<p><img alt="type hints picture of range function" src="https://i.stack.imgur.com/4UqDl.png"/></p>
<p>But for <code>my_range</code>:</p>
<pre><code>def my_range(start: int, stop: int = None, step: int=1):
"""
list_range(stop) 
list_range(start, stop, step)

return list of integers from start (default 0) to stop,
incrementing by step (default 1).

"""
if stop is None:
    start, stop = 0, start
return list(range(start, stop, step))
</code></pre>
<p>after type Command + p , I got:</p>
<pre><code>start: int, stop: Optional[int], step: int=-1
</code></pre>
<p>Does anyone knows how to implement that? Many thanks for any help!</p>
</div>
<div class="post-text" itemprop="text">
<p>Try the <a href="https://docs.python.org/3/library/typing.html" rel="nofollow noreferrer"><code>typing</code></a> module! It's got a lot of helpers to do with type annotations, including <code>typing.Optional</code>. Use it like this:</p>
<pre><code>import typing

def f(required_arg: int, optional_arg:typing.Optional[int]=None):
    # ...
</code></pre>
</div>
<span class="comment-copy">Perhaps try looking into using <a href="http://mypy.readthedocs.io/en/latest/function_overloading.html" rel="nofollow noreferrer">overloads</a>? (Function overloads are a part of PEP 484, which Pycharm understands/is actively working towards conforming towards. The linked docs states that mypy understands the overload annotation only in stubs, but idk if that's up-to-date/if that's also the case for Pycharm). (See <a href="https://github.com/python/typeshed/blob/master/stdlib/3/builtins.pyi#L717" rel="nofollow noreferrer">typeshed</a> if you want to see the exact type annotations the <code>range</code> function/object has).</span>
<span class="comment-copy">It works! Thanks a lot!</span>
