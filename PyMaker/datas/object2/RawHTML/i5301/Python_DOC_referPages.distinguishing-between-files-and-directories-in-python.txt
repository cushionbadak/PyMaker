<div class="post-text" itemprop="text">
<p>I am trying to  get only files in the folder excluding any other directories. but the below script is moving all the files and folders to another directory.</p>
<pre><code>while True:
    # Go through each of the directories
    for mylist in dirlist:
        check_dir = mylist[0]
        callback = mylist[1]

        # get the list of files in the directory
        filelist = os.listdir(check_dir)
        for this_file in filelist:
            if ((this_file == ".") or (this_file == "..") or (this_file == "donecsvfiles") or (this_file == "doneringofiles")):
                print "Skipping self and parent"
                continue

            full_filename = "%s/%s"%(check_dir, this_file)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In <em>os.path</em>, there are helpful <a href="https://docs.python.org/3/library/os.path.html#os.path.isdir" rel="nofollow noreferrer"><em>isdir()</em></a> and <a href="https://docs.python.org/3/library/os.path.html#os.path.isfile" rel="nofollow noreferrer"><em>isfile()</em></a> functions:</p>
<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; import os
&gt;&gt;&gt; os.path.isfile('demo.py')
True
&gt;&gt;&gt; os.path.isdir('demo.py')
False
&gt;&gt;&gt; os.path.isfile('__pycache__')
False
&gt;&gt;&gt; os.path.isdir('__pycache__')
</code></pre>
<p>Also, you can use <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><em>os.walk()</em></a> or <a href="https://docs.python.org/3/library/os.html#os.scandir" rel="nofollow noreferrer"><em>os.scandir()</em></a> to automatically separate the two:</p>
<pre><code>for root, dirs, files in os.walk('python/Lib/email'):
    print('Searching:', root)
    print('All directories', dirs)
    print('All files:', files)
    print('----------------------')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Python 3.5+ offers a generator, which is often more efficient versus list comprehensions and loops. You can either traverse via <code>for i in arr</code>, iterate via <code>next(arr)</code>, or get a full list via <code>list(arr)</code>.</p>
<pre><code>import os

arr = os.scandir('H:\public\python')  # returns a generator
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>you can use <code>isfile</code> from <code>os.path</code> to check whether a path is a file or not. this code gives you a list of files in a folder:</p>
<pre><code>from os.path import isfile, join
from os import listdir

folder = 'path//to//folder'
onlyfiles = [f for f in listdir(folder) if isfile(join(folder, f))]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Taken almost directly from the <a href="https://docs.python.org/3/library/os.html#os.scandir" rel="nofollow noreferrer">docs</a> :</p>
<pre><code>import os

with os.scandir('.') as it:
    for entry in it:
        if entry.is_file():
            print(entry)
</code></pre>
</div>
<span class="comment-copy">Do you also want the files in subdirectories, if any, included in the list?</span>
<span class="comment-copy">no , just the files</span>
