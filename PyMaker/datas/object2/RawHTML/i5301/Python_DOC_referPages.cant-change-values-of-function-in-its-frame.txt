<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/23499042/why-does-modifying-parent-frame-in-python-work-only-for-module-frames">Why does modifying parent frame in Python work only for module frames?</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>In some educational purposes I want to work with function's frame from "inspect" module. I want to change the value of local var outer the function. I get the frame of this function and tried to change its value, but nothing is happened. </p>
<p>Why? Here's the simpled code:</p>
<pre><code>from inspect import getouterframes, currentframe

def foo():
    frame_of_main = getouterframes(currentframe())
    frame_of_main[1][0].f_locals['var'] = 1
    print(frame_of_main[1][0].f_locals['var'])


def main():
    var = 1337
    foo()


main()
</code></pre>
<p>outputs: 1337</p>
<p>As you can see, the value of var in the frame hasn't changed. What's going on?</p>
</div>
<div class="post-text" itemprop="text">
<p>A frame's <code>f_locals</code> is the same dict returned by the <code>locals</code> function inside that frame. The <a href="https://docs.python.org/3/library/functions.html#locals" rel="nofollow noreferrer">warning from the <code>locals</code> docs</a> also applies to <code>f_locals</code>:</p>
<blockquote>
<p><strong>Note:</strong> The contents of this dictionary should not be modified; changes may not affect the values of local and free variables used by
  the interpreter.</p>
</blockquote>
</div>
<span class="comment-copy">Thanks! So, do U know how to change it?</span>
