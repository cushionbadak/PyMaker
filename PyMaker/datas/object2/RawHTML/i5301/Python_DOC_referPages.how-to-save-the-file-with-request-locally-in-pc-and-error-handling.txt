<div class="post-text" itemprop="text">
<p>Currently I am doing as follow, to getting response and save the file locally in my PC-</p>
<pre><code>    response = requests.get(url)
    if response.status_code != status.HTTP_200_OK:
        raise BadRequestError('message')
    return subprocess.call(['wget', url])
</code></pre>
<p>But what I want, to save the response In my PC when <code>response = requests.get(url)</code> with error handling, instead of doing <code>subprocess.call(['wget', url])</code> again. </p>
<p>Any help would be appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Something like this?</p>
<pre><code>import requests
import pickle

response = requests.get('https://stackoverflow.com/questions')

if response: # &lt;- you can be more precise here
    with open('out_file.pickle', 'wb') as f:
        pickle.dump(response, f)
else:
    raise Exception # &lt;- Your exception here
</code></pre>
<p><code>pickle</code> is the defacto serializer in python, but, does have <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">issues</a> </p>
</div>
<div class="post-text" itemprop="text">
<p>you can pickle the response and save it. <code>pickle</code> is used for object serialization before storing it into disk.</p>
<pre><code>import pickle

response = requests.get(url)
if response.status_code != status.HTTP_200_OK:
    raise BadRequestError('message')

else: 
    with open('new.pkl','ab') as f: 
       pickle.dump(d,response)
</code></pre>
<p><code>with open('new.pkl','ab') as f:</code> opens the file in append mode so that all the responses are appended to <code>new.pkl</code>. Otherwise, if opened in <code>'wb'</code> mode will overwrite the file each time you open it</p>
<p>Later to see the output you can do:</p>
<pre><code>with open('new.pkl') as f:
      while 1:
        try:
            response= pickle.load(f)
            print response
        except EOFError:
            break
</code></pre>
<p>The reason to use the above code for unpickling is <a href="https://stackoverflow.com/questions/12761991/how-to-use-append-with-pickle-in-python">this</a> </p>
</div>
