<div class="post-text" itemprop="text">
<p>My CSV file:</p>
<pre class="lang-none prettyprint-override"><code>website, username, password
google.com, test1, lamepass
instagram.com, test2, passlame
</code></pre>
<p>My python script:</p>
<pre><code>with open(database_path) as database:
    csv_read = csv.DictReader(database)
    for card in csv_read:
        print(card['website'])
</code></pre>
<p>Which returns: </p>
<pre class="lang-none prettyprint-override"><code>google.com
instagram.com
</code></pre>
<p>But this code:</p>
<pre><code>with open(database_path) as database:
    csv_read = csv.DictReader(database)
    for card in csv_read:
        print(card['password'])
</code></pre>
<p>Returns:</p>
<pre class="lang-none prettyprint-override"><code>KeyError: 'password'
</code></pre>
<p>I don't understand the issue, and online resources just show examples, none of them explain this problem. They do talk about <code>KeyError</code>s, but they don't seem to address how the CSV file contains the key (<code>'password'</code>), but still returns key error.</p>
<p>Am I doing something wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p>In your csv file, there are spaces between the comma separated values. Remove them and it should work. </p>
<p>Othewise try this:</p>
<pre><code>import csv

with open(database_path) as database:
    csv_read = csv.DictReader(database)

    for card in csv_read:
        print(card[" password"]) # notice the space!!!
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There is an extra space before <code>password</code> (and <code>username</code>):</p>
<pre><code>csv = """website, username, password
google.com, test1, lamepass
instagram.com, test2, passlame"""

with open('file.csv', 'w+') as f:
    f.write(csv)

import csv

with open('file.csv', 'r+') as database:
    csv_read = csv.DictReader(database)
    for card in csv_read:
        print(card)


OrderedDict([('website', 'google.com'), (' username', ' test1'), (' password', ' lamepass')])
OrderedDict([('website', 'instagram.com'), (' username', ' test2'), (' password', ' passlame')])
</code></pre>
<p>You should try to remove the extra spaces from your csv with this: </p>
<pre><code>csv = csv.replace(", ", ",")
</code></pre>
</div>
<span class="comment-copy">You could also add a keyword argument <code>skipinitialspace=True</code> to your <code>csv.DictReader(database)</code> call instead of physically removing the space characters between delimiters in the file. See <a href="https://docs.python.org/3/library/csv.html#csv.Dialect.skipinitialspace" rel="nofollow noreferrer"><code>Dialect.skipinitialspace</code></a> in documentation. Also, if you had added a <code>print(card)</code> to the <code>for</code> loop, you would have seen right away that there was no key in the dictionary displayed equal to <code>'password'</code>.</span>
<span class="comment-copy">@Beejo Here's a trick to keep in mind for these kinds of situations: Reverse the process. E.g. use a DictWriter, output some sample records, look at the result, spot the differences.</span>
<span class="comment-copy">@Beejo sure, also I usually use pandas for manipulating csv files. maybe dictwriter is better for simple tasks</span>
