<div class="post-text" itemprop="text">
<p>I've been trying to simply see if the "networking" service is found in the "ps -A" command. However, getting the error: "TypeError: argument of type 'int' is not iterable". this is my code:</p>
<pre><code>import subprocess
tmp = subprocess.call('ps -A', shell=True, stderr=subprocess.DEVNULL)
if 'networking' in tmp:
    print("networking service is up an running!")
else:
    print("networking service is not up :(")
</code></pre>
<p>Even when using the .decode() at the end of the <code>subprocess.call</code> function =&gt; it says that .decode() isn't supported here...</p>
<p>Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>subprocess.call</code> returns the an integer with <code>0</code> meaning all is fine.</p>
<p>Try <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow noreferrer"><code>subprocess.check_output</code></a>:</p>
<pre><code>import subprocess
p = subprocess.check_output('ps -A', shell=True, stderr=subprocess.DEVNULL)
if b'networking' in p:
    print("networking service is up an running!")
else:
    print("networking service is not up :(")
</code></pre>
</div>
<span class="comment-copy"><i>note:</i>  you may also specify the encoding kwarg, so you don't need the bytestring literal there.   +1</span>
<span class="comment-copy">Yes. Tried this but got a decoding error with <code>utf-8</code> on MacOS X.</span>
<span class="comment-copy">Was a typo. <code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc2 in position 34772: invalid continuation byte</code></span>
<span class="comment-copy">OK. Works with <code>latin1</code>.</span>
<span class="comment-copy">In Python 3, <code>subprocess.call(..., universal_newlines=True)</code> handles encoding issues transparently.  You'll also want to look into switching to <code>subprocess.run()</code> with 3.5+</span>
