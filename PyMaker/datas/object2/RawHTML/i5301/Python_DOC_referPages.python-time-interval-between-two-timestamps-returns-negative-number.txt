<div class="post-text" itemprop="text">
<p>I am trying to get time difference between <code>y</code> and <code>x</code>, it gives me -ve value in milliseconds.</p>
<pre><code>from datetime import datetime
x = '2018-01-28 08:58:10.83'
y = '2018-01-28 08:58:10.144'

x_time = datetime.strptime(x, '%Y-%m-%d %H:%M:%S.%f') # 2018-01-28 08:58:10.830000
y_time = datetime.strptime(y, '%Y-%m-%d %H:%M:%S.%f') # 2018-01-28 08:58:10.144000

diff = y_time - x_time
duration_milliseconds = round(diff.total_seconds() * 1000)
print(duration_milliseconds)  # -686 
</code></pre>
<p>I'm getting <code>-686</code> as result but I expect <code>61</code>. What is gonig wrong here?</p>
</div>
<div class="post-text" itemprop="text">
<p>The value <code>.83</code>is the decimal value of the timestamp <code>2018-01-28 08:58:10.83</code>. This timestamp can also be written as <code>2018-01-28 08:58:10.830</code>, and this value is larger than <code>2018-01-28 08:58:10.144</code>, just like <code>.830</code> is greater than <code>.144</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>from the <a href="https://docs.python.org/3/library/datetime.html" rel="nofollow noreferrer">documentation</a> (emphasis mine):</p>
<blockquote>
<p>%f is an extension to the set of format characters in the C standard (but implemented separately in datetime objects, and therefore always available). When used with the strptime() method, the %f directive accepts from one to six digits and <strong>zero pads on the right</strong>.</p>
</blockquote>
<p>"right" not "left". So <code>.83</code> is seen as <code>.830</code> you need:</p>
<pre><code>x = "2018-01-28 08:58:10.083"
</code></pre>
<p>(<code>%f</code> is supposed to represent a floating point part starting with <code>.</code>, padding is from the right not left: ex: <code>0.1 == 0.10</code>)</p>
</div>
<span class="comment-copy"><code>x = "2018-01-28 08:58:10.083"</code> would work.</span>
<span class="comment-copy">read document, you will get your answer: <a href="https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior" rel="nofollow noreferrer">docs.python.org/2/library/â€¦</a></span>
