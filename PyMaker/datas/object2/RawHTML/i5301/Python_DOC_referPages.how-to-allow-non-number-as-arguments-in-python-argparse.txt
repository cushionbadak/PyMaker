<div class="post-text" itemprop="text">
<pre><code>python test.py --arg -foo -bar
test.py: error: argument --arg: expected at least one argument

python test.py --arg -8
['-8']
</code></pre>
<p>How do I allow -non_number to work with argparse?</p>
<p>Is there a way to disable short arguments?</p>
</div>
<div class="post-text" itemprop="text">
<p>Call it like this:</p>
<pre><code>python test.py --arg='-foo'
</code></pre>
<p>To allow specifying multiple:</p>
<pre><code>parser.add_argument('--arg', action='append')
# call like python test.py --arg=-foo --arg=-bar
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think you're looking for the <code>nargs</code> parameter to argparser.</p>
<pre><code>parser.add_argument('--arg', nargs='?')
</code></pre>
<p>At the moment, <code>--arg</code> is interpreting the value <code>'-8'</code> as the input, whereas it thinks <code>'-f'</code> (with parameters <code>'oo'</code>) is a new argument.</p>
<p>Alternatively, you could use <code>action='store_true'</code>, which will represent the presence or absence of the argument with a boolean.</p>
<pre><code>parser.add_argument('--arg', action='store_true')
</code></pre>
<p><a href="https://docs.python.org/3/library/argparse.html#nargs" rel="nofollow noreferrer">https://docs.python.org/3/library/argparse.html#nargs</a></p>
</div>
<span class="comment-copy">This is the problem of handling an argument that looks like a flag: <a href="https://stackoverflow.com/questions/48322986/python-argparse-passing-argument-to-argument" title="python argparse passing argument to argument">stackoverflow.com/questions/48322986/…</a>; <a href="https://stackoverflow.com/questions/16174992/cant-get-argparse-to-read-quoted-string-with-dashes-in-it" title="cant get argparse to read quoted string with dashes in it">stackoverflow.com/questions/16174992/…</a></span>
<span class="comment-copy">doesn't work for more than 1 arguments though. Edited question to reflect</span>
<span class="comment-copy">@Hec  added another workaround</span>
