<div class="post-text" itemprop="text">
<p>I was editing a blog post and started to type the word <code>property</code> when my autocomplete suggested a completion called <code>new Property</code>, curious as ever I looked it up and found that this was coming from the Python autocomplete package.</p>
<p>I pressed it and this code appeared:</p>
<pre><code>def foo():
  doc = "The  property."

  def fget(self):
    return self._

  def fset(self, value):
    self._ = value

  def fdel(self):
    del self._

  return locals()

 = property(**())
</code></pre>
<p>I typed <code>Grape</code> where the cursor(s) were, so I ended up with this:</p>
<pre><code>def Grape():
  doc = "The Grape property."

  def fget(self):
    return self._Grape

  def fset(self, value):
    self._Grape = value

  def fdel(self):
    del self._Grape

  return locals()

Grape = property(**Grape())
</code></pre>
<p>By looking at the code I can see that it's creating a local variable called <code>doc</code> but doesn't seem to be doing anything with it.</p>
<p>It's also creating three functions, one which returns <code>self._Grape</code> another which adds a new property to <code>self._Grape</code> and one which deletes <code>self._Grape</code>.</p>
<p>Where did <code>self</code> &amp; <code>_Grape</code> come from? Is this a class of some sort, like a <em>"pseudo class"</em>?</p>
<p>Where, why and how are <em>"new Properties"</em> used?</p>
</div>
<div class="post-text" itemprop="text">
<p>Your editor is providing an unusual way to create a property. <a href="https://www.programiz.com/python-programming/property" rel="nofollow noreferrer">Here</a> is some information on properties.</p>
<p>After reading that, you'll realize that there's no need to create the getter and setter within a function. The reason the editor does it this way is to have a scope where to define the names of the getter and setter without needing unique names. IOW, the names are hidden in the function.</p>
<p>So, how are the objects defined in the function (fget, fset, fdel &amp; doc) passed to the property <a href="https://docs.python.org/3/howto/descriptor.html" rel="nofollow noreferrer">descriptor</a>?</p>
<p>Notice the function returns the result of <a href="https://thepythonguru.com/python-builtin-functions/locals/" rel="nofollow noreferrer">locals</a>. So the return value of the function is a <code>dict</code> with the name of the local objects as keys and the local objects as values.</p>
<p>Finally, regarding <code>self</code>, fget, fset and fdel will be executed as if they were methods of the object which has the property so <code>self</code> refers to that object.</p>
</div>
<span class="comment-copy">Which editor did you find this autocompletion in?</span>
<span class="comment-copy">Properties are what are called "descriptors" in Python and the built-in <code>property()</code> function is "a succinct way of building a data descriptor". See the <a href="https://docs.python.org/3/howto/descriptor.html" rel="nofollow noreferrer">Descriptor HowTo Guide</a> in the Python online documentation.</span>
<span class="comment-copy">Thanks for the answer.</span>
