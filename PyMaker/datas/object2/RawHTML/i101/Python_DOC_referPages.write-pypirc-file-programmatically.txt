<div class="post-text" itemprop="text">
<p>Is there some library available to write a <code>~/.pypirc</code> file programmatically?  </p>
<p>Also, what is the formal spec of its format?  All I've found is this section of the docs:</p>
<p><a href="https://docs.python.org/3.3/distutils/packageindex.html#pypirc" rel="nofollow noreferrer">https://docs.python.org/3.3/distutils/packageindex.html#pypirc</a></p>
<p>That leaves out details like what kinds of whitespace are allowable, whether <code>=</code> and <code>:</code> are equivalent or not, and so on.</p>
</div>
<div class="post-text" itemprop="text">
<p>The file is read by <a href="https://github.com/python/cpython/blob/e42b705188271da108de42b55d9344642170aa2b/Lib/distutils/config.py" rel="nofollow noreferrer"><code>distutils/config.py</code></a> using <code>RawConfigParser</code>.</p>
<p>So if you want to write it use the same <code>RawConfigParser</code>. The docs you pointed are the only docs. The rest could be deduced from the code.</p>
</div>
<span class="comment-copy">It's a regular <code>ini</code>-style configuration file, almost certainly parsed using the <code>configparser</code> module by tools written in Python.</span>
<span class="comment-copy">@chepner reference on the internet for that fact?  Otherwise you could write that as an answer and this SO page can be that reference.</span>
<span class="comment-copy">@chepner also, <a href="https://docs.python.org/3/library/configparser.html#customizing-parser-behaviour" rel="nofollow noreferrer">docs.python.org/3/library/â€¦</a> says "There are nearly as many INI format variants as there are applications using it. <code>configparser</code> goes a long way to provide support for the largest sensible set of INI styles available." So even supposing that <code>configparser</code> is being used, it doesn't really tell me what the format allows, or how to write an acceptable one to whatever's going to parse it.</span>
<span class="comment-copy">If it's <code>configparser</code>, then you can use whatever the <code>configparser</code> module says you can use. But to know if <code>configparser</code> <i>is</i> used, you first need to know which tool will actually be <i>reading</i> the file.</span>
<span class="comment-copy">@chepner No, I need to use whatever options <code>distutils</code> is expecting, which AFAICT aren't documented except by example.</span>
