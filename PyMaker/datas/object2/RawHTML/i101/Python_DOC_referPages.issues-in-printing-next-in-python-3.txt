<div class="post-text" itemprop="text">
<p>I'm having a weird issue with the command print(next()) in python 3.</p>
<p>When i use it to print on the console, it works perfectly, but when i try to save the output into a file, it doesn't work!
The commands that i'm using are the following:</p>
<pre><code>for item in final:
    fasta = open(fname) # fname is the name if input file
    for line in fasta:
        line = line.strip()
        if item in line:
            item = item.strip()
            print('Line:', line, '\nNext line:', next(fasta)) # this works perfectly!
            print(line, next(fasta), file=open('finalList.fa', "a")) # this one doesn't work!
</code></pre>
<p>The output that I get from the last command's <strong>next(fasta)</strong> part is the <strong>line+2</strong> instead of <strong>line+1</strong>, like the one I get from the print on console command.</p>
<p>Does anyone has a clue about what is going on? Any tip will be very much appreciated!</p>
<p>Thank you all in advance.</p>
<p>Cordially,</p>
<p>Fernanda Costa</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow noreferrer">Calling <code>next</code> advances the given iterator</a> (<code>fasta</code> in this case). Calling it multiple times will advance it multiple times and cause elements to be skipped. You need to save the return value in a variable if you want to use the data in different places:</p>
<pre><code>if item in line:
    data = next(fasta) # Save it here
    item = item.strip()
    print('Line:', line, '\nNext line:', data) # Then use it multiple times here and below
    print(line, data, file=open('finalList.fa', "a"))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Did you tried to create a variable and pass the value of next(foo) in this variable, and finally print the variable ?</p>
</div>
<div class="post-text" itemprop="text">
<p>I just realized that when you call <strong>next()</strong> command in python 3 it <strong>reads correctly line+1 and when i call it again, it will consider line the next(line) instead of line, so it prints next(next(line) which is line+2!</strong></p>
<p>So i fixed it with just removing the print in the console command line.</p>
<p>Thank you all and sorry about the noob problem!</p>
</div>
<span class="comment-copy">Yes, I just realized that that was the problem!! I never used next() command before! Thanks @Carcigenicate</span>
<span class="comment-copy">Thank you! Sorry for the noob issue</span>
<span class="comment-copy">@FernandaCosta No problem. We all made similar mistakes at one point.</span>
<span class="comment-copy">Hello @Younes, great tip, it works now, thank you!</span>
<span class="comment-copy">No problem, it' s sad that the others, just repeated my solution to gain reputation</span>
<span class="comment-copy">You posted a fairly poorly explained answer that was phrased as a question. It would be disingenuous to say that I "just repeated" your solution when I gave much more detail and had already started writing my answer before you had posted yours.</span>
