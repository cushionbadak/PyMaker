<div class="post-text" itemprop="text">
<p>I am trying to define a class within a class. I am not trying to solve a real world problem with this. I am simply trying to learn Python with this code.</p>
<pre><code>class Foo:
    class Bar:
        def __init__(self):
            self.x = 'Bar'

    def __init__(self):
        self.x = 'Foo'
        self.bar = Bar()

    def print(self):
        print('self.x:', self.x)
        print('self.bar.x:', self.bar.x)

foo = Foo()
foo.print()
</code></pre>
<p>When I try to execute this code, I get this error:</p>
<pre><code>Traceback (most recent call last):
  File "demo.py", line 14, in &lt;module&gt;
    foo = Foo()
  File "demo.py", line 8, in __init__
    self.bar = Bar()
NameError: name 'Bar' is not defined
</code></pre>
<p>What went wrong? When we can define and use functions defined within a function, why not the same for classes? Am I making a mistake in using <code>Bar</code> class?</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>Foo.Bar()</code> instead, because <code>Bar</code> is not a global name.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to access <code>Bar</code> through <code>Foo</code> (<code>Bar</code> is not defined in module level)</p>
<p>Replace following line:</p>
<pre><code>self.bar = Bar()
</code></pre>
<p>with:</p>
<pre><code>self.bar = Foo.Bar()
</code></pre>
<p>or</p>
<pre><code>self.bar = self.Bar()
</code></pre>
<p>According to <a href="http://docs.python.org/3/reference/compound_stmts.html#class-definitions" rel="nofollow">Class definition</a>:</p>
<blockquote>
<p>The
  class’s suite is then executed in a new execution frame (see section
  <a href="http://docs.python.org/3/reference/executionmodel.html#naming" rel="nofollow">Naming and binding</a>), using a newly created local namespace and the
  original global namespace. (Usually, the suite contains only function
  definitions.) <em>When the class’s suite finishes execution, <strong>its execution
  frame is discarded</strong> but its local namespace is saved.</em> A class
  object is then created using the inheritance list for the base classes
  and the saved local namespace for the attribute dictionary. The class
  name is bound to this class object in the original local namespace.</p>
</blockquote>
</div>
