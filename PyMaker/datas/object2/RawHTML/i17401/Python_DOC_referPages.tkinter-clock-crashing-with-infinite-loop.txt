<div class="post-text" itemprop="text">
<p>I'm creating a single <code>StringVar</code> called <code>time_display</code>, which contains a string of the fashion <code>3:14:02</code>, and a single label in the window which should (in theory) reflect updates to said <code>StringVar</code>. However, when I call <code>updateTime</code> to check the time and update it, I crash in an infinite loop. Other adjustments I have made have resulted in no infinite loop but no updating clock either. What am I doing wrong?</p>
<pre><code>from tkinter import *
from tkinter import ttk
import time

root = Tk()
root.title("Clock")

def updateTime(var):
    hours = time.localtime().tm_hour
    if hours == 0:
        hours = 12
    minutes = time.localtime().tm_min
    if minutes &lt; 10:
        minutes = '0' + str(minutes)
    else:
        minutes = str(minutes)
    seconds = time.localtime().tm_sec
    if seconds &lt; 10:
        seconds = '0' + str(seconds)
    else:
        seconds = str(seconds)
    current_time = str(hours) + ':' + minutes + ':' + seconds
    var.set(current_time)
    root.after(500, updateTime(var))

time_display = StringVar()
updateTime(time_display)

ttk.Label(root, textvariable=time_display).grid(column=0, row=0)
root.mainloop()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In following line, the code is calling <code>updateTime</code> directly; causing recursive call.</p>
<pre><code>root.after(500, updateTime(var))
#                         ^   ^
</code></pre>
<hr/>
<p>Pass the function and argument without calling it will solve your problem.</p>
<pre><code>root.after(500, updateTime, var)
</code></pre>
<p>Alternatively you can use <code>lambda</code>:</p>
<pre><code>root.after(500, lambda: updateTime(var))
</code></pre>
<hr/>
<p>BTW, using <a href="http://docs.python.org/3/library/time.html#time.strftime" rel="nofollow"><code>time.strftime</code></a>, <code>updateTime</code> can be reduced:</p>
<pre><code>def updateTime(var):
    var.set(time.strftime('%H:%M:%S'))
    root.after(500, updateTime, var)
</code></pre>
</div>
<span class="comment-copy">OH MY GOD THAT'S SO OBVIOUS. I am new to tkinter, not at all to python or to programming. Such a dumb mistake! Thanks. Although I'm surprised it didn't error on receiving NoneType for an argument....would have been informative and then I would have seen the mistake immediately.</span>
<span class="comment-copy">@Aerovistae, According to <a href="http://effbot.org/tkinterbook/widget.htm#Tkinter.Widget.after-method" rel="nofollow noreferrer"><code>after</code> documentation</a>, <code>None</code> is also a valid argument. (<code>None</code> is default value for <code>callback</code> parameter)</span>
<span class="comment-copy">Ah...that makes so much sense. No wonder.</span>
