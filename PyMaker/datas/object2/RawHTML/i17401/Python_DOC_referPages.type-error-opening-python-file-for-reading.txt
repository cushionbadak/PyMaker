<div class="post-text" itemprop="text">
<p>I'm running into an issue trying to open a text file for reading in Python 3. The code is as follows:</p>
<pre><code>def main():
the_file = input('What is the name of the file?')

open_file = open(the_file,"r","utf8")
open_file.read()
</code></pre>
<p>and then I'm calling the function.</p>
<p>and the error I get is:</p>
<pre><code>Traceback (most recent call last):
  File "/Users/Matthew/Desktop/CaesarCipher.py", line 9, in &lt;module&gt;
    main()
  File "/Users/Matthew/Desktop/CaesarCipher.py", line 7, in main
    open_file = open(encrypted_file,"r","utf8")
TypeError: an integer is required
</code></pre>
<p>It's unclear to me where I am using an incorrect type... can I get some insight as to why this isn't working?</p>
<p>Thank you in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>The 3rd argument to <code>open()</code> is <code>buffering</code>:</p>
<pre><code>open(file, mode='r', buffering=-1, encoding=None,
     errors=None, newline=None, closefd=True, opener=None) -&gt; file object
</code></pre>
<p>Pass the character encoding as a keyword parameter instead:</p>
<pre><code>with open(the_file, encoding="utf-8") as file:
    text = file.read()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This solved the issue:</p>
<pre><code>open_file = open(the_file,"r")
</code></pre>
<p>The <strong>third</strong> parameter is a <a href="http://docs.python.org/3/library/functions.html#open" rel="nofollow">buffer parameter</a>, not a encoding?</p>
<p>So what you could do is:</p>
<pre><code>open_file = open(the_file,"r", 1, 'utf-8') # 1 == line Buffered reading
</code></pre>
<p>Also..<br/>
You should do this instead:</p>
<pre><code>with open(the_file, 'rb') as fh:
    data = fh.read().decode('utf-8')
</code></pre>
<p>or</p>
<pre><code>with open(the_file, 'r', -1, 'utf-8') as fh:
    data = fh.read()
</code></pre>
<p>Cleaner, you get "control" over the decoding and won't end up with open filehandles or wrongful encodings.</p>
</div>
<span class="comment-copy"><code>open()</code> function in Python 2 and Python 3 have different parameters e.g., <code>open()</code> funciton in Python 2 doesn't have <code>encoding</code> parameter. Don't link to Python 2 docs for Python 3 question.</span>
<span class="comment-copy"><code>buffering=1</code> means <i>line</i> buffering (it doesn't merely mean that the buffering is enabled e.g., the default <code>buffering=-1</code> means that the buffer size is equal to <code>io.DEFAULT_BUFFER_SIZE</code>).</span>
<span class="comment-copy">File opened in a text mode <code>'r'</code> yields Unicode strings. It is incorrect to call <code>.decode('utf-8')</code> on them (<code>str</code> object has no attribute 'decode' in Python 3)</span>
<span class="comment-copy">@J.F.Sebastian thank you for the corrections, the link was just a type-o on my behalf.. I knew the third parameter was the same across version and when goggling it i just took the first link.. Should have paid more attention to the version and i'm sorry :) Also yes, <code>.decode()</code> died with Python2 so made some slight modifications to my answer!</span>
