<div class="post-text" itemprop="text">
<p>This code is to search for tweets with a certain keyword and extract the most relevant tweets that matches the set of keywords in my CSV file. </p>
<pre><code>import tweepy
from tweepy.streaming import StreamListener
from tweepy import OAuthHandler
from tweepy import Stream
import pandas as pd
import nltk

def tokened(a):
    return nltk.word_tokenize(a)
i=0
j=0
doc = pd.read_csv('Finder.csv')

#consumer key, consumer secret, access token, access secret.
ckey="nothing"
csecret="nothing"
atoken="nothing"
asecret="nothing"
class listener(StreamListener):

      def on_data(self, status):

              k=(status.text)
              z=tokened(k)
              for txt in z:

                  for txt2 in doc['NEET'][j]:
                      j=j+1
                      if (txt.upper().lower() == 'RT'):
                          break
                      elif (txt.upper().lower() == txt2.upper().lower()):
                            api.update_status("Try", 
in_reply_to_status_id=status.id)
                            print(status.text)



      def on_error(self, status):
            print(status)

auth=OAuthHandler(ckey, csecret)
auth.set_access_token(atoken, asecret)
api = tweepy.API(auth)



twitterStream = Stream(auth, listener())
twitterStream.filter(track=['Neet'])
</code></pre>
<p>I get this error all the time :</p>
<blockquote>
<p>k=(status.text)
  AttributeError: 'str' object has no attribute 'text'</p>
</blockquote>
<p>The main error is in <code>k=(status.text)</code>:</p>
<pre><code>AttributeError: 'str' object has no attribute 'text'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>status</code> is a string in json format, to access its elements you have to decode it with the <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer">json</a> module.</p>
<p>Instead of:</p>
<pre><code>k=(status.text)
</code></pre>
<p>You should do: </p>
<pre><code>k = json.loads(status)['text']
</code></pre>
</div>
<span class="comment-copy">I suggest you republish question to save you secret data. Remove all sensitive information</span>
<span class="comment-copy">Well it tells you what the problem is, no? <code>status</code> is a string, so you can't do <code>status.text</code>. It already is the text</span>
<span class="comment-copy">Thanks man. Now i get this error                                                                   ''for txt2 in doc['NEET'][j]: UnboundLocalError: local variable 'j' referenced before assignment''</span>
<span class="comment-copy">Yeah, you have to give a value to <code>j</code> first, maybe 0. But what do you intend with <code>'for txt2 in doc['NEET'][j]</code>? Because you seem to be changing the iterator inside of it's own loop. The purpose is not clear.</span>
<span class="comment-copy">Yeah, that error is resolved now. I'm getting this now " <b>tweepy.error.TweepError: Expecting length, unexpected value found</b> " . Do you have any idea about this?</span>
<span class="comment-copy">It seems to be a problem in tweepy own implementation. <a href="https://stackoverflow.com/questions/43442616/tweeperror-expecting-length-unexpected-value-found-pandas-jupyter-notebook/44329610#44329610">https://stackoverflow.com/questions/43442616/tweeperror-expecting-length-unexpected-value-found-pandas-jupyter-notebook/44329610#44329610</a></span>
