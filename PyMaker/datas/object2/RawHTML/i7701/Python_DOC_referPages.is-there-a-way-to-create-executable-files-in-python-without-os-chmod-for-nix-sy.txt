<div class="post-text" itemprop="text">
<p>By default <code>open</code> writes files with 666 octal permission: -rw-rw-rw-. I wonder if there's a way to make <code>open</code> creates files with the execution bit set. For instance,  if presumably my system's umask value is 0000 then any file written with <code>open</code> will be written with the permission -rw-rw-rw-: </p>
<pre><code>$ umask 
0000 
</code></pre>
<p><code>&gt;&gt;&gt; open("aaa", "w")</code></p>
<pre><code>$ ls -l aaa
-rw-rw-rw- 1 Kuser Kuser 0 Jun 19 08:44 aaa
</code></pre>
<p>I'm looking for a way to set the default permission value of <code>open</code> to 777 octal so I can write executable files directly without <code>os.chmod</code>. Or generally is there a way to achieve this in Python? Probably using lower-level file processing tools from <code>os</code> module? <code>touch</code> and most editors use 666 octal permission mode by default. </p>
<p>I wasn't able to obtain files with the execution bit set for files created by <code>touch</code> command, <code>touch</code> uses 666 by default.  </p>
<p><em>Note: this just an artificial question.</em> </p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer"><code>open</code></a> accepts an <code>opener</code> argument that returns a file descriptor; <a href="https://docs.python.org/3/library/os.html#os.open" rel="nofollow noreferrer"><code>os.open</code></a> accepts a mode, which defaults to <code>0o777</code>.</p>
<pre><code>import os

with open("aaa", "w", opener=os.open) as f:
    â‹®
</code></pre>
</div>
