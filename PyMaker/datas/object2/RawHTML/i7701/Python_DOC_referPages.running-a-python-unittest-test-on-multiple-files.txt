<div class="post-text" itemprop="text">
<p>I want to add unit testing to the assessment of my high school programming class.  </p>
<p>If I have twenty submissions of files that look like this:</p>
<pre><code>def calculateReturn(principle, rate, freq, time):
final = principle * (1 + (rate/freq)) ** (freq * time)
return final
</code></pre>
<p>Can I use a test case like this?</p>
<pre><code>import unittest

class test(unittest.TestCase):
    def test1(self):
        value = calculateReturn(5000, 0.05, 12, 11)
        self.assertAlmostEqual(value, 8235.05, 2)

if __name__ == '__main__':
    unittest.main()
</code></pre>
<p>How do I run this one simple test on twenty modules?</p>
<p><strong>FURTHER INFORMATION</strong></p>
<p>For testing I have created three "submissions" all of which show different ways of calculating x^y.</p>
<p>submission1.py:</p>
<pre><code>from math import pow

def powerFunction(base, power):
   result = pow(base, power)
   return result
</code></pre>
<p>submission2.py:</p>
<pre><code>def powerFunction(base, power):
    result = base ** power
    return result
</code></pre>
<p>submission3.py:</p>
<pre><code>def powerFunction(base, power):
    result = 1
    for i in range(power):
        result = result * base

    return result
</code></pre>
<p>The test code is:</p>
<pre><code>import unittest
import importlib

class MyTest(unittest.TestCase):
    def setUp(self):
        pass

    def test_power_3_4(self):
        self.assertEqual(module.powerFunction(2, 3), 8)

files = ['submission1', 'submission2', 'submission3']
for file in files:
    module = importlib.import_module(file)
    print module
    unittest.main()
</code></pre>
<p>if the test code is run the console output shows only submission1 being tested:</p>
<pre><code>/System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7
/Users/staff/PycharmProjects/UnitTest/powerTest.py
&lt;module 'submission1' from '/Users/staff/PycharmProjects/UnitTest/
submission1.pyc'&gt;
.
----------------------------------------------------------------------
Ran 1 test in 0.000s

OK

Process finished with exit code 0
</code></pre>
<p>Interestingly if I don't use unit testing I can correctly import and test using this approach:</p>
<pre><code>import importlib

files = ['submission1', 'submission2', 'submission3']

for file in files:
    module = importlib.import_module(file)
    print module
    print module.powerFunction(2,3)
</code></pre>
<p>The console output here is:</p>
<pre><code>/System/Library/Frameworks/Python.framework/Versions/2.7/bin/
python2.7 /Users/staff/PycharmProjects/UnitTest/importlib1.py
&lt;module 'submission1' from '/Users/staff/PycharmProjects/UnitTest/
submission1.pyc'&gt;
8.0
&lt;module 'submission2' from    '/Users/staff/PycharmProjects/UnitTest/
submission2.pyc'&gt;
8
&lt;module 'submission3' from   '/Users/staff/PycharmProjects/UnitTest/
submission3.pyc'&gt;
8

Process finished with exit code 0
</code></pre>
<p>It may well be that the unittest module is not the best approach here but I'm still interested on how to implement it.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/importlib.html" rel="nofollow noreferrer"><code>importlib</code></a> to load Python modules from specific files, then run the test cases on each one.</p>
<p><a href="https://docs.python.org/3/library/glob.html" rel="nofollow noreferrer"><code>glob</code></a> may be helpful to create the list of files.</p>
</div>
<div class="post-text" itemprop="text">
<p>Given that this has been active for a month with no answers I have come the the realisation that it is because I'm asking for the wrong thing.</p>
<p>From what I can gather, unittest is for running a suite of tests on a single application.  It is not designed to run a single test on a suite of applications.</p>
<p>John's suggestion to investigate importlib helped set me on the path to success.  Thanks John.</p>
<p>The code posted in the original post update seems to be the most appropriate solution to my problem.</p>
</div>
<span class="comment-copy">Thanks John.  Can you provide some example code?</span>
<span class="comment-copy">@AndrewH: No, you'll have to try it yourself and ask more specific questions if you get stuck.</span>
<span class="comment-copy">I am stuck.  That's why I posted.  Thanks anyway.</span>
<span class="comment-copy">OK, so have you tried using <code>importlib</code> and <code>glob</code>?  If so please post your code.</span>
