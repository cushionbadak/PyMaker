<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/14836228/is-there-a-standardized-method-to-swap-two-variables-in-python">Is there a standardized method to swap two variables in Python?</a>
<span class="question-originals-answer-count">
                    5 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/21047524/how-does-swapping-of-members-in-the-python-tuples-a-b-b-a-work-internally">How does swapping of members in the python tuples (a,b)=(b,a) work internally?</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I have just started learning python3 and I came across the following line of code :</p>
<pre><code>a = 1
b = 2
a,b = b,a
print(a) #prints 2
print(b) #prints 1
</code></pre>
<p>How is this line <code>a,b = b,a</code> working? Is Python automatically creating some temp variables? And what are the unseen possibilities? I mean, can I do the same for 3 or more variables in one line?</p>
</div>
<div class="post-text" itemprop="text">
<p>disassembling with <a href="https://docs.python.org/3/library/dis.html" rel="noreferrer"><code>dis</code></a>:</p>
<pre><code>from dis import dis

def swap(a, b):
    a, b = b, a
    return a, b

dis(swap)
</code></pre>
<p>gives</p>
<pre><code>  7           0 LOAD_FAST                1 (b)
              3 LOAD_FAST                0 (a)
              6 ROT_TWO
              7 STORE_FAST               0 (a)
             10 STORE_FAST               1 (b)

  8          13 LOAD_FAST                0 (a)
             16 LOAD_FAST                1 (b)
             19 BUILD_TUPLE              2
             22 RETURN_VALUE
</code></pre>
<p>where <a href="https://docs.python.org/3/library/dis.html#opcode-ROT_TWO" rel="noreferrer"><code>ROT_TWO</code></a> means</p>
<blockquote>
<p>Swaps the two top-most stack items.</p>
</blockquote>
<p>python does not need to create a temporary variable.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can also do that with multiple variables but it gets tricky: </p>
<pre><code>&gt;&gt;&gt; a = 1
&gt;&gt;&gt; b = 2
&gt;&gt;&gt; c = 3
&gt;&gt;&gt; a, b, c = c, a, b
&gt;&gt;&gt; c
2
&gt;&gt;&gt; a
3
&gt;&gt;&gt; b
1
&gt;&gt;&gt; 
</code></pre>
<p>This is useful when you want to update some values. For example, if new value of <code>y</code> needs to be incremented by <code>x</code>, and <code>x</code> takes the value of <code>y</code>:</p>
<pre><code>x, y = y, y + x
</code></pre>
</div>
<span class="comment-copy">Yes, its indeed a duplicate.</span>
<span class="comment-copy">This is the same as arguing that C++ swap via temp variable does not require temp variable because the temp will be stored in a register, which is essentially what happens here.</span>
<span class="comment-copy">@LiranFunaro no <i>python</i> variable is created, though. but i kind of agree...</span>
<span class="comment-copy">No, Python does not create temporary variables. It is all done on the stack.</span>
<span class="comment-copy">@MartijnPieters I've deleted that part, didn't realize that. Thank you :)</span>
