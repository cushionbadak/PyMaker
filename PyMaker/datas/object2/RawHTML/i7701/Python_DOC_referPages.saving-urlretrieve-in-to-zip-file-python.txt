<div class="post-text" itemprop="text">
<p>Trying to save a xml file to a into a zip file, but I'm getting an error with the directory. I have the following code:</p>
<pre><code>if not os.path.exists(log_file_path):
    os.makedirs(log_file_path)

for s in xml_list:
    parent_file = zipfile.ZipFile(zip_file_name, "w")
    urllib.urlretrieve(log_repository_url + "/r.xml", zip_file_name + "\\r.xml")
    parent_file.close()
</code></pre>
<p>The error is saying I don't have r.xml in the zip file. Shouldn't this code create the .xml file and write to it? If not, how should I proceed?</p>
<p>Thank you!       </p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p><strong>Question</strong>: The error is saying I don't have r.xml in the zip file.  </p>
</blockquote>
<p>You have to write it to your <code>ZipFile</code>, for instance:  </p>
<pre><code>with ZipFile(zip_file_name, 'w') as myzip:
    local_filename, headers = 
        urllib.request.urlretrieve(log_repository_url + "/r.xml")
    myzip.write(local_filename, arcname="r.xml")
</code></pre>
<blockquote>
<p>Python Â» 3.6.1 Documentation:  </p>
<ul>
<li><a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.urlretrieve" rel="nofollow noreferrer">urllib.request.urlretrieve</a> </li>
<li><a href="https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.write" rel="nofollow noreferrer">zipfile.ZipFile.write</a></li>
</ul>
</blockquote>
</div>
<span class="comment-copy">That's not how archive files actually work, that's only how Explorer fakes them.</span>
