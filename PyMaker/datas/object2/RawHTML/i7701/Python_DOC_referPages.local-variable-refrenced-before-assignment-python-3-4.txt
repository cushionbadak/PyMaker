<div class="post-text" itemprop="text">
<p>I tryed to use i as a variable and I got this
"Local variable 'i' referenced before assignment" error</p>
<p>I added a global command and it still didn't work</p>
<p>(this code has python packages)    </p>
<p>This is the code</p>
<pre><code>i=0

global i
from PIL import ImageGrab
try:
    while True:
        time.sleep(1)
        ImageGrab.grab().save("dones"+str(i)+".png")
        i+=1
except KeyboardInterrupt:
    def t():
        d=open("imagepaths.txt","w")
        while True:
            d.write("dones"+str(i)+".jpg")
            if int(i)==0:
                d.close()
                exit()
            else:
                i-=1
                t()
    t()
</code></pre>
<p>where is the global meant to go?</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to add <code>global i</code> within your <code>def t()</code>:</p>
<pre><code>except KeyboardInterrupt:
    def t():
        global i # &lt;-- here
        d = open("imagepaths.txt","w")
        ...
</code></pre>
<p>The <code>global</code> keyword only applies within a function.</p>
</div>
<div class="post-text" itemprop="text">
<p>You misplaced the global keyword. You should place it inside the local scope.</p>
<pre><code>def t():
   global i
   # next code
</code></pre>
</div>
<span class="comment-copy">Refer to <a href="https://docs.python.org/3/faq/programming.html#why-am-i-getting-an-unboundlocalerror-when-the-variable-has-a-value" rel="nofollow noreferrer">Why am I getting an UnboundLocalError when the variable has a value?</a></span>
