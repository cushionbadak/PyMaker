<div class="post-text" itemprop="text">
<p>I'm working on "Video Downloader" and I have one problem with BeautifulSoup4.</p>
<p>Here is part of html which from I want to get a href:</p>
<pre><code>&lt;script src="/static/common.js?v7"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
            var c = 6;
            window.onload = function() {
                count();
            }

            function closeAd(){
                $("#easy-box").hide();
            }

            function notLogedIn(){
                $("#not-loged-in").html("You need to be logged in to download this movie!");
            }

            function count() {
                if(document.getElementById('countdown') != null){
                    c -= 1;
                    //If the counter is within range we put the seconds remaining to the &lt;span&gt; below 
                    if (c &gt;= 0) 
                        if(c == 0){
                            document.getElementById('countdown').innerHTML = '';
                        }
                        else {
                            document.getElementById('countdown').innerHTML = c; 
                        }
                    else {
                        document.getElementById('download-link').innerHTML = '&lt;a style="text-decoration:none;" href="http://s896.vshare.io/download,9999999999999999999999999999999999999999-f6192405453bf5ff3cfe41a488d8390d,5944ed28,4d948c5.avi"&gt;Click here&lt;/a&gt; to download requested file.';
                        return;
                    }           
                    //setTimeout('count()', 1000);
                }
            }
        &lt;/script&gt;
&lt;script type="text/javascript" src="/static/flowplayer/flowplayer-3.2.13.min.js"&gt;&lt;/script&gt;
</code></pre>
<p>And here is href which I want to print:</p>
<pre><code>href="http://s896.vshare.io/download,9999999999999999999999999999999999999999-f6192405453bf5ff3cfe41a488d8390d,5944ed28,4d948c5.avi"
</code></pre>
<p>I was trying with this, but it's not working.</p>
<pre><code>for a in soup3.find_all('a'):
    if 'href' in a.attrs:
        print(a['href'])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Beautiful Soup can parse HTML and XML, not JavaScript.
You can use regular expression to search this code.<br/>
Using <code>&lt;a [^&gt;]*?(href=\"([^\"&gt;]+)\")</code> you can match everything inside this code which:</p>
<ul>
<li><code>&lt;a</code> - is an <code>a</code> tag</li>
<li><code>[^&gt;]*?</code> - can have any characters that are not <code>&gt;</code> </li>
<li><code>href="</code> - have href</li>
<li><code>[^\"&gt;]+</code> - have any number of characters other than <code>"</code> and <code>&gt;</code></li>
</ul>
<p>To extract script code from html you can use<br/>
<code>script = soup.find('script', {'type': 'text/javascript'})</code><br/>
and then to parse it, use<br/>
<code>re.search(r"&lt;a [^&gt;]*?(href=\"([^\"&gt;]+)\")", script.text)</code><br/>
Remember to <code>import re</code> first.</p>
<pre><code>print(re.search(r"&lt;a [^&gt;]*?(href=\"([^\"&gt;]+)\")", script.text)[1])
# href="http://s896.vshare.io/download,9999999999999999999999999999999999999999-f6192405453bf5ff3cfe41a488d8390d,5944ed28,4d948c5.avi
print(re.search(r"&lt;a [^&gt;]*?(href=\"([^\"&gt;]+)\")", script.text)[2])
# http://s896.vshare.io/download,9999999999999999999999999999999999999999-f6192405453bf5ff3cfe41a488d8390d,5944ed28,4d948c5.avi
</code></pre>
<p>Read about regular expression. If you are going to use pattern often, compile it first.<br/>
<a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html</a></p>
</div>
<span class="comment-copy">The href is inside the javascript. You could grab the js part and extract the href with the help of <a href="https://docs.python.org/3/howto/regex.html" rel="nofollow noreferrer">regex</a>. Have a look at this <a href="https://stackoverflow.com/questions/24333189/parsing-js-with-beautiful-soup">question</a></span>
<span class="comment-copy">Thank you for answer, but I have got an error: <code>print(re.search(r"&lt;a [^&gt;]*?(href=\"([^\"&gt;]+))\"", script.text)[1]) AttributeError: 'NoneType' object has no attribute 'text'</code></span>
<span class="comment-copy">Looks like BS have not found any <code>script</code>. Are you sure you used proper parameters to <code>soup.find()</code> function?</span>
<span class="comment-copy">Now I've got this error <code>print(re.search(r"&lt;a [^&gt;]*?(href=\"([^\"&gt;]+))\"", script.text)[1]) TypeError: 'NoneType' object is not subscriptable</code></span>
<span class="comment-copy">This probably means that regex didn't find anything matching. Are you sure that 'script' contains what regex should match?</span>
<span class="comment-copy">I'm sure. Here is website which from I want to get href: <a href="http://vshare.io/d/4d948c5" rel="nofollow noreferrer">vshare.io/d/4d948c5</a></span>
