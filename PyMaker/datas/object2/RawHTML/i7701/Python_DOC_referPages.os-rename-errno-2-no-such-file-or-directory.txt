<div class="post-text" itemprop="text">
<p>I tried to rename directories in MacOS, even have used codes of others but <code>os.rename</code> still throws me errors, I give the full path of my directories and their new names as <code>path</code>. May someone help to solve this problem? thanks in advance</p>
<pre><code>import os

directory = "/../"
dirs = next(os.walk(directory))[1]
for file in dirs:
    path = os.path.join(directory, file)
    target = os.path.join(directory, '/' + file.replace('.','/'))
    os.rename(path, target)
</code></pre>
<p>with dash </p>
<pre><code>[Errno 2] No such file or directory: '/Users/Kakadu/Desktop/dogs_vs_cel/MsCelebV1/MsCelebV1-Faces/m.01kk_s6' -&gt; '/m/01kk_s6'
</code></pre>
<p>without dash</p>
<pre><code>FileNotFoundError: [Errno 2] No such file or directory: '/Users/Kakadu/Desktop/dogs_vs_cel/MsCelebV1/MsCelebV1-Faces/m.01kk_s6' -&gt; '/Users/Kakadu/Desktop/dogs_vs_cel/MsCelebV1/MsCelebV1-Faces/m/01kk_s6'
</code></pre>
<p>P.S file exists and os.rename works when I do rename the file to the same name </p>
<pre><code> target = os.path.join(directory, file)
 os.rename(path, target)
</code></pre>
<p>And by the way, I'm trying to rename the directories(full of images) inside the directory, maybe something is in here.Btw, when I try just to use os.rename on images ( not on directories full of images  ) it works fine</p>
</div>
<div class="post-text" itemprop="text">
<p>When renaming something to /j/k/l/m/foo, it is important that <a href="https://docs.python.org/3/library/os.html#os.makedirs" rel="nofollow noreferrer">directory m exists</a>. If not, you must mkdir m.</p>
<p>Just before your rename call, do this:</p>
<pre><code>    os.makedirs(os.path.dirname(target), exist_ok=True)
</code></pre>
</div>
<span class="comment-copy">check manually that your file really exists</span>
<span class="comment-copy">Yes, I have done all these things</span>
<span class="comment-copy">add an <code>if</code> to test if they are equal</span>
<span class="comment-copy">case sensitivity issue maybe?</span>
