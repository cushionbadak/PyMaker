<div class="post-text" itemprop="text">
<p>im using a basic piece of python code to query MySQL database.
the code is as follows:</p>
<pre><code>def get_data(self):
      sql = (
        'SELECT data_date, website_name, device, publisher,sum(bid) AS revenue, sum(impressions) AS impressions '
        'FROM header_bidder_data hb  '
        'INNER JOIN websites ON websites.website_id = hb.site_id  '
        'WHERE data_date= "2017-06-13" '
        'GROUP BY data_date, website_name, device, publisher '
      )
      try:
          data = self.db.query(sql)
          return data
      except Exception, e:
          logging.exception(e.message)
          return -1, e.message
</code></pre>
<p>problem is  the order of the selected fields is as i want it to be, starting with <code>data_data,website_name,...</code> BUT, when data stores the result, it rearranges its keys in a different way, completely random to me, and i just can figure out why.
so in the end of this run, <code>data</code> stored the result in the following form:</p>
<pre><code>{'publisher': u'google', 'campaign': u'249374', 'revenue': 4432, 'website_name': u'GGO', 'device': u'mobile', 'impressions': 20.0}
</code></pre>
<p>so instead of data_date to be the first key, publisher suddenly is the first one, on so on.
any idea how can maintain the same order of the query when storing the data, or what causes this issue?? thx</p>
<p><strong>p.s</strong><br/>
im using Tornado as my web server</p>
</div>
<div class="post-text" itemprop="text">
<p>this behaviour is normal, indeed in python dictionnaries are to be treated as <code>an unordered set of key: value pairs</code>
If you want an ordered iterable, you could get a list, tuple, ...
What you can do is to set that your mysql connector module so does not return a dic, or select values by their key names : <code>data['publisher']</code></p>
</div>
<span class="comment-copy">Dictionaries don't guarantee any particular order of their elements.</span>
<span class="comment-copy">Your data are stored in a dictionary. Dictionaries have no defined order. You are the seventh person this week to receive this answer on StackOverflow.</span>
<span class="comment-copy"><a href="https://stackoverflow.com/questions/9001509/how-can-i-sort-a-dictionary-by-key" title="how can i sort a dictionary by key">stackoverflow.com/questions/9001509/…</a>  might help you to understand. What is missing in your question is why you need the keys in a certain order.</span>
<span class="comment-copy">it seems that you need <code>collections.OrderedDict</code> <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" rel="nofollow noreferrer">docs.python.org/3/library/…</a></span>
