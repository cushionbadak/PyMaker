<div class="post-text" itemprop="text">
<p>I have a list of dictionaries eg:</p>
<pre><code>[{'person':'guybrush','job':'pirate'},{'person':'leChuck','job':'pirate'}, {'person':'elaine','job':'governor'}]
</code></pre>
<p>I want to display the people grouped by their jobs. So in the front end, we can select a job and see all of the people that have the selected job.</p>
<p>I have performed such a function before using confusing nested loops and lists.</p>
<p>What do you think is the most efficient way of getting this result?</p>
<pre><code>pirate = ['guybrush','leChuck']
governor = ['elaine']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This is simple using a <a href="http://docs.python.org/library/collections.html#collections.defaultdict" rel="noreferrer"><code>defaultdict</code></a>:</p>
<pre><code>persons_by_jobs = defaultdict(list)
for person in persons:
    persons_by_jobs[person['job']].append(person['person'])
</code></pre>
</div>
<span class="comment-copy">possible duplicate of <a href="http://stackoverflow.com/questions/3749512/python-group-by">Python group by</a></span>
<span class="comment-copy">you are right, it does look like Ive duplicated a question. Sorry!</span>
<span class="comment-copy">What does agile have to do with it?</span>
<span class="comment-copy">Well, rather than creating a previously defined set of lists, let the lists be created dynamically.</span>
<span class="comment-copy">@JackalopeZero: The word agile has a <a href="http://agilemanifesto.org/" rel="nofollow noreferrer">special meaning</a> in the context of software development, hence some people might be confused by the way you used it there.</span>
<span class="comment-copy">just curious @Bj√∂rn Pollex What made you choose this over a groupby operation?</span>
<span class="comment-copy">If you are talking about <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer"><code>itertools.groupby</code></a>, it requires the list to already be sorted by the grouping predicate. This means we'd need two passes over the data, one for sorting, and one for grouping. I think the solution I've presented here is simpler, and likely more efficient.</span>
<span class="comment-copy">what if I also want to sort it, within each job, (let's say descending order, coz here it is ascending by default) say I want to get this result: <code>governor = ['elaine'] pirate = ['leChuck','guybrush']</code></span>
