<div class="post-text" itemprop="text">
<p>I understood that Python pickling is a way to 'store' a Python Object in a way that does respect Object programming - different from an output written in txt file or DB. </p>
<p>Do you have more details or references on the following points:</p>
<ul>
<li>where are pickled objects 'stored'?</li>
<li>why is pickling preserving object representation more than, say, storing in DB?</li>
<li>can I retrieve pickled objects from one Python shell session to another?</li>
<li>do you have significant examples when serialization is useful?</li>
<li>does serialization with pickle imply data 'compression'? </li>
</ul>
<p>In other words, I am looking for a doc on pickling - Python.doc explains how to implement pickle but seems not dive into details about use and necessity of serialization.</p>
</div>
<div class="post-text" itemprop="text">
<p>Pickling is a way to convert a python object (list, dict, etc.) into a character stream. The idea is that this character stream contains all the information necessary to reconstruct the object in another python script.</p>
<p>As for where the pickled information is stored, usually one would do:</p>
<pre><code>with open('filename', 'wb') as f:
    var = {1 : 'a' , 2 : 'b'}
    pickle.dump(var, f)
</code></pre>
<p>That would store the pickled version of our <code>var</code> dict in the 'filename' file. Then, in another script, you could load from this file into a variable and the dictionary would be recreated:</p>
<pre><code>with open('filename','rb') as f:
    var = pickle.load(f)
</code></pre>
<p>Another use for pickling is if you need to transmit this dictionary over a network (perhaps with sockets or something.) You first need to convert it into a character stream, then you can send it over a socket connection.</p>
<p>Also, there is no "compression" to speak of here...it's just a way to convert from one representation (in RAM) to another (in "text").</p>
<p>About.com has a nice introduction of pickling <a href="http://python.about.com/od/pythonstandardlibrary/a/pickle_intro.htm" rel="noreferrer">here</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Pickling is absolutely necessary for distributed and parallel computing.</p>
<p>Say you wanted to do a parallel map-reduce with <code>multiprocessing</code> (or across cluster nodes with <a href="https://pypi.python.org/pypi/pyina" rel="nofollow noreferrer">pyina</a>), then you need to make sure the function you want to have mapped across the parallel resources will pickle.  If it doesn't pickle, you can't send it to the other resources on another process, computer, etc.  Also see <a href="http://nbviewer.ipython.org/5241793" rel="nofollow noreferrer">here</a> for a good example.</p>
<p>To do this, I use <a href="https://pypi.python.org/pypi/dill" rel="nofollow noreferrer">dill</a>, which can serialize almost anything in python. Dill also has <a href="https://github.com/uqfoundation/dill/blob/master/dill/detect.py" rel="nofollow noreferrer">some good tools</a> for helping you understand what is causing your pickling to fail when your code fails.</p>
<p>And, yes, people use picking to save the state of a calculation, or your <a href="http://ipython.org/" rel="nofollow noreferrer">ipython</a> session, or whatever. You can also extend pickle's Pickler and UnPickler to do compression with <code>bz2</code> or <code>gzip</code> if you'd like.</p>
</div>
<div class="post-text" itemprop="text">
<p>I find it to be particularly useful with large and complex custom classes. In a particular example I'm thinking of, "Gathering" the information (from a database) to create the class was already half the battle. Then that information stored in the class might be altered at runtime by the user.</p>
<p>You could have another group of tables in the database and write another function to go through everything stored and write it to the new database tables. Then you would need to write another function to be able to load something saved by reading all of that info back in.</p>
<p>Alternatively, you could pickle the whole class as is and then store that to a single field in the database. Then when you go to load it back, it will all load back in at once as it was before. This can end up saving a lot of time and code when saving and retrieving complicated classes.</p>
</div>
<div class="post-text" itemprop="text">
<p>it is kind of serialization. use cPickle it is much faster than pickle.</p>
<pre><code>import pickle
##make Pickle File
with open('pickles/corups.pickle', 'wb') as handle:
    pickle.dump(corpus, handle)

#read pickle file
with open('pickles/corups.pickle', 'rb') as handle:
    corpus = pickle.load(handle)
</code></pre>
</div>
<span class="comment-copy">To save state for later restoration or to share/copy an object to a different python runtime would be my guess.</span>
<span class="comment-copy">Many of your questions are answered by Wikipedia's article on serialization: <a href="http://en.wikipedia.org/wiki/Serialization" rel="nofollow noreferrer">en.wikipedia.org/wiki/Serialization</a></span>
<span class="comment-copy">are you asking for <i>why would I need Pickle for serialization in Python?</i> or rather <i>what is (the purpose of) serialization after all?</i>.</span>
<span class="comment-copy">Maybe good to mention the security issues with pickle. Examples can be found in the <a href="https://docs.python.org/3/library/pickle.html#restricting-globals" rel="nofollow noreferrer">docs</a>, and in numerous SO questions, like <a href="https://stackoverflow.com/q/25353753">this one</a>.</span>
<span class="comment-copy">usually one would do <code>with open('filename') as f: ...</code></span>
<span class="comment-copy">ah yes...that's more error resistant. Thanks.</span>
<span class="comment-copy">Also, you would need to do <code>with open(filename, 'wb') as f: ...</code> or you wouldn't be able to write to the file.</span>
<span class="comment-copy">Thanks!! This one on Python persistence management is nice, <a href="http://www.ibm.com/developerworks/library/l-pypers/index.html" rel="nofollow noreferrer">here</a></span>
<span class="comment-copy">In general it is not a very good idea to use <code>pickle</code> to transmit a dictionary over a network (json could be better here). Though in rare cases it might be useful e.g., <code>multiprocessing</code> module.</span>
