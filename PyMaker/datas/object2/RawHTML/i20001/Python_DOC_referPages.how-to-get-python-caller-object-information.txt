<div class="post-text" itemprop="text">
<p>How can I fetch the caller object from within a function, and inspect information about that caller?</p>
<pre class="lang-python prettyprint-override"><code>class A(object):
    def class_A_fun(self):
            print 'caller from class'  # → B
            print 'caller from method'  # → class_B_fun
            print 'caller module'  # → foomodule
            print 'caller instance'  # → obj
            print 'caller object file name or path'  # → 'foomodule.py'

class B(object):
    def class_B_fun(self):    
        obj = A()
        obj.class_A_fun()        

if __name__ == "__main__":
    obj = B()
    obj.class_B_fun()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Not all of those are possible, but most are available by inspecting the call stack:</p>
<pre class="lang-python prettyprint-override"><code>import sys
import inspect

__metaclass__ = type

class Lorem:
    def ipsum(self):
        caller_frame = sys._getframe(1)
        caller_frameinfo = inspect.getframeinfo(caller_frame)
        print("Caller is in module {module!r}".format(
                module=inspect.getmodule(caller_frame)))
        print("Caller is defined in {path!r}, line {lineno}".format(
                path=inspect.getsourcefile(caller_frame),
                lineno=caller_frameinfo.lineno))

class Dolor:
    def sit_amet(self):
        lorem = Lorem()
        lorem.ipsum()
</code></pre>
<p>For more information, see the <a href="https://docs.python.org/3/library/inspect.html" rel="nofollow">documentation for the <code>inspect</code> module</a>.</p>
</div>
<span class="comment-copy">Maybe <a href="http://stefaanlippens.net/python_inspect" rel="nofollow noreferrer">this</a> is helpful. Google 'python get caller' turns up some nice results.</span>
<span class="comment-copy">What are you trying to do? It's usually not a good idea to do this.</span>
<span class="comment-copy">@phant0m i am trying to develop customized logger Framework,which fetch the object information as shown above.</span>
