<div class="post-text" itemprop="text">
<p>I'm trying to understand how functions work and have a basic question.  I'm trying to figure out how to set a variable into the function and don't know how.  Probably easier for me to show my code:</p>
<p>I have a bit of code that unzips a file</p>
<pre><code>fh = open(fn, 'rb')
z = zipfile.ZipFile(fh)
for name in z.namelist():
    z.extract(name, outpath)
fh.close()
</code></pre>
<p>I can put this into a function by defining it as:</p>
<pre><code>def extract_zip():
    fh = open(fn, 'rb')
    z = zipfile.ZipFile(fh)
    for name in z.namelist():
        z.extract(name, outpath)
    fh.close()
</code></pre>
<p>And then I can call it by typing:</p>
<pre><code>extract_zip()
</code></pre>
<p>But the purpose of putting this into a function is so I can use it over and over again.  But when I use it a 2nd or 3rd time, the variable name won't be 'fn' but rather another variable name defined later. </p>
<p>How can i write this function but define 'fn' as a variable and then call it later by typing </p>
<pre><code>extract_zip(2nd_filename)
</code></pre>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>This is as simple as puting <code>fn</code> as argument of your function</p>
<pre><code>def extract_zip(fn):
    fh = open(fn, 'rb')
    z = zipfile.ZipFile(fh)
    for name in z.namelist():
        z.extract(name, outpath)
    fh.close()
</code></pre>
<p>Sometime, you may also want to use a default name</p>
<pre><code>def extract_zip(fn="default_name.extension"):
    #...
</code></pre>
<p>Furthermore, note that your file name can be a full file name, which means that it can include the path to the file you want to read. For example, if your project layout is </p>
<pre><code>your_working_direcory/
    your_script.py
    folder1/
        folder2/
            file_to_read.extension
</code></pre>
<p>you would have to define the full name of the file you want to read as</p>
<pre><code>yourFullFileName = os.path.join(
                       os.path.dirname(__file__),# __file__ is the full name of your working script, 
                      'folder1', 
                      'folder2', 
                      'file_to_read.extension'
                   )
</code></pre>
<p>which ensures the portability of your script (you don't have to worry about the operating-system dependant separator, mainly). Then you would use your function like so</p>
<pre><code>extract_zip(fn=yourFullFileName)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>def extract_zip(name_of_file):
    fh = open(name_of_file, 'rb')
    z = zipfile.ZipFile(fh)
    for name in z.namelist():
        z.extract(name, outpath)
    fh.close()
</code></pre>
<p>The above allows you to set the name of the file as <code>name_of_file='my filename'</code></p>
</div>
<div class="post-text" itemprop="text">
<p>To be able to reuse functions, you have to make the variable elements arguments to the function, e.g.:</p>
<pre><code>def extract_zip(filename, outpath):
    with zipfile.ZipFile(filename) as z:
        z.extractall(outpath)
        return z.namelist()
</code></pre>
<p>The <code>return</code> returns alls the names of the archive objects, so that you can keep track of the items extracted.</p>
<pre><code>files = {}
files[(filename, outpath)] = extract_zip('my.zip', 'output')
</code></pre>
</div>
<span class="comment-copy">You need to define an argument to the function <code>def extract_zip(fn):</code> where <code>fn</code> is the filename you pass to the function. Then you can use it as you describe, e.g. <code>extract_zip('my_file.zip')</code></span>
<span class="comment-copy">Below comment says I may want to try an array...    And I have no source, except hours of trial and error, stackoverflow examples, questions, and our friend Google.  I have my python book here, but the section on Functions just isn't written in a way that I find applicable or understandable for my particular needs.</span>
<span class="comment-copy">Have you read <a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions" rel="nofollow noreferrer">The Tutorial</a> and practiced the examples??</span>
<span class="comment-copy">I'm confused on this, and I apologize that this is a basic question.  fn is defined earlier as filename.  But, if fn is another .zip, then I want to extract the file again.  I still want to track the original fn name.  So in one case I may want extract_zip(fn), but in another case I may want extract_zip(2nd), or extract_zip(3rd).  All while keeping track of the individual filenames as they are extracted.</span>
