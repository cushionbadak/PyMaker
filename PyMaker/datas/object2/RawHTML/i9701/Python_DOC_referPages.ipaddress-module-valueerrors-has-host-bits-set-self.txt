<div class="post-text" itemprop="text">
<p>I am trying to list valid hosts for given network range via Python3, <code>ipaddress</code> module but I am getting ValueError <code>ValueError('%s has host bits set' % self)</code>
while trying to list all valid hosts.</p>
<pre><code>&gt;&gt;&gt; ip_range=input("Enter IP Range:")
Enter IP Range:192.168.56.101/16
&gt;&gt;&gt; list(ipa.ip_network(ip_range).hosts())
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/usr/local/lib/python3.5/ipaddress.py", line 74, in ip_network
    return IPv4Network(address, strict)
  File "/usr/local/lib/python3.5/ipaddress.py", line 1536, in __init__
    raise ValueError('%s has host bits set' % self)
ValueError: 192.168.56.101/16 has host bits set
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As stated in <a href="https://docs.python.org/dev/library/ipaddress.html#ipaddress.ip_network" rel="noreferrer">documentation</a>:</p>
<blockquote>
<p>A ValueError is raised if address does not represent a valid IPv4 or
  IPv6 address, or <strong>if the network has host bits set.</strong></p>
</blockquote>
<p>The number after slash(16 in your case) means, number of bits reserved for <a href="http://wiki.linuxquestions.org/wiki/Subnet" rel="noreferrer">subnet</a>, so last 16 bits are your host bits. This method requires those bits as 0 (unset).</p>
</div>
<div class="post-text" itemprop="text">
<p>You have another option.
From the <a href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network" rel="noreferrer">document</a> mentioned above, we can see that:</p>
<blockquote>
<p>If strict is True and host bits are set in the supplied address, then
  ValueError is raised. Otherwise, the host bits are masked out to
  determine the appropriate network address.</p>
</blockquote>
<p>So, please try following again.</p>
<pre><code>ip_range = '192.168.56.101/16'
list(ipaddress.ip_network(ip_range, False).hosts())
</code></pre>
</div>
<span class="comment-copy">Not sure if this should be a comment, or an answer, or possibly better a link to decent documentation. IP addresses have two parts, "network part" and "host part". The network part comes first, and the host part comes second. The number after the <code>/</code> indicates how many of the bits are "the network part". That's, essentially, the part used for routing. The host part is for finding a host, once you've found the network.</span>
<span class="comment-copy">so you mean I have to enter network range as 192.168.56.101/0 ? I am not good with network concepts.</span>
<span class="comment-copy"><code>192.168.0.0/16</code> is what you want most likely.</span>
<span class="comment-copy">Ok thank you.  I will try</span>
