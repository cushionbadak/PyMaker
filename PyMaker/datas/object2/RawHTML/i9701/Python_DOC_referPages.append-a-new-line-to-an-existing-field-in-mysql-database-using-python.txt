<div class="post-text" itemprop="text">
<p>I'm using Python to works with MySQL database. I want to append some new line to an existing field in database. How can I do that in Python :</p>
<pre><code>cmd = 'UPDATE table SET field= CONCAT(field,'\r\nThis is new line')'
</code></pre>
<p>This command got some errors with backlash and quote characters in either Python or MySQL.
Any suggestion for me? Thanks a lot!</p>
</div>
<div class="post-text" itemprop="text">
<p>String escaping can be a little confusing when you're inlining SQL strings within Python.  However, since Python supports both full quotes as well as single ticks for declaring strings, you can correctly-escape the SQL statement via using outer quotes:</p>
<pre><code>cmd = "UPDATE table SET field= CONCAT(field,'\r\nThis is new line')"
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>try <a href="https://docs.python.org/3/tutorial/introduction.html#strings" rel="nofollow noreferrer">triple quote</a>:</p>
<pre><code>cmd = """UPDATE table SET field= CONCAT(field,'\r\nThis is new line')"""
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Starting from pandas 0.14, you have to provide directly the sqlalchemy engine, and not the connection object:</p>
<pre><code>from sqlalchemy import create_engine
engine = create_engine("mysql+mysqldb://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;[:
&lt;port&gt;]/&lt;dbname&gt;")
combined.to_sql("cps_raw.cps_basic_tabulation", engine, if_exists='append')
</code></pre>
</div>
