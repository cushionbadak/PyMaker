<div class="post-text" itemprop="text">
<p>Given a database connection string structure (such like one you can find <a href="http://web2py.com/books/default/chapter/29/06/the-database-abstraction-layer#Connection-strings--the-uri-parameter-" rel="nofollow noreferrer">here</a>) what's the best way to parse a real URI string and get their component like user, password, database name and host?</p>
<p>Thank you very much</p>
</div>
<div class="post-text" itemprop="text">
<p>There is a Python library for that:</p>
<ul>
<li>python 2: <a href="https://docs.python.org/2.7/library/urlparse.html?highlight=urlparse#urlparse.urlparse" rel="nofollow noreferrer">urlparse</a></li>
<li>python 3: <a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow noreferrer">urllib.parse</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>For python 2 you can use <a href="https://docs.python.org/2.7/library/urlparse.html?highlight=urlparse#urlparse.urlparse" rel="nofollow noreferrer"><code>urlparse</code></a>:</p>
<pre class="lang-python prettyprint-override"><code>from urlparse import urlparse

r = urlparse('mysql://alex:pwd@localhost/test')
print(r.username)
# 'alex'
print(r.password)
# 'pwd'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>A regular expression (depending on the specific syntax)!?</p>
<p>For example:</p>
<pre class="lang-py prettyprint-override"><code>m = re.match('mysql://(.*?):(.*?)@(.*?)/(.*)', url)
</code></pre>
<p>is supposed to give you user, password, host and database in the groups 1 to 4:</p>
<pre class="lang-py prettyprint-override"><code>print(m.groups())
</code></pre>
<p>Or in one line:
</p>
<pre><code>user, password, host, database = re.match('mysql://(.*?):(.*?)@(.*?)/(.*)', url).groups()
</code></pre>
</div>
<span class="comment-copy"><a href="https://docs.python.org/2.7/library/urlparse.html?highlight=urlparse#urlparse.urlparse" rel="nofollow noreferrer">urlparse</a> for Python 2</span>
<span class="comment-copy">@RobinKoch, if you don't mind â€” I will add this link to the answer</span>
<span class="comment-copy">that case, when accepted answer is not the best one;)</span>
