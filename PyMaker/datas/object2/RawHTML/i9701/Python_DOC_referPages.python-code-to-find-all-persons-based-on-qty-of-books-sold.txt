<div class="post-text" itemprop="text">
<blockquote>
<p>Hi, i got stuck with the below code, while I was trying to find solution for the question:
  Find all persons based on quantity of books sold.</p>
<p>below is the content of the file 1711.txt</p>
</blockquote>
<ul>
<li>david book 05 walmart</li>
<li>emily book 10 kroger</li>
<li>jason food 11 target</li>
<li>david food 20 kroger</li>
<li>eva cloth 13 target</li>
<li>david book 5 walmart</li>
</ul>
<p><strong>the output should be something like : david sold 10 books to walmart</strong></p>
<ul>
<li><p><strong>eva sold 13 cloths to target</strong></p></li>
<li><p><strong>david sold 20 food to kroger</strong></p></li>
</ul>
<p><em>below is the code that I wrote, please assist me to with the correct code to display the correct result,
Thanks!</em></p>
<pre><code>d={}
p={}
q={}

with open("1711.txt","r") as f:
    for line in f:
        a=line.split()
        l,m,n,o=str(a[0]), str(a[1]), int(a[2]), str(a[3])
        d.setdefault(l,[]).append(n)
        p.setdefault(m,[]).append(n)
        q.setdefault(o,[]).append(n)

    d=dict((key,sum(val)) for key,val in d.items())
    print (d)
    print("----------------------")
    p=dict((keys,sum(values)) for keys,values in p.items())
    print (p)
    print("--------------------")

    q=dict((keeys,sum(valu)) for keeys,valu in q.items())
    print (q)
    print("----------------------------")

    for k, v in d.items():
        print("number of itmes sold by {} is {}".format(k,v))
    print("------------------------------")

    for k, v in q.items():
        print("number of itmes in {} is {}".format(k,v))
    print("------------------------------")

    for k, v in p.items():
        print("total number of {} sold is {}".format(k,v))
    print("------------------------------")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Sounds like you want some nested dictionaries. The top level one should have keys that are all the names, and the values should be another dictionary.</p>
<p>Those dictionaries should have keys of the items, and the value should be another dictionary.</p>
<p>Finally, those dictionaries should have keys that have the store, and the values should be the number that have been sold to that store.</p>
<p>So then if you go: sales_dict["david"]["book"]["target"] it will spit out 10 for you.</p>
<p>edit: 
Here's the gist of creating the dictionary. I think you should probably refer to <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/datastructures.html#dictionaries</a> if you are still having issues.</p>
<pre><code>d = {}
for line in f:
      a=line.split()
      l,m,n,o=str(a[0]), str(a[1]), int(a[2]), str(a[3])
      if l not in d:
            d[l] = {}
      if m not in d[l]:
            d[l][m] = {}
      if n not in d[l][m]:
            d[l][m][n] = 0
      d[l][m][n] += int(o)
</code></pre>
</div>
<span class="comment-copy">If you are allowed to use an external library then you can do this in pandas in few steps I guess.</span>
<span class="comment-copy">can someone help me to modify the code to print the correct output</span>
