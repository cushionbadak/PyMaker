<div class="post-text" itemprop="text">
<p>I want to extract URL from web page HTML source.<br/>
Example:</p>
<pre><code>xyz.com source code:
&lt;a rel="nofollow" href="example/hello/get/9f676bac2bb3.zip"&gt;Download XYZ&lt;/a&gt;
</code></pre>
<p>I want to extract:</p>
<pre><code>example/hello/get/9f676bac2bb3.zip
</code></pre>
<p>How to extract this URL?</p>
<p>I don't understand regex. Also I don't know how to install <code>Beautiful Soup 4</code> or <code>lxml</code> on Windows. I'm getting errors when I try to install this libraries.</p>
<p>I've tried:</p>
<pre><code>C:\Users\admin\Desktop&gt;python
Python 3.3.2 (v3.3.2:d047928ae3f6, May 16 2013, 00:03:43) [MSC v.1600 32 bit (In
tel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import re
&gt;&gt;&gt; url = '&lt;a rel="nofollow" href="/example/hello/get/9f676bac2bb3.zip"&gt;XYZ&lt;/a&gt;'
&gt;&gt;&gt; r = re.compile('(?&lt;=href=").*?(?=")')
&gt;&gt;&gt; r.findall(url)
['/example/hello/get/9f676bac2bb3.zip']
&gt;&gt;&gt; url
'&lt;a rel="nofollow" href="/example/hello/get/9f676bac2bb3.zip"&gt;Download XYZ&lt;/a&gt;'
&gt;&gt;&gt; r.findall(url)[0]
'/example/hello/get/9f676bac2bb3.zip'
&gt;&gt;&gt; a = "https://xyz.com"
&gt;&gt;&gt; print(a + r.findall(url)[0])
https://xyz.com/example/hello/get/9f676bac2bb3.zip
&gt;&gt;&gt;
</code></pre>
<p>But just it's a hardcoded HTML sample. How to get the web page source and run my code against it?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use built-in <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow"><code>xml.etree.ElementTree</code></a> instead:</p>
<pre><code>&gt;&gt;&gt; import xml.etree.ElementTree as ET
&gt;&gt;&gt; url = '&lt;a rel="nofollow" href="/example/hello/get/9f676bac2bb3.zip"&gt;XYZ&lt;/a&gt;'
&gt;&gt;&gt; ET.fromstring(url).attrib.get('href')
'/example/hello/get/9f676bac2bb3.zip'
</code></pre>
<p>This works on this particular example, but <code>xml.etree.ElementTree</code> is not an HTML parser. Consider using <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="nofollow"><code>BeautifulSoup</code></a>:</p>
<pre><code>&gt;&gt;&gt; from bs4 import BeautifulSoup
&gt;&gt;&gt; BeautifulSoup(url).a.get('href')
'/example/hello/get/9f676bac2bb3.zip'
</code></pre>
<p>Or, <a href="http://lxml.de/lxmlhtml.html" rel="nofollow"><code>lxml.html</code></a>:</p>
<pre><code>&gt;&gt;&gt; import lxml.html
&gt;&gt;&gt; lxml.html.fromstring(url).attrib.get('href')
'/example/hello/get/9f676bac2bb3.zip'
</code></pre>
<p>Personally, I prefer <code>BeautifulSoup</code> - it makes html-parsing easy, transparent and fun.</p>
<hr/>
<p>To follow the link and download the file, you need to make a full url including the schema and domain (<a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urljoin" rel="nofollow"><code>urljoin()</code></a> would help) and then use <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.urlretrieve" rel="nofollow"><code>urlretrieve()</code></a>. Example:</p>
<pre><code>&gt;&gt;&gt; BASE_URL = 'http://example.com'
&gt;&gt;&gt; from urllib.parse import urljoin
&gt;&gt;&gt; from urllib.request import urlretrieve
&gt;&gt;&gt; href = BeautifulSoup(url).a.get('href')
&gt;&gt;&gt; urlretrieve(urljoin(BASE_URL, href))
</code></pre>
<hr/>
<p>UPD (for the different html posted in comments):</p>
<pre><code>&gt;&gt;&gt; from bs4 import BeautifulSoup
&gt;&gt;&gt; data = '&lt;html&gt; &lt;head&gt; &lt;body&gt;&lt;example&gt;&lt;example2&gt; &lt;a rel="nofollow" href="/example/hello/get/9f676bac2bb3.zip"&gt;XYZ&lt;/a&gt; &lt;/example2&gt;&lt;/example&gt;&lt;/body&gt;&lt;/head&gt;&lt;/html&gt;'
&gt;&gt;&gt; href = BeautifulSoup(data).find('a', text='XYZ').get('href')
'/example/hello/get/9f676bac2bb3.zip'
</code></pre>
</div>
<span class="comment-copy">Please explain, what errors you're getting during installation of BS4 or lxml.</span>
<span class="comment-copy">ok. this run. thanks. how to find this code from webpage?  <code>&lt;a rel="nofollow" &lt;href="/example/hello/get/9f676bac2bb3.zip"&gt;XYZ&lt;/a&gt;</code>  Example:  <code>&lt;html&gt; &lt;head&gt; &lt;body&gt;&lt;example&gt;&lt;example2&gt; &lt;a rel="nofollow" &lt;href="/example/hello/get/9f676bac2bb3.zip"&gt;XYZ&lt;/a&gt; &lt;/example2&gt;&lt;/example&gt;&lt;/body&gt;&lt;/head&gt;&lt;/html&gt;</code>  UI = User Input CG = Automatic Changeable for file ST = STATIC (get)  /UI/UI/ST/CG.zip  Sorry for my bad english</span>
