<div class="post-text" itemprop="text">
<p>I have either of these codes:</p>
<pre><code>import urllib
from xml.dom import minidom
res = urllib.urlopen('https://www.google.com/webhp#q=apple&amp;start=10')
dom = minidom.parse(res)
</code></pre>
<p>which gives me the error <code>xml.parsers.expat.ExpatError: syntax error: line 1, column 0</code></p>
<p>Or this:</p>
<pre><code>import urllib
from xml.dom import minidom
res = urllib.urlopen('https://www.google.com/webhp#q=apple&amp;start=10')
dom = minidom.parseString(res.read())
</code></pre>
<p>which gives me the same error. <code>res.read()</code> reads fine and is a string.</p>
<p>I would like to parse through the code later. How can I do this using <code>xml.dom.minidom</code>?</p>
</div>
<div class="post-text" itemprop="text">
<p>The reason you're getting this error is that the page isn't valid XML. It's HTML 5. The <code>doctype</code> right at the top tells you this, even if you ignore the content type. You can't parse HTML with an XML parser.*</p>
<p>If you want to stick with what's in the stdlib, you can use <a href="https://docs.python.org/3/library/html.parser.html" rel="nofollow"><code>html.parser</code></a> (Python 3.x) / <a href="https://docs.python.org/2.7/library/htmlparser.html" rel="nofollow"><code>HTMLParser</code></a> (2.x).** However, you may want to consider third-party libraries like <code>lxml</code> (which, despite the name, can parse HTML), <code>html5lib</code>, or <code>BeautifulSoup</code> (which wraps up a lower-level parser in a really nice interface).</p>
<p>* Well, unless it's XHTML, or the XML output of HTML5, but that's not the case here.</p>
<p>** Do not use <code>htmllib</code> unless you're using an old version of Python without a working <code>HTMLParser</code>. This module is deprecated for a reason.</p>
</div>
<span class="comment-copy">Is using <code>xml.dom.minidom</code> a requirement, or you are open to using other modules? Believe me, you should make a switch :)</span>
<span class="comment-copy">The documentation for <code>xml.dom.minidom</code> does everything I need to do. I prefer to use the standard libraries unless it's really necessary to do otherwise. I saw a bunch of recommendations for <code>BeautifulSoup</code>, but I have no use for it if <code>xml.dom.minidom</code> works fine.</span>
<span class="comment-copy">To parse web pages, you should use a HTML parser rather than an XML parser.</span>
<span class="comment-copy">@pts Good suggestion, I will try <code>HTMLParser</code></span>
<span class="comment-copy">@JVE999 there are a lot of <code>BeautifulSoup</code> recommendations just because it really makes html-parsing easy and intuitive. It would save you time and make web-scraping fun.</span>
<span class="comment-copy">Here's a SO answer describing parsing HTML with <code>HTMLParser</code> for reference: <a href="http://stackoverflow.com/questions/3276040/how-can-i-use-the-python-htmlparser-library-to-extract-data-from-a-specific-div" title="how can i use the python htmlparser library to extract data from a specific div">stackoverflow.com/questions/3276040/â€¦</a></span>
