<div class="post-text" itemprop="text">
<p>I want to stop an external module to flood my logging file, like in this question:
<a href="https://stackoverflow.com/questions/5326012/disable-logging-for-a-particular-package">Disable logging for a particular package</a>
The config file inspired by the answer is below. I use python3.2</p>
<p>My problem is, it does not work: the line 'handlers=nullHandler' raises this:</p>
<pre><code>Traceback (most recent call last):
  File "./tree_browser", line 44, in &lt;module&gt;
    logging.config.fileConfig('../log/logging.conf')
  File "/usr/lib/python3.2/logging/config.py", line 79, in fileConfig
    _install_loggers(cp, handlers, disable_existing_loggers)
  File "/usr/lib/python3.2/logging/config.py", line 202, in _install_loggers
    log.addHandler(handlers[hand])
KeyError: 'nullHandler'
</code></pre>
<p>And I find no way to use this nullHandler.
The config file is:</p>
<pre><code>[loggers]
keys=root,RPIO

[handlers]
keys=fileHandler

[formatters]
keys=defaultFormatter

[logger_root]
level=DEBUG
handlers=fileHandler

[logger_RPIO]
level=NOTSET
handlers=nullHandler
qualname=_RPIO.py
propagate=0

[handler_nullHandler]
class=NullHandler
level=DEBUG

[handler_fileHandler]
class=FileHandler
level=DEBUG
formatter=defaultFormatter
filemode=w
args=('../log/pilberry_core.log',)

[formatter_defaultFormatter]
format=%(asctime)s %(filename)s: %(funcName)s: %(message)s
datefmt=%Y/%m/%d %H:%M:%S
</code></pre>
<p>Other attempts that failed: tried without defining a [handler_nullHandler], using either nullHandler or NullHandler as formatter, it always fails the same way.</p>
<p>Note that if I disable the RPIO_logger (by removing RPIO from the [loggers] keys sections), then the rest works fine.</p>
<p>So, what's the proper way to use the nullHandler?</p>
</div>
<div class="post-text" itemprop="text">
<p>In your <code>handlers</code> section, you only list <code>fileHandler</code>. So, when you read in that config, it builds a <code>handlers</code> dictionary with only <code>fileHandler</code>. So, when you try to use <code>nullHandler</code>, you get a <code>KeyError</code>, because it's not in the dictionary.</p>
<p>I'm guessing this was a simple typo, but if not, see <a href="https://docs.python.org/3/library/logging.config.html#configuration-file-format" rel="nofollow">Configuration file format</a> in the docs:</p>
<blockquote>
<p>The file must contain sections called [loggers], [handlers] and [formatters] which identify by name the entities of each type which are defined in the file. For each such entity, there is a separate section which identifies how that entity is configured.</p>
</blockquote>
<p>In other words, just having a <code>handler_nullHandler</code> section doesn't create a handler named <code>nullHandler</code>; having <code>keys=…,nullHandler,…</code> in the <code>handlers</code> section does that.</p>
</div>
<span class="comment-copy">After I got a similar error I had to also specify <code>args=()</code> in handler configuration and level is not necessary.</span>
