<div class="post-text" itemprop="text">
<p>I have the following xml file </p>
<pre><code>&lt;?xml version="1.0"?&gt;
&lt;data&gt;
    &lt;country name="Liechtenstein"&gt;
        &lt;rank updated="yes"&gt;2&lt;/rank&gt;
        &lt;year&gt;2008&lt;/year&gt;
        &lt;gdppc&gt;141100&lt;/gdppc&gt;
        &lt;neighbor name="Austria" direction="E"/&gt;
        &lt;neighbor name="Switzerland" direction="W"/&gt;
    &lt;/country&gt;
    &lt;country name="Singapore"&gt;
        &lt;rank updated="yes"&gt;5&lt;/rank&gt;
        &lt;year&gt;2011&lt;/year&gt;
        &lt;gdppc&gt;59900&lt;/gdppc&gt;
        &lt;neighbor name="Malaysia" direction="N"/&gt;
    &lt;/country&gt;
    &lt;country name="Panama"&gt;
        &lt;rank updated="yes"&gt;69&lt;/rank&gt;
        &lt;year&gt;2011&lt;/year&gt;
        &lt;gdppc&gt;13600&lt;/gdppc&gt;
        &lt;neighbor name="Costa Rica" direction="W"/&gt;
        &lt;neighbor name="Colombia" direction="E"/&gt;
    &lt;/country&gt;
&lt;/data&gt;
</code></pre>
<p>I want to write python 3 code using ElementTree to get all country names. So the end result should be a <code>dict</code> or <code>array</code> of </p>
<blockquote>
<p>['Liechtenstein','Singapore','Panama']</p>
</blockquote>
<p>I am trying to do this using Xpath but getting nowhere. So my code is as follows</p>
<pre><code>import xml.etree.ElementTree as ET
tree = ET.parse(xmlfile)
root = tree.getroot()

names = root.findall("./country/@name")
</code></pre>
<p>However the above does not work as I feel my xpath is wrong. </p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.findall" rel="nofollow"><code>findall()</code></a> to get all of the <code>country</code> tags and get the <code>name</code> attribute from the <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.attrib" rel="nofollow"><code>.attrib</code></a> dictionary:</p>
<pre><code>import xml.etree.ElementTree as ET

data = """your xml here"""

tree = ET.fromstring(data) 
print([el.attrib.get('name') for el in tree.findall('.//country')])
</code></pre>
<p>Prints <code>['Liechtenstein', 'Singapore', 'Panama']</code>.</p>
<p>Note that you cannot get the attribute values using an xpath expression <code>//country/@name</code> since <code>xml.etree.ElementTree</code> provides only <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#supported-xpath-syntax" rel="nofollow">limited Xpath support</a>.</p>
<hr/>
<p>FYI, <a href="http://lxml.de/" rel="nofollow"><code>lxml</code></a> provides a more complete xpath support and therefore makes it easier to get the attribute values:</p>
<pre><code>from lxml import etree as ET

data = """your xml here"""

tree = ET.fromstring(data)
print(tree.xpath('//country/@name'))
</code></pre>
<p>Prints <code>['Liechtenstein', 'Singapore', 'Panama']</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use </p>
<pre><code> import xml.etree.ElementTree as ET

 xml=ET.fromstring(contents)



xml.find('./element').attrib['key']
</code></pre>
<p>Chek the source <a href="https://stackoverflow.com/questions/4573237/how-to-extract-xml-attribute-using-python-elementtree">here</a></p>
</div>
<span class="comment-copy">Thank you. Is it possible to all names into an array in a single line.</span>
<span class="comment-copy">Figured it out. Thanks.</span>
<span class="comment-copy">@VinayJoseph I've also added an <code>lxml</code> option - just in case you are okay with using third-party modules. And also added links to the documentation.</span>
