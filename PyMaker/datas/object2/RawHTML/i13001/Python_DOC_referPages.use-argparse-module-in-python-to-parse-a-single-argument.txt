<div class="post-text" itemprop="text">
<p>I used the OptParse module a few years back, and it seemed so easy, but seeing the argparse module, it doesn't seem intuitive to use. Thus, I'd like some help.</p>
<p>I currently have (which isnt much yet):</p>
<pre><code>import argparse
parser = argparse.ArgumentParser()
parser.parse_args()
</code></pre>
<p>I'd like to be able to issue a command like <code>python myscript.py --char 20</code> . This <code>value</code> for <code>char</code> flag will always be an <code>int</code>.</p>
<p>If someone can please help, I'd greatly appreciate it! Thank you</p>
</div>
<div class="post-text" itemprop="text">
<p>This is how you add an argument, and retrieve it:</p>
<pre><code>import argparse
parser = argparse.ArgumentParser()

parser.add_argument('--char', type=int,
                   help='number of characters')

args = parser.parse_args()
char = args.char
</code></pre>
<p>You should check out the docs:
<a href="https://docs.python.org/3/library/argparse.html" rel="nofollow">https://docs.python.org/3/library/argparse.html</a></p>
<p>And here's a tutorial:
<a href="https://docs.python.org/2/howto/argparse.html" rel="nofollow">https://docs.python.org/2/howto/argparse.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>you need to add an argument to the parser object, and optionally specify the parameter <code>type</code> to be <code>int</code></p>
<pre><code># testargs.py
import argparse
parser = argparse.ArgumentParser()
parser.add_argument('--char', type=int)
args = parser.parse_args()

print(args.char)
</code></pre>
<p>if you execute this file with</p>
<pre><code>python testargs.py --char 20
</code></pre>
<p>it should print <code>20</code> to the console</p>
</div>
<span class="comment-copy">Have you considered adding the argument you want to take to the parser? What's the <i>problem?</i></span>
<span class="comment-copy">I think a quick Google search answers this question the best.</span>
<span class="comment-copy">This task isn't significantly different between <code>optparse</code> and <code>argparse</code>.</span>
<span class="comment-copy">There's a section at the end of the <code>argparse</code> docs about translating <code>optparse</code> to <code>argparse</code>.</span>
<span class="comment-copy">Just a point of caution: <code>type=int</code> means, <code>"use the int() function to convert the string to a number"</code>.  This expression is similar to, but not quite the same as the optparse <code>parser.add_option("-n", type="int", dest="num")</code>.</span>
