<div class="post-text" itemprop="text">
<p>I have the problem on importing the class in the same package, and it seems not a circular dependency problem. So I'm really confused now.</p>
<pre><code>my-project/
   lexer.py
   exceptions.py
</code></pre>
<p>I declared an exception in <code>exceptions.py</code> and wants to use it in <code>lexer.py</code>:</p>
<p>exceptions.py:</p>
<pre><code>class LexError(Exception):
    def __init__(self, message, line):
        self.message = message
        self.line = line
</code></pre>
<p>and in lexer.py:</p>
<pre><code>import re
import sys

from exceptions import LexError
...
</code></pre>
<p>It shouldn't be circular dependency since <code>lexer.py</code> is the only file has <code>import</code> in it.</p>
<p>Thanks!!</p>
</div>
<div class="post-text" itemprop="text">
<p><code>exceptions</code> conflicts with builtin module <a href="http://docs.python.org/3/library/exceptions.html" rel="nofollow"><code>exception</code></a>.</p>
<pre><code>&gt;&gt;&gt; import exceptions
&gt;&gt;&gt; exceptions.LexError
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'module' object has no attribute 'LexError'
&gt;&gt;&gt; from exceptions import LexError
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ImportError: cannot import name LexError
</code></pre>
<p>Use different module name.</p>
</div>
<span class="comment-copy">can you try renaming <code>exceptions.py</code> to something else and see if that helps?</span>
<span class="comment-copy">@Adeeb it works!!! But why? In this <a href="https://github.com/miguelgrinberg/flasky/search?utf8=%E2%9C%93&amp;q=ValidationError" rel="nofollow noreferrer">repo</a> you can see that exceptions.py should cause a ImportError!?</span>
<span class="comment-copy">@Adeeb This <a href="https://github.com/miguelgrinberg/flasky/search?utf8=%E2%9C%93&amp;q=ValidationError" rel="nofollow noreferrer">repo</a> is from the book <a href="http://shop.oreilly.com/product/0636920031116.do" rel="nofollow noreferrer">Flask Web Development</a></span>
<span class="comment-copy">in the repo, the code is using <code>app.exceptions</code> not <code>exceptions</code>. @falsetru has already pointed out that <code>import exceptions</code> will use the builtin module not the one you created.</span>
<span class="comment-copy">It try to import from <code>exceptions</code> (python exeptions not yours) <code>LexError</code>.                                                                                       Renaming <code>exeptions.py</code> should resolve the problem.</span>
