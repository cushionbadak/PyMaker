<div class="post-text" itemprop="text">
<p>I can't seem to be able to get a lambda function to sort a list of tuples by name(after being sorted by grades first).
Here's the code:</p>
<pre><code>def sortStudents(a):
    sorted(a, key=lambda b: (b[1],str(b[0])))
    print(a[::-1])
</code></pre>
<p>I'm running a doctest on it and it fails when it has to sort the students by name if they have the same grade. It just returns them without sorting them by name.</p>
<pre><code>Expected:
[('Barry Thomas', 88), ('Tim Smith', 54), ('Yulia Smith', 54)]
Got:
[('Barry Thomas', 88), ('Yulia Smith', 54), ('Tim Smith', 54)]
</code></pre>
<p>I've found another post on here trying to do the same, and the answerer suggested the same thing i did, but it's not really working properly. Any help is greatly appreciated!</p>
<p>EDIT:</p>
<p>here are the doctests:</p>
<pre><code>"""
&gt;&gt;&gt; sortStudents([('Tim Jones', 54), ('Anna Smith', 56), ('Barry Thomas', 88)])
[('Barry Thomas', 88), ('Anna Smith', 56), ('Tim Jones', 54)]
&gt;&gt;&gt; sortStudents([('Tim Smith', 54), ('Anna Smith', 88), ('Barry Thomas', 88)])
[('Anna Smith', 88), ('Barry Thomas', 88), ('Tim Smith', 54)]
&gt;&gt;&gt; sortStudents([('Tim Smith', 54), ('Anna Smith', 54), ('Barry Thomas', 88)])
[('Barry Thomas', 88), ('Anna Smith', 54), ('Tim Smith', 54)]
&gt;&gt;&gt; sortStudents([('Tim Smith', 54), ('Yulia Smith', 54), ('Barry Thomas', 88)]) 
[('Barry Thomas', 88), ('Tim Smith', 54), ('Yulia Smith', 54)]

"""
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're throwing the result away, and reversing inefficiently:</p>
<pre><code>def sortStudents(a):
    return sorted(key=lambda b: (b[1], b[0]), reverse=True)
</code></pre>
<p><a href="https://docs.python.org/3/library/functions.html#sorted" rel="nofollow"><strong><code>sorted</code></strong></a> returns an iterable that is a <strong>copy</strong> of the passed in iterable, in sorted order. It does not sort the passed list.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/functions.html?highlight=sorted#sorted" rel="nofollow"><code>sorted()</code></a> doesn't change the list, but returns a sorted list. Either re-assign the sorted list to <code>a</code>:</p>
<pre><code>a = sorted(a, key=lambda b: (b[1],str(b[0])))
</code></pre>
<p>Or, better yet, sort <code>a</code> in-place with the list <a href="https://docs.python.org/3/tutorial/datastructures.html" rel="nofollow"><code>sort()</code></a> method:</p>
<pre><code>a.sort(key=lambda b: (b[1],str(b[0])))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <a href="https://docs.python.org/3/library/operator.html#operator.itemgetter" rel="nofollow"><code>operator.itemgetter</code></a> class.</p>
<pre><code>&gt;&gt;&gt; from operator import itemgetter
&gt;&gt;&gt; arr = [('Barry Thomas', 88), ('Yulia Smith', 54), ('Tim Smith', 54)]
&gt;&gt;&gt; arr.sort(key=itemgetter(1))
&gt;&gt;&gt; arr
[('Barry Thomas', 88), ('Tim Smith', 54), ('Yulia Smith', 54)]
</code></pre>
<p>or </p>
<pre><code>&gt;&gt;&gt; arr = sorted(arr, key=lambda b: b[1])
# [('Barry Thomas', 88), ('Tim Smith', 54), ('Yulia Smith', 54)]
</code></pre>
<p>You really don't need to convert the second element in your tuple to string also sort by second element is enough.</p>
</div>
<span class="comment-copy">You're reversing the list at the end, so names are sorted in <i>reverse</i> order.</span>
<span class="comment-copy">...and your sorted result is thrown away</span>
<span class="comment-copy">Oh yeah, you're actually not doing any sorting at all... all your function does is return the list reversed.</span>
<span class="comment-copy">After doing this, none of the doctests pass. So I looked at what the doctest returned, it  hadn't sorted by both grades and names and it didnteven reverse the list for some weird reason</span>
<span class="comment-copy">@Mario You didn't post the doctests so you can't possibly expect me to conform to them. I simply went from the context I could derive.</span>
<span class="comment-copy">Yeah I'm sorry for that, I didn't think it'd be necessary for my question. I updated the question with the doctests!</span>
<span class="comment-copy">@Mario Now it should work.</span>
<span class="comment-copy">When I do either of those, it fails more doctests than before and the one i provided is still returned the same way</span>
<span class="comment-copy">@Mario: Hmm try providing a <a href="http://sscce.org/" rel="nofollow noreferrer">SSCCE</a>. What you gave us is not enough to solve your problem.</span>
<span class="comment-copy">@Mario don't just try to plug in code and see what happens. Think about what the function is supposed to do and what it actually does. Should it modify the argument passed in? I.e. should the <i>caller's</i> list be modified? If not, then don't use 'a.sort()', because that will modify 'a'.</span>
