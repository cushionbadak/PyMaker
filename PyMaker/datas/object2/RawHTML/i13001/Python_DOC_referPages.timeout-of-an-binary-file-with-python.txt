<div class="post-text" itemprop="text">
<p>Hello I'm new to python language and I would like to know how to stop the execution of the binary file when it reach the timeout for example a code that doesn't work as I want</p>
<pre><code>import os
time = os.system("./test")
if (time &gt; 10):
    print ("timeout")
else:
    #do other stuff
</code></pre>
<p>Inside test.c</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
    while(1)
       printf("Hello World!");
    return 0;
}
</code></pre>
<p>In this example I want to run the binary made by test.c and stop the execution of test when the the time reach 10 seconds since I run the binary file.</p>
</div>
<div class="post-text" itemprop="text">
<p>Using <a href="https://docs.python.org/2/library/subprocess.html#subprocess.Popen.poll" rel="nofollow"><code>subprocess.Popen.poll</code></a>:</p>
<pre><code>proc = subprocess.Popen(['./test'])
t = time.time()
while time.time() -t &lt; 1:
    if proc.poll() is not None:
        # Do other stuff
        break
else:
    print 'timeout'
    proc.terminate()
    proc.wait()
</code></pre>
<p>If you could you Python 3.3+, <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen.wait" rel="nofollow"><code>subprocess.Popen.wait</code></a> which support <code>timeout</code>:</p>
<pre><code>import subprocess

proc = subprocess.Popen(['./test'])
try:
    proc.wait(timeout=10)
except subprocess.TimeoutExpired:
    print('timeout')
    proc.terminate()
    proc.wait()
else:
    # Do something else.
</code></pre>
</div>
