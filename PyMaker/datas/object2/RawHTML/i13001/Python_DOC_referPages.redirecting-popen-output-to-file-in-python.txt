<div class="post-text" itemprop="text">
<p>I have seen lot of answers that <code>stdout=file</code> will redirect to a file. But I had a couple of queries.</p>
<ol>
<li><p>Why doesn't <code>&gt;file</code> work.</p>
<pre><code>subprocess.Popen([SCRIPT, "R", "&gt;", FILE, "2&gt;", "/dev/null"])
</code></pre></li>
<li><p>Is this fine</p>
<pre><code>with open(FILE,'w+') as f:
    subprocess.Popen([SCRIPT, stdout=f]
    f.close()
</code></pre></li>
</ol>
<p>In my case I am trying to run a script in an infinite loop(which does not stop) and there is some other processes monitoring its output. </p>
<p>Does the script keeps writing into it even after f is closed. If yes, how does it work?</p>
</div>
<div class="post-text" itemprop="text">
<p>Because <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" rel="nofollow"><code>subprocess</code></a> doesn't allow use <code>&gt;</code> to redirect neither output nor error message, from the document:</p>
<blockquote>
<p><code>stdin</code>, <code>stdout</code> and <code>stderr</code> specify the executed program’s standard input, standard output and standard error file handles, respectively. Valid values are <code>PIPE</code>, <code>DEVNULL</code>, an existing file descriptor (a positive integer), an existing file object, and <code>None</code>. </p>
<p><code>PIPE</code> indicates that a new pipe to the child should be created.  <code>DEVNULL</code> indicates that the special file <code>os.devnull</code> will be used. With the default settings of <code>None</code>, no redirection will occur; the child’s file handles will be inherited from the parent. </p>
<p>Additionally, <code>stderr</code> can be <code>STDOUT</code>, which indicates that the stderr data from the applications should be captured into the same file handle as for <code>stdout.</code></p>
</blockquote>
<hr/>
<p>And you should use the following code:</p>
<pre><code>with open(FILE, 'w+') as f:
    subprocess.Popen([SCRIPT, 'R'],  stdout=f, stderr=subprocess.DEVNULL))
</code></pre>
<p>Because you're using <code>with</code>, so no need close the file.</p>
</div>
<div class="post-text" itemprop="text">
<p>I think you must try,</p>
<pre><code>with open(FILE,'w+') as f:
    subprocess.Popen([SCRIPT, stdout=f, stderr=f])
</code></pre>
</div>
<span class="comment-copy">You shouldn't need to close the file, it should be done automatically</span>
