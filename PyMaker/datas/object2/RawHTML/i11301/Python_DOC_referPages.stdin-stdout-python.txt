<div class="post-text" itemprop="text">
<p>For my work i'm used to work with matlab. No i try to learn the basic skills of python as well. Currently I'm working on on the following excersise: </p>
<blockquote>
<p>You are interested in extracting all of the occurrences that look like
  this</p>
<p><code>&lt;Aug22-2008&gt; &lt;15:37:37&gt; Bond Energy LDA -17.23014168 eV</code></p>
<p>In particular, you want to gather the numerical values (eg,
  <code>-17.23014168</code>), and print them out. Write a script that reads the output file from standard input, and uses regular expressions to
  locate the values you want to extract. Have your script print out all
  the values to standard output.</p>
</blockquote>
<p>This is the code I use:</p>
<pre><code>import os,re
from string import rjust

dataEx=re.compile(r'''
    ^\s*
    &lt;Aug22-2008&gt;
    \s+
    &lt;\d{2}:\d{2}:\d{2}&gt;
    \s+
    Bond
    \s
    Energy 
    \s
    LDA 
    \s+
    ((\+|-)?(\d*)\.?\d*)   

    ''',re.VERBOSE)




f=open('Datafile_Q2.txt','r') 
line = f.readline()
while line != '':
 line = f.readline() # Get next line
 m = dataEx.match(line)
 if m:
   # print line
    print m.group(1) 
</code></pre>
<p>With this code I'm able to find all values in the datafile they ask for. However I do have a few questions. Firstly, they ask specific something about stdin and stdout. No I'm wondering do I use the right code to read the output file from standard input and do I really print out all the values to standard output in this way? Futhermore, I'm wondering whether there is a better or more easy way to find the required values? </p>
</div>
<div class="post-text" itemprop="text">
<p>To find the numbers your looking for I would use a positive lookbehind and lookahead function in your regular expression. </p>
<pre><code>(?&lt;=Bond Energy LDA ).*(?= eV)
</code></pre>
<p>This checks to see if the thing you are looking at is proceeded by 'Bond Energy LDA' and followed by 'eV' but does not include them in the string you extract. So assuming that the numbers you are looking for are always proceeded and followed by those two things you can find them like that. </p>
<p>A nice way to read from stdin is to use the sys python module. </p>
<pre><code>import sys
</code></pre>
<p>Then you can read lines straight from stdin:</p>
<pre><code>import sys
import re    

from line in sys.stdin:
    matchObj = re.search(r '(?&lt;=Bond Energy LDA ).*(?= eV)', line, re.I)
    if(matchObj):
        print(matchObj.group())
</code></pre>
<p>If the regular expression is not found on the line then matchObj will be null skipping the if statement. If it is found the search will return a matchObj containing groups. You can then print the group to stdout as print will by default print to stdout if no file is given. </p>
</div>
<div class="post-text" itemprop="text">
<p>Why use a regular expression?  Split the input:</p>
<pre><code>&gt;&gt;&gt; s = """&lt;Aug22-2008&gt; &lt;15:37:37&gt; Bond Energy LDA -17.23014168 eV"""
&gt;&gt;&gt; s.split()[5]
'-17.23014168'
</code></pre>
<p>Of course, if you can provide more sample input that does not put the number on the 5th position, this perhaps is not enough.</p>
<p>Ask your teacher for more sample input.</p>
<p><a href="https://docs.python.org/3/library/sys.html#sys.stdin" rel="nofollow">STDIN and STDOUT are documented</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to use regex you may use:</p>
<pre><code>(?:&lt;.*&gt;\W+)[a-zA-Z ]+([-+]?[0-9]*\.?[0-9]+)
</code></pre>
<p><a href="https://regex101.com/r/uT7hO9/1" rel="nofollow">Demo</a></p>
</div>
<span class="comment-copy">It is very hard to find a regular expression if all you have is a single line of input.</span>
