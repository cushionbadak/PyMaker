<div class="post-text" itemprop="text">
<p>I am trying to convert this array of strings: </p>
<pre><code>[['2014', '913', '5.78254241807211', '52.3749951170618', '2014', '1', '2024448.00', '89316.00', '29187.00', '427000.00', '60.00','0'] ['1', '222.2']]
</code></pre>
<p>into an array that looks the same but is made of numbers because I need to make computations with it.</p>
<p>I already tried <code>.astype(np.float)</code> but it gives me the following error:</p>
<pre><code>category_array=(category).astype(np.float)    
VelueError: could not convert string to float
</code></pre>
<p>How can I slove this? </p>
</div>
<div class="post-text" itemprop="text">
<p>You first have to convert your list of lists to a numpy array.</p>
<pre><code>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; list_of_lists = [['1', '1.5'], ['2', '2.5'], ['3', '3.5']]
&gt;&gt;&gt; numpy_array = np.array(list_of_lists)
&gt;&gt;&gt; float_array = numpy_array.astype(np.float)
&gt;&gt;&gt; float_array
array([[1., 1.5], [2., 2.5], [3., 3.5]])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Solution with basic python list approach</p>
<pre><code>&gt;&gt;&gt; array_str = [['2014', '913', '5.78254241807211', '52.3749951170618', '2014', '1', '2024448.00', '89316.00', '29187.00', '427000.00', '60.00', '0'], ['1', '2']]
&gt;&gt;&gt; array_n = [[float(num) for num in item] for item in array_str]
&gt;&gt;&gt; array_n
[[2014.0, 913.0, 5.7825424180721097, 52.3749951170618, 2014.0, 1.0, 2024448.0, 89316.0, 29187.0, 427000.0, 60.0, 0.0], [1.0, 2.0]]
&gt;&gt;&gt; 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Have you tried the float or int method ?</p>
<pre><code>    array  = ['2014','913','5.78254241807211','52.3749951170618','2014','1','2024448.00','89316.00' ,'29187.00', '427000.00' ,'60.00'],['1','2','8']]

    floatlist=[[float(str) for str in subarray] for subarray in array]

    print floatlist
</code></pre>
</div>
<span class="comment-copy">Use <a href="https://docs.python.org/3/library/functions.html#int" rel="nofollow noreferrer"><code>int</code></a> to convert a string to an integer.</span>
<span class="comment-copy"><code>arr.astype(np.float)</code> works on my side, are you sure you do not have artifacts in your array which could not get cast?</span>
<span class="comment-copy">Without numpy (?), a single list comprehension works as well: <code>new_array = [[float(str) for str in item] for item in array]</code>.</span>
<span class="comment-copy">The only thing that I have done to artifact the array is that my array (category) is a concatenation of other 3 arrays. I used np.hstack for it.</span>
<span class="comment-copy">But the only way the original code would have failed to raise an AttributeError on <code>astype</code> is if it was already a numpy array.</span>
<span class="comment-copy">yes category is already an array</span>
<span class="comment-copy">Please avoid using <code>str</code> as a variable name.</span>
<span class="comment-copy">Thank you for your suggestion. I tried your code but it still gives me the same error.</span>
