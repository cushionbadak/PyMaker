<div class="post-text" itemprop="text">
<p>I have the following code:</p>
<pre><code>def get_preds(train,test,x_ranges,y_ranges):
    global total_scores
    global num_scores
    for x_min, x_max in x_ranges:
       for y_min, y_max in y_ranges:
           ...
</code></pre>
<p>When I run this method on python 2.7, it behaves as expected.  The nest for loops runs for each time that the outer for loop runs.</p>
<p>When I loaded this same code onto the Kaggle python script engine which runs on Python 3, the nested loop only runs once.  For all other iterations, it is skipped.</p>
<p>Here's how the method gets called:</p>
<pre><code>dataset = pd.read_csv('../input/train.csv',dtype=types,index_col=0)
split_t=math.floor((0.9)*786239)

train = dataset[dataset.time &lt; split_t]
test = dataset[dataset.time &gt;= split_t]


def gen_ranges(size,step):
    return zip(np.arange(0,size,step), np.arange(step, size+step, step));

x_ranges = gen_ranges(size,x_step)
y_ranges = gen_ranges(size,y_step)

preds_test_total = get_preds(train,test,x_ranges,y_ranges)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In Python 3, <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow"><code>zip()</code></a> returns an iterator.  You can only iterate through the elements of an iterator once.  To replicate the Python 2 behavior, use <code>list(zip(...))</code> in place of <code>zip(...)</code>.</p>
</div>
<span class="comment-copy">how do you call the function?</span>
<span class="comment-copy">preds_test_total = get_preds(train,test,x_ranges,y_ranges)  outside of any method.</span>
<span class="comment-copy">how do you call the function? in particular, <code>yranges</code> is a list in both interpreters or it is a list in Python 2 and a generator in Python 3?</span>
<span class="comment-copy">Yep, zip returns an iterator in python 3 instead of a list in python 2, which means this is a duplicate of <a href="http://stackoverflow.com/questions/14637154/performing-len-on-list-of-a-zip-object-clears-zip">Performing len on list of a zip object clears zip</a></span>
<span class="comment-copy">Larry, imho you should delete the full function listing and, maybe, also the indentation remark. Should you follow this advice, your question would be much easier to read and more likely to be upvoted (at least by me...),</span>
