<div class="post-text" itemprop="text">
<p>I'm trying to create a file on python without buffer, so its written at the same time I use write(). But for some reason I got an error.<br/>
This is the line I'm using:<br/><br/>
<code>my_file = open("test.txt", "a", buffering=0)
my_file.write("Testing unbuffered writing\n")</code><br/><br/>
And this is the error I got:<br/>
<code>my_file = open("test.txt", "a", buffering=0)
ValueError: can't have unbuffered text I/O</code>
<br/><br/>
There is anyway to do an unbuffered write on a file?
I'm using python 3 on pyCharm.<br/>
Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>The error isn't from Pycharm.</p>
<p>The Python doc says:</p>
<blockquote>
<p>buffering is an optional integer used to set the buffering policy.
  Pass 0 to switch buffering off <strong>(only allowed in binary mode)</strong></p>
</blockquote>
<p>Your code will work in <strong>Python 2</strong> but not in <strong>Python 3</strong>. Because Strings are immutable sequences of Unicode code points in <strong>Python 3</strong>. You need bytes here. In <strong>Python 3</strong> you need to convert your unicode <code>str</code> to <code>bytes</code> in unbuffered mode.</p>
<pre><code>my_file.write("Testing unbuffered writing\n".encode("utf-8"))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>use </p>
<pre><code>my_file = open("test.txt", "a")
my_file.write("Testing unbuffered writing\n")
my_file.flush()
</code></pre>
<p>Always call flush immediately after the write and it will be "as if" it is unbuffered</p>
</div>
<span class="comment-copy">you can only write unbuffered in binary mode - <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer">docs.python.org/3/library/functions.html#open</a></span>
