<div class="post-text" itemprop="text">
<p>I have looked around the site and I can't find out how to get an output I just keep on getting the same error:</p>
<pre><code>AttributeError: 'list' object has no attribute 'items'
</code></pre>
<p>I can't figure out why I keep on getting this error any help will be a appreciated!</p>
<pre><code>import json
from urllib.request import urlopen, Request
from urllib.parse import urlencode

def sTrackTemperature():
    "Constantly Show an Output of the Track Temperature"
    sDataRaw = urlopen(Request("https://api.samsara.com/v1/sensors/temperature?access_token=", 518, [2]))
    sDataParse = sDataRaw.read().decode('utf-8')
    sDataJson = json.loads(sDataParse)
    return sDataJson;
print(str(sTrackTemperature()))
</code></pre>
<p>If needed, here is the full error:</p>
<pre><code>Traceback (most recent call last):
  File "C:/Users/**********/AppData/Local/Programs/Python/Python35-32/Kartplex/TrackTemperature.py", line 17, in &lt;module&gt;
    print(str(sTrackTemperature()))
  File "C:/Users/**********/AppData/Local/Programs/Python/Python35-32/Kartplex/TrackTemperature.py", line 13, in sTrackTemperature
    sDataRaw = urlopen(Request("https://api.samsara.com/v1/sensors/temperature?access_token=**********************", 518, [2]))
  File "C:\Users\**********\AppData\Local\Programs\Python\Python35-32\lib\urllib\request.py", line 274, in __init__
    for key, value in headers.items():
AttributeError: 'list' object has no attribute 'items'
</code></pre>
<p>EDIT:
Code is now as follows</p>
<pre><code>import json
from urllib.request import urlopen, Request
from urllib.parse import urlencode

def sTrackTemperature():
    "Constantly Show an Output of the Track Temperature"
    SENSOR = {'SENSOR': '2'}
    sDataRaw = urlopen(Request("https://api.samsara.com/v1/sensors/temperature?access_token=****************", 518, SENSOR['SENSOR']))
    sDataParse = sDataRaw.read().decode('utf-8')
    sDataJson = json.loads(sDataParse)
    return sDataJson;
print(str(sTrackTemperature()))
</code></pre>
<p>This Code now has the same exact error but the last line is now:</p>
<pre><code>AttributeError: 'str' object has no attribute 'items'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You only pass positional arguments to the <code>Request</code> constructor:</p>
<pre><code>Request("https://api.samsara.com/v1/sensors/temperature?access_token=", 518, [2])
</code></pre>
<p>Given the <code>init</code> signature of <code>Request</code> (<a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.Request" rel="nofollow">documentation</a>):</p>
<pre><code>def  __init__(self, url, data=None, headers={},
             origin_req_host=None, unverifiable=False, method=None)
</code></pre>
<p>you are passing </p>
<ul>
<li>a URL string as <code>url</code>  (good!)</li>
<li>the integer <code>'518'</code> as <code>data</code>  (bad: should be a dict!)</li>
<li>last but not least - the list <code>'[2]'</code> as <code>headers</code> (bad: should be a dict!)</li>
</ul>
<p>Well, you guessed it: <code>headers</code> must be a <code>dict</code> of header-name, header-value pairs. In the <code>__init__</code>, the header dict's <code>.items()</code> method is called, which fails appropriately for the <code>list</code> that you pass in.</p>
</div>
<span class="comment-copy">Please give a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a>; it's not even clear which line throws the error.</span>
<span class="comment-copy">@jonrsharpe I have added the full Error</span>
<span class="comment-copy">Evidently you've passed a list where the <code>requests</code> library expected a dictionary. Read their docs and figure it out.</span>
<span class="comment-copy">Then <a href="https://stackoverflow.com/posts/37633031/edit">edit</a> to provide a <a href="https://stackoverflow.com/help/mcve">Minimal, Complete, and Verifiable example</a> <b>of that</b>.</span>
<span class="comment-copy">No, you keep forgetting to edit the question instead of trying to jam code into comments.</span>
<span class="comment-copy">I am following another Layout of one of my other scripts which actually works using this same type of method  def sDataAuth( APIKEY ):     "Function for auth/verify method"     start = time.process_time()     sDataRaw = urlopen(Request("<a href='https://api.samsara.com/v1/auth/verify?access_token="+APIKEY' rel="nofollow noreferrer">api.samsara.com/v1/auth/verify?access_token="+APIKEY</a>))     sDataParse = sDataRaw.read().decode('utf-8')     sDataJson = json.loads(sDataParse)     elapsed = (time.process_time() - start)     print("Pass ("+str(elapsed)+")")     return sDataJson;  THIS SCRIPT ABOVE is from another Program that works</span>
<span class="comment-copy">Yeah, I had the Request of the <code>requests</code> module, but the problem is the same: third argument is <code>headers</code>.</span>
<span class="comment-copy">The example you cite only has a single argument, the URL.</span>
<span class="comment-copy">I am currently trying your method completely reprogramming my script i will see if i can get this to work  I do have a question though what is the self argument on the <b>init</b> function</span>
<span class="comment-copy"><code>self</code> refers to the instance that is being initialised. The actual arguments that you can pass in start at <code>url</code>.</span>
