<div class="post-text" itemprop="text">
<p>With a url such as </p>
<blockquote>
<p><code>https://search.yahoo.com/search?p=Fetty+Wap&amp;amp;fr=fp-tts&amp;</code></p>
</blockquote>
<p>I am using </p>
<pre><code>pat = re.compile('&lt;a href="(https?://.*?)".*',re.DOTALL)
</code></pre>
<p>as a search pattern.</p>
<p>I want to pick any url like the yahoo url above, but I want to capture the url up to the literal <code>?</code> in the actual url.</p>
<p>In other words I want to extract the url up to <code>?</code>, knowing that all the urls I'm parsing don't have the <code>?</code> character. In such a case I need to capture all of the url.</p>
<p>The above regex works and extracts the url but goes to the end of the url. How can I get it to stop at the first <code>?</code> it encounters, and keep going to the end if it doesn't encounter a <code>?</code></p>
</div>
<div class="post-text" itemprop="text">
<p>Regex is really the wrong tool for the job. Doing a basic string split will get you exactly what you want.</p>
<pre><code>def beforeQuestionMrk(inputStr):
    return inputStr.split("?")[0]

url = "https://search.yahoo.com/sometext"
url2 = "https://search.yahoo.com/search?p=Fetty+Wap&amp;fr=fp-tts&amp;"

print(beforeQuestionMrk(url))
print(beforeQuestionMrk(url2))

#https://search.yahoo.com/sometext
#https://search.yahoo.com/search
</code></pre>
<p>If you <em>really</em> wanted wanted to use regex I suppose you could fo the following:</p>
<pre><code>import re

def getBeforeQuestRegex(inputStr):
    return re.search(r"(.+?\?|.+)", inputStr).group(0)


print(getBeforeQuestRegex("https://search.yahoo.com/search?p=Fetty+Wap&amp;amp;fr=fp-tts&amp;"))
print(getBeforeQuestRegex("https://search.yahoo.com/sometext"))

#https://search.yahoo.com/search?
#https://search.yahoo.com/sometext
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Bobble bubbles solution above worked very well for me; </p>
<p>"You can try like this by use of negated class: ]*?href="(http[^"?]+)"&lt;- bobbles answer. </p>
<p>url looks like this </p>
<p><a href="https://search.yahoo.com/search?p=Justin+Bieber&amp;fr=fp-tts&amp;fr2=p:fp,m:tn,ct:all" rel="nofollow">https://search.yahoo.com/search?p=Justin+Bieber&amp;fr=fp-tts&amp;fr2=p:fp,m:tn,ct:all</a>......</p>
<p>or it could be something like this 
<a href="https://www.yahoo.com/style/5-joyful-bob-ross-tees-202237009.html" rel="nofollow">https://www.yahoo.com/style/5-joyful-bob-ross-tees-202237009.html</a></p>
<p>objective was to extract full url if there was no literal ? in it, but if it did to stop just before the literal ?.</p>
<p>was Bobble Bubbles answer and works very cleanly, does what I wanted done, Again thank you for everyone in participating in this discussion, really appreciate it.</p>
</div>
<div class="post-text" itemprop="text">
<p>I agree with other answer, that using regexp here is not a solution, especially because there my be any number of parameters before opening of the <code>&lt;a&gt;</code> tag and href parameter, there can be a new line in between too.</p>
<p>but, answering to the initial question:</p>
<p>'*', '+', and '?' qualifiers are all greedy - they match as much text as possible</p>
<p>that's why there are non-greedy versions of them:</p>
<p>'*?', '+?' and '??'</p>
</div>
<span class="comment-copy">can you add the code what you have tried to this question?</span>
<span class="comment-copy">from os import system;system('cls')\n from urllib import urlopen;import re\n # look for lines like &lt;a href="<a href="http://url+sometext(stopCaptureAtLiteral" rel="nofollow noreferrer">url+sometext(stopCaptureAtLiteral</a>?"&gt; Some Text &lt;/a&gt;\n count = 0\n pat = re.compile(r'&lt;a href="(https?://(.+?\?|.+?))".*',re.DOTALL)\n nh = urlopen('<a href="http://www.yahoo.com'" rel="nofollow noreferrer">yahoo.com'</a>)\n for line in nh:\n     if re.search(pat,line):\n         count += 1\n         print count,re.search(pat,line).group(1)\n  Please look at the comment want to captr the anchor tag pull out a url but\n only till the ? if there is one in the url else the whole url\n</span>
<span class="comment-copy">sorry I can't figure out how to do a line break I looked on the forums tried&lt;br/&gt; tag but that did not work, so i added \n that did not work either but will just show you the end of line, so sorry trying to figure it out</span>
<span class="comment-copy">You can try like this by use of <a href="http://www.regular-expressions.info/charclass.html#negated" rel="nofollow noreferrer">negated class</a>: <a href="https://regex101.com/r/mX6tW8/2" rel="nofollow noreferrer"><code>&lt;a\s[^&gt;]*?href="(http[^"?]+)</code></a></span>
<span class="comment-copy">Hello Bobble bubble you hit that one on the head; Now i get a very clean output Thank You some much</span>
<span class="comment-copy">Guys thank you so much you have already answered my question, I really appreciate it, I was trying something close to what you did / actually that is what i was trying just before I posted the question, And yes I could have used the split too, just wanted it be as succinct as possible. Thank you so much you guys are the best</span>
<span class="comment-copy">Does  ?? Mean a literal question mark may appear 0 or one time</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">docs.python.org/3/library/re.html</a></span>
