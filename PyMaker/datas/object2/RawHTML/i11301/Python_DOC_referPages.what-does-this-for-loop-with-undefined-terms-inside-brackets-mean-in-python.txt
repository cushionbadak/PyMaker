<div class="post-text" itemprop="text">
<p>I have a mathematics code in python and need to convert it to java. But I can't konw how to work this:</p>
<pre><code>#python source
sum([d**2 for d in (x - y)])
</code></pre>
<p><code>x,y</code> are arrays and defined and have value. I have trouble with the <code>for</code> loop and the connexion with <code>d^2</code> and <code>d</code> in that loop.</p>
</div>
<div class="post-text" itemprop="text">
<p>The actual for loop surrounded by brackets is a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow">list comprehension</a>, which generates a list. This is expressed, in general, as follows:</p>
<pre><code>[ expression( &lt;variables&gt; ) for &lt;variables&gt; in &lt;list&gt; ]
</code></pre>
<p>Which means your variables (here <code>d</code>) will iterate over the values in the given list (here <code>(x - y)</code>). The list returned will contain the value of the expression, evaluated for each value of <code>d</code>.</p>
<p>This way of writing defines the variable after it is used, so it is normal you haven't seen it defined before.</p>
<p>In clear, the code is equivalent to the following:</p>
<pre><code>squares = []
for d in (x - y):
    squares.append(d**2)
sum(squares)
</code></pre>
<p>Trivially, <a href="https://docs.python.org/3/library/functions.html?highlight=sum#sum" rel="nofollow">sum</a> returns the sum of the list.</p>
<hr/>
<p>Because you say your code is doing maths and you are saying <em>arrays</em> rather than <em>lists</em>, I will suppose from here on that you mean that <code>x,y</code> are numpy arrays.</p>
<p>In this case, <code>x - y</code> has a meaning: item by item subtraction of the arrays.<br/>
Written as a list comprehension, it would look like: <code>[a - b for a,b in</code><a href="https://docs.python.org/3/library/functions.html?highlight=zip#zip" rel="nofollow"><code>zip</code></a><code>(x,y)]</code></p>
<p>Hence a python rewrite of that code could be:</p>
<pre><code>sum = 0
for a,b in zip(x,y):
    sum += (a - b) * (a - b)
</code></pre>
<p>Or only with numpy functions:</p>
<pre><code>numpy.square(x - y).sum()
</code></pre>
</div>
<span class="comment-copy"><a href="http://www.pythonforbeginners.com/basics/list-comprehensions-in-python" rel="nofollow noreferrer">pythonforbeginners.com/basics/list-comprehensions-in-python</a></span>
