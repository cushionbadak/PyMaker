<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/imaplib.html#imaplib.IMAP4.thread" rel="nofollow">documentation for <code>IMAP4.thread()</code></a> in the <code>imaplib</code> library says</p>
<blockquote>
<p>The <code>thread</code> command is a variant of <code>search</code> with threading semantics for the results. Returned data contains a space separated list of thread members.</p>
<p>Thread members consist of zero or more messages numbers, delimited by spaces, indicating successive parent and child.</p>
<p>Thread has two arguments before the <em>search_criterion</em> argument(s); a <em>threading_algorithm</em>, and the searching <em>charset</em>.</p>
</blockquote>
<p>It's not clear to me what to use for the <em>threading_algorithm</em> argument. The documentation doesn't indicate a default value, and the <a href="https://hg.python.org/cpython/file/3.5/Lib/imaplib.py#l836" rel="nofollow">source code for the <code>IMAP4.thread()</code> function</a></p>
<pre><code>def thread(self, threading_algorithm, charset, *search_criteria):
        """IMAPrev1 extension THREAD command.

        (type, [data]) = &lt;instance&gt;.thread(threading_algorithm, charset, search_criteria, ...)
        """

        name = 'THREAD'
        typ, dat = self._simple_command(name, threading_algorithm, charset, *search_criteria)
        return self._untagged_response(typ, dat, name)
</code></pre>
<p>doesn't give me any ideas either, even after digging into the <code>_simple_command</code> helper function.</p>
<p>What should I use for this argument? Is there documentation elsewhere for this?</p>
</div>
<div class="post-text" itemprop="text">
<p>This depends on the server; the CAPABILITIES response should tell you what threading algorithms the server supports, under the THREAD= keys.</p>
<p>For example:</p>
<pre><code>* OK [CAPABILITY IMAP4rev1 UIDPLUS CHILDREN NAMESPACE THREAD=ORDEREDSUBJECT THREAD=REFERENCES SORT QUOTA IDLE AUTH=PLAIN ACL ACL2=UNION ID] Courier-IMAP ready. Copyright 1998-2011 Double Precision, Inc.  See COPYING for distribution information.
</code></pre>
<p>This server supports the ORDEREDSUBJECT and REFERENCES algorithms.</p>
<p>The description of the baseline algorithms is indicated in the <a href="https://tools.ietf.org/html/rfc5256" rel="noreferrer">IMAP SORT and THREAD RFC</a>.</p>
<p>imaplib is a very low level library, you will need to parse the responses yourself.</p>
</div>
<span class="comment-copy">Likely, you wish to use REFERENCES if the server supports it.</span>
