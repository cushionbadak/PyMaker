<div class="post-text" itemprop="text">
<ol>
<li><p>I found out that in python, if you use <code>bin</code>:</p>
<pre><code>&gt;&gt;&gt; bin(4)
'0b100'  
&gt;&gt;&gt; bin(-4)
'-0b100'
</code></pre></li>
<li><p>but if you try this:  </p>
<pre><code>-4 &gt;&gt; 8 =&gt; -1
</code></pre></li>
</ol>
<p>in fact, when right shift more than 3 bits, the answer is always <code>-1</code>. I know this is implementation stuff, but I came across this problem:</p>
<p>In the following array, find out the number which appears only once, while others appears always three times</p>
<pre><code>[-2,-2,1,1,-3,1,-3,-3,-4,-2]
</code></pre>
<p>This is the code</p>
<pre><code>class Solution(object):
    def singleNumber(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """
        if nums == None:
            return None
        ans = 0
        for i in range(32):
            numOfI = 0
            for num in nums:
                if (( num &gt;&gt; i) &amp; 1) == 1 :
                    numOfI += 1
                    numOfI %=3
            print i,numOfI
            if numOfI != 0:
                ans = ans + (numOfI &lt;&lt; i)
        return ans
</code></pre>
<p>the answer should be <code>-4</code>, but instead I get <code>11111111111111111111111111111100</code>; how can I convert it into -4?</p>
</div>
<div class="post-text" itemprop="text">
<p>Bit manipulation on Python are easily done with <a href="https://docs.python.org/3/library/stdtypes.html#int.from_bytes" rel="nofollow">int.from_bytes</a> and <a href="https://docs.python.org/3/library/stdtypes.html#int.to_bytes" rel="nofollow">int.to_bytes</a>.</p>
<p>On the other hand, solving the "find the value appearing <code>x</code> times" is easily solved using the <code>Counter</code> class:</p>
<pre><code>&gt;&gt;&gt; from collections import Counter
&gt;&gt;&gt; values = [-2,-2,1,1,-3,1,-3,-3,-4,-2]
&gt;&gt;&gt; [value for value, count in Counter(values).items() if count == 1]
[-4]
</code></pre>
<p>Using <code>from_bytes</code> and <code>to_bytes</code> is clear and readable, so you don't want to try to do the conversion yourself.</p>
<p>Using <code>Counter</code> is also more readable than your cryptic implementation, yet my one-liner may not be the most readable imaginable version, it's still a single line and far more readeable.</p>
</div>
<span class="comment-copy">thank you, helps</span>
