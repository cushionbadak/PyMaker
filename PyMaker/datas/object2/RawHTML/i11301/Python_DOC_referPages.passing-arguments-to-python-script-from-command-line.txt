<div class="post-text" itemprop="text">
<p>I am really new to python and pandas, I am trying to execute a python script using arguments in the command line but I got an error, here is my script</p>
<pre><code> #!/usr/bin/python
 import sys, pandas as pd

 df1 = pd.read_table(sys.argv[0], sep="\t", header=0)
 df2 = pd.read_table(sys.argv[1], sep="\t", header=0)

 df_merge = pd.merge(left=df1, right=df2, left_on=sys.arg[2],  right_on=sys.arg[3])
 df_merge.to_csv(sys.arg[4], sep="\t")
</code></pre>
<p>And I got the following error: <code>KeyError: u'no item named file.out'</code>, any help would be apreciated</p>
<p>My command line statement is: <code>merge_files.py file1.out file2.out col1 col3 test</code> </p>
</div>
<div class="post-text" itemprop="text">
<p><code>sys.argv[0]</code> is the name of the script, i.e. <code>merge_files.py</code>. You can see this by inserting <code>print(sys.argv)</code> at the beginning of your script. Try increasing all your indices by 1.</p>
</div>
<div class="post-text" itemprop="text">
<p>The first argument <code>sys.argv[0]</code> is the name of the script. </p>
<blockquote>
<p><strong>sys.argv</strong>:
  The list of command line arguments passed to a Python script.
  argv[0] is the script name (it is operating system dependent whether
  this is a full pathname or not).</p>
</blockquote>
<p>Please look <a href="https://docs.python.org/3/library/sys.html#sys.argv" rel="nofollow">here</a> for more details.</p>
<pre><code>#!/usr/bin/python
import sys, pandas as pd

df1 = pd.read_table(sys.argv[1], sep="\t", header=0)
df2 = pd.read_table(sys.argv[2], sep="\t", header=0)

df_merge = pd.merge(left=df1, right=df2, left_on=sys.arg[3],     right_on=sys.arg[4])
df_merge.to_csv(sys.arg[5], sep="\t")
</code></pre>
<p>This should work.</p>
</div>
<div class="post-text" itemprop="text">
<p>increase all your indexes by 1, because <code>sys.argv[0]</code> - is a name of the python script.</p>
<p>I.e.</p>
<pre><code>df1 = pd.read_table(sys.argv[1], sep="\t", header=0)
df2 = pd.read_table(sys.argv[2], sep="\t", header=0)
</code></pre>
<p>and so on</p>
</div>
