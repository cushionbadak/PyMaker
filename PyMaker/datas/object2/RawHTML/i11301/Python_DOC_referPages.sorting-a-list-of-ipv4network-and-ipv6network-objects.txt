<div class="post-text" itemprop="text">
<p>I have a list of IPv4 and IPv6 networks created with <a href="https://docs.python.org/3/library/ipaddress.html#ipaddress.ip_network" rel="nofollow"><code>ipaddress.ip_network()</code></a>, which I want to sort (by family first, then value). What would be the best way to do this? Apparently, a naive sort doesn't work:</p>
<pre><code>&gt;&gt;&gt; from ipaddress import ip_network
&gt;&gt;&gt; L = [ip_network(x) for x in ['ff00::/8', 'fd00::/8', '172.16.0.0/12', '10.0.0.0/8']]
&gt;&gt;&gt; L.sort()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/usr/lib/python3.5/ipaddress.py", line 652, in __lt__
    self, other))
TypeError: 10.0.0.0/8 and fd00::/8 are not of the same version
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just use a <a href="https://docs.python.org/3/library/stdtypes.html#list.sort" rel="nofollow"><code>key</code> function</a> that would allow to compare the values by type first, something like:</p>
<pre><code>&gt;&gt;&gt; from ipaddress import ip_network, IPv6Network
&gt;&gt;&gt; L = [ip_network(x) for x in ['ff00::/8', 'fd00::/8', '172.16.0.0/12', '10.0.0.0/8']]
&gt;&gt;&gt; L.sort(key=lambda x: (isinstance(x, IPv6Network), x))
&gt;&gt;&gt; L
[IPv4Network('10.0.0.0/8'), IPv4Network('172.16.0.0/12'), IPv6Network('fd00::/8'), IPv6Network('ff00::/8')]
</code></pre>
</div>
