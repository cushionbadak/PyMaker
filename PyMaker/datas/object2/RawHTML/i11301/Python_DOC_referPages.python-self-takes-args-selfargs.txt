<div class="post-text" itemprop="text">
<p>I'm not quite understand what this code mean:</p>
<pre><code># instantiate the input layer
x = Input(batch_shape=batch_input_shape,
          dtype=input_dtype, name=name)
# this will build the current layer
# and create the node connecting the current layer
# to the input layer we just created.
self(x)
</code></pre>
<p>This code is inside a member function of a class, please refer to <a href="https://github.com/fchollet/keras/blob/master/keras/engine/topology.py" rel="nofollow">https://github.com/fchollet/keras/blob/master/keras/engine/topology.py</a> line 341.
When I step into the self(x), it jumps to another member function __call__ of this class. Why does this happen? Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/reference/datamodel.html#object.__call__" rel="nofollow"><code>__call__()</code></a> is one of the special methods in Python. It allows classes to emulate function types.</p>
<p><code>self</code> is probably --as by convention-- the first argument to your member function, i.e. the instance of the object the method is called on.</p>
<p><code>self()</code> thus uses the current instance object as a function. By definition, this means that the <code>__call__()</code> method on the object will be invoked, which is exactly what happens.</p>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/reference/datamodel.html#object.__call__" rel="nofollow noreferrer">docs.python.org/3/reference/datamodel.html#object.__call__</a></span>
<span class="comment-copy">An object can be callable if its class has a <code>__call__</code> method.  <code>self</code> is the current object.  When you call an object then control is passed to <code>__call__</code> - as you found.  You can test if this is supported by using the built-in function <code>callable()</code>.</span>
<span class="comment-copy">@cdarke Thanks for your explanation. I understand now.</span>
<span class="comment-copy">this seems legit, could you give an example of why a callable object would be useful?</span>
<span class="comment-copy">@CaffeineAddiction have a look at <a href="http://stackoverflow.com/q/5824881/1942027">Python <code>__call__</code> special method practical example</a></span>
<span class="comment-copy">@RaphaelMiedl Thanks</span>
