<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question is an exact duplicate of:</p>
<ul>
<li>
<a dir="ltr" href="/questions/55227100/loop-through-entire-python-dataframe-with-string-function">loop through entire python dataframe with string function?</a>
</li>
</ul>
</div>
<p>I have the following script, and would like to find a way to change it so that instead of supplying a list (i.e, sample_rows), it will go through rows in a dataframe where "keywords" is a column and "url" is a column. </p>
<p>I found <a href="https://stackoverflow.com/questions/16476924/how-to-iterate-over-rows-in-a-dataframe-in-pandas">this</a> question that is similar but doesn't have an answer that is useful for this specific task. </p>
<p>Any ideas? </p>
<pre><code>import re

sample_rows = [
    ("hyundai sonata rebate", "https://www.edmunds.com/hyundai/sonata/2018/deals"),
    ("2017 jeep wrangler", "https://www.edmunds.com/jeep/wrangler/2017/deals"),
    ("2019 honda accord", "https://www.edmunds.com/honda/accord/2019/deals"),
    ("1985 some old car", "https://www.edmunds.com/some/oldcar/1985/deals")
]

for row in sample_rows:
    keywords = row[0]
    url = row[1]
# the url
    if "/2019/" in url:
        new_url = url
        print(f"new_url {new_url}")
    elif re.search("/(?:(?:20)|(?:19))\d{2}/", url):
        old_url = url
        print(f"old_url {old_url}")    
 # the "words"
    if "2019" in keywords:
        new_word = keywords
        print(f"new_word {new_word}")
    elif re.search("(?:(?:20)|(?:19))\d{2}", keywords) is None:
        new_word = keywords
        print(f"new_word {new_word}")
</code></pre>
<p>Edit: This is the dataframe I have and would like to incorporate
<a href="https://i.stack.imgur.com/7f337.png" rel="nofollow noreferrer"><img alt="This is the data frame" src="https://i.stack.imgur.com/7f337.png"/></a> </p>
<p>Edit: This is the output of the above script. 
<a href="https://i.stack.imgur.com/7sP1b.png" rel="nofollow noreferrer"><img alt="Output" src="https://i.stack.imgur.com/7sP1b.png"/></a></p>
<p><strong>Desired output:</strong></p>
<ol>
<li><code>Landing_page_type</code> to be the output of this part of the script, looped through each row:</li>
</ol>
<pre><code># the url
    if "/2019/" in url:
        new_url = url
        print(f"new_url {new_url}")
    elif re.search("/(?:(?:20)|(?:19))\d{2}/", url):
        old_url = url
        print(f"old_url {old_url}")    
</code></pre>
<ol start="2">
<li><code>ideal_target_page_type</code> to be the output of this part:</li>
</ol>
<pre><code> # the "words"
    if "2019" in keywords:
        new_word = keywords
        print(f"new_word {new_word}")
    elif re.search("(?:(?:20)|(?:19))\d{2}", keywords) is None:
        new_word = keywords
        print(f"new_word {new_word}")

</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>So if get this right, here's how you do that kind of iterations with pandas (+zip):</p>
<pre><code>for url, kwords in zip(df.url, df.keywords):
   # the url
   # your code here
</code></pre>
<p>you can also use the dict-like syntax if you like it best:</p>
<pre><code>for url, kwords in zip(df["url"], df["keywords"]):
   # the url
   # your code here
</code></pre>
<p>I hope it answers your question</p>
</div>
<span class="comment-copy">neither of these worked.</span>
<span class="comment-copy">I'm guessing that's because your Dataframe doesn't actually have a "url" nor a "keywords" column. So what I'm answering is your actual question, which doesn't fit your own example. Can you at the very least provide more feedback than "it doesn't work" ? what error message do you get ?</span>
