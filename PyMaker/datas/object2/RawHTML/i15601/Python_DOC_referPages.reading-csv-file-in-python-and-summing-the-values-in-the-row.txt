<div class="post-text" itemprop="text">
<p>I am trying to solve the following problem:</p>
<blockquote>
<p>Complete the function sumRows so that it reads a file of this format
  and returns a dictionary whose keys specify the names and whose values
  are the sum of numerical values in the corresponding row. For example,
  the record above would result in an entry 'dave': 14.0. Empty or
  non-numerical fields (other than the names in the first column) should
  be ignored.</p>
</blockquote>
<p>My code attempt below just doesn't seem to be working, and I am not sure I fully understand the problem.</p>
<pre><code>def sumRows(filename, header=False):
    d ={}
    with open(filename) as csvfile:
        headerline = csvfile.next()
        total = 0
        for row in csv.reader(csvfile):
            total += int(row[1])
        print(total)
</code></pre>
<p>for the csv file</p>
<blockquote>
<p>rows1</p>
<p>dave,3,5,6<br/>
  tina,12,3,5</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>The first problem in your code is this:</p>
<pre><code>headerline = csvfile.next()
</code></pre>
<p>Iterators (files, CSV readers, etc.) in Python don't have a <code>next</code> method.* There's a <a href="https://docs.python.org/3/library/functions.html#next" rel="nofollow"><code>next</code> <em>function</em></a> that takes an iterator as an argument, like this:</p>
<pre><code>headerline = next(csvfile)
</code></pre>
<hr/>
<p>If I fix that, your code prints out the sum of all the values in the second column.</p>
<p>But you're supposed to be summing <em>rows</em>, not <em>columns</em>.</p>
<p>To fix that, you need to iterate the columns of each row:</p>
<pre><code>    for row in csv.reader(csvfile):
        rowtotal = 0
        for column in row[1:]:
            rowtotal += int(column)
        print(row[0], rowtotal)    
</code></pre>
<hr/>
<p>Now we're getting closer, but you're still got four problems you'll need to fix.</p>
<ul>
<li><p>"Empty or non-numerical fields … should be ignored", but your code doesn't do that, it raises a <code>ValueError</code>. So, you need to <code>try</code> to convert each column to an <code>int</code>, and handle the possible <code>ValueError</code> in some appropriate way.</p></li>
<li><p>The question asks about "numbers", not "integers", and it gives <code>14.0</code> as an example. So <code>int</code> probably isn't the right type here. You may want <code>float</code> or <code>decimal.Decimal</code>. See <a href="https://docs.python.org/3/tutorial/introduction.html#numbers" rel="nofollow">Numbers</a> in the tutorial for more.</p></li>
<li><p>You're not just supposed to print out each name and row sum, you're supposed to stick them in a dictionary and return that dictionary. You put something in a dictionary by doing <code>d[key] = value</code>, so hopefully you can figure out how to put the names and row sums into your <code>d</code>. And then just <code>return d</code> at the end.</p></li>
<li><p>That <code>header=False</code> parameter must be there for some reason. My guess is that you're supposed to use it to let the caller specify whether there's a header line to skip over, instead of you just always skipping over the header line no matter what. So, you'll need an <code>if header:</code> somewhere.</p></li>
</ul>
<hr/>
<p><sub>* This is only true for Python 3.x, but that's what you seem to be using. If you're not, you're probably using 2.7, where iterators <em>do</em> have a <code>next</code> method, but you're still not supposed to call it.</sub></p>
</div>
<span class="comment-copy">In the future, please format your code as code. The easy way to do this is to select it and click the <code>{}</code> button. I've done it for you this time.</span>
<span class="comment-copy">More importantly: Don't just dump your assignment on us and some partial code and say "this just doesn't seem to be working". Explain to us what your code is supposed to do, and exactly what it's doing wrong.</span>
<span class="comment-copy">Anyway, why is your code taking a <code>header=False</code> parameter that it does nothing with? Why do you create a dictionary named <code>d</code> and do nothing with it? If you can explain what that code is supposed to be <i>for</i>, someone can tell you how to fix it; otherwise, all we can do is tell you that you probably want to change something somewhere to do with those lines, but who knows what.</span>
<span class="comment-copy">Thank you that helped alot</span>
