<div class="post-text" itemprop="text">
<p>I am doing this in order to read a file</p>
<pre><code>f = subprocess.Popen(["../../../abc/def/run_script.sh", "cat", "def/data/ex/details.json"], stdout=subprocess.PIPE)
out = f.stdout.readline()
</code></pre>
<p>The file's contents that is being read from above looks like this:</p>
<pre><code>{
         "def1": {
         "val1": 31.6, "val2" : 10
         },
         "def2": {
         "9": {
          "val1": 20.1, "val2": 22
         }
         }
         }
</code></pre>
<p>How should i go about it. When there was only 1 "val1" and 1 "val2", i did a simple search with regex and saved the values. Now that there are two, I need to be careful to know which one I am dealing with.. is there an easy way out..?</p>
<pre><code> File "/usr/lib/python2.7/json/__init__.py", line 338, in loads
                                                                                                                                                               return _default_decoder.decode(s)
                                                                                                                                                                                                  File "/usr/lib/python2.7/json/decoder.py", line 366, in decode
                                                         obj, end = self.raw_decode(s, idx=_w(s, 0).end())
                                                                                                            File "/usr/lib/python2.7/json/decoder.py", line 382, in raw_decode
                                                                                                                                                                                  obj, end = self.scan_once(s, idx)
ValueError: Expecting object: line 1 column 3 (char 2)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/json.html" rel="nofollow">the <code>json</code> module</a> to parse JSON.</p>
<p><strong>Python 3 code:</strong></p>
<pre><code>import json
import subprocess

with subprocess.Popen(["cat", "/tmp/foo.json"], stdout=subprocess.PIPE) as f:
    j = f.stdout.read()
o = json.loads(j.decode("UTF-8"))
print(o)
print(o["def1"]["val1"])
print(o["def2"]["9"]["val1"])
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>{'def1': {'val1': 31.6, 'val2': 10}, 'def2': {'9': {'val1': 20.1, 'val2': 22}}}
31.6
20.1
</code></pre>
<p><strong>Edit:</strong></p>
<p>For Python 2, use this instead.</p>
<pre><code>import json
import subprocess

f = subprocess.Popen(["cat", "/tmp/foo.json"], stdout=subprocess.PIPE)
j = f.stdout.read()
o = json.loads(j.decode("UTF-8"))
print o
print o["def1"]["val1"]
print o["def2"]["9"]["val1"]
</code></pre>
</div>
<span class="comment-copy">Given that it's JSON, can you use a JSON parser in your language of choice?</span>
<span class="comment-copy">Lutz. thanks for your response. How would I build "s"?. "out" prints the cat of the file line by line..</span>
<span class="comment-copy">Isn't  <code>out</code> the string?</span>
<span class="comment-copy">s = []         for i in iter(f.stdout.readline,""):             s.append(i) If I did this that does not seem right. I cant seem to use "json.loads()" here. then?. Yes "out" is the string line after line.</span>
<span class="comment-copy">I edited my question with the error that I am seeing using your solution. Could u please see it Lutz?</span>
<span class="comment-copy">I have changed my answer.</span>
