<div class="post-text" itemprop="text">
<p>Following file as helloworld.pyx:</p>
<pre><code>print("Hello World")
</code></pre>
<p>Following file as setup.py:</p>
<pre><code>from distutils.core import setup
from distutils.extension import Extension
from Cython.Distutils import build_ext
ext_modules = [Extension("helloworld",["helloworld.pyx"]
setup(
    name = 'HW',
    cmdclass = {'build_ext': build_ext},
    ext_modules = ext_modules
)
</code></pre>
<p>After i use <code>python setup.py build_ext --inplace</code> i got my *.so file</p>
<p>So, i rename the *.so to hw.so, for getting a shorter import name.</p>
<p>But if i sart <code>python</code> and type in: <code>import hw</code> i got this error:</p>
<pre><code>ImportError: dynamic module does not define init function (PyInit_hw)
</code></pre>
<p>I was doing the exact thing bout 3 hours ago and all was ok. But i tryed something out from this side: <a href="http://sourceforge.net/p/ubertooth/mailman/message/31699880/" rel="nofollow noreferrer">http://sourceforge.net/p/ubertooth/mailman/message/31699880/</a></p>
<p>I tryed the following:</p>
<pre><code>cmake -DPYTHON_EXECUTABLE=$(which python2) \
-DPYTHON_INCLUDE_DIR=$(echo /usr/include/python2*) \
-DPYTHON_LIBRARY=$(echo /usr/lib/libpython2.*.so) \
</code></pre>
<p>because i wanted to fix something. I replaced all "2" with "3" cause i am working with python3.4</p>
<p>After i made this i always got the error above. Did i destroy any path? How can i undo it? Thank u for your help</p>
</div>
<div class="post-text" itemprop="text">
<p>When looking at the Python 3 documentation on "Extending Python with C or C++" we see that</p>
<blockquote>
<p>The initialization function must be named PyInit_name(), where name is the name of the module, and should be the only non-static item defined in the module file.</p>
</blockquote>
<p>(<a href="https://docs.python.org/3/extending/extending.html#the-module-s-method-table-and-initialization-function" rel="nofollow">https://docs.python.org/3/extending/extending.html#the-module-s-method-table-and-initialization-function</a>)</p>
<p>This means that we cannot just change the file name of the module without changing the init function. We have to compile the module with the final name in the first place. Renaming the <code>.so</code> file after compiling it will not work.</p>
</div>
<span class="comment-copy">Thank you very much, i alrdy noticed it by trying around myself. But ty for the documentation link, i didnt find that statemant. Would have been saved some hours of trial and error research :P</span>
