<div class="post-text" itemprop="text">
<p>The program runs in a loop and generates file for the no of records listed in  info list. But for the last record in that list it's generating a blank file. The final_list is never blank, i check that but still every time the last file which is being created is empty. Can someone please tell what i did wrong? </p>
<pre><code>outputC = net_connect.send_command("show int desc | i xe")
outputC1 = net_connect.send_command("show int desc | i xt")
final_list = capture_op(outputC,outputC1)
length = len(info[count][1])
name = info[count][1]     
name = name[0:length]+".txt"
for path,dirname,filename in os.walk("."):
    for file in filename:
        if file == name:
            os.remove(name)
            break
fo=open(name , 'w')
for i in final_list:
    print (i)
    fo.write(i)
    fo.write('\n')
fo.close
count+=1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As DeepSpace suggested you should really always use with open()</p>
<pre><code>with open(name, 'w') as fo:

    for i in final_list:
        print (i)
        fo.write(i)
        fo.write('\n')
count+=1
</code></pre>
<p>Python Reference:
<a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files</a></p>
</div>
<span class="comment-copy">You're not calling <code>fo.close</code>.  Call it like this:   <code>fo.close()</code></span>
<span class="comment-copy">Thanks, im doing this same mistake a lot..</span>
<span class="comment-copy">Use <code>with open(...) as ...:</code> and you shall worry not.</span>
