<div class="post-text" itemprop="text">
<p>I am trying to write a program to calclulate digits of pi using the Nilakantha Series in python. Every time it runs though it will not give me more than 50 decimals. Still learning python so any help is appreciated.</p>
<pre><code># Program using Nilakantha Series to crunch digits of pi
from math import *
from decimal import *

getcontext().prec = 200 # this is not doing anything

# epsilon is how accurate I want to be to pi
EPSILON = 0.000000000000000000000000000000000000000000000000000001

sum = float(3)
step = 0

i = 2

while abs(pi - sum) &gt;= EPSILON:
    step += 1
    print (step)
    if step % 2 == 1:
        sum += 4.0 / (i * (i + 1) * (i + 2))
        i += 2
    else:
        sum -= 4.0 / (i * (i + 1) * (i + 2))
        i += 2

print (Decimal(sum))
print (Decimal(pi))
print ("Total itterations: ", step)
print ("Accurate to: ", EPSILON)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are not using the Decimal class to calculate Pi, but rather the float class. <code>getcontext()</code> affects Decimal, not float.</p>
<p>If you want to use Decimal, modify your code to convert to Decimal <em>before</em> looping. Note that AFAIK, the value of Pi is not available as a decimal in Python, so you need to get the value from someplace else (<a href="http://www.geom.uiuc.edu/~huberty/math5337/groupe/digits.html" rel="nofollow noreferrer">http://www.geom.uiuc.edu/~huberty/math5337/groupe/digits.html</a>).</p>
</div>
<span class="comment-copy">A simple workaround would be to calculate the next digit, and hold the whole number in a string and just append.</span>
<span class="comment-copy">getcontext() is for Decimals. <a href="https://docs.python.org/3/library/decimal.html" rel="nofollow noreferrer">docs.python.org/3/library/decimal.html</a> your calculation is using float</span>
<span class="comment-copy">note that you're not actually calculating pi to 50 digits accuracy here. You are calculating a number which is accurate to within 50 decimal digits of the value given by math.pi, which is itself only accurate to about about the number significant digits a float can hold, which is about 16 or 17.</span>
