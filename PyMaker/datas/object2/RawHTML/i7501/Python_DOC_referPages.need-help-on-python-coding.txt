<div class="post-text" itemprop="text">
<p>Need help to solve: IndexError: list index out of range</p>
<p>The code is to read the info in the text and print out the city and their highest temp. And once all is done, it should close the file.</p>
<p>Assistance please. Much thanks.</p>
<pre><code>!curl https://raw.githubusercontent.com/MicrosoftLearning/intropython/master/world_temp_mean.csv -o mean_temp.txt

temp_file = open('mean_temp.txt','a+')
temp_file.write("Rio de Janeiro,Brazil,30.0,18.0")

temp_file.seek(0,0)
headings = temp_file.readline()
headings = headings.split(',')
#print(headings)

city_temp = temp_file.readline()

while city_temp:

    city_temp = temp_file.readline()
    city_temp = city_temp.split(',')
    print(headings[0].capitalize(),"of",city_temp[1],headings[2],"is",city_temp[2],"Celsius.")

temp_file.close()
</code></pre>
<p>Here are the contents of temp_file.txt:</p>
<pre><code>city,country,month ave: highest high,month ave: lowest low Beijing,China,30.9,-8.4 Cairo,Egypt,34.7,1.2 London,UK,23.5,2.1 Nairobi,Kenya,26.3,10.5 New York City,USA,28.9,-2.8 Sydney,Australia,26.5,8.7 Tokyo,Japan,30.8,0.9
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem was with your text file like I initialled assumed. You've dumped the intial data into a single line and hence everything was being read into <code>headings</code> and the lines got exhausted.
Here, fixed it:</p>
<pre><code>temp_file = open('mean_temp.txt','a+')
temp_file.write("Rio de Janeiro,Brazil,30.0,18.0\n")
temp_file.seek(0,0)
headings = temp_file.readline()
headings = headings.split(',')
city_temp = temp_file.readline()
while city_temp:
    city_temp = city_temp.split(',')
    print(headings[0].capitalize(),"of",city_temp[1],headings[2],"is",city_temp[2],"Celsius.")
    city_temp = temp_file.readline()
temp_file.close()
</code></pre>
<p>and change the <code>mean_temp.txt</code> by adding a new line after every country that's already present in that.</p>
<pre><code>city,country,month ave: highest high,month ave: lowest low 
Beijing,China,30.9,-8.4 
Cairo,Egypt,34.7,1.2 
London,UK,23.5,2.1 
Nairobi,Kenya,26.3,10.5 
New York City,USA,28.9,-2.8 
Sydney,Australia,26.5,8.7 
Tokyo,Japan,30.8,0.9 
</code></pre>
<p>Here is the output:</p>
<pre><code>City of China month ave: highest high is 30.9 Celsius.
City of Egypt month ave: highest high is 34.7 Celsius.
City of UK month ave: highest high is 23.5 Celsius.
City of Kenya month ave: highest high is 26.3 Celsius.
City of USA month ave: highest high is 28.9 Celsius.
City of Australia month ave: highest high is 26.5 Celsius.
City of Japan month ave: highest high is 30.8 Celsius.
City of Brazil month ave: highest high is 30.0 Celsius.
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try this    </p>
<pre><code>f = open("ml/play.txt", "r")
for line in f:
    x = line.split(',')
    print(x[0].capitalize(),"of",x[1],x[2],"is",x[3],"Celsius.")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The problem is with the way you've done your <code>while</code> loop. You're skipping the first <code>city_temp</code> line, because inside the loop you immediately reassign it from the next line.</p>
<p>And when you reach the end of the file, <code>city_temp</code> will be empty, but you'll still try to split it and print the fields.</p>
<p>Change this code:</p>
<pre><code>city_temp = temp_file.readline()

while city_temp:

    city_temp = temp_file.readline()
    city_temp = city_temp.split(',')
    print(headings[0].capitalize(),"of",city_temp[1],headings[2],"is",city_temp[2],"Celsius.")
</code></pre>
<p>to:</p>
<pre><code>while True:
    city_temp = temp_file.readline()
    if not city_temp:
        break
    city_temp = city_temp.split(',')
    print(headings[0].capitalize(),"of",city_temp[1],headings[2],"is",city_temp[2],"Celsius.")
</code></pre>
<p>BTW, Python has a module for reading and writing CSV files, you don't need to code this yourself. See <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">https://docs.python.org/3/library/csv.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Any time if you are doing index operations on any abstract data type and with that if you are unknown or unsure of total number of indexes in your abstract data type, then put your index operation in a try except block. And your except block should handle index error exception.</p>
<pre><code>try:
   print(headings[0].capitalize(),"of",city_temp[1],headings[2],"is",city_temp[2],"Celsius.")
except IndexError:
   print "Index Error"
</code></pre>
</div>
<span class="comment-copy">Have you looked up the error? This is a very common error, and guides exist everywhere explaining it. Also, what's the exact error?</span>
<span class="comment-copy">am a learner, so not exactly sure how to solve.</span>
<span class="comment-copy">we need to have a look at mean_temp.txt</span>
<span class="comment-copy">it consist of this in the mean_temp.txt file:</span>
<span class="comment-copy">Post significant edits like this into the question, not as comments. The comment with the file contents needs proper formatting or it's useless.</span>
<span class="comment-copy">Note that your code is still not achieving what you were suppossed to do. Especially, printing the capitals and those extra words. Consider replacing <code>headings[0]</code> in the <code>print</code> statement with <code>city_temp[0]</code>.</span>
<span class="comment-copy">fix your indentation. for shouldn't have an indent</span>
<span class="comment-copy">thanks, mate...</span>
<span class="comment-copy">Why should he try this? Explain what the problem was and how your code fixes it.</span>
<span class="comment-copy">try your code out. It doesn't print anything. The problem is the readline() is getting exhausted at <code>headings</code>.</span>
<span class="comment-copy">@HarshithThota That should just read one line, the line with the field names.</span>
<span class="comment-copy">he wants to eliminate the error, not catch and handle it. He should rewrite his code to fix the error.</span>
<span class="comment-copy">And his data appears to be fixed, so being of unknown size doesn't seem to be the problem.</span>
