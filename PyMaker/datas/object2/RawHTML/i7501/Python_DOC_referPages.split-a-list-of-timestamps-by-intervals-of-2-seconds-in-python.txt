<div class="post-text" itemprop="text">
<p>I have a list of timestamps all converted to integers. How can I split them into separate lists of 2-second intervals?</p>
<pre><code>d = [1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256401, 1499256401, 1499256401, 1499256401, 1499256402, 1499256402, 1499256403, 1499256403, 1499256404, 1499256404, 1499256405, 1499256405, 1499256405, 1499256405, 1499256406, 1499256406, 1499256407, 1499256407, 1499256408, 1499256408, 1499256408, 1499256408, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409]
</code></pre>
<p>I would like to split them into intervals of 2 seconds so that I am able to print out the results of each interval.</p>
<p>Intended output:</p>
<pre><code>[1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256401, 1499256401, 1499256401, 1499256401, 1499256402, 1499256402]
[1499256403, 1499256403, 1499256404, 1499256404, 1499256405, 1499256405, 1499256405, 1499256405]
[1499256406, 1499256406, 1499256407, 1499256407, 1499256408, 1499256408, 1499256408, 1499256408]
[1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409]
</code></pre>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a simple for loop to group items spanning a maximum difference of 2:</p>
<pre><code>lst = [[]]
start = d[0]
for x in d:
    if x-start &lt;= 2:
        lst[-1].append(x)
    else:
        lst.append([x])
        start = x
</code></pre>
<p>If the elements are not sorted, you can call <code>sorted</code> to do a presort before grouping.</p>
<p>For code reuse (imports and all that), you can create a grouper class and then use <a href="https://docs.python.org/3/library/itertools.html#itertools.groupby" rel="nofollow noreferrer"><code>itertools.groupby</code></a> for grouping:</p>
<pre><code>from itertools import groupby

class Grouper(object):
    def __init__(self, start=None, diff=2):
        self.diff = diff
        self.start = start
        self._count = 0

    def __call__(self, x):
        if x-self.start &gt; self.diff:
            self._count += 1
            self.start = x
        return self._count
</code></pre>
<p>And then the grouping is now simplified to:</p>
<pre><code>lst = [list(g) for _, g in groupby(d, Grouper(start=d[0]))]
</code></pre>
<hr/>
<pre><code>[[1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256401, 1499256401, 1499256401, 1499256401, 1499256402, 1499256402], 
 [1499256403, 1499256403, 1499256404, 1499256404, 1499256405, 1499256405, 1499256405, 1499256405], 
 [1499256406, 1499256406, 1499256407, 1499256407, 1499256408, 1499256408, 1499256408, 1499256408], 
 [1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409]]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could try this - determine the range of minimum and maximum values of <code>d</code> and then check if each element is within the interval if 2 seconds <code>(x, x+1, x+2)</code>:</p>
<pre><code>for x in range(min(d), max(d)+1, 3):
    print ([item for item in d if item in (x, x+1, x+2) ])
</code></pre>
<p>Returns:</p>
<pre><code>[1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256400, 1499256401, 1499256401, 1499256401, 1499256401, 1499256402, 1499256402]
[1499256403, 1499256403, 1499256404, 1499256404, 1499256405, 1499256405, 1499256405, 1499256405]
[1499256406, 1499256406, 1499256407, 1499256407, 1499256408, 1499256408, 1499256408, 1499256408]
[1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409, 1499256409]
</code></pre>
</div>
<span class="comment-copy">Can you post also the code you've tried?</span>
<span class="comment-copy">Psh. You beat me this time. ;/</span>
<span class="comment-copy">This only works assuming that the elements are sorted in advance</span>
<span class="comment-copy">Thanks. This works perfectly for me. Elements are sorted!</span>
<span class="comment-copy">Thank you but the answer is not easily scalable assuming I want to change the intervals to 6000 seconds.</span>
