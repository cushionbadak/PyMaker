<div class="post-text" itemprop="text">
<p>I am attempting to use the beautifulsoup find_all function within a for loop to return either one of two td elements with different classes. The td elements are within an html div element. There are multiple divs which are being iterated through by the for loop and each one will hold either one of two td elements with different classes. </p>
<p>My goal is to grab the text from within the td elements but I am having trouble finding a way to make it so both td classes are acceptable for the find_all function.</p>
<p>I want to use one find_all to grab either of these td elements, whichever one is present within the current div element.</p>
<p>sample html looks like this:</p>
<p><div class="snippet" data-babel="false" data-console="true" data-hide="false" data-lang="js">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div&gt; 
&lt;td class='class1'&gt;
text to scrape
&lt;/td&gt;
&lt;/div&gt;

&lt;div&gt; 
&lt;td class='class2'&gt;
text to scrape
&lt;/td&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
<p>My code looks something like this:</p>
<pre><code>for propbox in soup.find_all('div')
    tester = propbox.find_all('td', {"class" : lambda A: A.contains("class1") or A.contains("class2")})
</code></pre>
<p>I am getting an error: AttributeError: 'NoneType' object has no attribute 'contains'</p>
<p>So I am assuming from this that when one td class is not present python is still trying to use .contains() on a None type which it doesnt like.</p>
<p>Does anyone know of a way I can achieve this? Any help/examples are much appreciated. Thanks in advance</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function" rel="nofollow noreferrer">The function</a> is given each <code>class</code> attribute value (<code>str)</code>; then whole class attribute value (unless no previous call returned for the element). But <code>None</code> is passed is passed argument if there no <code>class</code> attribute.</p>
<p>So you need to check <code>None</code>.</p>
<p>Or for you case simple <code>in</code> should be enough:</p>
<pre><code>for propbox in soup.find_all('div'):
    tester = propbox.find_all('td', {
        "class": lambda class_: class_ in ("class1", "class2")
    })
    # print(tester)
</code></pre>
<hr/>
<p>BTW, there's no <code>contains</code> method, but <a href="https://docs.python.org/3/reference/datamodel.html#object.__contains__" rel="nofollow noreferrer"><code>__contains__</code> method</a> (<code>in</code>, membership test operator will use it):</p>
<pre><code>&gt;&gt;&gt; 'haystack'.contains('needle')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'str' object has no attribute 'contains'
&gt;&gt;&gt; 'haystack'.__contains__('needle')
False
&gt;&gt;&gt; 'needle' in 'haystack'
False
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I figured out another way to do it, probably a lot less robust that what falsetru came up with.</p>
<pre><code>Agenttester = propbox.find_all('td', class_="class2")
    if Agenttester == []:
        Agenttester = 'This is class1'
    else:
        Agenttester = 'this is class2'
</code></pre>
<p>This also works fine in my case because if class2 is not present in the div it returns []. But falsetru has the right idea</p>
</div>
<span class="comment-copy">Thanks falsetru! great answer</span>
<span class="comment-copy">@ScrapeJunkie, You're welcome. Happy python programming.</span>
