<div class="post-text" itemprop="text">
<p>The query returns the response as text and I would like to get it as json.</p>
<p>Python 3.5.3</p>
<pre><code>import ssl
import json
import requests

url = 'https://127.0.0.1:8000/'

payload = json.dumps({'User':'Adam', 'Password':'123456'})

r = requests.post(url, data=payload)
</code></pre>
<p>Response:</p>
<pre><code>In [23]: r.text

Out[23]: 'status=ok&amp;info=00005'

In [24]: r.json()

Out[24]: JSONDecodeError: Expecting value: line 1 column 1 (char 0)
</code></pre>
<p>How to get this data in json format like this:</p>
<pre><code>{
'status: 'ok',
'info': '00005'
}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The given text is not a json string, but a query string.</p>
<p>You can use <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.parse_qs" rel="nofollow noreferrer"><code>urllib.parse.parse_qs</code></a> to get a dictionary or <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.parse_qsl" rel="nofollow noreferrer"><code>urllib.parse.parse_qsl</code></a> to get a list of (key, value) pairs from the query string.</p>
<pre><code>&gt;&gt;&gt; urllib.parse.parse_qs('status=ok&amp;info=00005')
{'status': ['ok'], 'info': ['00005']}


&gt;&gt;&gt; urllib.parse.parse_qsl('status=ok&amp;info=00005')
[('status', 'ok'), ('info', '00005')]
&gt;&gt;&gt; dict(urllib.parse.parse_qsl('status=ok&amp;info=00005'))
{'status': 'ok', 'info': '00005'}
</code></pre>
</div>
<span class="comment-copy">Presumably you control the server application if its running on localhost, so why aren't you just returning JSON?</span>
<span class="comment-copy">check here <a href="http://docs.python-requests.org/en/master/user/quickstart/#more-complicated-post-requests" rel="nofollow noreferrer">docs.python-requests.org/en/master/user/quickstart/â€¦</a></span>
<span class="comment-copy">Server address is a example i do not control them. Server return header link 'Content-Type': 'text/html;charset=UTF-8'</span>
