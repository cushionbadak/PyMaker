<div class="post-text" itemprop="text">
<p>i have a python script that collects data from a server in the form of </p>
<pre><code>&lt;hh-mm-ss&gt;,&lt;ddd&gt;
</code></pre>
<p>here, the first field is Date and the second field is an integer digit. this data is being written into a file.</p>
<p>i have another thread running which is plotting a live graph from the file which i mentioned in the above paragraph.</p>
<p>so this file has data like,</p>
<pre><code>&lt;hh-mm-ss&gt;,&lt;ddd&gt;
&lt;hh-mm-ss&gt;,&lt;ddd&gt;
&lt;hh-mm-ss&gt;,&lt;ddd&gt;
&lt;hh-mm-ss&gt;,&lt;ddd&gt;
</code></pre>
<p>Now i want to plot a time series Matplotlib graph with the above shown data.
but when i try , it throws an error saying,</p>
<pre><code>ValueError: invalid literal for int() with base 10: '15:53:09'
</code></pre>
<p>when i have normal data like shown below, things are fine</p>
<pre><code>&lt;ddd&gt;,&lt;ddd&gt;
&lt;ddd&gt;,&lt;ddd&gt;
&lt;ddd&gt;,&lt;ddd&gt;
&lt;ddd&gt;,&lt;ddd&gt;
</code></pre>
<p><strong>UPDATE</strong>
my code that generates graph from the file i have described above is shown below,</p>
<pre><code>def animate(i):

    pullData = open("sampleText.txt","r").read()
    dataArray = pullData.split('\n')
    xar = []
    yar = []
    for eachLine in dataArray:
        if len(eachLine)&gt;1:
            x,y = eachLine.split(',')
            xar.append(int(x))
            yar.append(int(y))
    ax1.clear()
    ax1.plot(xar,yar)
</code></pre>
<p><strong>UPDATED CODE</strong></p>
<pre><code>def animate(i):
    print("inside animate")
    pullData = open("sampleText.txt","r").read()
    dataArray = pullData.split('\n')
    xar = []
    yar = []
    for eachLine in dataArray:
        if len(eachLine)&gt;1:
            x,y = eachLine.split(',')
            timeX=datetime.strptime(x, "%H:%M:%S")
            xar.append(timeX.strftime("%H:%M:%S"))
            yar.append(float(y))
    ax1.clear()
    ax1.plot(xar,yar)
</code></pre>
<p>Now i am getting the error at this line (<code>ax1.plot(xar,yar)</code>)
how will i get over this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You are trying to parse an integer from a string representing a timestamp. Of course it fails.</p>
<p>In order to be able to use the timestamps in a plot, you need to parse them to the proper type, e.g., <code>datetime.time</code> or <code>datetime.datetime</code>. You can use <code>datetime.datetime.strptime()</code>, <code>dateutil.parser.parse()</code> or maybe also <code>time.strptime()</code> for this.</p>
<p>Plotting the data is straight-forward, then. Have a look at the interactive plotting mode: <code>matplotlib.pyplot.ion()</code>.</p>
<p>For reference/further reading:</p>
<ul>
<li><a href="https://pypi.python.org/pypi/python-dateutil" rel="nofollow noreferrer">https://pypi.python.org/pypi/python-dateutil</a></li>
<li><a href="http://dateutil.readthedocs.org/en/latest/parser.html#dateutil.parser.parse" rel="nofollow noreferrer">http://dateutil.readthedocs.org/en/latest/parser.html#dateutil.parser.parse</a></li>
<li><a href="https://docs.python.org/2/library/datetime.html#datetime.datetime.strptime" rel="nofollow noreferrer">https://docs.python.org/2/library/datetime.html#datetime.datetime.strptime</a></li>
<li><a href="https://docs.python.org/2/library/time.html#time.strptime" rel="nofollow noreferrer">https://docs.python.org/2/library/time.html#time.strptime</a></li>
<li><a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.ion" rel="nofollow noreferrer">http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.ion</a></li>
<li><a href="https://stackoverflow.com/q/1574088/1025391">Plotting time in Python with Matplotlib</a> </li>
<li><a href="https://stackoverflow.com/q/5733419/1025391">How to iterate over the file in python</a></li>
</ul>
<hr/>
<p>Based on your code I have created an example. I have inlined some notes as to why I think it's better to do it this way.</p>
<pre><code># use with-statement to make sure the file is eventually closed
with open("sampleText.txt") as f:
    data = []
    # iterate the file using the file object's iterator interface
    for line in f:
        try:
            t, f = line.split(",")
            # parse timestamp and number and append it to data list
            data.append((datetime.strptime(t, "%H:%M:%S"), float(f)))
        except ValueError:
            # something went wrong: inspect later and continue for now
            print "failed to parse line:", line
# split columns to separate variables
x,y = zip(*data)
# plot
plt.plot(x,y)
plt.show()
plt.close()
</code></pre>
<p>For further reading:</p>
<ul>
<li><a href="https://docs.python.org/2/reference/datamodel.html#context-managers" rel="nofollow noreferrer">https://docs.python.org/2/reference/datamodel.html#context-managers</a></li>
<li><a href="https://docs.python.org/2/library/stdtypes.html#file-objects" rel="nofollow noreferrer">https://docs.python.org/2/library/stdtypes.html#file-objects</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>The error tells you the cause of the problem: You're trying to convert a string, such as <code>'15:53:09'</code>, into an integer. This string is not a valid number.</p>
<p>Instead, you should either look into using a <code>datetime</code> object from the <a href="https://docs.python.org/3/library/datetime.html" rel="nofollow">datetime</a> module to work with date/time things or at least <code>split</code>ting the string into fields using <code>':'</code> as the delimiter and the using each field separately.</p>
<p>Consider this brief demo:</p>
<pre><code>&gt;&gt;&gt; time = '15:53:09'
&gt;&gt;&gt; time.split(':')
['15', '53', '09']
&gt;&gt;&gt; [int(v) for v in time.split(':')]
[15, 53, 9]
&gt;&gt;&gt; int(time)  # expect exception
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ValueError: invalid literal for int() with base 10: '15:53:09'
&gt;&gt;&gt;
</code></pre>
</div>
<span class="comment-copy">You should post your code to show what you've tried. Still, I left you a response that should help you go in the right direction.</span>
<span class="comment-copy">i will post my code, please remove the down vote if you have done it for this reason.. i was just editing my question :(</span>
<span class="comment-copy">done.. please undo it.</span>
<span class="comment-copy">Restored yesterday.</span>
<span class="comment-copy">i am getting an error like this now "ValueError: invalid literal for float(): 19:09:12" here the 19:09:12 is the time which i wanna show on x-axis. i have posted the updated code in my question</span>
<span class="comment-copy">@VasanthNagKV You have to provide more information on the error (which line, which context?) in order for it to be helpful. However, you seem to add again a string to the <code>xar</code> list. Don't call <code>strftime()</code> at that point. It converts the object to a string representation. You don't want that.</span>
<span class="comment-copy">i have given you all the information i believe. please let me know one thing. can a datetime object be used to plot on xaxis? or should it be a int or float only?</span>
<span class="comment-copy">getting an error at this line - x,y = zip(*data) "ValueError: need more than 0 values to unpack"</span>
<span class="comment-copy">@VasanthNagKV That means your input data is empty. You should fix your data input step then.</span>
<span class="comment-copy">Why the down vote?</span>
