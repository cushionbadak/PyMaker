<div class="post-text" itemprop="text">
<p>i'm currently making a text-based game on python and i have a question.
I have classes for some rooms like RoomSpider, RoomSoldier, RoomDragon, etc. and I want to create a map (3d array) and fill some rooms with an instance of a random class.</p>
<p>For example:</p>
<pre><code>[[RoomSpider, RoomSoldier],
[RoomSoldier,RoomDragon]]
</code></pre>
<p>How can I do to create an instance of a random class?</p>
</div>
<div class="post-text" itemprop="text">
<p>To make an instance of a random class:</p>
<pre><code>import random
classes = (RoomSpider, RoomSoldier, RoomDragon, 
           RoomElephant, RoomPixie)

# choose a random class from the list and instantiate it
instance = random.choice(classes)()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Take a look at <a href="https://docs.python.org/3/library/random.html#random.choice" rel="nofollow"><code>random.choice</code></a>, it lets you choose a random element from a sequence.</p>
<pre><code>from random import choice
classes = (RoomSpider, RoomSoldier, RoomDragon, ...)
room = [[choice(classes)() for _ in range(2)] for __ in range(2)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Classes are first-class objects in Python, which means that you can store them in variables and pass them around. So for instance, you could make a list/tuple of all your possible classes and then pick random ones:</p>
<pre><code>import random

room_classes = (RoomSpider, RoomSoldier, RoomDragon)
room_map = []

for row in range(5):
    room_row = []
    for col in range(5):
        room_class = random.choice(room_classes) # picks a random class
        room_row.append(room_class())            # creates an instance of that class
    room_map.append(room_row)
</code></pre>
<p>This uses <a href="https://docs.python.org/3/library/random.html#random.choice" rel="nofollow"><code>random.choice()</code></a> to generate a 5x5 set of randomly chosen instances.</p>
</div>
<span class="comment-copy">Looking for this <a href="http://stackoverflow.com/questions/4821104/python-dynamic-instantiation-from-string-name-of-a-class-in-dynamically-imported" title="python dynamic instantiation from string name of a class in dynamically imported">stackoverflow.com/questions/4821104/â€¦</a> ?</span>
