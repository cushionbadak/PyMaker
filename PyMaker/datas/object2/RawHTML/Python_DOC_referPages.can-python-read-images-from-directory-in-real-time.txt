<div class="post-text" itemprop="text">
<p>I have written code for taking snap-shot from a selected video and save to image using <code>OpenCV</code> and save the file in a chosen directory, but I don't know how <code>Python</code> can get the list of files in the directory in real-time. Now I have written Python code to get the list of files in the directory but as soon as the file list is updated, the program ends. It is unable to read the directory when images in it get updated or there is a new Image created inside it.</p>
<p>My code:</p>
<pre><code>from PIL import Image
import glob
image_list = []

for filename in glob.glob('path/*.jpg'):
    im=Image.open(filename)
    image_list.append(im)
print(image_list)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Sounds like you need to use <code>watchdog</code>:</p>
<p><a href="https://pythonhosted.org/watchdog/quickstart.html#a-simple-example" rel="nofollow noreferrer">https://pythonhosted.org/watchdog/quickstart.html#a-simple-example</a></p>
<p>In a nutshell, you want to write your Python script to monitor a particular directory and watch for <code>on_created</code> events.  Once that event is found, read the file and continue monitoring the directory for additional <code>on_created</code> events.</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/182197/how-do-i-watch-a-file-for-changes">How do I watch a file for changes?</a></span>
