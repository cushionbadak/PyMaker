<div class="post-text" itemprop="text">
<p>well this is slightly related to my <a href="https://stackoverflow.com/questions/51166945/why-does-inspect-getsource-throw-typeerror-when-trying-to-get-source-for-python">another question</a>.</p>
<p>Among all means to get source of a function:</p>
<ul>
<li>getsource won't work</li>
<li>os.scandir has no <code>__file__</code> attribute, so you can't just <code>os.scandir.__file__</code>.</li>
<li>scanning through the <a href="https://github.com/python/cpython/blob/master/Lib/os.py" rel="nofollow noreferrer">source file in python github repo</a> reveals nothing of interest.</li>
</ul>
<p>Any advice would be appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/os.html#os.scandir" rel="nofollow noreferrer">From the documentation</a>:</p>
<blockquote>
<p>On Unix-based systems, scandir() uses the system’s opendir() and readdir() functions. On Windows, it uses the Win32 FindFirstFileW and FindNextFileW functions.</p>
</blockquote>
<p>I would recommend looking at those if you want to know what's going on behind the scenes.</p>
<ul>
<li><a href="http://man7.org/linux/man-pages/man3/opendir.3.html" rel="nofollow noreferrer"><strong><code>opendir</code></strong></a></li>
<li><a href="http://man7.org/linux/man-pages/man3/readdir.3.html" rel="nofollow noreferrer"><strong><code>readdir</code></strong></a></li>
<li><a href="https://docs.microsoft.com/en-us/windows/desktop/api/fileapi/nf-fileapi-findfirstfilew" rel="nofollow noreferrer"><strong><code>FindFirstFileW</code></strong></a></li>
<li><a href="https://docs.microsoft.com/en-us/windows/desktop/api/fileapi/nf-fileapi-findnextfilew" rel="nofollow noreferrer"><strong><code>FindNextFileW</code></strong></a></li>
</ul>
</div>
<span class="comment-copy">yeah, it uses them, but I believe that's not everything that's going on when you call scandir(), you can't just directly pass the arguments of scandir to those OS native API. there should be some sort of interface between them.</span>
<span class="comment-copy">I think the interface is in these files: <a href="https://github.com/python/cpython/blob/12a08c47601cadea8e7d3808502cdbcca87b2ce2/Modules/posixmodule.c" rel="nofollow noreferrer">github.com/python/cpython/blob/…</a> and <a href="https://github.com/python/cpython/blob/c7f02a965936f197354d7f4e6360f4cfc86817ed/Modules/clinic/posixmodule.c.h" rel="nofollow noreferrer">github.com/python/cpython/blob/…</a></span>
