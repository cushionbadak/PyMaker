<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/6892616/python-multiplication-override">Python: multiplication override</a>
<span class="question-originals-answer-count">
                    2 answers
                </span>
</li>
</ul>
</div>
<p>I wrote a class in python like this </p>
<pre><code>class Vector(object):
def __init__(self, coordinates):
    try:
        if not coordinates:
            raise ValueError
        self.coordinates = tuple(coordinates)
        self.dimension = len(coordinates)

    except ValueError:
        raise ValueError('The coordinates must be nonempty')

    except TypeError:
        raise TypeError('The coordinates must be an iterable')

def __add__(self,v):
    v1 = np.array(self.coordinates)
    v2 = np.array(v.coordinates)
    result = v1 + v2
    return result.tolist()

def __sub__(self, other):
    v1 = np.array(self.coordinates)
    v2 = np.array(other.coordinates)
    result = v1 - v2
    return result.tolist()

def __mul__(self, other):
    return other * np.array(self.coordinates)

def multiply(self,other):
    v = Decimal(str(other)) * np.array(self.coordinates)
    return v

def __str__(self):
    return 'Vector: {}'.format(self.coordinates)


def __eq__(self, v):
    return self.coordinates == v.coordinates
</code></pre>
<p>I want to overwrite the operation <code>*</code>, so I can achieve function like:</p>
<pre><code>3*Vector([1,2,3])=Vector([3,6,9])
</code></pre>
<p>so I tried code like this:</p>
<pre><code>    def __mul__(self, other):
    return other * np.array(self.coordinates)
</code></pre>
<p>however, I was disappointed to notice that this function only works when</p>
<pre><code>Vector([1,2,3])*3
</code></pre>
<p>if I wrote:</p>
<pre><code>3*Vector([1,2,3])
</code></pre>
<p>it says:</p>
<blockquote>
<p>TypeError: unsupported operand type(s) for *: 'int' and 'Vector'</p>
</blockquote>
<p>How can I get the function that works both on <code>3*Vector([1,2,3])</code> and <code>Vector([1,2,3])*3</code>?</p>
<p>thank you so much.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is exactly why <a href="https://docs.python.org/3/reference/datamodel.html#object.__rmul__" rel="nofollow noreferrer"><strong>rmul</strong></a> was designed.</p>
<pre><code>class Vector(object):
    # ...
    def __rmul__(self, other):
       return self.__mul__(other)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>Vector([1,2,3])*3</code> works because <code>Vector()*3</code> means "call the <code>__mul__()</code> function of my vector object with an <code>int</code> argument". </p>
<p>But <code>3*Vector([1,2,3])</code> doesn't work because that tries to call a multiplication function of an <code>int</code> object with a <code>Vector</code> argument: <code>int</code> doesn't know about your <code>Vector</code> class, so it throws an error.</p>
<p>You need to define an <code>__rmul__()</code> function on <code>Vector</code> to fix this.</p>
</div>
<span class="comment-copy">You need to define <code>__rmul__</code></span>
<span class="comment-copy">although i have fulfilled this code, it seems that your code is more graceful than mine. I will take your code. thank you for your help.</span>
<span class="comment-copy">I tried your recommendation and it works!! thank you so much!</span>
<span class="comment-copy"><a href="https://stackoverflow.com/help/someone-answers">stackoverflow.com/help/someone-answers</a></span>
