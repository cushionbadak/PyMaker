<div class="post-text" itemprop="text">
<p>I am a newbie to python world, need help</p>
<p>I have a requirement to remove the duplicate values from row3 and append the data of row4, I am using below script to achieve this</p>
<p>Everything works fine except the data in the row4 is not getting appended</p>
<p>Appreciate your help on this  </p>
<pre><code>import csv

result = {}

with open('test.csv', 'r') as csv_file:
    csv_reader = csv.DictReader(csv_file)

    with open('output.csv', 'w',encoding='utf-8') as new_file:
        fieldnames = ['row1','row2','row3','row4','row5',]
        csv_writer = csv.DictWriter(new_file,lineterminator='\n' , fieldnames=fieldnames)
        csv_writer.writeheader ()

        for row in csv_reader:
           if row["row3"] in result:
               result [row["row3"]].append (row["row4"])
           else:
               result[row["row3"]] = [row["row4"]]
           csv_writer.writerow({
            "row1":  row["row1"],
            "row2": row["row2"],
            "row3": row["row3"],
            "row4": row["row4"],
            "row4": row["row4"]
            })
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Change the 'w' to 'a' in the line:</p>
<pre><code>with open('output.csv', 'w',encoding='utf-8') as new_file:
</code></pre>
<p>a is for appending to the file. w is for write, which will overwrite any previous files.</p>
<p>Refer to <a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/inputoutput.html</a> for python file input and outputs</p>
</div>
<span class="comment-copy">i replaced 'w' with 'a' , with no success</span>
<span class="comment-copy">it is writing all the output again, rather appending data to row4</span>
