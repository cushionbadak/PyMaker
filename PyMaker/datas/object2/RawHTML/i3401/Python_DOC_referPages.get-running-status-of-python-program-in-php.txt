<div class="post-text" itemprop="text">
<p>Hi I am doing a project with Raspberry Pi. I make a python program which have an endless loop inside. I also make a PHP website which call to that python program, make it run in background by this way:</p>
<pre><code>$call = "sudo python ../python/readver12.py &gt; /dev/null 2&gt;&amp;1 &amp;";
shell_exec($call);
</code></pre>
<p>Everything seem okay, but I don't know how to get the status of my python program is running in background or not, and make it available in my website with PHP ?</p>
</div>
<div class="post-text" itemprop="text">
<p>I guess there is many ways to do that:</p>
<p><strong>Try get the logs from terminal</strong>
You can throw some logs at your terminal while running your endless python script, and capture it with PHP</p>
<p><a href="https://docs.python.org/3/howto/logging.html" rel="nofollow noreferrer">https://docs.python.org/3/howto/logging.html</a></p>
<p><strong>Write on files and read with it with php</strong> </p>
<p>Straight forward, you write in file with python and read with PHP
<a href="http://www.pythonforbeginners.com/files/reading-and-writing-files-in-python" rel="nofollow noreferrer">http://www.pythonforbeginners.com/files/reading-and-writing-files-in-python</a></p>
<p><strong>API REST On PHP website and python with cURL</strong>
You can use cURL inside your python script to comunicate with your endpoints in php and get the needed data.</p>
<p>cURL: <a href="http://pycurl.io/docs/latest/index.html" rel="nofollow noreferrer">http://pycurl.io/docs/latest/index.html</a></p>
<p>PHP Api Rest: <a href="https://www.codeofaninja.com/2017/02/create-simple-rest-api-in-php.html" rel="nofollow noreferrer">https://www.codeofaninja.com/2017/02/create-simple-rest-api-in-php.html</a></p>
<p>I hope it helps</p>
</div>
<div class="post-text" itemprop="text">
<p>With shell_exec() PHP will wait to continue your script until the application you're calling exits and will return the output of that application as a string. When your application picks back up the child is already done (or you've hit the <a href="https://secure.php.net/manual/en/function.set-time-limit.php" rel="nofollow noreferrer">PHP time limit</a>).</p>
<p>It sounds like you want to start the process and monitor it while it's running. For that look at <a href="https://secure.php.net/manual/en/function.proc-open.php" rel="nofollow noreferrer">proc_open()</a> and <a href="https://secure.php.net/manual/en/function.proc-get-status.php" rel="nofollow noreferrer">proc_get_status()</a>.</p>
</div>
<span class="comment-copy">Thanks for your advice, base on that I made a log file from python script, and compare last time modified with current time by the way using filemtime in PHP  to capture the status.  It worked :D</span>
<span class="comment-copy">no problem, im glad that helps</span>
<span class="comment-copy">Thank for your advice, I will try to do this tonight</span>
