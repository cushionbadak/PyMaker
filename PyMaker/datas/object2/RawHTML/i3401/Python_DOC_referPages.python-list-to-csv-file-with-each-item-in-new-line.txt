<div class="post-text" itemprop="text">
<p>I am trying to write a function that takes in a list of strings and writes each String in the list as a separate row in a csv file, but I am not getting any output. Could you please help me understand what I am doing wrong. Here is my code:</p>
<pre><code> import sys 
 import os
 import csv

 list= ['name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com']

 def write_to_csv(list_of_emails):
     with open('emails.csv', 'w', newline='') as csvfile:
         writer = csv.writer(csvfile, delimiter = ',')
         writer.writerows(list_of_emails)

write_to_csv(list)  
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>delimiter='\n'</code> with <code>csv.writer.writerow</code> (notice, <em>not</em> <code>writerows</code>). In addition, <code>newline=''</code> is not required as an argument to <code>open</code>.</p>
<pre><code>import sys 
import os
import csv

L = ['name1@domain.com', 'name2@domain.com', 'name3@domain.com']

def write_to_csv(list_of_emails):
    with open('emails.csv', 'w') as csvfile:
        writer = csv.writer(csvfile, delimiter='\n')
        writer.writerow(list_of_emails)

write_to_csv(L)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to use <strong><a href="https://docs.python.org/3/library/csv.html#csv.csvwriter.writerow" rel="nofollow noreferrer">writerow</a></strong></p>
<p><strong>Ex:</strong></p>
<pre><code>import sys 
import os
import csv

l= ['name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com']

def write_to_csv(list_of_emails):
    with open('emails.csv', 'w', newline='') as csvfile:
        writer = csv.writer(csvfile, delimiter = '\n')
        writer.writerow(list_of_emails)

write_to_csv(l)  
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If your just writing each string on a seperate line, you can just keep it simple and just write each item with a <code>\n</code>:</p>
<pre><code>lst= ['name1@domain.com', 'name2@domain.com', 'name3@domain.com']

def write_to_csv(list_of_emails):
    with open('emails.csv', 'w') as csvfile:
        for domain in list_of_emails:
            csvfile.write(domain + '\n')

write_to_csv(lst)
</code></pre>
<p>Which Outputs:</p>
<pre><code>name1@domain.com
name2@domain.com
name3@domain.com
</code></pre>
<p>You also shouldn't use <code>list</code> as a variable name, since it shadows the builtin function <code>list</code>. </p>
</div>
<div class="post-text" itemprop="text">
<p>Why don't you try doing it with <a href="http://pandas.pydata.org/pandas-docs/version/0.23/" rel="nofollow noreferrer">pandas</a> instead. It's super easy. :)</p>
<pre><code>lst = ['name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com']
</code></pre>
<p>First, import package</p>
<pre><code>import pandas
</code></pre>
<p>Then, create dataframe</p>
<pre><code>df = pandas.DataFrame(data={"email": lst})
</code></pre>
<p>Then, export to csv :)</p>
<pre><code>df.to_csv("./mycsv.csv", sep=',',index=False)
</code></pre>
<p>Done :) let me know if this one works for you!</p>
</div>
<div class="post-text" itemprop="text">
<p>You can change the code as follows:</p>
<pre><code>import sys 
import os
import csv

listOfLines= [['name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com']]

def write_to_csv(list_of_emails):
   with open('emails.csv', 'w', newline='') as csvfile:
       writer = csv.writer(csvfile, delimiter = ',')
       writer.writerows(list_of_emails)

write_to_csv(listOfLines)
</code></pre>
<p>The function <code>writer.writerows()</code> takes a list of lists, in our case 
<code>[['name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com', 'name@domain.com']]</code>, 
where every sub-list inside the original list is treated as a single line of the CSV file.
You also should not use reserved keywords like <code>list</code> for variable names. <code>list</code>,<code>dict</code> are functions used to create Lists and Dictionaries respectively. May be in your code it did not throw any error, but for scripts that are larger than the current piece of code in question, the interpreter throws errors for the same and such errors become harder to debug</p>
</div>
