<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/4075190/what-is-getattr-exactly-and-how-do-i-use-it">What is getattr() exactly and how do I use it?</a>
<span class="question-originals-answer-count">
                    11 answers
                </span>
</li>
</ul>
</div>
<p>following code to start: </p>
<pre><code>products = [{
  "id": x.id,
  "fabric": x.fabric.name,
  "fabricimg": x.fabric.fabric_cover.url,
  } for x in entry_obj.all()]

cart_data = {
  "products": products,
  "total": cart_obj.total
}

return JsonResponse(cart_data)
</code></pre>
<p>This works fine for creating my list products with the dictionaries from the <code>x(objects)</code> in <code>entry_obj.all()</code>.
But now I have the scenario that I have some <code>x(objects)</code> with no <code>x.fabric.name</code>, and instead will have to use a filler for example a simple string like <code>"noname"</code>. </p>
<p>How can I use an if statement in the existing for loop to catch the case of name not existing and instead setting the key fabric to my string value?</p>
<p>I thought of using: </p>
<pre><code>if hasattr(entry_obj,"name") &gt; "fabric": x.fabric.name
else &gt; "fabric": "noname"
</code></pre>
<p>But I'm unsure where to put it in the for loop plus how to iterate through the <code>x(objects)</code> in <code>entry_obj</code> for that matter so I can still give <code>Json</code> the right <code>cart_data</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/functions.html#getattr" rel="nofollow noreferrer"><code>getattr</code></a> with the 3rd <em>default</em> argument:</p>
<pre><code>products = [{'id': x.id, 'fabric': getattr(x.fabric, 'name', 'noname'),
             'fabricimg': x.fabric.fabric_cover.url} for x in entry_obj.all()]
</code></pre>
</div>
