<div class="post-text" itemprop="text">
<p>I'm trying to loop pytesseract code to convert multiple images(18) into strings and name the output in sequece. tried to rearrange and replace the loop position more errors accur.  </p>
<pre><code>import cv2
import numpy as np
import pytesseract
from PIL import Image

src_path = "/home/pi/Desktop/"

def get_string(img_path):

    for n in range(0,18):

        n=n+1

        img = cv2.imread(img_path)

        img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

        kernel = np.ones((1, 1), np.uint8)
        img = cv2.dilate(img, kernel, iterations=1)
        img = cv2.erode(img, kernel, iterations=1)

        cv2.imwrite(src_path + "removed_noise"+ n +".png",img)
        cv2.imwrite(src_path +"thres"+ n +".png", img)

        result = pytesseract.image_to_string(Image.open(src_path + "thres"+ n +".png"))

    return result

print (get_string(src_path +"sample"+ str(n) +".jpeg"))
print ("------ Done -------")
</code></pre>
<p>it returns an error</p>
<pre><code>Traceback (most recent call last):
  File "/home/pi/Desktop/imagetostring.py", line 29, in &lt;module&gt;
    print (get_string(src_path +"sample"+ str(n) +".jpeg"))
NameError: name 'n' is not defined
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>n</code> is a <a href="https://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python" rel="nofollow noreferrer">local variable</a> of the <code>get_string</code> function. With your indentation, the <code>print</code> statement is outside this function, so the variable is out of scope, hence the error.</p>
<p>Simple code to explain scopes of local variables:</p>
<pre><code>def someFunction(N):
    print(myLocal) # ERROR: myLocal not defined yet.
    for myLocal in range(1,N):
        print(myLocal) # OK
    print(myLocal) # OK

print(myLocal) # ERROR (your case): myLocal can't be accessed outside someFunction.
               # It doesn't even exist while someFunction is not being executed.
</code></pre>
</div>
<span class="comment-copy">posted the modified code. no output no error, would you please check it.</span>
<span class="comment-copy">@sanqar Stackoverflow is a question &amp; answer site. This question was about a <code>NameError</code>, and I hope I was able to provide an helpful answer. If you have a different problem with a different code, you should post a different question. Before that, I would suggest that you spend some time on a Python tutorial/book to grasp the basics of the language.</span>
