<div class="post-text" itemprop="text">
<p>Can anyone help me covert the time into a format that influx db accepts.  The aim is to pass time (including milliseconds) to influxdb.  </p>
<p>Thanks </p>
</div>
<div class="post-text" itemprop="text">
<p>You probably need epoch time for influxDB</p>
<p><strong>Try:</strong></p>
<pre><code>import datetime
import time

t = "2009-11-10T23:00:00Z"
print( time.mktime(datetime.datetime.strptime(t, "%Y-%m-%dT%H:%M:%SZ").timetuple()) )
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>1257874200.0
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In Python you can convert the string representation to a <a href="https://docs.python.org/3/library/datetime.html#datetime-objects" rel="nofollow noreferrer"><code>datetime</code></a> object, convert that to a <a href="https://docs.python.org/3/library/time.html#time.struct_time" rel="nofollow noreferrer"><code>struct_time</code></a>, then convert that to an integer representing the <a href="https://en.wikipedia.org/wiki/Unix_time" rel="nofollow noreferrer">UNIX epoch time</a>.</p>
<pre><code>from datetime import datetime
from time import mktime

time_str = "2009-11-10T23:00:00Z"
time_fmt = "%Y-%m-%dT%H:%M:%SZ"
dt = datetime.strptime(time_str, time_fmt)
time_tuple = dt.timetuple()
epoch = mktime(time_tuple)
print(epoch)
</code></pre>
<p>Output:</p>
<pre><code>1257912000.0
</code></pre>
</div>
<span class="comment-copy">is that a string?</span>
<span class="comment-copy">By int you mean an epoch representation?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/7588511/format-a-datetime-into-a-string-with-milliseconds">Format a datetime into a string with milliseconds</a></span>
<span class="comment-copy">Thanks.  I need it down to the milliseconds.  I'm reading sensor data and taking many readings per a second.</span>
<span class="comment-copy">But your source only has till seconds</span>
<span class="comment-copy">Sorry, my bad. I know from the example on InfluxDB website that that format is accepted but I need to get it down to milliseconds.  Sorry for any confusion.  I'm creating the time on the fly within a python script.</span>
<span class="comment-copy">You can use <code>%f</code> if you have milliseconds. Ex: <code>print( time.mktime(datetime.datetime.strptime(t, "%Y-%m-%dT%H:%M:%S.%fZ").timetuple()) )</code></span>
<span class="comment-copy">Thanks.  I need it down to the milliseconds.  I'm reading sensor data and taking many readings per a second.</span>
