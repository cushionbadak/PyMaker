<div class="post-text" itemprop="text">
<p>I have a list say list1 and I want to map its elements to corresponding values.</p>
<pre><code>code = ['a','b','c']
value = [1,2,3]             
list1 = ['a','a','b','c','b','b','a','c']
</code></pre>
<p>here is the code that I wrote.</p>
<pre><code>def codeToValue(code,value,list1):
    list1_out = [0 for i in range(len(list1))]
    for i in range(len(list1)):
        for j in range(len(code)):
            if list1[i] == code[j]:
                list1_out[i] = value[j]
    return list1_out
</code></pre>
<p>and I got output as desired.</p>
<pre><code>print(codeToValue(code,value,list1))
[1, 1, 2, 3, 2, 2, 1, 3]
</code></pre>
<p>this code is fine for small size of lists but when I run it with large size of lists it's taking too much time because of two loops.
Please suggest something so that it's time efficiency can be increased.
Any suggestions will be greatly appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use a <a href="https://docs.python.org/3/library/functions.html#func-dict" rel="nofollow noreferrer"><code>dict</code></a> (built thanks to <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip()</code></a>) and <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>:</p>
<pre><code>mapping = dict(zip(code, value))
out = [mapping[v] for v in list1]
</code></pre>
<p>About efficiency: this snippet benefits from the <a href="https://wiki.python.org/moin/TimeComplexity#dict" rel="nofollow noreferrer"><code>O(1)</code></a> dict-lookup (although you still need to iterate first trough the values of the dict), and as list comprehensions are known to be faster than plain <code>for</code> loops, you should expect better performance with this code.</p>
<p>If this is still too slow for your usage, you should probably use a specialized library in large data processing like <a href="https://pandas.pydata.org/" rel="nofollow noreferrer"><code>pandas</code></a>.</p>
</div>
