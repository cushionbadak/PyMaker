<div class="post-text" itemprop="text">
<p>I tried to run:</p>
<pre><code>python -m venv my_venv_name
</code></pre>
<p>It fails with this message:</p>
<pre><code>Error: Command '['\\\\ (redacted path) \\python.exe', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 2.
</code></pre>
<p>I have a fresh install of Python 3.6.5 including pip 9.0.3. <code>python -m pip</code> works. The install is user-local and the only Python installation. This is in a corporate environment where pip can't access external stuff (surely it doesn't need to?) It's all in my user area: both the full python install and the venv target directory are on a network drive. </p>
<p>(I've redacted part of the path to Python in the error message)</p>
<p>How can I fix this? Should I report it as a bug? The error message would be confusing for a beginner following the basic tutorial.</p>
<p><strong>Conclusion: Don't work on UNC paths. Map a drive letter.</strong></p>
</div>
<div class="post-text" itemprop="text">
<p>The following should work:</p>
<pre><code>python -m venv --without-pip my_venv_name
</code></pre>
<p>The <a href="https://docs.python.org/3/library/venv.html#creating-virtual-environments" rel="nofollow noreferrer">options are documented here</a></p>
</div>
<span class="comment-copy">While that works, it's only a partial solution as I'd prefer to use pip to install whl files. Also I'd like to know what's wrong! This is after all pretty much copy/paste from the basic tutorial, it shouldn't be bleeding edge. Any ideas?</span>
<span class="comment-copy">If you want to know what's wrong, please post the output of <code>python -m ensurepip -vvv</code></span>
<span class="comment-copy">I failed to get a perfect replication of all parts of the problem so I won't post the -vvv output: it showed pip WAS installed in the venv, but I can't reproduce that starting from scratch: I don't want to post output which could waste time. I did reproduce the original problem. Enough for now and thanks for your help.</span>
<span class="comment-copy">I have the solution. It can't cope with UNC paths. If I install on an area with a drive letter, it works.</span>
<span class="comment-copy">Interesting, I don't understand why <code>--without-pip</code> was working then...</span>
