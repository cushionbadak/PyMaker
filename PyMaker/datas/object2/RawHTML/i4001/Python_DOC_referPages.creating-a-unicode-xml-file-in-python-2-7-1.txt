<div class="post-text" itemprop="text">
<p>I am trying to write some data out into a unicode XML file with the following statement:</p>
<pre><code>filepath = 'G:\Kodi EPG\ChannelGuide.xml'
with open(filepath, "w", encoding = 'UTF-8') as xml_file:
    xml_file.write(file_blanker)
xml_file.close
</code></pre>
<p>...but am getting the following error:</p>
<pre><code>Traceback (most recent call last):
  File "G:\Python27\Kodi\Sky TV Guide Scraper.py", line 35, in &lt;module&gt;
    class tv_guide:
  File "G:\Python27\Kodi\Sky TV Guide Scraper.py", line 47, in tv_guide
    with open(filepath, "w", encoding = 'UTF-8') as xml_file:
TypeError: 'encoding' is an invalid keyword argument for this function
</code></pre>
<p>I have seen this given as an accepted answer on here to a question, but that was for Python 3xx. Is the syntax slightly different for version 2?</p>
<p>Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes, the syntax is different for Python2 - regarding the <code>encoding</code> argument.  </p>
<p>Python2 <a href="https://docs.python.org/2/library/functions.html#open" rel="nofollow noreferrer"><code>open</code></a> description:  </p>
<pre><code>open(name[, mode[, buffering]])
</code></pre>
<p>Python3 <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow noreferrer"><code>open</code></a> description:</p>
<pre><code>open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)
</code></pre>
<p>As you can see, in Python 2.7 <code>open</code> doesn't accept the <code>encoding</code> argument, hence the Type Error.  </p>
<p>However you can use the built-in <a href="https://docs.python.org/2/library/io.html#module-io" rel="nofollow noreferrer"><code>io</code></a> module to open your files.  This would allow you to specify the encoding, and also provide compatibility with Python3. For example,   </p>
<pre><code>import io

filepath = r'G:\Kodi EPG\ChannelGuide.xml'
with io.open(filepath, "w", encoding = 'UTF-8') as xml_file:
    xml_file.write(file_blanker)
</code></pre>
<p>Note that you don't have to explicitly close your files when using the the <code>with</code> statement.</p>
</div>
<span class="comment-copy">Yes in python 2.7 just use <code>with open(filepath, "w")</code></span>
<span class="comment-copy">I need it to save in UTF-8 format though...</span>
<span class="comment-copy">thanks a lot for your help. that did what i wanted!</span>
