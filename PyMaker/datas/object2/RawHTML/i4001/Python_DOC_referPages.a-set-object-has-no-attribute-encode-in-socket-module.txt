<div class="post-text" itemprop="text">
<p>I've tried to encode a set object and it failed to do it, claiming an AttributeError code.
Is there a way for it to work?</p>
<p>NOTE: I've been using the socket module.</p>
<pre><code>albums = set()
for key, val in data.items():
    albums.add(val['album'])
msg = albums.encode()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Are you trying to send some form of representation of <code>albums</code> via a socket? Then you need a binary representation of that object first. Using <code>.encode()</code> suggests that you want the string-representation of <code>albumns</code>, which you can get using <code>msg = repr(albums).encode()</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>There are a few options here, but probably the easiest is to encode your dictionary using the Python <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">pickle</a> protocol. </p>
<p>To do that, use <strong>sending code</strong> like this:</p>
<pre><code>import pickle
data_to_send = pickle.dumps(albums)
mysocket.send(data_to_send)
</code></pre>
<p>and <strong>receiving code</strong> like this:</p>
<pre><code>import pickle
albums = pickle.loads(data_received_from_socket)
</code></pre>
<p>However, I want to warn you: using the <code>socket</code> module at all is a can of worms. It is low level and meant for experienced programmers. Compared to the question you've just asked, the other problems you'll have to deal with are probably a lot harder. For example, you have to think about <a href="https://faq.cprogramming.com/cgi-bin/smartfaq.cgi?id=1044780608&amp;answer=1108255660" rel="nofollow noreferrer">how to delimit your messages</a> before you figure out what to pass as the second parameter to <code>socket.recv</code> (the <code>bufsize</code> parameter).</p>
<p>I suggest you try something higher-level like Python's <a href="https://docs.python.org/3/library/xmlrpc.server.html" rel="nofollow noreferrer"><code>xmlrpc</code></a> modules.</p>
</div>
<span class="comment-copy">Sending to a socket only makes sense if there is another program at the other end of the socket. What is that program? What format does it expect data in? There is no standard format to send a set in; if the other program is also written by you, you could consider <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">pickling</a> the set.</span>
<span class="comment-copy">I'm trying to make a localhost "server" using the socket module, the other side picks the message up using a similar server_msg.decode() method.</span>
<span class="comment-copy">This doesn't answer the previous comment at all. It's trying to tell you that a socket requires a sequence of bytes, and there is no common standard serialization of sets into bytes; so neither encoding nor decoding is well-defined. You have to come up with your own serialization format, on both ends.</span>
<span class="comment-copy">What's the type of <code>val['album']</code>?</span>
