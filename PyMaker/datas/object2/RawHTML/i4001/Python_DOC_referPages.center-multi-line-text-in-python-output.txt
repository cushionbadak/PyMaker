<div class="post-text" itemprop="text">
<p>OK, so this seems like a really basic question, but I can't find a workable answer anywhere, so here goes.</p>
<p>I have some text:</p>
<pre><code>text = '''
Come and see the violence inherent in the system. Help! Help! I'm being 
repressed! Listen, strange women lyin' in ponds distributin' swords is no 
basis for a system of government. Supreme executive power derives from a 
mandate from the masses, not from some farcical aquatic ceremony. The Lady 
of the Lake, her arm clad in the purest shimmering samite held aloft 
Excalibur from the bosom of the water, signifying by divine providence that 
I, Arthur, was to carry Excalibur. THAT is why I am your king.'''
</code></pre>
<p>It doesn't contain any line breaks or other formatting. 
I want to wrap my text so it displays properly in my ipython output window when I run my code. I also want it centered, and a bit shorter than the full window width (80 chars)</p>
<p>If I had a short text string (shorter than the line length) I could simply calculate the length of the string and pad it with spaces to get it to centre, or use the <code>text.center()</code> property to display it correctly.</p>
<p>If I had a text string that I just wanted to wrap, I could use:</p>
<pre><code>from textwrap import fill
print(fill(text, width=50))
</code></pre>
<p>and set width to whatever</p>
<p>So I would have thought I could simply then:</p>
<pre><code>from textwrap import fill
wrapped_text = (fill(text, width=50))
print(wrapped_text.center(80))
</code></pre>
<p>but it doesn't work. Everything is still left justified.</p>
<p>I'm sure I can't be the only person who has tried to do this. Can anybody help me out?</p>
</div>
<div class="post-text" itemprop="text">
<p>The problem is that <code>center</code> expects a single-line string, and <a href="https://docs.python.org/3/library/textwrap.html#textwrap.fill" rel="nofollow noreferrer"><code>fill</code></a> returns a multiline string.</p>
<p>The answer is to <code>center</code> each line, before joining them up.</p>
<p>If you look at the docs for <code>fill</code>, it's shorthand for:</p>
<pre><code>"\n".join(wrap(text, ...))
</code></pre>
<p>So, you can just skip that shorthand and use <code>wrap</code> directly. For example, you can write your own function that does exactly what you want:</p>
<pre><code>def center_wrap(text, cwidth=80, **kw):
    lines = textwrap.wrap(text, **kw)
    return "\n".join(line.center(cwidth) for line in lines)

print(center_wrap(text, cwidth=80, width=50))
</code></pre>
<p>Although if you're only doing this in one place, to immediately print it out, it's probably simpler to not even bother <code>join</code>ing it:</p>
<pre><code>for line in textwrap.wrap(text, width=50):
    print(line.center(80))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>wrapped_text</code> is a list of strings so loop over the strings and center them.</p>
<pre><code>import textwrap

text = "Come and see the violence inherent in the system. Help! Help! I'm being repressed! Listen, strange women lyin' in ponds distributin' swords is no basis for a system of government. Supreme executive power derives from a mandate from the masses, not from some farcical aquatic ceremony. The Lady of the Lake, her arm clad in the purest shimmering samite held aloft Excalibur from the bosom of the water, signifying by divine providence that I, Arthur, was to carry Excalibur. THAT is why I am your king."    

wrapped_text = textwrap.wrap(text)
for line in wrapped_text:
    print(line.center(80))
</code></pre>
</div>
<span class="comment-copy">thanks, that makes a lot more sense now</span>
