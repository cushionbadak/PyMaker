<div class="post-text" itemprop="text">
<p>I am trying to run below code in jupyter notebook.</p>
<pre><code>import argparse
parser = argparse.ArgumentParser(description='Example with non-optional arguments')
parser.add_argument('count', action="store", type=int)
parser.add_argument('units', action="store")
print(parser.parse_args())
</code></pre>
<p>but this gives this gives below error</p>
<pre><code>usage: ipykernel_launcher.py [-h] count units
ipykernel_launcher.py: error: argument count: invalid int value: 'C:\\Users\\Kwan Lee\\AppData\\Roaming\\jupyter\\runtime\\kernel-76bf5bb5-ea74-42d5-8164-5c56b75bfafc.json'
An exception has occurred, use %tb to see the full traceback.

SystemExit: 2


c:\users\kwan lee\anaconda2\envs\tensorflow\lib\site-packages\IPython\core\interactiveshell.py:2971: UserWarning: To exit: use 'exit', 'quit', or Ctrl-D.
  warn("To exit: use 'exit', 'quit', or Ctrl-D.", stacklevel=1)
</code></pre>
<p>I am just trying to learn what argparse is but I don't get this error.</p>
</div>
<div class="post-text" itemprop="text">
<p>Normally a script like that is run as a stand alone file, e.g.</p>
<pre><code>python foo.py 23 inches
</code></pre>
<p>The shell converts '23 inches' in a list of strings, which is available as <code>sys.argv[1:]</code> inside the program.</p>
<pre><code>parser.parse_args()
</code></pre>
<p>uses this <code>sys.argv[1:]</code> as the default.  But when run from within a Ipython session or Notebook, that list has the values that initialized the session.  That file name given as an invalid integer value was part of that initialization, and isn't usable by your <code>parser</code>.</p>
<p>To test this script you need to provide a relevant list of strings, e.g.</p>
<pre><code>parser.parse_args(['23', 'lbs'])
</code></pre>
<p>Or import <code>sys</code> and modify <code>sys.argv</code> as described in one of the linked answers.</p>
<p><a href="https://docs.python.org/3/library/argparse.html#beyond-sys-argv" rel="nofollow noreferrer">https://docs.python.org/3/library/argparse.html#beyond-sys-argv</a></p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/30656777/how-to-call-module-written-with-argparse-in-ipython-notebook">How to call module written with argparse in iPython notebook</a></span>
<span class="comment-copy">From a <code>notebook</code> you need to call it as <code>parser.parse_args(['5', 'inches'])</code>.  That is, with simulated list of strings. The <code>sys.argv</code> used the run the notebook won't be the correct one for this script.</span>
