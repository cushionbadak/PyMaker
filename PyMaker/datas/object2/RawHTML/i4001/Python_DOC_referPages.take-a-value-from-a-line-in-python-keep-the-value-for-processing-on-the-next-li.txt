<div class="post-text" itemprop="text">
<p>I have a python script that is checking data from a text file and writing it if it meets the right parameters. So far I have:</p>
<pre><code># -*- coding: utf-8 -*-
import math

f = open("COLLISON.txt", 'r')
linelist = f.readlines()
f.close

f2 = open("All_Collisions_Raw_Data.txt", "w")

for line in linelist:
    if 'Û' in line[0]:
        f2.write(line)
f2.close()


f3 = open("Primary_Recoils_Raw_Data.txt", "w")

for line in linelist:
    if 'Prime Recoil' in line:
        f3.write(line)
f3.close()  

S = raw_input('Are you analysing a sphere?\n Y/n \n')

if S == 'Y' or S == 'y':
    rad = input('What is the radius of the sphere in Angstroms? \n')

    f14 = open('All_Collisions_in_sphere', 'w')
    for line in linelist:
        if len(line) &gt;55:
            if 'Û' in line[0]:
                    Xa = float(''.join(line[25:29]))
                    Xs = float((Xa - rad))
                    Ya = float(''.join(line[36:40]))
                    Za = float(''.join(line[47:51]))
                    Xf = float(''.join(line[31:34]))
                    Yf = float(''.join(line[42:45]))
                    Zf = float(''.join(line[53:56]))
                    Xf1 = float(10**Xf)
                    Yf1 = float(10**Yf)
                    Zf1 = float(10**Zf)
                    Xd = float((Xs*Xf1))
                    Yd = float((Ya*Yf1))
                    Zd = float((Za*Zf1))
                    Xb = float((Xd*Xd))
                    Yb = float((Yd*Yd))
                    Zb = float((Zd*Zd))
                    ra = float(Xb + Yb + Zb)
                    r = float(math.sqrt(ra))    
                    I = (line[6])
                    if r &lt; rad:
                        f14.write(line)
    f14.close()
</code></pre>
<p>I only want to write if I = 1 or is equal to the previous lines I + 1. However I'm unsure how to call the previous line, or keep the current line for future recall. Does anyone know how i can achieve this? </p>
</div>
<div class="post-text" itemprop="text">
<p>One way is to just store the previous (we initialise to <code>None</code> and check if it is <code>None</code>):</p>
<pre><code>prev = None
for line in file:
    if prev is not None:
        if line == prev:
            # do stuff
    prev = line
</code></pre>
<p>Another way is to user iterators</p>
<pre><code>itr = iter(file)
prev = next(itr)
for line in itr:
    if line == prev:  
        # do stuff
    prev = line
</code></pre>
<hr/>
<h3>Edit</h3>
<p>If you want to get each line number as well, use the <a href="https://docs.python.org/3/library/functions.html#enumerate" rel="nofollow noreferrer">enumerate</a> function:</p>
<pre><code>for line_number, line in enumerate(file, start=1):
    ...
</code></pre>
<hr/>
<p>Just as an FYI <strong>don't</strong> do</p>
<pre><code>file = open(path)
linelist = file.readlines()
file.close()
for line in linelist:
    ...
</code></pre>
<p>but instead do this:</p>
<pre><code>with open(path) as file:
    for line in file:
        ...
</code></pre>
<p>The reason is that the first method reads the entire file into memory and will not close the file if an exception happens in the read, which could corrupt the file. the <code>with</code> statement handles that all for you, and then you can iterate over the file directly.</p>
</div>
<span class="comment-copy">Thank you for your answer. I'm wondering how do I know which line I'm pulling a value from? When I try both samples in my code it now prints an empty file when I put if I = 1 do command.</span>
<span class="comment-copy">No problem. Use the <code>enumerate</code> function (see my edit).</span>
