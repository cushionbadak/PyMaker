<div class="post-text" itemprop="text">
<p>I have a python file which contains classes and functions and a </p>
<pre><code>if __name__ == "__main__":
    ...
</code></pre>
<p>construct. I want to test a class which is defined in this file with py.test. For my first "hello world"-test, my test-file only imports the file to be tested.</p>
<p>Running py.test in PyCharm results however in</p>
<pre><code>raceback (most recent call last):
  File "[...]/unittest/datageneration_test.py", line 1, in &lt;module&gt;
    from main.datageneration import *
  File "[...]/main/datageneration.py", line 1, in &lt;module&gt;
    import pandas as pd
  File "[...]/lib/python3.6/site-packages/pandas/__init__.py", line 19, in &lt;module&gt;
    "Missing required dependencies {0}".format(missing_dependencies))
ImportError: Missing required dependencies ['numpy']
</code></pre>
<p>My file to be tested has the import statements</p>
<pre><code>import pandas as pd
import numpy as np
from scipy.special import expit
import sys
import os
import scipy.io.wavfile as wav
import json
import uuid
</code></pre>
<p>My conda environment.yml is</p>
<pre><code>channels:
- conda-forge
- defaults
dependencies:
- pandas=0.20.3
- numpy=1.13.1
- ggplot=0.11.5
- python=3.6.2
- pytest=3.2.1
</code></pre>
<p>What is the issue here?</p>
</div>
<div class="post-text" itemprop="text">
<p>I am not quite sure what helped, but I reinstalled/updated numpy and pandas with <code>conda install ...</code>. I was still left with an error about having wrong file names. After trying out a lot of stuff I found out that - even though I was using pytest, not the library <code>unittest</code> - I could not name the folder in which all my test files are "unittest". Renaming it to "unittests" solved that. Now everything works.</p>
</div>
<span class="comment-copy">Hope it will help <a href="https://stackoverflow.com/questions/42973666/importerror-missing-required-dependencies-numpy" title="importerror missing required dependencies numpy">stackoverflow.com/questions/42973666/â€¦</a></span>
<span class="comment-copy">If you are running from a conda environment, you need to point your pycharm to use that environment.</span>
<span class="comment-copy">@Anup: The link suggests I delete ".pyc" files, but I don't see any in my folders.</span>
<span class="comment-copy">@BoboDarph: My PyCharm is pointing towards that environment - both the general setting is such and the setting for that specific test.</span>
<span class="comment-copy">Can you try explicitly uninstalling and re-installing numpy and pandas  in your conda env? Just open it in an anaconda prompt and do pip uninstall pandas pip uninstall numpy pip install pandas pip install numpy. Taken from here: <a href="https://stackoverflow.com/a/42939561/8085234">stackoverflow.com/a/42939561/8085234</a></span>
<span class="comment-copy">It's usually a good idea to avoid using the same names as <a href="https://docs.python.org/3/py-modindex.html" rel="nofollow noreferrer">standard library modules</a>, because modules depending on the stdlib will end up importing your module. If the module can't be renamed, the import issue can be avoided by moving the module underneath a package (a directory with __init__.py in it).</span>
