<div class="post-text" itemprop="text">
<p>I am trying to fit exponential function from my data. I am not very experienced with fitting mathematical functions to my data yet. 
Below is my code right now.  </p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import curve_fit

my_x = (4,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40)
my_y = (0.022172333,0.020881,0.017729,0.021641333,0.02479,0.030755667,0.037235,0.048389,0.068451,0.06898974,0.161409,0.242802333,0.316012667,0.440762333,0.569118333,0.7016839,0.832527333)

def myfunc(x,a,b,c):
    return a*np.exp(b*x)+c


p=[my_x,0.0045,0.1262,0] #pre-determined a=0.0045, b=0.1262, c=0 according to excel
popt, pcov = curve_fit(myfunc,my_x,my_y, p0=p)


plt.plot (my_x,myfunc(my_x, *popt))
</code></pre>
<p>The error message that I get is the following. </p>
<pre><code>return function(xdata, *params) - ydata

TypeError: myfunc() takes 4 positional arguments but 5 were given
</code></pre>
<p>I don't think I am quite understanding what this error message is saying. Could anyone help me understand what is causing this error and how I could improve my code?</p>
</div>
<div class="post-text" itemprop="text">
<p>The <code>myfunc</code> function receive four parameters, <code>x</code>, <code>a</code>, <code>b</code> and <code>c</code>.</p>
<p>The error message says that you provided 5 parameters. It's because you unpacked <code>popt</code> who probably contains fours elements (and thus four paramaters while unpacking it).</p>
<p>In this line:</p>
<pre><code>plt.plot (my_x,myfunc(my_x, *popt))
</code></pre>
<p>The <code>myfunc</code> function receive <code>my_x</code> + four parameters.
It makes five parameters but the function only wants four.</p>
<p>More about unpacking <a href="https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists" rel="nofollow noreferrer">here</a>.</p>
</div>
<span class="comment-copy">It's saying that <code>params</code> contains four things, so with <code>xdata</code> you're passing five things to <code>myfunc</code>, which only takes four.</span>
<span class="comment-copy">@jonrsharpe, I see. but I am still having a hard time understanding what part of the current code indicates that it is giving five things to myfunc.</span>
<span class="comment-copy"><code>myfunc(my_x, *popt)</code> spreads the elements of <code>popt</code> into separate arguments. So the problem is that <code>popt</code> is a list of 4 things, but it should be only 3.</span>
<span class="comment-copy">check <code>p</code> ... it has a length of 4 ... I am expecting <code>popt</code> will thus have a length of 4 ... and hence unpacking that in the args will lead to 4 + 1 = 5 arguments ... are you sure <code>p</code> should have <code>my_x</code>?</span>
