<div class="post-text" itemprop="text">
<p>I have this sample <code>json</code> data that is coming as a response from a <code>POST</code> request- <code>response</code> is the name of below sample <code>json</code> data variable:</p>
<pre><code>{
    "statusCode": "OK",
    "data": [
        {
            "id": -199,
            "result": {
                "title": "test1",
                "group": "test_grp2"
            }
        },
        {
            "id": -201,
            "result": {
                "title": "test2",
                "group": "test_grp2"
            }
        }
    ]
}
</code></pre>
<p>Now what I want to do is form a <code>list of list</code> where each list will have <code>id</code>,<code>title</code>,and <code>group</code> values from above <code>json</code> data. Here is what my code looks like:</p>
<pre><code>def get_list():
    # code to get the response from POST request

    json_data = json.loads(response.text)
    group_list = []

    if json_data['statusCode'] == 'OK':
        for data in json_data['data']:
            print(data)
            for result_data in data['result']:  
                title = result_data['title']
                group = result_data['group']
            group_list.append([data['id'],title,group])

    return(group_list)
</code></pre>
<p>When I execute this I get error as <code>list indices must be int not str</code> at line <code>title = result_data['title]</code>. How can I form the list of list above?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>data['result']</code> in your case is a <em>dictionary</em>. When you iterate over it using <code>for result_data in data['result']</code>, you get the keys - in other words, <code>result_data</code> is a string and it does not support string indexing.</p>
<p>Instead, you meant:</p>
<pre><code>for data in json_data['data']:
    result_data = data['result']

    title = result_data['title']
    group = result_data['group']
</code></pre>
<p>Or, alternatively, you can make use of a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>:</p>
<pre><code>group_list = [(data['id'], data['result']['title'], data['result']['group'])
              for data in json_data['data']]
print(group_list)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can extract the list of lists directly using a list comprehension:</p>
<pre><code>&gt;&gt;&gt; [[d['id'], d['result']['title'], d['result']['group']] for d in json_data['data']]
[[-199, 'test1', 'test_grp2'], [-201, 'test2', 'test_grp2']]
</code></pre>
</div>
