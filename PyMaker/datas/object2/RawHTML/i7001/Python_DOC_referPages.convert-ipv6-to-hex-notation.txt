<div class="post-text" itemprop="text">
<p>My interface is setup:</p>
<pre><code>iface eth1 inet6 static
    address 0:0:0:0:0:ffff:6464:640a
    netmask 64
</code></pre>
<p>but when running <code>ifconfig eth1</code> you see the following configuration:</p>
<pre><code>eth1  inet6 addr: 100.100.100.10/64 Scope:Global
</code></pre>
<p>This is because <code>0:0:0:0:0:ffff:6464:640a</code> translates into <code>100.100.100.10/64</code>.</p>
<p>I have a code in python that retreives the IP Addresses from each interface:</p>
<pre><code>import netifaces
interface_info = netifaces.ifaddresses('eth1')

if netifaces.AF_INET6 in interface_info:
   return interface_info[netifaces.AF_INET][0]['addr']
</code></pre>
<p>The above code returns the IPv6 of eth1 as <code>::ffff:100.100.100.10</code>.<br/>
For my code, I need that the IPv6 will be the original hex notation, i.e., <code>::ffff:6464:640a</code> and not <code>::ffff:100.100.100.10</code>.<br/><br/>
Any idea how to achieve this?</p>
</div>
<div class="post-text" itemprop="text">
<p>Using the <a href="https://docs.python.org/3/library/ipaddress.html" rel="nofollow noreferrer"><code>ipaddress</code> module</a>:</p>
<pre><code>In [54]: import ipaddress

In [55]: addr = '::ffff:100.100.100.10'

In [59]: ipaddress.ip_address(addr)
Out[59]: IPv6Address('::ffff:6464:640a')

In [60]: str(ipaddress.ip_address(addr))
Out[60]: '::ffff:6464:640a'
</code></pre>
</div>
<span class="comment-copy">You could detect IPv4-mapped IPv6 addresses and print them as pure IPv6 addresses. However, I wonder <i>why</i> you need that? IPv4-mapped IPv6 addresses are standard.</span>
<span class="comment-copy">Watch out: those mapped addresses are not meant to be used on networks! They are meant to represent IPv4 addresses in IPv6-only software. Configuring them on actual interfaces will give very unpredictable results.</span>
<span class="comment-copy">According to the Standards Track <i><a href="https://tools.ietf.org/html/rfc5952" rel="nofollow noreferrer">RFC 5952, A Recommendation for IPv6 Address Text Representation</a></i>, the mixed hex and dotted decimal format is correct for the IPv4-mapped addresses.</span>
<span class="comment-copy">Excellent! Just what I was looking for.</span>
