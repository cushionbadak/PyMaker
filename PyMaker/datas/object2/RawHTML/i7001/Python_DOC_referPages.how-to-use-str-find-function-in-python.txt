<div class="post-text" itemprop="text">
<p>What I am trying to achieve is I want to allow user to input only any website from <code>google.com</code> and <code>goo.gl</code> only. To do this, my sample code in python console is like this:</p>
<p><a href="https://i.stack.imgur.com/YQLrL.png" rel="nofollow noreferrer"><img alt="Testing find() function in console" src="https://i.stack.imgur.com/YQLrL.png"/></a></p>
<p>The returned result <code>false</code> is correct because <code>url</code> does meets criteria containing <code>goo.gl</code>. I went on testing with few more options url like <code>https://google.gl/LoZXyE</code>, the <code>find()</code> function return <code>true</code> because it does not meet criteria containing words 'google.com' or 'goo.gl'. </p>
<p>My problem is that if I assign variable url the value like below which I expected it to return <code>true</code> from <code>find()</code> function above because it does not contain word 'goo.gl' at all, yet it return <code>false</code>.</p>
<p><a href="https://i.stack.imgur.com/U3tQL.png" rel="nofollow noreferrer"><img alt="Test Find function in console" src="https://i.stack.imgur.com/U3tQL.png"/></a></p>
<p>What is wrong happening? How can I validate url like the case above result like expected?</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>That line</p>
<pre><code>url = 'https://goo.glAB/LoZXyE'
</code></pre>
<p>does indeed contain 'goo.gl', but you do not want it because it is immediately followed by <code>AB</code> in the url, which changes the top-level domain.</p>
<p>One way around that is to not search for <code>goo.gl</code> but for <code>//goo.gl/</code>. That works in the examples you gave, and prevents both following and preceding characters that change the top-level domain. That makes the line</p>
<pre><code>url.find('//google.com/') == -1 and url.find('//goo.gl/') == -1
</code></pre>
<p>Remember that the line above works only in the interactive console. To use it in a program put it in an <code>if</code> line or an expression, such as</p>
<pre><code>if url.find('//google.com/') == -1 and url.find('//goo.gl/') == -1:
</code></pre>
<p>or</p>
<pre><code>expr = url.find('//google.com/') == -1 and url.find('//goo.gl/') == -1
</code></pre>
<p>or (more like your interactive line)</p>
<pre><code>print(url.find('//google.com/') == -1 and url.find('//goo.gl/') == -1)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try</p>
<pre><code>url.find('google.com/') == -1 and url.find('goo.gl/') == -1:
  ...
</code></pre>
</div>
<span class="comment-copy">Please don't post screenshots of text. They are unreadable, unsearchable, and cannot be copied/pasted.</span>
<span class="comment-copy">@DanielRoseman, I tried post the actual text but website won't allow posting short url, so I decide to print screen instead, thanks.</span>
<span class="comment-copy">Your second url <b>does</b> contain the string <code>'goo.gl'</code>.</span>
<span class="comment-copy">Forget <code>str.find</code> and use <a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse" rel="nofollow noreferrer">the right tool for the job</a>.</span>
<span class="comment-copy">It's better to use <a href="https://docs.python.org/2/library/urlparse.html#urlparse.urlparse" rel="nofollow noreferrer">urlparse</a> for this sort of thing and explicitly check the domain component (i.e. the <code>netloc</code> property).</span>
<span class="comment-copy">@RoryDaulton, Thanks very much for your helpful and descriptive answer, it works find as expected. Yes, in deed, I use <code>if, else</code> already in my real code, I validate url using Flask-Validator built-in <code>[validator.url()]</code> that help me with validating url, the problem only I allow my user only input any url from google.com and goog.gl. And your answer did really help, very much thanks :)</span>
<span class="comment-copy">@ekhumoro, very much thanks for an alternative, I will have a look and try it. :)</span>
<span class="comment-copy">That is not valid python code: it will raise a <code>SyntaxError</code>.</span>
<span class="comment-copy">Yeah! edited. Thanks @ekhumoro</span>
