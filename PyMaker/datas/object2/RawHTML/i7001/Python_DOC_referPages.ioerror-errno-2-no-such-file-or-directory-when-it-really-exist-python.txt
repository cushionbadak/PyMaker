<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/10545077/ioerror-errno-2-no-such-file-or-directory-python">IOError: [Errno 2] No such file or directory Python</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
<li>
<a dir="ltr" href="/questions/36477665/python-on-windows-ioerror-errno-2-no-such-file-or-directory">Python on Windows: IOError: [Errno 2] No such file or directory</a>
<span class="question-originals-answer-count">
                    2 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/9765227/ioerror-errno-2-no-such-file-or-directory-trying-to-open-a-file">IOError: [Errno 2] No such file or directory trying to open a file</a>
<span class="question-originals-answer-count">
                    5 answers
                </span>
</li>
</ul>
</div>
<p>I'm working on transfer folder of files via uart in python. Below you see simple function, but there is a problem because I get error like in title : IOError: [Errno 2] No such file or directory: '1.jpg' where 1.jpg is one of the files in test folder. So it is quite strange because program know file name which for it doesn't exist ?! What I'm doing wrong ?</p>
<pre><code>def send2():
    path = '/home/pi/Downloads/test/'
    arr = os.listdir(path)
    for x in arr:
        with open(x, 'rb') as fh:
            while True:
                # send in 1024byte parts
                chunk = fh.read(1024)
                if not chunk: break
                ser.write(chunk)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to provide the actual full path of the files you want to open if they are not in your working directory :</p>
<pre><code>import os
def send2():
    path = '/home/pi/Downloads/test/'
    arr = os.listdir(path)
    for x in arr:
        xpath = os.path.join(path,x)
        with open(xpath, 'rb') as fh:
            while True:
                # send in 1024byte parts
                chunk = fh.read(1024)
                if not chunk: break
                ser.write(chunk)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>os.listdir()</code> just returns bare filenames, not fully qualified paths. These files (probably?) aren't in your current working directory, so the error message is correct -- the files don't exist in the place you're looking for them.</p>
<p>Simple fix:</p>
<pre><code>for x in arr:
    with open(os.path.join(path, x), 'rb') as fh:
        …
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><strong>Yes</strong>, code raise Error because file which you are opening is not present at current location from where python code is running.</p>
<p><code>os.listdir(path)</code> returns list of names of files and folders from given location, not full path.</p>
<p>use <code>os.path.join()</code> to create full path in <code>for</code> loop.
e.g. </p>
<pre><code>file_path = os.path.join(path, x)
with open(file_path, 'rb') as fh:
       .....
</code></pre>
<p>Documentation:</p>
<ol>
<li><a href="https://docs.python.org/3/library/os.html#os.listdir" rel="nofollow noreferrer">os.listdir(..)</a></li>
<li><a href="https://docs.python.org/3/library/os.path.html#os.path.join" rel="nofollow noreferrer">os.path.join(..)</a></li>
</ol>
</div>
<span class="comment-copy">And <a href="https://stackoverflow.com/questions/9765227/ioerror-errno-2-no-such-file-or-directory-trying-to-open-a-file" title="ioerror errno 2 no such file or directory trying to open a file">stackoverflow.com/questions/9765227/…</a>, and <a href="https://stackoverflow.com/questions/36477665/python-on-windows-ioerror-errno-2-no-such-file-or-directory" title="python on windows ioerror errno 2 no such file or directory">stackoverflow.com/questions/36477665/…</a></span>
<span class="comment-copy">Perhaps use  <code>glob.glob('/home/pi/Downloads/test/*')</code> instead...</span>
