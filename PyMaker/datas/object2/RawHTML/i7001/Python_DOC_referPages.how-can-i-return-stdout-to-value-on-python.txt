<div class="post-text" itemprop="text">
<p>I made some script.
I want  return stdout to value on python.</p>
<p>But my script not work.</p>
<p>below is my script.</p>
<pre><code>import paramiko
import sys

from paramiko import AutoAddPolicy

sip = raw_input('IP\n')
sid = raw_input('ID\n')
spass = raw_input('PW')

client = paramiko.SSHClient()
client.load_system_host_keys()
client.set_missing_host_key_policy(AutoAddPolicy())
client.connect(hostname=sip, username=sid, password=spass)

stdin, stdout, stderr = client.exec_command('hostname')
s_info = stdout
sys.stdout.close()

client.close()

print (s_info)
</code></pre>
<p>my script occurred below error.</p>
<blockquote>
<p>Traceback (most recent call last):   File "test.py", line 17, in
  
      print (s_info) ValueError: I/O operation on closed file</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>As the error mentions, you're trying to write to a stream after you've already closed it. the <a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow noreferrer">print function</a> redirects to stdout by default, and you've already closed that here <code>sys.stdout.close()</code></p>
<p>In order for it to work, just comment or delete that line</p>
</div>
<span class="comment-copy">How can call stdout value after close?</span>
