<div class="post-text" itemprop="text">
<p>Goal: Find the average of the 'budget' column (data from an imported csv file).</p>
<p>So far I have gotten my program to open and print the contents of the spreadsheet and have cleaned up the formatting some. </p>
<p>I'm not sure how to attach the file to this post, but the columns read ['title,year,length,budget,rating,votes\r\n'] </p>
<p>How can I begin to manipulate the data? More specifically target the 'budget' column and begin doing the math.</p>
<p>PS: I have been asked to figure this out without using the 'import csv' module. </p>
<p>My work so far:</p>
<pre><code>f = open("movies.csv") 
lines = f.readlines()

i = 0

while i &lt; len(lines):
    line = lines[i]
    line = line[:-2] # remove trailine \r\n\ from line
    print "%4d   %s" % (i+1, line)
    i = i + 1
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <code>csv</code> module from standard library <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">https://docs.python.org/3/library/csv.html</a></p>
<pre><code>import csv
with open('movies.csv') as csvfile:
    reader = csv.DictReader(csvfile)
    budgets = [row['budget'] for row in reader]
</code></pre>
<p>And now you can manipulate it in any way you want, all of your budgets are in <code>budgets</code> variable</p>
</div>
<div class="post-text" itemprop="text">
<p>You can split your csv file like this to get only the required column. Here I am printing a price column from .csv file.   </p>
<pre><code> &gt;&gt;&gt; for line in open("SalesJan2009.csv"):
...     csv_row = line.split('\r')[0].split(',')
...     print csv_row[2]
</code></pre>
<p>the output is as follows. you can sum them instead of printing</p>
<pre><code>Price
1200
1200
1200
1200
3600
1200
1200
1200
1200
1200
1200
1200
1200
1200
1200
1200
1200
1200
3600
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>f=open('movies.csv','r')
lines = f.read().split('\n')   #create list from the lines read
header_list = lines[0].strip().split(',') # first item of the list is header line make it a list , so that you can get the index of your keyword budget
index = header_list.index('budget')

total_budget = 0
count = 0

for item in lines[1:]:  # skip the first line which is a header
    if item != '':
        if item.strip().split(',')[index] is not 'NA':
            total_budget += float(item.strip().split(',')[index])
            count +=1

print  total_budget
avg_budget = total_budget/count
print avg_budget
</code></pre>
</div>
<span class="comment-copy">Then, use numpy module. Convert your list of lists into numpy array after the 'while' cycle. And apply slicing.</span>
<span class="comment-copy">if you ever need to do these things outside of assignments, you should check out <a href="http://pandas.pydata.org/" rel="nofollow noreferrer">pandas</a> if you haven't - it has cool functions such as <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html" rel="nofollow noreferrer">read_csv()</a></span>
<span class="comment-copy">Running into some trouble with this: Some movies in this spreadsheet don't have a listed budget and are marked with 'NA' (not applicable) in the spreadsheet. This is creating issues. [link]<a href="http://imgur.com/a/0tVQO" rel="nofollow noreferrer">imgur.com/a/0tVQO</a></span>
<span class="comment-copy">If you are summing all the budget values do this : <code>if csv_row[2] != 'NA': sum+=int(csv_row[2])</code></span>
<span class="comment-copy">this is the solution considering no importing inbuilt modules</span>
<span class="comment-copy">Error: "could not convert string to float: NA" In this column there are 'Not Applicable - NA' lines. How can I skip these and proceed to the next line with a conditional statement?</span>
<span class="comment-copy">HI Xavier, please check I have added an extra condition to check NA.</span>
