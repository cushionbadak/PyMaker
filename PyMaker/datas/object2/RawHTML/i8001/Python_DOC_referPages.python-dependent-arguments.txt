<div class="post-text" itemprop="text">
<p>I have two arguments say a username and password</p>
<pre><code>parser.add_argument('-a1', '--arg1')
parser.add_argument('-a2', '--arg2')
</code></pre>
<p>I want to force the user to enter <code>arg2</code> based on the value he passes for argument <code>a1</code>; for example when <code>xyz</code> is given:</p>
<p>E.g.: </p>
<pre><code>myscript.py -a1 abc    # OK
myscript.py -a1 xyz    # Error: please enter -a2 value
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>argparse</code> has no facilities to build such complex dependencies.</p>
<p>You'll have to do a separate test for this <em>after</em> parsing; just call the <a href="https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.error" rel="nofollow noreferrer"><code>ArgumentParser.error()</code> method</a> with your error message when your specific conditions are not met:</p>
<pre><code>args = parser.parse_args()

if args.a1 == 'xyz':
    parser.error('please enter -a2 value')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>An ugly way is to check if arg1 is 'xyz' then call 'input()' method there which would ask the user to enter arg2.</p>
</div>
<span class="comment-copy">Thanks, Martijn ... can I at least make the arguments dependent instead of its values. For example, if the user uses arg1 then he should be forced to use arg2 ... if he does not use arg1 then arg2 should not be forced ...</span>
<span class="comment-copy">@BuggyB: no, just use <code>if args.a1 and not args.a2: parser.error('....')</code>. See <a href="//stackoverflow.com/q/19414060">Argparse: Required argument 'y' if 'x' is present</a></span>
