<div class="post-text" itemprop="text">
<p>I want to change value between 2 xml nodes - SET_STATUS
filedata is the text that this xml row exist in.</p>
<pre><code>&lt;ws:genericAction&gt;SET_STATUS&lt;/ws:genericAction&gt;
</code></pre>
<p>For that wrote the regex : </p>
<pre><code>re.sub(r'&lt;\/ws:genericAction&gt;\s*(.*)(?=\n&lt;\/ws:genericAction&gt;)', "New Text", filedata, flags=re.IGNORECASE)
</code></pre>
<p>all the program : </p>
<pre><code>with open("createUser.txt", 'r') as file:
    filedata = file.read()
re.sub(r'&lt;\/ws:genericAction&gt;\s*(.*)(?=\n&lt;\/ws:genericAction&gt;)', "New Text", filedata, flags=re.IGNORECASE)
with open("createUser.txt", 'w') as file:
    file.write(filedata)
</code></pre>
<p>Thanks for your help</p>
</div>
<div class="post-text" itemprop="text">
<p><code>re.sub()</code> doesn't modify a string <em>in place</em>, it returns the string after replacement:</p>
<pre><code>filedata = re.sub(r'(&lt;ws:genericAction&gt;)([^&lt;&gt;]+)(?=&lt;\/ws:genericAction&gt;)', "\\1New Text", filedata, flags=re.IGNORECASE)
</code></pre>
<p><a href="https://docs.python.org/3/library/re.html#re.sub" rel="nofollow noreferrer">https://docs.python.org/3/library/re.html#re.sub</a></p>
</div>
<div class="post-text" itemprop="text">
<p>A solution with a parser:</p>
<pre><code>from lxml import etree

# our test string
xml = '''&lt;root xmlns:ws="http://example.com"&gt;
            &lt;ws:genericAction&gt;SET_STATUS&lt;/ws:genericAction&gt;
        &lt;/root&gt;'''

# the dom
root = etree.fromstring(xml)

# our item(s) as an xpath expression
item = root.xpath(".//ws:genericAction[text()='SET_STATUS']", namespaces = {'ws': 'http://example.com'})

# modify the first one
item[0].text = "Something new here"

# print the new dom
etree.tostring(root, pretty_print=True)
</code></pre>
<p>This yields</p>
<pre><code>b'&lt;root xmlns:ws="http://example.com"&gt;
      &lt;ws:genericAction&gt;Something new here&lt;/ws:genericAction&gt;
  &lt;/root&gt;'
</code></pre>
</div>
<span class="comment-copy">Use a parser, e.g. <code>lxml</code>.</span>
<span class="comment-copy">Thanks, Now after doing that all my row vanished with "New Text", is there a way to provide regex that will replace only the text between the tags ? &lt;ws:genericAction&gt;SET_STATUS&lt;/ws:genericAction&gt;</span>
<span class="comment-copy">@Start, it should become <code>&lt;ws:genericAction&gt;New text&lt;/ws:genericAction&gt;</code>, right?</span>
<span class="comment-copy">Yes, exactly what I'm trying to achieve</span>
<span class="comment-copy">@Start, ok, to replace simple text between tags <code>&lt;ws:genericAction&gt;</code> - use my update. But using xml parsers is much better for manipulating xml documents</span>
<span class="comment-copy">where is the update ?</span>
<span class="comment-copy">The problem with this solving is that if I want to give it another parameter after first iteration it will not be found, this is because he looks only for [text()='SET_STATUS'] , this is the reason regex to the wrapping text is more efficient.</span>
<span class="comment-copy">@Start: I doubt that a regular expression alone is "more efficient". You may very well use a regular expression in <i>combination</i> with <code>lxml</code>.</span>
