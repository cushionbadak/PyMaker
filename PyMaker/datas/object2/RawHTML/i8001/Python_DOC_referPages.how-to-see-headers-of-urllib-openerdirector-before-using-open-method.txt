<div class="post-text" itemprop="text">
<p>I'm getting "urllib.error.HTTPError: HTTP Error 401: Unauthorized" after trying this code:</p>
<pre><code>_HTTPHandler = urllib.request.HTTPBasicAuthHandler()                

_HTTPHandler.add_password(None,'http://192.168.1.205','admin','password')
opener = urllib.request.build_opener(_HTTPHandler)
opener.open('http://192.168.1.205/api/swis/resource')
</code></pre>
<p>I'm sure that the user/password is correct. I've tested it with <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop" rel="nofollow noreferrer">Google's postman app</a> setting a Basic Auth header and i receive the correct response.</p>
<p>My question is how can a see the headers that are being used by the "opener" so i can check if they are being generated correctly or not.</p>
</div>
<div class="post-text" itemprop="text">
<p>For manual debugging, you can set the <code>debuglevel</code> of your <code>HTTPHandler</code>:</p>
<pre><code>handler = HTTPHandler(debuglevel=1)
</code></pre>
<p>This will produce rich output in stdout, where you can see the full request/response dump:</p>
<pre><code>send: GET / HTTP/1.1
      Accept-Encoding: identity
      Host: www.example.com
      Connection: close

reply: HTTP/1.1 200 OK
header: Date: Mon May 22 2017 12:21:31 GMT
header: Cache-Control: private
header: Content-Type: text/html; charset=ISO-8859-1
</code></pre>
<p>Relevant docs: <a href="https://docs.python.org/3/library/urllib.request.html" rel="nofollow noreferrer">https://docs.python.org/3/library/urllib.request.html</a></p>
</div>
<span class="comment-copy">debuglevel is just for HTTPSHandler. I want to see headers with password in Basic Authentication (HTTPBasicAuthHandler)</span>
