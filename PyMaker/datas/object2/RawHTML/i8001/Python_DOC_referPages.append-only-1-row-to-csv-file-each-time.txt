<div class="post-text" itemprop="text">
<p>I use:</p>
<pre><code>f = open("my_file.csv", "a")
writer = csv.writer(f)
writer.writerow(['one', 'two'])
</code></pre>
<p>But instead of appending a new row after the last row, it appends 2 new rows: an empty one and then the required one "one| two". What is the reason for that?</p>
</div>
<div class="post-text" itemprop="text">
<p>I find it easier to use <code>with open()</code> when writing to csv files. The documentation can be found <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">here</a>. I can reproduce the problem you had on my machine, but the following code does not produce an empty line after each new line is appended.</p>
<pre><code>import csv

with open('my_file.csv', 'a', newline='') as csvfile:      
    writer = csv.writer(csvfile, delimiter=',')
    writer.writerow(['one', 'two'])
</code></pre>
</div>
<span class="comment-copy">cannot reproduce. Are you sure the empty line was not already there? To make your issue reproducible, please add a representative csv file, which when run through this code the issue is seen.</span>
<span class="comment-copy">Yes. Even if I call this function two times, it adds a new empty line before the required line</span>
<span class="comment-copy">Also are you sure this is all the code? You don't close the file after you write it, could you be appending more to it later in the code? I suggest using a <code>with</code> statement to ensure the file is closed properly, when you want it to be closed.</span>
<span class="comment-copy">I do close the file... very weird</span>
<span class="comment-copy">which python version and which os? Hopefully the with fixes it, it's good practice anyway.</span>
<span class="comment-copy">Does this close the writer as well?</span>
<span class="comment-copy">Yes, it automatically invokes the <code>close()</code> method as soon as you leave this code block.</span>
<span class="comment-copy">@UFCInsider I don't think you need to close the writer. It's only an object whereas the file is a system resource. Were you to attempt to use the writer after the file was closed you'd hope that an exception would be thrown.</span>
