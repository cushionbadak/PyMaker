<div class="post-text" itemprop="text">
<p>I'm dealing lately with concurrent.futures, I submitted several funcs in one executor , I'd like to know which future returns first.</p>
<pre><code>with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        future_action = executor.submit(func_action, data)
        future_monitor = executor.submit(func_monitor)
</code></pre>
<p>now is the main part, I'd like to know that when future_monitor ends , so I would terminate all other action futures.</p>
<p>I've found on docs the following(<a href="https://docs.python.org/dev/library/concurrent.futures.html#concurrent.futures.as_completed" rel="nofollow">https://docs.python.org/dev/library/concurrent.futures.html#concurrent.futures.as_completed</a>):</p>
<pre><code>concurrent.futures.wait(fs, timeout=None, return_when=ALL_COMPLETED)
</code></pre>
<p>, so I can wait to return_when=FIRST_COMPLETED , but how can I assure that it's indeed the monitor future.</p>
<p>tnx in Advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>According to <a href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.wait" rel="nofollow">the documentation</a>, the method <code>wait</code> returns two sets: <code>done</code>, <code>not_done</code> futures.</p>
<p>Check if the future you want to check is in <code>done</code> set.</p>
<pre><code>fs = future_action, future_monitor
done, not_done = concurrent.futures.wait(fs, timeout=None, return_when=FIRST_COMPLETED)
if future_monitor in done:
    # Do something
</code></pre>
</div>
