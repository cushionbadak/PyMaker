<div class="post-text" itemprop="text">
<p>I want to have command line arguments option where user can/cannot give argument for a flag. This flag can be evoked without even an argument also. </p>
<p>for an example.</p>
<pre><code>opts, args = getopt.getopt(argv, "hd:vp:",["help","duration=","verbose","plot="])
</code></pre>
<p>But in optargs if we write <code>-p</code> without any argument it will give me error. I want such that I can use <code>-p</code> and <code>-p arg</code> both in command line</p>
</div>
<div class="post-text" itemprop="text">
<p>You should consider switching to <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow">argparse</a> which gives you a lot more power over your command line arguments. The equivalent configuration to your <code>getopt</code> call would be this:</p>
<pre><code>parser = argparse.ArgumentParser()
parser.add_argument('--duration', '-d')
parser.add_argument('--verbose', '-v', action='store_true')
parser.add_argument('--plot', '-p', nargs='?', default=None)

args = parser.parse_args()
print(args)
</code></pre>
<p>And that already includes a full help text, <code>verbose</code> being a flag, mapping the long and short options to the same field, and the ability to specify a <code>plot</code> or falling back to the default.</p>
</div>
<span class="comment-copy"><a href="https://docs.python.org/2/library/getopt.html?highlight=getopt#module-getopt" rel="nofollow noreferrer">"Optional arguments are not supported"</a>...</span>
