<div class="post-text" itemprop="text">
<p>I have a Python 3 project.</p>
<pre><code>MKC
├── latex
│   ├── macros.tex
│   └── main.tex
├── mkc
│   ├── cache.py
│   ├── __init__.py
│   └── __main__.py
├── README.md
├── setup.py
└── stdeb.cfg
</code></pre>
<p>On install, I would like to move my latex files to known directory, say <code>/usr/share/mkc/latex</code>, so I've told <code>setuptools</code> to include data files</p>
<pre><code>data_files=[("/usr/share/mkc/latex",
             ["latex/macros.tex", "latex/main.tex"])],
</code></pre>
<p>Now when I run</p>
<pre><code>./setup.py bdist --formats=rpm
</code></pre>
<p>or</p>
<pre><code>./setup.py --command-packages=stdeb.command bdist_deb
</code></pre>
<p>I get the following error:</p>
<pre>
error: can't copy 'latex/macros.tex': doesn't exist or not a regular file
</pre>
<p>Running just <code>./setup.py bdist</code> works fine, so the problem must be in package creation.</p>
</div>
<div class="post-text" itemprop="text">
<p>When creating a deb file (I guess the same counts for a rpm file), <code>./setup.py --command-packages=stdeb.command bdist_deb</code> first creates a source distribution and uses that archive for further processing. But your LaTeX files are not included there, so they're not found.</p>
<p>You need to add them to the source package. Such can be achieved by adding a <a href="https://packaging.python.org/en/latest/distributing.html#manifest-in">MANIFEST.in</a> with contents:</p>
<pre><code>recursive-include latex *.tex
</code></pre>
<p><a href="https://docs.python.org/3/distutils/setupscript.html#installing-additional-files">distutils</a> from version 3.1 on would automatically include the <code>data_files</code> in a source distribution, while <a href="https://pythonhosted.org/setuptools/setuptools.html#generating-source-distributions">setuptools</a> apparently works very differently.</p>
</div>
<span class="comment-copy">Do you have a repository of this online somewhere; perhaps on <a href="https://github.com" rel="nofollow noreferrer">Github</a>?</span>
<span class="comment-copy"><a href="https://github.com/pacholik/MKC" rel="nofollow noreferrer">github.com/pacholik/MKC</a></span>
<span class="comment-copy">It's working and I think I know why. The bounty is yours!</span>
