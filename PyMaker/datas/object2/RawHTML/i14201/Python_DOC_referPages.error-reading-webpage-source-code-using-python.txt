<div class="post-text" itemprop="text">
<p>I'm new to Python and I've been trying to get the source code of a page and tried several methods on both Python 2 and 3 (here's one)</p>
<pre><code>import urllib

url = "https://www.google.ca/?gfe_rd=cr&amp;ei=u6d_VbzoMaei8wfE1oHgBw&amp;gws_rd=ssl#q=test"
f = urllib.urlopen(url)
source = f.read()
print source
</code></pre>
<p>but I keep getting the following error:</p>
<pre><code>Traceback (most recent call last):
  File "C:\Python34\openpage.py", line 4, in &lt;module&gt;
    f = urllib.urlopen(url)
  File "C:\Python27\lib\urllib.py", line 87, in urlopen
    return opener.open(url)
  File "C:\Python27\lib\urllib.py", line 213, in open
    return getattr(self, name)(url)
  File "C:\Python27\lib\urllib.py", line 443, in open_https
    h.endheaders(data)
  File "C:\Python27\lib\httplib.py", line 1049, in endheaders
    self._send_output(message_body)
  File "C:\Python27\lib\httplib.py", line 893, in _send_output
    self.send(msg)
  File "C:\Python27\lib\httplib.py", line 855, in send
    self.connect()
  File "C:\Python27\lib\httplib.py", line 1274, in connect
    server_hostname=server_hostname)
  File "C:\Python27\lib\ssl.py", line 352, in wrap_socket
    _context=self)
  File "C:\Python27\lib\ssl.py", line 579, in __init__
    self.do_handshake()
  File "C:\Python27\lib\ssl.py", line 808, in do_handshake
    self._sslobj.do_handshake()
IOError: [Errno socket error] [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590)
</code></pre>
<p>The last line suggest that the error comes from the secure search, but I can't seem to find a way around it.</p>
<p>I have looked at <a href="https://stackoverflow.com/questions/2146383/https-connection-python">this</a> post, but still no success.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's a sample code you can try on Python3, using <code>urlparse</code></p>
<pre><code>import http.client
from urllib.parse import urlparse
url = "https://www.google.ca/?gfe_rd=cr&amp;ei=u6d_VbzoMaei8wfE1oHgBw&amp;gws_rd=ssl#q=test"
p = urlparse(url)
conn = http.client.HTTPConnection(p.netloc)
conn.request('GET', p.path)
resp = conn.getresponse()
print('resp= {}'.format(resp.read()))
</code></pre>
<p>It will work based on your parameters to <code>conn.request()</code> function, though. You could try other method types like <code>HEAD</code> for example and your response will change accordingly.</p>
<p>If you want to test whether your request worked or not, you can always try: </p>
<pre><code>print(resp.status)
</code></pre>
<p>In this case, it gives <code>200</code>. The list of status codes are available <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" rel="nofollow">here</a></p>
<p>Some other <a href="https://docs.python.org/3/library/http.client.html#examples" rel="nofollow">examples</a> can be found as well.</p>
</div>
<div class="post-text" itemprop="text">
<p>You are using https which is a secure protocol. It says </p>
<blockquote>
<p>SSL: CERTIFICATE_VERIFY_FAILED</p>
</blockquote>
<p>Try http or use ssl 
<a href="https://docs.python.org/2/library/ssl.html" rel="nofollow">https://docs.python.org/2/library/ssl.html</a></p>
<pre><code>url = "http://www.google.ca
</code></pre>
</div>
<span class="comment-copy"><a href="https://gist.github.com/3084b5ff8ce5b0fe7b84" rel="nofollow noreferrer">cannot reproduce</a></span>
<span class="comment-copy">Do you have valid cacerts on your system and can you system do SSL in general? What does <code>curl</code> say?</span>
<span class="comment-copy"><a href="http://stackoverflow.com/questions/27835619/ssl-certificate-verify-failed-error" title="ssl certificate verify failed error">stackoverflow.com/questions/27835619/â€¦</a></span>
<span class="comment-copy">Thanks for this, however I seem to be getting much less information printed out as I do when I save the html file as a webpage and open it in notepad. Any idea why it isn't complete?</span>
<span class="comment-copy">I figured my last comment could be a different problem and wanted to accept your answer, so I asked a separate <a href="http://stackoverflow.com/questions/30906705/html-source-code-of-https-pages-different-when-fetched-manually-vs-with-httpcon?noredirect=1#comment49851502_30906705">question</a>.</span>
