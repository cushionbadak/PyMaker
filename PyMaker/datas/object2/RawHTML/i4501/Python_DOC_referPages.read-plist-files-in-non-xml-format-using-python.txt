<div class="post-text" itemprop="text">
<p>I am reading MacOS data that is in plist (propertly list) format that is not in the XML format, not in the binary format, but in the other ascii format. For example:</p>
<pre><code>addr= {
    City = "San Francisco Bay Area";
}
</code></pre>
<p>I am trying to parse this into a Python dictionary. Unfortunately, <code>plistlib.loads</code> returns <code>InvalidFileException()</code> when I try to parse it:</p>
<pre><code>import plistlib

plist=b"""
addr= {
    City = "San Francisco Bay Area";
}
"""

print( plistlib.loads( plist ) )
</code></pre>
<p>Produces:</p>
<pre><code>Traceback (most recent call last):
  File "x.py", line 9, in &lt;module&gt;
    print( plistlib.loads( plist ) )
  File "/Users/simsong/anaconda/lib/python3.6/plistlib.py", line 1024, in loads
    fp, fmt=fmt, use_builtin_types=use_builtin_types, dict_type=dict_type)
  File "/Users/simsong/anaconda/lib/python3.6/plistlib.py", line 1009, in load
    raise InvalidFileException()
plistlib.InvalidFileException: Invalid file
</code></pre>
<p>What's the correct way to do this?</p>
</div>
<div class="post-text" itemprop="text">
<p>You are talking about plist files in the JSON format. Your example is not JSON. </p>
<p>Let's start with this <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/PropertyLists/UnderstandXMLPlist/UnderstandXMLPlist.html" rel="nofollow noreferrer">sample plist in XML</a></p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist SYSTEM "file://localhost/System/Library/DTDs/PropertyList.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
    &lt;key&gt;Author&lt;/key&gt;
    &lt;string&gt;William Shakespeare&lt;/string&gt;
    &lt;key&gt;Lines&lt;/key&gt;
    &lt;array&gt;
        &lt;string&gt;It is a tale told by an idiot,&lt;/string&gt;
        &lt;string&gt;Full of sound and fury, signifying nothing.&lt;/string&gt;
    &lt;/array&gt;
    &lt;key&gt;Birthdate&lt;/key&gt;
    &lt;integer&gt;1564&lt;/integer&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre>
<p>And convert it to JSON format:</p>
<pre><code>plutil -convert json sample.plist 

{"Author":"William Shakespeare","Birthdate":1564,"Lines":["It is a tale told by an idiot,","Full of sound and fury, signifying nothing."]}
</code></pre>
<p>Now you can read this using the JSON library.</p>
<pre><code>import json

plist_text = '{"Author":"William Shakespeare","Birthdate":1564,"Lines":["It is a tale told by an idiot,","Full of sound and fury, signifying nothing."]}'

plist = json.loads(plist_text)

print('The author is ' + plist['Author'])
</code></pre>
<p>Output:</p>
<pre><code>$ python3 plist.py 
$ The author is William Shakespeare
</code></pre>
</div>
<span class="comment-copy">Where have you seen in the doc that plistlib would support the plain text format ? "This module provides an interface for reading and writing the “property list” files used mainly by Mac OS X <b>and supports both binary and XML plist files.</b>"</span>
<span class="comment-copy">Also I don't know what is this "other  ascii format" you're talking about, can't find any mention of it in the Plist man page.</span>
<span class="comment-copy">Well, the "other ascii format" is the one that appears in my question. It doesn't need to be read with the <code>plistlib</code> module.</span>
<span class="comment-copy">The (implied) question was "where does this 'other ascii format' come from and where is it documented" - because there's no mention of it in <code>plistlib</code> doc (<a href="https://docs.python.org/3/library/plistlib.html" rel="nofollow noreferrer">docs.python.org/3/library/plistlib.html</a>) nor in apple's plist man page (linked from the plistlib doc).</span>
<span class="comment-copy">So your suggestion is just to read it as if it is JSON?</span>
<span class="comment-copy">If it's not the binary or the XML format, then it <i>is</i> JSON -- that's the only other plist format.</span>
<span class="comment-copy">I too have a .plist file I got from an app containing my RSS feeds because that app has stopped working it too can not be loaded by plistlib but I got your sample to work and the ending and beginning tags are fine something between line 1 and 7702 of the file is giving this library grief, I may be switching to JSON or XML real soon now...</span>
<span class="comment-copy">You can scan a plist file to see if it OK plutil feeds.plist feeds.plist: OK but the file in question can't be loaded by the library in question</span>
<span class="comment-copy">Who knew this was so hard I get plutil -convert json feeds.plist  feeds.plist: invalid object in plist for destination format</span>
