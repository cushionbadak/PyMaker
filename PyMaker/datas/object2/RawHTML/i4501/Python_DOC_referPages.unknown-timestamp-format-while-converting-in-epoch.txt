<div class="post-text" itemprop="text">
<p>I want to convert this '2018-03-15T05:13:24.000-0400' datetime format to the epoch time format. While converting I am getting the time format error. Plz help me with this issue.</p>
<p>Here is my python Code:</p>
<pre><code>import time

start='2018-03-15T05:13:24.000-0400'
start1 = str(start)
start_date = int(time.mktime(time.strptime(start1,'%Y-%m-%d %H:%M:%S')))*1000
print(start_date)
</code></pre>
<p>Expecting output:</p>
<pre><code>1521105204000
</code></pre>
<p>Thanks :)</p>
</div>
<div class="post-text" itemprop="text">
<p>First, your <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="nofollow noreferrer"><code>strptime</code> format</a> has to actually match the string you pass it. Let's break it down:</p>
<ul>
<li><code>2018</code>, 4-digit year: <code>%Y</code></li>
<li><code>-</code>, literal hyphen: <code>-</code></li>
<li><code>03</code>, 2-digit month: <code>%m</code></li>
<li><code>-</code>, literal hyphen: <code>-</code></li>
<li><code>15</code>, 2-digit day: <code>%d</code></li>
<li><code>T</code>, ISO-style date/time separator: <code>T</code> (not a space as in your format)</li>
<li><code>05</code>, 2-digit hour: <code>%H</code></li>
<li><code>:</code>, literal colon: <code>:</code></li>
<li><code>13</code>, 2-digit minute: <code>%M</code></li>
<li><code>:</code>, literal colon: <code>:</code></li>
<li><code>24</code>, 2-digit second: <code>%S</code></li>
<li><code>.</code>, literal dot: <code>.</code></li>
<li><code>000</code>, 3-digit millisecond, which you can parse as a 3-digit microsecond and fix later: <code>%f</code></li>
<li><code>-0400</code>, 5-char UTC offset, <code>%z</code></li>
</ul>
<p>Next, since for some reason using the <code>time</code> module instead of <code>datetime</code>, and using the <code>struct_tm</code> type which doesn't support sub-second times, and then truncating to <code>int</code> anyway, even though you apparently want milliseconds, that <code>%f</code> microsecond value is going to end up ignored, so you don't even have to fix it up.</p>
<p>So just put this string together, and you're done.</p>
</div>
<span class="comment-copy">Thank you. I was not able to understand <code>-400</code> belongs to which category. But, now I am clear.</span>
<span class="comment-copy">Please do not try to edit this answer to just give the code instead of explaining what to do. Anyone who can't figure out how to put the string together themselves needs to read this to understand what it does, not just copy and paste something blindly.</span>
<span class="comment-copy">Thank you so much @abarnert working great :)</span>
