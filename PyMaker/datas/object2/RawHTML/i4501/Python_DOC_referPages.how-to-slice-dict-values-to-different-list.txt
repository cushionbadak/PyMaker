<div class="post-text" itemprop="text">
<pre><code>import ccxt
import time
import re

exchanges = {'mercado', 'bitfinex', 'quadrigacx','binance'}

limit = 10

def get_order_book(key,symbol):
    exchange = eval('ccxt.' + key + '()' )
    orderbook = exchange.fetch_order_book(symbol,limit)
    print (list(orderbook.keys()))

    bid = orderbook['bids']
    print (bid)

get_order_book('bitfinex', 'BTC/USD')

&gt;&gt;['bids', 'asks', 'timestamp', 'datetime', 'nonce']
[[6603.6, 0.02189108], [6603.1, 0.15613008], [6602.7, 1.508], [6602.0, 0.05], [6601.3, 1.0], [6601.0, 0.00499], [6600.5, 0.63660326], [6600.3, 1.5094], [6600.0, 9.0], [6598.1, 0.18676835]]
</code></pre>
<p>The function <code>bids</code> returns a list with two values for each index, first is <code>price</code>, second is <code>amount</code>.</p>
<p>Its possible to slice this list into two lists, one with <code>price</code> and another with <code>amount</code>?</p>
<p>or put this into a nested dict key, for me to use later?</p>
<p>Instead of returning a list it will assign the two values of each index on the list to a nested dict</p>
<p>Like <code>new_orderbook['bids']['price']</code> for the first number<br/>
And <code>new_orderbook['bids']['amount']</code> for the second number</p>
</div>
<div class="post-text" itemprop="text">
<p>@ekhumoro is correct.</p>
<p>You can unzip these pairs by passing <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip()</code></a> the iterator it contains preceded by the <code>*</code> operator.</p>
<pre><code>&gt;&gt;&gt; bid
[[4030.1, 0.17328499], [4030.0, 0.73859736], [4029.7, 1.921567], [4027.9, 0.31081552], [4027.3, 0.05842284], [4027.2, 1.26534116], [4027.0, 0.19425388], [4026.9, 0.04], [4026.7, 0.0133796], [4026.3, 0.93483375]]
&gt;&gt;&gt; prices, amounts = zip(*bid)
&gt;&gt;&gt; list(prices)
[4030.1, 4030.0, 4029.7, 4027.9, 4027.3, 4027.2, 4027.0, 4026.9, 4026.7, 4026.3]
&gt;&gt;&gt; list(amounts)
[0.17328499, 0.73859736, 1.921567, 0.31081552, 0.05842284, 1.26534116, 0.19425388, 0.04, 0.0133796, 0.93483375]
</code></pre>
</div>
<span class="comment-copy"><code>prices, amounts = zip(*pairs)</code>.</span>
