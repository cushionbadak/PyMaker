<div class="post-text" itemprop="text">
<p>I'm trying to parse from a .csv file:</p>
<pre><code>planets = pd.read_csv("planets.csv", sep=',')
</code></pre>
<p>But I always end up with this error:</p>
<pre><code>ParserError: Error tokenizing data. C error: Expected 1 fields in line 13, saw 9
</code></pre>
<p>This is how the first few lines of my csv file look like:</p>
<pre><code># This file was produced by the test
# Tue Apr  3 06:03:27 2018
#
# COLUMN pl_hostname:    Host Name
# COLUMN pl_discmethod:  Discovery Method
# COLUMN pl_pnum:        Number of Planets in System
# COLUMN pl_orbper:      Orbital Period [days]
# COLUMN pl_orbsmax:     Orbit Semi-Major Axis [AU])
# COLUMN st_dist:        Distance [pc]
# COLUMN st_teff:        Effective Temperature [K]
# COLUMN st_mass:        Stellar Mass [Solar mass] 
#
loc_rowid,pl_hostname,pl_discmethod,pl_pnum,pl_orbper,pl_orbsmax,st_dist,st_teff,st_mass
1,11 Com,Radial Velocity,1,326.03000000,1.290000,110.62,4742.00,2.70
2,11 UMi,Radial Velocity,1,516.22000000,1.540000,119.47,4340.00,1.80
3,14 And,Radial Velocity,1,185.84000000,0.830000,76.39,4813.00,2.20
4,14 Her,Radial Velocity,1,1773.40000000,2.770000,18.15,5311.00,0.90
5,16 Cyg B,Radial Velocity,1,798.50000000,1.681000,21.41,5674.00,0.99
6,18 Del,Radial Velocity,1,993.30000000,2.600000,73.10,4979.00,2.30
7,1RXS J160929.1-210524,Imaging,1,,330.000000,145.00,4060.00,0.85
</code></pre>
<p><strong>Edit:</strong> this is line 13:</p>
<pre><code>loc_rowid,pl_hostname,pl_discmethod,pl_pnum,pl_orbper,pl_orbsmax,st_dist,st_teff,st_mass
</code></pre>
<p><strong>Edit:</strong> Thanks to @Rakesh, Skipping the first 12 lines solved the problem</p>
<p>planets = pd.read_csv("planets.csv", sep=',', skiprows=12)</p>
</div>
<div class="post-text" itemprop="text">
<p>The function <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html" rel="nofollow noreferrer"><code>pandas.read_csv()</code></a> gets the number of columns and their names from the first line. By default it does not consider the option of the first lines being comments. </p>
<p>What is happening is that pandas reads the first line, splits it and finds there is only one column, insetad of doing this split to the line 13 which is the <em>first not commented line</em>. To solve this, the argument <code>comment</code> can be used.</p>
<pre><code>planets = pd.read_csv("planets.csv", comment='#')
</code></pre>
<p>Compared to using <code>skiprows</code>, this allows the same code to load the <code>planets.csv</code> file even if the number of comment lines vary.</p>
</div>
<div class="post-text" itemprop="text">
<p>I've gotten this to work when I couldn't figure out the exact cause of the error:</p>
<pre><code>planets = pd.read_csv('planets.csv', sep=',', error_bad_lines=False)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Looks like you need <code>skiprows</code>. You can skip all the comments. </p>
<p><strong>Ex:</strong></p>
<pre><code>planets = pd.read_csv("planets.csv", sep=',', skiprows=12)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In addition to the above answer, if you got problem only with row 13th, you may skip it . </p>
<pre><code>pd.read_csv("plants.csv", skiprows = 12, header=None)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I just ran the following code using the csv data you provided and it ran without issues. I ran the following below</p>
<p><code>
import pandas as pd
planets = pd.read_csv("planets.csv", sep=',')
print(planets)
</code></p>
<p>With that being said, there could be a few issues. </p>
<p>Firstly, you could set the delimiter to sniffing <code>sep=None</code> to let pandas figure out what the delimiter is. You could also set <code>headers=None</code> So it would look like:</p>
<p><code>
pd.read_csv("planets.csv", sep=None, headers=None)
</code></p>
<p>There could be an encoding issue. You could try setting encoding to some of these values to see if the error exists <a href="https://docs.python.org/3/library/codecs.html#standard-encodings" rel="nofollow noreferrer">https://docs.python.org/3/library/codecs.html#standard-encodings</a></p>
</div>
<span class="comment-copy">You probably need to check line 13.</span>
<span class="comment-copy">You should post the data in line 13, that would give more clue</span>
<span class="comment-copy">@NEOmen This is line 13: loc_rowid,pl_hostname,pl_discmethod,pl_pnum,pl_orbper,pl_orbsmax,st_dist,st_teff,st_mass</span>
<span class="comment-copy">What are lines 1-12 then? Do you want to read the info there?</span>
<span class="comment-copy">@xg.plt.py Those are just comments that contain info about the data in the file.</span>
<span class="comment-copy">This also worked, thanks, didn't know this.</span>
<span class="comment-copy">You are welcome, I cannot remember all the options of <code>read_csv</code> and I have to check the documentation frequently, no problem :).</span>
<span class="comment-copy">Again, that just skips all the lines in the csv file.</span>
<span class="comment-copy">That just skips all the lines in the csv file.</span>
<span class="comment-copy">Can you post the first 20 line in your question?</span>
<span class="comment-copy">sure, <a href="https://pastebin.com/YZBNxGBH" rel="nofollow noreferrer">pastebin.com/YZBNxGBH</a></span>
<span class="comment-copy">Can you try the updated snippet? <code>skiprows=12</code></span>
<span class="comment-copy">Yeah the updated snippet worked like a charm, thanks :)</span>
