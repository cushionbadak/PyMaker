<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/10113090/best-way-to-parse-a-url-query-string">Best way to parse a URL query string</a>
<span class="question-originals-answer-count">
                    3 answers
                </span>
</li>
</ul>
</div>
<p>Using Python how can I print <code>request_token</code> from a URL like:  </p>
<pre><code>https://kite.trade/?request_token=p87tOTSXRSp4O20TGr870n2JiXFKISIh&amp;action=login&amp;status=success
</code></pre>
<p>IE: the text between <code>=</code> to <code>&amp;</code> following <code>request_token</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the urlparse library in python 2 <a href="https://docs.python.org/2/library/urlparse.html" rel="nofollow noreferrer">https://docs.python.org/2/library/urlparse.html</a></p>
<p>Or urllib.parse in python 3
<a href="https://docs.python.org/3/library/urllib.parse.html" rel="nofollow noreferrer">https://docs.python.org/3/library/urllib.parse.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>You can use split the strings using string functions and put the query into a dict like: </p>
<h3>Code:</h3>
<pre><code>url = 'https://kite.trade/?request_token=p87tOTSXRSp4O20TGr870n2JiXFKISIh&amp;' \
      'action=login&amp;status=success'

query = dict(a.split('=') for a in url.split('?')[1].split('&amp;'))
print(query)
</code></pre>
<p>You can do the same using the urllib like:</p>
<pre><code>import urllib
query = urllib.parse.parse_qs(urllib.parse.urlparse(url).query)
print(query['request_token'][0])
</code></pre>
<h3>Results:</h3>
<pre><code>{'request_token': 'p87tOTSXRSp4O20TGr870n2JiXFKISIh', 'action': 'login', 'status': 'success'}
p87tOTSXRSp4O20TGr870n2JiXFKISIh
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think what you're looking for is <code>parse_qs</code> from <code>urllib.parse</code>.</p>
<pre><code>from urllib.parse import urlparse, parse_qs #import stuff

#parse the url
url_obj = urlparse('https://kite.trade/?request_token=p87tOTSXRSp4O20TGr870n2JiXFKISIh&amp;action=login&amp;status=success')
#get a dictionary from the query
q_dict = parse_qs(url_obj.query)
#now get query args by key name. 
print(q_dict["request_token"])
print(q_dict["status"])
</code></pre>
<p><a href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.parse_qs" rel="nofollow noreferrer">Here is a link to the documentation for <code>parse_qs</code>.</a></p>
</div>
<span class="comment-copy">@KiranKumarReddy, you are very welcome.  However, on SO the very best way to say thanks is to upvote <i>any</i> questions or answers you find useful.  And on your questions, if one of the answers is a good fit for your problem, you can mark it as the accepted answer.  See the <a href="http://stackoverflow.com/help/someone-answers">Help Center</a> for guidelines.</span>
