<div class="post-text" itemprop="text">
<p>What is going on here?</p>
<pre><code>with open('contractors.txt','r') as in_file:  
    stripped = (line.strip() for line in in_file)   
    lines = (line for line in stripped if line)
</code></pre>
<p>Is this a syntactic equivalent to:</p>
<pre><code>for line in in_file:
    stripped = line.strip()
for line in stripped:
    lines =  line
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The "compacted for loops" are called <a href="https://docs.python.org/3/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expressions</a>, which are more-or-less equivalent to <a href="https://docs.python.org/3.6/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehensions</a> that return generators instead of lists.</p>
<p>In the code you're looking at, the <code>stripped</code> generator expression <code>str.strip()</code>s each line of the opened file, and the <code>lines</code> generator expression drops any blank lines from <code>stripped</code>. The end result is a generator (<code>lines</code>) that, when iterated over, will generate the stripped version of the non-empty lines of the file.</p>
<p>It's important to note that since you're just working with generators, after these lines are run <em>nothing has actually been read from the file yet</em>. If you end the <code>with</code> block, the file will be closed and attempting to pull anything from <code>lines</code> will result in an I/O error. So anything you want to do with it has to be done within that block. </p>
</div>
<span class="comment-copy">yes, these are same.</span>
<span class="comment-copy">No! Because in the second case <code>stripped</code> only has the last value from the file...</span>
<span class="comment-copy">Also <code>lines</code> would be the last letter from the last line.</span>
<span class="comment-copy">So in the first one, is it actually appending to an array?</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/364802/how-exactly-does-a-generator-comprehension-work">How exactly does a generator comprehension work?</a></span>
