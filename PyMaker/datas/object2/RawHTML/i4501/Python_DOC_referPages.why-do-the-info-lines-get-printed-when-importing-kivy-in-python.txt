<div class="post-text" itemprop="text">
<p>When I import <code>kivy</code> in python:</p>
<pre><code>&gt;&gt;&gt; import kivy
</code></pre>
<p>The following three debug lines get printed:</p>
<pre><code>[INFO   ] [Logger      ] Record Log in C:\Users\usrname\.kivy\logs\kivy_18-04-07_50.txt
[INFO   ] [Kivy        ] v1.10.0
[INFO   ] [Python      ] v3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 17:00:18) [MSC v.1900 64 bit (AMD64)]
</code></pre>
<p>I know this is rather intended than an error, but I'd like to suppress this output. I have read the file <code>kivy\__init__.py</code> and figured out that the lines get printed when following line is executed:</p>
<pre><code>from kivy.compat import PY2
</code></pre>
<p>So I have read <code>kivy\compat.py</code> too, which isn't even a big file (102 lines), but I still can't see why the debug lines get printed.</p>
<p>I've executed <em>every single line</em> (including docstrings and comments) of the file in the python console and couldn't reproduce it.</p>
<p>Can somebody explain this to me? I assume that this is something internal and is only possible because I installed it with pip but actually I have no clue what's going on here.</p>
</div>
<div class="post-text" itemprop="text">
<p>The output is generated by the <a href="https://github.com/kivy/kivy/blob/9f64f5e24240cbf7e2cd34315d08131fd31ec822/kivy/logger.py" rel="nofollow noreferrer"><code>kivy.logger</code> module</a>, which simply uses the standard <a href="https://docs.python.org/3/library/logging.html" rel="nofollow noreferrer">Python <code>logger</code> module</a>.</p>
<p>The module adds a logger to output to the console, unless the <code>KIVY_NO_CONSOLELOG</code> environment variable has been set:</p>
<pre><code>if 'KIVY_NO_CONSOLELOG' not in os.environ:
    # ...
    formatter = ColoredFormatter(color_fmt, use_color=use_color)
    console = ConsoleHandler()
    console.setFormatter(formatter)
    Logger.addHandler(console)
</code></pre>
<p>From that point on, logged messages are printed out to your console.</p>
<p>It is not the <code>kivy.compat</code> module that triggers all this; when importing a module inside a package, Python will always make sure that the package itself is loaded first. Thus <code>import kivy.compat</code> will trigger an import of <code>kivy</code> itself if not already loaded.</p>
<p>It is <code>kivy/__init__.py</code> that outputs the first log message:</p>
<pre><code>if RELEASE:
    Logger.info('Kivy: v%s' % (__version__))
</code></pre>
<p>but the <code>kivy.logger.FileHandler</code> object that is also configured (unless <code>KIVY_NO_FILELOG</code> is set in the environment) runs extra code when first used and inserts <code>Logger.info('Logger: Record log in %s' % filename)</code> before the <code>Kivy: v&lt;version&gt;</code> message is handled. Finally, <code>kivy/__init__.py</code> executes <code>Logger.info('Python: v{}'.format(sys.version))</code> to output the Python version info.</p>
</div>
<span class="comment-copy">this makes sense since the <code>kivy.logger</code> module is imported by <code>kivy\__init__.py</code>. However, the debug lines get also printed when I directly <code>&gt;&gt;&gt; import kivy.compat</code> though this module doesn't import <code>kivy.logger</code> which looks really strange to me</span>
<span class="comment-copy">Python imports <code>kivy</code> <i>first</i> for any name within the package, so importing <code>kivy.compat</code> will also see <code>kivy/__init__.py</code> loaded first.</span>
<span class="comment-copy">Oh, ok now it's clear to me, thanks!</span>
