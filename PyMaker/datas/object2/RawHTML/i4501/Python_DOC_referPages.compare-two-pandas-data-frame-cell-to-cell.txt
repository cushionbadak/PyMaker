<div class="post-text" itemprop="text">
<p>I am new to data science , I want to check which element from on data frame exist in another data frame.</p>
<p>for example:</p>
<p>df1 = [1,2,8,6]
df2 = [5,2,6,9]</p>
<p>for 1 output should be False</p>
<p>for 2 output should be True</p>
<p>for 6 output should be True</p>
<p>etc ..</p>
<p>Note:- I have matrix not vector. </p>
<p>I have tried using following code:</p>
<p>import pandas as pd
import numpy as np</p>
<pre><code>priority_dataframe = pd.read_excel(prioritylist_file_path, sheet_name='Sheet1', index=None)

priority_dict = {column: np.array(priority_dataframe[column].dropna(axis=0, how='all').str.lower()) for column in
                     priority_dataframe.columns}
keys_found_per_sheet = []
if file_path.lower().endswith(('.csv')):
    file_dataframe = pd.read_csv(file_path)
else:
    file_dataframe = pd.read_excel(file_path, sheet_name=sheet, index=None)

file_cell_array = list()
for column in file_dataframe.columns:
    for file_cell in np.array(file_dataframe[column].dropna(axis=0, how='all')):
        if isinstance(file_cell, str) == 'str':
            file_cell_array.append(file_cell)
        else:
            file_cell_array.append(str(file_cell))

converted_file_cell_array = np.array(file_cell_array)

for key, values in priority_dict.items():
    for priority_cell in values:
        if priority_cell in converted_file_cell_array[:]:
            keys_found_per_sheet.append(key)
            break
</code></pre>
<p>I am doing something wrong in <code>if priority_cell in converted_file_cell_array[:]</code> ?</p>
<p>Is there any other efficient way to do that?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can take the <code>.values</code> from each dataframe, convert them to a <code>set()</code>, and take the set intersection.</p>
<pre><code>set1 = set(df1.values.reshape(-1).tolist())
set2 = set(dr2.values.reshape(-1).tolist())
different = set1 &amp; set2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can flatten all values of <code>DataFrame</code>s by <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.html" rel="nofollow noreferrer"><code>numpy.ravel</code></a> and then use <a href="https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset" rel="nofollow noreferrer"><code>set.intersection()</code></a>:</p>
<pre><code>df1 = pd.DataFrame({'A':list('abcdef'),
                   'B':[4,5,4,5,5,4],
                   'C':[7,8,9,4,2,3],
                   'D':[1,3,5,7,1,0],
                   'E':[5,3,6,9,2,4],
                   'F':list('aaabbb')})

print (df1)
   A  B  C  D  E  F
0  a  4  7  1  5  a
1  b  5  8  3  3  a
2  c  4  9  5  6  a
3  d  5  4  7  9  b
4  e  5  2  1  2  b
5  f  4  3  0  4  b

df2 = pd.DataFrame({'A':[2,3,13,4], 'Z':list('abfr')})
print (df2)
    A  Z
0   2  a
1   3  b
2  13  f
3   4  r

L = list(set(df1.values.ravel()).intersection(df2.values.ravel()))
print (L)
['f', 2, 3, 4, 'a', 'b']
</code></pre>
</div>
<span class="comment-copy">Can you add some data samples and expected output? I think <a href="https://stackoverflow.com/help/mcve">mcve</a></span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/38212697/confirming-equality-of-two-pandas-dataframes">Confirming equality of two pandas dataframes?</a></span>
<span class="comment-copy">@JaredWilber ,not really because, i want to check existence of each element of one data frame into another data frame.</span>
<span class="comment-copy">In other words, you want to check if two dataframes have exactly the same elements, but the positions do not matter, right?</span>
<span class="comment-copy">My bad. I think you should further clarify the question, I'm still confused what you're asking.</span>
<span class="comment-copy">Got error <code>AttributeError: 'builtin_function_or_method' object has no attribute 'reshape'</code>.</span>
<span class="comment-copy">Is <code>df1</code> indeed a DataFrame?</span>
<span class="comment-copy">soryy it was my mistake.</span>
<span class="comment-copy">I want to know what are the element from set1 exist in set2. Will set difference work, I don't think so.</span>
<span class="comment-copy">Take the intersection then. See the updated answer.</span>
<span class="comment-copy">I have already check this, but I want True/False output for each element so that I can do other stuff on that .</span>
<span class="comment-copy">@PiyushS.Wanare - What is expected output? <code>dictionary</code> of boolens is correct?</span>
<span class="comment-copy">Want list of all existing element.</span>
<span class="comment-copy">@PiyushS.Wanare - then <code>list(set(a).intersection(b))</code> should working.</span>
