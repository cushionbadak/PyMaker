<div class="post-text" itemprop="text">
<p>My requirement is to checks to see if a file has changed since the last run.
I have made an attempt to do with this <code>os.stat</code> and I'm not sure whether it is a correct way or not.</p>
<pre><code>import os
import json

file_info = os.stat("cli.py")
with open("log.txt", "r") as file:
    line = json.loads(file.readline())
    if list(set(line)-set(list(file_info))):
       print("Changes in file")
       with open ("log.txt", "w+") as f:
           f.write(str(list(file_info)))
</code></pre>
<p>I looking for is there any better ideas or am I doing it in correct way or not. Any help is appreciated</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a checksum, e.g. MD5</p>
<pre><code>import hashlib

with open("yourfile", "rb") as f:

    print(hashlib.md5(f.read()).hexdigest())
</code></pre>
<p><a href="https://docs.python.org/3/library/hashlib.html" rel="nofollow noreferrer">https://docs.python.org/3/library/hashlib.html</a></p>
<p>If you need to know where the file has changed use <a href="https://docs.python.org/3/library/difflib.html" rel="nofollow noreferrer">difflib</a>, shipped with Python. For links to examples see comments.</p>
</div>
<span class="comment-copy">are you comparing the full file content line for line? why not comparing checksums, e.g md5</span>
<span class="comment-copy">Have u seen this link <a href="https://stackoverflow.com/q/182197/7636315">stackoverflow.com/q/182197/7636315</a> .. It talks abt variety of methods for this purpose like polling (performance concerns), QfileSystemWatcher (depends on pyqt), Watchdog (python api library) etc. This should help u i think.</span>
<span class="comment-copy">@MarcelZoll No I'am comparing the file info like modified date, inod no with the info stored in a file when last runs, Its not the file contents. I don't have any idea about checksums or md5 .</span>
<span class="comment-copy">So does it show the changes in file since last run of this script ?</span>
<span class="comment-copy">This only shows if the file has changed not where. To see where it changed use the difflib, also shipped with Python. <a href="https://docs.python.org/3.5/library/difflib.html" rel="nofollow noreferrer">docs.python.org/3.5/library/difflib.html</a></span>
<span class="comment-copy">There are many examples around, e.g. <a href="https://www.smallsurething.com/comparing-files-in-python-using-difflib/" rel="nofollow noreferrer">smallsurething.com/comparing-files-in-python-using-difflib</a> or <a href="https://stackoverflow.com/questions/977491/comparing-two-txt-files-using-difflib-in-python" title="comparing two txt files using difflib in python">stackoverflow.com/questions/977491/â€¦</a></span>
