<div class="post-text" itemprop="text">
<p>I've tried everything to write just one byte to a file in python. </p>
<pre><code>i = 10
fh.write( six.int2byte(i) )
</code></pre>
<p>will output '0x00 0x0a'</p>
<pre><code>fh.write( struct.pack('i', i) )
</code></pre>
<p>will output '0x00 0x0a 0x00 0x00'</p>
<p>I want to write a single byte with the value 10 to the file.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can just build a <code>bytes</code> object with that value:</p>
<pre><code>with open('my_file', 'wb') as f:
    f.write(bytes([10]))
</code></pre>
<p>This works only in python3. If you replace <code>bytes</code> with <code>bytearray</code> it works in both python2 and 3.</p>
<p>Also: remember to open the file in binary mode to write bytes to it.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>struct.pack("=b",i)</code> (signed) and <code>struct.pack("=B",i)</code> (unsigned) pack an integer as a single byte which you can see in the <a href="https://docs.python.org/3/library/struct.html#format-characters" rel="nofollow">docs for struct</a>. (<code>"="</code> is for using standard size and ignoring alignment - just in case) so you can do</p>
<pre><code>import struct
i=10
with open('binfile', 'wb') as f:
    f.write(struct.pack("=B",i))
</code></pre>
</div>
<span class="comment-copy">How did you open <code>fh</code>?</span>
<span class="comment-copy">Are you talking about <a href="https://docs.python.org/3/glossary.html#term-file-object" rel="nofollow noreferrer">file-objects</a>, <a href="https://docs.python.org/3/library/os.html#file-descriptor-operations" rel="nofollow noreferrer">file-descriptors</a> or actual <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa364225(v=vs.85).aspx" rel="nofollow noreferrer">file handles on Windows</a>?</span>
<span class="comment-copy">in python2.7 this generates: 0x31 0x5b 0x3d 0x30.  with bytearray it generates 0x00 0x0a</span>
<span class="comment-copy">I take it back - I was using hexdump -x to look at the file which was padding the extra 0x00.  The bytearray works.</span>
<span class="comment-copy">bytes/bytearray take values from 0 to 255 (unsigned) - so don't put in negative numbers</span>
<span class="comment-copy">Why did you downvote?</span>
<span class="comment-copy">this also generates 0x00 0x0a (wither either =b or =B option)</span>
<span class="comment-copy">@reza - just tried this, on MSYS2 python2 and python3, and I get a file which is exactly 1 byte in size; with just 0x0a as content, when viewed either with <code>dhex</code> or with <code>hexdump -C binfile</code></span>
