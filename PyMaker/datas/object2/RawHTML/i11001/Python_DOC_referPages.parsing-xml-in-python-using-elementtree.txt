<div class="post-text" itemprop="text">
<p>The answers were given hundreds of times, but still I could not find a solution. I tried the official documentation and answers on stackoverflow.</p>
<p>I have that XML structure:</p>
<pre><code>&lt;?xml version="1.0" encoding="windows-1252"?&gt;
&lt;OpenShipments xmlns="x-schema:OpenShipments.xdr"&gt;
    &lt;OpenShipment ProcessStatus="Processed" ShipmentOption=""&gt;
        &lt;ShipTo&gt;
            &lt;CompanyOrName&gt;&lt;![CDATA[xxx]]&gt;&lt;/CompanyOrName&gt;
            &lt;Attention&gt;&lt;![CDATA[xxx]]&gt;&lt;/Attention&gt;
            &lt;Address1&gt;&lt;![CDATA[xxx]]&gt;&lt;/Address1&gt;
            &lt;PostalCode&gt;&lt;![CDATA[xxx]]&gt;&lt;/PostalCode&gt;
            &lt;CityOrTown&gt;&lt;![CDATA[xxx]]&gt;&lt;/CityOrTown&gt;
            &lt;Telephone&gt;&lt;![CDATA[xxx]]&gt;&lt;/Telephone&gt;
            &lt;EmailAddress&gt;&lt;![CDATA[xxx]]&gt;&lt;/EmailAddress&gt;
            &lt;CountryTerritory&gt;&lt;![CDATA[xxx]]&gt;&lt;/CountryTerritory&gt;
        &lt;/ShipTo&gt;
        &lt;ShipmentInformation&gt;
            &lt;ServiceType&gt;ST&lt;/ServiceType&gt;
            &lt;PackageType&gt;CP&lt;/PackageType&gt;
            &lt;ShipmentActualWeight&gt;&lt;![CDATA[XXX]]&gt;&lt;/ShipmentActualWeight&gt;
            &lt;QVNOption&gt;
                &lt;QVNRecipientAndNotificationTypes&gt;
                    &lt;CompanyOrName/&gt;
                    &lt;ContactName/&gt;
                    &lt;EMailAddress/&gt;
                    &lt;LabelCreation/&gt;
                &lt;/QVNRecipientAndNotificationTypes&gt;
                &lt;ShipFromCompanyOrName&gt;xxx&lt;/ShipFromCompanyOrName&gt;
            &lt;/QVNOption&gt;
        &lt;/ShipmentInformation&gt;
        &lt;ProcessMessage&gt;

            &lt;ShipmentRates&gt;
                &lt;ShipmentCharges&gt;
                    &lt;Rate&gt;
                        &lt;Published&gt;XXX&lt;/Published&gt;
                        &lt;Negotiated&gt;XXX&lt;/Negotiated&gt;
                    &lt;/Rate&gt;
                &lt;/ShipmentCharges&gt;
                &lt;ShipperCharges&gt;
                    &lt;Rate&gt;
                        &lt;Published&gt;XXX&lt;/Published&gt;
                        &lt;Negotiated&gt;XXX&lt;/Negotiated&gt;
                    &lt;/Rate&gt;
                &lt;/ShipperCharges&gt;
                &lt;ReceiverCharges&gt;
                    &lt;Rate&gt;
                        &lt;Published&gt;0,00&lt;/Published&gt;
                        &lt;Negotiated&gt;0,00&lt;/Negotiated&gt;
                    &lt;/Rate&gt;
                &lt;/ReceiverCharges&gt;
                &lt;QVN&gt;
                    &lt;Rate&gt;
                        &lt;Published&gt;0,00&lt;/Published&gt;
                        &lt;Negotiated&gt;0,00&lt;/Negotiated&gt;
                    &lt;/Rate&gt;
                &lt;/QVN&gt;
                &lt;PackageRates&gt;
                    &lt;PackageRate&gt;
                        &lt;TrackingNumber&gt;TRACKING NUMBER&lt;/TrackingNumber&gt;
                        &lt;PackageCharges&gt;
                            &lt;Rate&gt;
                            &lt;Published&gt;0,00&lt;/Published&gt;
                            &lt;Negotiated&gt;0,00&lt;/Negotiated&gt;
                            &lt;/Rate&gt;
                        &lt;/PackageCharges&gt;
                        &lt;Delivery_AreaSurcharge&gt;
                            &lt;Rate&gt;
                            &lt;Published&gt;0,00&lt;/Published&gt;
                            &lt;Negotiated&gt;0,00&lt;/Negotiated&gt;
                            &lt;/Rate&gt;
                        &lt;/Delivery_AreaSurcharge&gt;
                    &lt;/PackageRate&gt;
                &lt;/PackageRates&gt;
            &lt;/ShipmentRates&gt;
            &lt;TrackingNumbers&gt;
                &lt;TrackingNumber&gt;TRACKING NUMBER&lt;/TrackingNumber&gt;
            &lt;/TrackingNumbers&gt;
            &lt;ShipID&gt;XXX&lt;/ShipID&gt;
            &lt;ImportID&gt;&lt;/ImportID&gt;
            &lt;Reference1&gt;&lt;/Reference1&gt;
            &lt;Reference2&gt;&lt;/Reference2&gt;
        &lt;ShipmentID&gt;&lt;/ShipmentID&gt;
        &lt;PRONumber&gt;&lt;/PRONumber&gt;
        &lt;/ProcessMessage&gt;
    &lt;/OpenShipment&gt;
&lt;/OpenShipments&gt;
</code></pre>
<p>A need to get to "TrackingNumber" value. I tried <code>findall()</code> and <code>find()</code> functions but with no result.</p>
<pre><code>import xml.etree.ElementTree as ET
import pprint

tree = ET.parse('file.out')
root = tree.getroot()

print root.findall('TrackingNumber')
# []
print root.find('TrackingNumber')
# None
</code></pre>
<p>ElementTree had to make that access to XML elements will be simple and but this proved too difficult for me.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need a <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml-with-namespaces" rel="nofollow">namespace</a> mapping:</p>
<pre><code>from xml.etree import ElementTree as et

xm = et.fromstring(x)
ns = {"op": 'x-schema:OpenShipments.xdr'}
print(xm.findall('.//op:TrackingNumber',ns))
</code></pre>
<p>which will give you something like:</p>
<pre><code>[&lt;Element '{x-schema:OpenShipments.xdr}TrackingNumber' at 0x7fa210579550&gt;, &lt;Element '{x-schema:OpenShipments.xdr}TrackingNumber' at 0x7fa210579910&gt;]
</code></pre>
</div>
<span class="comment-copy">That is what I need!</span>
<span class="comment-copy">No worries, you could also <code>xm.findall('.//{x-schema:OpenShipments.xdr}TrackingNumber') </code> but that would get pretty if you were using multiple nodes in your xpath query</span>
<span class="comment-copy">why simple <code>findall('TrackingNumber')</code> isn't working?</span>
<span class="comment-copy">@user3041764, because of the namespace, everything in OpenShipments is in the x-schema:OpenShipments.xdr namespace so you have to prefix any queries with the ns, remove <code>xmlns="x-schema:OpenShipments.xdr"</code> and  use <code>'.//TrackingNumber</code>' and you will see the difference</span>
