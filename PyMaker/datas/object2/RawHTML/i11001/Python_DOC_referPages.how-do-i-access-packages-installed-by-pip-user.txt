<div class="post-text" itemprop="text">
<p>I realized I had an outdated numpy version:</p>
<pre class="lang-none prettyprint-override"><code>$ python
Python 2.7.10 (default, Oct 23 2015, 18:05:06)
[GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.0.59.5)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.version.full_version
'1.8.0rc1'
</code></pre>
<p>I sought to update it, but I couldn't install on the entire machine for some reason:</p>
<pre class="lang-none prettyprint-override"><code>$ sudo pip install -U numpy
Password:
Downloading/unpacking numpy from https://pypi.python.org/packages/dd/9f/cd0ec9c50e4ed8650901ad4afde164e5252b6182a9e0c7bff5f8b4441960/numpy-1.11.1.zip#md5=5caa3428b24aaa07e72c79d115140e46
  Downloading numpy-1.11.1.zip (4.7MB): 4.7MB downloaded
  ...
  Found existing installation: numpy 1.8.0rc1
    Uninstalling numpy:
Cleaning up...
Exception:
Traceback (most recent call last):
  File "/Library/Python/2.7/site-packages/pip-1.4.1-py2.7.egg/pip/basecommand.py", line 134, in main
    status = self.run(options, args)
  File "/Library/Python/2.7/site-packages/pip-1.4.1-py2.7.egg/pip/commands/install.py", line 241, in run
    requirement_set.install(install_options, global_options, root=options.root_path)
  File "/Library/Python/2.7/site-packages/pip-1.4.1-py2.7.egg/pip/req.py", line 1294, in install
    requirement.uninstall(auto_confirm=True)
  File "/Library/Python/2.7/site-packages/pip-1.4.1-py2.7.egg/pip/req.py", line 525, in uninstall
    paths_to_remove.remove(auto_confirm)
  File "/Library/Python/2.7/site-packages/pip-1.4.1-py2.7.egg/pip/req.py", line 1639, in remove
    renames(path, new_path)
  File "/Library/Python/2.7/site-packages/pip-1.4.1-py2.7.egg/pip/util.py", line 294, in renames
    shutil.move(old, new)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py", line 302, in move
    copy2(src, real_dst)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py", line 131, in copy2
    copystat(src, dst)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py", line 103, in copystat
    os.chflags(dst, st.st_flags)
OSError: [Errno 1] Operation not permitted: '/tmp/pip-fajcj_-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy-1.8.0rc1-py2.7.egg-info'

Storing complete log in /Users/csaftoiu/Library/Logs/pip.log
</code></pre>
<p>Ok, I'll just install to <code>--user</code> then:</p>
<pre class="lang-none prettyprint-override"><code>$ pip install -U --user numpy
...
Successfully installed numpy
</code></pre>
<p>But the version is not updated!</p>
<pre class="lang-none prettyprint-override"><code>$ python
Python 2.7.10 (default, Oct 23 2015, 18:05:06)
[GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.0.59.5)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.version.full_version
'1.8.0rc1'
</code></pre>
<p>Where did the installed version go?</p>
</div>
<div class="post-text" itemprop="text">
<p>As per <a href="https://docs.python.org/3/install/index.html#alternate-installation-the-user-scheme" rel="noreferrer">the Python docs</a>, this is installing using the "user scheme":</p>
<blockquote>
<p>Files will be installed into subdirectories of <a href="https://docs.python.org/3/library/site.html#site.USER_BASE" rel="noreferrer">site.USER_BASE</a> (written as <em>userbase</em> hereafter). </p>
</blockquote>
<p>You can see your USER_BASE value like this:</p>
<pre><code>$ python -c "import site; print(site.USER_BASE)"
/Users/csaftoiu/Library/Python/2.7
</code></pre>
<p>I found that on my machine, this <em>was</em> on <code>sys.path</code>, but it came after the global install directories.</p>
<p>I solved it by adding this to my <code>~/.bash_profile</code>:</p>
<pre><code># add user base to python path
export PYTHONPATH=$(python -c "import site, os; print(os.path.join(site.USER_BASE, 'lib', 'python', 'site-packages'))"):$PYTHONPATH
</code></pre>
<p>Now the latest version is indeed loaded:</p>
<pre><code>$ python
Python 2.7.10 (default, Oct 23 2015, 18:05:06)
[GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.0.59.5)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import numpy
&gt;&gt;&gt; numpy
&lt;module 'numpy' from '/Users/csaftoiu/Library/Python/2.7/lib/python/site-packages/numpy/__init__.pyc'&gt;
&gt;&gt;&gt; numpy.version.full_version
'1.11.1'
&gt;&gt;&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I installed packages with <code>sudo pip install --user</code> option and I had to do <code>sudo python</code> to get it working.</p>
<pre><code>vishnu$ echo $PATH
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
</code></pre>
<p>With sudo:</p>
<pre><code>vishnu$ sudo python
Python 2.7.10 (default, Jul 15 2017, 17:16:57) 
[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.31)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import rasa_core
&gt;&gt;&gt; 
</code></pre>
<p>Without sudo:</p>
<pre><code>vishnu$ python
Python 2.7.10 (default, Jul 15 2017, 17:16:57) 
[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.31)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import rasa_core
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ImportError: No module named rasa_core
</code></pre>
<p>PS: I am running these on Mac OS High Sierra and my issue was with <code>rasa_core</code> and dependent packages. </p>
</div>
<span class="comment-copy">It might be better to use export PYTHONPATH=$(python -c "import site; print(site.USER_SITE)"):$PYTHONPATH</span>
<span class="comment-copy">USER_SITE Gives you the packages path directly</span>
<span class="comment-copy">If you sudo with --user flag, the package gets installed in the root user directory, because the command is executed by the root user</span>
