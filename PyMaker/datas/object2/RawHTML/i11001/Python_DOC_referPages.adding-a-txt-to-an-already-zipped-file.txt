<div class="post-text" itemprop="text">
<p>I have created this small python program to automate some processes I want to run. Long story short I use python to pass some information and parameters to a outside program. The outside program does its thing and zips up the results. What I am trying to do is add a "licence.txt" file to the already zipped results. This is what I have:</p>
<pre><code>import zipfile

#List of files for the licence to be inserted into
data = [ loc + r"\FME_Data\FME_GENERIC_OUTPUT\BASE\BASE_NS_CivicAddress_File_UT83_GDB.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\BASE\BASE_NS_CivicAddress_File_UT83_MIF.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\BASE\BASE_NS_CivicAddress_File_UT83_SHP.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\BND\BND_NS_Community_Bndys_UT83_GDB.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\BND\BND_NS_Community_Bndys_UT83_MIF.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\BND\BND_NS_Community_Bndys_UT83_SHP.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\TRNS\TRNS_NSRN_Addressed_Roads_UT83_GDB.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\TRNS\TRNS_NSRN_Addressed_Roads_UT83_MIF.zip",
         loc + r"\FME_Data\FME_GENERIC_OUTPUT\TRNS\TRNS_NSRN_Addressed_Roads_UT83_SHP.zip"]


count, tot = 0,8
while count &lt;= tot:
     z = zipfile.ZipFile(data[count] , "a")
     z.write ("Licence.txt")
     z.close()
     count = count + 1
</code></pre>
<p>This runs and it inserts the .txt into the zip files, but it is also copying all the other individual .zip files into each zipped directory. So I end up with the 9 separate zipped files zipped into each directory. There should only be one file type in each .zip. I feel as though I made a real simple mistake but I can't find it... Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p>I don't see why yours would do that but try this, it is a bit simpler:</p>
<pre><code>import zipfile
for filepath in data:
   with zipfile.ZipFile(filepath, 'a') as myzip:
      myzip.write('license.txt')
</code></pre>
</div>
<span class="comment-copy">I cannot reproduce your problem, maybe there is a problem with your list of file paths.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/controlflow.html#for-statements" rel="nofollow noreferrer">docs.python.org/3/tutorial/controlflow.html#for-statements</a></span>
<span class="comment-copy">I tried that but it throws an error: ZipFile is not defined. How am I supposed to declare it? I can't find anything online with using this.</span>
<span class="comment-copy"><code>from zipfile import ZipFile</code></span>
<span class="comment-copy">@Newbie - sorry, see edit.</span>
<span class="comment-copy">ZipFile doesn't work. It behaves the same as my original code in respect to grabbing all the .zip files and adding them to the same directory. It also doesn't loop through the entire list, it does the first file and thats it.</span>
