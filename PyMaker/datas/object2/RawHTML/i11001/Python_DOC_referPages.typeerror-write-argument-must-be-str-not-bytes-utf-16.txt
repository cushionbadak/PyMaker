<div class="post-text" itemprop="text">
<p>So I'm running test cases with Selenium and python, and I want to generate HTML Test reports for these tests. I found this resource that should do it for me, <a href="http://tungwaiyip.info/software/HTMLTestRunner.html" rel="nofollow">http://tungwaiyip.info/software/HTMLTestRunner.html</a> in case anybody is interested it seems really good, but I keep getting this error.</p>
<pre><code>File "facebook.py", line 21, in &lt;module&gt;
HTMLTestRunner.main()
File "C:\Users\kporika\AppData\Local\Programs\Python\Python35-32\lib\unittest\main.py", line 94, in __init__
self.runTests()
File "C:\Users\kporika\PycharmProjects\Partha\HTMLTestRunner.py", line 816, in runTests
unittest.TestProgram.runTests(self)
File "C:\Users\kporika\AppData\Local\Programs\Python\Python35-32\lib\unittest\main.py", line 255, in runTests
self.result = testRunner.run(self.test)
File "C:\Users\kporika\PycharmProjects\Partha\HTMLTestRunner.py", line 631, in run
self.generateReport(test, result)
File "C:\Users\kporika\PycharmProjects\Partha\HTMLTestRunner.py", line 688, in generateReport
self.stream.write(output.encode('UTF-16'))
TypeError: write() argument must be str, not bytes
</code></pre>
<p>The code for the test report generator is here <a href="https://github.com/tungwaiyip/HTMLTestRunner/blob/master/HTMLTestRunner.py" rel="nofollow">https://github.com/tungwaiyip/HTMLTestRunner/blob/master/HTMLTestRunner.py</a> the creator's github page. How do I fix this? </p>
<p>ps I'm running python version 3.5 if that helps.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>HTMLTestRunner</code> is a python2 module. Python3 distinguishes between <code>str</code> and <code>bytes</code> object, whereas python2 had <code>unicode</code> and <code>str</code>.</p>
<p>As the error message says, line 688 requires a <code>str</code>, not <code>bytes</code> object. As <a href="https://docs.python.org/3/library/stdtypes.html?str.encode#str.encode" rel="nofollow">the documentation clarifies</a>, <code>str.encode</code> converts a <code>str</code> object to a <code>bytes</code> object. Instead of <code>self.stream.write(output.encode('UTF-16'))</code>, you need to modify line 688 to <code>self.stream.write(output)</code>.</p>
<p>Note that there will very likely be more errors due to python2/3 incompatibilities.</p>
</div>
<span class="comment-copy">What have you tried and what was the result? Please read the help topics on how to ask a good question. You need to research your own issue, find code samples, etc. and write your own code to solve the issue. If you do all that and still can't figure it out, then come back and edit your question and add notes from the research you did, the code you have tried, and what the result was... any error messages, etc.</span>
