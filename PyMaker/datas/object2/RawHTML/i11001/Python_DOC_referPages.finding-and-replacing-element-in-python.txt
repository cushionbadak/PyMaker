<div class="post-text" itemprop="text">
<p>I am new to the python programming and wanted to know how can I iterate over elements below then replace strings and make my data list look like below. Thank you in advance. </p>
<pre><code>[{u 'name': u 'xxx',
u 'data': [
    [u 'last_00_10', x],
    [u 'last_11_20', x],
    [u 'last_21_30', x],
],
u 'id': x }]
</code></pre>
<p>After replacing string, I want it to look like below</p>
<pre><code>[{u 'name': u 'xxx',
u 'data': [
    [u '0-10 Days', x],
    [u '11-20 Days', x],
    [u '21-30 Days', x],
],
u 'id': x }] 
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have a list which contains a dictionary.  The 'data' key in the dictionary contains a list.  You want to iterate over that list and replace the first item in the list with different text.</p>
<pre><code>x = 1
your_data = [{u'name': u'xxx',
u'data': [
    [u'last_00_10', x],
    [u'last_11_20', x],
    [u'last_21_30', x],
],
u'id': x }]

for item in your_data[0]['data']:
    item_split = item[0].split('_')
    item[0] = str(int(item_split[1])) + '-' + str(int(item_split[2])) + ' Days'

print(your_data)
</code></pre>
<p>This gives:</p>
<pre><code>[{'id': 1, 'name': 'xxx', 'data': [['00-10 Days', 1], ['11-20 Days', 1], ['21-30 Days', 1]]}]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>first, why you put 1 dict on a list? you'll put other dicts inside?, but I'll use your structure..
you can do something like this(I named your list L): and x = "" to work..(it's a non defined yet variable..</p>
<pre><code>x = ""


L = [
        {
            u'name': u'xxx',
            u'data': [
                        [u'last_00_10', x],
                        [u'last_11_20', x],
                        [u'last_21_30', x],
                    ],
            u'id': x 
        }
]

newData = [u"0-10 Days", u'11-20 Days', u'21-30 Days']
for i in range(len( L[0][u'data'] )):
    L[0][u'data'][i][0] = newData[i]
</code></pre>
<p>it'll work as you want..</p>
<p>I corrected the spaces between u'string' on the code</p>
</div>
<div class="post-text" itemprop="text">
<p>This almost give what you want:</p>
<pre><code>import re

x = 42
stuff = [{u'name': u'xxx',
          u'data': [
         [u'last_00_10', x],
         [u'last_11_20', x],
         [u'last_21_30', x],
                   ],
          u'id': x }]

for row in stuff[0]['data']:
    row[0] = re.sub(r'last_(\d+)_(\d+)',
                    r'\1-\2 Days', row[0])
    print(row)
</code></pre>
<p>Gives:</p>
<pre><code>['00-10 Days', 42]
['11-20 Days', 42]
['21-30 Days', 42]
</code></pre>
<p>If you want single digit numbers ("00" to "0") there is a bit more work. </p>
<pre><code>def subit(m):
    f1, f2 = m.groups()[:2]
    return "%d-%d Days" % (int(f1), int(f2))

for row in stuff[0]['data']:
    row[0] = re.sub(r'last_(\d+)_(\d+)', subit, row[0])
    print(row)
</code></pre>
<p>Gives:</p>
<pre><code>['0-10 Days', 42]
['11-20 Days', 42]
['21-30 Days', 42]
</code></pre>
</div>
<span class="comment-copy">The space after each <code>u</code> will give a syntax error, and you don't need it anyway if you are using Python 3.  Please show what you have tried so far and any specific issues you have.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/controlflow.html#for-statements" rel="nofollow noreferrer">For each</a> element in the value for the <code>data</code> item, <a href="https://docs.python.org/3/library/stdtypes.html#str.split" rel="nofollow noreferrer">split the first item on <code>_</code></a>, then take the last two items from the split - turn them into integers and use them as <a href="https://docs.python.org/3/library/stdtypes.html#str.format" rel="nofollow noreferrer">arguments to a format string</a> then reconstruct.</span>
<span class="comment-copy">Ahh! I almost had it right. Thank you. This works as expected!</span>
<span class="comment-copy">This does not give a single digit for values &lt; 10.</span>
<span class="comment-copy">@cdarke -- I fixed that -- good catch!</span>
