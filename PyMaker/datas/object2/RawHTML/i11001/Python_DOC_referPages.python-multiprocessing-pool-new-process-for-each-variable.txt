<div class="post-text" itemprop="text">
<p>I am using multiprocessing.Pool in order to loop through a variable and make API calls to a third party program. The problem is that the API has some garbage collection issues, so I need a completely new process for each variable value that I want to run. Is there any way to force multiprocessing to close and launch a new process for each value in my list?</p>
<p>A simple example of my code is this:</p>
<pre><code>from multiprocessing import Pool
pool = Pool()
vals = range(0,100)
result = pool.map(api_call_function, vals)
</code></pre>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>Setting <a href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool" rel="nofollow">maxtasksperchild</a> to <code>1</code> should force Pool to create a new process for each task:</p>
<pre><code>pool = Pool(maxtasksperchild=1)
</code></pre>
</div>
<span class="comment-copy">I was digging all around in the mulitprocessing documentation, but somehow missed that.  Marking as solved, thanks!</span>
