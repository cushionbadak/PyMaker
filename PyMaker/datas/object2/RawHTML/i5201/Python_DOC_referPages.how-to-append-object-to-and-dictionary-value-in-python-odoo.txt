<div class="post-text" itemprop="text">
<pre><code>    active_route_ids = self.env['route.data'].browse(active_ids)

    customer_contacts_group = {}

    for record in active_route_ids:
        for control in record.cust_control_pts:
            key_id = str(control.res_partner.id)

            if key_id not in customer_contacts_group:
                customer_contacts_group[key_id] = record
            else:
                customer_contacts_group[key_id].add(record)
</code></pre>
<p>Let's say we have dictionary like this:</p>
<pre><code>  customer_contacts_group = {'1': (20,)}
</code></pre>
<p>I want to make it like this:</p>
<pre><code>  customer_contacts_group = {'1': (20,30,40,)}
</code></pre>
<p>by appending values to customer_contacts_group['1'] one by one.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can concatenate two tuples together to get your result.  One thing to note is that tuples are not mutable in Python, however, you can assign the result of concatenating two immutable tuples to the variable holding the initial tuple, like you are wanting to do here.</p>
<pre><code>customer_contacts_group['1'] += (4,5,6)
</code></pre>
<p>Output:</p>
<pre><code>{'1': (20, 4, 5, 6)}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are dealing with tuples which can be concatenated:</p>
<pre><code>customer_contacts_group[key_id] = customer_contacts_group[key_id] + record
</code></pre>
<p>Or, for short:</p>
<pre><code>customer_contacts_group[key_id] += record
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can access dictionary values using <code>dictionary[key]</code>, but what you seem to be storing is not a list but a tuple. Tuples are immutable and so you cannot append values to them. You can, however, construct a new tuple by concatenation, e.g.</p>
<pre><code>customer_contacts_group = {'1': (20,)}
customer_contacts_group['1'] = customer_contacts_group['1'] + (30,)
</code></pre>
<p><code>x['1']</code> is now <code>(20,30)</code>. As long as both arguments being added are tuples, concatenation will occur.</p>
</div>
<div class="post-text" itemprop="text">
<p>You cannot append to tuples like your <code>(20,30,40,)</code>. But to lists like <code>[20, 30, 40]</code>. </p>
<p>And what you are trying to do calls for <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer"><code>defaultdict(list)</code></a> like so:</p>
<pre><code>from collections import defaultdict
groups = defaultdict(list)
for key, record in [(1, 1), (1, 2), (2, 100), (2, 200)]:
    groups[key].append(record)
</code></pre>
<p><code>defaultdict(some_callable)</code> saves you the hassle of checking whether a key exists etc. by defaulting to whatever <code>some_callable</code> returns.</p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/1380860/add-variables-to-tuple">Add Variables to Tuple</a></span>
<span class="comment-copy">That can be shortened with <code>+=</code></span>
<span class="comment-copy">This solution is surely much more compact. +1!</span>
