<div class="post-text" itemprop="text">
<p>I am currently using a <code>colorchooser</code> from <code>tkinter</code> in a project to allow the user to choose a custom colour. Minimally, this can be created (in Python 3.x) through</p>
<pre><code>from tkinter import colorchooser

cp = colorchooser.askcolor()
</code></pre>
<p>When this window appears (in Windows at least), there is a section called "Custom colors"</p>
<p><a href="https://i.stack.imgur.com/eADN9.png" rel="nofollow noreferrer"><img alt="tkinter colorchooser window" src="https://i.stack.imgur.com/eADN9.png"/></a></p>
<p>Is there any way that I can pre-populate this section with colours of my choosing?</p>
</div>
<div class="post-text" itemprop="text">
<p>What you see is the common <a href="https://msdn.microsoft.com/en-gb/library/windows/desktop/ms646912(v=vs.85).aspx" rel="nofollow noreferrer">Color dialog box</a>, which is native Windows dialog. It's not possible to specify custom colors within <code>tkinter</code>, because they're handled at a <a href="https://github.com/NetSys/ups/blob/master/ns-allinone-2.35/tk8.5.10/win/tkWinDialog.c#L340" rel="nofollow noreferrer">lower level</a>.</p>
<p>The naive implementation (using <a href="https://docs.python.org/3/library/ctypes.html" rel="nofollow noreferrer">ctypes</a>) could be something like this:</p>
<pre><code>import ctypes
import ctypes.wintypes as wtypes


class CHOOSECOLOR(ctypes.Structure):
    """" a class to represent CWPRETSTRUCT structure
    https://msdn.microsoft.com/en-us/library/windows/desktop/ms646830(v=vs.85).aspx """

    _fields_ = [('lStructSize', wtypes.DWORD),
                ('hwndOwner', wtypes.HWND),
                ('hInstance', wtypes.HWND),
                ('rgbResult', wtypes.COLORREF),
                ('lpCustColors', ctypes.POINTER(wtypes.COLORREF)),
                ('Flags', wtypes.DWORD),
                ('lCustData', wtypes.LPARAM),
                ('lpfnHook', wtypes.LPARAM),
                ('lpTemplateName', ctypes.c_char_p)]


class ColorChooser:
    """ a class to represent Color dialog box
    https://msdn.microsoft.com/en-gb/library/windows/desktop/ms646912(v=vs.85).aspx """
    CC_SOLIDCOLOR = 0x80
    CC_FULLOPEN = 0x02
    custom_color_array = ctypes.c_uint32 * 16
    color_chooser = ctypes.windll.Comdlg32.ChooseColorW

    def to_custom_color_array(self, custom_colors):
        custom_int_colors = self.custom_color_array()

        for i in range(16):
            custom_int_colors[i] = rgb_to_int(*custom_colors[i])

        return custom_int_colors

    def askcolor(self, custom_colors):
        struct = CHOOSECOLOR()

        ctypes.memset(ctypes.byref(struct), 0, ctypes.sizeof(struct))
        struct.lStructSize = ctypes.sizeof(struct)
        struct.Flags = self.CC_SOLIDCOLOR | self.CC_FULLOPEN
        struct.lpCustColors = self.to_custom_color_array(custom_colors)

        if self.color_chooser(ctypes.byref(struct)):
            result = int_to_rgb(struct.rgbResult)
        else:
            result = None

        return result


def rgb_to_int(red, green, blue):
    return red + (green &lt;&lt; 8) + (blue &lt;&lt; 16)


def int_to_rgb(int_color):
    red = int_color &amp; 255
    green = (int_color &gt;&gt; 8) &amp; 255
    blue = (int_color &gt;&gt; 16) &amp; 255

    return red, green, blue

colors = [(250, 0, 0), (0, 250, 0), (0, 0, 250), (255, 255, 255)] * 4

chooser = ColorChooser()
result_color = chooser.askcolor(colors)
print(result_color)
</code></pre>
<p>Remember, that there's a room for expansion, for example, preserving the custom color array between calls and supporting of hex colors/arbitrary array length.</p>
</div>
<div class="post-text" itemprop="text">
<p>No, there is no way to pre-fill the custom colors from tkinter. </p>
</div>
<span class="comment-copy">I confirm that the colorchooser GUI is platform specific. It looks very different in linux (<a href="https://i.imgur.com/rHTIvABl.png" rel="nofollow noreferrer">i.imgur.com/rHTIvABl.png</a>) and there is no custom colors section.</span>
<span class="comment-copy">@j_4321 good to know - being platform specific might make it less likely that there's an option for it.</span>
<span class="comment-copy">The <a href="https://www.tcl.tk/man/tcl/TkCmd/chooseColor.htm" rel="nofollow noreferrer">Tcl/Tk documentation page for the colorchooser</a> does not mention any platform specific options so I doubt that it is possible to set the custom colors.</span>
<span class="comment-copy">I'd have tagged <a href="https://stackoverflow.com/questions/tagged/tk">tk</a> as well with this question. It's odd in a way though custom colors seem to be filled using a loop, when in paint they're initially empty(or all white).</span>
<span class="comment-copy">@Nae, in fact, <a href="https://github.com/NetSys/ups/blob/master/ns-allinone-2.35/tk8.5.10/win/tkWinDialog.c#L340" rel="nofollow noreferrer">you're right</a> about a loop! @asongtoruin, such dialog is a native Windows dialog, while <code>tk</code> is a wrapper around it. It's easier to write your own wrapper for this dialog with the custom colors option.</span>
