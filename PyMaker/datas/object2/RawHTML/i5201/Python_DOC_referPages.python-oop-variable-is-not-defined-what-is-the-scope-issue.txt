<div class="post-text" itemprop="text">
<p>The error message is as follows:</p>
<pre><code>Traceback (most recent call last):
  File "./bitcoin_price.py", line 57, in &lt;module&gt;
    Coindesk()
  File "./bitcoin_price.py", line 45, in Coindesk
    coindesk.pass_for_request()
  File "./bitcoin_price.py", line 39, in pass_for_request
    get_price = BtcAPI(url, api_id, json_tree)
NameError: name 'url' is not defined
</code></pre>
<p>What am I missing, here? I'm guessing it is the coindesk.pass_for_request(), but I can't sort out exactly why the values don't get passed. Also, what is a good way to debug something like this? I'm having a rough time looking inside of the classes to see what is going on.</p>
<pre><code>class Price:


    def __init__(self, api_id, url, json_tree):

        self.api_id = api_id
        self.url = url
        self.json_tree = json_tree

    def pass_for_request(self):

        get_price = BtcAPI(url, api_id, json_tree)
        get_price.btc_api_call()


def Coindesk():

    coindesk = Price(api_id ="coindesk", url = "https://api.coindesk.com/v1/bpi/currentprice.json", json_tree = "['time']['updated']")
    coindesk.pass_for_request()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There is no <code>url</code> or <code>api_id</code> variable in the scope of <code>pass_for_request</code>. You probably meant to access <code>self.url</code> and <code>self.api_id</code>, in python you have to use <code>self.</code> to access members unlike in other languages where using <code>this.</code> is optional.</p>
<p>Also another thing I spotted is when you're trying to create a <code>Price</code> in <code>Coindesk</code> you are passing in <code>api_id</code> and the other arguments as if they are arguments with defaults, which they are not. You'd need to call it as: <code>Price("coindesk", "https://mylinktocoindesk", "['time']['updated']")</code></p>
<p>Here's some reading on OOP in python that you might find helpful:
<a href="https://docs.python.org/3/tutorial/classes.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/classes.html</a>
<a href="https://www.tutorialspoint.com/python/python_classes_objects.htm" rel="nofollow noreferrer">https://www.tutorialspoint.com/python/python_classes_objects.htm</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Try to replace</p>
<pre><code>get_price = BtcAPI(url, api_id, json_tree)
</code></pre>
<p>with</p>
<pre><code>get_price = BtcAPI(self.url, self.api_id, self.json_tree)
</code></pre>
</div>
