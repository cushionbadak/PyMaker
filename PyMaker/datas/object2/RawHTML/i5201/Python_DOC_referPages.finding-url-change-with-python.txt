<div class="post-text" itemprop="text">
<p>I have this URL - '<a href="https://en.wikipedia.org/wiki/Ronald_Aylmer_Fisher" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/Ronald_Aylmer_Fisher</a>' and when I open it with a web browser it changes to '<a href="https://en.wikipedia.org/wiki/Ronald_Fisher" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/Ronald_Fisher</a>' and I need to find the second URL from the first: input Ronaly_Aylmer_Fisher and get Ronald_Fisher. </p>
<p>I tried using requests and urllib.request to find redirect history but it didn't work.<br/>
Is there a way to detect this using Python? </p>
</div>
<div class="post-text" itemprop="text">
<p>You can get the reason why you can't see the redirects in the requests history  from <a href="https://stackoverflow.com/a/31939570/7832176">this answer on SO</a>:</p>
<blockquote>
<p>Requests doesn't show the redirect because you're not actually being
  redirected in the HTTP sense. Wikipedia does some JavaScript trickery
  (probably HTML5 history modification and pushState) to change the
  address that's shown in the address bar, but that doesn't apply to
  Requests, of course.</p>
</blockquote>
<p>If you check the page source<br/>
(<code>view-source:https://en.wikipedia.org/wiki/Ronald_Aylmer_Fisher</code>), the redirected url is available here:</p>
<pre><code>&lt;link rel="canonical" href="https://en.wikipedia.org/wiki/Ronald_Fisher"/&gt;
</code></pre>
<p>You can scrape it using <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer">regex</a> or <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="nofollow noreferrer">BeautifulSoup</a> like this:</p>
<pre><code>import re
import requests
from bs4 import BeautifulSoup

r = requests.get('https://en.wikipedia.org/wiki/Ronald_Aylmer_Fisher')

# Using regex (not sure if this is the best regex approach)
href_regex = re.compile(r'&lt;link rel="canonical" href="(.*)"/&gt;')
redirected_url = href_regex.search(r.text).groups()[0]

# Using BeautifulSoup
soup = BeautifulSoup(r.text, 'html.parser')
redirected_url = soup.find('link', rel='canonical')['href']

print(redirected_url)
</code></pre>
<p>Output:</p>
<blockquote>
<p><a href="https://en.wikipedia.org/wiki/Ronald_Fisher" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/Ronald_Fisher</a></p>
</blockquote>
<p>Or, to get the output you want, you can do this:</p>
<pre><code>print(redirected_url.split('/')[-1])
</code></pre>
<p>Output:</p>
<blockquote>
<p>Ronald_Fisher</p>
</blockquote>
</div>
<span class="comment-copy">Worked a treat thank you.</span>
