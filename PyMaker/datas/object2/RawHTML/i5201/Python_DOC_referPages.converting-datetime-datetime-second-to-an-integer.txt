<div class="post-text" itemprop="text">
<p>I'm trying to convert <code>datetime.datetime.second</code> to an integer in Python 3. I would like to round this value and then use the integer value in the function <code>datetime.time(hour=h,minute=m,second=s)</code> where <code>h</code>, <code>m</code> and <code>s</code> represent integers. I'm currently getting an error message which reads as such:</p>
<pre><code>    s = int(datetime.datetime.second)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'getset_descriptor'
</code></pre>
<p>Below is a snippet of my code which shows what I'm trying to do.</p>
<pre><code>s = int(datetime.datetime.second)
#code to be added here should round s to nearest 0 or 5
m = int(datetime.datetime.minute)
h = int(datetime.datetime.hour)
t0 = datetime.time(hour=h,minute=m,second=s)
</code></pre>
<p>Please could someone explain why this type conversion does not work, what is <code>datetime.datetime.second</code> actually returning and what solutions there are to my problem.</p>
<p>I expected the code to return the number of seconds in the current time. E.g if it is 10:29:34 when the code is run I expected <code>s</code> to be set to 34. I was trying to round the number of seconds to <code>0</code> or <code>5</code>. So in this case I expected to round the number of seconds to <code>35</code>, then get the value for <code>10</code> and <code>29</code> and store them in <code>h</code> and <code>m</code> respectively. Then put those values in <code>datetime.time()</code> and display that time later in my code.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>datetime.datetime.second</code> does not give you the current time. It is not an object you generally want to use; it is an implementation detail of the <code>datetime.datetime</code> class.</p>
<p>To get the current time as a <code>datetime.time()</code> object, use the <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.now" rel="nofollow noreferrer"><code>datetime.datetime.now()</code> function</a>, then use the <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.time" rel="nofollow noreferrer"><code>.time()</code> method</a> on the returned <code>datetime</code> instance:</p>
<pre><code>now = datetime.datetime.now().time()
</code></pre>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; datetime.datetime.now()
datetime.datetime(2018, 2, 6, 10, 29, 9, 758417)
&gt;&gt;&gt; datetime.datetime.now().time()
datetime.time(10, 29, 11, 837654)
</code></pre>
<p>If you need to manipulate these values, you can use the <a href="https://docs.python.org/3/library/datetime.html#datetime.time.replace" rel="nofollow noreferrer"><code>time.replace()</code> method</a> to create a new <code>datetime.time()</code> instance with the updated value.</p>
<p>So to round your seconds value, you could use:</p>
<pre><code>now = datetime.datetime.now().time()
now_rounded = now.replace(second=int(5 * round(now.second / 5)))  # round to nearest multiple of 5
</code></pre>
<p>To be precise, <code>datetime.datetime.second</code>, <code>datetime.datetime.minute</code> and <code>datetime.datetime.hour</code> are <a href="https://docs.python.org/3/howto/descriptor.html" rel="nofollow noreferrer">descriptor objects</a>, letting you access the internal information of a <code>datetime.datetime</code> instance; it is these objects that make the attributes <code>.second</code>, <code>.minute</code> and <code>.hour</code> on instances of the <code>datetime.datetime</code> class:</p>
<pre><code>&gt;&gt;&gt; dt = datetime.datetime.now()
&gt;&gt;&gt; dt.second
26
&gt;&gt;&gt; datetime.datetime.second.__get__(dt, datetime.datetime)
26
</code></pre>
</div>
<span class="comment-copy">Thanks so much for clarifying this issue.</span>
