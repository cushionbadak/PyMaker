<div class="post-text" itemprop="text">
<pre><code>import pywaves as pw
import sys, getopt

amount = 0
receive = ''

try:
    options, remainder = getopt.getopt(
        sys.argv[1:],
        'r:a',
        ['receive',
         'amount',
         ])
except getopt.GetoptError as err:
    print('ERROR:', err)
    sys.exit(1)



for opt, arg in options:
    if opt in ('-a', '--amount'):
        amount = arg
    elif opt in ('-r', '--receive'):
        receive = arg
print('OPTIONS   :', options)




myAddress = pw.Address(privateKey='MYPRIVATEKEY')
otherAddress = pw.Address(receive)
myToken = pw.Asset('MYADDRESS')
myAmount = amount
myAddress.sendAsset(otherAddress, myToken, myAmount)
</code></pre>
<p>I tried run the code above and it seems my option "a" was not captured. What should I do to get it working?</p>
<p>I run the following command line</p>
<pre><code>python this.py -r 3PFPovgPu3aBWA1krU544tPDTFiHgpvu7q1 -a 150
</code></pre>
<p>It returns</p>
<pre><code>('OPTIONS   :', [('-r', '3PFPovgPu3aBWA1krU544tPDTFiHgpvu7q1'), ('-a', '')])
</code></pre>
<p>I not sure why the "a" value was empty. How do I change my code to make it work properly?</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to add a colon after the second parameter 'a'. So try </p>
<pre><code>getopt.getopt(sys.argv[1:],'r:a:',['receive','amount'])
</code></pre>
<p>See the documentation for getopt, there it is said clearly:
Parses command line options and parameter list. args is the argument list to be parsed, without the leading reference to the running program. Typically, this means sys.argv[1:]. options is the string of option letters that the script wants to recognize, <strong>with options that require an argument followed by a colon</strong> (':'; i.e., the same format that Unix getopt() uses).</p>
</div>
<span class="comment-copy">Is there a reason you're using <code>getopt</code> instead of <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer"><code>argparse</code></a>? <code>argparse</code> is much simpler to use.</span>
<span class="comment-copy">@Blender I would like to capture the value, but i not sure how to do it with argparse given the example above, getopts seems easier, but it just seems to not able get my 2nd option which is -a</span>
