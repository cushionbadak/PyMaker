<div class="post-text" itemprop="text">
<p>If <code>config.add_section('main')</code> from <code>ConfigParser</code> is executed multiple times, targeting same file will that cause an error like having multiple <code>main</code> sections or it will just skip creating section if it already exists?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>ConfigParser</code> object can be seen as a dictonary (section) of dictionaries (option/option values).</p>
<p>Using <code>add_section</code> twice on the same name raises an exception</p>
<pre><code>import configparser

s = configparser.ConfigParser()
s.add_section("main")
s.add_section("main")
</code></pre>
<p>gives:</p>
<pre><code>configparser.DuplicateSectionError: Section 'main' already exists
</code></pre>
<p>workaround check if section exists, add only if it doesn't:</p>
<pre><code>def add_section_no_matter_what(s,section_name):
   if not s.has_section(section_name):
      s.add_section(section_name)
</code></pre>
<p>useful in an helper function to create section if not already exists, else use the existing one.</p>
</div>
<div class="post-text" itemprop="text">
<p>Quoting <a href="https://docs.python.org/3/library/configparser.html#configparser.ConfigParser.add_section" rel="nofollow noreferrer">the documentation of <code>configparser.ConfigParser.add_section</code></a>:</p>
<blockquote>
<p><code>add_section(section)</code>
  Add a section named section to the instance. <strong>If a section by the given name already exists, <code>DuplicateSectionError</code> is raised.</strong></p>
</blockquote>
</div>
