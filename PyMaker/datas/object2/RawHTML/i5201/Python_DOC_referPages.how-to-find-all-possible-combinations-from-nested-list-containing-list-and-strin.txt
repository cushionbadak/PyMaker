<div class="post-text" itemprop="text">
<p>I am trying to get all possible pattern from list like:</p>
<pre><code>input_x = ['1', ['2', '2x'], '3', '4', ['5', '5x']]
</code></pre>
<p>As we see, it has 2 nested list <code>['2', '2x']</code> and <code>['5', '5x']</code> here.</p>
<p>That means all possible pattern is 4 (2 case x 2 case), the expect output is:</p>
<pre><code>output1 = ['1','2' , '3', '4',  '5']
output2 = ['1','2x', '3', '4',  '5']
output3 = ['1','2' , '3', '4', '5x']
output4 = ['1','2x', '3', '4', '5x']
</code></pre>
<p>I tried to search how to, but I can not find any examples (because of I have no idea about "keyword" to search)</p>
<p>I think python has inner libraries/methods to handle it.</p>
</div>
<div class="post-text" itemprop="text">
<p>One way to achieve this is via using <a href="https://docs.python.org/3/library/itertools.html#itertools.product" rel="nofollow noreferrer"><code>itertools.product</code></a>. But for using that, you need to firstly wrap the single elements within your list to another list. </p>
<p>For example, firstly we need to convert your list:</p>
<pre><code>['1', ['2', '2x'], '3', '4', ['5', '5x']]
</code></pre>
<p>to:</p>
<pre><code>[['1'], ['2', '2x'], ['3'], ['4'], ['5', '5x']]
</code></pre>
<p>This can be done via below list comprehension as:</p>
<pre><code>formatted_list = [(l if isinstance(l, list) else [l]) for l in my_list]
# Here `formatted_list` is containing the elements in your desired format, i.e.:
#    [['1'], ['2', '2x'], ['3'], ['4'], ['5', '5x']]
</code></pre>
<p>Now call <a href="https://docs.python.org/3/library/itertools.html#itertools.product" rel="nofollow noreferrer"><code>itertools.product</code></a> on the unpacked version of the above <code>list</code>:</p>
<pre><code>&gt;&gt;&gt; from itertools import product

#                v  `*` is used to unpack the `formatted_list` list
&gt;&gt;&gt; list(product(*formatted_list))
[('1', '2', '3', '4', '5'), ('1', '2', '3', '4', '5x'), ('1', '2x', '3', '4', '5'), ('1', '2x', '3', '4', '5x')]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you don't want to convert your list to all sub list then 
You can try something like this :</p>
<pre><code>input_x = ['1', ['2', '2x'], '3', '4', ['5', '5x'],['6','6x']]

import itertools
non_li=[]
li=[]
for i in input_x:
    if isinstance(i,list):
        li.append(i)
    else:
        non_li.append(i)



for i in itertools.product(*li):
    sub=non_li[:]
    sub.extend(i)
    print(sorted(sub))
</code></pre>
<p>output:</p>
<pre><code>['1', '2', '3', '4', '5', '6']
['1', '2', '3', '4', '5', '6x']
['1', '2', '3', '4', '5x', '6']
['1', '2', '3', '4', '5x', '6x']
['1', '2x', '3', '4', '5', '6']
['1', '2x', '3', '4', '5', '6x']
['1', '2x', '3', '4', '5x', '6']
['1', '2x', '3', '4', '5x', '6x']
</code></pre>
</div>
<span class="comment-copy">Nice! Also answers my question <a href="https://stackoverflow.com/q/48625379/1348273">here</a>.</span>
<span class="comment-copy">I am glad to help two question with one answer ;)</span>
