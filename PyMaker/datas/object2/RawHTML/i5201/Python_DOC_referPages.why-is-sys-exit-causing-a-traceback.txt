<div class="post-text" itemprop="text">
<p>According to <em><a href="https://stackoverflow.com/q/1187970/3357935">How to exit from Python without traceback?</a></em>, calling <code>sys.exit()</code> in a Python script should exit silently without a traceback.</p>
<pre class="lang-python prettyprint-override"><code>import sys
sys.exit(0)
</code></pre>
<p>However, when I launch my script from the command line on Windows 7 with <code>python -i "exit.py"</code>, (<a href="https://stackoverflow.com/q/1702586/3357935">or from Notepad++</a>), a traceback for a <a href="https://docs.python.org/3/library/exceptions.html#SystemExit" rel="nofollow noreferrer"><code>SystemExit</code></a> exception is displayed.</p>
<pre class="lang-bash prettyprint-override"><code>U:\&gt;python -i "exit.py"
Traceback (most recent call last):
  File "exit.py", line 2, in &lt;module&gt;
    sys.exit(0)
SystemExit: 0
&gt;&gt;&gt;
</code></pre>
<p>Why is <code>sys.exit()</code> displaying a traceback when run from the Windows command line?</p>
<p>(For reference, I am using Python 3.6.4 on Windows 7)</p>
</div>
<div class="post-text" itemprop="text">
<p>You're running Python with the <code>-i</code> flag. <a href="https://github.com/python/cpython/blob/v3.6.4/Python/pythonrun.c#L578" rel="noreferrer"><code>-i</code> suppresses the usual special handling of the <code>SystemExit</code> exception <code>sys.exit</code> raises</a>; since the special handling is suppressed, Python performs the normal exception handling, which prints a traceback.</p>
<p>Arguably, <code>-i</code> should only suppress the "exit" part of the special handling, and not cause a traceback to be printed. You could raise a <a href="https://bugs.python.org/" rel="noreferrer">bug report</a>; I didn't see any existing, related reports.</p>
</div>
<div class="post-text" itemprop="text">
<p>No exception shown:    </p>
<pre><code>python exit.py 
</code></pre>
<p>and your program is terminated.</p>
<p>Run with <code>-i</code> option for interactive (<em>inspect interactively after running script</em>)  and the exception is shown:</p>
<pre><code>python -i exit.py 
Traceback (most recent call last):
  File "exit.py", line 2, in &lt;module&gt;
    sys.exit(0)
SystemExit: 0
&gt;&gt;&gt; 
</code></pre>
<p>because the interpreter keeps running.</p>
<blockquote>
<p><code>exit([status])</code></p>
<p>Exit the interpreter by raising SystemExit(status).</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>Because under the hood, <code>sys.exit(0)</code> raises a <code>SystemExit</code> exception.</p>
<p>Further reading <a href="https://clalance.blogspot.com/2011/01/exiting-python-program.html" rel="nofollow noreferrer">here</a></p>
<p><s>what you want is:</s></p>
<pre><code>os._exit(1)
</code></pre>
<p></p></div>
<div class="post-text" itemprop="text">
<p>Because you are using the -i option. Try it without that and you won't get a stack trace.</p>
<pre><code>$ python ptest.py
$ python -i ptest.py
Traceback (most recent call last):
  File "ptest.py", line 3, in &lt;module&gt;
    sys.exit(0)
SystemExit: 0
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://stackoverflow.com/a/48571297/3357935">As Matt_G says</a>, <code>sys.exit(0)</code> is exactly the same as raising <code>SystemExit()</code>, which can be caught in higher level, which in your case is happening since you are using <code>-i</code>.</p>
<p>If you want to exit without traceback, there is <code>os._exit(0)</code> which calls a "C function" and exit immediately even in <code>-i</code> mode</p>
<p>as @user2357112 told me, <code>os._exit(0)</code> is drastic move that exits without any cleanup. No finally,  <code>__exit__</code>, <code>atexit</code>, <code>__del__</code>, etc.</p>
</div>
<span class="comment-copy">You cannot. It's the way <a href="https://docs.python.org/2/library/sys.html#sys.exit" rel="nofollow noreferrer"><code>sys.exit()</code></a> is implemented.</span>
<span class="comment-copy">@GhilasBELHADJ Your link uses the Python 2 documentation. You should repost with the <a href="https://docs.python.org/3/library/sys.html#sys.exit" rel="nofollow noreferrer">Python 3 docs</a>.</span>
<span class="comment-copy">when using os._exit(0), you can exit "-i" without any traceback</span>
<span class="comment-copy">@Matt.St: <code>os.exit</code> is a drastic move that exits without any cleanup. No <code>finally</code>, <code>__exit__</code>, <code>atexit</code>, <code>__del__</code>, etc. It's not likely to be appropriate here.</span>
<span class="comment-copy">you are absolutely right @user2357112, but in case he want drastic move, it can work</span>
<span class="comment-copy"><code>os._exit(1)</code> will suppress the traceback, but it will also suppress all exit cleanup and exit immediately. This can cause data loss.</span>
