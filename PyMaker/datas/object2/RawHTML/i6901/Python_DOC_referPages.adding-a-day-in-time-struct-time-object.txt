<div class="post-text" itemprop="text">
<p>I am using a time.struct_time to set up the date and time and I want to add to the next day using a python script.</p>
<p>I am using following code:</p>
<pre><code>date_1 = "31/08/2017 10:30PM"
time_1 = time.strptime(date_1, '%d/%m/%Y %I:%M%p')
</code></pre>
<p>Output:</p>
<pre><code>time.struct_time(tm_year=2017, tm_mon=8, tm_mday=31, tm_hour=22, tm_min=30, tm_sec=0, tm_wday=3, tm_yday=243, tm_isdst=-1)
</code></pre>
<p>Now I want to add 1 day to this date. I used the following code:</p>
<pre><code>time.struct_time(tm_year=2017, tm_mon=9, tm_mday=1, tm_hour=22, tm_min=30, tm_sec=0, tm_wday=3, tm_yday=243, tm_isdst=-1)
</code></pre>
<p>I am new on this, so can you please show me an example how I could add to the next day date using with my code?</p>
</div>
<div class="post-text" itemprop="text">
<p>Consider <a href="https://docs.python.org/2/library/datetime.html#datetime.timedelta" rel="nofollow noreferrer">datetime.timedelta</a> as explained in this question: <a href="https://stackoverflow.com/questions/6871016/adding-5-days-to-a-date-in-python#6871482">Adding 5 days to a date in Python</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Honestly, I'm not sure if there even is a (clean) way. The data of a struct_time object are stored as tuples, so they are immutable. This means they can't really be modified in place.</p>
<p>I think you should be using the <a href="https://docs.python.org/3/library/datetime.html" rel="nofollow noreferrer"><code>datetime</code></a> module instead, like so:</p>
<pre><code>&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; date_1 = "31/08/2017 10:30PM"
&gt;&gt;&gt; time_1 = datetime.strptime(date_1, "%d/%m/%Y %I:%M%p")
&gt;&gt;&gt; time_1
datetime.datetime(2017, 8, 31, 22, 30)
</code></pre>
<p>You can then add a month like so:</p>
<pre><code>&gt;&gt;&gt; from dateutil.relativedelta import relativedelta
&gt;&gt;&gt; time_1 + relativedelta(months=1)
datetime.datetime(2017, 9, 30, 22, 30)
</code></pre>
<p>If you want to add a single day, then use <code>datetime.timedelta()</code>, which deals with the month's number of days:</p>
<pre><code>from datetime import timedelta
time_1 + timedelta(days=1)
</code></pre>
<p>The reason I didn't use this above is because <code>timedelta()</code> doesn't take months as an argument</p>
<hr/>
<p>If you wish to convert it back to a string, then you use the <a href="https://docs.python.org/3/library/datetime.html#datetime.date.strftime" rel="nofollow noreferrer"><code>strftime()</code></a> function like so:</p>
<pre><code>&gt;&gt;&gt; new_time_1 = time_1 + relativedelta(months=1)
&gt;&gt;&gt; print(datetime.strftime(new_time_1, '%d/%m/%Y'))
30/09/2017
&gt;&gt;&gt; print(datetime.strftime(time_1, '%d/%m/%Y'))
31/08/2017
</code></pre>
<hr/>
<p>If for some reason you need to use the <code>time</code> module (say for one part of your code) but you want to convert it to the <code>datetime</code> object (for reasons like this), then I refer you to <a href="https://stackoverflow.com/questions/1697815/how-do-you-convert-a-python-time-struct-time-object-into-a-datetime-object">this</a> question.</p>
</div>
<span class="comment-copy">thank you very much for this, I'm stored the date_1 string in the list so I could output them when I use <code>date_1 = ''.join(str(x) for x in self.date_1)</code>. How I can get the date <code>31/08/2017</code> from the string and how I add it to the next day to make it show <code>1/09/2017</code> if there is possible to do in a different way?</span>
<span class="comment-copy">@DanielEzekiel Check my edit... does that answer your question?</span>
<span class="comment-copy">No not really, when you add the day it should add to the next month if my day is 29, 30, 31 or whatever its. Are there a way to do that without add the month, just the day?</span>
<span class="comment-copy">@DanielEzekiel Ah, that's where you'd do <code>from datetime import timedelta; time_1 + timedelta(days=1)</code>. I didn't use this in my original answer since <code>timedelta</code> doesn't take a <code>months</code> argument</span>
<span class="comment-copy">Oh I see, so how would I know I need to add to the next month as some months has <code>30</code> and some months has <code>31</code>?</span>
