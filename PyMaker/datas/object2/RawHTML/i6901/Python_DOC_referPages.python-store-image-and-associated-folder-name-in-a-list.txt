<div class="post-text" itemprop="text">
<p>I am very new to Python and I was wondering if someone could help me with this problem.</p>
<p>I have a folder "Train" with sub-folders "ball", "chair", "cup", "bag" each sub-folder consists of it associated image.Such as:</p>
<pre><code>project/Train/ball/01.jpg
project/Train/chair/02.jpg
project/Train/cup/03.jpg
project/Train/bag/04.jpg
</code></pre>
<p>I have written the following code to read image from Train</p>
<pre><code>names_path = []
training_paths = []

for name in glob.glob('/Train/**/*.jpg'):
    img = cv2.imread(name)
    training_paths.append(name)
</code></pre>
<p>For <code>names_path = []</code> I would like to store the name of the sub-folder (bag, chat, cup, ball) of the current image. So if first image in the loop belongs to ball, save image path to <code>training_paths</code> and "ball" to <code>names_path</code> </p>
<p>I have tried using another loop such as </p>
<pre><code>for clas in glob.glob('/Train/*/'):
</code></pre>
<p>But when I check the list all the entries are None.</p>
</div>
<div class="post-text" itemprop="text">
<p>If <code>file_path</code> ist the path of your image you can get the directory name with:</p>
<pre><code>from os import path
file_path = "project/Train/ball/01.jpg"
dir_name = path.basename(path.dirname(file_path))  # "ball"
</code></pre>
<ul>
<li><code>dirname()</code> extracts the path of the directory</li>
<li><code>basename()</code> extracts the last part of the directory path</li>
<li>See also: <a href="https://docs.python.org/3/library/os.path.html" rel="nofollow noreferrer">https://docs.python.org/3/library/os.path.html</a></li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>It'll depend where you're actually running the file from, but I think your error is that you don't need the slash just before <code>Train</code>.</p>
<p>Change:</p>
<pre><code>glob.glob('/Train/**/*.jpg')
</code></pre>
<p>To:</p>
<pre><code>glob.glob('Train/**/*.jpg')
</code></pre>
<p>Your code is producing an empty list, so the for-loop never runs.</p>
</div>
<span class="comment-copy">Are you saying you want to add each <code>p</code> to <code>names_path</code>?  If so, just add <code>names_path.append(p)</code> inside your existing loop.</span>
<span class="comment-copy">Where are you running your python script from? Are you already in <code>Train</code>?</span>
<span class="comment-copy">If you need to extract parts of the path (like the directory name), have a look at the <code>os.path</code> module: <a href="https://docs.python.org/3/library/os.path.html" rel="nofollow noreferrer">docs.python.org/3/library/os.path.html</a></span>
<span class="comment-copy">@DrewG. No I would like to save the folder name "ball", "chair", "cup", "bag" in names_path. So for example if the first image belongs to "ball", save path of image to training_paths and save ball to names_path</span>
<span class="comment-copy">@Harry.Smith you could add <code>names_path.append(os.path.basename(os.path.basename(name))</code></span>
