<div class="post-text" itemprop="text">
<p>I am new to python. Trying to create a simple application using django. I am facing the index out of range exception with this line "ndim = mobjs[0].ndim". Any help would be highly appreciated   </p>
<p>Error    </p>
<pre><code>\File "/home/anthra/server_movierecsys/books_recsys_app/views.py", line 66, in home
ndim = mobjs[0].ndim
</code></pre>
<p>views.py</p>
<pre><code>def home(request):
context={}
if request.method == 'POST':
    post_data = request.POST
    data = {}
    data = post_data.get('data', None)
    if data:
        return redirect('%s?%s' % (reverse('books_recsys_app.views.home'),
                            urllib.urlencode({'q': data})))
elif request.method == 'GET':
    get_data = request.GET
    data = get_data.get('q',None)
    titles = cache.get('titles')
    if titles==None:
        print ('load data...')
        texts = []
        mobjs = MovieData.objects.all()
        ndim = mobjs[0].ndim
        matr = np.empty([1,ndim])

    else:
        print ('loaded',str(len(titles)))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>try this:</p>
<pre><code>    mobjs = MovieData.objects.all().first()
    if mobjs:
        ndim = mobjs[0].ndim
        matr = np.empty([1,ndim])
    else:
        print('there is no MovieData')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can also try to use <strong>try: except:</strong> statement and except Error. You can write your own Exception or use some of biuld ones:<a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">Python Errors and Exceptions</a></p>
<p>Something like that:</p>
<pre><code>try:
    mobjs = MovieData.objects.all()
    ndim = mobjs[0].ndim
    matr = np.empty([1,ndim])
except Exception as e: 
    print(e)
</code></pre>
<p>Hope it's working ;P</p>
</div>
<span class="comment-copy">Take a look at what the queryset <code>mobjs</code> is set to after the db query. You'll find that it is empty. Are you sure that there are records in the database for that model?</span>
<span class="comment-copy">That's because <code>MovieData.objects.all()</code> returns an empty <code>QuerySet</code> (<code>[]</code>). Later, when you try to access the first element, it fails.</span>
<span class="comment-copy">Add at least one <code>MovieData</code> and you should be good</span>
<span class="comment-copy">It probably not help if queryset will be empty</span>
<span class="comment-copy">the empty queryset first() will return None,whta's the problem?</span>
<span class="comment-copy">Oh, sorry. I made mistake)</span>
<span class="comment-copy">Queryset was empty</span>
