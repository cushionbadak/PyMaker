<div class="post-text" itemprop="text">
<p>For example, I import json like so <code>import json</code> and now somewhere in the code I want to check if it has been imported. It should be something like: <code>has_imported(module_name)</code>.</p>
<p>The reason why I'm asking this is because I'm trying to understand how <code>pkgutil.walk_packages()</code> works. It must import the modules it lists but for some reason some modules are not imported. Seems like I have to import them with a separate function but first this function needs to "know" whether a module that it gets as an argument was imported or not.</p>
<p>There are some similar questions, but I'm far from being satisfied with the answers.</p>
</div>
<div class="post-text" itemprop="text">
<p>Test for the module name in the <a href="https://docs.python.org/3/library/sys.html#sys.modules" rel="nofollow noreferrer"><code>sys.modules</code></a> dictionary:</p>
<pre><code>import sys

print("sys" in sys.modules) #True
print("datetime" in sys.modules) #False
print("json" in sys.modules) #False
</code></pre>
</div>
<span class="comment-copy">If you write <code>import json</code> at the top of your file, then you can be pretty sure it's imported in that file. That does not mean it will be imported <i>everywhere</i> (in other files). Might that be a cause of confusion here? Or are you trying to figure out whether any one package has generally been imported by any other module somewhere? (If so, what for?)</span>
<span class="comment-copy">If you want to know how <code>pkgutil.walk_packages()</code> works, why not <a href="https://github.com/python/cpython/blob/b9c3da5c89c66dcccf382e8f196746da2a06d4cc/Lib/pkgutil.py#L53-L107" rel="nofollow noreferrer">just look at its source code</a>?</span>
<span class="comment-copy">@deceze No, it's not. I import modules with <code>walk_packages</code> (as far as I understand it imports modules on the fly) but some modules in the list don't seem to be imported. I'm just trying to figure out why,</span>
<span class="comment-copy">Then you might rather want to ask a concrete question about thatâ€¦?</span>
<span class="comment-copy">@deceze I'd already done that before asking this one but no one answered...</span>
<span class="comment-copy">In the interactive mode all of them return <code>True</code>. How is that?</span>
<span class="comment-copy">@Foobard, try to open another instance of command line (or what else you are using). I just checked it in my terminal (ver Python 3) - datetime and json checks return False</span>
<span class="comment-copy">I've just checked it in my terminal too and yeah now it works as expected. I wonder why it didn't in that terminal. I'm 100% certain I didn't import the modules I checked.</span>
