<div class="post-text" itemprop="text">
<p>So I have my pymongo cursor and very plain loop to get total sum. I need to fetch that value, also I am very new to Mongo and my approach might be not the best practice.</p>
<pre><code>cursor = db.reportsColl.aggregate([
        {"$unwind": "$conditions"},
        {"$group": {"_id": "$_id", "sum": { "$sum": 1}}}])


x = 0
for result in cursor:
    x+= result['sum']
print(x)
</code></pre>
<p>I am trying to use lambda expression here, but I feel that I've kinda lost.</p>
<pre><code>total = [(lambda x: x+result['sum'])(x) for _ in cursor]
</code></pre>
<p>Any ideas?</p>
</div>
<div class="post-text" itemprop="text">
<p>You are building a list of incomplete sums, and that's a waste. Don't use a list comprehension for the side effects.</p>
<p>You don't even need to do this. Use the <a href="https://docs.python.org/3/library/functions.html#sum" rel="nofollow noreferrer"><code>sum()</code> function</a> with a <a href="https://docs.python.org/3/tutorial/classes.html#generator-expressions" rel="nofollow noreferrer">generator expression</a> instead:</p>
<pre><code>total = sum(result['sum'] for result in cursor)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You only want to do is SUM. </p>
<p>So, you can try to do follow this:</p>
<pre><code>In [9]: sum([1, 2, 3])
Out[9]: 6`
</code></pre>
<p>So, by this way, your code can be like:</p>
<pre><code>total = sum([result['sum'] for result in cursor])
</code></pre>
</div>
<span class="comment-copy">Did you mean something like <code>total = sum(result['sum'] for result in cursor)</code></span>
<span class="comment-copy">@AChampion definitely! How I couldn't do it in the 1st place... Thanks.</span>
<span class="comment-copy">@AliceJarmusch slightly confused as to what you're doing here... can't you modify your query and have mongo do it rather than post-processing in Python? Although, I'm not sure if you're trying to get the number of groups, or something else...</span>
<span class="comment-copy">@JonClements if you can suggest how can I do it in mongo, I will be happy. Had never worked with it before, and I just need to grab some aggregated data for the further calculations.</span>
<span class="comment-copy">@Alice that's what I'm wondering... perhaps the real question you should be asking is "How do I get the following using a mongo query" and describing what the aggregation you want is, your attempt (like above) and some sample data etc...</span>
<span class="comment-copy">Drop the <code>[...]</code> brackets, there is no need to create a list first to sum the contents. Use a generator expression instead.</span>
