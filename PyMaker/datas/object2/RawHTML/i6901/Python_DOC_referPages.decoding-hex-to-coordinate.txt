<div class="post-text" itemprop="text">
<p>I have a hex payload:</p>
<pre><code>872fa5596122f23e24efb4fc1013b7000000000718
</code></pre>
<p>The lat and lng is in little endian and is at the following locations:</p>
<pre><code>lng - binary[20:28]
lat - binary[28:32]
</code></pre>
<p>Im not sure how to get the correct results. I thought first I would have to change the hex to little endian? Then convert it to int?I tried this:</p>
<pre><code>data = struct.unpack('&lt;ll',binary[12:20])
</code></pre>
<p><strong>output:</strong></p>
<pre><code>TypeError: a bytes-like object is required, not 'str'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You first need to convert the hexdecimal representation into a bytes-object:</p>
<pre><code>import codecs

binary = "872fa5596122f23e24efb4fc1013b7000000000718"
binary_bytes = codecs.decode(binary, 'hex')
print(binary_bytes)
# b'\x87/\xa5Ya"\xf2&gt;$...
</code></pre>
<p>Then you can use <code>struct</code> to decode into integers or whatever:</p>
<pre><code>import struct
# Guessed the offsets...
lng, lat = struct.unpack('&lt;ll', binary_bytes[0:4] + binary_bytes[20:24])
print((lng, lat))
# (15003997831, 1056055905)
</code></pre>
</div>
<span class="comment-copy">Try encoding the binary first: <code>struct.unpack('&lt;ll', binary.encode()[12:20])</code>. You're on Python 3, where strings != bytes.</span>
<span class="comment-copy">Ah, I ddint realise, works with python 2.7</span>
<span class="comment-copy">Am I followin the correct logic? First unpack then to binary?</span>
<span class="comment-copy">No, first the string gets converted to bytes (from <code>"872fa5596122f23e24efb4fc1013b7000000000718"</code> to <code>b"872fa5596122f23e24efb4fc1013b7000000000718"</code>), then this gets unpacked.</span>
<span class="comment-copy">how would you unpack it, with what arguments?</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/stdtypes.html#bytes.fromhex" rel="nofollow noreferrer">bytes.fromhex</a></span>
