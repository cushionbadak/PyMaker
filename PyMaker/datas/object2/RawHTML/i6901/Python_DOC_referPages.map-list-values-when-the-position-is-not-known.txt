<div class="post-text" itemprop="text">
<p>I I have the following list of lists:</p>
<pre><code>(['investmentseminar', '300', '', '', 'CNAME', '', 'domain.com.'], 7)
(['@', '300', '', '', '', '', '', '', '', 'CNAME', '', 'domain.com.'], 12)
(['@', '300', '', '', '', '', '', '', '', '', '', '', '', '', '', 'MX', '', '1', '', 'eu-smtp-inbound-1.com.'], 20)
(['@', '3600', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'TXT', '', 'MS=ms87183849'], 19)
(['@', '3600', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'TXT', '', 'MS=ms91398333'], 19)
</code></pre>
<p>it is from a parsed file with BIND data, i am trying to extract the record type and TTL, where the position of the items in the list are fixed.</p>
<p>this is the code i have so far:</p>
<pre><code>lines = [['@', '', '', 'MX', '', '10', '', 'relay1.netnames.net.'],['@', '', '', 'MX', '', '20', '', 'relay2.netnames.net.'], ['@', '3600', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'TXT', '', 'MS=ms91398333'], ['@', '300', '', '', '', '', '', '', '', '', '', '', '', '', '', 'MX', '', '1', '', 'eu-smtp-inbound-1.com.'], ['domain.tld.', '3600', '', '', '', '', '', '', '', '', '', '', '', 'TXT', '', 'v=spf1 redirect=spf.domain.tld'],['a.ns.slf', '', '', '', '', '', '', '', '', '', 'A', '', '192.123.54.133'],['adfs', '', '', '', '', '', '', '', '', '', '', '', '', '', 'A', '', '192.123.67.20']]
record_set_list = []

def record_set(record):
    resource = {
        'Name': record[0],
        'TTL': record[1],
        'Type': record[4],
        'Value': record[-1]
    }
    record_set_list.append({'RecordSets': resource})

types = ['A', 'AAAA', 'CAA', 'CNAME', 'MX', 'NAPTR', 'PTR', 'SPF', 'SRV', 'TXT', 'ZONE']

for record in csv.reader(lines, delimiter=" "):
    any_in = any(i in record for i in types)
    if any_in is True:
        record_set(record)
</code></pre>
<p>how do i match the TTL, Type and in the case of MX record the preference?</p>
<p>any advise is much appreciated</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the builtin function <a href="https://docs.python.org/3/library/functions.html#filter" rel="nofollow noreferrer"><code>filter</code></a> to remove the empty strings, <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip</code></a> the remaining values with the corresponding keys, and make a <a href="https://docs.python.org/3/library/stdtypes.html#dict" rel="nofollow noreferrer"><code>dict</code></a>.</p>
<pre><code>def record_set(record):
    keys = ['Name', 'TTL', 'Type', 'Value']
    values = filter(None, record)
    resource = dict(zip(keys, values))
    record_set_list.append({'RecordSets': resource})
</code></pre>
</div>
