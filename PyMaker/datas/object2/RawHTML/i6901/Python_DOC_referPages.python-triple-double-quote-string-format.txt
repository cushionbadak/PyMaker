<div class="post-text" itemprop="text">
<p>I'm getting the following error, how should I fix it? </p>
<p><strong>KeyError: 'a'
Process finished with exit code 1</strong></p>
<pre><code>s = """
a b c {a}
""".format({'a':'123'})

print s
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to pass in the arguments by name <code>.format(a=123)</code> or use <a href="https://docs.python.org/3/library/stdtypes.html#str.format_map" rel="noreferrer"><code>format_map</code></a> which expects a dictionary:</p>
<pre><code>s = """
a b c {a}
""".format_map({'a':'123'})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Named formatting variables must be passed by name:</p>
<pre><code>&gt;&gt;&gt; s = """
... a b c {a}
... """.format(a=123)
&gt;&gt;&gt; print(s)

a b c 123
</code></pre>
<p>If you're providing a dict of data, you can "unpack" the names:</p>
<pre><code>&gt;&gt;&gt; d = {'a': 123}
&gt;&gt;&gt; s = """
... a b c {a}
... """.format(**d)
&gt;&gt;&gt; print(s)

a b c 123
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You are using the <code>format</code> method for strings incorrectly. <code>format</code> requires that you pass in keyword arguments when you want to substitute names inside a string.</p>
<p>The correct form to use the method in your case would be the following:</p>
<pre><code>s = """
a b c {a}
""".format(a='123')

print s
</code></pre>
<p>However if you do want to pass in a dictionary, then you can unpack it into keyword arguments by prepending <code>**</code> before the dictionary itself. This will unpack the dictionary into the the keyword argument of <code>a='123'</code> like the code above.</p>
<p>Please read more about Python strings and the string format method <a href="https://docs.python.org/2/library/string.html" rel="nofollow noreferrer">here</a>.</p>
</div>
<span class="comment-copy"><code>format</code> takes keyword arguments, not a dict.</span>
<span class="comment-copy">or you can unpack your <code>dict</code>, <code>**{'a':'123'}</code></span>
<span class="comment-copy">I never knew about <code>format_map</code> O.o Good to know!</span>
<span class="comment-copy">Not much point to use <code>format_map</code> if the mapping is just a normal dict.</span>
<span class="comment-copy">@wim That's correct, but if you got a dict why unpack it and pass it to <code>format</code> when you could also use <code>format_map</code>?</span>
<span class="comment-copy">Another option if you're using Python 3.6 is to use f-strings.</span>
<span class="comment-copy">That is only an option if the data comes from a name that's in scope.</span>
