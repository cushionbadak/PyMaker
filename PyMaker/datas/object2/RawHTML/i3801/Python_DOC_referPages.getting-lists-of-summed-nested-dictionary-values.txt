<div class="post-text" itemprop="text">
<p>I am trying to write a part of program where the user inputs a Target Word (<code>targetWord = input()</code>), assigns a nested Dictionary with the key being the same as the input word.</p>
<p>For example:</p>
<pre><code>mainDict = {
    'x': {'one': 1, 'blue': 1, 'green' :1},
    'y': {'red': 1, 'blue': 2, 'two': 1},
    'z': {'one': 1, 'green': 1, 'red': 1}
}
</code></pre>
<p>where all the values in the nested dictionary are assigned integers.</p>
<p>The user may input <code>'x'</code>, to which the program will assign:</p>
<pre><code>targetDict = mainDict['x']
</code></pre>
<p>The program should then allow the user to input words again, but this time every single word from input is appended to a lookup list, for example user inputs <code>'y'</code>, then <code>'z'</code>:</p>
<pre><code>lookup = ['y', 'z']
</code></pre>
<p>Then the program should run through the nested dictionary and for every value with the corresponding key as in the <code>targetDict</code>, append just values to a new nested list and add whatever value the nested Dictionary values are. So the output of this section should be:</p>
<pre><code>targetOutput = [[2], [1, 1]]
</code></pre>
<p>because in nested dict <code>'y'</code>, only <code>'blue'</code> was a common key, to which its value <code>2</code> was put in a list, then appended onto <code>targetOutput</code>. The same case with dict <code>'z'</code>, where the keys <code>'one'</code> and <code>'green'</code> were present in both <code>'x'</code> and <code>'z'</code>, putting their values, <code>1</code> and <code>1</code> into a nested list.</p>
<p>Here is a representation of the dysfunctional code I have for:</p>
<pre><code>targetOutput = []
targetDict = mainDict[targetWord]
for tkey in targetDict:
    tt = []
    for word in lookup:
        for wkey in primaryDict[word]:
            if tkey == wkey:
                tt.append(targetDict[tkey])
tl.append(sum(tt))


print((pl))
</code></pre>
<p>The sum function at the end is because my actually final output should be the sum of the values in the nested list, akin to:</p>
<pre><code>tl = [[2], [2]]
</code></pre>
<p>I am also trying to make the reverse happen, where in another list for every key in the lookup, it returns a nested list containing the sum of every value the <code>targetWord</code> dictionary also has a key for, like:</p>
<pre><code>ll = [[2], [2]]
</code></pre>
<p>My question is, how do I fix my code so that it outputs the 2 above lists? I'm quite new with dictionaries.</p>
</div>
<div class="post-text" itemprop="text">
<p>The <a href="https://docs.python.org/3/library/stdtypes.html#dict.keys" rel="nofollow noreferrer"><code>.keys()</code> method</a> on a dictionary gives you a <a href="https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects" rel="nofollow noreferrer">dictionary view</a>, which can act like a <em>set</em>. This means you can take the intersection between the key views of two dictionaries! You want the intersection between the inital <code>targetDict</code> and the dictionaries named in <code>lookup</code>:</p>
<pre><code>for word in lookup:
    other_dict = mainDict[word]
    common_keys = targetDict.keys() &amp; other_dict
    targetOutput.append([other_dict[common] for common in common_keys])
</code></pre>
<p>The <code>targetDict.keys() &amp; other_dict</code> expression produces the intersection here:</p>
<pre><code>&gt;&gt;&gt; mainDict = {
...     'x': {'one': 1, 'blue': 1, 'green' :1},
...     'y': {'red': 1, 'blue': 2, 'two': 1},
...     'z': {'one': 1, 'green': 1, 'red': 1}
... }
&gt;&gt;&gt; targetDict = mainDict['x']
&gt;&gt;&gt; targetDict.keys() &amp; mainDict['y']
{'blue'}
&gt;&gt;&gt; targetDict.keys() &amp; mainDict['z']
{'green', 'one'}
</code></pre>
<p>The <code>[other_dict[common] for common in common_keys]</code> list comprehension takes those keys and looks up the values for them from the other dictionary.</p>
<p>If you want to <em>sum</em> the values, just pass the same sequence of values to the <code>sum()</code> function:</p>
<pre><code>for word in lookup:
    other_dict = mainDict[word]
    common_keys = targetDict.keys() &amp; other_dict
    summed_values = sum(other_dict[common] for common in common_keys)
    targetOutput.append(summed_values)
</code></pre>
<p>There is no point in wrapping the summed values in another list there as there is only ever going to be a single sum. The above gives you a <code>targetOutput</code> list with <code>[2, 2]</code>, not <code>[[2], [2]]</code>.</p>
</div>
<span class="comment-copy">your question is very hard to understand. Could you\ or someone that does understand it re-phrase it?</span>
<span class="comment-copy">@Ev.Kounis I had a lot of explaining to do, sorry. So fundamentally, it should be creating 2 nested lists where the sum of values from the mainDict with keys common to both that given targetWord and lookup are user inputs. Both lists should technically print the same thing in the end.</span>
