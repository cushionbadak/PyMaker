<div class="post-text" itemprop="text">
<p>So, I've search for a method to show a certain csv field based on input, and I've try to apply the code for my program. But the problem is I want to get a certain item in csv and make a new list from certain index.</p>
<p>I have csv file like this:</p>
<pre><code>code,place,name1,name2,name3,name4
001,Home,Laura,Susan,Ernest,Toby
002,Office,Jack,Rachel,Victor,Wanda
003,Shop,Paulo,Roman,Brad,Natali
004,Other,Charles,Matthew,Justin,Bono
</code></pre>
<p>at first I have this code, and it works show all the row:</p>
<pre><code>import csv

number = input('Enter number to find\n')

csv_file = csv.reader(open('residence.csv', 'r'), delimiter=",")

for row in csv_file:
    if number == row[0]:
        print (row)

**input : 001
**result : [001, Home, Laura, Susan, Ernest, Toby]
</code></pre>
<p>then, I try to make a certain row in the result to add the items to a new list. But it didn't work. Here's the code:</p>
<pre><code>import csv

res = []
y = 2
number = input('Enter number to find\n')

csv_file = csv.reader(open('residence.csv', 'r'), delimiter=",")

for row in csv_file:

    if number == row[0]:
        while y &lt;= 5:
            res.append(str(row[y]))
            y = y+1

print (res)

**input : 001
**expected result : [Laura, Susan, Ernest, Toby]
</code></pre>
<p>I want to make a new list that contains row <code>name1</code>, <code>name2</code>, <code>name3</code>, and <code>name4</code>, and then I want to print the list. But I guess the loop is wrongly placed or I missed something.</p>
</div>
<div class="post-text" itemprop="text">
<p>There are a couple of things you could fix in your code.</p>
<ol>
<li>You are not skipping the header line when iterating through the rows. This means you will not always match an actual row number.</li>
<li>Your <code>y</code> variable is not re-initialized. It would be more idiomatic to use a <code>for</code> loop instead of a <code>while</code> anyhow.</li>
<li>If more than one row match, it will break (see 2.). If you know you will never have more than one match, you should <code>break</code> after you append the values to the list.</li>
<li>Your file is never closed. Also it should be opened with <code>newline=''</code> (see <a href="https://docs.python.org/3/library/csv.html#id3" rel="nofollow noreferrer">csv module docs</a>)</li>
<li>Lastly, you match the actual string (<code>'001'</code>), vs. an integer (<code>1</code>), which could be the source of confusion when entering the input.</li>
</ol>
<p>An updated version:</p>
<pre><code>import csv

res = []
number = input('Enter number to find\n')

with open('residence.csv', newline='') as csv_file:
    csv_reader = csv.reader(csv_file, delimiter=",")
    next(csv_reader)  # Skip header line
    for row in csv_reader:
        if number == row[0]:
            for i in range(2, 6):
                res.append(str(row[i]))
            break

print(res)
</code></pre>
</div>
<span class="comment-copy">Could you update your question to include the input you enter, the output you actually receive, and the output you expect to receive?</span>
<span class="comment-copy">Thank you so much. it worked! can you tell me which part i missed?</span>
