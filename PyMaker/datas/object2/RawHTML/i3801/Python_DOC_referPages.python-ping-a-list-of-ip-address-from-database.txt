<div class="post-text" itemprop="text">
<h1>Python - PING a list of IP Address from database</h1>
<p>I have a list of ip addresses consisting of 200 locations, which in that location there are 4 ip addresses that I need to do ping testing. I intend to make a command which when I write the name or code of a particular location then it will directly ping to 4 ip address at that location. I have learned a bit to create a list that contains the ip address I entered through the command input () like this : </p>
<pre><code>import os
import socket

ip = []
y = ['IP 1 : ','IP 2 : ', 'IP 3 : ', 'IP 4 : ']

while True:
       for x in y:
             server_ip = input(x)
             ip.append(server_ip)
       break

for x in ip:
       print("\n")
       rep = os.system('ping ' + x + " -c 3")
</code></pre>
<p>please give me a little advice about the command I want to make so that I no longer need to enter the ip address one by one. which still makes me confused, especially on how to make the existing items in the database into a variable x which we will insert into this command;
rep = os.system ('ping' + x + "-c 3")</p>
</div>
<div class="post-text" itemprop="text">
<p><strong>EDIT: It now iterates over a CSV file rather than a hard-coded Python dictionary.</strong></p>
<p>I believe you will be better off using <a href="https://www.tutorialspoint.com/python/python_dictionary.htm" rel="nofollow noreferrer">python dictionaries</a> rather than python lists. Assuming you are using <strong>Python 3.X</strong>, this is what you want to run:</p>
<pre><code>import os
import csv

# Save the IPs you want to ping inside YOURFILE.csv
# Then iterate over the CSV rows using a For Loop
# Ensure your ip addresses are under a column titled ip_address
with open('YOURFILE.csv', newline='') as csvfile:
    reader = csv.DictReader(csvfile)
    for row in reader:
        rep = os.system("ping " + row['ip_address'] + " -c 3")
</code></pre>
</div>
<span class="comment-copy">What exactly do you want to do instead of entering the IP addresses one by one? What should the input be—or, if it's not <code>input()</code>, where else do you expect your script to find its input?</span>
<span class="comment-copy">Sorry, in the command above i need to input the IP one by one because i don't have a list or dict that contains the IP. Now i have an excel file that contains list of location with its IP Addresses and i want to make that the command is only input location code and then automatically ping to all existing ip according to the location code that I enter. Sorry if my question is confusing, i just learned it and hard enough to find tutorial in my language</span>
<span class="comment-copy">OK, so you want to take a filename as <code>input()</code> or <code>sys.argv[1]</code>, then read an Excel file at that location? There are Python libraries for reading Excel files, but they're a bit complicated. If you can tell Excel to export the file as a .CSV instead, you can use <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">the <code>csv</code> module that comes with Python</a>, which includes some nice example code in the docs.</span>
<span class="comment-copy">So, i need to learn about csv module first, right? OK, thank you so much sir.</span>
<span class="comment-copy">The <code>csv</code> module isn't the <i>only</i> way to do this, but it is probably the simplest—and it's definitely worth learning the basics of it at some point, and not hard to learn, so why not now? :)</span>
<span class="comment-copy">I have 200 items that each item has 4 IP addresses, is it okay if I put them all in the dictionary? or better I use database?</span>
<span class="comment-copy">OK - 200*4 strings is not something you want to hard-code. (It would not be very maintainable). But it is also not so big that it needs a database. I have just read your answers above - Iterating over values coming from a CSV file sounds like the best match for your issue.</span>
<span class="comment-copy">Ok sir, Thank you very much. I really appreciate it.</span>
<span class="comment-copy">I have edited my response so that it uses a CSV file instead of a dictionary.</span>
