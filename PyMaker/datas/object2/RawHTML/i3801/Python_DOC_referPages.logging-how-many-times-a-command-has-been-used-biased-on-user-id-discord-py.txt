<div class="post-text" itemprop="text">
<p>I am trying to log how many times a command has been used on a particular user and then write it to a file to be added to every time the command is triggered.</p>
<p>Here's the command that i am trying to do this for </p>
<pre><code>@client.command(pass_context=True)
async def boop(ctx):
    mentions = ctx.message.mentions
    for user in mentions:
        await client.say("{} has been Boop'ed!".format(user))
</code></pre>
<p>I'm trying to write a number, along with the <code>userid</code> to a json file.</p>
</div>
<div class="post-text" itemprop="text">
<p>The easiest way is probably to maintain a dictionary mapping users to the number of times they have been mentioned.  Then you can just use <a href="https://docs.python.org/3/library/json.html#json.dump" rel="nofollow noreferrer"><code>json.dump</code></a> to send that to a file.  You should note that this doesn't scale very well.  If you see yourself updating this file constantly, you should consider switching to an asynchronous database (Especially because file writes are a blocking operation).  </p>
<pre><code>import json
from collections import Counter

boop_dict = Counter()

@client.command(pass_context=True)
async def boop(ctx, *users: discord.User):
    for user in users:
        await client.say("{} has been Boop'ed!".format(user))
        boop_dict[user.id] += 1
    with open('boop_file.json', 'w+') as f:
        json.dump(boop_dict, f)
</code></pre>
</div>
