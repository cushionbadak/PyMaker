<div class="post-text" itemprop="text">
<p>I have the data in a file:</p>
<p>Sample:</p>
<pre class="lang-none prettyprint-override"><code>City Very poor Poor Fair Good Excellent 
Mumbai 0 4 30 58 8 
Delhi 5 7 18 39 31
</code></pre>
<p>I want to transpose column to row:</p>
<pre class="lang-none prettyprint-override"><code>Mumbai 0 Very poor
Mumbai 4 Poor
Mumbai 30 Fair
Mumbai 58 Good
Mumbai 8 Excellent
.....
.....
</code></pre>
<p>Is there any function in python which can do this? I have done it in sql using xml path but I don't know best way to do in python.</p>
</div>
<div class="post-text" itemprop="text">
<p>Here's a solution using just the <code>csv</code> module from the standard library.</p>
<p>For convenience we use <code>csv.DictReader</code> to read in and use headers via the <code>OrderedDict</code> objects which are returned`.</p>
<pre><code>from io import StringIO
import csv

mystr = StringIO("""City VeryPoor Poor Fair Good Excellent
Mumbai 0 4 30 58 8
Delhi 5 7 18 39 31""")

# replace mystr with open('file.csv', 'r')
with mystr as fin:
    reader = csv.DictReader(fin, delimiter=' ')
    for line in reader:
        city = line.popitem(last=False)[1]
        for cat, rating in line.items():
            print(city, rating, cat)

Mumbai 0 VeryPoor
Mumbai 4 Poor
Mumbai 30 Fair
Mumbai 58 Good
Mumbai 8 Excellent
Delhi 5 VeryPoor
Delhi 7 Poor
Delhi 18 Fair
Delhi 39 Good
Delhi 31 Excellent
</code></pre>
<p>Note I have changed your data in a minor way: <code>VeryPoor</code> is the category rather than <code>Very Poor</code> - you may need to specify specific treatment for non-standard whitespace in headers.</p>
</div>
<span class="comment-copy">Yes, see <code>pandas.DataFrame.melt</code></span>
<span class="comment-copy">Python has a built-in function named <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip()</code></a> which can transpose the rows and columns of a 2D matrix (such as a list-of-lists). If the file is in CSV format, then you can easily read it into such a data-structure using the <a href="https://docs.python.org/3/library/csv.html#module-csv" rel="nofollow noreferrer"><code>csv</code></a>.module in the standard-library.</span>
