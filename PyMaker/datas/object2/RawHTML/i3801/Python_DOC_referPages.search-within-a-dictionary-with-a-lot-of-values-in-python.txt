<div class="post-text" itemprop="text">
<p>In the following code I'm showing a function that lets you add students to a dictionary (book) with rut being the key, the issue I have is that I'm trying to make a function that can search by department and then print all students of that are part of that department, basically I'm asking how do you search a dictionary with 1 key that is associated to a lot of values and you want to search for a particular value and then print all keys that have it along with their info?</p>
<pre><code>book = {}


def add(rut, name, age, department):
    student = {}
    student['rut'] = rut
    student['name'] = name
    student['age'] = age
    student['department'] = department

    book[rut] = student


def printall():
    for rut in book:
        student = book[rut]
        print(student['rut'], student['name'], student['age'], student['department'])


def main():
    count = 0
    x = 0
    y = int(input("How many students will you add?: "))
    while count &lt; y:
        print('Input data of the student: ', count+1)
        rut = input("rut: ")
        name = input("name: ")
        age = int(input("age: "))
        print("Department 1: RH, 2: Logistic, 3: Cleaners, 4: TI ")
        department = ''
        while x == 0:
            num_dept = int(input("department number: "))

            if num_dept == 1:
                department = "RH"
                x = 1
            elif num_dept == 2:
                department = "Logistic"
                x = 1
            elif num_dept == 3:
                department = "Mathematics"
                x = 1
            elif num_dept == 4:
                department = "TI"
                x = 1
            else:
                print('Error')
        x = 0
        add(rut, name, age, department)
        count = count + 1
    printall()


main()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>.</p>
<pre><code>students = [student for student in book.values() 
            if student["department"] == desired_department]
</code></pre>
<p>This will give you a list, which you can then print out if you so choose.</p>
</div>
<span class="comment-copy">Could you please explain some more? i tried to use this but i got a Expected type 'Union[int, slice]', got 'str' instead.</span>
<span class="comment-copy">I made an error in the posted answer - it should work now. With that said, I'm not sure how you're getting that error. A list comprehension is just syntactic sugar to create a list of elements with a certain property. In this case, we loop through all students in <code>book</code> and if they have the desired department, store them in the list.</span>
<span class="comment-copy">i tried something like:  for rut in book:     if student['department'] == desired_department:         student = book[rut]         print(student['rut'],student['name'],student['age'])</span>
<span class="comment-copy"><code>student</code> is undefined in your if statement there. You're going to want to move that <code>student</code> declaration up above the of statement, and put the <code>print</code> within it.</span>
