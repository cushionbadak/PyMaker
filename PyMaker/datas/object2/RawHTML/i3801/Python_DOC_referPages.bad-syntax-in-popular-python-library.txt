<div class="post-text" itemprop="text">
<p>I am trying to use the mitmproxy Python API but the line <code>from mitmproxy import http</code> gives a syntax error. The <a href="https://github.com/mitmproxy/mitmproxy/blob/master/mitmproxy/http.py" rel="nofollow noreferrer">"http" module</a> contains lines like </p>
<pre><code>self.request: HTTPRequest = None
</code></pre>
<p>and </p>
<pre><code>def make_error_response(
        status_code: int,
        message: str="",
        headers: Optional[http.Headers]=None,
) -&gt; HTTPResponse:
    reason = http.status_codes.RESPONSES.get(status_code, "Unknown")
</code></pre>
<p>which don't look like Python.</p>
<p>Am I missing something, or is this just bad code? </p>
</div>
<div class="post-text" itemprop="text">
<p>As stated in the <a href="https://docs.mitmproxy.org/stable/overview-installation/" rel="nofollow noreferrer">mitmproxy docs</a>, you will need to have the most recent Python version.</p>
<blockquote>
<p>Please make sure to install Python 3.6 (or higher) and pip3 for your distribution.</p>
</blockquote>
<p>What you are seeing are <a href="https://docs.python.org/3/library/typing.html" rel="nofollow noreferrer">type hints</a> which have been added in Python 3.5.</p>
</div>
<span class="comment-copy">this is type annotations you need to use <code>python3</code></span>
<span class="comment-copy">Your code works for me, make sure you are using Python 3 as suggested by @zimdero</span>
