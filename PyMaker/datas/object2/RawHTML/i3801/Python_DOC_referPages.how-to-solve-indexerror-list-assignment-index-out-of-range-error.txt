<div class="post-text" itemprop="text">
<p>I wrote a code for solving <code>ode</code> using <code>rk4</code> method.<br/>
Here is the code:</p>
<pre><code>from __future__ import division
import math
import numpy as np
from math import exp

def f(t,y):
  return 5*t**2-y/math.e**(t+y)
def rk4(t,y,h,i):
  p=[0]*i
  p[0] = y
  for n in range(0,i):
    g=11
    k1=round(h*f((t+n*h),y),g)
    k2=round(h*f((t+n*h)+(h/2),y+k1/2),g)
    k3=round(h*f((t+n*h)+h/2,y+k2/2),g)
    k4=round(h*f((t+n*h)+h,y+k3),g)
    p[n+1]=p[n]+(1/6)*(k1+2*k2+2*k3+k4)
    print(k1,k2,k3,k4)

a=rk4(0,1,0.1,3)
print(a)
</code></pre>
<p>When I try to print the k's coefficient,it shows list assignment index out of range error and when I try to print the value of p,output is </p>
<pre><code>[1, 0.9666652135433333, 0]
</code></pre>
<p>I don't understand why the third item is 0.<br/>
How do I solve these problems?</p>
</div>
<div class="post-text" itemprop="text">
<p>I improve your code snippet:</p>
<pre><code>from __future__ import division
import math

def f(t, y):
    return 5 * t**2 - y/math.e**(t + y)

def rk4(t, y, h, i):
    p = list()
    p.append(y)
    for n in range(0, i):
        g = 11
        k1 = round(h * f((t + n * h), y), g)
        k2 = round(h * f((t + n * h) + (h/2), y + k1/2), g)
        k3 = round(h * f((t + n * h) + (h/2), y + k2/2), g)
        k4 = round(h * f((t + n * h) + h, y + k3), g)
        p.append(p[n] + (1/6) * (k1 + 2 * k2 + 2 * k3 + k4))
        print(k1, k2, k3, k4)

rk4(0, 1, 0.1, 3)
</code></pre>
<p>Out:</p>
<pre><code>(-0.03678794412, -0.03373778195, -0.03373873966, -0.0282677314)
(-0.02828710837, -0.02041047991, -0.02041201684, -0.01011306051)
(-0.01011942119, 0.00259988829, 0.0025995445, 0.01774691262)
</code></pre>
</div>
<span class="comment-copy">in <code>.rk4()</code> method there isn't any return.</span>
<span class="comment-copy">when I tried for the output p ,I used return p. But for k's , when I return k1,k2,k3,k4 it only shows one value of each instead of all the values within the loop.</span>
<span class="comment-copy">Thank you so much. It worked. So does this mean we can use append for array?</span>
<span class="comment-copy">@Rima yes, for add item in python list you should use <code>.append()</code>, look here this is useful for you: <a href="https://docs.python.org/3/tutorial/datastructures.html" rel="nofollow noreferrer">docs.python.org/3/tutorial/datastructures.html</a></span>
<span class="comment-copy">@Rima If your problem solved by my answer, consider please the vote up to it :)</span>
