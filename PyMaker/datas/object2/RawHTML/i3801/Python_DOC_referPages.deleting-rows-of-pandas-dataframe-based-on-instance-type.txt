<div class="post-text" itemprop="text">
<p>Basically I am trying to delete rows of a pandas dataframe where values in a certain column are not instances of datetime. I have tried:</p>
<pre><code>df = df[df[‘date’] == isinstance(datetime)]
</code></pre>
<p>I know isinstance takes two arguments (I am missing the value to be checked) but I’m not sure what to put there. </p>
</div>
<div class="post-text" itemprop="text">
<p>For efficiency, you should convert your series to <code>datetime</code> and then mask for non-null values:</p>
<pre><code>df['date'] = pd.to_datetime(df['date'], errors='coerce')

df = df[df['date'].notnull()]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As the <a href="https://docs.python.org/3/library/functions.html?highlight=isinstance#isinstance" rel="nofollow noreferrer">docs</a> says, <code>.isinstance</code> takes <code>object</code> as the first argument and <code>classinfo</code> as the second argument. </p>
<p>The correct way is as follows:   </p>
<pre><code>import datetime 
df.loc[df['date'].apply(lambda x: isinstance(x, datetime.datetime))]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>With small change to the <a href="https://stackoverflow.com/a/46999157/5916727">similar answer</a>, you can try following:</p>
<pre><code>df = df[df['date'].apply(isinstance, args=(datetime,))]
</code></pre>
</div>
<span class="comment-copy">Sorry, I am confused. Doesn’t this change the values of the column to true/false only? I want to keep the original values that are dates but get rid of the ones that aren’t.</span>
<span class="comment-copy">@big11mac, You are absolutely right. That True/False is your mask. You can always query from that mask. See the edit.</span>
<span class="comment-copy">Ok I understand. So this would be the same as: df = df[df[‘date’].apply(lambda x: isinstance(x,datetime))] ?</span>
<span class="comment-copy">@big11mac, precisely.</span>
<span class="comment-copy">Can the downvoter comment?</span>
