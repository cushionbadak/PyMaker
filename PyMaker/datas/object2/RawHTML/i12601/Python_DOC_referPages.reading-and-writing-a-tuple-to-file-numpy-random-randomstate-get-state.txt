<div class="post-text" itemprop="text">
<p>I am trying to save the state of the random number generator in my code to file, to then later read it back in. The tuple generated is of the form: </p>
<p>tuple(str, ndarray of 624 uints, int, int, float)</p>
<p>The returned tuple has the following items:</p>
<ol>
<li>the string ‘MT19937’.</li>
<li>a 1-D array of 624 unsigned integer keys.</li>
<li>an integer pos.</li>
<li>an integer has_gauss.</li>
<li>a float cached_gaussian.</li>
</ol>
<p>Is there a simple way to write this to file, then read it back in in the format it was originally generated?</p>
<p>This is what I have so far:</p>
<pre><code> fx = open('state.dat', 'w')
 fx.write(' '.join(str(s) for s in state) + '\n')
 fx.close()
</code></pre>
<p>This does print to file, but I am unsure how to convert the string output back into the original format.</p>
<p>Many thanks</p>
<p>Ryan</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow"><code>pickle</code></a> to save any object on disk as binary:</p>
<pre><code>import numpy
import pickle

RANDOM_STATE_FILE = 'random.bin'

def save_random_state():
    with open(RANDOM_STATE_FILE, 'wb') as f:
        pickle.dump(numpy.random.RandomState.get_state(), f)

def load_random_state():
    with open(RANDOM_STATE_FILE, 'rb') as f:
        numpy.random.RandomState.set_state(pickle.load(f))
</code></pre>
</div>
<span class="comment-copy">why don't use pickle</span>
