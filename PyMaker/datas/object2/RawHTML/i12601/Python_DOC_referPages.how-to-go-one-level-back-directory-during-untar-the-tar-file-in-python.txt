<div class="post-text" itemprop="text">
<p>I'm trying to extract tar.gz using <code>import tarfile</code> actually problem is
in the folder1.tar.gz there are one dirctory and some files 
like folder1.tar.gz-&gt;folder2-&gt;abc.txt,def.txt,folder3</p>
<pre><code>import tarfile
tar=tarfile.open('folder1.tar.gz')
tar.extractall(targetdirectory)
</code></pre>
<p>it extract abc.txt,def.txt,folder3 in folder2 in my targetdirectory
but I want abc.txt,def.txt,folder3 in my targetdirectory not want folder 2, I want to exclude folder2.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you know the archive structure then you can use <a href="https://docs.python.org/3/library/tarfile.html#tarfile.TarFile.getnames" rel="nofollow">TarFile.getmembers()</a> in conjunction with <a href="https://docs.python.org/3/library/tarfile.html#tarfile.TarFile.extractfile" rel="nofollow">TarFile.extractfile()</a> to get what you want. You can do something like this</p>
<pre><code>import tarfile
tar=tarfile.open('folder1.tar.gz')
for member in tar.getmembers():
  if member.name.startswith('folder2/') and member.isfile():
    inputfile = tar.extractfile(member)
    with open(os.path.join(targetdirectory, member.name.replace('folder2/', '')), 'wb') as outputfile:
      outputfile.write(inputfile.read())
    inputfile.close()
</code></pre>
</div>
<span class="comment-copy">Thanks, it worked fine.</span>
