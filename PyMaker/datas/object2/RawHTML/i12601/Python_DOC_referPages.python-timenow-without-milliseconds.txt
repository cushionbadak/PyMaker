<div class="post-text" itemprop="text">
<p>I'm writing the time to an XML file and later coming back to compare it against the current time. I've not done this with Python before and the time formatting seems to be pretty strange.</p>
<p>I've managed to put something together <strong>if</strong> I write the timenow to the XML without milliseconds.</p>
<p>IF the XML has a timestamp like 2016-01-05 00:39:20 then this works:</p>
<pre><code>tree = ET.parse('C:\logs\XMLFILENAME.xml')
    for matchlisting in tree.findall('Found'):
        age = matchlisting.find('FoundTime').text
    dnow=datetime.datetime.now()
    print dnow

    d2 = datetime.datetime.strptime(age, '%Y-%m-%d %H:%M:%S')

    #print d2
    print(dnow-d2)
</code></pre>
<p>But by default the time.now doesn't give something like 2016-01-05 00:39:20 it adds the milliseconds on the back like 2016-01-05 00:39:20.xxxx.</p>
<p>I don't see an option for the milliseconds in the documentation to handle it with the strptime or a way to write the timenow without the milliseconds which would work as well.</p>
<p>I'm hoping there's some simple syntax to fix one of these. I'd appreciatea pointer here it's been a few hours on what should be fairly straight forward I would of thought.</p>
</div>
<div class="post-text" itemprop="text">
<p>The default conversion to <code>str</code> for display of a <code>datetime</code> object includes microseconds.  If you don't want to see it, specify a custom format with <code>strftime</code>:</p>
<pre><code>&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; d = datetime.now()
&gt;&gt;&gt; d
datetime.datetime(2016, 1, 4, 17, 31, 32, 976902)
&gt;&gt;&gt; print(d)
2016-01-04 17:31:32.976902
&gt;&gt;&gt; print(d.strftime('%Y-%m-%d %H:%M:%S'))
2016-01-04 17:31:32
</code></pre>
<p><code>datetime</code> objects also support custom formatting for <code>format</code>:</p>
<pre><code>&gt;&gt;&gt; '{:%Y-%m-%d %H:%M:%S}'.format(d)
'2016-01-04 17:31:32'
</code></pre>
<p>Also, the formatting character for the microseconds is <code>%f</code>:</p>
<pre><code>&gt;&gt;&gt; print(d.strftime('%Y-%m-%d %H:%M:%S.%f'))
2016-01-04 17:31:32.976902
</code></pre>
<p>Ref: <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="nofollow">strftime() and strptime() Behavior</a></p>
</div>
<span class="comment-copy">Ah perfect, thank you.</span>
