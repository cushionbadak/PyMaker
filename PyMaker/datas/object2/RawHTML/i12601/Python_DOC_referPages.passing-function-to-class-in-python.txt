<div class="post-text" itemprop="text">
<p>So I'm working on a class structure for a text-based menu. I need to create the menus and set the actions before actually running the code. So to avoid the function being called to early, I have created a class called Run which takes the given function and runs it. My problem is that I don't know how I should handle the arguments for the function. What I have so far, and which doesn't work is:</p>
<pre><code>class Run:
    def __init__(self, func):
        self.func = func

    def execute(self):
        print('Running')
        self.func

def foo(*args):
    print(*args)

baz = Run(foo('bar'))

baz.execute()
</code></pre>
<p>Just to be clear I first want the function to run when I run <code>baz.execute()</code></p>
</div>
<div class="post-text" itemprop="text">
<p>You are calling the function before you pass it to <code>Run</code>, so <code>func</code> is actually the result of calling it (<code>None</code>, as it doesn't return anything). The minimal fix is:</p>
<pre><code>class Run:

    def __init__(self, func, *args, **kwargs):
        self.func = func
        self.args = args
        self.kwargs = kwargs

    def execute(self):
        print('Running')
        self.func(*self.args, **self.kwargs)  # call func here


baz = Run(foo, 'bar')  # don't call func here
baz.execute()
</code></pre>
<p>However, you can just use <a href="https://docs.python.org/3/library/functools.html#functools.partial" rel="nofollow"><code>functools.partial</code></a> to do this, removing the need to maintain your own class and tack <code>.execute</code> onto the eventual call (which you could also eliminate by renaming <code>execute</code> to <a href="https://docs.python.org/3/reference/datamodel.html#object.__call__" rel="nofollow"><code>__call__</code></a>:</p>
<pre><code>&gt;&gt;&gt; from functools import partial
&gt;&gt;&gt; def foo(*args):
    print(*args)


&gt;&gt;&gt; baz = partial(foo, 'bar')
&gt;&gt;&gt; baz
functools.partial(&lt;function foo at 0x1059c4400&gt;, 'bar')
&gt;&gt;&gt; baz()
bar
</code></pre>
</div>
<span class="comment-copy">Why don't you just use <a href="https://docs.python.org/3/library/functools.html#functools.partial" rel="nofollow noreferrer"><code>functools.partial</code></a>? Your current attempt is calling <code>foo</code> then passing the result to <code>Run.__init__</code>, so is doomed to failure.</span>
<span class="comment-copy">I don't know <code>functools.partial</code> could you elaborate?</span>
<span class="comment-copy">...so why don't you read about it via the link I provided?</span>
<span class="comment-copy">I'm pretty new to python, and the documentation, whilst precise, isn't always the most newcomer friendly :(</span>
<span class="comment-copy">But, having read it as best you can, you should at least be able to ask a more specific question than <i>"could you elaborate"</i> or, heaven forfend, go and <i>try something</i>.</span>
