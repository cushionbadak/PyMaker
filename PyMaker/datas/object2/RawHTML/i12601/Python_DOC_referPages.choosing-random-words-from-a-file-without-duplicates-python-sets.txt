<div class="post-text" itemprop="text">
<p>I'm attempting to create a program which selects 10 words from a text file which contains 10+ words. For the purpose of the program when importing these 10 words from the text file, I must not import the same words twice! Currently I'm utilising a set for this however I'm greeted by a syntax error. I have some knowledge of sets and know they cannot hold the same value twice. As of now I'm clueless on how to solve this any help would be much appreciated. THANKS!</p>
<p>Relevent Code: (FileSelection)= open file dialog</p>
<pre><code>def GameStage03_E():
    global WordSet
    if WrdCount &gt;= 10:
        WordSet = set()
        for n in range(0,10):
            FileLines = open(FileSelection).read().splitlines()
            RandWrd = random.choice(FileLines)
            WordSet.update(set([RandWrd]))
        SelectButton.destroy()
        GameStage01Button.destroy()
        GameStage04_E()
    elif WrdCount &lt;= 10:
        tkinter.messagebox.showinfo("ERROR", " Insufficient Amount Of Words Within Your Text File! ")
</code></pre>
<p>error code:</p>
<pre><code>File "C:\Python34\lib\random.py", line 256, in choice
return seq[i]
`TypeError: 'set' object does not support indexing`
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can just use <code>random.sample</code> (<a href="https://docs.python.org/2/library/random.html#random.sample" rel="nofollow">2</a>/<a href="https://docs.python.org/3/library/random.html#random.sample" rel="nofollow">3</a>), so you don't have to do that yourself. You also don't need the call to <code>list</code> bigblind's answer suggests, because <code>random.sample</code> can take a set as an argument:</p>
<pre><code>WordSet.update(random.sample(FileLines, 10))
</code></pre>
<p>That way, you can replace the entire body of that function with this:</p>
<pre><code>try:
    WordSet.update(random.sample(FileLines, 10))
except ValueError:
    stkinter.messagebox.showinfo("ERROR", "The text file doesn't have enough words!")
</code></pre>
<p>I also left out that <code>global</code> statement, which you don't need. It's only necessary if you're <em>assigning</em> a new value to the variable, but all you need to do is call one of its functions, <code>update</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>This happens because <code>random.choice</code>is trying to access the set as if it is a list (or some other datastructure that implements <code>__getitem__</code>). To solve this, change your call to <code>random.choice</code> to:</p>
<pre><code>random.choice(list(FileLines))
</code></pre>
<p>This converts the set to a list before passing it to <code>random.choice</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can just use <a href="https://docs.python.org/2/library/random.html#random.sample" rel="nofollow"><code>random.sample(the_list, 10)</code></a> to get 10 distinct elements instead of repeatedly trying to add to a set using a loop. </p>
</div>
<span class="comment-copy">My bad..that's in <code>random.py</code> file not yours</span>
<span class="comment-copy">It looks like you asked the same question yesterday: <a href="http://stackoverflow.com/questions/34581664/importing-random-words-from-a-file-without-duplicates-python" title="importing random words from a file without duplicates python">stackoverflow.com/questions/34581664/â€¦</a></span>
<span class="comment-copy">Ah, I forgot to explain that. <code>random.sample</code> raises an exception if the population (in this case, the words in the file) isn't big enough to select the specified number of unique elements. If you use <code>try...except</code>, you don't need to check it yourself--just run <code>random.sample</code> and show the error message if it doesn't work.</span>
<span class="comment-copy">ahhh would love to use that too... but my program must also check if there are just 10 words and worked as a 3 way if statement... if that makes sense (if elif elif)... if I use try and except. I'm guessing I wont be able to have a 3rd outcome. (p.s. it worked so thank you so much.... mad love man!)</span>
<span class="comment-copy">@ArlidioDobra What are the three conditions? If the other one is only run if the sample succeeds, just put it after that line in the <code>try</code> block. If its only run if it fails, put it in the <code>except</code> block. If you want to run it either way, just put it after the whole thing.</span>
<span class="comment-copy">yeha your right actually... thanks man!</span>
<span class="comment-copy">But if I convert it to a list... does that mean I can draw the same word more then once from the file... because I don't want that. the only reason I'm using sets is so that I don't take in the same word twice from a text file, as sets don't accept 2 identical values.</span>
<span class="comment-copy">No, because you're creating a new list based on the set, but leaving the set intact.</span>
<span class="comment-copy">Really? My eyes are wide open right now... would it be random?</span>
