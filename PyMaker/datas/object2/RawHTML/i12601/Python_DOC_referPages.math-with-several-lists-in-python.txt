<div class="post-text" itemprop="text">
<p>Im trying to obtain all possible combinations of three different lists in python</p>
<p>say I have three lists</p>
<pre><code>A = [2,3,4,7,9]
B = [2,3,5]
C = [1,2]
</code></pre>
<p>I want to return all combinations for which is true A[i]+B[j]-C[k] == 3</p>
<pre><code>D = [[i,j,k] for i in A for j in B for k in C]
</code></pre>
<p>which gives me all combinations in a list format, but how to go on from here?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a list comprehension with <a href="https://docs.python.org/3/library/itertools.html#itertools.product" rel="nofollow"><code>itertools.product</code></a> to check each of the combinations to see if it matches your criteria.</p>
<pre><code>&gt;&gt;&gt; from itertools import product
&gt;&gt;&gt; [(a,b,c) for a,b,c in product(A,B,C) if a + b - c == 3]
[(2, 2, 1), (2, 3, 2), (3, 2, 2)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just add <code>if i+j-k == 3</code>. You don't want <code>A[i]</code>, etc., as that indexes each <code>list</code>, while <code>i</code>, <code>j</code>, and <code>k</code> are already the elements themselves.</p>
<pre><code>D = [[i,j,k] for i in A for j in B for k in C if i+j-k == 3]
</code></pre>
<p>You should also look into <code>itertools.product</code> to avoid nesting like this:</p>
<pre><code>import itertools
D = [[i,j,k] for i,j,k in itertools.product(A, B, C) if i+j-k == 3]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Just add the condition at the end:</p>
<pre><code>&gt;&gt;&gt; D = [[i,j,k] for i in A for j in B for k in C if i + j - k == 3]
&gt;&gt;&gt; D
[[2, 2, 1], [2, 3, 2], [3, 2, 2]]
</code></pre>
</div>
<span class="comment-copy">Though I'm not sure if it's OP requirement, but may be you should change <code>(a,b,c)</code> to <code>[a,b,c]</code> ?</span>
<span class="comment-copy">Yes, I see now. I'll be getting new glasses in a week or two, sorry.</span>
<span class="comment-copy">If Performance matters...which one to consider?</span>
<span class="comment-copy">I have no idea which one runs faster, but the one with <code>itertools</code> is easier to write for n lists, especially if you put them all into a container, at which point you can just do <code>itertools.product(*container)</code>.</span>
