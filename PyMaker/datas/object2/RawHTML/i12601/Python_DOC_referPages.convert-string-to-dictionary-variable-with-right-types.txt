<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/7100125/storing-python-dictionaries">Storing Python dictionaries</a>
<span class="question-originals-answer-count">
                    8 answers
                </span>
</li>
</ul>
</div>
<p>I am creating a application where I have a Dictionary (which is produced from a specific cryptography algorithm) variable and save it to a text file. I retrieve the variable and convert it to Dictionary again like this:</p>
<pre><code>f = open( '/sk.txt')
t_ref = f.read()
requested_encrypted_file = ast.literal_eval(t_ref)
print type(requested_encrypted_file)
f.close()
</code></pre>
<p>The Dictionary variable which contain the vital infos for the ciphertext has this form:</p>
<pre><code>{'msg': '{"ALG": 0, "CipherText": "xcUHHV3ifPJKFqB8aL9fzQ==", "MODE": 2, "IV": "2Y2xDI+a7JRt7Zu6Vtq86g=="}', 'alg': 'HMAC_SHA1', 'digest': '4920934247257f548f3ca295455f5109c2bea437'}
</code></pre>
<p>The problem is that when I retrieve this variable from file all the fields are str and not the type they where before save it to a txt file? Is there a simple way to retrieve them with the correct types?</p>
<p>Any advice would be helpful and deeply appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you only have to deal with basic data types, save and load your data JSON-serialized.</p>
<pre><code>import json

a = {'foo': 'bar', 'baz': 42, 'biz': True}

# Save
with open('test.txt', 'w') as outf:
    json.dump(a, outf)

# Read
with open('test.txt', 'r') as inf:
    b = json.load(inf)
</code></pre>
<p><code>b</code> will be </p>
<blockquote>
<p>{'baz': 42, 'biz': True, 'foo': 'bar'}</p>
</blockquote>
</div>
<div class="post-text" itemprop="text">
<p>I would use the <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow"><code>pickle</code></a> module to <code>dump</code> Python data structures as serializable data and then <code>load</code>.</p>
<pre><code>pickle.dump(dictionary, open('data.p', 'w')) # write file with dictionary structure
savedData = pickle.load(open('data.p', 'r')) # reads the written file as dictionary
</code></pre>
</div>
<span class="comment-copy">How do you save the dictionary to the file?</span>
<span class="comment-copy">Like this:  f = open('/sk.txt', 'w' ) 	        f.write(str(ciphertext)) 	        f.close()</span>
<span class="comment-copy">If <code>ciphertext</code> contains the value you've shown, all the keys and values <i>are</i> strings.  Do you want the value type of key <code>msg</code> to be <code>dict</code>?  If so, the problem is generating the value being written to the file.  Your code works as is if you remove the single quotes around msg's value.</span>
