<div class="post-text" itemprop="text">
<p>I want to get the sum of numbers from a <a href="http://python-data.dr-chuck.net/comments_213060.html" rel="nofollow">website</a>. I do this:</p>
<pre><code>lst = list()
url = raw_input('Enter - ')
html = urllib.urlopen(url).read()
soup = BeautifulSoup(html)
tags = soup('span')
for tag in tags:
    lst.append(map(int,tag.contents))
print lst
</code></pre>
<p>But if I am not mistaken, I now have a sublist for every number. Thus, <code>sum(lst)</code> doesn't work. How can I either merge the sublists or put the numbers in a single list to start with? Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use the following:</p>
<pre><code>import urllib
from bs4 import BeautifulSoup

url = 'http://python-data.dr-chuck.net/comments_213060.html'
html = urllib.urlopen(url).read()
soup = BeautifulSoup(html)
tags = soup('span')
lst = [int(tag.text) for tag in tags]
print(sum(lst))
</code></pre>
<p><strong>Output</strong></p>
<pre><code>2838
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can just use the <a href="https://docs.python.org/2/library/functions.html#sum" rel="nofollow">built-in <code>sum()</code> function</a>:</p>
<pre><code>comments = soup('span', class_="comments")
sum_coments = sum(int(comment.get_text(strip=True)) for comment in comments)
print(sum_coments)  # prints 2838
</code></pre>
<p>Note that <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/#get-text" rel="nofollow"><code>.get_text()</code></a> is used here which returns a "text" of an element as opposed to <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/#contents-and-children" rel="nofollow"><code>.contents</code></a> which is a list of texts of element's children.</p>
<p>Note that I've also improved the locator and also check <code>span</code>s to have <code>comments</code> class.</p>
</div>
<span class="comment-copy">So what do you get when you print <code>lst</code>?</span>
<span class="comment-copy">Have you tried <a href="https://docs.python.org/3/library/stdtypes.html#mutable-sequence-types" rel="nofollow noreferrer"><code>list.extend()</code></a>?</span>
<span class="comment-copy">Yes lst, sorry for the confusion. Or more exactly, sum(lst)</span>
<span class="comment-copy">And for sum(lst) I got: TypeError: unsupported operand type(s) for +: 'int' and 'list'</span>
<span class="comment-copy">Thanks, this is great! Could you tell me why the <code>[0]</code> is needed?</span>
<span class="comment-copy">On second thoughts, it is actually better to use <code>tag.text</code> instead of <code>tag.contents[0]</code>. See updated answer above.</span>
