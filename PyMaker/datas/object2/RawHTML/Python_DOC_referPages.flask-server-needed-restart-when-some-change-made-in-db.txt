<div class="post-text" itemprop="text">
<p>I am using Flask to create a web service.When i make some changes to DB i need to restart the flask server.</p>
<pre><code>db = pymysql.connect("localhost","root","","posdata")
db1 = pymysql.connect("localhost","root","","posdata")
</code></pre>
<p>Also i have to create two DB connection for some function to work.If i use only one connection(says db as above) i get </p>
<pre><code>`InterfaceError (0, '')`
</code></pre>
<p>so to deal with InterfaceError i created two db connection.But now the problem is that when i make some changes to DB the db works fine but db1 is not working,i needed to restart flask server to make db1 connection work.</p>
<pre><code>@app.route('/data_url/&lt;customer_name&gt;')
def data(customer_name):
    cursor = db.cursor()
    cursor.execute(" select country_name from countries as c, customers as cu where c.c_id = cu.c_id and cu.customer_id = '%s' " % customer_name)
    data =  cursor.fetchall()
    data = [x[0] for x in data]
    return jsonify(data)


**# query to select TYPE attribute from DB and send it to ajax**

@app.route('/url_for/&lt;customer_name&gt;')
def dt(customer_name):
    cursor = db1.cursor()
    cursor.execute(" select type from customers where customer_id = '%s' " % customer_name)
    data =  cursor.fetchall()
    data = [x[0] for x in data]
    return jsonify(data)
</code></pre>
<p>here to make <strong>@app.route('/url_for/')</strong> to work i need to restart flask server.</p>
<p>Error Trace Back when using single DB connection</p>
<pre><code>Traceback (most recent call last):
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 2309, in __call__
    return self.wsgi_app(environ, start_response)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 2295, in wsgi_app
    response = self.handle_exception(e)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 1741, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\_compat.py", line 35, in reraise
    raise value
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 2292, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 1815, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 1718, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\_compat.py", line 35, in reraise
    raise value
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 1813, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\flask\app.py", line 1799, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "C:\Users\OneDrive -\Desktop\Project\TestApp\app.py", line 34, in Request
    cursor.execute('select customer_id from customers')
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\pymysql\connections.py", line 516, in query
    self._execute_command(COMMAND.COM_QUERY, sql)
  File "C:\Users\AppData\Local\Programs\Python\Python36\lib\site-packages\pymysql\connections.py", line 750, in _execute_command
    raise err.InterfaceError("(0, '')")
pymysql.err.InterfaceError: (0, '')
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Yes. You need to restart your flask server every time you make a change in any of the source files. </p>
</div>
<div class="post-text" itemprop="text">
<p>You have changed your previous code but it does not reflect to your currently running <strong>Flask Server</strong>. So the answer is <code>yes</code>, In order to reflect your new modifications to server you need to restart Flask Server</p>
</div>
<span class="comment-copy">That's a nice big goal for SQL Injection. Don't use string formatting for queries</span>
<span class="comment-copy">I also don't understand what difference having two connections makes. This doesn't sound like a practical approach to solving a  issue</span>
<span class="comment-copy">@roganjosh.. yes,i know having two connections is not a practical approach to solving a issue but i have to used that because if  i use only one connection i am getting InterfaceError. The things is that in my front end i have dropdown list of customer and based on the selected customer i auto populate to fields in the HTML page(above code is for auto populating the two fields) so when is use one connection for both the @app.route() and select some name from dropdown list multiple times(like selecting one after another in some few seconds) i get InterFaceerror.</span>
<span class="comment-copy">ok..then how i can restart the server like say every x minutes ?</span>
<span class="comment-copy">Are you using the Flask development server or some other service on top of the WSGI protocol?</span>
<span class="comment-copy">No.. i am not using any other service on top of the WSGI protocol</span>
<span class="comment-copy">i am not changing the code in Flask app.py. I am adding data to Database. the Newly added data is not reflecting in the front end if i am using two connection for DB and when i use single connection i get InterFaceError</span>
<span class="comment-copy">to get the newly added data in front end i need to restart the flask server</span>
<span class="comment-copy">Could you please update error tracebacks?</span>
<span class="comment-copy">check the Question description i have updated the error trackbacks</span>
<span class="comment-copy">Does error not fixed after restarting the server?</span>
