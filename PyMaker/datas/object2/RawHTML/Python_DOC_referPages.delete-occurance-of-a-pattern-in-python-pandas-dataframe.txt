<div class="post-text" itemprop="text">
<p>I have a python dataframe where a column has elements starting with pjp- and ends at |,for example pjp-XYA|, i want to delete everything from pjp- till the first occurence of "|" in the pandas dataframe. I tried doing this, but i got an error saying it works only for strings.</p>
<pre><code>f = pd.read_csv("test.csv",delimiter=",")
df = pd.DataFrame(f)
if df.str.startswith('pjp-'):
        df = df.replace(["pjp-*|"],[""])
print(df)
</code></pre>
<p>head(df)</p>
<pre><code>Quantity        code    boxes

34      pjp-custom|3cex 10

20      pjp-cusm|4cex 8

12      pjp-ctom|5cex 6

40      pjp-custom|6cex 14
</code></pre>
<p>desired output</p>
<pre><code>Quantity        code    boxes

34      3cex 10

20      4cex 8

12      5cex 6

40      6cex 14
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This does exactly what you want it to do in 1 line of code:</p>
<pre><code>#Theres actually 4 things going on in this 1 line of code
df['Code_Boxes'] = (((df['Code_Boxes'].str.rsplit('pjp-')).str[1]).str.rsplit('|')).str[1]
</code></pre>
<p>This will only work if what you say is true 'pjp-' is always at the front and '|' is at the end of what you want to split. Just so you can learn what I did see the 4 steps below. </p>
<pre><code>#these 4 things can actually be done in one line, but its easy to see what we're doing this way.
df['Code_Boxes'] = df['Code_Boxes'].str.rsplit('pjp-')
df['Code_Boxes'] = df['Code_Boxes'].str[1]
df['Code_Boxes'] = df['Code_Boxes'].str.rsplit('|')
df['Code_Boxes'] = df['Code_Boxes'].str[1]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think you should actually just do:</p>
<pre><code>df[column] = df[column].str.replace("pjp-*|","")
</code></pre>
<p>Hope it helps, we need more information overhere</p>
</div>
<span class="comment-copy">Please provide sample data. You can do <code>df.head()</code> and post it here.</span>
<span class="comment-copy">Yess I added it. Thank you</span>
<span class="comment-copy">Please edit property. Use ``` before pasting the data</span>
<span class="comment-copy">made the changes, thank you I am new to stackoverflow</span>
<span class="comment-copy">the pjp-custom part is not always the same, only the pjp- is constant. Iedited my example to reflect this</span>
<span class="comment-copy">I got the exact answer you need, please look into string split. At this point its just understanding how you want to use it</span>
<span class="comment-copy">Is column here the name of the column</span>
<span class="comment-copy">yes, in order to apply this you need to specify the column name...</span>
<span class="comment-copy">I tried your command it only deleted the pjp- part, I added head of my table for reference</span>
<span class="comment-copy">Obviously you have to set the proper regex, I only wrote the one you included at the example.</span>
<span class="comment-copy">Yes I will work on regex, my question is to delete pjp-custom| not just pjp-</span>
