<div class="post-text" itemprop="text">
<p>I'm looking to use a local webserver to run a series of python scripts for the user. For various unavoidable reasons, the python script must run locally, not on a server. As a result, I'll be using HTML+browser as the UI, which I'm comfortable with, for the front end.</p>
<p>I've been looking, therefore, for a lightweight web server that can execute python scripts, sitting in the background on a machine, ideally as a Windows service. Security and extensibility are not high priorities as it's all running internally on a small network. </p>
<p>Should I run a native python webserver as a Windows service (in which case, how)? Or is it just as easy to install Apache onto the user's machine and run as CGI? Since this is all local, performance is not an issue either.</p>
<p>Or am I missing something obvious?</p>
</div>
<div class="post-text" itemprop="text">
<p>Don't waste a lot of time creating Windows service.</p>
<p>Don't waste a lot of time on Windows Apache.</p>
<p>Just make a Python service that responds to HTTP requests.  </p>
<p>Look at <a href="https://docs.python.org/2/library/basehttpserver.html" rel="nofollow noreferrer">https://docs.python.org/2/library/basehttpserver.html</a><br/>
<a href="https://docs.python.org/3/library/http.server.html" rel="nofollow noreferrer">https://docs.python.org/3/library/http.server.html</a> for version 3<br/>
Python offers an HTTP server that you can extend with your server-side methods.</p>
<p>Look at <a href="http://docs.python.org/library/wsgiref.html" rel="nofollow noreferrer">http://docs.python.org/library/wsgiref.html</a><br/>
Python offers a WSGI reference implementation that makes your server easy and standards-compliant.</p>
<p>Also <a href="http://fragments.turtlemeat.com/pythonwebserver.php" rel="nofollow noreferrer">http://fragments.turtlemeat.com/pythonwebserver.php</a></p>
<hr/>
<p>"I'm trying to <em>avoid</em> making the user run python stuff from the command prompt."</p>
<p>I don't see how clicking a web page is any different from clicking desktop icons.</p>
<p>Starting a web server based on Python is relatively easy, once you have the web server.  First, build the server.  Later, you can make sure the server starts.  Let's look at some ways.</p>
<ol>
<li><p>Your user can't use a random browser to open your local page.  They need a bookmark to  launch "localhost:8000/myspecialserverinsteadofthedestop/"  That bookmark can be a .BAT file that (1) runs the server, (2) runs firefox with the proper initial URL.</p></li>
<li><p>You can put the server in the user's start-this menu.</p></li>
<li><p>You can make your Python program a windows "service".</p></li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>Best way is to make your own local server by using command prompt.</p>
<ol>
<li>Make a new folder say Project</li>
<li>Make a new folder inside project &amp; name it as "cgi-bin"(without quotes)</li>
<li>Paste your .py file inside the cgi-bin folder</li>
<li>Open cmd and change to the directory from which you want to run the server and type "python -m CGIHTTPServer"(without quotes)</li>
<li>Minimize the cmd window &amp; open your browser and type "localhost:8000/cgi-bin/yourpythonfilename.py"(without quotes).</li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>Running a native python webserver as a windows service should be a no brainer. Check out the documentation for writing windows services (win32api, ActiveState python) in python and also the documentation for subclassing BaseHttpServer and SimpleHttpServer.</p>
<p>BTW: I had a similar question on stackoverflow: <a href="https://stackoverflow.com/questions/268629/how-to-stop-basehttpserver-serveforever-in-a-basehttprequesthandler-subclass">How to stop BaseHTTPServer.serve_forever() in a BaseHTTPRequestHandler subclass?</a></p>
<p>Basically, you subclass BaseHTTPServer (you have to anyway...) and then... but just read the accepted answer - it set me on the right track!</p>
</div>
<span class="comment-copy">So I need to get the users to start up the server each time they want to use the framework? I'm trying to <i>avoid</i> making the user run python stuff from the command prompt. The turtlemeat link would need to be run manually unless it was a service.</span>
<span class="comment-copy">+1 for wsgiref, excellent way to test your Python Web scripts locally on your machine.</span>
<span class="comment-copy">I have been through all the docs I can see on running a BaseHTTPServer as a service, but I couldn't see how to make it interruptable (so it would stop and start properly). IIS would mean a lot more learning and I was hoping to go with <i>simple</i>...</span>
