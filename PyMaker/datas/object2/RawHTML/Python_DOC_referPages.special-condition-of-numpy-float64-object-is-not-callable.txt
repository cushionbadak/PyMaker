<div class="post-text" itemprop="text">
<p>i am trying to calculate the MSE in order to gain the output of PSNR</p>
<pre><code>def mse(imageA, imageB):
  err = np.sum((imageA.astype("float") - imageB.astype("float")) ** 2)
  err /= float(imageA.shape[0] * imageA.shape[1])
  return err

if __name__ == '__main__':

  for i in range(1,7):
      result=cv2.imread('./ct-result/tr' + str(i) + '.bmp')
      recover = cv2.imread('./rs' + str(i) + '.bmp')
      mse=mse(result,recover)
      psnr=10*math.log10((255**2)/mse)
      print(psnr)
</code></pre>
<p>I encounter a weird situation while i use for loop to calculate 1~6 pictures
it appears 'numpy.float64' object is not callable on 2~6 pictures 
<a href="https://i.stack.imgur.com/iVqYu.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/iVqYu.png"/></a></p>
<p>However when I change str(i) into number such as 2,3... it works
i have no idea what is going on
please help me</p>
<p>you can see form the pictures above that console show the first output of the loop while the following are encounter 'numpy.float64' object is not callable</p>
<p>However i simply change str(i) into 2,3 and so on it works??
<a href="https://i.stack.imgur.com/ysHPQ.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/ysHPQ.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>You define a function named <code>mse()</code>, but later on you call this line of code:</p>
<pre><code>mse=mse(result,recover)
</code></pre>
<p>In doing so, you have redefined <code>mse</code> to be something else, and it isn't a function anymore.</p>
<p>Use a different name for storing the result of calling <code>mse()</code>.</p>
<pre><code>mse_output = mse(result,recover)
psnr=10*math.log10((255**2)/mse_output)
</code></pre>
</div>
<span class="comment-copy">OMG how stupid did i , thank you so much</span>
<span class="comment-copy">Glad I could help.  Please accept my answer by clicking the checkmark :-)</span>
<span class="comment-copy">thank you so much</span>
