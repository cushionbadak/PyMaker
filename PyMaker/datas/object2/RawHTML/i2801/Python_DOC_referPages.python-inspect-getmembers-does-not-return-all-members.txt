<div class="post-text" itemprop="text">
<p>Is this a bug in inspect.getmembers, or is this the expected behavior?</p>
<pre><code>torch.bmm in inspect.getmembers(torch)
False
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>This isn't a bug; this is <a href="https://docs.python.org/3/library/inspect.html#inspect.getmembers" rel="nofollow noreferrer"><code>inspect.getmembers</code></a> doing exactly what it's documented to do:</p>
<blockquote>
<p>Return all the members of an object in a list of (name, value) pairs sorted by name…</p>
</blockquote>
<p>So, <code>('bmm', torch.bmm)</code> might be in such a list, but <code>torch.bmm</code> won't.</p>
<hr/>
<p>If you want to know if <code>torch.bmm</code> is a member of <code>torch</code>… well, you already <em>know</em> that it is, or <code>torch.bmm</code> would have raised an <code>AttributeError</code>. But you can search the second (value) part of each pair:</p>
<pre><code>any(member == torch.bmm for name, member in inspect.getmembers(torch))
</code></pre>
<p>… or you can turn the list into a dict and search it:</p>
<pre><code>torch.bmm in dict(inspect.getmembers(torch)).values()
</code></pre>
<hr/>
<p>But, again, the fact that <code>torch.bmm</code> didn't raise an exception is already enough to tell you that it exists. If you want to handle the possibility that it doesn't, any checking you do after getting that exception is too late; you just want to handle the exception:</p>
<pre><code>try:
    torch.bmm
except AttributeError:
    # whatever you wanted to do if it doesn't exist
else:
    # whatever you wanted to do with torch.bmm 
</code></pre>
</div>
<span class="comment-copy">Print out what <code>inspect.getmembers</code> returns, or look at the docs, and it should be clear why this is false.</span>
<span class="comment-copy">&gt;&gt;&gt; torch.bmm in dict(inspect.getmembers(torch)).values() True  It looked like it was missing when I reviewed the list.</span>
