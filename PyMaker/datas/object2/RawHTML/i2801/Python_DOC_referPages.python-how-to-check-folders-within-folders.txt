<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/7833715/python-deleting-certain-file-extensions">Python Deleting Certain File Extensions</a>
<span class="question-originals-answer-count">
                    2 answers
                </span>
</li>
</ul>
</div>
<p>First off, let me apologize if the title is unclear.</p>
<p>To simplify a task I do at work, I've started writing this script to automate the removal of files from a certain path. </p>
<p>My issue is that in its current state, this script does not check the contents of the folders <em>within</em> the folder provided by the path. </p>
<p>I'm not sure how to fix this, because from what I can tell, it <em>should</em> be checking those files?</p>
<pre><code>import os


def depdelete(path):
    for f in os.listdir(path):
        if f.endswith('.exe'):
            os.remove(os.path.join(path, f))
            print('Dep Files have been deleted.')
        else:
            print('No Dep Files Present.')


def DepInput():
    print('Hello, Welcome to DepDelete!')
    print('What is the path?')
    path = input()
    depdelete(path)


DepInput()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Try using <code>os.walk</code> to traverse the directory tree, like this:</p>
<pre><code>def depdelete(path):
    for root, _, file_list in os.walk(path):
        print("In directory {}".format(root))
        for file_name in file_list:
            if file_name.endswith(".exe"):
                os.remove(os.path.join(root, file_name))
                print("Deleted {}".format(os.path.join(root, file_name)))
</code></pre>
<p>Here are the docs (there are some usage examples towards the bottom): <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer">https://docs.python.org/3/library/os.html#os.walk</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Currently, your code just loops over all files and folders in the provided folder and checks each one for its name. In order to also check the contents of folders within path, you have to make your code recursive.</p>
<p>You can use os.walk to go through the directory tree in path and then check its contents.</p>
<p>You'll find a more detailed answer with code examples at <a href="https://stackoverflow.com/questions/18394147/recursive-sub-folder-search-and-return-files-in-a-list-python">Recursive sub folder search and return files in a list python</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>Take a look at <a href="https://docs.python.org/2/library/os.html" rel="nofollow noreferrer">os.walk()</a></p>
<p>This function will iterate through sub-directories for you. The loop will look like this.</p>
<pre><code>for subdir, dirs, files in os.walk(path):
    for f in files:   
      if f.endswith('.exe'):
          fullFile = os.path.join(subdir, f)
          os.remove(fullFile)
          print (fullFile + " was deleted")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're looking for <code>os.walk()</code>. In your case, it could work like so:</p>
<pre><code>import os

def dep_delete(path):
    for path, dirs, files in os.walk(path):
       for f in files: 
           if f.endswith('.exe'):
               os.remove(os.path.join(path, f))
    print('Dep files have been deleted.')

def dep_input():
    print('Hello, Welcome to dep_delete!')
    print('What is the path?')
    path = input()
    dep_delete(path)


dep_input()
</code></pre>
<p>Also see: <a href="https://stackoverflow.com/q/9727673/4805479">List directory tree structure in python?</a></p>
</div>
<span class="comment-copy">You may need to perform a check if an entry listed is a <b>folder</b> as well; if so, repeat the same steps. This requires recursion</span>
<span class="comment-copy">use os.walk(path)</span>
<span class="comment-copy">better use <code>fnmatch.fnmatch(file_name,"*.exe")</code> so it handles lowercase/uppercase .EXE/.exe extensions</span>
