<div class="post-text" itemprop="text">
<p>I need to write my program output to a log file whose name should change every 15 minutes and 
currently I am doing this way.</p>
<pre><code>import time
from datetime import datetime

FullLog = datetime.today().strftime("Prog1TempLog1_%d_%m_%Y") + ".txt"

today0915 = datetime.now().replace(hour=9, minute=15, second=0,microsecond=0)
today0930 = datetime.now().replace(hour=9, minute=30, second=0,microsecond=0)
today0945 = datetime.now().replace(hour=9, minute=45, second=0,microsecond=0)
today1000 = datetime.now().replace(hour=10, minute=0, second=0,microsecond=0)
today1015 = datetime.now().replace(hour=10, minute=15, second=0,microsecond=0)

while &lt;my condition&gt;:

    if datetime.now() &gt; today0915 and datetime.now() &lt;= today0930:
        FullLog = datetime.today().strftime("Prog1Log1_%d_%m_%Y") + ".txt"
    if datetime.now() &gt; today0930 and datetime.now() &lt;= today0945:
        FullLog = datetime.today().strftime("Prog1Log2_%d_%m_%Y") + ".txt"
    if datetime.now() &gt; today0945 and datetime.now() &lt;= today1000:
        FullLog = datetime.today().strftime("Prog1Log3_%d_%m_%Y") + ".txt"
    if datetime.now() &gt; today0945 and datetime.now() &lt;= today1000:
        FullLog = datetime.today().strftime("Prog1Log4_%d_%m_%Y") + ".txt"
    if datetime.now() &gt; today1000 and datetime.now() &lt;= today1015:
        FullLog = datetime.today().strftime("Prog1Log5_%d_%m_%Y") + ".txt"

    print("Time", datetime.now(), "FileName:", FullLog)

    time.sleep(1)
</code></pre>
<p>Is there any dynamic way to do this procedure.</p>
</div>
<div class="post-text" itemprop="text">
<p>During while loop, get the current time. Then figure out how many minutes does it have. For ex., 10:20 has 20 minutes. Now divide it by 15 and add 1 to get the file name.</p>
<pre><code>now = datetime.today().minute
log_seq = num//15 + 1 #just check edge cases around 60 and 00 .. // for python3
FullLog = datetime.today().strftime("Prog1Log"+log_seq+"_%d_%m_%Y") + ".txt"
</code></pre>
</div>
<span class="comment-copy">Maybe you should use the <code>logging</code> package and the <a href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.TimedRotatingFileHandler" rel="nofollow noreferrer">right handler</a>.</span>
<span class="comment-copy">Note that the question is about Python 3, so <code>num/15</code> will produce a float.</span>
<span class="comment-copy">Thanks a lot. I did notice the python3 thing but didn't expect that basic functions such as numerical operators have been modified in p3.</span>
<span class="comment-copy">But how to handle edge cases around 60 and 00 ?. Continuous numbering of log file name will also work for me.</span>
<span class="comment-copy">That is something you need to figure out. Do you want 00 to be logfile 4 or 1. Things like that can be checked via if/else</span>
<span class="comment-copy">I want the Log Seq number to continue like logfile4.</span>
