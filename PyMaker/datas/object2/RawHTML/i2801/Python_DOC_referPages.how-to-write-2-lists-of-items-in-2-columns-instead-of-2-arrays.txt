<div class="post-text" itemprop="text">
<p>I ran my code and got 2 lists like this:</p>
<p><a href="https://i.stack.imgur.com/We5VZ.jpg" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/We5VZ.jpg"/></a></p>
<p>and what I need to do is put them in a .csv file.
but I got an output that looks ugly like this:</p>
<p><a href="https://i.stack.imgur.com/4utNo.jpg" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/4utNo.jpg"/></a></p>
<p>The correct one should be like this:
<a href="https://i.stack.imgur.com/Y6vyu.jpg" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/Y6vyu.jpg"/></a></p>
<p>So what should I do to solve that problem?</p>
<p>code:</p>
<pre><code>from urllib.request import urlopen
import urllib
import re
import csv

def main():
    html = urlopen("https://www.realestate.com.au/rent/with-1-bedroom-in-perth+-+greater+region%2c+wa/list-1?maxBeds=1&amp;source=location-search").read().decode('utf-8')
    csvfile=open('price.csv','w',newline='')
    #### check
    ##print(price(html))
    ##print(postcode(html))
    #### end check
    writer=csv.writer(csvfile)
    writer.writerow(['Postcode','Price'])
    data=[price(html),postcode(html)]
    writer.writerows(data)
    csvfile.close()

def price(page):
    priceTextReg=re.compile(r"priceText\"&gt;(.+?)&lt;")
    priceText = re.findall(priceTextReg,page)
    p1=[]
    for i in range(20):  ## we just need the first 20 items
        priceReg=re.compile(r"\d+")
        price=re.findall(priceReg,priceText[i])
        p1.append(price[0])  
    return p1

def postcode(page):
    postcodeTextReg=re.compile(r"alt=.+?, WA (.+?)' title=")
    postcodeText=re.findall(postcodeTextReg,page)
    p2=[]
    for i in range(20):
        postcode=postcodeText[i]
        p2.append(postcode)
    return p2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>zip</code>. Change:</p>
<pre><code>data=[price(html),postcode(html)]
</code></pre>
<p>to:</p>
<pre><code>data=zip(price(html),postcode(html))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Replace the line:</p>
<pre><code>data=[price(html),postcode(html)]
</code></pre>
<p>With it:</p>
<pre><code>data = zip(price(html), postcode(html))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>can you use a dictionary? <a href="https://docs.python.org/3/tutorial/datastructures.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/datastructures.html</a>
set the key as the postCode and the value as the price</p>
</div>
<div class="post-text" itemprop="text">
<p>Let me introduce you here to <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html" rel="nofollow noreferrer">to_csv</a> from <a href="https://pandas.pydata.org/pandas-docs/stable/index.html" rel="nofollow noreferrer">pandas</a>. Assign your lists to the dataframe like this and save it to a csv finally!</p>
<pre><code>import pandas as pd

finalDf = pd.DataFrame(
    {'postcode': p2,
     'price': p1
})

finalDf.to_csv('your_file.csv')
</code></pre>
</div>
<span class="comment-copy">Thanks!!!!!!!!!</span>
