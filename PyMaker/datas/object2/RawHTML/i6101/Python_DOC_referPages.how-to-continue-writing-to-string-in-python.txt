<div class="post-text" itemprop="text">
<p>In python I have written something like this;</p>
<pre><code>script = """
    import network
    from machine import Pin, PWM
    from time import sleep
"""
</code></pre>
<p>And I want to write something after it but without deleting the old ones. How do I do?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can append a string to a string like following</p>
<pre><code>&gt;&gt;&gt; script = """
...     import network
...     from machine import Pin, PWM
...     from time import sleep
... """
&gt;&gt;&gt; script += "\nimport os"
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could put the script into a <a href="https://docs.python.org/3/library/string.html#template-strings" rel="nofollow noreferrer">template</a> and then fill in the values. This might be easier to manage than concatenating strings if your generated script is even moderately complex.</p>
<pre><code># script.template
import network
from machine import Pin, PWM
from time import sleep

${xyz}

# script-generator.py
from string import Template

with open('script.template') as f:
    template = Template(f.read()

contents = template.substitute(xyz='xyz')

with open('main.py', 'w') as f:
    f.write(contents)
</code></pre>
<p>Or you could use <code>str.format()</code> like this if a separate template file seems like overkill:</p>
<pre><code>script = """\
import network
from machine import Pin, PWM
from time import sleep

{xyz}
"""

data = {'xyz': 'xyz'}

with open('main.py', 'w') as f:
    f.write(script.format(**data))
</code></pre>
</div>
<span class="comment-copy">Other than concatenating?</span>
<span class="comment-copy">Generally speaking, you can use the concatenation operator (<code>+=</code>) on any string: <code>script += '\nprint("Hello")'</code>. However, putting Python code into a string is a bit strange... What are you trying to do?</span>
<span class="comment-copy">@DavidCain haha you are right. I am working on micropython( esp8266 board ). when you power on board. you have to write same codes every time but if you create 'main.py' and write codes on in it will work on every boot. That's why I am writing it on a string, I will add things then will create main.py</span>
<span class="comment-copy">thanks by the way. I don't know why i did not think of that way</span>
<span class="comment-copy">@KenanKazim You might want to add that info about what you're trying to do to the question. That would make it easier for people to advise you on potential solutions.</span>
<span class="comment-copy">@KenanKazim Keep in mind string concatenation is expensive - do it sparingly. If you are going to concatenate in a loop, don't use <code>+=</code>, use <code>str.join</code> instead.</span>
<span class="comment-copy">What's wrong with this answer? The actual question isn't about string concatenation; it's about generating a script, presumably with some dynamic elements.</span>
<span class="comment-copy">that's great way but the first one won't work because there is not much library in micropython board, second method is good enough though. thanks</span>
