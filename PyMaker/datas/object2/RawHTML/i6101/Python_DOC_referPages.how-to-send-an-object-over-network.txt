<div class="post-text" itemprop="text">
<p>I need to send an object from a client to a server, but sockets only let you send bytes.  How do I convert a custom object to bytes in Python 3.5 so I can send it via the socket?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can serialize the object using <code>pickle</code>, which will convert it to <code>bytes</code> and allow you to send it.  You can read up on how to use <code>pickle</code> <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">here</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Depends on what you are trying to send over the webs, if it is just some basic <code>dict</code> or <code>list</code> of basic types you could serialize it to <code>json</code>. See <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer">here</a>.</p>
<p>If you really want to serialize entire python class then use already mentioned <code>pickle</code>, although it can be dangerous, see <a href="https://www.kevinlondon.com/2015/08/15/dangerous-python-functions-pt2.html" rel="nofollow noreferrer">here</a>.</p>
<p>And remember to <strong>NOT</strong> execute anything deserialized which came from the internet.</p>
</div>
<div class="post-text" itemprop="text">
<p>You'll need to serialize your object, which can be done with the <a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">pickle</a> library.</p>
</div>
<span class="comment-copy">With <b><code>pickle</code></b>.</span>
<span class="comment-copy">When I try to do that I get TypeError: can't pickle CompiledFFI objects</span>
<span class="comment-copy">Not all objects can be pickled, like compiled objects (like it sounds like you've got).  What type of object are you trying to send?  Does the whole object need to be sent, or can you send data about its state only (which isn't precompiled) and send that instead?</span>
<span class="comment-copy">@jhpratt You shouldn't take it as an offense. Maybe they didn't see your answer.</span>
