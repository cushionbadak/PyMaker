<div class="post-text" itemprop="text">
<p>I am writing a json file from information extracted from a url. How do I print each element of the dictionary on a separate line?</p>
<p>This is my current code:</p>
<pre><code>dct=[{"name": name,
        "cuisine": cuisine,
        "price-range": price,
        "address": address,
        "rating": rating,
        "reviews": score,
        "district": district,
        "url": link
        }]

    with open('openrice_data.json', 'a') as file:
        file.write(json.dumps(dct))
</code></pre>
<p>For example, it currently prints like this:</p>
<pre><code>[{"cuisine": ["Japanese", "Hot Pot", "Buffet"], "rating": [3.5], "address": [22.3825, 114.1901], "url": ["https://www.openrice.com/en/hongkong/r-wagyu-more-sha-tin-japanese-hot-pot-r172321"], "reviews": [35, 17, 8], "name": "Wagyu More", "price-range": ["$101-200"], "district": ["Sha Tin"]}]
</code></pre>
<p>I would like it to print like this:</p>
<pre><code>[
{"name": "Chan Kun Kee",
"cuisine": ["Guang Dong", "Dai Pai Dong"],
"price-range": "$51-100",
"address": [22.3884, 114.1958], 
"rating": 3.5,
"reviews": [216, 95, 38],
"district": "Shatin",
"url": "www.openrice.com/en/hongkong/r-chan-kun-kee-sha-tin-guangdong-r7918"
}
]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Other people have remarked on using <code>pprint</code>, but I would like to add that <code>pprint</code> prints the representation of the Python values in your dictionary. They are not always the same as their JSON counterparts, for example:</p>
<pre><code>&gt;&gt;&gt; from pprint import pprint
&gt;&gt;&gt; d1 = {"value": None}
&gt;&gt;&gt; pprint(d1)
{'value': None}
</code></pre>
<p>(the correct JSON serialization here is <code>{"value": null}</code></p>
<p>The better option, for these kinds of values, is to use <code>json.dump</code> or <code>json.dumps</code>. You can use the <code>indent</code> parameter to sort of make it print one line per element. Note though that this will also print each list element into their separate lines (so you don't exactly get one line per one JSON key):</p>
<pre><code>&gt;&gt;&gt; d2 = [
... {"name": "Chan Kun Kee",
... "cuisine": ["Guang Dong", "Dai Pai Dong"],
... "price-range": "$51-100",
... "address": [22.3884, 114.1958], 
... "rating": 3.5,
... "reviews": [216, 95, 38],
... "district": "Shatin",
... "url": "www.openrice.com/en/hongkong/r-chan-kun-kee-sha-tin-guangdong-r7918"
... }
... ]
&gt;&gt;&gt; print(json.dumps(d2, indent=2))
[
  {
    "name": "Chan Kun Kee",
    "cuisine": [
      "Guang Dong",
      "Dai Pai Dong"
    ],
    "price-range": "$51-100",
    "address": [
      22.3884,
      114.1958
    ],
    "rating": 3.5,
    "reviews": [
      216,
      95,
      38
    ],
    "district": "Shatin",
    "url": "www.openrice.com/en/hongkong/r-chan-kun-kee-sha-tin-guangdong-r7918"
  }
]
</code></pre>
<p>But you're guaranteed to at least always get the correct JSON. Plus, you can also extend the behavior with your own <a href="https://docs.python.org/3.6/library/json.html" rel="nofollow noreferrer">JSON encoder</a>. This allows you, for example, to serialize Python <code>datetime</code> objects into JSON strings.</p>
</div>
<div class="post-text" itemprop="text">
<p><strong>Update</strong> Actually what you have is a list of dictionaries. When you want to add more elements you need to remove the <code>[]</code> around the dictionary.</p>
<p>To slve your specific problem you want to use indent=0. Also consider using json.dump directly.</p>
<pre><code>import json

l=[]

dct={"name": 'name',
    "cuisine": 'cuisine',
    "price-range": 'price',
    "address": 'address',
    "rating": 'rating',
    "reviews": 'score',
    "district": 'district',
    "url": 'link'
    }

l.append(dct)

with open('openrice_data.json', 'w') as file:
    json.dump(l,file,indent=0)
</code></pre>
<p>Output:</p>
<pre><code>[
{
"name": "name",
"cuisine": "cuisine",
"price-range": "price",
"address": "address",
"rating": "rating",
"reviews": "score",
"district": "district",
"url": "link"
}
]
</code></pre>
<p><strong>Continuing</strong></p>
<p>To add more elements you need to do this:</p>
<pre><code># Load json to list
with open('openrice_data.json') as f:
    l = json.load(f)

# A new dict    
dct2={"name": 'name',
    "cuisine": 'cuisine',
    "price-range": 'price',
    "address": 'address',
    "rating": 'rating',
    "reviews": 'score',
    "district": 'district',
    "url": 'link'
    }

# Append new dict
l.append(dct2)


with open('openrice_data.json', 'w') as file:
    json.dump(l,file,indent=0)
</code></pre>
<p>Output now contains a list with 2 dicts.</p>
<pre><code>[
{
"name": "name",
"cuisine": "cuisine",
"price-range": "price",
"address": "address",
"rating": "rating",
"reviews": "score",
"district": "district",
"url": "link"
},
{
"name": "name",
"cuisine": "cuisine",
"price-range": "price",
"address": "address",
"rating": "rating",
"reviews": "score",
"district": "district",
"url": "link"
}
]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Don't use <code>json</code>, <code>pprint</code> is perfect for this job.</p>
<pre><code>from pprint import pprint

obj = [{"cuisine": ["Japanese", "Hot Pot", "Buffet"], "rating": [3.5], "address": [22.3825, 114.1901], "url": ["https://www.openrice.com/en/hongkong/r-wagyu-more-sha-tin-japanese-hot-pot-r172321"], "reviews": [35, 17, 8], "name": "Wagyu More", "price-range": ["$101-200"], "district": ["Sha Tin"]}]
with open('dumpfile.json', 'w+') as f:
    pprint(obj, f)
</code></pre>
<p>There are a few parameters for customization, please check the doc for more details :
<a href="https://docs.python.org/3/library/pprint.html" rel="nofollow noreferrer">https://docs.python.org/3/library/pprint.html</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Use prettyprinter:</p>
<pre><code>import pprint
pp = pprint.PrettyPrinter(indent=4)
pp.pprint(dct)
</code></pre>
<p>Also: you are currently putting the dict in a list. [] is a list {} is a dict in python.
By putting [{}] you are putting the dict into a list. Just remove the [].</p>
</div>
<span class="comment-copy">Thanks for your answer!</span>
<span class="comment-copy">replace <code>json.dump</code> with <code>json.dumps</code></span>
<span class="comment-copy">@Lo√Øc Why would I do that? Json.dump is the correct command to write to file.</span>
<span class="comment-copy">This prints each value on a separate line, for example if the restaurant has multiple cuisines, each cuisine is on a separate line</span>
<span class="comment-copy">@Greta What do you mean? Isn't that what you want? See my updated answer as I think you are using a wrong structure.</span>
<span class="comment-copy">Sorry, I did not specify- I am extracting info for a list of restaurants, so each dictionary will contain the info for one restaurant, so I do want the output to be a list of dictionaries.</span>
