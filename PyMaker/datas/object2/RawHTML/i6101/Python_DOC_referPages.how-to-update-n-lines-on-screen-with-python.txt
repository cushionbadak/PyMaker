<div class="post-text" itemprop="text">
<p>I have spawned <code>N</code> processes and monitoring their statuses. So, I would like to print <code>N</code> lines on screen with changing statuses on each.</p>
<p>How to do this with python?</p>
<p>I don't wan't vizible re-prints. Is there any library like <code>tqdm</code> for such updates?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do this with a couple terminal escape codes:</p>
<pre><code>def up(lines=1):
    clearline = '\033[2K' # clear a line
    upline = '\033[1A'    # Move cursor up a line
    for _ in range(lines):
        sys.stdout.write(upline)
        sys.stdout.write(clearline)
</code></pre>
<p>After this you can reprint your status lines. And then:</p>
<pre><code>sys.stdout.flush()
</code></pre>
<p>Here's a full working program demonstrating this:</p>
<pre><code>import sys 
from time import sleep

def up(lines=1):
    clearline = '\033[2K' # clear a line
    upline = '\033[1A'    # Move cursor up a line
    for _ in range(lines):
        sys.stdout.write(upline)
        sys.stdout.write(clearline)

num_lines = 3
for i in range(10):
    for l in range(num_lines):
        sys.stdout.write('{} hello\n'.format(i*l+i))
    sys.stdout.flush()
    sleep(0.5)
    up(num_lines)
</code></pre>
<p>Of course if you're making a full blown tui, you'll want to use something like curses or <a href="http://urwid.org/" rel="nofollow noreferrer">urwid</a></p>
</div>
<span class="comment-copy">Did you have a look at Python's curses tutorial? <a href="https://docs.python.org/3/howto/curses.html" rel="nofollow noreferrer">docs.python.org/3/howto/curses.html</a></span>
