<div class="post-text" itemprop="text">
<p>In <a href="https://stackoverflow.com/questions/21261132/shutil-rmtree-to-remove-readonly-files">this question</a>, an answer to how to remove read-only files is presented. It's super effective but requires having unused parameters. In <a href="https://stackoverflow.com/questions/47059273/how-to-indicate-multiple-unused-values-in-python">this other question</a> it was asked how to tell pylint that multiple non-adjacent parameters are unused without adding a specific comment (e.g., by using <code>_</code>). Many of the answers were approximately "ZOMG YOU'RE DESIGNING IT WRONG" so I promised I would put up an example where this is needed and out of my control. Here is that example.  </p>
<pre><code>shutil.rmtree(self._temp_dir, onerror=del_rw)

def del_rw(action, name, exc):
    os.chmod(name, stat.S_IWRITE)
    os.remove(name)
</code></pre>
<p>The "answer" so that pylint would not complain about <code>action</code> and <code>exc</code> is to</p>
<pre><code>shutil.rmtree(self._temp_dir, onerror=del_rw)

def del_rw(_action, name, _exc):
    os.chmod(name, stat.S_IWRITE)
    os.remove(name)
</code></pre>
<p>but the new question is, how to do this without having <code>_action</code> or <code>_exc</code> as parameters?</p>
</div>
<div class="post-text" itemprop="text">
<p>As discussed in the comments, you cannot just ignore <code>action</code>, and <code>exc</code> because <code>rmtree</code> will pass those arguments to the callback. From the <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" rel="nofollow noreferrer">python docs</a>:</p>
<blockquote>
<p>If <code>onerror</code> is provided, it must be a <strong>callable</strong> that accepts <em>three</em>
  parameters: <code>function</code>, <code>path</code>, and <code>excinfo</code>.</p>
</blockquote>
<p>That being said, you have a couple of options:</p>
<ul>
<li><p>You can prefix the callback with a <code>cb_</code> (see <a href="https://pylint.readthedocs.io/en/latest/faq.html#i-have-a-callback-function-where-i-have-no-control-over-received-arguments-how-do-i-avoid-getting-unused-argument-warnings" rel="nofollow noreferrer">pylint docs</a> on this as well), turning your function into:</p>
<pre><code>shutil.rmtree(self._temp_dir, onerror=cb_del_rw)

def cb_del_rw(action, name, exc):
    os.chmod(name, stat.S_IWRITE)
    os.remove(name)
</code></pre></li>
<li><p>You can use <a href="https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists" rel="nofollow noreferrer">keyword arguments</a> (you could also use <code>*args</code>, but I find this approach more readable):</p>
<pre><code>shutil.rmtree(self._temp_dir, onerror=del_rw)

def del_rw(**kwargs):
    name = kwargs['name']
    os.chmod(name, stat.S_IWRITE)
    os.remove(name)
</code></pre></li>
</ul>
</div>
<span class="comment-copy">Prefix with <code>cb_</code>? As in <code>def cb_del_rw</code>, as this answer mentions <a href="https://stackoverflow.com/questions/47059273/how-to-indicate-multiple-unused-values-in-python" title="how to indicate multiple unused values in python">stackoverflow.com/questions/47059273/â€¦</a></span>
<span class="comment-copy">You have to have the parameters, because <code>rmtree()</code> calls the function with those parameters, even though you ignore them.</span>
