<div class="post-text" itemprop="text">
<p>I'm working on an assignment that reads data from a file. I'm trying to sum up all the even numbers in the file but I can't get it to read more than the first line. Here is the code I have so far:</p>
<pre><code>infile = open('data.txt', 'r')
even_sum = 0
line = infile.readline()

while int(line) % 2 == 0:
    even_sum += int(line)
    line = infile.readline()


infile.close()

print('Sum of even numbers: ' + str(even_sum))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Assuming each line only contains one number and not multiple numbers:</p>
<pre><code>with open('data.txt') as infile:  # using `with open()` you do not need to do `infile.close()`, that is done for you.
    even_sum = 0
    for line in infile:  # Iterate over the lines
        num = int(line)  # Avoid calling int() multiple times if you can.
        if num  % 2 == 0:  # Its an even number.
            even_sum += num
    print('Sum of even numbers: ' + str(even_sum))
</code></pre>
<p>One-liner that uses <code>sum()</code> just for giggles:</p>
<pre><code>print('Sum of even numbers: ' + str(sum([int(l) for l in open('data.txt') if int(l) % 2 == 0])))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your while loop is going into infinite loop and you missed on iterating over file as well:
Here is the solution:</p>
<pre><code>def sum_even():
    with open('test1.txt') as input_file: 
    # Looping through the file line by line
        even_sum = 0
        for line in input_file:
            if int(line) % 2 == 0:
                print line
                even_sum += int(line)

        print('Sum of even numbers: ' + str(even_sum))

if __name__ == "__main__":
    sum_even()
</code></pre>
</div>
<span class="comment-copy">try "readlines", that'll get you all of the lines.</span>
<span class="comment-copy">You have to iterate on line.</span>
<span class="comment-copy">Hint: the first time you find a line that's even, your <code>while</code> loop will exit.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/inputoutput.html" rel="nofollow noreferrer">Check this out</a></span>
<span class="comment-copy">Answered your question, should work as long as each line only contains a number. If the lines contain more than one number let me know and ill update the answer.</span>
<span class="comment-copy">nice for your pythonic way bro :)</span>
<span class="comment-copy">Try to introduce the user to using with open(file) as it removes the necessity of doing f.close(), also, default mode is 'r' on open() so no need to set it. Just some suggestions</span>
<span class="comment-copy">yeah that's right, I just though of providing the solution.</span>
<span class="comment-copy">Sure thing - :)</span>
<span class="comment-copy">anyhow updated the code</span>
