<div class="post-text" itemprop="text">
<p>I'm not quite sure what this means. </p>
<p>for (location, date, caption) in value_dict.items():
       builtins.AttributeError: 'list' object has no attribute 'items'
Can anyone help me fix this please? </p>
<pre><code>def create_date_dict(image_dict):
'''(dict) -&gt; dict

Given an image dictionary, return a new dictionary
where the key is a date and the value  is a list
of filenames of images taken on that date.

&gt;&gt;&gt; d = {'image1.jpg': ['UTSC', '2017-11-03','Happy Friday']}
&gt;&gt;&gt; date_d = create_date_dict(d)
&gt;&gt;&gt; date_d == {'2017-11-03': ['image1.jpg']}
True
'''
new_d = {}
for (filenames, value_dict) in image_dict.items():
    for (location, date, caption) in value_dict.items():
        new_d[date] = {list(filename)}
return new_d
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><code>value_dict</code> is a list.  Your second <code>for</code> loop should look like</p>
<pre><code>for location, date, caption in value_dict:
</code></pre>
<p>to take advantage of iterable unpacking</p>
<p>Edit:</p>
<p>Actually, now that I look at it again, you don't need another loop at all. Just do </p>
<pre><code>location, date, caption = value_dict
</code></pre>
<p>Edit 2:</p>
<p>I'm not sure what's responsible for the new error you're getting.  Try this function, it fixes some other things I noticed in you original</p>
<pre><code>from collections import defaultdict

def create_date_dict(image_dict):
    d = defaultdict(list)
    for image, (loc, date, cap) in image_dict.items():
         d[date].append(image)
    return d
</code></pre>
<p>This uses <a href="https://docs.python.org/3/library/collections.html#collections.defaultdict" rel="nofollow noreferrer"><code>defaultdict</code></a>, which is a handy <code>dict</code> subclass from the standard library</p>
<p>Edit 4:</p>
<p>without a <code>defaultdict</code>, this would look something like</p>
<pre><code>def create_date_dict(image_dict):
    d = {}
    for image, (loc, date, cap) in image_dict.items():
         if date in d:
             d[date].append(image)
         else:
             d[date] = [image]
    return d
</code></pre>
</div>
<span class="comment-copy">value_dict is of type 'list'. Lists are iterable by default, no need of '.items()'</span>
<span class="comment-copy">Please indent the code and show how you actually call the function to get that error.</span>
<span class="comment-copy">Do I need the brackets around location, date and caption?</span>
<span class="comment-copy">@bigd I was actually wrong, please see my update</span>
<span class="comment-copy">Ok, but after I test it, it says lcoation isn't defined for some reason</span>
<span class="comment-copy">How do I define it? by setting up an index for it using a key?</span>
<span class="comment-copy">@bigd You are defining it.  What line is the error on?</span>
