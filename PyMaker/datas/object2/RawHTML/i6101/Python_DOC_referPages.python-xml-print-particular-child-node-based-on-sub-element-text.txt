<div class="post-text" itemprop="text">
<p>I have a sample XML like below:</p>
<pre><code>&lt;data xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0" xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
    &lt;sessions xmlns="com:infinera:common:session"&gt;
        &lt;session&gt;
            &lt;MoId&gt;admin_12&lt;/MoId&gt;
            &lt;AccountName&gt;admin&lt;/AccountName&gt;
            &lt;ProtocolType&gt;SSH&lt;/ProtocolType&gt;
            &lt;MgmtAppType&gt;CLI&lt;/MgmtAppType&gt;
            &lt;AuthenticationType&gt;LOCAL&lt;/AuthenticationType&gt;
        &lt;/session&gt;
        &lt;session&gt;
            &lt;MoId&gt;admin_13&lt;/MoId&gt;
            &lt;AccountName&gt;admin&lt;/AccountName&gt;
            &lt;ProtocolType&gt;TELNET&lt;/ProtocolType&gt;
            &lt;MgmtAppType&gt;TL1&lt;/MgmtAppType&gt;
            &lt;AuthenticationType&gt;LOCAL&lt;/AuthenticationType&gt;
        &lt;session&gt;
    &lt;/sessions&gt;
&lt;/data&gt;
</code></pre>
<p>Here i want to iterate through the children to find if value of <strong>MgmtAppType</strong> is <strong>TL1</strong> and if it is I want to print all the elements associated it i.e. MoID, AccountName, ProtocolType, MgmtAppType, AuthenticationType.
I tried with below code, but this prints only the value of <strong>MgmtAppType</strong></p>
<pre><code>import xml.etree.ElementTree as ET
root = ET.parse('C:\\session.xml')
roots = root.getroot()
for sess in roots.iter():
    if (sess.tag == "{com:infinera:common:session}MgmtAppType") and (sess.text == "TL1"):
            for chd in sess.iter():
                    print chd.text
</code></pre>
<p>How would i print all the elements of particular child node based on the search?</p>
</div>
<div class="post-text" itemprop="text">
<p>A better way to search the namespaced XML example is to create a dictionary with your own prefixes and use those in the search functions:</p>
<pre><code>import xml.etree.ElementTree as ET

root = ET.parse('C:\\session.xml').getroot()
ns = {'common': 'com:infinera:common:session'}
for session in root.findall('common:sessions/common:session[common:MgmtAppType="TL1"]', ns):
    print([el.text for el in list(session)])
</code></pre>
<p>The output (as a list of consecutive elements values):</p>
<pre><code>['admin_13', 'admin', 'TELNET', 'TL1', 'LOCAL']
</code></pre>
<p><a href="https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml-with-namespaces" rel="nofollow noreferrer">https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml-with-namespaces</a></p>
</div>
