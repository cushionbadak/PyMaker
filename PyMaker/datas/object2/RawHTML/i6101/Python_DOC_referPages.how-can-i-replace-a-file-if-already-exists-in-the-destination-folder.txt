<div class="post-text" itemprop="text">
<p>I just want to move a file from one folder to another (already know how to do that) and in the process check all the files in the destination folder and delete the files with the same name.</p>
<p>I have two folders /src and /dst.</p>
<p>In folder /src I have:</p>
<blockquote>
<ul>
<li>'access.log.1.txt'</li>
</ul>
</blockquote>
<p>and in folder /dst :</p>
<blockquote>
<ul>
<li>'access.log.1.20171110_115840565311.txt'</li>
<li>'access.log.1.20171110_115940565311.txt'</li>
<li>'access.log.2.20171110_115940565311.txt'</li>
</ul>
</blockquote>
<p>When I move the file in /src to /dst I want to delete all the files named as the file in /src excluding the datetime() extension in the files of /dst.</p>
<p>So the /dst folder should look like this after the execution:</p>
<blockquote>
<ul>
<li>'access.log.1.txt'</li>
<li>'access.log.2.20171110_115940565311.txt'</li>
</ul>
</blockquote>
<p>This is the code I have to move files from /src to /dst:</p>
<pre><code>entrada = ENTRADA   #This 3 are the paths to the folders  /src
salida = SALIDA     #                                     /dst
error=ERROR         #                                     /err
files=glob.glob(entrada)
for file in files:
   fichero=open(file,encoding='utf-8')
   try:
       for line in fichero:
          la=line.replace("-","")
          li=la.replace('‚Äù'+chr(10),'')
          li=li.split('"')
          line_DB(li)
       fichero.close()
       if TIME_RENAME=='True':
          execution=str(datetime.now())
          execution=execution.replace('.','')
          execution=execution.replace('-','')
          execution=execution.replace(' ','_')
          execution_time=execution.replace(':','')
          base = os.path.splitext(file)[0]
          base=base+'.'+execution_time+'.txt'
          os.rename(file,base)
          file=base
       else:
          print('Hello')
          #This is where I need the code

       shutil.move(file, salida)
       con.commit()
   except:
       logging.error(sys.exc_info())
       print(sys.exc_info())
       fichero.close()
       shutil.move(file, error)
</code></pre>
<p>Anyone could help me?</p>
<p>Thanks!!</p>
</div>
<div class="post-text" itemprop="text">
<p>Sandip's answer should work, but if you specifically want it the way you've stated in your question, this could work:</p>
<pre><code>import os

src_filename = "access.log.1.txt"
dst_dir = "test"

for filename in os.listdir(dst_dir):

    # Filter files based on number of . in filename
    if filename.count(".") &lt; 4:
        continue

    # We need to remove the datetime extension before comparing with our filename
    filename_tokens = filename.split(".")  # List of words separated by . in the filename
    print "Tokens:", filename_tokens

    # Keep only indexes 0, 1, 2 and 4 (exclude index 3, which is the datetime-string)
    datetime_string = filename_tokens.pop(3)  # pop() also removes the datetime-string
    print "Datetime:", datetime_string
    dst_filename = ".".join(filename_tokens)
    print "Destination filename:", dst_filename

    # Check if the destination filename now matches our source filename
    if dst_filename == src_filename:
        # Get full path of file to be deleted
        filepath = os.path.join(dst_dir, filename)
        # Delete it
        print "Deleting:", filepath
        os.remove(filepath)
    print "----------------------"
</code></pre>
<p>Note that this approach assumes that all your destination file names looks like they do in your question, i.e. that all of them have 4 periods (<code>.</code>) and that the datetime string is always between your third and fourth period.</p>
</div>
<div class="post-text" itemprop="text">
<p>Remove all the file with a matching regex.
Just navigate to destination folder and delete all files with your regex 
In your case use</p>
<pre><code>rm access.log.1.[0-9,_]*.txt
</code></pre>
<p>It removes all the file with name access.log.1..txt
Now, You can copy the file using</p>
<pre><code>cp filename.txt /dst/filename.txt
</code></pre>
</div>
<span class="comment-copy">Can you share the python code which you used to copy file from src to dst?</span>
<span class="comment-copy">show us what you have tried</span>
<span class="comment-copy">It would be better if you could share your code. But from what I understand you can use <a href="https://docs.python.org/3/library/shutil.html#shutil.move" rel="nofollow noreferrer">docs.python.org/3/library/shutil.html#shutil.move</a></span>
<span class="comment-copy">Thank you very much!! That was exactly what I was looking for, and it works fine for me! And yes, the files will always look like this. @Plasma</span>
