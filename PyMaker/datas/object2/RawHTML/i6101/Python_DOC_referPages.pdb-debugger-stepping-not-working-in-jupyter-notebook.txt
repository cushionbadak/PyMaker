<div class="post-text" itemprop="text">
<p>I am trying to use the "pdb" python debugger (<a href="https://docs.python.org/3/library/pdb.html" rel="nofollow noreferrer">https://docs.python.org/3/library/pdb.html</a>) in a Jupyter Notebook, but it is not behaving as expected.</p>
<p>In particular, when I run the following code</p>
<pre><code>from pdb import set_trace

set_trace()
print("This is the next line")
for j in range(0,5):
    print(j)
</code></pre>
<p>the debugger is entered as expected, displaying </p>
<pre><code>--Return--
&gt; &lt;ipython-input-4-ed8fefd89436&gt;(3)&lt;module&gt;()-&gt;None
-&gt; set_trace()
</code></pre>
<p>with the <code>(PBD)</code> command line.  However, when I type <code>n</code> into this command line, and hit "enter", attempting to move the debugger to the next line, something unexpected happens -- the output is updated to</p>
<pre><code>--Return--
&gt; &lt;ipython-input-4-ed8fefd89436&gt;(3)&lt;module&gt;()-&gt;None
-&gt; set_trace()
(Pdb) n
&gt; c:\python\lib\site-packages\ipython\core\interactiveshell.py(2913)run_code()
-&gt; sys.excepthook = old_excepthook
</code></pre>
<p>Entering <code>n</code> a few more times gives</p>
<pre><code>--Return--
&gt; &lt;ipython-input-4-ed8fefd89436&gt;(3)&lt;module&gt;()-&gt;None
-&gt; set_trace()
(Pdb) n
&gt; c:\python\lib\site-packages\ipython\core\interactiveshell.py(2913)run_code()
-&gt; sys.excepthook = old_excepthook
(Pdb) n
&gt; c:\python\lib\site-packages\ipython\core\interactiveshell.py(2929)run_code()
-&gt; outflag = False
(Pdb) n
&gt; c:\python\lib\site-packages\ipython\core\interactiveshell.py(2930)run_code()
-&gt; return outflag
(Pdb) n
--Return--
&gt; c:\python\lib\site-packages\ipython\core\interactiveshell.py(2930)run_code()-&gt;False
-&gt; return outflag
(Pdb) n
&gt; c:\python\lib\site-packages\ipython\core\interactiveshell.py(2847)run_ast_nodes()
-&gt; for i, node in enumerate(to_run_exec):
</code></pre>
<p>What's going on here?  The code the debugger is stepping through is not mine...</p>
</div>
<div class="post-text" itemprop="text">
<p>Use this instead</p>
<pre><code>from IPython.core.debugger import set_trace
set_trace()
</code></pre>
</div>
<span class="comment-copy">How about running the debugger in the <code>ipython</code> console (qt or plain).  You aren't debugging something that requires the notebook format, are you?</span>
<span class="comment-copy">It's true that my code doesn't require the notebook format, but everything I've read online suggests that this debugger should work in the notebook, so I'm just confused (and concerned) by the fact that it doesn't.</span>
