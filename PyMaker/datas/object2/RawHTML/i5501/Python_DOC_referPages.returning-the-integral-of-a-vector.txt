<div class="post-text" itemprop="text">
<p>I am trying to create a function, which returns a vector and then integrating it element by element. This is what I have so far</p>
<pre><code>def int1(b):
    j = 1
    for q in range(0,len(alpha)):
        j = j + alpha[q]*(b**q)
    p = np.exp(-j);
    inu = np.zeros(len(alpha))
    for q in range(0,len(alpha)):
        inu[q] = np.exp(-j)*(b**q)
    return inu
</code></pre>
<p>This works if I type something like</p>
<pre><code>print int1(0.1)[2]
</code></pre>
<p>However</p>
<pre><code>print sp.integrate.quad(int1(b)[2], 1e-16, 1, epsrel=1e-20)[0]
</code></pre>
<p>does not work, or any reasonable variant I can think of. How can I get it to work?
either i get TypeError: 'function' object has no attribute '<strong>getitem</strong>' if i leave out the b or ValueError: invalid callable given if I have it in.</p>
</div>
<div class="post-text" itemprop="text">
<p>The first argument of <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.quad.html" rel="nofollow noreferrer"><code>quad</code></a> must be a function, something that call be called. Something that you can put (0.1) after and it will make sense. Does <code>int1(b)[2](0.1)</code> make sense? To me neither. </p>
<p>The form <code>quad(int1, 1e-16, 1, epsrel=1e-20)[0]</code> is syntactically correct but <code>quad</code> only allows scalar outputs of the function, so it won't work with your <code>int1</code>. Instead, you need to make a new function that uses <code>int1</code> but then returns only one of its components. Instead of having another <code>def</code> somewhere, it's better to make such a function right where it is needed, using <a href="https://docs.python.org/3/tutorial/controlflow.html#lambda-expressions" rel="nofollow noreferrer"><code>lambda</code> syntax</a>:</p>
<pre><code>quad(lambda b: int1(b)[2], 1e-16, 1, epsrel=1e-20)[0]
</code></pre>
<p>This says: take <code>b</code>, put it in <code>int1</code>, keep the index-2 entry of the returned array.</p>
</div>
<span class="comment-copy">Could you please check the indentation changes I made and correct as needed.  I am not sure of your intent and the original indentation was not correct.</span>
<span class="comment-copy">How could <code>int1(b)[2]</code> work since you only <code>return</code> a single value? If you returned multiple results, then you're indexing a particular result. If you return a single string, well you're picking a character in that string, and so on...</span>
<span class="comment-copy">@roganjosh I return an array? or list (i believe its called in python). I should have len(alpha) entries and I want to integrate it with respect to b.</span>
<span class="comment-copy">@PyNEwbie the indents might have gotten funny because of getting to to register as code but it worked fine on my machine.</span>
<span class="comment-copy">@user2720867 Your function returns a NumPy array. Python has lists, NumPy has arrays. They are similar but different types of collections.</span>
