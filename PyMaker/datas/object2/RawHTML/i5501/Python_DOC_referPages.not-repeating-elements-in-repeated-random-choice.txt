<div class="post-text" itemprop="text">
<p>I have two text files, <code>students</code> and <code>questions</code>. In <code>students</code> are students and in <code>questions</code> are questions. Each student corresponds to one question, but sometimes questions are the same and I want to not repeat questions.</p>
<pre><code>import random

k = int(input("how many questions do you want ? -"))
questions1 = open("question.txt",'r')
studenti = open("students.txt",'r')
splited = questions1.read().split('\n')
splitedstud = student1.read().split('\n')

for studens in splitedstud:
    file = open(studens + ".txt", "w")
    for i in range(int(k)):
         questiion = random.choice(splited)
         file.write(questiion + '\n')
         file1 = open(studens + ".txt", "r")
         f = file1.read()
         if questiion in f:
             continue
    file.close()

questions.close()
students.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you want to pair up each student with exactly one question use:</p>
<pre><code>import random

studs = [chr(ord('a')+x) for x in range(20)]   # testdata - instead of your read in files
ques = ["question"+str(x) for x in range(20)]  # the files in, just demodata

random.shuffle(ques) # get questions into a random arrangement

for p in  zip(studs,ques):  # pairs each student to the same indexed question [(s1,q1),...]
    with open(p[0]+".txt","w") as f:  # with syntax: better than using blank open/close ops
        f.write(p[1])
</code></pre>
<p>Output:</p>
<pre><code>20 files 'a.txt' to 'p.txt' containing one random question from ques - no duplicates over all files.
</code></pre>
<p>If either list given as input to <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer"><code>zip()</code></a> is shorter, zip will only create pairs up to that item, the rest is discarded - so make sure you have at least <code>len(studenti)</code> questions.</p>
<hr/>
<p>For more then one question per student without repeat you can  use:</p>
<pre><code>for s in studs:
    # randomize questions for each student
    random.shuffle(ques)   
    amount = random.randint(3,8)  # how many to be put into file
    with open(s+".txt","w") as f:
        for n in (range(amount)): # write questions into file
            f.write(ques[n] + "\n")
</code></pre>
<p>Output:</p>
<pre><code>20 files 'a.txt' to 'p.txt' containing random 3-8 question from ques - no duplicates inside each file.
</code></pre>
<p><strong>Remark:</strong> </p>
<p>this is much slower then <a href="https://stackoverflow.com/a/48187707/7505395">the solution by Jojo</a> using <code>random.sample(..)</code> because you need to reshuffle the compllete list of question for each student, while <code>random.sample()</code> will only draw k samples per student.</p>
<p>Doku for shuffle: <a href="https://docs.python.org/3/library/random.html#random.shuffle" rel="nofollow noreferrer">https://docs.python.org/3/library/random.html#random.shuffle</a></p>
</div>
<div class="post-text" itemprop="text">
<p><strong>What you want is to draw a <a href="https://docs.python.org/2/library/random.html#random.sample" rel="nofollow noreferrer">random sample</a> of the questions</strong>. From the docs:</p>
<blockquote>
<p><em>random.sample(population, k)</em>: Return a k length list of unique elements chosen from the population sequence. Used for random sampling without replacement.</p>
</blockquote>
<p>In that way you avoid drawing the same question multiple times for a single student.</p>
<p>Something like:</p>
<pre><code>for studens in splitedstud:
    file = open(studens + ".txt", "w")
    random_questions = random.sample(splited, k)
    for rand_question in random_questions:
         file.write(rand_question + '\n')
    file.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Change</p>
<pre><code>splited = questions1.read().split('\n')
</code></pre>
<p>to </p>
<pre><code>splited = list(set(questions1.read().split('\n')))
</code></pre>
<p>to remove all duplicate questions.</p>
</div>
<span class="comment-copy">splited = list(set(questions1.read().split('\n')))?</span>
<span class="comment-copy">it's work bro, this code works, i want to add not repeating questions.</span>
<span class="comment-copy">Variable names which are typos of real words are a nuistance.</span>
<span class="comment-copy">And many more languages in <a href="https://en.wiktionary.org/wiki/studenti" rel="nofollow noreferrer">Wiktionary</a> but there is no entry for <code>splited</code> either, and I somehow doubt <a href="https://en.wiktionary.org/wiki/studens" rel="nofollow noreferrer">studens</a> is the intended meaning.</span>
<span class="comment-copy">I actually posted that comment as a joke (notice the typo) and I agree that this is just a matter of style; but there is some seriousness here. I remember reading in <a href="https://rads.stackoverflow.com/amzn/click/com/0070296898" rel="nofollow noreferrer">a book</a> a suggestion to use a spelling checker on your code just to avoid silly misspellings, and of course then to make sure your variables are actually spelled correctly.</span>
<span class="comment-copy">@Irakli my solution performs <i>WORSE</i> then  <a href="https://stackoverflow.com/a/48187707/7505395">jojos answer</a> - I would choose his over mine - just saying.</span>
<span class="comment-copy">I don't think this is what the OP is having a problem with. They want unique samples from a set which contains duplicates.</span>
<span class="comment-copy">@tripleee note that even if the set does not contain duplicates, you still could get duplicates if you do just a <code>random.choice</code>.</span>
<span class="comment-copy">@tripleee also it seems, that this was what the OP was having problems with.</span>
<span class="comment-copy">@tripleee the code he provided in the question produces the same question for studens "by chance" even if he has unique questions in the file. I interpreted the same and provided a solution to uniquely assing each question only once by shuffling/zipping insteadof sampling. Then saw that he wants mutliple q per student so have to alter mine.</span>
<span class="comment-copy">when i try to change, error:  file.write(kitxvaa + '\n') TypeError: can only concatenate list (not "str") to list</span>
<span class="comment-copy">Thats a nice short way to write it. But I think it's a bit slower than my way. I quess choice depends on the amount of all questions. But I don't think that the amount of questions is that large that it would make a difference.</span>
<span class="comment-copy">@Irakli Can you provide more info on the error? where is 'file.write(kitxvaa + '\n')' in your code</span>
<span class="comment-copy">If <code>splited</code> was a list before and it's also a list after this change then the error is unrelated to this change.</span>
