<div class="post-text" itemprop="text">
<p>Edit: I've moved this question to a new post: <a href="https://stackoverflow.com/questions/48117272/python-keyerror-when-calling-valid-key-index-in-dict">Python: KeyError when Calling Valid Key/Index in Dict</a></p>
<p>I'm successfully receiving some properly formatted JSON data via websocket:</p>
<pre><code>while True:
    result = ws.recv()    
    result = json.loads(result)
</code></pre>
<p>I can loop through the dictionary like this:</p>
<pre><code>    for i in result:
        print (i)
        print (result[i])
</code></pre>
<p>This will print "Valid_Key" and "Some_value".<br/>
However, if I try to access this by key name or index, I will receive a "KeyError".</p>
<pre><code>print (result[0])
</code></pre>
<p>This will result in:<br/>
<strong>KeyError: 0</strong></p>
<pre><code>print (result["Valid_Key"])
</code></pre>
<p>This will result in:<br/>
<strong>KeyError: 'Valid_Key'</strong></p>
<p>How can I access dictionary data by index or key in Python?</p>
<p>Example with no error:
<a href="https://s17.postimg.org/e11brl99r/Success.jpg" rel="nofollow noreferrer">https://s17.postimg.org/e11brl99r/Success.jpg</a></p>
<p>Example with KeyError:
<a href="https://s17.postimg.org/t9r95mxvz/Key_Error.jpg" rel="nofollow noreferrer">https://s17.postimg.org/t9r95mxvz/Key_Error.jpg</a></p>
</div>
<div class="post-text" itemprop="text">
<p>The problem in while True: on first iteration you got a result 15800.0, but on second iteration your dictionary do not contains key = 'price'</p>
<p>Create a guard in while True loop, like in for loop:</p>
<pre><code>while True:
    result = ws.recv()
    result = json.loads(result)
    if result and 'price' in result:
        print(result['price'])
    ...
</code></pre>
<p>Thanks to sKwa, answered here:
<a href="https://stackoverflow.com/questions/48117272/python-keyerror-when-calling-valid-key-index-in-dict">Python: KeyError when Calling Valid Key/Index in Dict</a></p>
</div>
<span class="comment-copy">You <b>cannot</b> index dictionaries as they have no particular order. You can, however, <i>index a list in which the dictionary items have been cast into</i>. In your case, that would be <code>list(result.items())[0]</code> (or <code>list(result.values())[0]</code>). But, note, that there is no notion of <b>first</b> or <b>nth</b> item in a dictionary. So the above code <b>can produce different outputs for the same input</b>. You have been warned ;)</span>
<span class="comment-copy">Actually <a href="https://docs.python.org/3/library/stdtypes.html?highlight=values#dictionary-view-objects" rel="nofollow noreferrer">Python's documentation</a> guarantees that if no changes are made between iterations they will directly correspond.</span>
<span class="comment-copy">@DanielRoseman What if you close your script and load it again? Or receive the exact same <code>json</code> dictionary again?</span>
<span class="comment-copy">If the <code>result</code> dict has a key of <code>"Valid_Key"</code> then <code>result["Valid_Key"]</code> should give you the value associated with that key. Maybe that converted JSON object isn't exactly what you think it is. Can you show us an example <code>result</code> that gives the error you're talking about?</span>
<span class="comment-copy">I still have no idea what your data looks like. And please see <a href="http://meta.stackoverflow.com/questions/285551/why-may-i-not-upload-images-of-code-on-so-when-asking-a-question">Why may I not upload images of code on SO when asking a question?</a></span>
