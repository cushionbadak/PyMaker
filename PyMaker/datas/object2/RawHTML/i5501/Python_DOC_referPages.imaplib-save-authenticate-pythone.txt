<div class="post-text" itemprop="text">
<p>Sorry for my english. I use <a href="https://docs.python.org/3/library/imaplib.html" rel="nofollow noreferrer">imaplib</a> for email operations. I try save authenticate, for save my password. I found method</p>
<pre><code>IMAP4.login_cram_md5
</code></pre>
<p>but how it use? </p>
<p>This is my example </p>
<pre><code>IMAP_SERVER = 'imap.gmail.com'
IMAP_PORT = '993'
IMAP_USE_SSL = True


    class MailBox(object):
        def __init__(self, user, password):
            print("MailBox __init__")
            self.user = user
            self.password = password
            if IMAP_USE_SSL:
                self.imap = imaplib.IMAP4_SSL(IMAP_SERVER, IMAP_PORT)
            else:
                self.imap = imaplib.IMAP4(IMAP_SERVER, IMAP_PORT)

        def __enter__(self):
            print("MailBox __enter__")
            self.imap.login_cram_md5(self.user, self.password)
            return self
</code></pre>
<p>start code</p>
<pre><code>class Main:
    main_box = MailBox('asdasd@gmail.com', 'wqeqwdsadwqeq==')
    main_box.__enter__()
</code></pre>
<p>i have error</p>
<pre><code>imaplib.error: Unsupported AUTHENTICATE mechanism. i188mb2545835lji
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your server doesn't support CRAM_MD5.</p>
<p>Check the CAPABILITY of a server before you try to use an extension:</p>
<pre><code>&gt; a CAPABILITY   
&lt; * CAPABILITY IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH2 AUTH=PLAIN AUTH=PLAIN-CLIENTTOKEN AUTH=OAUTHBEARER AUTH=XOAUTH
&lt; a OK Thats all she wrote!
</code></pre>
<p>Gmail supports Authenticate methods XOAUTH2, PLAIN, PLAIN-CLIENTTOKEN, OAUTHBEARER, and XOAUTH (plus the baseline non-authenticate LOGIN).</p>
<p>PLAIN is standard.  I'm not sure what PLAIN-CLIENTTOKEN is.  The rest are variants of OAUTH. </p>
</div>
