<div class="post-text" itemprop="text">
<p>I am very, very new to Python so please be kind!</p>
<p>I have created a test file in XML which has a list of fake customers and their associated telephone numbers. This was manually produced and took a fair while! I'm hoping to create an automated solution in Python to replace the first digit of the customer_ID (stored as an attribute within the XML) and generate a new XML.</p>
<p>After a few hours reading and developing here is my code;</p>
<pre><code># Python code for test data generation

import re
import xml.etree.ElementTree as ET
tree = ET.parse('Junk\\Test_File.xml')

root = tree.getroot()

for child in tree.iter():
Cust_ID = re.findall('([0-9]{10})', child.text)
A = [Cust_ID.replace(Cust_ID[0],'1') for Cust_ID in Cust_IDs]

print(A)

tree.write('Junk\\New.xml')
</code></pre>
<p>So far I can isolate the list of Customer IDs as Cust_ID and replace the first digit as required. My issue is writing these new values in my output.</p>
<p>Given how junior I am to this code I'm not 100% I'm on the right path so any pointers to a more complete solution (if there is one) would also be appreciated.</p>
<p>Many thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>These day most people use libraries you have a number of choices.</p>
<p><strong>2 I've used</strong></p>
<ol>
<li>LXml</li>
<li><p>CElementTree</p>
<pre><code>import xml.etree.cElementTree as ET

root = ET.Element("root")
file = ET.SubElement(root, "file")

ET.SubElement(file, "fieldone", name="1").text = "something1"
ET.SubElement(file, "field2two", name="2").text = "something2"

tree = ET.ElementTree(root)
tree.write("file.xml")
</code></pre>
<p>Here are some useful documentation links</p></li>
</ol>
<p><a href="http://lxml.de/tutorial.html" rel="nofollow noreferrer">http://lxml.de/tutorial.html</a></p>
<p><a href="http://effbot.org/zone/element-index.htm" rel="nofollow noreferrer">http://effbot.org/zone/element-index.htm</a></p>
<p><a href="https://docs.python.org/3/library/xml.etree.elementtree.html" rel="nofollow noreferrer">https://docs.python.org/3/library/xml.etree.elementtree.html</a></p>
<p>Be aware <code>xml.etree.ElementTree</code> isn't secure</p>
</div>
<span class="comment-copy">Please post sample XML input and corresponding XML output</span>
<span class="comment-copy">Probably you only need to update <code>child.text</code> with the result of replace-the-first-digit ..</span>
