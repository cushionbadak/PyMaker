<div class="post-text" itemprop="text">
<p>I have a problem with my program:</p>
<pre><code>def generate():
    list_path = filedialog.askopenfilename(title = "Open list from",filetypes = (("WSP list files","*.list"),("All files","*.*")))
    print('List opened for generation: '+list_path)
    list = open(list_path, "r")
    print(list.readlines())
    generation1 = list.readlines()
    **print(generation1[0])
    if generation1[0] == '#DOCTYPE_LIST!2.0\n':
        print('valid doc')
    else:
       print('unvalid doc')
</code></pre>
<p>The if is not working in any case, but I see that problem happens at ** marked line. It should print the content at the "first" index of generation1 array, right? But it prints: []</p>
<p>And with the if: it throws an error with "Index out of range" </p>
</div>
<div class="post-text" itemprop="text">
<p>Your problem is, that you print the lines first. Afterwards the file is "at its end" there are no more lines that follow that could be read with your second <code>readlines()</code> and thats the reason why generation[0] is empty.</p>
<pre><code>def generate():
    list_path = filedialog.askopenfilename(title = "Open list from",filetypes = (("WSP list files","*.list"),("All files","*.*")))
    print('List opened for generation: '+list_path)
    with open(list_path, "r") as file:
        allLines = file.readlines()            # read all lines into a list
        print(allLines[0])                     # you can print from that list
    generation1 = allLines[:]           # or shallow copy the list of strings
    if generation1[0] == '#DOCTYPE_LIST!2.0\n':
        print('valid doc')      # and modify generation w/o touching allLines
    else:
       print('invalid doc')
</code></pre>
<p>solves it. The <code>with open(filename,"r") as file:</code> automatically closes the file object when you leave the indentation, it is the preferred way of dealing with files: <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files" rel="nofollow noreferrer">reading-and-writing-files</a></p>
</div>
<div class="post-text" itemprop="text">
<p>Must solve the problem:</p>
<pre><code>def generate():
    list_path = filedialog.askopenfilename(title = "Open list from",filetypes = (("WSP list files","*.list"),("All files","*.*")))
    print('List opened for generation: ' + list_path)
    with open(list_path, 'r') as fd:
        lines = fd.readlines()
    print(lines)
    print(lines[0])
    if generation1[0] == '#DOCTYPE_LIST!2.0\n':
        print('valid doc')
    else:
        print('unvalid doc')
</code></pre>
</div>
<span class="comment-copy">Don't call your variables <code>list</code>, it conflicts with the python builtin</span>
<span class="comment-copy">Only <code>generation1[0]</code> is enough for printing first element of generation1 list</span>
<span class="comment-copy">And as for the error "index out of range", it means that your <code>generation1</code> list is empty and you are trying to print it's first element</span>
<span class="comment-copy">Maybe  <code>list.seek(0)</code> between both <code>readlines</code> but it would be highly inefficient. You should justo read once and store the result in a variable.</span>
<span class="comment-copy">Thanks, this solved the problem.</span>
<span class="comment-copy">I know that this is bad. I just hit the script that it would work</span>
<span class="comment-copy">Ok, I edit my answer)</span>
