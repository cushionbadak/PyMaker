<div class="post-text" itemprop="text">
<p>I would like to parse out e-mail addresses from several text files in Python. In a first attempt, I tried to get the following element that includes an e-mail address from a list of strings (<code>'2To whom correspondence should be addressed. E-mail: joachim+pnas@uci.edu.\n'</code>).</p>
<p>When I try to find the list element that includes the e-mail address via <code>i.find("@") == 0</code> it does not give me the <code>content[i]</code>. Am I misunderstanding the <code>.find()</code> function? Is there a better way to do this?</p>
<pre><code>from os import listdir

TextFileList = []
PathInput = "C:/Users/p282705/Desktop/PythonProjects/ExtractingEmailList/text/"

# Count the number of different files you have!
for filename in listdir(PathInput):
    if filename.endswith(".txt"):  # In case you accidentally put other files in directory
        TextFileList.append(filename)

for i in TextFileList:
    file = open(PathInput + i, 'r')
    content = file.readlines()
    file.close()

for i in content:
    if i.find("@") == 0:
        print(i)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The standard way of checking whether a string contains a character, in Python, is using the <a href="https://docs.python.org/3/library/stdtypes.html#str.find" rel="nofollow noreferrer"><code>in</code> operator</a>. In your case, that would be:</p>
<pre><code>for i in content:
    if "@" in i:
        print(i)
</code></pre>
<p>The <code>find</code> method, as you where using, returns the <em>position where the <code>@</code> character is located</em>, starting at 0, as described in the <a href="https://docs.python.org/3/library/stdtypes.html#str.find" rel="nofollow noreferrer">Python official documentation</a>.</p>
<p>For instance, in the string <code>abc@google.com</code>, it will return 3. In case the character is not located, it will return -1. The equivalent code would be:</p>
<pre><code>for i in content:
    if i.find("@") != -1:
        print(i)
</code></pre>
<p>However, this is considered <a href="https://stackoverflow.com/questions/25011078/what-does-pythonic-mean">unpythonic</a> and the <code>in</code> operator usage is preferred.</p>
</div>
<div class="post-text" itemprop="text">
<p>'Find' function in python returns the index number of that character in a string. Maybe you can try this?</p>
<pre><code>list = i.split(' ') # To split the string in words
for x in list:    # search each word in list for @ character
    if x.find("@") != -1:
        print(x)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Find returns the index if you find the substring you are searching for. This isn't correct for what you are trying to do.</p>
<p>You would be better using a Regular Expression or RE to search for an occurence of @. In your case, you may come into as situation where there are more than one email address per line (Again I don't know your input data so I can't take a guess)</p>
<p>Something along these lines would benefit you:</p>
<pre><code>import re
for i in content:
    findEmail = re.search(r'[\w\.-]+@[\w\.-]+', i)
    if findEmail:
     print(findEmail.group(0))
</code></pre>
<p>You would need to adjust this for valid email addresses... I'm not entirely sure if you can have symbols like +...</p>
</div>
<span class="comment-copy">The find function returns an index of the found string. If you are just looking to see if the string contains an '@' then i.find("@") != -1, since -1 means that there are no "@" in the string</span>
<span class="comment-copy">Thank you, problem solved! Do you have an idea how to check whether it is a invalid e-mail?</span>
<span class="comment-copy">Just to note that this solution will only work for 1 email per string, so if you have multiple emails it will only return the first one. Checking for invalid emails is a problem as you can never be sure whether or not it's a typo by the user, an email bounces back or something else. Really there's no point in checking as there are so many factors outwith your control. Unless you have a specific set of rules you want to follow, I wouldn't bother checking... Best to ensure there is an "@" followed by at least one "."</span>
<span class="comment-copy">This may help you to update the regex: <a href="https://stackoverflow.com/questions/2049502/what-characters-are-allowed-in-an-email-address" title="what characters are allowed in an email address">stackoverflow.com/questions/2049502/â€¦</a></span>
