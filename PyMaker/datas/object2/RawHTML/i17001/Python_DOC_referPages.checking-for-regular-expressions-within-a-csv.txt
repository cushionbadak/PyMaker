<div class="post-text" itemprop="text">
<p>I'm currently trying to run through my csv file and identify the rows in a column.</p>
<p>The output should be something like "This column contains alpha characters only".</p>
<p>My code currently:
Within a method I have:</p>
<pre><code>print('\nREGULAR EXPRESSIONS\n' +
              '----------------------------------')
        for x in range(0, self.tot_col):
            print('\n' + self.file_list[0][x] +
                  '\n--------------')  # Prints the column name

            for y in range(0, self.tot_rows + 1):

                if regex.re_alpha(self.file_list[y][x]) is True:
                    true_count += 1
                else:
                    false_count += 1

            if true_count &gt; false_count:
                percentage = (true_count / self.tot_rows) * 100
                print(str(percentage) + '% chance that this column is alpha only')

            true_count = 0
            false_count = 0
</code></pre>
<p><code>self.file_list</code> is the csv file in list format.
<code>self.tot_rows</code> &amp; <code>self.tot_col</code> are the total rows and total columns respectively which has been calculated earlier within the program.</p>
<p><code>regex.re_alpha</code> has been imported from a file and the method looks like:</p>
<pre><code>def re_alpha(column):
    # Checks alpha characters
    alpha_valid = alpha.match(column)
    if alpha_valid:
        return True
    else:
        return False
</code></pre>
<p>This currently works, however I am unable to add my other regex checks such as alpha, numeric etc</p>
<p>I have tried to duplicate the if statement with a different regex check but it doesn't work.
I've also tried to do the counts in the regex.py file however the count stops at '1' and returns the wrong information..
I thought creating a class in the regex.py file would help however no avail.</p>
<p>Summary: 
I would like to run multiple regex checks against my csv file and have them ordered via columns.</p>
<p>Thanks in advance.</p>
</div>
<div class="post-text" itemprop="text">
<p>From the code above, the first line of the CSV contains the column names. This means you could make a dictionary to contain your result where the keys are the column names.</p>
<pre><code>from csv import DictReader

reader = DictReader(open(filename))  # filename is the name of the CSV file

results = {}

for row in reader:
    for col_name, value in row.items():
        results.setdefault(col_name, []).append(regex.re_alpha(value)) 
</code></pre>
<p>Now you have a dictionary called 'results' which has the output from the regex checks stored by column name. You can then output statistics. Or you could save the rows as you read them in a list and once you decide on an order you can go back and output rows to a new CSV file by outputting the items in each dictionary using the keys in the new order.</p>
<pre><code>csv_writer = csv.writer(open(output_filename, 'w'))

new_order = [list of key names in the right order]
for row in saved_data:
    new_row = map(row.get, new_order)
    csv_writer.writerow(new_row)
</code></pre>
<p>Admittedly this is a bit of a sketch but it should get you going.</p>
</div>
<span class="comment-copy">What are you trying to do here? If you want to do regex checks to find the columns in the file, then it would probably be easier to use the <code>csv</code> module instead.</span>
<span class="comment-copy">Can you link me to the information please? I am trying to match all the rows in a column to different regex' and inform the user which ones the column match.</span>
<span class="comment-copy"><a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">Here</a> is the documentation.</span>
<span class="comment-copy">Sorry but I'm not to used to this.. I can't see where I can find regular expressions using any of those functions..</span>
