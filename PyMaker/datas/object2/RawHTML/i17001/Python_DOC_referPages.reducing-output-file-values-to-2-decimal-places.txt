<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/455612/limiting-floats-to-two-decimal-points">Limiting floats to two decimal points</a>
<span class="question-originals-answer-count">
                    22 answers
                </span>
</li>
</ul>
</div>
<p>I have my below that takes entire values and outputs them into another file.</p>
<pre><code>with open('candidatevalues2.txt', 'w') as outfile:
    outfile.write('plate mjd fiberid FWHM erFWHM loglum loglumerr logBHmass logBhmasserr  ksvalue pvalue\n')
for i in range(9):
    with open('candidatevalues2.txt', 'a') as outfile:
        dmpval= stats.ks_2samp(y_real[i], yfit[i])
        outfile.write('{0} {1} {2} {3} {4} {5} {6} {7} {8} {9} {10}\n'.format(plate[i], mjd[i], fiberid[i], fwhm[i], fwhmer[i], loglum[i], loglumerr[i], logbhmass[i], logbhmasserr[i], dmpval[0], dmpval[1]))
</code></pre>
<p>The first few lines of the file show as:</p>
<pre><code>plate mjd fiberid FWHM erFWHM loglum loglumerr logBHmass logBhmasserr ksvalue pvalue

590 52057 465 1710.58526651 115.154250367 42.0681732777 0.070137615974 6.81880343617 0.15451686304 0.0909090909091 0.970239478143

1793 53883 490 1736.15809558 144.074772803 40.160433977 0.0736271164581 5.7828225787 0.13016470738 0.0909090909091 0.970239478143

648 52559 335 1530.9128304 153.965617385 40.8584948115 0.110687643929 6.05420009544 0.155678567881 0.0909090909091 0.970239478143
</code></pre>
<p>I am wondering how do I reduce all the values to just 2 decimal places?</p>
</div>
<div class="post-text" itemprop="text">
<p>I know, it takes a while to learn using .format in python, the spec for format is a bit hidden.</p>
<h1>Short lesson on using python string <code>format</code> method</h1>
<p>Here are few iterations how could be the code modified:</p>
<p>Original code:</p>
<pre><code> outfile.write('{0} {1} {2} {3} {4} {5} {6} {7} {8} {9} {10}\n'.format(plate[i], mjd[i], fiberid[i], fwhm[i], fwhmer[i], loglum[i], loglumerr[i], logbhmass[i], logbhmasserr[i], dmpval[0], dmpval[1]))
</code></pre>
<p>Simplify to make explanation easier and shorter:</p>
<pre><code> outfile.write('{0} {1} {2}\n'.format(plate[i], dmpval[0], dmpval[1]))
</code></pre>
<h2>Separate formatting template and rendering:</h2>
<pre><code> templ = '{0} {1} {2}\n'
 outfile.write(templ.format(plate[i], dmpval[0], dmpval[1]))
</code></pre>
<h2>Specify 2 decimal places format:</h2>
<pre><code> templ = '{0:.2f} {1:.2f} {2:.2f}\n'
 outfile.write(templ.format(plate[i], dmpval[0], dmpval[1]))
</code></pre>
<p>Now you shall have, what you have asked for.</p>
<h2>Using <code>templ.format(**locals())</code> idiom</h2>
<p>In case, you want to render content of variables directly available by name, by name and property (using dot notation) or by name and constant positive index, you may use them directly in template and use a trick, that locals() returns dictionary of locally available variable and <code>**locals()</code> makes them available as keyword variable in the call:</p>
<pre><code> plate_i = plate[i]
 templ = '{plate_i:.2f} {dmpval[0]:.2f} {dmpval[1]:.2f}\n'
 outfile.write(templ.format(**locals()))
</code></pre>
<p>However, you see, that this will not work for index being specified by another variable, that is why I had to introduce new variable <code>plate_i</code>.</p>
</div>
<span class="comment-copy">Did you try specifying 2 decimal places in the formatting?</span>
<span class="comment-copy">See here: <a href="https://docs.python.org/3/library/string.html#formatspec" rel="nofollow noreferrer">docs.python.org/3/library/string.html#formatspec</a></span>
<span class="comment-copy">I do not know how to specify the formatting though.</span>
<span class="comment-copy">It is in the docs for <code>.format</code>. Replace your <code>{0}</code> with <code>{0:.2f}</code> or just replace all of them with <code>{:.2f}</code> (Is that extra space really in your outfile?)</span>
