<div class="post-text" itemprop="text">
<p>i want to grab different content (classes) from an lokal saved website (the python documentation) using BeautifulSoup4, so i use this code for doing that (index.html is this saved website: <a href="https://docs.python.org/3/library/stdtypes.html" rel="nofollow">https://docs.python.org/3/library/stdtypes.html</a> )</p>
<pre><code>from bs4 import BeautifulSoup
soup = BeautifulSoup(open("index.html"))
f = open('test.html','w')
f.truncate
classes= soup.find_all('dl', attrs={'class': ['class', 'method','function','describe', 'attribute', 'data', 'clasmethod', 'staticmethod']})
print(classes,file=f) 
f.close()
</code></pre>
<p>The filehandler is only for result-output and has no effect on the problem itself. </p>
<p>My problem is that the results are nested. For example the method "__eq__ (exporter) will be found 1. inside of the class and 2. as a method standalone.</p>
<p>So i want to remove all the results inside of other results to have every result on the same hierarchical level . How can i do this? Or is it even possible to "ignore" that content in the first step? I hope you understand what i mean.</p>
</div>
<div class="post-text" itemprop="text">
<p>You cannot tell <code>find</code> to ignore nested <code>dl</code> elements; all you can do is ignore matches that appear in the <code>.descendants</code>:</p>
<pre><code>matches = []
for dl in soup.find_all('dl', attrs={'class': ['class', 'method','function','describe', 'attribute', 'data', 'clasmethod', 'staticmethod']})
    if any(dl in m.descendants for m in matches):
        # child of already found element
        continue
    matches.append(dl)
</code></pre>
<p>If you want nested elements and no parents, use:</p>
<pre><code>matches = []
for dl in soup.find_all('dl', attrs={'class': ['class', 'method','function','describe', 'attribute', 'data', 'clasmethod', 'staticmethod']})
    matches = [m for m in matches if dl not in m.descendants]
    matches.append(dl)
</code></pre>
<p>If you wanted to pull apart the tree and <em>remove</em> elements from the tree, use:</p>
<pre><code>matches = soup.find_all('dl', attrs={'class': ['class', 'method','function','describe', 'attribute', 'data', 'clasmethod', 'staticmethod']})
for element in matches:
    element.extract()  # remove from tree (and parent `dl` matches)
</code></pre>
<p>but you may want to adjust your text extracting instead.</p>
</div>
<span class="comment-copy">I just realized that the nested &lt;dl&gt;-elements are now part of the parent-element and not standalone (as i wished no duplicates). But in fact i need all elements on the same hierarchical level. I can't see a option to make that possible with changing just a order in that code above. Am i correct?</span>
<span class="comment-copy">@sv0101: it's not clear what you are asking then; the above code only includes matches that are not nested. What do you mean by 'same hierarchical level'? The posted code produces elements all at the <i>top</i> level.</span>
<span class="comment-copy">sorry for being unclear. The above code creates this output for me: <a href="http://wildermannonline.de/sven/test.html" rel="nofollow noreferrer">test.html</a> while using ***** as debugbing-delimiter.  Let's have a look for example at the method <b>eq</b>: This is nested in the class memoryview but i want <b>eq</b> to be separated (and so surrounded by **** in debug-mode). I want this behavior for all nested elements (and so for all methods inside of classes).   I hope it is now clear what i mean. Feel free to edit my question.</span>
<span class="comment-copy">So you want to have the <i>nested</i> elements with no further children only?</span>
<span class="comment-copy">I want the childs without the parents and vice versa. So i that example i want the class without the methods and every method standalone.</span>
