<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/291978/short-description-of-the-scoping-rules">Short description of the scoping rules?</a>
<span class="question-originals-answer-count">
                    7 answers
                </span>
</li>
</ul>
</div>
<p>I am wondering why a method of a class doesn't look into its enclosing scope, if a name is not defined.</p>
<pre><code>def test_scope_function():
    var = 5
    def print_var():
        print(var) # finds var from __test_scope_function__
    print_var()


globalvar = 5
class TestScopeGlobal:
    var = globalvar # finds globalvar from __main__

    @staticmethod
    def print_var():
        print(TestScopeGlobal.var)


class TestScopeClass():
    var = 5

    @staticmethod
    def print_var():
        print(var) # Not finding var, raises NameError

test_scope_function()
TestScopeGlobal.print_var()
TestScopeClass.print_var()
</code></pre>
<p>I would expect <code>TestScopeClass.print_var()</code> to print <code>5</code> since it can read <code>classvar</code> in the <code>TestScopeClass</code> body.</p>
<p>Why this behavior? And what should i read in the <a href="https://docs.python.org/3.3/tutorial/classes.html?highlight=scope" rel="nofollow">docs</a> to get to know about it.</p>
</div>
<div class="post-text" itemprop="text">
<p>Scopes are searched <a href="https://docs.python.org/3.3/tutorial/classes.html#python-scopes-and-namespaces" rel="nofollow noreferrer">as follows</a>:</p>
<blockquote>
<ul>
<li>the innermost scope, which is searched first, contains the local names</li>
<li>the scopes of any enclosing <strong>functions</strong>, which are searched starting with the nearest enclosing scope, contains non-local, but also non-global names</li>
<li>the next-to-last scope contains the current moduleâ€™s global names</li>
<li>the outermost scope (searched last) is the namespace containing built-in names</li>
</ul>
</blockquote>
<p>(emphasis added).  Enclosing classes are not searched, because they are not listed.  This behavior is deliberate, because otherwise the <a href="https://stackoverflow.com/questions/3798835/understanding-get-and-set-and-python-descriptors">descriptor protocol</a>, which among other things provides the <code>self</code> argument to methods, would not have a chance to fire.</p>
</div>
<div class="post-text" itemprop="text">
<p>Per <a href="https://docs.python.org/3/reference/executionmodel.html#naming-and-binding" rel="nofollow">the Python documentation</a> (emphasis mine):</p>
<blockquote>
<p>The scope of names defined in a class block is limited to the class block; it <strong>does not extend to the code blocks of methods</strong></p>
</blockquote>
</div>
