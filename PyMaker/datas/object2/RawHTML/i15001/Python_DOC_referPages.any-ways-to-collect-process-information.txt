<div class="post-text" itemprop="text">
<p>I currently run:</p>
<pre><code>ps -f -u vinish | sort -k5
</code></pre>
<p>but how can I do this in Python without writing the same quoted command in my code?</p>
<p>For executing bash commands I use <code>os.system('&lt;cmd&gt;')</code> or will call through <code>subprocess</code>, but I am looking something that won't hold any bash commands in it.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can just sort the output from <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" rel="nofollow"><code>subprocess.check_output()</code></a>:</p>
<pre><code>import subprocess

processes = subprocess.check_output(['ps', '-f', '-u', 'vinish'])
for line in sorted(processes.splitlines(), key=lambda l: int(l.split()[1])):
    print(line)
</code></pre>
<p>This goes one better on the <code>sort -k5</code> output in that it extracts the second column and sorts it numerically.</p>
<p>Note that no sub-shell is created (no <em>bash commands</em> are being executed here); Python executes the <code>ps</code> command directly. This is the easiest way to get process information without installing third-party libraries.</p>
<p>If you really wanted to avoid executing external commands, you'll have to use an add-on library. I recommend the <a href="https://pypi.python.org/pypi/psutil" rel="nofollow"><code>psutil</code> library</a> here:</p>
<pre><code>import psutil

matching = [proc for proc in psutil.process_iter() if proc.username() == 'vinish']
for proc in sorted(matching, key=lambda p: p.pid):
    print(proc)
</code></pre>
<p>See the <a href="http://pythonhosted.org/psutil/#process-class" rel="nofollow"><code>psutil.Process()</code> class documentation</a> for details on what each <code>proc</code> object offers in the way of information and functionality.</p>
</div>
<span class="comment-copy">And what does that command?</span>
<span class="comment-copy">A  lot easier get process info using subprocess,the sorting part is very basic. Why don't you want to use subprocess?</span>
<span class="comment-copy">I think you should read the question again</span>
<span class="comment-copy">@PadraicCunningham: there are no bash commands here.</span>
<span class="comment-copy">The OP does not want to use subprocess, that is the basis of the question to do it without using os.system or subprocess</span>
<span class="comment-copy">@PadraicCunningham: That's <b>your</b> interpretation. They are looking for something <i>without bash commands</i>. Now, it could well be that that means <i>no external processes</i>, but that's open for debate.</span>
<span class="comment-copy">@PadraicCunningham: there, added a <code>psutil</code> option too.</span>
