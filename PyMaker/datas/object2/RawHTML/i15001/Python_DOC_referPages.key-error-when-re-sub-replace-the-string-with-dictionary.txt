<div class="post-text" itemprop="text">
<p>First, I want to apologize for my terrible English - I'm not Englishman.</p>
<p>I have the problem with this line of my code:</p>
<pre><code>expression = re.sub("\w+", lambda m: "{}".format(functionsDICT[m.group(0)]), expression)
</code></pre>
<p>The dictionary raise me an error:</p>
<pre><code>KeyError: 'pi'
</code></pre>
<p>The dictionary (functionsDICT) contains the names of functions from my class. There's no 'pi', because it comes from other module. So I want to replace, by dictionary, "expression" string and don't stop the code when re.sub find something is not in dictionary (It remains in the string unchanged). Something like try...except.</p>
<p>Thank you in advance for your help. I hope, You understood me.</p>
</div>
<div class="post-text" itemprop="text">
<p>Use the <a href="https://docs.python.org/3/library/stdtypes.html#dict.get" rel="nofollow"><code>dict.get(key, default)</code></a> method:</p>
<pre><code>expression = re.sub("\w+", lambda m:
    '{}'.format(functionsDICT.get(m.group(0), m.group(0))), expression)
</code></pre>
<p>That is, if the first argument <code>m.group(0)</code> is not found in the dictionary, <code>get</code> returns the second argument <code>m.group(0)</code> instead - in your example substituting <code>"pi"</code> with <code>"pi"</code>.</p>
<p>Notice that you can use <code>str()</code> instead of <code>'{}'.format()</code> unless your values do something fancy with default format specifiers.</p>
</div>
