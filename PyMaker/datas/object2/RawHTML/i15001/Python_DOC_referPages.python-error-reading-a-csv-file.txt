<div class="post-text" itemprop="text">
<pre><code>with open('repo-attributes.csv', 'rb') as repofile:
    reader = csv.DictReader(repofile)
    for repo in reader:
        g.add_vertex(name=repo['repository_url'],
            label=repo['repository_url'][19:],
            language='(unknown)' if repo['repository_language'] == 'null'
                else repo['repository_language'],
            watchers=int(repo['repository_watchers']))
</code></pre>
<p>This is my code. 
I am getting the error like as follows. I am new to python. kindly explain this.</p>
<pre><code>Traceback (most recent call last):
  File "C:\Python34\github-network-analysis-master\process.py", line 9, in &lt;module&gt;
    for repo in reader:
  File "C:\Python34\lib\csv.py", line 109, in __next__
    self.fieldnames
  File "C:\Python34\lib\csv.py", line 96, in fieldnames
    self._fieldnames = next(self.reader)
_csv.Error: iterator should return strings, not bytes (did you open the file in text mode?)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Remove <code>b</code>, you are opening in binary mode hence the <code>bytes</code> error:  </p>
<pre><code> with open('repo-attributes.csv', newline="") as repofile:
</code></pre>
<p>You can actually remove both as the default mode is <code>r</code>.</p>
</div>
<div class="post-text" itemprop="text">
<p>You are opening file in <code>rb</code> means <code>read binary</code> please open it in <code>read</code> mode. change your code to</p>
<pre><code>...
...
with open('repo-attributes.csv', 'r')...
...
...
</code></pre>
<p>This will open file in <code>read</code> mode (not binary).</p>
</div>
<div class="post-text" itemprop="text">
<p>The last line of the trace tells where the error first occurred. 
 Since you opened the file in binary mode, python is reading bytes. Your file is csv and opening it in read mode will suffice.</p>
<p>So instead of rb use r</p>
</div>
<span class="comment-copy">The error is self explanatory really. You opened a file with <code>rb</code> flag, which means open in read binary mode. You only want <code>r</code> flag which is just read.</span>
<span class="comment-copy">Using <code>'rb'</code> is the correct thing to do when running Python 2; in Python 3 the advice in the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">module documentation</a> is to use <code>'r'</code> and <code>newline=''</code>.</span>
<span class="comment-copy">Perhaps relevant here: <a href="http://stackoverflow.com/q/22361787">How can I stop Python's csv.DictWriter.writerows from adding empty lines between rows in Windows?</a></span>
<span class="comment-copy">The OP should add <code>newline=''</code> as well. See the <a href="https://docs.python.org/3/library/csv.html#csv.reader" rel="nofollow noreferrer"><code>csv.reader()</code> documentation</a>. They most likely read posts about using <code>csv.reader()</code> with <i>Python 2</i>, where using <code>'rb'</code> is recommended.</span>
<span class="comment-copy">@MartijnPieters, I don't  see anything related to newline when dealing with DictReader</span>
<span class="comment-copy"><code>DictReader()</code> is just a wrapper around <code>csv.reader()</code>.</span>
<span class="comment-copy">@MartijnPieters, what is the deal with <code>newline=""</code> I don't ever remember using it? Basically universal newlines?</span>
<span class="comment-copy"><a href="http://stackoverflow.com/q/22361787">How can I stop Python's csv.DictWriter.writerows from adding empty lines between rows in Windows?</a> Yes, <code>newline=''</code> stops the file object from translating newlines for you, so the CSV reader can distinguish between embedded newlines and row separators.</span>
