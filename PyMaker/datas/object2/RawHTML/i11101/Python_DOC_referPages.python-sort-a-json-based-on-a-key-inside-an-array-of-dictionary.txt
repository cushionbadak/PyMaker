<div class="post-text" itemprop="text">
<p>I have a structure like this:</p>
<pre><code>[{
    "name": "apple",
    "price": "5.0",
    "record": [
        {
            "id": "008",
            "time": 1465689600
        }
    ] 
},{
    "name": "banana",
    "price": "9.0",
    "record": [
        {
            "id": "002",
            "time": 1465682600
        }
    ]
}]
</code></pre>
<p>I tried below but it gave me an error: string indices must be integers.</p>
<pre><code>sorted(lines, key=lambda k: k['record'].get('time', 0),reverse=True)
</code></pre>
<p>How do I sort the above based on the "time" value?</p>
<p>Thanks.</p>
</div>
<div class="post-text" itemprop="text">
<p>Since this is a json, I would just decode it using <a href="https://docs.python.org/3.4/library/json.html#json.loads" rel="nofollow"><code>json.loads</code></a>:</p>
<pre><code>import json

lines = '''
[{
    "name": "apple",
    "price": "5.0",
    "record": [
        {
            "id": "008",
            "time": 1465689600
        }
    ] 
},{
    "name": "banana",
    "price": "9.0",
    "record": [
        {
            "id": "002",
            "time": 1465682600
        }
    ]
}]
'''

d = json.loads(lines)

for x in sorted(d, key=lambda k: k['record'][0].get('time', 0), reverse=True):
    print x
</code></pre>
<p>Output:</p>
<pre><code>{u'record': [{u'id': u'008', u'time': 1465689600}], u'price': u'5.0', u'name': u'apple'}
{u'record': [{u'id': u'002', u'time': 1465682600}], u'price': u'9.0', u'name': u'banana'}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Apparently, your structure is a string. You need to convert it to a python object using <a href="https://docs.python.org/3/library/json.html#json.loads" rel="nofollow"><code>json.loads</code></a></p>
<pre><code>import json

d = "[{'record': [{'id': '008', 'time': 1465689600}], 'price': '5.0', 'name': 'apple'}, {'record': [{'id': '002', 'time': 1465682600}], 'price': '9.0', 'name': 'banana'}]"

lines = json.loads(d)
sorted(lines, key=lambda k: k['record'][0].get('time', 0), reverse=True)
#                                       ^
</code></pre>
<p>Thereafter, the value at the key <code>'record'</code> is a list. The list has one <code>dict</code> object at index 0. So you need to access the dict object first, then you can access the values of the dictionary.</p>
</div>
<span class="comment-copy">I'd assume <code>lines</code> is the text of the file instead of the parsed json.  Once you have parsed it with <code>json</code> then the answers here will help you.</span>
<span class="comment-copy">if the record was a list they would not have gotten the error <code>string indices must be integers.</code></span>
<span class="comment-copy">@TadhgMcDonald-Jensen I later figured :)</span>
<span class="comment-copy"><code>ast.literal_eval</code>... seriously?  Does the tag <a href="https://stackoverflow.com/questions/tagged/json">json</a> mean nothing to you?</span>
<span class="comment-copy">@TadhgMcDonald-Jensen Thanks for the edit</span>
