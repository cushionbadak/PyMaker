<div class="post-text" itemprop="text">
<p>I have a big string - html page. I need to find all names of flash drives,
i.e. I need to get content between double quotes: <code>data-name="USB Flash-drive Leef Fuse 32Gb"&gt;</code>. So I need a string between <code>data-name="</code> and <code>"&gt;</code>. Please, don't mention BeautifulSoup, I need to do it without BeautifulSoup and better without regular expressions, but regular expression are also accepted.</p>
<p>I tried to use this:</p>
<pre><code>p = re.compile('(?&lt;=")[^,]+(?=")')
result = p.match(html_str)
print(result)
</code></pre>
<p>but result is None.
But on regex101.com it worked:
<a href="https://i.stack.imgur.com/RxFp4.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/RxFp4.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>py2: <a href="https://docs.python.org/2/library/htmlparser.html" rel="nofollow">https://docs.python.org/2/library/htmlparser.html</a></p>
<p>py3: <a href="https://docs.python.org/3/library/html.parser.html" rel="nofollow">https://docs.python.org/3/library/html.parser.html</a></p>
<hr/>
<pre><code>from html.parser import HTMLParser

class MyHTMLParser(HTMLParser):
    def handle_starttag(self, tag, attrs):
        # tag = 'sometag'
        for attr in attrs:
            # attr = ('data-name', 'USB Flash-drive Leef Fuse 32Gb')
            if attr[0] == 'data-name':
                print(attr[1])

parser = MyHTMLParser()
parser.feed('&lt;sometag data-name="USB Flash-drive Leef Fuse 32Gb"&gt;hello  world&lt;/sometag&gt;')
</code></pre>
<p>Output:</p>
<pre><code>USB Flash-drive Leef Fuse 32Gb
</code></pre>
<p>I've added some comments to the code to show you what kind of data structure is returned by the parser.</p>
<p>It should be very easy to build from here.</p>
<p>Just feed in HTML, and it will parse it fine. Refer to the docs, and keep trying.</p>
</div>
<div class="post-text" itemprop="text">
<p>If you want to do it with basic python string parsing here is a way</p>
<pre><code>s="html string"
start = s.find('data-name="')
end = s.find('"&gt;')
output = s[start:end]
</code></pre>
<p>This is what happens in my python shell</p>
<pre><code>&gt;&gt;&gt; s='junk...data-name="USB Flash-drive Leef Fuse 32Gb"&gt;...junk'
&gt;&gt;&gt; start = s.find('data-name="')
&gt;&gt;&gt; end = s.find('"&gt;')
&gt;&gt;&gt; output = s[start:end]
&gt;&gt;&gt; output
'data-name="USB Flash-drive Leef Fuse 32Gb'
</code></pre>
<p>let me know if this part of script works separately</p>
</div>
<span class="comment-copy">What is wrong with using a DOM parser on HTML to extract the value of an attribute?</span>
<span class="comment-copy">@Vasili Syrakis I have certain task - do it using python.</span>
<span class="comment-copy">fyi bs4 = python ; see the first paragraph of this link: <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="nofollow noreferrer">crummy.com/software/BeautifulSoup/bs4/doc</a></span>
<span class="comment-copy">@dot.Py I know that bs4 is python, but I need to do it without help of bs4, only pythons builtin functions or at least regex.</span>
<span class="comment-copy">Python standard library has htmparser (html.parser in py3) which can be used here.</span>
<span class="comment-copy">Thanks a lot, God bless you.</span>
<span class="comment-copy">doesn't work, output is empty</span>
<span class="comment-copy">Your example works, but not with my big html-string</span>
<span class="comment-copy">iif you are still after a alternate solution could you paste your long html string for me to test</span>
<span class="comment-copy">here is py file that gets flash drives from site and puts them intro 'html_str' string: <a href="http://dropmefiles.com/wBvb1" rel="nofollow noreferrer">dropmefiles.com/wBvb1</a></span>
