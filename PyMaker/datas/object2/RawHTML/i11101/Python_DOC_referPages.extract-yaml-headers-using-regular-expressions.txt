<div class="post-text" itemprop="text">
<p>I have a file with YAML headers, that is a file with starts with <code>---</code>, have <code>---</code>. Something like:</p>
<pre><code>---
title: Quantes monedes de cèntim caben a un cercle?
author: Dan Meyer
date: 2013-08-26
abstract: Quantes monedes de cèntim caben a un cercle?
tags: 3-acts
continguts: àrea, cercle, ajustament de corbes, extrapolació, funció quadràtica, representació de funcions, 
relatedto: []
lang: ca
---


[![Penny circle](./shot.png)](http://threeacts.mrmeyer.com/pennycircle/)

Quantes monedes de cèntim caben a un cercle?

## Recursos ##

1. [Proposta original d'en Dan Meyer](http://blog.mrmeyer.com/2013/makeover-penny-circle/) ([localment](./media/activitats/meyer-penny-circle/dy_dan » Blog Archive » [Makeover] Penny Circle.htm))
1. L'[activitat en tres actes](http://threeacts.mrmeyer.com/pennycircle/) d'en Dan Meyer ([localment](./media/activitats/meyer-penny-circle/pennycircle.zip))
1. [Activitat a Desmos](https://teacher.desmos.com/pennycircle)
</code></pre>
<p>I want to use regular expressions in python3 to split the contents: YAML contents and the rest of the file. In my example, the first part is this</p>
<pre><code>---
title: Quantes monedes de cèntim caben a un cercle?
author: Dan Meyer
date: 2013-08-26
abstract: Quantes monedes de cèntim caben a un cercle?
tags: 3-acts
continguts: àrea, cercle, ajustament de corbes, extrapolació, funció quadràtica, representació de funcions, 
relatedto: []
lang: ca
---
</code></pre>
<p>And the second that:</p>
<pre><code>[![Penny circle](./shot.png)](http://threeacts.mrmeyer.com/pennycircle/)

Quantes monedes de cèntim caben a un cercle?

## Recursos ##

1. [Proposta original d'en Dan Meyer](http://blog.mrmeyer.com/2013/makeover-penny-circle/) ([localment](./media/activitats/meyer-penny-circle/dy_dan » Blog Archive » [Makeover] Penny Circle.htm))
1. L'[activitat en tres actes](http://threeacts.mrmeyer.com/pennycircle/) d'en Dan Meyer ([localment](./media/activitats/meyer-penny-circle/pennycircle.zip))
1. [Activitat a Desmos](https://teacher.desmos.com/pennycircle)
</code></pre>
<p>I use this re: <code>p = re.compile('---\n(.*?)\n---\n(.*?)')</code> but it does not work.</p>
</div>
<div class="post-text" itemprop="text">
<p><code>.</code> does not match newlines, unless you set the <a href="https://docs.python.org/3/library/re.html#re.S" rel="nofollow"><code>DOTALL</code> flag</a>:</p>
<pre><code>p = re.compile('---\n(.*?)\n---\n(.*)', flags=re.DOTALL)
</code></pre>
<p>Note that I dropped the <code>?</code> from the second <code>*</code>; you'd want everything after the second <code>---</code>, not just the first 1 character.</p>
<p>From the documentation:</p>
<blockquote>
<p><code>re.S</code><br/>
<code>re.DOTALL</code><br/>
  Make the <code>'.'</code> special character match any character at all, including a newline; without this flag, <code>'.'</code> will match anything except a newline.</p>
</blockquote>
<p>However, you could just split your text on the <code>---\n</code> line; limit it to two splits:</p>
<pre><code>yaml, text = text.split('---\n', 2)[1:]
</code></pre>
<p>This splits your text into a prefix, the YAML section, and the rest. The prefix is ignored with <code>[1:]</code>.</p>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; p = re.compile('---\n(.*?)\n---\n(.*)', flags=re.DOTALL)
&gt;&gt;&gt; p.search(text).groups()
('title: Quantes monedes de cèntim caben a un cercle?\nauthor: Dan Meyer\ndate: 2013-08-26\nabstract: Quantes monedes de cèntim caben a un cercle?\ntags: 3-acts\ncontinguts: àrea, cercle, ajustament de corbes, extrapolació, funció quadràtica, representació de funcions, \nrelatedto: []\nlang: ca', "\n\n[![Penny circle](./shot.png)](http://threeacts.mrmeyer.com/pennycircle/)\n\nQuantes monedes de cèntim caben a un cercle?\n\n## Recursos ##\n\n1. [Proposta original d'en Dan Meyer](http://blog.mrmeyer.com/2013/makeover-penny-circle/) ([localment](./media/activitats/meyer-penny-circle/dy_dan » Blog Archive » [Makeover] Penny Circle.htm))\n1. L'[activitat en tres actes](http://threeacts.mrmeyer.com/pennycircle/) d'en Dan Meyer ([localment](./media/activitats/meyer-penny-circle/pennycircle.zip))\n1. [Activitat a Desmos](https://teacher.desmos.com/pennycircle)\n")
&gt;&gt;&gt; text.split('---\n', 2)[1:]
['title: Quantes monedes de cèntim caben a un cercle?\nauthor: Dan Meyer\ndate: 2013-08-26\nabstract: Quantes monedes de cèntim caben a un cercle?\ntags: 3-acts\ncontinguts: àrea, cercle, ajustament de corbes, extrapolació, funció quadràtica, representació de funcions, \nrelatedto: []\nlang: ca\n', "\n\n[![Penny circle](./shot.png)](http://threeacts.mrmeyer.com/pennycircle/)\n\nQuantes monedes de cèntim caben a un cercle?\n\n## Recursos ##\n\n1. [Proposta original d'en Dan Meyer](http://blog.mrmeyer.com/2013/makeover-penny-circle/) ([localment](./media/activitats/meyer-penny-circle/dy_dan » Blog Archive » [Makeover] Penny Circle.htm))\n1. L'[activitat en tres actes](http://threeacts.mrmeyer.com/pennycircle/) d'en Dan Meyer ([localment](./media/activitats/meyer-penny-circle/pennycircle.zip))\n1. [Activitat a Desmos](https://teacher.desmos.com/pennycircle)\n"]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>For such a simple delimiter, you don't really need regular expressions. Given test file...</p>
<pre><code>---
This is the first part
---
This is the second part
</code></pre>
<p>...something as simple as...</p>
<pre><code>&gt;&gt;&gt; s = open('testfile').read()
&gt;&gt;&gt; _, part1, part2 = s.split('---\n')
&gt;&gt;&gt; print part1
This is the first part

&gt;&gt;&gt; print part2
This is the second part
</code></pre>
<p>...should suffice.</p>
</div>
<span class="comment-copy">yaml content can be found <b><a href="https://regex101.com/r/sJ1uC6/1" rel="nofollow noreferrer">using</a></b></span>
<span class="comment-copy">@rock321987: why omit the newlines?</span>
<span class="comment-copy">@MartijnPieters newlines??didn't get your point?</span>
<span class="comment-copy">@rock321987: you omitted the <code>\n</code> after the <code>---</code> line. So <code>---foobar</code> also matches now.</span>
<span class="comment-copy">@MartijnPieters didn't noticed..</span>
<span class="comment-copy">you can have many <code>---</code> as you want. So split will make a list....</span>
