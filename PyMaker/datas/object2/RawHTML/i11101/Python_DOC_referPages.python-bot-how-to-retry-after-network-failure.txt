<div class="post-text" itemprop="text">
<p>I have this Twitter App, i am running it locally sometimes it fails due to Slow internet connection. once it fails i have to restart the app from Cmd. is it possible to make the bot sleep if network fails and retry the code       </p>
<pre><code>import tweepy, time, sys

argfile = str(sys.argv[1])
#APP
#CONSUMER_KEY = '11'
#CONSUMER_SECRET = '11'
#ACCESS_KEY = '11'
#ACCESS_SECRET = '11'    
auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
    auth.set_access_token(ACCESS_KEY, ACCESS_SECRET)
    api = tweepy.API(auth)

    filename=open(argfile,'r')
    f=filename.readlines()
    filename.close()

    for line in f:
        api.update_status(line)
        time.sleep(1200)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I would do something like this:</p>
<pre><code>import requests
import socket

def get_json(url):
    """Fetches JSON response from specified URL"""

    fetched_data = dict()
    try:
        request = requests.get(url, timeout=2)
        try:
            fetched_data = request.json()

            print("JSON response data:")
            print(fetched_data)

        except ValueError:
            fetched_data["status"] = "60"
    except requests.ConnectionError:
        fetched_data["status"] = "60"
    except requests.Timeout:
        fetched_data["status"] = "60"
    except requests.HTTPError:
        fetched_data["status"] = "60"
    except requests.URLRequired:
        fetched_data["status"] = "60"
    except requests.TooManyRedirects:
        fetched_data["status"] = "60"
    except socket.timeout:
        fetched_data["status"] = "60"

    return data
</code></pre>
<p>Later, I would just wrap it in some while loop, check status and if status is 60 I would put it to sleep, else do what you want.</p>
</div>
<span class="comment-copy">Yes, use a <code>try</code> and <code>catch</code> then go again.</span>
<span class="comment-copy">hey thanks for helping i am not expert in Programming can you tell me how to write that in code</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/errors.html" rel="nofollow noreferrer">docs.python.org/3/tutorial/errors.html</a></span>
<span class="comment-copy">Why catch all of those errors separately if the outcome is the same?</span>
