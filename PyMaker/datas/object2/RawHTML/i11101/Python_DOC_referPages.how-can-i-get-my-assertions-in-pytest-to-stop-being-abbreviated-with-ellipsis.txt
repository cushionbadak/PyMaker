<div class="post-text" itemprop="text">
<p>How can I get my assertions in pytest to stop being abbreviated with ellipsis ?</p>
<p>Every time I have an assertion that reports error it truncates all my strings with "..." why is that? how can I stop that? </p>
</div>
<div class="post-text" itemprop="text">
<p>Could you show an example? This is how the output looks for me:</p>
<pre><code>    def test_foo():
&gt;       assert "a"*100 == "a"*100 + "b"
E       assert 'aaaaaaaaaaaa...aaaaaaaaaaaaa' == 'aaaaaaaaaaaaa...aaaaaaaaaaaab'
E         Skipping 89 identical leading characters in diff, use -v to show
E         - aaaaaaaaaaa
E         + aaaaaaaaaaab
E         ?            +
</code></pre>
<p>I think the diff makes it perfectly clear what's failing - but with <code>-v</code> (as the message suggests) I get the full diff:</p>
<pre><code>    def test_foo():
&gt;       assert "a"*100 == "a"*100 + "b"
E       assert 'aaaaaaaaaaaa...aaaaaaaaaaaaa' == 'aaaaaaaaaaaaa...aaaaaaaaaaaab'
E         - aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
E         + aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaab
E         ?  
</code></pre>
</div>
<span class="comment-copy"><code>assert("a"*(10**6) == "a"*(10**6 - 1))</code>. Why do you not want truncation?</span>
<span class="comment-copy">obviously i know why the values are truncated and the risk of not truncating. but it's greatly outweighing the fact that i have no idea what the test failure is when an assert is done between two larger strings.</span>
<span class="comment-copy">the answer must be the "-v" that you are adding. i'll look if we are adding that</span>
<span class="comment-copy">Can you try with <code>-vvvv</code> and see what you get? that's what we use.</span>
<span class="comment-copy">Same output with <code>-vvvv</code>.</span>
<span class="comment-copy">i was going to go into the pytest code and find the abbrevation logic but i then decided to not care</span>
<span class="comment-copy">Just had encountered this myself; my case was comparing if an object is in a list was of custom objects (in my case <a href="https://docs.python.org/3/library/unittest.mock.html#unittest.mock.call" rel="nofollow noreferrer">mock.Call</a> objects). Unpacking calls into tuples made ellipsis go away in <code>-v</code> mode.</span>
