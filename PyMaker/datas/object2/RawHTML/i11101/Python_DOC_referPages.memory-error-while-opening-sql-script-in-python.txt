<div class="post-text" itemprop="text">
<p>I'm trying to open a sql script in python but this piece of code is giving Memory error as the sql script is very huge(22GB!). </p>
<pre><code> # Open and read the file as a single buffer
 fd = open('prob.sql', 'r')
 sqlFile = fd.read()
 fd.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Avoid the <code>read()</code> function in this case since it tries to load the entire file. </p>
<p>You could iterate through the file line by line:</p>
<pre><code>with open('prob.sql', 'r') as fd:
    for line in fd:
        do_something(line)
</code></pre>
<p>With the <code>with</code> construct you don't need to worry about closing the file handle.</p>
<p>Check out other options <a href="https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects" rel="nofollow">here</a>.</p>
</div>
<span class="comment-copy">What is your question? If the size of the file is greatest than available memory it won't fit in memory, full stop.</span>
