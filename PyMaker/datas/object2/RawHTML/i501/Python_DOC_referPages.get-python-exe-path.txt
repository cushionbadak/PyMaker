<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/404744/determining-application-path-in-a-python-exe-generated-by-pyinstaller">Determining application path in a Python EXE generated by pyInstaller</a>
<span class="question-originals-answer-count">
                    6 answers
                </span>
</li>
</ul>
</div>
<p>I made a program with python that runs correctly when run with python interpreter. It reads some files from the same directory. In order to run the script from other paths, the script changes its working directory to its own location.</p>
<pre><code>import os
abspath = os.path.realpath(__file__)
dname = os.path.dirname(abspath)
os.chdir(dname)
</code></pre>
<p>But this does not work when I package it to .exe. Because when running .exe the <code>__file__</code> variable is <code>"main.py"</code>.</p>
<p>I know that it can be fixed by explicitly setting a fixed path:</p>
<pre><code>os.chdir('/Fixed/Path')
</code></pre>
<p>But is there an elegant solution?</p>
</div>
<div class="post-text" itemprop="text">
<p>So the answer here is actually in two parts. To get the executable's location, you can use</p>
<pre><code>import sys
exe = sys.executable
</code></pre>
<p>To then chdir to the directory of the executable, you should try something like </p>
<pre><code>import os
import sys

exe = sys.executable
dname = os.path.dirname(exe)
os.chdir(dname)
</code></pre>
<p>or simply</p>
<pre><code>os.chdir(os.path.dirname(sys.executable))
</code></pre>
</div>
<span class="comment-copy">have you tried <code>import sys; print sys.executable</code>? or <code>os.path.dirname(sys.argv[0])</code></span>
<span class="comment-copy">Yeah, it's quite interesting to see what <a href="https://docs.python.org/3/library/sys.html#sys.executable" rel="nofollow noreferrer"><code>sys.executable</code></a> is equal to for such a packaged Python script. If the full interpreter is packaged alongside, it may do the trick</span>
<span class="comment-copy">@wpercy Thank you! I tried sys.executable and it works. It is the exact .exe path of my program.</span>
<span class="comment-copy">So when I write <code>os.chdir(sys.executable)</code> it will not work when run with python interpreter :). What suggestions now?</span>
<span class="comment-copy"><code>os.chdir(sys.executable)</code> is trying to change the current working directory to the executable file, <b>not</b> the folder it is in.</span>
