<div class="post-text" itemprop="text">
<p>I have a datapath to a file couple of data files, let us say data01.txt, data02.txt and so on. During processing the user will provide mask files for the data (potentially also via an external tool). Mask files will contain the string 'mask', e.g., data01-mask.txt.</p>
<pre><code>from pathlib import Path
p = Path(C:\Windowns\test\data01.txt)
dircontent = list(p.parent.glob('*'))
</code></pre>
<p>Gives me a list of all the filespath as <code>Path</code> objects including potential masks. Now I want a list that gives me the directory content but not including any file containing mask. I have <a href="https://stackoverflow.com/questions/216995/how-can-i-use-inverse-or-negative-wildcards-when-pattern-matching-in-a-unix-linu">tried this approach</a> to use fancy regex <code>*![mask]*</code> but I do not get it to work. </p>
<p>Using,</p>
<pre><code>dircontentstr = [str(elem) for elem in x]
filtereddir = [elem.find('mask') for elem in dircontentstr if elem.find('mask')==-1]
</code></pre>
<p>I can get the desired result, but it seems silly to then convert back to <code>Path</code> elements. Is there a straight forward way to exclude from the directory list?</p>
</div>
<div class="post-text" itemprop="text">
<p>There is no need to convert anything to strings here, as <code>Path</code> objects have helpful attributes that you can use to filter on. Take a look at the <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.name" rel="nofollow noreferrer"><code>.name</code></a> and <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.name" rel="nofollow noreferrer"><code>.stem</code></a> attributes; these let you filter path objects on the base filename (where <code>.stem</code> is the base name without extension):</p>
<pre><code>dircontent = [path for path in p.parent.glob('*') if 'mask' not in path.stem]
</code></pre>
</div>
<span class="comment-copy">Why not just test against the <code>.name</code> attribute of the path object?</span>
<span class="comment-copy">os.listdir might help you?</span>
<span class="comment-copy">@eagle33322, I want to use pathlib.</span>
<span class="comment-copy">@MartijnPieters I reread my question and in trying to make a MWE, I forgot to mention, that mask is appended to any or multiple files in the folder, but I don't know which ones, so I need to use a filter on all the filenames and cannot compare one name.</span>
<span class="comment-copy">Given the updated question, dircontent = [path for path in x if path.name.find('mask') == -1] works. Thanks.</span>
<span class="comment-copy">@MatthiasArras: I've updated my answer to fit your question better. Don't use <code>.find()</code>, use <code>'mask' in ...</code>.</span>
<span class="comment-copy">I love how nicely readable that is.</span>
