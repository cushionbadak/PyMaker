<div class="post-text" itemprop="text">
<p>My json response come back with this dictionary.</p>
<pre><code>data = {"offset": 0, "per-page": 1, "total": 548, "language": "en", 
"odds-type": "DECIMAL", "overall-staked-amount": 23428.63548, 
"profit-and-loss": 4439.61471, "events": [{"id": 1042867904480016, 
"name": "Gael Monfils vs Daniil Medvedev", "sport-id": 9, "sport- 
url": "tennis", "sport-name": "Tennis", "start-time": "2019-02- 
16T14:29:00.000Z", "finished-dead-heat": false, "markets": [{"id": 
1042867905130015, "name": "Moneyline", "commission": 0, "net-win- 
commission": 0, "profit-and-loss": -0.59999, "stake": 0.59999, 
"selections": [{"id": "1042867905220015_BACK", "runner-id": 
1042867905220015, "name": "Daniil Medvedev", "side": "BACK", "odds": 
3.0, "stake": 0.59999, "commission": 0, "profit-and-loss": -0.59999, 
"bets": [{"id": 1043769075060320, "offer-id": 1043764555430020, 
"matched-time": "2019-02-16T16:16:18.936Z", "settled-time": "2019- 
02-16T16:26:01.878Z", "in-play": true, "odds": 3.0, "stake": 
0.59999, "commission": 0, "commission-rate": 2.0, "profit-and-loss": 
-0.59999, "status": "PAID"}]}], "net-win-commission-rate": 0.02}]}]}
</code></pre>
<p>I am unable to get the attribute value for <code>overall-staked-amount</code> and inside the events list I cannot get name from <code>events</code> list. using list comprehension or a for loop.</p>
<p>Here's my code.</p>
<p><strong>list comp</strong></p>
<pre><code>overall_staked = [d['overall-staked-amount'] for d in data]

print(overall_staked)
</code></pre>
<p><strong>for loop</strong></p>
<pre><code>for d in data:
    overall_staked = d['overall-staked-amount']
    name = d['name']
    print(overall_staked,name)
</code></pre>
<p>I receive an error <code>TypeError: string indices must be integers</code>
what am I doing wrong or need to do?</p>
</div>
<div class="post-text" itemprop="text">
<p>No need to iterate, just do:</p>
<pre><code>overall_staked = data['overall-staked-amount']
</code></pre>
<p>Follow the same logic to get other data</p>
</div>
<div class="post-text" itemprop="text">
<p>Well, when you iterate over a dictionary, you iterate over its keys, which is a string. And, to access a string you need a int value. That's why you get this error. In your loop, <code>d</code> is a string and you're trying to access it's value with another string instead a int.</p>
<p>Did you get it?</p>
</div>
<div class="post-text" itemprop="text">
<p><code>data</code> is a <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" rel="nofollow noreferrer">dictionary</a> if you use for instance:</p>
<pre><code>mydict = {"item_1": 3, "item_2": 5}
for item in mydict:
    print(item)
</code></pre>
<p>it would print the dictionary keys:</p>
<pre><code>item_1
item_2
</code></pre>
<p>That are strings, that's why if you try:</p>
<pre><code>mydict = {"item_1": 3, "item_2": 5}
    for item in mydict:
        # item is a string here, so if you
        # Python complains about string indexes must be integers.
        item['overall-staked-amount']
</code></pre>
<p>it is exactly the same problem for comprehension.</p>
<p>You can get the value you want just by:</p>
<pre><code>overall_staked_amount = data['overall-staked-amount']
</code></pre>
<p>You can iterate over keys and items by:</p>
<pre><code>for key, value in data.items():
    # ...
</code></pre>
</div>
<span class="comment-copy">I'm sorry I was meant to say attribute values instead of attributes. Will update my question</span>
<span class="comment-copy">I also get an error TypeError: 'Response' object is not subscriptable I think this is due to casing on true and false values. Do you know what I can do to avoid this?</span>
<span class="comment-copy">Show what you've done to get that error</span>
<span class="comment-copy">I'm not sure I follow. How do I assign an int value instead of d?</span>
<span class="comment-copy">I actually meant attribute values instead of attributes. I have updated my question</span>
<span class="comment-copy">Yes I know, I'm only demonstrating why the error you're receiving, you're iterating over the dictionary's keys which are strings, and then when you <code>d['overall-staked-amount']</code>  you are trying to apply a non-integer index to a string.</span>
<span class="comment-copy">Use <code>data.items()</code> in order to iterate over the dictionary (key, value) pairs.</span>
