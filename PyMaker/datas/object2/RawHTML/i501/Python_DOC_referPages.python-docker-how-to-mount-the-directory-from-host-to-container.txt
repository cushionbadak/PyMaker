<div class="post-text" itemprop="text">
<p>can someone please share some examples of py apis showing how to mount the directories ? 
I tried like this but I dont see its working</p>
<pre><code>dockerClient = docker.from_env()
dockerClient.containers.run('image', 'ls -ltr', volumes={os.getcwd(): {'bind': '/tmp/', 'mode': 'rw'}})
</code></pre>
</div>
<div class="post-text" itemprop="text">
<h3>By getting the container object</h3>
<p>Change your code according to the following:</p>
<pre class="lang-py prettyprint-override"><code>import os
import docker

client = docker.from_env()

container = client.containers.run('ubuntu:latest', 'ls -ltr /tmp', volumes={os.getcwd(): {'bind': '/tmp/', 'mode': 'rw'}}, detach=True)
print(container.logs()) 

# =&gt; b'total 4\n-rw-r--r-- 1 1000 1000 215 Feb 14 12:07 main.py\n'
</code></pre>
<p>Here, the container object is the key. To get it, you have to pass <code>detach</code> param as <code>True</code>.</p>
<p>Then it can print out the result of the executed command(s).</p>
<h3>By setting streams</h3>
<p>Another way to get the output is to set the <code>stream</code> parameter to <code>True</code> that returns a log generator instead of a string. Ignored if detach is true.</p>
<pre class="lang-py prettyprint-override"><code>lines = client.containers.run('ubuntu:latest', 'ls -la /', volumes={os.getcwd(): {'bind': '/tmp/', 'mode': 'rw'}}, stream=True)                                                                         

for line in lines:                                                                                  
    print(line)
</code></pre>
<p>docker-py is a wrapper around the docker engine api. Hence everything is executed inside the container and the result of the execution is available via REST.</p>
<h3>By using subprocess</h3>
<p>You can use <code>subprocess</code> module if you want to execute something and get its output on the fly.</p>
<pre class="lang-py prettyprint-override"><code>import subprocess

subprocess.run(["docker run ..."])
</code></pre>
<p>Doc:</p>
<ul>
<li>docker-py: <a href="https://docker-py.readthedocs.io/en/stable/containers.html" rel="nofollow noreferrer"><code>client.containers.run(...)</code></a></li>
<li>Engine API: <a href="https://docs.docker.com/engine/api/v1.24/#31-containers" rel="nofollow noreferrer">containers</a></li>
<li>Subprocess: <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow noreferrer">subprocess.run</a></li>
</ul>
</div>
<span class="comment-copy">thanks it works.</span>
<span class="comment-copy">is it possible to get real-time output of the logs when we run a command ?</span>
<span class="comment-copy">I am trying to run a script inside docker and output of the script is printed using "dcoker run.." but doesnt print when I use python apis using print statement. any idea ?</span>
