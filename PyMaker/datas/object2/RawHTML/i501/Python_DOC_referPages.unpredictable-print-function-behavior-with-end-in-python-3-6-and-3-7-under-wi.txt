<div class="post-text" itemprop="text">
<p>The following code works strange</p>
<pre><code>import time

def test_print_end(EOL):
    for i in range(3):
        print("Processing... ", end=EOL)
        # You may replace ``time.sleep(5)`` with the long-time processing.
        time.sleep(5)
        print("Done")    

print('EOL == ""')
test_print_end(EOL = "")
print('EOL == "\\n"')
test_print_end(EOL = "\n")
</code></pre>
<ol>
<li><p>When <code>EOL == ""</code>:</p>
<ol>
<li>While run the code in Spyder console it works predictable: prints <code>"Processing... "</code>, then waits 5 seconds and prints <code>" Done"</code> in the same line.</li>
<li>But in "cmd.exe" it waits 3 seconds, then prints <code>"Processing... Done"</code> simultaneously.</li>
</ol></li>
<li>When  <code>EOL == "\n"</code> it works the same way in Spyder console and cmd.exe: prints <code>"Processing... "</code>, then waits 5 seconds and prints <code>" Done"</code> in the new line.</li>
</ol>
<p>Is it feature or bug?</p>
<p>My environment is:</p>
<ol>
<li>('64bit', 'WindowsPE')</li>
<li>Windows-7-6.1.7601-SP1</li>
<li>Python 3.7.2 (default, Feb 11 2019, 14:11:50) [MSC v.1915 64 bit (AMD64)]</li>
<li>Python 3.6.6 (default, Jun 28 2018, 11:21:07) [MSC v.1900 32 bit (Intel)]</li>
</ol>
</div>
<div class="post-text" itemprop="text">
<p>It seems like Python is waiting for the current line ot be finished before printing it. This behaviour might vary in different versions or environments. In your case, you can add the <a href="https://docs.python.org/3/library/functions.html#print" rel="nofollow noreferrer"><code>flush</code> parameter</a> to force printing of the partial line.</p>
<blockquote>
<p>Whether output is buffered is usually determined by file, but if the flush keyword argument is true, the stream is forcibly flushed.</p>
</blockquote>
<pre><code>print("Processing... ", end=EOL, flush=True)
</code></pre>
</div>
<span class="comment-copy">Thanks a lot. It works well. It's interesting why not set the behavior by default.</span>
<span class="comment-copy">@dinya I guess it's for performance reasons. Printing to screen or file is quite expensive, so output is buffered until a line is full.</span>
