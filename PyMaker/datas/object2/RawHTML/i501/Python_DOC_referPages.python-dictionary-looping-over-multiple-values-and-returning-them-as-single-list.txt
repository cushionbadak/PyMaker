<div class="post-text" itemprop="text">
<pre><code>names={"animal":"cat","animal":"dog","animal":"rat","bird":"humming"}
names_dict={}
for k,v in names.items():
    names_dict.setdefault(k,[]).append(v)   
print (names_dict)
</code></pre>
<p>my desired output should be </p>
<pre><code>{'animal': ['rat','cat','dog'], 'bird': ['humming']}
</code></pre>
<p>but the output im getting is this</p>
<pre><code>{'animal': ['rat'], 'bird': ['humming']}
</code></pre>
<p>can someone tell me where i'm going wrong. Any help is greatly appreciated. THnaks</p>
</div>
<div class="post-text" itemprop="text">
<p>The key in a Python dictionary should be unique. You have repeated the same key <code>'animal'</code> thrice, and Python retained the value of the <em>last</em><sup>1</sup> animal key. From the <a href="https://docs.python.org/3/tutorial/datastructures.html" rel="nofollow noreferrer">official documentation</a>,</p>
<blockquote>
<p>It is best to think of a dictionary as a set of key: value pairs, with the  requirement that the keys are unique (within one dictionary).</p>
</blockquote>
<hr/>
<p><sup>1. Note that <em>last</em> can also be quite vague. Depending on the Python version you have, it might be consistent but that cannot be generally guaranteed.</sup></p>
</div>
<div class="post-text" itemprop="text">
<p>This line:</p>
<pre><code>names={"animal":"cat","animal":"dog","animal":"rat","bird":"humming"}
</code></pre>
<p>is exactly the same with this:</p>
<pre><code>names={"animal":"rat","bird":"humming"}
</code></pre>
<p>When you add items to <code>dict</code>, if the key is already is in the dict, the value will be overridden.</p>
</div>
<div class="post-text" itemprop="text">
<p>As mentioned in @Vijay M's answer, the key in python dictionaries should be unique. I guess you are looking for a solution like this one:</p>
<pre><code>names = {"cat": "animal", "dog": "animal", "rat": "animal", "humming": "bird"}

names_dict={}
for k, v in names.items():
    names_dict.setdefault(v,[]).append(k)

print(names_dict)
</code></pre>
<p>Note that the values and the keys are swapped.</p>
<p>Hopefully, this helps.</p>
</div>
<span class="comment-copy">Dictionaries keys should be unique...<code>print(names)</code> to check.</span>
<span class="comment-copy">Your initial dictionary doesn't contain what you think it does, some of that information has already been lost. It's unclear where that's coming from, so this isn't solvable as posted; <a href="https://stackoverflow.com/posts/54665646/edit">edit</a> to provide more context, why do you think that's what you're starting with?</span>
<span class="comment-copy">Thanks rakesh:)</span>
