<div class="post-text" itemprop="text">
<p>I'm using ubuntu mate on raspberry pi 3b. Is there an easy way to do something similar to:</p>
<pre><code>import os
name = os.getlogin()
print(name)
</code></pre>
<p>(from windows)? When I try to use this on linux, I get this error:</p>
<pre><code>Traceback (most recent call last):

  File "(this is a less than sign)pyshell#3(this is a greater than sign)", line 1, in &lt;module&gt;

print(os.getlogin())
OSError: [Errno 25] Inappropriate ioctl for device
</code></pre>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p><code>os.environ</code> is a dictionary, which contains various type of environment variable. Here <code>USERNAME</code>, <code>LOGNAME</code>, <code>USER</code> etc are system-state environment variable. So according to the operating system and type of current user, we can find those environment variables.
  When we login as a normal user in <code>Ubuntu</code>, we have all <code>USERNAME</code>, <code>LOGNAME</code> and <code>USER</code> in system-state environment variable but when we login as a <code>root</code> user we have <code>USER</code> and <code>LOGNAME</code> in system-state environment variable.
  Please look at the below code for normal user in <code>Ubuntu</code>.</p>
</blockquote>
<pre><code>import os
# From os.environ, you can read USERNAME and LOGNAME 
os.environ['USERNAME']
os.environ['LOGNAME']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You need to <strong>define what is the "login name"</strong> (and <em>why</em> you need it). In the details it is not that simple (and I am not exactly sure that you understand what it is exactly, even on Windows, which I don't know). Notice that <a href="https://docs.python.org/3/library/os.html?highlight=getlogin#os.getlogin" rel="nofollow noreferrer"><code>os.getlogin</code></a> is <em>documented</em> to use the <a href="https://en.wikipedia.org/wiki/POSIX_terminal_interface" rel="nofollow noreferrer">controlling terminal</a> (read more about these in <a href="http://www.linusakesson.net/programming/tty/" rel="nofollow noreferrer">the TTY demystified</a>,  <a href="http://man7.org/linux/man-pages/man7/pty.7.html" rel="nofollow noreferrer">pty(7)</a>, <a href="http://man7.org/linux/man-pages/man4/tty.4.html" rel="nofollow noreferrer">tty(4)</a>) and in some cases (e.g. a <a href="http://man7.org/linux/man-pages/man5/crontab.5.html" rel="nofollow noreferrer">crontab(5)</a> job, a remote command started thru <code>ssh</code>, etc...) you don't have any.</p>
<p>You could use some environment variable. See <a href="http://man7.org/linux/man-pages/man7/environ.7.html" rel="nofollow noreferrer">environ(7)</a> and <a href="http://man7.org/linux/man-pages/man3/getenv.3.html" rel="nofollow noreferrer">getenv(3)</a> (and find its Python equivalent, probably <a href="https://docs.python.org/3/library/os.html?highlight=dup2#os.environ" rel="nofollow noreferrer">os.environ</a>). In most cases (in some interactive session), both <code>USER</code> and <code>LOGNAME</code> environment variables would give you some "login name". In pathological cases, they could be missing or different (or incorrect, think of <a href="https://en.wikipedia.org/wiki/Setuid" rel="nofollow noreferrer">setuid</a> programs). Python has <a href="https://docs.python.org/3/library/getpass.html?highlight=getuser#getpass.getuser" rel="nofollow noreferrer"><code>getpass.getuser</code></a></p>
<p>Then, read about <a href="http://man7.org/linux/man-pages/man7/credentials.7.html" rel="nofollow noreferrer">credentials(7)</a>. You then know that every process has its uid (see <a href="http://man7.org/linux/man-pages/man2/getuid.2.html" rel="nofollow noreferrer">getuid(2)</a> and <code>geteuid</code>). That <a href="https://en.wikipedia.org/wiki/User_identifier" rel="nofollow noreferrer">uid</a> is a number (a probable equivalent on Windows would be the <a href="https://en.wikipedia.org/wiki/Security_Identifier" rel="nofollow noreferrer">SID</a>). From that number you might get a "login name" using <a href="http://man7.org/linux/man-pages/man3/getpwuid.3.html" rel="nofollow noreferrer">getpwuid(3)</a>, in Python <a href="https://docs.python.org/3/library/pwd.html#pwd.getpwuid" rel="nofollow noreferrer">pwd.getpwuid</a></p>
<p>In very rare pathological cases, you might even have a process with some uid which has no "login name" (this could, for example, happen with an old process running in a uid that you have deleted from your <code>/etc/passwd</code>, see <a href="http://man7.org/linux/man-pages/man5/passwd.5.html" rel="nofollow noreferrer">passwd(5)</a>)</p>
<p>In pathological cases, <code>USER</code> &amp; <code>LOGNAME</code> environment variables, and <code>getuid</code> / <code>geteuid</code> followed by <code>getpwuid</code> could give <em>different</em> "login names", then you have to decide which one you want (that is equivalent to <em>exactly</em> define what "login name" means to  you).</p>
<p>You should read <a href="http://www.makelinux.net/alp/" rel="nofollow noreferrer">ALP</a> to learn more about Linux programming, and adapt the knowledge you get from there (ALP explains things from a C API point of view) to Python.</p>
<p>If you need a <a href="https://en.wikipedia.org/wiki/Home_directory" rel="nofollow noreferrer">home directory</a>, the common wisdom is to use the <code>HOME</code> environment variable (but again, you might have pathological cases where it is unset or wrong; in such rare cases, you need to define what you really want.).</p>
<p>PS. On Unix systems, I don't understand why you need a login <em>name</em> in general. The common idiom is to reason in terms of <a href="https://en.wikipedia.org/wiki/User_identifier" rel="nofollow noreferrer">uid</a>.</p>
</div>
<span class="comment-copy">Luckily the documentation is helpful here: "For most purposes, it is more useful to use getpass.getuser() ..."</span>
<span class="comment-copy">Please <b><a href="https://stackoverflow.com/posts/54167704/edit">edit</a> your question to explain <i>why</i> do you need a <i>login name</i></b>. Smells like an <a href="http://xyproblem.info" rel="nofollow noreferrer">XY problem</a> to me. I don't understand for what kind of application such a name is really needed (on Unix, the  <code>uid</code> is a more natural way of thinking)</span>
<span class="comment-copy">Without motivation, <b>your question is unclear.</b> You don't define what is the login name and why you need it. What should your program do if it cannot find a login name? Or if it find different ones (see <a href="https://stackoverflow.com/a/54167834/841108">my answer</a>) ?</span>
<span class="comment-copy">It would be better to provide some explanation in English in that answer</span>
<span class="comment-copy">Thanks @BasileStarynkevitch, going forward surely I will follow it. For now, as per your advice I edited my answer.</span>
