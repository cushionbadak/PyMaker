<div class="post-text" itemprop="text">
<p>Since I've been trying to figure out how to make a loop and I couldn't make it from another threads, I need help. I am totally new to this so editing existing codes is hard for me.</p>
<p>I am trying to web scrap data from website. Here's what I've done so far, but I have to insert pages "manually". I want it to automatically scrap prices in zl/m2 from 1 to 20 pages for example:</p>
<pre><code>import requests
from bs4 import BeautifulSoup

link=("https://ogloszenia.trojmiasto.pl/nieruchomosci-mam-do-wynajecia/wi,100.html?strona=1")
page = requests.get(link).text

link1=("https://ogloszenia.trojmiasto.pl/nieruchomosci-mam-do-wynajecia/wi,100.html?strona=2")
page1 = requests.get(link1).text

link2=("https://ogloszenia.trojmiasto.pl/nieruchomosci-mam-do-wynajecia/wi,100.html?strona=3")
page2 = requests.get(link2).text

pages=page+page1+page2+page3+page4+page5+page6

soup = BeautifulSoup(pages, 'html.parser')
price_box = soup.findAll('p', attrs={'class':'list__item__details__info details--info--price'})

prices=[]

for i in range(len(price_box)):
prices.append(price_box[i].text.strip())

prices    
</code></pre>
<p>I've tried with this code, but got stuck. I don't know what should I add to get output from 20 pages at once and how to save it to csv file.</p>
<pre><code>npages=20
baselink="https://ogloszenia.trojmiasto.pl/nieruchomosci-mam-do-wynajecia/wi,100.html?strona="
for i in range (1,npages+1):
link=baselink+str(i)
page = requests.get(link).text
</code></pre>
<p>Thanks in advance for any help.</p>
</div>
<div class="post-text" itemprop="text">
<p>Python is whitespace sensitive, so the code block of any loops needs to be indented, like so:</p>
<pre><code>for i in range (1,npages+1):
    link=baselink+str(i)
    page = requests.get(link).text
</code></pre>
<p>If you want all of the pages in a single string (so you can use the same approach as with your pages variable above), you can append the strings together in your loop:</p>
<pre><code>pages = ""
for i in range (1,npages+1):
    link=baselink+str(i)
    pages += requests.get(link).text
</code></pre>
<p>To create a csv file with your results, you can look into the csv.writer() method in python's built-in <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">csv module</a>, but I usually find it easier to write to a file using print():</p>
<pre><code>with open(samplefilepath, mode="w+") as output_file:
    for price in prices:
        print(price, file=output_file)
</code></pre>
<p><code>w+</code> tells python to create the file if it doesn't exist and overwrite if it does exist. <code>a+</code> would append to the existing file if it exists</p>
</div>
<span class="comment-copy">That was exactly what I wanted to achieve. Seems like I missed only "+=". Thanks.  Do you know any way to save it directly to csv file?</span>
<span class="comment-copy">added sample csv output. If you're using Mac, you're path would look something like r"/users/daniellong/Documents/output.csv". For windows, slashes are the other way. r"C:\users\daniellong\Documents\output.csv"</span>
