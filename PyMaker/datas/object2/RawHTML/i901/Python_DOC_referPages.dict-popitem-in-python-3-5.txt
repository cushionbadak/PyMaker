<div class="post-text" itemprop="text">
<p>In the last versions of python, the builtin dictionary {} preserves the order, just like the OrderedDict (even if it's not guaranteed to do so).</p>
<p>Does dict.popitem() always return the last key-value pair from the dictionary, or a random one?</p>
</div>
<div class="post-text" itemprop="text">
<p>Yes. From the <a href="https://docs.python.org/3/library/stdtypes.html#dict.popitem" rel="nofollow noreferrer">Python Documentation</a> (3.7):</p>
<blockquote>
<p><strong>popitem()</strong></p>
<p>Remove and return a (key, value) pair from the dictionary. <strong>Pairs are returned in LIFO order.</strong></p>
</blockquote>
<p>The same <a href="https://docs.python.org/3/library/collections.html#collections.OrderedDict.popitem" rel="nofollow noreferrer">also applies</a> to <code>collections.OrderedDict</code> before Python 3.7.</p>
<p>However, do note that <code>dict.popitem</code> (the non-ordered version) has no guarantee in Python 3.6 or older versions.</p>
</div>
<div class="post-text" itemprop="text">
<p>You mention python 3.5 (which is not the latest version), for which the <a href="https://docs.python.org/3.5/library/stdtypes.html#dict.popitem" rel="nofollow noreferrer">docs</a> say:</p>
<blockquote>
<p><strong>popitem()</strong><br/>
    Remove and return an <strong>arbitrary</strong> (key, value) pair from the dictionary.</p>
</blockquote>
<p>where arbitrary means implementation dependent (possibly based on <a href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONHASHSEED" rel="nofollow noreferrer">PYTHONHASHSEED</a>), but not necessarily random or LIFO.</p>
<p>Since the latest python 3.7 however, like @iBug mentions, it's <a href="https://docs.python.org/3/library/stdtypes.html#dict.popitem" rel="nofollow noreferrer">LIFO</a>.</p>
</div>
