<div class="post-text" itemprop="text">
<p>I have a little python3 script using selenium that scrapes links to old newspapers from a website (<a href="http://digesto.asamblea.gob.ni/consultas/coleccion/" rel="nofollow noreferrer">http://digesto.asamblea.gob.ni/consultas/coleccion/</a>), however, my nested loop does not function correctly.</p>
<p>It shall iterate through all rows to gather the publication date to name the corresponding PDF like (<code>Gaceta_Oficial_Date.pdf</code>) and iterate through all links in my list, instead it iterates through all links and names it the same. So the first loop does not iterate.</p>
<p>But how to a make two loops "work" together so that one loop gets the result of the first loop?</p>
<p>This is the relevant part of the script:</p>
<pre><code>import os
import datetime

new_links = ['http://digesto.asamblea.gob.ni/consultas/util/pdf.php?type=rdd&amp;rdd=vPjrUnz0wbA%3D',
'http://digesto.asamblea.gob.ni/consultas/util/pdf.php?type=rdd&amp;rdd=dsyx6l1Fbig%3D',
'http://digesto.asamblea.gob.ni/consultas/util/pdf.php?type=rdd&amp;rdd=Cb64W7EHlD8%3D',
'http://digesto.asamblea.gob.ni/consultas/util/pdf.php?type=rdd&amp;rdd=A4TKEG9x4F8%3D'] # only 4 links in list for simplification

table_id = driver.find_element(By.ID, 'tableDocCollection')
rows = table_id.find_elements_by_css_selector("tbody tr") # get all table rows

title = "Gaceta_Oficial_"
extension = ".pdf"
for row in rows:
    col = row.find_elements(By.TAG_NAME, "td")[2]
    date = col.text
    print(date)
    date = datetime.datetime.strptime(date, '%d/%m/%Y').strftime('%Y%m%d')
    filename = title + str(date) + extension
    print(filename)
    for new_link in new_links:
        print("Downloading %s" % filename)
        r = requests.get(new_link)
        open(os.path.expanduser("~/Downloads/" + filename, 'wb').write(r.content)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Fixed the problem with <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer">zip</a> for this line:</p>
<pre><code>for row, new_link in zip(rows, new_links):
</code></pre>
</div>
<span class="comment-copy"><code>wget</code> seems like an odd choice in 2019 when there's <a href="https://pypi.org/project/requests/" rel="nofollow noreferrer"><code>requests</code></a>.</span>
<span class="comment-copy">In which way is it better? Can you help me out with the question, tripleee? :)</span>
<span class="comment-copy">I have not examined <code>wget</code> in any detail so I can't really comment on better vs worse. You are likely to find that it's a lot easier to find support for a popular and supported library than a weird and possibly abandoned old one.  It also looks like <code>wget</code> is a wrapper around the <code>wget</code> utility, whereas <code>requests</code> gives you native Python HTTP with all the opportunities to let your Python code handle various callbacks in the middle of the session.</span>
<span class="comment-copy">I'll change it to requests then. Thank you, tripleee. If you are already on it, can you help me out with my question? :)</span>
