<div class="post-text" itemprop="text">
<p>i'm new to web development and i'm testing my site with sending http get request to check on how well my site will handle request. with my code i can send multiple get request, how can i make code send more than multiple request i want the loop to never stop, i mean send the get request over and over again how can i do that.. i am very sorry for my bad English hope u get my question.</p>
<pre><code>import time
import datetime
import asyncio
import aiohttp

domain = 'http://myserver.com'
a = '{}/page1?run={}'.format(domain, time.time())
b = '{}/page2?run={}'.format(domain, time.time())

async def get(url):
    print('GET: ', url)
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            t = '{0:%H:%M:%S}'.format(datetime.datetime.now())
            print('Done: {}, {} ({})'.format(t, response.url, response.status))

loop = asyncio.get_event_loop()
tasks = [
    asyncio.ensure_future(get(a)),
    asyncio.ensure_future(get(b))
]
loop.run_until_complete(asyncio.wait(tasks))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If you want something to happen over and over, add a <a href="https://docs.python.org/3/reference/compound_stmts.html#the-for-statement" rel="nofollow noreferrer">for</a> or <a href="https://docs.python.org/3/reference/compound_stmts.html#the-while-statement" rel="nofollow noreferrer">while</a> loop - see <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/index.html</a></p>
<pre class="lang-py prettyprint-override"><code>async def get(url):
    async with aiohttp.ClientSession() as session:
        while True:
            print('GET: ', url)
            async with session.get(url) as response:
                t = '{0:%H:%M:%S}'.format(datetime.datetime.now())
                print('Done: {}, {} ({})'.format(t, response.url, response.status))
</code></pre>
</div>
<span class="comment-copy">thank u for ur answer sir, this won't affect my run until complete task?</span>
<span class="comment-copy">@Noob you can keep the last 6 lines of code (with <code>loop.run_until_complete</code>) the same.</span>
<span class="comment-copy">Thank you so much sir..</span>
