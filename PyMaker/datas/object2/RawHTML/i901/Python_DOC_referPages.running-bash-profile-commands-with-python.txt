<div class="post-text" itemprop="text">
<p>In my bash terminal, I can run the following command:</p>
<pre><code>$SCHRODINGER/run volume_calc.py -imae type.mae
</code></pre>
<p>and this works correctly.</p>
<p>I am then trying to run the same command in a python script; where I have tried the following approach:</p>
<pre><code>import subprocess
subprocess.run(['$SCHRODINGER/run', 'volume_calc.py', '-imae', 'type.mae'])
</code></pre>
<p>which throws the error:</p>
<pre><code>FileNotFoundError: [Errno 2] No such file or directory: '$SCHRODINGER/run'
</code></pre>
<p>I am confused what the issue could be, as I can run basic bash commands fine. Thank you for any help.</p>
</div>
<div class="post-text" itemprop="text">
<p>Environment variable expansion is not done by default using subprocess unless you pass the <code>shell</code> argument to the <code>subprocess.run</code> call. This will pass your arguments to a shell (e.g. <code>bash</code>) which will handle the desired expansion and any other shell-like functionality.</p>
<p>Here's the code change necessary:</p>
<pre><code>subprocess.run(['$SCHRODINGER/run', 'volume_calc.py', '-imae', 'type.mae'], shell=True)
</code></pre>
<p>Note that it is worth reading through the <a href="https://docs.python.org/3/library/subprocess.html#security-considerations" rel="nofollow noreferrer">security considerations</a> for using this given in the python documentation.</p>
</div>
