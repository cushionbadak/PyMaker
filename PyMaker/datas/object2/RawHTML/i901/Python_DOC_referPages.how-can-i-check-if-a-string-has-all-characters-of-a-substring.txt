<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/9443302/search-strings-in-list-containing-specific-letters-in-random-order">Search strings in list containing specific letters in random order</a>
<span class="question-originals-answer-count">
                    5 answers
                </span>
</li>
</ul>
</div>
<p>I need to find if a string has all characters of a substring. So for a 7 char string i want to know if the chars of a 5 char substings are in the string, without repeating letters (if substring has 2 letters a, then the string needs at max 2 letters a).</p>
<p>For exemple : </p>
<pre><code>Substring = 'aabfy'
String1 = 'aabcfgy'
String2 = 'abcfgmy' 
String3 = 'aaabcfy'
</code></pre>
<p>Then String1 and String3 are True, but String2 is False. Because sub string is in 1 and 3 but not in 2 (double a, but it can also be any other letter).</p>
<p>I hope i explained myself, any questions i can and will answer.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer"><code>collections.Counter</code></a> in the following way:</p>
<pre><code>from collections import Counter

def contains_all(string, substring):
    c1, c2 = Counter(string), Counter(substring)
    return all(c1[x] &gt;= c2[x] for x in c2)
</code></pre>
<p>This will ensure every character in the substring is at least as many times in the containing string.</p>
<pre><code>&gt;&gt;&gt; contains_all('aaabcfy', 'aabfy')
True
&gt;&gt;&gt; contains_all('abcfgmy', 'aabfy')
False
&gt;&gt;&gt; contains_all('aabcfgy', 'aabfy')
True
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Or use <code>str.count</code> in list comprehension, with <code>all</code>:</p>
<pre><code>def f(s):
    return all(s.count(i)&gt;=Substring.count(i) for i in Substring)
print(f(String1))
print(f(String2))
print(f(String3))
</code></pre>
<p>Output:</p>
<pre><code>True
False
True
</code></pre>
</div>
<span class="comment-copy">Does the order matter, does it have to be a subsequence? In other words, would <code>'ybafaxyz'</code> be a valid containing string?</span>
<span class="comment-copy">yes that will also be a valid string</span>
<span class="comment-copy">@TigerhawkT3 It's not a duplicate, the number of each character matters.</span>
<span class="comment-copy">It works! Thanks</span>
<span class="comment-copy">No need to build the spurious list which will render the early breaking of <code>all</code> pointless. Better pass it a generator. Also, repeated calls to <code>str.count</code> are bad in terms of performance as the entire string needs to be iterated for every char.</span>
<span class="comment-copy">@schwobaseggl okay now?</span>
<span class="comment-copy">Yes :) the second part still holds though.</span>
<span class="comment-copy">@schwobaseggl Second part?</span>
<span class="comment-copy">@schwobaseggl If my timings are correct, this solution is 10x faster than your solution using <code>Counter</code>.</span>
