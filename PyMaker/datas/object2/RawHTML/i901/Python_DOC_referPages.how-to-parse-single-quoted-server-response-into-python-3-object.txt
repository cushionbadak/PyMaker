<div class="post-text" itemprop="text">
<p>The text below is the response from a sandbox account at a credit card processor. How can I read this text into a python 3 object? </p>
<p>I think I could replace all of the single quotes with double quotes and then use the json parser, but surely there is a better way that doesn't risk the text having an apostrophe in it.</p>
<p>I tried just reading it as a dictionary</p>
<pre><code>print(res['id'])
</code></pre>
<p>but that throws this exception:</p>
<pre><code>string indices must be integers


{'client_id': None,
'created_at': '2019-01-15T02:36:16Z',
'id': 'QS9W1s0RMiHDKyu311U8sywpy9nyo0xMzPJfNmkzPSIDbjqXF0WFrLhO',
'location_id': 'CBASEBQ9PfySJ8Rm5hV7SfRtV-cgAQ',
'order_id': None,
'product': 'EXTERNAL_API',
 'reference_id': None,
 'refunds': None,
 'shipping_address': None,
 'tenders': [{'additional_recipients': None,
          'amount_money': {'amount': 20000, 'currency': 'USD'},
          'card_details': {'card': {'billing_address': None,
                                    'card_brand': 'VISA',
                                    'cardholder_name': None,
                                    'exp_month': None,
                                    'exp_year': None,
                                    'fingerprint':     'df1f5f029dcae0090e5ee877267c7863670d910f9b9d395e3315dea21f0f142a',
                                    'id': None,
                                    'last_4': '1111'},
                           'entry_method': 'KEYED',
                           'status': 'CAPTURED'},
          'cash_details': None,
          'created_at': '2019-01-15T02:36:16Z',
          'customer_id': None,
          'id': 'c0ea3992-8104-560a-75c4-5f88b4ba5c7b',
          'location_id': 'CBASEBQ9PfySJ8Rm5hV7SfRtV-cgAQ',
          'note': 'Online Transaction',
          'processing_fee_money': None,
          'tip_money': None,
          'transaction_id':     'QS9W1s0RMiHDKyu311U8sywpy9nyo0xMzPJfNmkzPSIDbjqXF0WFrLhO',
          'type': 'CARD'}]}
</code></pre>
<p>Ultimately, I want to be able to pull individual values out using specific keys. How can I do that? </p>
</div>
<div class="post-text" itemprop="text">
<p>If this is a repr dump of python primitive values, you can use <a href="https://docs.python.org/3/library/ast.html#ast.literal_eval" rel="nofollow noreferrer"><code>ast.literal_eval()</code></a>. </p>
<p>This is a safer alternative than using <code>eval()</code>, which can execute arbitrary code when run over untrusted input.</p>
<p>Ultimately though, it's best to fix it in the code that generates this so it generates proper JSON.</p>
</div>
<span class="comment-copy">This is a response from a credit card processor. I can't fix it or change it.</span>
<span class="comment-copy">@ukalumni: it's very, very, very unusual for an API response would return a language-specific notation (JSON doesn't count, because it's standardized), as that'll severely limit their customers to just Python companies. Are you sure it's not your handling of the response that's converting their response to this repr? If you're using a Python SDK to access their API, then you'll likely already have them as python objects/native types elsewhere and you're incorrectly reserialising this to string.</span>
<span class="comment-copy">@ukalumni If this string is really their server response formatted this way, then I'll suggest you should just use a different payment processor, as this shows that these guys don't understand what they're doing, and will likely go out of business soon.</span>
