<div class="post-text" itemprop="text">
<p>I'm trying to extract title's from web pages using regex, however some of the title's have &amp;amp which is causing my regex not to match. I am completely new to regex. Plus while searching I came across this stackoverflow so though of asking the questions here. (I read through all the similar content and youtube video's on regex but non address my issues, hence I am asking this question here)</p>
<p>This is my already written regex</p>
<pre><code>match = re.search(r'&lt;h3 class="font-semibold m-0 t-xs-24"&gt;(?P&lt;ASN_CODE&gt;AS\d+(&amp;amp)) (?P&lt;NAME&gt;[\w.\s]+)&lt;/h3&gt;', s).groups()
</code></pre>
<p>My code:</p>
<pre><code>s = """HTML source """
#https://ipinfo.io/AS7018  [This is the webpage i am trying to scrap]

match = re.search(r'&lt;h3 class="font-semibold m-0 t-xs-24"&gt;(?P&lt;ASN_CODE&gt;AS\d+) (?P&lt;NAME&gt;[\w.\s]+)&lt;/h3&gt;', s)
if match:
    asn_code, name = match.groups()
    print(asn_code)
    print(name)
</code></pre>
<p>This is not matching even the titles that do not have &amp;amp
sample webpages:
<a href="https://ipinfo.io/AS7922" rel="nofollow noreferrer">https://ipinfo.io/AS7922</a>
<a href="https://ipinfo.io/AS7018" rel="nofollow noreferrer">https://ipinfo.io/AS7018</a></p>
<p>Expected Output:
Comcast Cable Communications, LLC  United States
AT&amp;T Services, Inc. United States</p>
<p>I am not sure how to change my regex part(?=&amp;amp) to match both &amp;amp as well as NOT &amp;amp
Any pointers is greatly appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>Don't try to parse HTML with regular expressions.  Use a suitable HTML parser.  Here's an example with <code>BeautifulSoup</code> using <code>html.parser</code> from the standard library:</p>
<pre><code>#!/usr/bin/env python3
import bs4
import requests


def main():
    response = requests.get('https://ipinfo.io/AS7018')
    soup = bs4.BeautifulSoup(response.content, 'html.parser')
    asn_code, _, name = soup.h3.text.partition(' ')
    print('ASN code:', asn_code, '  Company name:', name)


if __name__ == '__main__':
    main()
</code></pre>
</div>
<span class="comment-copy">You want to match what? <code>ipinfo.com</code>?</span>
<span class="comment-copy">there are lots of elements with h3 check here <a href="https://regex101.com/r/pSmgGC/1/" rel="nofollow noreferrer">regex101.com/r/pSmgGC/1</a>, ` Comcast Cable Communications,` only this name is under h3 not the other names you specified</span>
<span class="comment-copy">Yes, from the other web-page I need to get the AT&amp;T Services, Inc . since it has a &amp;amp I am not able to match it.</span>
<span class="comment-copy">I have given 2 different web pages and I am trying to get the titles from each of those. website 1: <a href="https://ipinfo.io/AS7018" rel="nofollow noreferrer">ipinfo.io/AS7018</a>    website 2:  <a href="https://ipinfo.io/AS7922" rel="nofollow noreferrer">ipinfo.io/AS7922</a></span>
<span class="comment-copy">You may be better off using <a href="https://docs.python.org/3/library/html.parser.html" rel="nofollow noreferrer"><code>html.parser</code></a> rather than regex (or potentially combined with some simpler regex depending on the complexity of your requirements).</span>
