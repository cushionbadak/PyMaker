<div class="post-text" itemprop="text">
<p>I am using cloud function to deploy a python function (version=3.7, memory=1go and timeout=1s).</p>
<p>So far, it perfectly works.</p>
<p>However, I've noticed that, by default, the cloud function has its region set to <code>us-central1</code>.
I need my function to be in <code>europe-west1</code> so I've change the region (<a href="https://cloud.google.com/functions/docs/locations" rel="nofollow noreferrer">https://cloud.google.com/functions/docs/locations</a>) using  </p>
<p><code>gcloud function deploy .... --region europe-west1</code></p>
<pre><code>ERROR: (gcloud.functions.deploy) OperationError: code=3, message=Function failed on loading user code. Error message: Error: function load attempt timed out
</code></pre>
<p>I don't understand why it works with us-central1 and not  europe-west1.</p>
<p>Any ideas ?</p>
<p>Thx for your help !</p>
<p><strong>EDIT</strong> :</p>
<p>Thx Renaud and Pablo</p>
<p>Typos were in my message, but I think I got the right command. Here it is :</p>
<pre><code>gcloud functions deploy my_test --entry-point my_test_1 --runtime python37 --memory 1024MB --region=europe-west1 --trigger-http
</code></pre>
<p>And I still got the same error message.</p>
<p>But this </p>
<pre><code>gcloud functions deploy my_test --entry-point my_test_1 --runtime python37 --memory 1024MB --trigger-http
</code></pre>
<p>works fine.</p>
<p>Hope someone has an idea :) Thank you !</p>
</div>
<div class="post-text" itemprop="text">
<p><strong>Updated following your update (and Pablo Almécija Rodríguez's answer):</strong></p>
<p>You have to follow this <a href="https://cloud.google.com/sdk/gcloud/reference/functions/deploy" rel="nofollow noreferrer">doc</a> (i.e. the "complete reference for the deploy command") and add <code>=</code> when it is needed, as detailed in the doc:</p>
<blockquote>
<pre><code>gcloud functions deploy (NAME : --region=REGION) [--entry- point=ENTRY_POINT] [--memory=MEMORY] [--retry]
[--runtime=RUNTIME] [--service-account=SERVICE_ACCOUNT]
[--source=SOURCE] [--stage-bucket=STAGE_BUCKET] [--timeout=TIMEOUT]
[--update-labels=[KEY=VALUE,…]] [--clear-env-vars     |
--env-vars-file=FILE_PATH     | --set-env-vars=[KEY=VALUE,…]     | --remove-env-vars=[KEY,…] --update-env-vars=[KEY=VALUE,…]] [--clear-labels     | --remove-labels=[KEY,…]]
[--trigger-bucket=TRIGGER_BUCKET     | --trigger-http     |
--trigger-topic=TRIGGER_TOPIC     | --trigger-event=EVENT_TYPE --trigger-resource=RESOURCE] [GCLOUD_WIDE_FLAG …]
</code></pre>
</blockquote>
<p>So you should do:</p>
<pre><code>gcloud functions deploy my_test --entry-point=my_test_1 --runtime=python37 --memory=1024MB --timeout=1s --region=europe-west1 --trigger-http
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You have a couple of typos (and two missing parameters in case it is the first time you deploy the Cloud Function). Your command should look like this:</p>
<pre><code>gcloud functions deploy ... --region=europe-west1 [--trigger-http --runtime=python37]
               ^                    ^
</code></pre>
<p>Last parameters were an example of trigger and runtime (in this case you use that very same), since if it is the first time you deploy the function, you need to specify your desired trigger and ideally the runtime too.</p>
<p>As Renaud mentioned, here is the <a href="https://cloud.google.com/sdk/gcloud/reference/functions/deploy" rel="nofollow noreferrer">documentation</a> on the parameters to deploy Cloud Functions.</p>
</div>
<span class="comment-copy">See the update to my answer: You have to follow the doc I mentioned in my answer and add <code>=</code> when it is needed, as detailed in the doc.</span>
<span class="comment-copy">You were right. I forgot one =. Thx for the help !</span>
<span class="comment-copy">@azertyuiop Glad that I could help. You may accept the answer, to indicate it is the solution to your problem, see <a href="https://stackoverflow.com/help/someone-answers">stackoverflow.com/help/someone-answers</a></span>
