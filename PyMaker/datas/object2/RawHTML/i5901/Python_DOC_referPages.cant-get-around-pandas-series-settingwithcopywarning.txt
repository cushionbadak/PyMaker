<div class="post-text" itemprop="text">
<p>I'd like to fetch a <code>Series</code> and make changes to it, which I'd like reflected in the <code>DataFrame</code> later on. However I can't understand how to do it without the <code>SettingWithCopyWarning</code>. Is this a false positive or am I doing something wrong?</p>
<pre><code>df = pd.DataFrame([[1,2,3],[4,5,6]], columns=list('abc'))
df['d'] = df['a'].diff()
d = df.loc[:, 'd']
d.loc[d&gt;0] *= 3
</code></pre>
<p>I've read the docs (and <em>yes</em>, I did read <a href="https://stackoverflow.com/questions/20625582/how-to-deal-with-settingwithcopywarning-in-pandas">this question</a> before asking but it only deals with DataFrames and not with Series), but isn't able to work out how to fix this. I would prefer not to disable the warning, as I have code where I don't want to make this type of mistake inadvertently.</p>
</div>
<div class="post-text" itemprop="text">
<blockquote>
<p>I'd like to fetch a Series and make changes to it, which I'd like
  reflected in the DataFrame later on.</p>
</blockquote>
<p>In this case, you should temporarily disable this warning and proceed as you are now.  Using <code>.copy()</code> will mean your original <code>df</code> will be unmoidified by changes to <code>d</code>.</p>
<pre><code>with pd.option_context('mode.chained_assignment', None):
    df = pd.DataFrame([[1,2,3],[4,5,6]], columns=list('abc'))
    df['d'] = df['a'].diff()
    d = df.loc[:, 'd']
    d.loc[d&gt;0] *= 3

# Code you run outside of `with` will maintain your original setting:
# pd.get_option('chained_assignment')
</code></pre>
<p><code>option_context</code> is a context manager, meaning it can be used with <a href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement" rel="nofollow noreferrer"><code>with</code></a>, and the option only applies to code within the block.</p>
<p>Read more: pandas &gt; <a href="https://pandas.pydata.org/pandas-docs/stable/options.html#getting-and-setting-options" rel="nofollow noreferrer">Getting &amp; Setting Options</a></p>
</div>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/20625582/how-to-deal-with-settingwithcopywarning-in-pandas">How to deal with SettingWithCopyWarning in Pandas?</a></span>
<span class="comment-copy">FYI I created a tag, <a href="https://stackoverflow.com/questions/tagged/chained-assignment">chained-assignment</a> for this subject.  Perhaps it should be renamed to just SettingWithCopyWarning because chained assignment might have a broader programming context/scope.</span>
<span class="comment-copy">Temporary disabling is a great suggestion, if there is no 'real' solution, I'll stick with this!</span>
<span class="comment-copy">Over time I cant disagree to this solution. Im such an amateur</span>
<span class="comment-copy">@Bharath Not at all man.  It's a tricky topic because in a minority of cases, it's a warning that actually should be ignored.</span>
