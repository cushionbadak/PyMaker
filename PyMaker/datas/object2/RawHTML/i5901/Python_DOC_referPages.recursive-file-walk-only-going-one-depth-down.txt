<div class="post-text" itemprop="text">
<p>I am trying to create code for an assignment that can walk down a directory and return all files</p>
<p>I am having trouble with multilevel folders, such as</p>
<p>folder1 <br/>
---&gt; folder2 <br/>
-------&gt;foo.txt</p>
<p>I have the following code</p>
<pre><code>def find_larger(path, max_n_results=10):
    files = []
    print(path)
    path_files = os.listdir(path)
    for file in path_files:
        if os.path.isdir(file):
            files += find_larger(os.path.join(path, file))
        files.append(file)
    return files

print(find_larger('.'))
</code></pre>
<p>However, If I were to run that code I would get the following result</p>
<p>[folder1, folder2]</p>
<p>I have run through this is a debugger and the program is not detecting the second directory to actually be a directory.</p>
<p>How can I get the program to walk all the way through the directory.</p>
<p>Note, I am not allowed to user os.walk</p>
</div>
<div class="post-text" itemprop="text">
<p><code>os.path.isdir()</code> takes a full path, you are only giving it the relative name. Create the path first, then test that:</p>
<pre><code>def find_larger(path, max_n_results=10):
    files = []
    print(path)
    path_files = os.listdir(path)
    for file in path_files:
        subpath = os.path.join(path, file)
        if os.path.isdir(subpath):
            files += find_larger(subpath)
        files.append(subpath)
    return files
</code></pre>
<p>However, you are re-inventing a wheel here, just use the <a href="https://docs.python.org/3/library/os.html#os.walk" rel="nofollow noreferrer"><code>os.walk()</code> function</a> to list directory contents :</p>
<pre><code>def find_larger(path, max_n_results=10):
    files = []
    print(path)
    for dirpath, dirnames, filenames in os.walk(path):
        files += (os.join(dirpath, filename) for filename in filenames)
    return files
</code></pre>
</div>
<span class="comment-copy">Can't use os.walk, but this solution works great :)</span>
