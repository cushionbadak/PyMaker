<div class="post-text" itemprop="text">
<p>
The program is trying to print the 10 most common word in a file. but I'm having trouble printing the 10 most common words </p>
<pre><code>from string import *
file = open('shakespeare.txt').read().lower().split()

number_of_words = 0

onlyOneWord = []

for i in file:
    if i in onlyOneWord: continue
    else: onlyOneWord.append(i)
lot_of_words = {}


for all_Words in onlyOneWord:
    all_Words = all_Words.strip(punctuation)
    number_of_words = 0
    for orignal_file in file:
        orignal_file = orignal_file.strip(punctuation)
        if all_Words == orignal_file:
            number_of_words += 1
        lot_of_words[all_Words] = number_of_words

for x,y in sorted(lot_of_words.items()):
    print(max(y))
</code></pre>
<p>Right now it will print what is in the full file </p>
<p>I need it to print the 10 most common words like this and make it run a lot faster</p>
<p>the: 251
apple: 234
etc.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/collections.html#collections.Counter.most_common" rel="nofollow noreferrer"><code>collections.Counter.most_common</code></a> to do this easily.  I also use <code>str.translate</code> to remove the punctuation. </p>
<pre><code>from collections import Counter
from string import punctuation

strip_punc = str.maketrans('', '', punctuation)

with open('shakespeare.txt') as f:
    wordCount = Counter(f.read().lower().translate(strip_punc).split())

print(wordCount.most_common(10))
</code></pre>
<p>will print a list of tuples</p>
<pre><code>[('the', 251), ('apple', 100), ...]
</code></pre>
<p>EDIT:
We could potentially speed this up by changing the case of the letters using the same <code>translate</code> call we use to remove the punctuation</p>
<pre><code>from string import punctuation, ascii_uppercase, ascii_lowercase

strip_punc = str.maketrans(ascii_lowercase, ascii_uppercase, punctuation)
</code></pre>
</div>
<span class="comment-copy">Please format your code.</span>
<span class="comment-copy">If I'm understanding your question you just need to print using a different method look at this: <a href="https://stackoverflow.com/questions/7197315/5-maximum-values-in-a-python-dictionary" title="5 maximum values in a python dictionary">stackoverflow.com/questions/7197315/â€¦</a> With regards to making it run faster you need to optimize your algorithm (i.e loop over the entire file fewer times).</span>
<span class="comment-copy">Note that this will also remove apostrophes and hyphens inside words, which the OP may not want.</span>
<span class="comment-copy">That's true.  In that case, OP you may want to <code>map(lambda x: x.strip(punctuation), f.read().lower().split())</code> instead</span>
