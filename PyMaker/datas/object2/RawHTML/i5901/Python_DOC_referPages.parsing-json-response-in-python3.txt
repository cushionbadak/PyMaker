<div class="post-text" itemprop="text">
<p>My code is:</p>
<pre><code>self.ip = self.bot.get('https://icanhazip.com').content.rstrip().decode()
</code></pre>
<p>I want to replace <code>https://icanhazip.com</code> with <code>https://ipinfo.io</code>, but I don't know how to extract the <code>ip</code> returned:</p>
<pre><code>$ curl "ipinfo.io"
{
  "ip": "xx.xx.xx.xx",
  "city": "",
  "region": "",
  "country": "xx",
  "loc": "xx.xxx.xx.xxx",
  "org": "xxxxxxx Communication Company (Private Joint Stock)"
}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It's not clear which HTTP library you're using in <code>self.bot.get</code>, but for a generic one (where <code>content</code> returns a string), you can parse the JSON response manually with <a href="https://docs.python.org/3/library/json.html#json.loads" rel="nofollow noreferrer"><code>json.loads</code></a>:</p>
<pre><code>import json
# ...
ip = json.loads(self.bot.get('https://ipinfo.io').content).get('ip')
</code></pre>
<p>If you're using <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer"><code>requests</code></a>, you can read the JSON response directly with <a href="http://docs.python-requests.org/en/master/user/quickstart/#json-response-content" rel="nofollow noreferrer"><code>json()</code></a> method on the response:</p>
<pre><code>ip = self.bot.get('https://ipinfo.io').json().get('ip')
</code></pre>
</div>
<span class="comment-copy">Thanks how can i sure which HTTP library im using in 'self.bot.get'</span>
<span class="comment-copy">Take a look at <code>self.bot</code> definition, probably in your class <code>__init__</code> method.</span>
