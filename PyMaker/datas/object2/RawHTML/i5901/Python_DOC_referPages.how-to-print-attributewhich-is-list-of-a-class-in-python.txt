<div class="post-text" itemprop="text">
<p>I am wondering how to print attribute(which is a list of another class) of a class one item in row. The code looks something like this:</p>
<pre><code>class A:
     def __init__(self, i):
          self.index = i

     def __str__(self):
          return str(self.index)

     __repr__ = __str__


class B:
     def __init__(self):
          self.b = []

     def load(self):
          for i in range(3):
               a = A(i)
               self.b.append(a)

     def __str__(self):
          # My 1st solution
          return self.b
          # My 2nd solution
          for i in self.b:
               print(i)

     __repr__ = __str__


b = B()
b.load()
print(b)       # TypeError: __str__ returned non-string (type list)
</code></pre>
<p>Expected output:</p>
<pre><code>0
1
2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can do something like this:</p>
<pre><code>def __str__(self):
    return '\n'.join([str(x) for x in self.b])
</code></pre>
<p>Which would make each <code>&lt;class '__main__.A'&gt;</code> inside <code>self.b</code> into a <code>str</code> before joining them with <code>.join</code>.</p>
<hr/>
<pre><code>&gt;&gt;&gt; print(b)
0
1
2
</code></pre>
</div>
<span class="comment-copy">What is not clear about the error? Both <code>__str__</code> and <code>__repr__</code> should return a string, not a list.</span>
<span class="comment-copy">That comment means (also) don't print inside <code>__str__</code> method, just return the string.</span>
<span class="comment-copy">You don't need to make a new list, <code>join</code> will consume a <a href="https://docs.python.org/3/reference/expressions.html#generator-expressions" rel="nofollow noreferrer">generator expression</a> - <code>return '\n'.join(str(thing) for thing in self.b)</code></span>
