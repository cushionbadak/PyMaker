<div class="post-text" itemprop="text">
<p>Here is a small sampling of my dataset:</p>
<pre><code>Search_Term    Exit_Page                  Unique_Searches    Exit_Pages_actual
nitrile gloves /store/catalog/product.jsp?        10        /store/catalog/product.jsp?
zytek gloves   /store/product/KT781010            20        /store/pro
</code></pre>
<p>So this should be pretty easy, not sure why I am not getting it to work. I am trying to pull into the Exit_Pages_actual column when the all the characters in the Exit_Page when the first 10 characters are "/store/pro" or "/store/cat". When that is not the case, I want it to pull in only the first 10 characters from Exit_Page. As you can see above, my code works fine for the catalog but not for the product (aka works for the first condition in my OR but not the 2nd per the code below). What is wrong? So there is no error message, it just does not gives me the right result for product, only outputs the first 10 characters rather then the whole string:</p>
<pre><code>Exit_Pages['Exit_Pages_actual'] = np.where(Exit_Pages['Exit_Page'].str[:10]==('/store/cat' or '/store/pro'),Exit_Pages['Exit_Page'].str[:],Exit_Pages['Exit_Page'].str[:10])

Exit_Pages  
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>@tw-uxtli51nus in the comments is basically correct.</p>
<p>We can accomplish what you want by wrapping logical conditions with ()
and using '|' in place of 'or'.</p>
<p>So np.where would look like:</p>
<pre><code>df['new_col'] = np.where(
    (
    (df['Exit_Page'].str[:10]=='/store/cat')
    |
    (df['Exit_Page'].str[:10]=='/store/pro')
    )
    ,df['Exit_Page']
    ,df['Exit_Page'].str[:10])
</code></pre>
<p>trying to make it more readable since this stuff is ugly to look at.</p>
<p>We can make our lives easier by instead trying a technique similar to what the docs suggest using np.isin():
<a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.where.html" rel="nofollow noreferrer">https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.where.html</a></p>
<p>but I don't have the correct version of numpy to write out a real example, unfortunately.</p>
</div>
<span class="comment-copy">the part <code>'/store/cat' or '/store/pro'</code> is evaluated to <code>'/store/cat'</code>. This is then used in the comparison. Check <a href="https://docs.python.org/3/reference/expressions.html" rel="nofollow noreferrer">operator precedence</a>.</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/16343752/numpy-where-function-multiple-conditions">Numpy where function multiple conditions</a></span>
<span class="comment-copy">@ Tw UxTLi51Nus hmmm, thank you for the comment! I have tried a few more things that don't work like this:                                     'Exit_Pages['Exit_Pages_actual'] = np.where(Exit_Pages['Exit_Page'].str[:10]=='/store/cat' or np.where(Exit_Pages['Exit_Page'].str[:10]=='/store/pro'),Exit_Pages['Exit_Page'].str[:],Exit_Pages['Exit_Page'].str[:10])'  and it gives me a ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</span>
<span class="comment-copy">Take a look at the link provided in "this is a duplicate". <code>and</code> and <code>or</code> work with <code>&amp;</code> and <code>|</code> in numpy, pandas,...</span>
<span class="comment-copy">Thank you, this worked! So its my understanding that the only thing you changed was replacing "|" instead of "or"? In what situation do you use one vs the other? I am not sure I fully understand the difference between the two</span>
<span class="comment-copy">To be honest I don't have a good idea! there is <a href="https://www.tutorialspoint.com/python/bitwise_operators_example.htm" rel="nofollow noreferrer">tutorialspoint.com/python/bitwise_operators_example.htm</a> and a loooong answer at <a href="https://stackoverflow.com/questions/16343752/numpy-where-function-multiple-conditions" title="numpy where function multiple conditions">stackoverflow.com/questions/16343752/â€¦</a> that is much better than my answer!</span>
<span class="comment-copy">yea I tried reading it but did not fully follow it... But thank you, you made it very clear as to where my error was</span>
