<div class="post-text" itemprop="text">
<p>Suppose I have a list that looks like this:</p>
<p><code>beast = ['E', 'O', 'R', 'E', 'O', 'S', 'P', 'E', 'P', 'P', 'O', 'R', 'S', 'P', 'O', 'E']</code></p>
<p>Now, here are the basic patterns that I want to extract:</p>
<pre><code>basic_oros = ['O', 'R', 'O']

pi_poro = ['P', 'O', 'R', 'O']

pi_orpo = ['O', 'R', 'P', 'O']

pi_porpo = ['P', 'O', 'R', 'P', 'O']

si_orso = ['O', 'R', 'S', 'O']

spi_orspo = ['O', 'R', 'S', 'P', 'O']

spi_porso = ['P', 'O', 'R', 'S', 'O']

spi_porspo = ['P', 'O', 'R', 'S', 'P', 'O']
</code></pre>
<p>The problem is, if I extract only <code>['P', 'O', 'R', 'S', 'P', 'O']</code> out of <code>beast</code>, I miss out on the previous <code>P</code> before that pattern occurs.</p>
<p>(Better example - There can also be <code>['O', 'O', 'R', 'O', 'O', 'O']</code>)</p>
<p>Therefore, every letter in those basic patterns can be expanded in a sense of:</p>
<blockquote>
<p>Os can occur together thrice. </p>
<p>Ps can occur together twice. </p>
<p>Rs can occur together twice.</p>
<p>Ss can occur only once.</p>
</blockquote>
<p>I want to generate a list of all possible permutations but have no idea where to start.</p>
<p>I wrote a naive python code that replaces every occurrence of O with three Os and etc. But that results in -</p>
<p><code>['O', 'O', 'O', 'R' 'O', 'O', 'O']</code></p>
<p>Which won't work when I need to find:
<code>['O', 'R', 'O', 'O']</code></p>
<p>Any help is appreciated. Thank you.</p>
</div>
<div class="post-text" itemprop="text">
<p>This sounds like a job for regexes. If you join your <code>beast</code> list into a string with <code>''.join(beast)</code>, you can build regexes to search it for substrings matching specific patterns. For example, using the <code>{m,n}</code> quantifier to search for a certain number of repetitions of a subpattern, you can use</p>
<pre><code>re.search(r'O{1,3}R{1,2}O{1,3}', ''.join(beast))
</code></pre>
<p>to search for a pattern consisting of 1 to 3 Os, 1 to 2 Rs, and 1 to 3 more Os.</p>
<p>See the <a href="https://docs.python.org/3/library/re.html" rel="nofollow noreferrer"><code>re</code> module documentation</a> for more information on Python's regex syntax and functions, and see any number of online tutorials for help getting used to writing regexes.</p>
</div>
<span class="comment-copy">This actually sounds like a job for regexes.</span>
<span class="comment-copy">On lists? I've never used Regex before.</span>
<span class="comment-copy">You can't perform a regex search in <code>beast</code> directly, but you can perform one on <code>''.join(beast)</code>.</span>
<span class="comment-copy">Can you help form a regex pattern?</span>
<span class="comment-copy"><code>r'O{1,3}R{1,2}O{1,3}'</code> for <code>basic_oros</code>, for example.</span>
