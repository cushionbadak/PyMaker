<div class="post-text" itemprop="text">
<p>I use <a href="https://docs.python.org/3/library/socket.html#socket.socket.recvmsg" rel="nofollow noreferrer"><code>socket.recvmsg()</code></a> to get the data and the sender's IP address of a UDP broadcast message. This works fine on Linux, but this method is not available on Windows (Python 3.3). How can I obtain the sender's IP address?</p>
<pre><code>from socket import *

fd = socket(AF_INET, SOCK_DGRAM)
fd.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)
fd.setsockopt(SOL_SOCKET, SO_BROADCAST, 1)

data, _, _, addr = fd.recvmsg(4096) # &lt;- how to achieve this without recvmsg?
host, upd_port =  addr
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I noticed in the Python documentation that you linked, that <a href="https://docs.python.org/3/library/socket.html#socket.socket.recvfrom" rel="nofollow noreferrer"><code>recvfrom</code></a> returns similar values to what your code is looking for (bytes, address) and is compatible with Windows</p>
<blockquote>
<p>socket.<strong><a href="https://docs.python.org/3/library/socket.html#socket.socket.recvfrom" rel="nofollow noreferrer">recvfrom</a></strong>(<em>bufsize</em>[, <em>flags</em>])</p>
</blockquote>
</div>
<span class="comment-copy">Have you checked the Windows firewall?</span>
<span class="comment-copy">@uphill This is not about the connectivity. Of course I can receive the broadcasts with socket.recv(), but the result only contains the UDP payload.</span>
<span class="comment-copy">Do you have a peace of code?</span>
<span class="comment-copy">@uphill See my edit</span>
<span class="comment-copy">I think on Windows, <code>recvfrom</code> should work?</span>
