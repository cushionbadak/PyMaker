<div class="post-text" itemprop="text">
<p>With Python 3, I want to read an XML web page and save it in my local drive.
Also, if the file already exist, it must overwrite it.</p>
<p>I tested some script like :</p>
<pre><code>import urllib.request
xml = urllib.request.urlopen('URL')
data = xml.read()
file = open("file.xml","wb")
file.writelines(data)
file.close()
</code></pre>
<p>But I have an error :</p>
<pre><code>TypeError: a bytes-like object is required, not 'int'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I found a solution :</p>
<pre><code>from urllib.request import urlopen

xml = open("import.xml", "r+")

xml.write(urlopen('URL').read().decode('utf-8'))

xml.close()
</code></pre>
<p>Thanks for your help.</p>
</div>
<div class="post-text" itemprop="text">
<p>First suggestion: do what even the <a href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request" rel="nofollow noreferrer">official urllib docs says</a> and don't use <code>urllib</code>, use <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer"><code>requests</code></a> instead.</p>
<p>Your problem is that you use <code>.writelines()</code> and it expects a list of lines, not a bytes objects (for once in Python the error message is not very helpful). Use <code>.write()</code> instead</p>
<pre><code>import requests
resp = requests.get('URL')
with open('file.xml', 'wb') as foutput:
   foutput.write(resp.content)
</code></pre>
</div>
<span class="comment-copy">Whenever python gives you a stacktrace, please post the full stacktrace instead of just the error message. This helps <i>a lot</i> locate the exact error, instead of just guessing where it is.</span>
<span class="comment-copy">why not <code>xml = open("import.xml", "w")</code></span>
