<div class="post-text" itemprop="text">
<p>I'm trying to write my first Lambda function with RunTime as 'Python 3.6'. 
Below are the selections while creating the function:
Role - Select a Custom Role.
Existing Role - Lambda Basic Execution
Python Code as below:</p>
<pre><code>import json
def index_handler(event, context):
data = '{"Type": "SubscriptionConfirmation2","MessageId": 
"123","SubscribeURL": "https://www.google.com"}'
data1 = json.loads(data)
print (data1['Type'])
if data1['Type']  ==  "SubscriptionConfirmation":
var=data1['SubscribeURL']
elif data1['Type']  ==  "Notification" and data1['SubscribeURL'] == var and 
var != "":
var=data1['SomeOtherProperty']
else:
return "Invalid JSON input"
return var
</code></pre>
<p>While executing this, I'm, getting below error:</p>
<pre><code>{
"errorMessage": "Bad handler 'index_handler'" 
}
</code></pre>
<p>Log output:</p>
<pre><code>START RequestId: 3b263d82-b58c-11e7-aa6f-37f006380a9a Version: $LATEST
Bad handler 'index_handler': not enough values to unpack (expected 2, got 1)

END RequestId: 3b263d82-b58c-11e7-aa6f-37f006380a9a
REPORT RequestId: 3b263d82-b58c-11e7-aa6f-37f006380a9a  Duration: 0.58 ms   
Billed Duration: 100 ms     Memory Size: 1280 MB    Max Memory Used: 22 MB  
</code></pre>
<p>Please let me know as how to resolve this error and successfully run my first lambda function? After executing this, my purpose of the code is get HTTPrequests and then read its json value (which currently I've stored in a variable)</p>
<p>Below is the snapshot from AWS lambda function:
<a href="https://i.stack.imgur.com/hTcZ6.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/hTcZ6.png"/></a></p>
</div>
<div class="post-text" itemprop="text">
<p>You're trying to use javascript in a python lambda function. Have a look at python examples available when creating the function. The handler signature should be <code>def lambda_handler(event, context)</code> and the results are simply returned from the handler (there is no callback).</p>
<p><strong>EDIT</strong>: Your code is still full of errors and is invalid python code. Here's a modified version of what you posted that should work for a Python runtime lambda with a <code>lambda_function.index_handler</code> handler.</p>
<pre><code>import json

def index_handler(event, context):
    data = '{"Type": "SubscriptionConfirmation2","MessageId": "123","SubscribeURL": "https://www.google.com"}'
    data1 = json.loads(data)

    print (data1['Type'])
    if data1['Type']  ==  "SubscriptionConfirmation":
        var=data1['SubscribeURL']
    elif data1['Type']  ==  "Notification" and data1['SubscribeURL'] == var and var != "":
        var=data1['SomeOtherProperty']
    else:
        return "Invalid JSON input"

    return var
</code></pre>
</div>
<span class="comment-copy">Does this look like Python syntax to you? I suggest you read the official <a href="https://docs.python.org/3/tutorial/" rel="nofollow noreferrer">Python tutorial</a>. Reading that, you'd actually find out that Python doesn't use <code>{ }</code> like this, nor does it use <code>;</code> and that the indentation is kind of relevant!</span>
<span class="comment-copy">The earlier python code was successfully tested in online python compiler- <a href="https://repl.it/Mwpx" rel="nofollow noreferrer">repl.it/Mwpx</a> But I've now edited the code in the main question as per solution provided by Ungl√ºckspilz.</span>
<span class="comment-copy">Thanks for your reply. I've made the changes in the code as per your syntax and also edited in the code in main question above. Still getting same error - Syntax error in module 'index': invalid syntax (index.py, line 1).   Please help!</span>
<span class="comment-copy">Your code is full of errors. As I said, use one of the built-in examples provided to you when creating a lambda function and start from there</span>
<span class="comment-copy">Tried, No luck! My earlier code was also tested using online python compiler <a href="https://repl.it/Mwpx" rel="nofollow noreferrer">repl.it/Mwpx</a>. I've anyways edited code in the main question with the code provided by you again along with new error -  "errorMessage": "Bad handler 'index_handler'". I've also attached the snapshot of the image from my AWS portal in the main question. Please check.</span>
<span class="comment-copy">Syntax for the handler is <code>FILE_NAME.HANDLER_FUNCTION_NAME</code> and judging by the screenshot in your update, your filename is <code>index_handler.py</code>. Therefore, it should read <code>index_handler.index_handler</code> instead of just <code>index_handler</code> in the handler text box.</span>
<span class="comment-copy">Thanks a lot. This resolved the issue. :)</span>
