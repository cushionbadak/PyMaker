<div class="post-text" itemprop="text">
<p>I've got some code that needs to call the <code>getrandom</code> libc function, but if it's not available (as it isn't on glibc versions before 2.24), I need to fall back to invoking the syscall directly. Unfortunately, the syscall number for the <code>getrandom</code> syscall differs by kernel version and platform, and my code needs to run on multiple platforms.</p>
<p>Is there a way that I can get the number at runtime?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/os.html#os.urandom" rel="nofollow noreferrer">os.urandom()</a> or <a href="https://docs.python.org/3/library/random.html#random.SystemRandom" rel="nofollow noreferrer">random.SystemRandom()</a></p>
</div>
<span class="comment-copy">this doesn't make any sense</span>
<span class="comment-copy">You should not have to resort to making direct <code>syscall</code> calls. Ever.</span>
<span class="comment-copy">I assure you I do or I wouldn't have asked this question.</span>
<span class="comment-copy">Unfortunately I need the <code>getrandom</code> syscall in particular because I need to pass it particular flags.</span>
