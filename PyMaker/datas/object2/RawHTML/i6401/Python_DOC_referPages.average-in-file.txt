<div class="post-text" itemprop="text">
<p>I have this code</p>
<pre><code>def PromNotas():
    archivo = open ("archivo.csv","r")
    archivo2 = open ("archivo2.csv","w")
    for reg in archivo:
        reg = reg.strip("\n")
        datos = reg.split(",")
        prom = (datos[1] + datos[2])/2
        reg2 = datos[0] + "," + datos[1] + "," + datos[2] + "," + str(prom)
        if prom &gt;= 7:
            reg2 = reg2 + "," + "Aprobado\n"
        else:
            reg2 = reg2 + "," + "Desprobado\n"
        archivo2.write(reg2)
    archivo.close()
    archivo2.close()
</code></pre>
<p>The csv file looks like this:</p>
<pre><code>Matt,7,8
John,9,6
Jim,6,7
</code></pre>
<p>All the code works but the line of <code>prom = (datos[1] + datos[2])/2</code> it says that the list index is out of range. Does anyone know something.</p>
</div>
<div class="post-text" itemprop="text">
<p>Given the script and the input csv file the program runs correctly for me.
The only thing that I changed is casting the numbers to integers <code>prom = (int(datos[1]) + int(datos[2]))/2</code></p>
<p>Make sure that you are using the correct input file and check that there aren't any empty lines or lines with less than 2 arguments on them.(2 commas)</p>
</div>
<div class="post-text" itemprop="text">
<p>Catch the error and print <code>datos</code> and <code>reg</code> in the except suite. Are they what you expected? Are there any blank lines in your file? Do <strong>all</strong> lines in the file have three columns.?</p>
<pre><code>...
    datos = reg.split(",")
    try:
        prom = (datos[1] + datos[2])/2
    except IndexError as e:
        print('datos:{} | reg:{}'.format(datos, reg))
        #raise

    reg2 = datos[0] + "," + datos[1] + "," + datos[2] + "," + str(prom)
...
</code></pre>
<p>Or, if you don't mind a lot of <em>stuff</em> printing, just print <code>reg</code> and <code>datos</code> just before the assignment to <code>prom</code>.  Then the last <em>print</em> before the exception should give you a clue to what is wrong.</p>
<pre><code>...
    datos = reg.split(",")
    print('datos:{} | reg:{}'.format(datos, reg))
    prom = (datos[1] + datos[2])/2
...
</code></pre>
<p>When you split <code>reg</code> it must produce a list with less than three items so the file either has blank lines or lines with less than two <em>columns</em>.</p>
</div>
<span class="comment-copy">please indent properly</span>
<span class="comment-copy">Can you show us the content of the csv files that you are using?</span>
<span class="comment-copy">sorry I did not realised of the indentation on the question</span>
<span class="comment-copy"><a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions" rel="nofollow noreferrer">Catch the error</a> and print <code>datos</code> and <code>reg</code> in the except suite.  Are they what you expected?  Are there any blank lines in your file? Do All lines in the file have two commas (<code>,</code>)?</span>
<span class="comment-copy">Welcome to SO.  Please take the time to read <a href="https://stackoverflow.com/questions/how-to-ask">How to Ask</a> and the links it contains. If you are asking about code that throws an exception, please include the Traceback (formatted as code) in your question.</span>
<span class="comment-copy">I had already tested that, but the same error apears</span>
<span class="comment-copy">You can try debugging it to see if you are getting the correct data in the variables. I cannot see any problem with this code snippet, I coppied it as it is and it worked for me.</span>
