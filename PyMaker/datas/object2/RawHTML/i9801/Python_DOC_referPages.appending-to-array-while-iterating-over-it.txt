<div class="post-text" itemprop="text">
<p>I'm trying to create a python script that loops through an array of entries and adds a new day object with a date if that date is not already in the date list.</p>
<pre><code>entryList = [aDate,anotherDate,fooDate]
history = [aDate]

for entry in entryList:
  for day in history[:]:
    if day.date == entry.date:
      break
    else:
      dayEntry = dayEntry()
      dayEntry.date = entry.date
      history.insert(0,dayEntry)
      break
</code></pre>
<p>according to this: <a href="https://docs.python.org/3/tutorial/controlflow.html" rel="nofollow noreferrer">https://docs.python.org/3/tutorial/controlflow.html</a> it should work, but I'm missing something.</p>
<p>thanks--</p>
</div>
<div class="post-text" itemprop="text">
<p>So you want to append to <code>history</code> the entries in <code>entryList</code> but only the first one for a given date?</p>
<p>I think this is a case for <code>not any()</code>.</p>
<pre><code>for entry in entryList:
    if not any(day.date == entry.date for day in history):
        dayEntry = dayEntry()
        dayEntry.date = entry.date
        history.insert(0,dayEntry)
</code></pre>
<p><code>not any(day.date == entry.date for day in history)</code></p>
<p>reads as: there isn't a day in history with this entry's date.</p>
<p>If the history is permitted to be a dictionary, where the keys are the entries' dates, rather than a list:</p>
<pre><code>for entry in entryList:
    if entry.date not in history:
        dayEntry = dayEntry()
        dayEntry.date = entry.date
        history[dayEntry.date] = dayEntry
</code></pre>
<p>Another option is to use a set along with the two lists:</p>
<pre><code>dates = set()
for entry in history:
   dates.add(entry.date)

for entry in entryList:
    if entry.date not in dates:
        dayEntry = dayEntry()
        dayEntry.date = entry.date
        history.insert(0,dayEntry)
        dates.add(entry.date)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I think your code should work as is:</p>
<pre><code>&gt;&gt;&gt; entrylist = [1, 2, 3, 4]
&gt;&gt;&gt; history = [1,]
&gt;&gt;&gt; for e in entrylist:
...     for d in history[:]:
...         if d == e:
...             break;
...         else:
...             history.insert(0, e)
...             break;
...
&gt;&gt;&gt; entrylist
[1, 2, 3, 4]
&gt;&gt;&gt; history
[4, 3, 2, 1]
</code></pre>
</div>
<span class="comment-copy">Using a <code>dict</code> instead of a <code>list</code> seems better suited here.</span>
<span class="comment-copy">@40Hz Probably you were getting stuck in an infinite loop in the original code because if you insert in the beginning of a list you are iterating over, you have the same element next iteration.</span>
<span class="comment-copy">@Dan D. YOU ARE A SAINT.</span>
<span class="comment-copy">The OP didn't mention anything about having duplicates.  My code is the OP code, just with the objects replaced with simple integers.   I just typed it in to the interpreter, and this is the result.</span>
