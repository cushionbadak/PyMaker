<div class="post-text" itemprop="text">
<p>I am trying to kill a process tree using this shell command:</p>
<pre><code>kill -TERM -- -3333
</code></pre>
<p>so in python I use <code>subprocess</code>:</p>
<pre><code>subprocess.call(['kill', '-TERM', '--', '-3333'])
</code></pre>
<p>the process is terminated as expected but I get this message:</p>
<pre><code>ERROR: garbage process ID "--".
Usage:
  kill pid ...              Send SIGTERM to every process listed.
  kill signal pid ...       Send a signal to every process listed.
  kill -s signal pid ...    Send a signal to every process listed.
  kill -l                   List all signal names.
  kill -L                   List all signal names in a nice table.
  kill -l signal            Convert between signal numbers and names.
</code></pre>
<p>Why do I get this message and what am I doing wrong?</p>
<p>I am using Python 2.6.5 on Ubuntu 10.04.</p>
</div>
<div class="post-text" itemprop="text">
<p>You are passing the <code>kill</code> command an argument it doesn't recognise. You could simply drop the <code>--</code>:</p>
<pre><code>subprocess.call(['kill', '-TERM', '-3333'])
</code></pre>
<p>You probably should be passing in the PID without a dash as well, if <code>--</code> is not supported, neither will a negative PID; at which point you'd be signalling just the single process.</p>
<p>Note that you are not executing this through a shell, while your shell <em>probably</em> has its own <code>kill</code> command implementation, Python instructs the OS to find the first <code>kill</code> <em>binary executable</em> on the path instead. The shell built-in may accept <code>--</code> but that's not the command you are executing here.</p>
<p>If you <em>must</em> use the shell built-in, then you'll have to set <code>shell=True</code> and pass in a string command line:</p>
<pre><code>subprocess.call('kill -TERM -- -3333', shell=True)
</code></pre>
<p>This uses <code>/bin/sh</code>; you can set a different shell to run the command through with the <code>executable</code> argument:</p>
<pre><code>subprocess.call('kill -TERM -- -3333', shell=True, executable='/bin/bash')
</code></pre>
<p>Last but not least, you may not need the <code>kill</code> command <em>at all</em>. Python can send signals directly with the <a href="https://docs.python.org/3/library/os.html#os.kill" rel="nofollow noreferrer"><code>os.kill()</code> function</a>:</p>
<pre><code>import os, signal

os.kill(3333, signal.SIGTERM)
</code></pre>
<p>and the <a href="https://docs.python.org/3/library/os.html#os.killpg" rel="nofollow noreferrer"><code>os.killpg()</code> function</a> can send a signal to a process group:</p>
<pre><code>import os, signal

os.killpg(3333, signal.SIGTERM)
</code></pre>
</div>
<span class="comment-copy">There are (at least) two "kills".  There is (usually) <code>/bin/kill</code> and the shell builtin.  If you want the shell builtin then use <code>shell=True</code>.</span>
