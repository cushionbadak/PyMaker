<div class="post-text" itemprop="text">
<p>I have the following code:</p>
<pre><code>class Command(BaseCommand):
    help = 'Build static site output.'

    def add_arguments(self, parser):
        parser.add_argument('args')

    def handle(self, *args, **options):
        """Request pages and build output."""
        if args:
            pages = args
            available = list(get_pages())
            invalid = []
            for page in pages:
                if page not in available:
                    invalid.append(page)
            if invalid:
                msg = 'Invalid pages: {}'.format(', '.join(invalid))
                raise CommandError(msg)
        else:
            ...
</code></pre>
<p>However when I run this command:</p>
<pre><code>python prototypes.py build index
</code></pre>
<p>the command loops through each letter of the word <code>index</code>.</p>
<pre><code>CommandError: Invalid pages: i, n, d, e, x
</code></pre>
<p>I want it to detect <code>index</code> as one argument and if I provide more arguments with spaces in between it should be looping through those.</p>
<p>If I don't add the <code>add_arguments</code> method it shows <code>unrecognized argument</code> in the console.</p>
</div>
<div class="post-text" itemprop="text">
<p>This method fixed my problem.</p>
<pre><code>def add_arguments(self, parser):
    parser.add_argument('args', nargs='+')
</code></pre>
</div>
<span class="comment-copy">Django command use the standard <a href="https://docs.python.org/3/library/argparse.html" rel="nofollow noreferrer">argparse</a> module (the parser you get is a subclass of <code>ArgumentParser</code>). The documentation is pretty extensive and has couple of example. It's a shame Django's documentation does not link to that of the argparse module.</span>
