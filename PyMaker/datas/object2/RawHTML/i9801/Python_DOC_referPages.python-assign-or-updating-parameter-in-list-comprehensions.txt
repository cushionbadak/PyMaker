<div class="post-text" itemprop="text">
<p>I am new to python and i am using python <code>2.7</code>.<br/>
I want to create script which is  <strong>change the case of each letter in string</strong>.
if i Pass <strong>"ABcdE"</strong> script will give output <strong>"abCDe"</strong>.<br/>
There are many ways but i want to use <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">List Comprehensions</a> for this task.</p>
<p>I have used following code:</p>
<pre><code>str = 'abcDE';
str1 = [x for x in str if ord(x)&gt;=97 and ord(x)&lt;=122 x-32 elif   ord(x)&gt;=65 and ord(x)&lt;=90 x+32];
</code></pre>
<p>this is giving me <strong><code>Invalid syntax</code> error</strong>.
I am not understanding what is error.
I have tried another version also:<br/>
Please look at screenshot attached.<a href="https://i.stack.imgur.com/xr8C1.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/xr8C1.png"/></a></p>
<p>When you look last try. when i removed updating varible code it runs successful.
My question is why variable modification is not working in Comprehensions?</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to use a conditional expression; you are using <em>filtering</em> instead, and a filter can't alter what is produced, only limit what elements are considered.</p>
<p>The left-hand side expression should be altered, so the part that produces the value for each element in the iteration:</p>
<pre><code>[x.upper() if 122 &gt;= ord(x) &gt;= 97 else x.lower()
 for x in yourstring]
</code></pre>
<p>The above processes all letters in <code>yourstring</code> (I renamed it to avoid using the built-in name <code>str</code>), and for each such letter (in <code>x</code>), either use the uppercase version if it is a lowercase letter, otherwise use the lowercase version.</p>
<p>Demo:</p>
<pre><code>&gt;&gt;&gt; yourstring = 'abcDE'
&gt;&gt;&gt; [x.upper() if 122 &gt;= ord(x) &gt;= 97 else x.lower() for x in yourstring]
['A', 'B', 'C', 'd', 'e']
</code></pre>
<p>If you want a new string, use <code>''.join()</code>:</p>
<pre><code>''.join([x.upper() if 122 &gt;= ord(x) &gt;= 97 else x.lower()
         for x in yourstring])
</code></pre>
<p><em>Or</em> you could just use the built-in <a href="https://docs.python.org/3/library/stdtypes.html#str.swapcase" rel="nofollow noreferrer"><code>str.swapcase()</code> function</a> to do the same job.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do the following:</p>
<pre><code>str1 = [x.lower() if x.isupper() else x.upper() for x in str]
</code></pre>
</div>
<span class="comment-copy">There is no <code>elif</code> option for list comprehensions, no.</span>
<span class="comment-copy">Have your tried with x-32 enclosed in parentheses, like so x=(x-32)?</span>
<span class="comment-copy">Note that your console output is <b>text</b>. Please copy and paste that text here, a screenshot is not searchable.</span>
<span class="comment-copy">My main question shall we can modify or update variable in Comprehensions?</span>
<span class="comment-copy">@VishalPatel you can't assign to <code>x</code>, no. And you don't need to.</span>
