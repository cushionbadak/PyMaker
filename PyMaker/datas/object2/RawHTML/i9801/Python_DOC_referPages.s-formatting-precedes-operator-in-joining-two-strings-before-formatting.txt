<div class="post-text" itemprop="text">
<p>Revived some old code and tried to refactor it to match Python7 and 3 standards.</p>
<p>A lot of string operations used the <code>"Something was %s in here" % "merged"</code> syntax.</p>
<p>So I began the process of swapping this out for <code>.format("merged")</code>, worked great until this row popped up:</p>
<pre><code>cmd = 'cat %s[0-9] | compress.sh - | ' % filename[:-2] + cmd
</code></pre>
<p>Now I thought I looked thoroughly at this and converted it into:</p>
<pre><code>cmd = 'cat {}[0-9] | compress.sh - | '.format(filename[:-2] + cmd)
</code></pre>
<p>Seeing as the command line was built upon further the last <code>|</code> didn't really trigger any warning signs.</p>
<p>However, lots of head scratching and debugging later I found out the correct conversion should be:</p>
<pre><code>cmd = 'cat {}[0-9] | compress.sh - | {}'.format(filename[:-2], cmd)
</code></pre>
<p>I'm aware that you probably should do <code>"%s" % ("x",) + cmd</code> here, but never the less, this was the code i was left with.</p>
<p>I asked colleagues and friends, they all assumed the same thing: <em>"I guess the math operator precedes the function operator of joining the string"</em>.</p>
<p>That's obviously not the case <strong>and I'm wondering, is there a reason why <code>"%s" % "x"</code> goes before <code>+ "y"</code></strong>?<br/>
Technically speaking to me the <em>addition</em> operation (purely speaking math wise here) should go before any function call?</p>
<p>Why does Python2 treat the addition as a second hand operation to the function of merging into a string?</p>
</div>
<div class="post-text" itemprop="text">
<p>Because the <code>%</code> string formatting operator shares precedence with the <code>%</code> remainder or modulus operator, which binds more tightly than the <code>+</code> addition operator.  See all the operators in order of precedence <a href="https://docs.python.org/3/reference/expressions.html#operator-precedence" rel="nofollow noreferrer">here</a> </p>
</div>
<span class="comment-copy">Today I learned! Not OP, but thanks anyway :-)</span>
<span class="comment-copy">Makes total sense when you hear it out loud. The link is great btw, will come in handy for numerous of reasons. Thank you!</span>
