<div class="post-text" itemprop="text">
<p>I am trying to run this command in Python3.  Each part separately works correctly, but I cannot get them to work together.</p>
<pre class="lang-py prettyprint-override"><code>os.system('ssh -t user@computer \'cd /MatLabFolder; /Applications/MATLAB_R2017a.app/bin/matlab -r \"cd /Test; try, run(\'/Test/TF03_MatLabCommands_and_results.m\'); end; quit\"; bash -l\'')
</code></pre>
<p>For now <code>TF03_MatLabCommands_and_results.m</code> just has the following in it</p>
<pre class="lang-matlab prettyprint-override"><code>in_dir_list={'/Volumes/promiseraid9/workspace/colleen/NewResiduals/Test/58514_TF03_default','/Volumes/promiseraid9/workspace/colleen/NewResiduals/Test/58514_TF03_mask10'};
out_dir_list={'/Volumes/promiseraid9/workspace/colleen/NewResiduals/Test/58514_TF03_default','/Volumes/promiseraid9/workspace/colleen/NewResiduals/Test/58514_TF03_mask10'};
in_dir_list
</code></pre>
<p>Basically I'm just having it print out what <code>in_dir_list</code> is, just so that I can see it is working.</p>
<p>Now if I am already <code>ssh</code>'d onto the computer I want to process on, and run</p>
<pre class="lang-sh prettyprint-override"><code>/Applications/MATLAB_R2017a.app/bin/matlab -r "cd /Test; try, run('/Test/TF03_MatLabCommands_and_results.m'); end; quit"
</code></pre>
<p>it runs as it should.  So I know the UNIX command is correct. 
But if I run the first command, MATLAB is not recognizing the <code>"  \'  "</code> like Python does, and is just eliminating the <code>'</code> all together so the command that gets run in MATLAB ends up being</p>
<pre class="lang-none prettyprint-override"><code>cd /Test; try, run(/Test/TF03_MatLabCommands_and_results.m); end; quit
                    |
Error: Unexpected MATLAB operator.
</code></pre>
<p>Notice no <code>'</code> before and after the M-file and path.</p>
<p>I also know the ssh command is also correct, because running it up until the point of running a command in MATLAB also works (meaning I can ssh to the computer, and open up MATLAB). And it attempts to run the command at least, but because of the <code>"  '\  "</code> confusion, it doesn't see the needed <code>'</code>.  </p>
<p>How do I properly escape the quotes?</p>
</div>
<div class="post-text" itemprop="text">
<p>Escaping quotes through multiple shells is a nightmare. In principle you should escape both the <code>\</code> and the <code>'</code> characters, leading to <code>\\\'</code>:</p>
<pre class="lang-none prettyprint-override"><code>run(\\\'/Test/TF03_MatLabCommands_and_results.m\\\')
</code></pre>
<p>But it depends on which shells are used, and how these parse the strings, what the exact combination of escape characters and quotes you end up with.</p>
<p>A simpler solution is to avoid the quotes altogether. In MATLAB,</p>
<pre class="lang-matlab prettyprint-override"><code>run('/Test/TF03_MatLabCommands_and_results.m')
</code></pre>
<p>is the same as</p>
<pre class="lang-matlab prettyprint-override"><code>run Test/TF03_MatLabCommands_and_results.m
</code></pre>
<p>The latter doesn't require quotes, as long as there are no spaces in the file name.</p>
</div>
<span class="comment-copy">Excellent, that worked run Test/TF03_MatLabCommands_and_results.m Thank you so very much!!</span>
