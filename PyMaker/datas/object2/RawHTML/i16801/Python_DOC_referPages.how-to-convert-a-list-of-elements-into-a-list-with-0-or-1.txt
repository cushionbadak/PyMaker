<div class="post-text" itemprop="text">
<p>I have a list whose elements are either a json object or None. What would be the most elegant way to convert it into a list of 0's and 1's. For example here is my input :</p>
<pre>
mylist = [j1, j2, None, j3, None]
</pre>
<p>j1, j2, j3 are json objects. The expected output is </p>
<pre>
output_list = [1, 1, 0, 1, 0]
</pre>
<p>I can implement this using a for loop followed by if statement. Is there a way to do it which is more elegant/pythonic?</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use a <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a> and a <a href="https://stackoverflow.com/q/394809/2555451">conditional expression</a>:</p>
<pre><code>mylist[:] = [0 if x is None else 1 for x in mylist]
</code></pre>
<p>See a demonstration below:</p>
<pre><code>&gt;&gt;&gt; mylist = ['a', 'b', None, 'c', None]
&gt;&gt;&gt; mylist[:] = [0 if x is None else 1 for x in mylist]
&gt;&gt;&gt; mylist
[1, 1, 0, 1, 0]
&gt;&gt;&gt;
</code></pre>
<p>The <code>[:]</code> will make it so that the list object is kept the same:</p>
<pre><code>&gt;&gt;&gt; mylist = ['a', 'b', None, 'c', None]
&gt;&gt;&gt; id(mylist)
34321512
&gt;&gt;&gt; mylist[:] = [0 if x is None else 1 for x in mylist]
&gt;&gt;&gt; id(mylist)
34321512
&gt;&gt;&gt;
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can also use <a href="https://docs.python.org/2/library/functions.html#map" rel="nofollow">map</a> function on your list, here's a python shell's session:</p>
<pre><code>&gt;&gt;&gt; l = ['j1', 'j2', None, 'j3', None]
&gt;&gt;&gt; map(lambda e : e is None, l)
[False, False, True, False, True]
&gt;&gt;&gt; map(lambda e : e is not None, l)
[True, True, False, True, False]
&gt;&gt;&gt; map(lambda e : int(e is not None), l)
[1, 1, 0, 1, 0]
</code></pre>
</div>
<span class="comment-copy">Great answer. Perhaps even: <code>mylist[:] = [0 if x else 1 for x in mylist]</code> if you are interested in the general truthiness as opposed to only <code>None</code>.</span>
