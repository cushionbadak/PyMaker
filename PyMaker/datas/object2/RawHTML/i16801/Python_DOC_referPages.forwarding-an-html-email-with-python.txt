<div class="post-text" itemprop="text">
<p>Here is what I want to accomplish:</p>
<ol>
<li>somebody (non-technical) prepares an html email and sends it to my gmail account.</li>
<li>I check the original email ("Show original" in the gmail interface) and extract the html part, saving it to a file <code>original_gmail.html</code>. This has CTE of <code>quoted-printable</code> (see below)</li>
<li>Using this file I prepare a MIME message which I can send with python.</li>
</ol>
<p>My framework is already able of sending plain text and/or html mails, but I am unable to send this specially encoded html file. It looks like this in the "Show original" window:</p>
<pre><code>--001a1133dfb0d17ec804f986e82c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

&lt;div dir=3D"ltr"&gt;&lt;div&gt;&lt;font color=3D"#073763" face=3D"arial,helvetica,sans-=
serif" style=3D"background-color:rgb(255,255,255)"&gt;Dear Family and dear fri=
ends, &lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font style=3D"background-color:rgb(255,255,25=
5)"&gt;&lt;font color=3D"#0c343d" face=3D"arial,helvetica,sans-serif"&gt;&lt;/font&gt;&lt;fon=
t color=3D"#073763"&gt;=C2=A0&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;
...
&lt;/div&gt;

--001a1133dfb0d17ec804f986e82c--
</code></pre>
<p>(that is just the html part, there is another part with <code>Content-Type: text/plain; charset=UTF-8
</code> but I have no trouble with that)</p>
<p>How can I send this special <code>quoted-printable</code> section (verbatim) with python?</p>
</div>
<div class="post-text" itemprop="text">
<p>There is a module in the standard library just for that - <a href="https://docs.python.org/3/library/quopri.html" rel="nofollow noreferrer">quopri</a>, which will do the decoding for you:</p>
<pre><code>import quopri
txt = """--001a1133dfb0d17ec804f986e82c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

&lt;div dir=3D"ltr"&gt;&lt;div&gt;&lt;font color=3D"#073763" face=3D"arial,helvetica,sans-=
serif" style=3D"background-color:rgb(255,255,255)"&gt;Dear Family and dear fri=
ends, &lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font style=3D"background-color:rgb(255,255,25=
5)"&gt;&lt;font color=3D"#0c343d" face=3D"arial,helvetica,sans-serif"&gt;&lt;/font&gt;&lt;fon=
t color=3D"#073763"&gt;=C2=A0&lt;/font&gt;&lt;/font&gt;&lt;/div&gt; ... &lt;/div&gt;

--001a1133dfb0d17ec804f986e82c--"""

decoded = quopri.decodestring(txt)
print(decoded)
</code></pre>
<p>, which will output:</p>
<pre><code>--001a1133dfb0d17ec804f986e82c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

&lt;div dir="ltr"&gt;&lt;div&gt;&lt;font color="#073763" face="arial,helvetica,sans-serif" style="background-color:rgb(255,255,255)"&gt;Dear Family and dear friends, &lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font style="background-color:rgb(255,255,255)"&gt;&lt;font color="#0c343d" face="arial,helvetica,sans-serif"&gt;&lt;/font&gt;&lt;font color="#073763"&gt;Â &lt;/font&gt;&lt;/font&gt;&lt;/div&gt; ... &lt;/div&gt;

--001a1133dfb0d17ec804f986e82c--
</code></pre>
</div>
<span class="comment-copy">What have you tried, and how did it fail?  Why do you think this is "specially encoded"? Perhaps you need to decode it before you can send it, if the code you are calling is not prepared to accept an already-encoded body part? Show us your code!</span>
