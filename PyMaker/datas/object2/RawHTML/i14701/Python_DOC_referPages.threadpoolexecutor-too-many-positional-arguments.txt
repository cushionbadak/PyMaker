<div class="post-text" itemprop="text">
<p>I have a <a href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor" rel="nofollow"><code>concurrent.futures.ThreadPoolExecutor</code></a> in the following class:</p>
<pre><code>class X(object):
    def __init__(self):
        self.__pool = ThreadPoolExecutor(max_workers=4)

    def add_callback(self, k):
        fut = self.__pool.submit(self.fn, self, k)
        print(str(fut.exception()))

    def fn(self, k):
        print(k)
</code></pre>
<p>If I execute something like</p>
<pre><code>x_object = X()
x_object.add_callback(5) 
</code></pre>
<p>I get the following exception:</p>
<pre><code>fn() takes 2 positional arguments but 3 were given
</code></pre>
<p>Where is this 3rd argument coming from that the thread pool executor is trying to call <code>fn()</code> with?</p>
</div>
<div class="post-text" itemprop="text">
<p>Just</p>
<pre><code>    fut = self.__pool.submit(self.fn, k)
</code></pre>
<p>is enough. <code>self</code> must not be an argument to <a href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor.submit" rel="nofollow"><code>submit</code></a>.</p>
</div>
<span class="comment-copy">An object of type X, like <code>x_object = X()</code></span>
