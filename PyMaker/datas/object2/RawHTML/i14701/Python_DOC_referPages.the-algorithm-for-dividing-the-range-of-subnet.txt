<div class="post-text" itemprop="text">
<p>There is a interesting algorithm, wrt dividing the range of subnet.</p>
<p>I have a subnet,such as 192.168.1.0/24 or 192.168.1.248/22, and so on. And we know that '/24' or '/22' stands for networks and '(32 - 24)' or '(32 -22)' stands for hosts.So Using 192.168.1.0/24, I want to divide the subnet into two ranges, the first is 192.168.1.1 - 192.168.1.127, the second is 192.168.1.128 - 192.168.1.254.</p>
<p>So I need a algorithm to resolve which can divide a given cider subnet into two range by using python.The input is cidr subnet, and the output is two ip ranges.Here is a example:</p>
<pre><code>Input : 192.168.1.0/24
Output: [{'start_address':'192.168.0.1','end_address':'192.168.0.127'},    
{'start_address':'192.168.0.128','end_address':'192.168.0.245'}]
</code></pre>
<p>So if you have a wonderful algorithm for this, please show it here.</p>
</div>
<div class="post-text" itemprop="text">
<p>Do you want an algorithm, or do you want a solution?</p>
<p>For a solution, in Python 3, use the <a href="https://docs.python.org/3/library/ipaddress.html" rel="nofollow"><code>ipaddress</code></a> module. There is a backport to Python 2 available in <a href="https://pypi.python.org/pypi?%3Aaction=search&amp;term=ipaddress&amp;submit=search" rel="nofollow">PyPI</a>.</p>
<p>If you want the algorithm, you can read the code for the module.</p>
<p>Using the <code>ipaddress</code> module:</p>
<pre><code>import ipaddress
network = ipaddress.ip_network('192.168.1.0/24')
hosts = list(network.hosts())
subnets = [{'start_address': str(list(subnet.hosts())[0]),
            'end_address': str(list(subnet.hosts())[-1])}
                   for subnet in network.subnets()]
print(subnets)
</code></pre>
<p><strong>Output</strong></p>
<pre>
[{'start_address': '192.168.1.1', 'end_address': '192.168.1.126'}, {'start_address': '192.168.1.129', 'end_address': '192.168.1.254'}]
</pre>
<p>Which is pretty close to what you want. Missing is 192.168.1.127 which is the broadcast address for the first subnet, 192.168.1.128 which is the network address for the second subnet, and 192.168.1.255 which is the broadcast address for the second subnet.</p>
<p>To achieve the exact output you can split the hosts list:</p>
<pre><code>hosts = list(network.hosts())
subnets = [{'start_address': str(subnet[0]), 'end_address': str(subnet[-1])} 
               for subnet in (hosts[:len(hosts)//2], hosts[len(hosts)//2:])]
print(subnets)
</code></pre>
<p><strong>Output</strong></p>
<pre>
[{'start_address': '192.168.1.1', 'end_address': '192.168.1.127'}, {'start_address': '192.168.1.128', 'end_address': '192.168.1.254'}]
</pre>
</div>
<span class="comment-copy">Well, I want a useful solution by using python.And you do it, thanks.</span>
