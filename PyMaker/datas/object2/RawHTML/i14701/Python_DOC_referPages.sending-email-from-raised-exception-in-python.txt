<div class="post-text" itemprop="text">
<p>I would like to send an email from all of my raised exceptions that appear in the console in a Python script.  An example of this would be if a json-web service that I am consuming is down and logs an error message to my console; then I would like to send that in addition to any other errors that are logged in the console.</p>
<p>At the lowest level; here is an example of what I would encounter.  I would like to email all associated errors with the script if it fails, or returns <code>exit code 1</code></p>
<pre><code>import json
import jsonpickle
import requests
import time

f2 = open('C:\Users\Administrator\Desktop\DetailView.json', 'r')
data2 = jsonpickle.encode(jsonpickle.decode(f2.read()) )
url2 = "HTTPERROR or ValueError prone URL that raises an exception"
headers2 = {'Content-type': 'text/plain', 'Accept': '/'}
r2 = requests.post(url2, data=data2, headers=headers2)
decoded2 = json.loads(r2.text)
Start = datetime.datetime.now()
</code></pre>
<p><code>
ValueError: No JSON object could be decoded</code></p>
</div>
<div class="post-text" itemprop="text">
<p>You want to use the <a href="https://docs.python.org/3/library/logging.handlers.html#smtphandler" rel="nofollow">SMTP Handler</a> offered in the logging module. You would put a try except block around your concerned code and every time an exception is thrown the logger will send an email.</p>
<p>For example:</p>
<pre><code>try:
    {my code}
except Exception as e:
    logger.error("My code threw an error", exc_info=True)
    {handle exception}
</code></pre>
<p>And you would have to add the SMTP handler to your logging config:</p>
<pre><code>[handler_smtpHandler]
class=logging.handlers.SMTPHandler
level=WARN
formatter=simpleFormatter
args=('localhost', 'ALERT@myemail.com', ['recipient@email.com'], "ERROR SUBJECT")
</code></pre>
</div>
<span class="comment-copy">Good for you. What is your question? Please note that Stack Overflow is not a code-writing service.</span>
<span class="comment-copy">possible duplicate of <a href="http://stackoverflow.com/questions/6182693/python-send-email-when-exception-is-raised">Python -- Send Email When Exception Is Raised?</a></span>
