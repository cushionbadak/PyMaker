<div class="post-text" itemprop="text">
<p>I'm trying translate this Java code to Python:    </p>
<pre><code>double grades = -32.33f;
System.out.println("grades: "+grades);
double radians = Math.toRadians(grades);
System.out.println("rad: "+radians);
long radiansUp8 = 0xFFFF_FFFFL &amp; (long)(radias * 100_000_000);
System.out.println("rad: "+radiansUp8);
String hex = Long.toHexString(radiansUp8);
System.out.println("signed to hex: "+hex);
</code></pre>
<p>I've done this:</p>
<pre><code>import math

grades = -32.33
radians = math.radians(grades)
print radians
radians = radians * 100000000
print radians
hexValue = hex(int(radians))
print hexValue
</code></pre>
<p>But I'm not getting the same result. The Java code works fine, but in Python not. This line in particular I'm not sure how translate to Python, maybe that is the problem:</p>
<pre><code>long radiansUp8 = 0xFFFF_FFFFL &amp; (long)(radianes * 100_000_000);
</code></pre>
<p>The (correct) output for the Java code is:</p>
<pre><code>grades: -32.33000183105469
rad: -0.5642649791276998
rad: 4238540799
signed to hex: fca2ffff
</code></pre>
<p>The (incorrect) output for the Python code is:</p>
<pre><code>grades: -32.33
radians: -0.56426494717
radians: -56426494.717
signed to hex: -0x35cfffe
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The translation for that line into Python is:</p>
<pre><code>radians = 0xffffffff &amp; long(radians * 100000000)
</code></pre>
<p>This gives (roughly!) the answer you expect:</p>
<pre><code>&gt;&gt;&gt; 0xffffffff &amp; long(math.radians(-32.33) * 100000000)
4238540802L
</code></pre>
<hr/>
<p>What the line <strong>does</strong> is multiply the number of radians by 100,000,000 (giving <code>-56426494.71697667</code>), convert the result to a <code>long</code> integer (<code>-56426494L</code>) then do a <em>"bitwise and"</em> (see e.g. <a href="https://wiki.python.org/moin/BitwiseOperators" rel="nofollow">https://wiki.python.org/moin/BitwiseOperators</a>) between that and <code>0xffffffff</code>. Your current code only performs the first of these three steps.</p>
<p>For a simple example of what bitwise and does:</p>
<pre><code>&gt;&gt;&gt; '{:04b}'.format(int('1010', 2) &amp; (int('0111', 2)))
'0010'
</code></pre>
<p>For each binary digit, the output digit is <code>1</code> only if both input digits are <code>1</code>.</p>
</div>
<span class="comment-copy">why my question has -2???</span>
<span class="comment-copy"><code>long</code> in Python?</span>
<span class="comment-copy">Thanks, How can I get hexadecimal signed number? with you answer it give to me <code>signed to hex: 0x0</code></span>
<span class="comment-copy">@Hector just call <a href="https://docs.python.org/2/library/functions.html#hex" rel="nofollow noreferrer"><code>hex</code></a></span>
<span class="comment-copy">@Tichodroma or <code>int</code>, but this makes it "look" closer to the Java</span>
<span class="comment-copy">@Tichodroma no; it was <a href="https://docs.python.org/3/whatsnew/3.0.html#integers" rel="nofollow noreferrer">removed in 3.x</a>, but (based on the <code>print</code>) the OP is using 2.x</span>
