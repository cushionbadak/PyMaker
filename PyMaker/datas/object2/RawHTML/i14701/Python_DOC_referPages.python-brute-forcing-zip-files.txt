<div class="post-text" itemprop="text">
<p>Ive been working on a program in Python, which cracks encrypted zip files. The problem is, part of my programs key functions doesn't work. </p>
<p>How my program's meant to work...</p>
<blockquote>
<p>User enters in zip file name.</p>
<p>User enters min password length.</p>
<p>User enters max password length.</p>
<p>Program will enter a loop, where it will gen a password that is within the min &amp; max numbers.</p>
<p>Program will try to open the zip with the password.</p>
<p>Program will then print out the password if it was successful or not.</p>
</blockquote>
<p>It is the 2nd last step that my program messes up on.</p>
<p>Instead of stooping when the passwords match, the program continues, and then tries another password. I think this is happening because there is an error happening when it tries to open the zip. So even if the password's match, its just going straight to the "except:" statement.</p>
<p>Here is my code which messes up -</p>
<pre><code># Function which tries to open zip (The buggy function)
def extract(zip_name, password, number):
    print("\nAttempt", number)
    # Tries and opens the zip
    try:
        zip_name.extractall(pwd=password)
        print("Success: " + password)
        exit(0)
    except:
        print("Failed: " + password)
</code></pre>
<p>Can anyone please show me how to make this work. Thanks</p>
</div>
<div class="post-text" itemprop="text">
<p>What happens when you call <code>exit(0)</code>? Well, if you read the documentation for the <a href="https://docs.python.org/3/library/constants.html#exit" rel="nofollow"><code>exit</code></a> built-in, then you'll see that it says:</p>
<blockquote>
<p>when called, raises <code>SystemExit</code> with the specified exit code</p>
</blockquote>
<p>so it raises an exception, but in your program this is inside a <code>try: ... except: ...</code> so the next thing that happens is that the exception is caught and the program prints <code>Failed</code> and continues.</p>
<p>This is why people often give the advice "<a href="https://docs.python.org/2/howto/doanddont.html#except" rel="nofollow">don't use a bare <code>except:</code></a>" â€” you almost never want to catch <code>SystemExit</code>.</p>
<p>Instead you could catch the actual exception raised by <code>zipfile</code> when the password doesn't match, which seems to be <code>RuntimeError</code>. Additionally, it would improve the program if you replaced the <code>exit(0)</code> with something like <code>return True</code>, and handle success or failure at a higher level of your program.</p>
</div>
<span class="comment-copy"><a href="http://www.bristol.ac.uk/arts/exercises/grammar/grammar_tutorial/page_15.htm" rel="nofollow noreferrer">to, two and too</a> are not interchangeable.</span>
<span class="comment-copy">Could you cut the code down to a <a href="http://stackoverflow.com/help/mcve">minimal example</a> of the problematic step, and expand on <i>"messes up"</i>?</span>
<span class="comment-copy">@jonrsharpe I edited it down to just the important info, and I added some more detail on whats going wrong</span>
<span class="comment-copy">Why don't you print the exception if you think that's the cause. Swallowing and continuing is rarely the best choice...</span>
