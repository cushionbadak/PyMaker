<div class="post-text" itemprop="text">
<p>im trying to send png images using my mail and python.
Here is a script i found :</p>
<pre><code># Import smtplib for the actual sending function
import smtplib

# Here are the email package modules we'll need
from email.mime.image import MIMEImage
from email.mime.multipart import MIMEMultipart

COMMASPACE = ', '

# Create the container (outer) email message.
msg = MIMEMultipart()
msg['Subject'] = 'Our family reunion'
# me == the sender's email address
# family = the list of all recipients' email addresses
msg['From'] = me
msg['To'] = COMMASPACE.join(family)
msg.preamble = 'Our family reunion'

# Assume we know that the image files are all in PNG format
for file in pngfiles:
    # Open the files in binary mode.  Let the MIMEImage class automatically
    # guess the specific image type.
    with open(file, 'rb') as fp:
        img = MIMEImage(fp.read())
    msg.attach(img)

# Send the email via our own SMTP server.
s = smtplib.SMTP('localhost')
s.send_message(msg)
s.quit()
</code></pre>
<p>source: <a href="https://docs.python.org/3/library/email-examples.html" rel="nofollow">https://docs.python.org/3/library/email-examples.html</a></p>
<p>My problem there is that when i want to precise the pngfiles path i write something like :</p>
<pre><code>pngfiles="/Desktop/Test2"
</code></pre>
<p>only returning an error message such </p>
<pre><code>Traceback (most recent call last):
  File "C:\Python27\work\Picture.py", line 46, in &lt;module&gt;
    fp = open(file, 'rb')
IOError: [Errno 13] Permission denied: '/'
</code></pre>
<p>Its really a silly problem but don't know how to write it properly... Any helps please ? :)</p>
<p>Thanks !</p>
</div>
<div class="post-text" itemprop="text">
<p>You file path:</p>
<pre><code>"/Desktop/Test2"
</code></pre>
<p>and your python path:</p>
<pre><code>"C:\Python27\work\Picture.py"
</code></pre>
<p>are conflicting (1st in Unix, 2nd is Windows). </p>
<p>First thing would be to use a real windows path. </p>
<pre><code>pngfiles_folder = "C:\\Python27\\work\\"
</code></pre>
<p>But you will also need a way to identify which files to attach (png in this case). To do so, you can use the <a href="http://%20%20%20%20https://stackoverflow.com/a/3964691/2327328" rel="nofollow noreferrer">glob</a> package to create a list of files to attach:</p>
<pre><code>import glob
for file in glob.glob("C:\\Python27\\work\\*.png"):
    ....
</code></pre>
</div>
<span class="comment-copy">Try removing the leading slash from your path: <code>pngfiles = "Desktop/Test2"</code>.</span>
<span class="comment-copy">Tried but reterning the following error:  IOError: [Errno 2] No such file or directory: 'D'         I think i try to read a file without permission, dont know how to fix this erf ! Ty for ur help btw</span>
<span class="comment-copy">Yep fixed the issue thanks u Philshem and Figs :)</span>
