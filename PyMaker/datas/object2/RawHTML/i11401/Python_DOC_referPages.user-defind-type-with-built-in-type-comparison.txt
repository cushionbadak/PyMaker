<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/4912972/how-do-i-check-at-runtime-if-one-class-is-a-subclass-of-another">How do I check (at runtime) if one class is a subclass of another?</a>
<span class="question-originals-answer-count">
                    8 answers
                </span>
</li>
</ul>
</div>
<p>I'm writing a context manager allowing to catch a certain type of exception.</p>
<pre><code>class AssertRaises(object):
    def __init__(self, exc_type):
        self.exc_type = exc_type

    def __enter__(self):
        pass

    def __exit__(self, exc_type, exc_val, exc_tb):
        if exc_type == self.exc_type:
            raise AssertionError
        return True
</code></pre>
<p>This manager works fine when built-in exception raises but fails with such usage:</p>
<pre><code>class MyTypeError(TypeError):
    pass


try:
    with AssertRaises(TypeError):
        raise MyTypeError()
except Exception as e:
    print(type(e).__name__)
</code></pre>
<p>In this example the user-defined excepton raises, but this exception is equivalent to TypeError and I want it to be processed by context manager as TypeError.
I checked that `isinstance(MyTypeError(), TypeError) == True' and want </p>
<pre><code>__exit__(...)
</code></pre>
<p>to work in the same way (to consider inheritance). Is there any solution?</p>
</div>
<div class="post-text" itemprop="text">
<p>Either check the exception itself (<code>exc_val</code>) as you've done with <code>isinstance()</code>, or use <a href="https://docs.python.org/3/library/functions.html#issubclass" rel="nofollow"><code>issubclass()</code></a>:</p>
<pre><code>def __exit__(self, exc_type, exc_val, exc_tb):
    if issubclass(exc_type, self.exc_type):
        raise AssertionError
    return True
</code></pre>
</div>
<span class="comment-copy">Equality can't test for subclasses no, that's what <code>issubclass()</code> is for.</span>
<span class="comment-copy">Note that you should not use <code>==</code> to test for classes; <code>issubclass(Class, Class)</code> will also return true (a class is deemed a subclass of itself). And don't use <code>== True</code> in tests; that is already implied. So instead of <code>if some_test == True:</code> use <code>if some_test:</code>, and the inverse is <code>if not some_test:</code>.</span>
<span class="comment-copy">Thank you for help. I think this is the function i was looking for/</span>
