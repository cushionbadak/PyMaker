<div class="post-text" itemprop="text">
<p>i have the following issue with ipyparallel (using python 3.4). The <code>view.sync_imports</code> does neglect the extra module name to which i try to bind them with the 'as' directive.</p>
<p><strong>Example:</strong>
</p>
<pre><code>c = Client(profile='slurm')
v = c[:]
with v.sync_imports():

    import pandas as pd

Output: importing pandas on engine(s)
</code></pre>
<p>So pandas is only available under the name 'pandas'.
Anyone a suggestion what i can do about this? </p>
<p>I also tried the %px magic, does not help</p>
</div>
<div class="post-text" itemprop="text">
<p>When you do</p>
<pre><code>import pandas as pd
</code></pre>
<p>Python interprets that as two operations: <code>import</code> and <code>assignment</code></p>
<pre><code>import pandas
pd = pandas
</code></pre>
<p><code>sync_imports()</code> is implemented as an <a href="https://docs.python.org/3/reference/import.html#import-hooks" rel="nofollow">import hook</a>, which (as far as I can tell) only has access to the import part, and not the assignment part. That means that <code>sync_imports</code> can only support <code>import pandas</code> and not <code>import pandas as pd</code>.</p>
<p>However, <code>%px</code> <em>should</em> work, as it is just executed directly:</p>
<pre><code>import pandas as pd     # local
%px import pandas as pd # remote
</code></pre>
<p>Or as a cell magic with <code>--local</code>, if you want to do shared initialization of all engines and the local workspace:</p>
<pre><code>%%px --local
import pandas as pd
def defined_everywhere():
    """..."""
</code></pre>
</div>
<span class="comment-copy">[@minrk] cool, thanks for the explanation.</span>
