<div class="post-text" itemprop="text">
<p>I am very new with python. I have a .txt file and want to convert it to a .csv file with the format I was told but could not manage to accomplish. a hand can be useful for it. I am going to explain it with screenshots.</p>
<p>I have a txt file with the name of bip.txt. and the data inside of it is <a href="http://i.stack.imgur.com/NNHH8.png" rel="nofollow">like this</a></p>
<p>I want to convert it to csv like <a href="http://i.stack.imgur.com/jDKqF.png" rel="nofollow">this csv file</a></p>
<p>So far, what I could do is only writing all the data from text file with this code:</p>
<pre><code>read_files = glob.glob("C:/Users/Emrehana1/Desktop/bip.txt")

with open("C:/Users/Emrehana1/Desktop/Test_Result_Report.csv", "w") as outfile:
    for f in read_files:
        with open(f, "r") as infile:
            outfile.write(infile.read())
</code></pre>
<p>So is there a solution to convert it to a csv file in the format I desire? I hope I have explained it clearly.</p>
</div>
<div class="post-text" itemprop="text">
<p>There's no need to use the <code>glob</code> module if you only have one file and you already know its name. You can just open it. It would have been helpful to quote your data as text, since as an image someone wanting to help you can't just copy and paste your input data.</p>
<p>For each entry in the input file you will have to read multiple lines to collect together the information you need to create an entry in the output file.</p>
<p>One way is to loop over the lines of input until you find one that begins with "test:", then get the next line in the file using <code>next()</code> to create the entry:</p>
<p>The following code will produce the split you need - creating the csv file can be done with the standard library module, and is left as an exercise. I used a different file name, as you can see.</p>
<pre><code>with open("/tmp/blip.txt") as f:
    for line in f:
        if line.startswith("test:"):
            test_name = line.strip().split(None, 1)[1]
            result = next(f)
            if not result.startswith("outcome:"):
                raise ValueError("Test name not followed by outcome for test "+test_name)
            outcome = result.strip().split(None, 1)[1]
            print test_name, outcome
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You do not use the glob function to open a file, it searches for file names matching a pattern. you could open up the file bip.txt then read each line and put the value into an array then when all of the values have been found join them with a new line and a comma and write to a csv file, like this:</p>
<pre><code># set the csv column headers
values = [["test", "outcome"]]

current_row = []
with open("bip.txt", "r") as f:
    for line in f:
        # when a blank line is found, append the row
        if line == "\n" and current_row != []:
            values.append(current_row)
            current_row = []

        if ":" in line:
            # get the value after the semicolon
            value = line[line.index(":")+1:].strip()
            current_row.append(value)
    # append the final row to the list
    values.append(current_row)


# join the columns with a comma and the rows with a new line
csv_result = ""
for row in values:
    csv_result += ",".join(row) + "\n"

# output the csv data to a file
with open("Test_Result_Report.csv", "w") as f:
    f.write(csv_result)
</code></pre>
</div>
<span class="comment-copy">Please take a minute to convert those screen shots to text examples in your question</span>
<span class="comment-copy">You should use the Python <b>csv</b> library, see <a href="https://docs.python.org/2/library/csv.html" rel="nofollow noreferrer">docs.python.org/2/library/csv.html</a> (Python 2 version) for example or <a href="https://docs.python.org/3/library/csv.html" rel="nofollow noreferrer">docs.python.org/3/library/csv.html</a> for Python 3.</span>
<span class="comment-copy">Why are you trying to process more than one input file with a <code>for f in read_files:</code> loop given that there's only one? Even if there were more, only the output from the last would end up in the <code>Test_Result_Report.csv</code> output file. It's doesn't appear to me that you've put much thought or effort into solving the problem. Suggest you read <a href="http://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users"><i>How much research effort is expected of Stack Overflow users?</i></a></span>
<span class="comment-copy">i am just new in stackoverflow. thanks for the references i will be paying attention about following the rules</span>
<span class="comment-copy">this worked fine for me. i appreciate the help.</span>
<span class="comment-copy">Great! Good luck, and welcome to Stack Overflow</span>
