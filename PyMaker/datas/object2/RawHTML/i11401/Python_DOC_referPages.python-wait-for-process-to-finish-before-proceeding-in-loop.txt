<div class="post-text" itemprop="text">
<p>I'm attempting to use PDFkit to create PDFs of a site and I'm having some trouble:</p>
<pre><code>for u in urls:
    for c in u.children:
        pdfkit.from_url(c, "test.pdf", configuration=config)
</code></pre>
<p>Running <code>pdfkit</code> on a single URL works fine, but trying to use it in a <code>for</code> loop causes problems. I think it's because it takes a while for each PDF to be generated. </p>
<p>Is there a way I could wait while <code>pdfkit</code> is running, and only proceed with the next URL when it has finished with the previous? </p>
</div>
<div class="post-text" itemprop="text">
<p>You need async/wait function for python. </p>
<p>so, look at these</p>
<p><a href="http://stackabuse.com/python-async-await-tutorial/" rel="nofollow">http://stackabuse.com/python-async-await-tutorial/</a></p>
<p><a href="https://docs.python.org/3/library/asyncio-task.html" rel="nofollow">https://docs.python.org/3/library/asyncio-task.html</a></p>
</div>
<span class="comment-copy">You could change the file for each location? or are you trying to put all locations into one pdf?</span>
<span class="comment-copy">@busfault I changed it to allow for a new file name each time, but still get an error. It starts processing the first page of the first URL, then:  Exit with code 1 due to network error: ContentNotFoundError</span>
<span class="comment-copy">What is the actual error message? As you said, it might be related to something going on after the function call returns. Have you tried using distinct  file names? E.g. <code>for i, u in enumerate(urls): ...  from_url(c, "test_" + str(i) + "_" + str(j) + ".pdf", ...</code></span>
