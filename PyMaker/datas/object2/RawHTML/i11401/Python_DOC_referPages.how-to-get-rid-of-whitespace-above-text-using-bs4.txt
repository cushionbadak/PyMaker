<div class="post-text" itemprop="text">
<p>Ok, so I'm using bs4 (BeautifulSoup) to parse through a website and find the specific titles I am looking for. My code looks like this: </p>
<pre><code>import requests
from bs4 import BeautifulSoup
url = 'http://www.ewn.co.za/Categories/Local'
r = requests.get(url).text
soup = BeautifulSoup(r)
for i in soup.find_all(class_='article-short'):
    if i.a:
        print(i.a.text.replace('\n', '').strip())
    else:
        print(i.contents[0].strip())
</code></pre>
<p>This code works, but in output it shows like 20 lines of whitespace first, before printing the requested titles from the website. Is there something wrong with my code or is there something I can do to get rid of the whitespace?</p>
</div>
<div class="post-text" itemprop="text">
<p>Because you have elements like this:</p>
<pre><code>&lt;article class="article-short"&gt;
&lt;div class="thumb"&gt;&lt;a href="http://ewn.co.za/2016/05/14/Contralesa-against-scrapping-initiation-due-to-cold-weather"&gt;&lt;img alt="FILE: Boys who have undergone a circumcision ceremony walk near Qunu in the Eastern Cape in 2013. Picture: AFP." height="147" src="http://ewn.co.za/cdn/-%2fmedia%2f3C37CB28056746CD95FC913757AAD41C.ashx%3fas%3d1%26h%3d147%26w%3d234%26crop%3d1;waeb9b8157b3e310df" width="234"/&gt;&lt;/a&gt;&lt;/div&gt;
&lt;h6 class="h6-mega"&gt;&lt;a href="http://ewn.co.za/2016/05/14/Contralesa-against-scrapping-initiation-due-to-cold-weather"&gt;Contralesa against scrapping initiation due to cold weather&lt;/a&gt;&lt;/h6&gt;
&lt;/article&gt;
</code></pre>
<p>where the first link contains an image and no text.</p>
<p>You should probably look for <code>h6</code> tags instead. So, something like this works:</p>
<pre class="lang-py prettyprint-override"><code>import requests
from bs4 import BeautifulSoup
url = 'http://www.ewn.co.za/Categories/Local'
r = requests.get(url).text
soup = BeautifulSoup(r)
for i in soup.find_all(class_='article-short'):
    title = (i.h6.text.replace('\n', '') if i.h6 else contents[0]).strip()
    if title:
        print(title)
</code></pre>
</div>
<span class="comment-copy">With the strip function you can remove whitespace in a string (<a href="https://docs.python.org/3/library/stdtypes.html#str.strip" rel="nofollow noreferrer">docs.python.org/3/library/stdtypes.html#str.strip</a>)</span>
<span class="comment-copy">Thanks! @aldanor it works much better now!</span>
