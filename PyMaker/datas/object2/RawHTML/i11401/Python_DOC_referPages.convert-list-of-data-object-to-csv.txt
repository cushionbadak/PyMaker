<div class="post-text" itemprop="text">
<p>I'm using python 2.7.6. I would like to convert my list of objects into csv format. I have a list of cdr object, this object contains some string, int and datatime object.</p>
<pre><code>class cdr():
    def __init__(self):
        # some init

    def __iter__(self):
        return iter(self.name, self.my_value,self.my_datetime)

#from another class
import csv
def make_csv(self, cdr_list):
    with open(self.file_name, 'wb') as csv_file:
        wr = csv.writer(csv_file, delimiter=",")
        for cdr in cdr_list:
            wr.writerow(cdr)
</code></pre>
<p>But i'm getting a blank csv. Thanks for help. </p>
</div>
<div class="post-text" itemprop="text">
<p><code>iter</code> built-in function expects a collection as argument, so pass attributes in a list form. Then use the @Shankar suggestion.</p>
<pre><code>class Cdr():

    def __iter__(self):
        return iter([self.name, self.my_value, self.my_datetime])


#from another class
with open(self.file_name, 'wb') as csv_file:
    wr = csv.writer(csv_file, delimiter=',')
    for cdr in cdr_list:
        wr.writerow(list(cdr))  # @Shankar suggestion
</code></pre>
<p>from python help docs:</p>
<blockquote>
<p>iter(...) <br/>
      iter(collection) -&gt; iterator <br/>
      iter(callable, sentinel) -&gt; iterator <br/>
      Get an iterator from an object.  In the first form, the argument must
      supply its own iterator, or be a sequence. <br/>
      In the second form, the callable is called until it returns the sentinel.</p>
</blockquote>
</div>
<span class="comment-copy"><a href="https://docs.python.org/3/library/pickle.html" rel="nofollow noreferrer">docs.python.org/3/library/pickle.html</a> is the way to go or you need to iterate through the attributes and then write to CSV.</span>
<span class="comment-copy">Have you tried plain simple list instead of cdr class first? the <b>iter</b> function here is wrong (misuse if iter()), if it's actually ran, you should have an exception, instead of silent blank</span>
<span class="comment-copy"><code>iter()</code> function returns an iterable object. You have to use <code>.next()</code> to iterate over it or use a <code>list()</code> function to convert it to list... like <code>wr.writerow(list(cdr))</code></span>
<span class="comment-copy">It looks like <code>__iter__()</code> is supposed to be part of your class. If so, it would need to be indented, or it will be interpreted as its own function.</span>
<span class="comment-copy">The <code>str(self.my_datetime)</code> is unnecessary since the <code>datetime</code> class has a <code>__str__()</code> method which will be called automatically.</span>
<span class="comment-copy">Nice to know that, @martineau xD</span>
