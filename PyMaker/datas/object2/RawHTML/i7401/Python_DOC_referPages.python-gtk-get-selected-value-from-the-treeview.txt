<div class="post-text" itemprop="text">
<p>I am working on a mini GUI project , I am currently struggling to figure out how to get selected value from the list and then return that value to the main function so that I can use that value in somewhere else . Can someone help me please !!!!</p>
<pre><code>    ####

    self.device_list_store = gtk.ListStore(str,str,str,str,str)
    for device in self.get_dev_list():
        self.device_list_store.append(list(device))

    device_list_treeview = gtk.TreeView(self.device_list_store)

    selected_row = device_list_treeview.get_selection()
    selected_row.connect("changed",self.item_selected)

    ####

    def item_selected(self,selection):
         model,row = selection.get_selected()
         if row is not None:
             selected_device = model[row][0]
</code></pre>
<p>at the moment ,the <strong>item_selected</strong> function is not returning anything , I want to return <strong>selected_device</strong> back to the main function so I can use it in other functions as well .</p>
<p><strong>EDIT:</strong> I've edited code above to remove formatting errors @jcoppens</p>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/TreeSelection.html#Gtk.TreeSelection.signals.changed" rel="nofollow noreferrer">As you can see in the documentation</a>, the <code>item_selected</code> function is called with one parameter, <code>tree_selection</code>. But if you define the function inside a class, it requires the <code>self</code> parameter too, which is normally added automatically. In your (confusing) example, there is no class defined, so I suspect the problem is your program which is incomplete.</p>
<p>Also, I suspect you don't want <code>device_list_treeview = gtk.T...</code> in the for loop:</p>
<pre><code>for device in self.get_dev_list():
        self.device_list_store.append(list(device))
        device_list_treeview = gtk.TreeView(self.device_list_store)
</code></pre>
<p>And I suspect you want <code>selected_device = mod...</code> indented below the <code>if</code>:</p>
<pre><code> if row is not None:
 selected_device = model[row][0]
</code></pre>
<p>Please convert your example in a complete program, and formatted correctly.</p>
<p>BTW: <code>item_selected</code> is not a good name for the signal handler. It is also called if the item is unselected (which is why the signal is called 'changed')!</p>
<p>And <strong>important</strong>: Even though you should first read the <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">basic Python tutorials</a> and <a href="https://python-gtk-3-tutorial.readthedocs.io/" rel="nofollow noreferrer">Gtk tutorials</a>, you should then consider using <a href="https://lazka.github.io/pgi-docs/" rel="nofollow noreferrer">lazka's excellent reference for all the Python APIs</a>. There's a link on the page to download it completely and have it at hand in your computer.</p>
</div>
<span class="comment-copy">why not put <code>return selected_device</code> as last line of the <code>item_selected</code> function. And have a read of <a href="https://docs.python.org/3/tutorial/index.html" rel="nofollow noreferrer">some basic Python tutorials</a> and <a href="https://python-gtk-3-tutorial.readthedocs.io/" rel="nofollow noreferrer">Gtk tutorials</a>?</span>
<span class="comment-copy">Thanks for your reply , I tried return selected_device , and call the item_selected function in the main function , it doesn't work , the error msg says TypeError: item_selected() takes exactly 2 arguments (1 given). I can understand I need to pass some arguments to that function , but the problem is I have no idea what parameters I need to use for that function , hopefully this makes sense to you .</span>
<span class="comment-copy">Thank you so much , the issue has been solved now . I will have a read of the training materials that you suggested to make sure I have all those basic stuff covered .</span>
<span class="comment-copy">Great. I've edited your original question to remove the formatting problems.</span>
