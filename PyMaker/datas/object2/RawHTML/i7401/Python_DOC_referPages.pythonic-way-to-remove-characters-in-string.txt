<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/6116978/how-to-replace-multiple-substrings-of-a-string">How to replace multiple substrings of a string?</a>
<span class="question-originals-answer-count">
                    19 answers
                </span>
</li>
</ul>
</div>
<p>What is a neat way to remove different characters from a string? For example, I have the following strings that I need to convert to integers:</p>
<pre><code>($12,990)
$21,434
</code></pre>
<p>I use the following code which works fine, but is there a less bulkier way to do the same?</p>
<pre><code>string = string.replace(",", "")
string = string.replace("$", "")
string = string.replace("(", "-")
string = string.replace(")", "")
int(string)
</code></pre>
<p>Edit: I am using Python 2.7.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/library/stdtypes.html#str.translate" rel="nofollow noreferrer"><code>str.translate</code></a>, e.g.</p>
<pre><code>&gt;&gt;&gt; "($12,990)".translate(str.maketrans({',': '', '$': '', '(': '-', ')': ''}))
'-12990'
</code></pre>
<p>As stated by @AdamSmith in the comments you could also utilize the (full) three-argument form of <a href="https://docs.python.org/library/stdtypes.html#str.maketrans" rel="nofollow noreferrer"><code>str.maketrans</code></a>:</p>
<pre><code>&gt;&gt;&gt; translationtable = str.maketrans("(", "-", ",$)")
&gt;&gt;&gt; "($12,990)".translate(translationtable)
'-12990'
</code></pre>
<hr/>
<p>In case you're using python-2.x the <a href="https://docs.python.org/2.7/library/stdtypes.html#str.translate" rel="nofollow noreferrer"><code>str.translate</code></a> function and <a href="https://docs.python.org/2.7/library/string.html#string.maketrans" rel="nofollow noreferrer"><code>string.maketrans</code></a> function can be used:</p>
<pre><code>&gt;&gt;&gt; import string
&gt;&gt;&gt; translationtable = string.maketrans('(', '-')
&gt;&gt;&gt; "($12,990)".translate(translationtable, ',$)')
'-12990'
</code></pre>
<p>or with unicodes on Python-2.x you need a unicode-ordinal to unicode-ordinal/string or None:</p>
<pre><code>&gt;&gt;&gt; unicode_translation_table = {ord(u','): None, ord(u'$'): None, ord(u'('): ord(u'-'), ord(u')'): None}
&gt;&gt;&gt; u"($12,990)".translate(unicode_translation_table)
u'-12990'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Well, you can rely on a loop to make it less ugly:</p>
<pre><code>FORBIDDEN_CHARS =  { # Model: { "Replacer" : "Replacees", ... }
 "" : ",$)", 
 "-" : "("
} 

for replacer in FORBIDDEN_CHARS:
 for replacee in FORBIDDEN_CHARS[replacer]:
  mystr = mystr.replace(replacee, replacer)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>''.join(string.strip('(').strip(')').strip('$').split(','))
</code></pre>
<p>or </p>
<pre><code>''.join(filter(str.isdigit, string))
</code></pre>
</div>
<span class="comment-copy">is <code>string.replace("(", "-")</code> a typo? That line doesn't remove a character...</span>
<span class="comment-copy">@MSeifert It's Excel formatting for negative numbers to put parenthesis around them</span>
<span class="comment-copy"><a href="https://stackoverflow.com/a/15448887/223424">This answer</a> is most concise, but the whole thread is excellent, and shows that the problem is not entirely trivial.</span>
<span class="comment-copy">@9000 only if <code>-</code> were both a value to be replaced and a value to replace. <code>str.translate</code> handles this nicely (and trivially). The question you marked as a duplicate does not seem to use <code>str.translate</code> at all.</span>
<span class="comment-copy">@AdamSmith: Yes, for one-character case, <code>str.translate</code> is nice. This may suffice in this particular case.</span>
<span class="comment-copy">or <code>str.maketrans("(", "-", ",$)")</code> <a href="https://docs.python.org/3/library/stdtypes.html#str.maketrans" rel="nofollow noreferrer">per the docs</a> the three-argument version of <code>maketrans</code> pairs the first two arguments and maps the third to <code>None</code> (empty string)</span>
<span class="comment-copy">I am getting an error <code>AttributeError: type object 'str' has no attribute 'maketrans'</code>. I guess that is because I am using Python 2.7. Is there a way to make it work in Python 2.7?</span>
<span class="comment-copy">@sprogissd I included the python 2.7 way of solving it :)</span>
<span class="comment-copy">I get this error <code>translate() takes exactly one argument (2 given)</code> when I use your solution in Python 2.7 and use a  string variable instead of <code>"($12,990)"</code>.</span>
<span class="comment-copy">Seems like the error is caused by unicode. When I do <code>string.encode('utf-8')</code>, it works. Is there a way to do it using unicode?</span>
<span class="comment-copy">Yeah sorry for this, then you can rely on an associative dict, let me update</span>
<span class="comment-copy">Updated :-) Sounds correct now</span>
<span class="comment-copy">That does not handle parentheses correctly.</span>
