<div class="post-text" itemprop="text">
<p>I have a string <code>x</code> as below</p>
<pre><code>x = "\xe9\x94\x99\xe8\xaf\xaf"
</code></pre>
<p>This string should be Unicode string, but cannot be displayed (print) correctly.</p>
<p>And the string <code>y</code> is Unicode string/ bytes started with <code>b</code>, And <code>y</code> can be displayed correctly by <code>y.decode('utf-8')</code></p>
<pre><code>y = b"\xe9\x94\x99\xe8\xaf\xaf"
</code></pre>
<p>My question is how to convert x to y ?</p>
</div>
<div class="post-text" itemprop="text">
<p>Assuming we're talking about Python3, the Unicode string <code>x</code> is 6 code points long. It happens to be that each of those code points is in range <code>0x00</code> to <code>0xff</code> (ASCII subset). We can get the exact byte string with the <a href="https://docs.python.org/3/library/codecs.html#text-encodings" rel="nofollow noreferrer"><code>raw_unicode_escape</code></a> codec, like this:</p>
<pre><code>&gt;&gt;&gt; x = "\xe9\x94\x99\xe8\xaf\xaf"
&gt;&gt;&gt; y = x.encode('raw_unicode_escape')
&gt;&gt;&gt; y
b'\xe9\x94\x99\xe8\xaf\xaf'
&gt;&gt;&gt; y.decode('utf8')
'错误'
</code></pre>
<p>Note that this will only work if the string <code>x</code> contains only ASCII subrange of Unicode; otherwise you'll just get escaped Unicode code points (as the codec's name suggests):</p>
<pre><code>&gt;&gt;&gt; "šž".encode('raw_unicode_escape')
b'\\u0161\\u017e'
</code></pre>
</div>
<span class="comment-copy">How are those supposed to be displayed? My Windows sees <code>"é[x][x]è"</code> for <code>x</code>, and <code>"[x][x]"</code> for <code>y</code>.</span>
