<div class="post-text" itemprop="text">
<p>I have a smaple.json as follows:</p>
<pre><code>{"Detail":[
    {
    "DocType":"txt",
    "Name":"hello.txt",
    }
    ]}
</code></pre>
<p>I need to have the value aginst the "Name" Field. i tried in my script as follows:</p>
<pre><code>file="c:/sample.json"
for list in file:
    if (str(list['Detail'])=='None'):
         print("Do nothing")
     else:
         ana = list['Detail']
         val =  (str(ana)[1:-1])
         print val
         print val['Name']
</code></pre>
<p>and i get output as : </p>
<pre><code>  {"DocType":"txt","Name":"hello.txt"} 
  error:print (ana['Name'])
  TypeError: string indices must be integers
</code></pre>
<p>So what am i doing wrong how shall i get the "Name" field details.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use the <code>json</code> library:</p>
<pre><code>import json

json_path = "c:\\sample.json"
with open(json_path) as json_file:
    json_dict = json.load(json_file)

name = json_dict['Detail'][0]['Name']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>error is at this line <code>print val['Name']</code>. Because <code>val</code> is <code>str</code> type so you can't lookup on key basis. </p>
<p>You should do</p>
<pre><code>ana[0]['Name']
&gt;&gt;&gt; 'hello.txt'
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use <a href="https://docs.python.org/3/library/json.html" rel="nofollow noreferrer"><code>json</code></a> library.</p>
<pre><code>import json

with open('sample.json', 'r') as f:
    content = json.load(f)

name = content['Detail'][0]['Name']
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Please see the below link on json library [<a href="https://docs.python.org/2/library/json.html]" rel="nofollow noreferrer">https://docs.python.org/2/library/json.html]</a></p>
<ol>
<li>open the json file</li>
<li>use json.loads() to decodethe data.</li>
<li>access it with headers</li>
</ol>
<p>/code</p>
<pre><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; with open('test.json','r') as e:
...     data = json.loads(e.read())
... 
&gt;&gt;&gt; data
{u'Detail': [{u'DocType': u'txt', u'Name': u'hello.txt'}]}
&gt;&gt;&gt; data['Detail'][0]['Name']
u'hello.txt'
&gt;&gt;&gt; 
</code></pre>
</div>
<span class="comment-copy">you are handling a json object as a string which is not a good practice. Try to handle it as a dict and then access the elements you want. It will seem easy too.</span>
