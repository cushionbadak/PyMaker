<div class="post-text" itemprop="text">
<p>I am trying to solve a programming question to convert a string to below form:<br/>
input: <code>aaaabbbcc</code><br/>
output: <code>a4b3c2</code></p>
<p>My code is like below:</p>
<pre><code>def encode(s):
    output = []
    i = 0
    j = 1
    while i &lt; len(s) and j &lt; len(s)-1 :
        count = 1
        output.append(s[j])


    while s[i] == s[j] :
        count += 1
        j+=1
        i+=1

    output.append(count)
    i += 1
    j += 1


new_s = "".join(str(x) for x in output)
return new_s
</code></pre>
<p>But I am getting the below exception :<br/>
Traceback (most recent call last): </p>
<blockquote>
<p>File "encode.py", line 30, in <br>
  print encode(s)<br>
  File "encode.py", line 13, in encode<br>
  while s[i] == s[j] :<br/>
  IndexError: string index out of range</br></br></br></p>
</blockquote>
<p>I am not able to understand the bug here. Can someone please help me?</p>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/2/library/itertools.html#itertools.groupby" rel="nofollow noreferrer">groupby</a> function:</p>
<pre><code>import itertools
result = ""
for k, group in itertools.groupby('aaaabbbcc'):
    result += '%s%d' % (k, len(list(group)))
print(result)
&gt;&gt;&gt; a4b3c2
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As others have indicated you are not checking the list bounds in the inner loop. </p>
<p>Note that you can do the string conversion with a regular expression (<code>import re</code>) and list comprehension, like this:</p>
<pre><code>''.join([ch + str(len(m)) for m, ch in re.findall(r"((.)\2*)", "aaaabbbcc")])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Your code is working fine.The only issue being if string has a single letter like <code>aaabbd</code> <code>d1</code> will not come back.
You can try with <code>re</code> as well.</p>
<pre><code>x="aaaabbbccd"
print "".join([j+str(len(i)) for i, j in re.findall(r"((.)\2*)", x)])
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You could use <a href="https://docs.python.org/3/library/collections.html#collections.Counter" rel="nofollow noreferrer">collections Counter</a></p>
<pre><code>from collections import Counter

in_str = "aaaabbbccd"
out_str = ""
letters = Counter(in_str)

for l in letters:
    out_str += l + str(letters[l])

print(out_str) # a4b3c2d1
# Note: in_str of "aabaa" will produce out_str of "a4b1"
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can convert your <code>string</code> into <code>set</code>. Than you can iterate the <code>set</code> and call the <code>count()</code> for finding number of repetition character.</p>
<pre><code>input_str = 'aaaabbbcc'
# converting into set
input_set=set(list(input_str))
for i in input_set:
    print(i+str(input_str.count(i)),end='')
# as set is unordered so output will come unordered.
</code></pre>
</div>
<span class="comment-copy">You're not checking for j going out of bounds inside the inner loop...</span>
<span class="comment-copy">Possible duplicate of <a href="https://stackoverflow.com/questions/1155617/count-occurrence-of-a-character-in-a-string">Count occurrence of a character in a string</a></span>
<span class="comment-copy">Yes, thanks got it!</span>
<span class="comment-copy">Note that this will not work for repeated groups, like <code>aaabaa</code>.</span>
