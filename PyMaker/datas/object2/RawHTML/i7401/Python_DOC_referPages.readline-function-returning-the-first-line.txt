<div class="post-text" itemprop="text">
<p>Relatively inexperienced Python user here, I was trying to use the <strong>readline</strong> function for a project in order to read a specific line of an <em>.xyz</em> file.</p>
<p>However, no matter what the argument of the <strong>readline</strong> function I enter, it systematically returns the first line.</p>
<p>Any idea what could cause this, and how to fix it?</p>
<p>Here is the <em>cube.xyz</em> file:</p>
<pre><code>4  

'Cu' 0.0 0.0 0.0 0.5  
'Ag' 0.0 0.0 1.0 0.5  
'Ag' 0.0 0.0 2.0 0.5  
'Cu' 0.0 0.0 3.0 0.5
</code></pre>
<p>And the bit of code supposed to read it:</p>
<pre><code>def swapfunction ():
    inp = open('cube.xyz', 'r+')
    print inp.readline(3)

swapfunction()
</code></pre>
<p>Which returns:</p>
<pre><code>&gt;&gt;&gt; 4
</code></pre>
<p>Thanks!</p>
</div>
<div class="post-text" itemprop="text">
<p><code>inp.readline(n)</code> returns either the entire line, or the number of bytes in the current line, whichever is lesser. If you want to read by bytes, I suggest you use <code>inp.read(n)</code>. Alternatively, use a loop over <code>inp</code></p>
<pre><code>def swapfunction ():
    inp = open('cube.xyz', 'r+')
    for line in inp:
        print line,

swapfunction()
</code></pre>
<p>Output:</p>
<pre><code>4  

'Cu' 0.0 0.0 0.0 0.5  
'Ag' 0.0 0.0 1.0 0.5  
'Ag' 0.0 0.0 2.0 0.5  
'Cu' 0.0 0.0 3.0 0.5
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>def swapfunction():
    with open('cube.xyz', 'r+') as inp:
        lines = inp.readlines()
</code></pre>
<p>Then you'd have <code>lines</code> in a list, which you can index freely.</p>
<p>Or if you have a big file, you can use <a href="https://docs.python.org/3/library/itertools.html#itertools.islice" rel="nofollow noreferrer"><code>itertools.islice</code></a>.</p>
<pre><code>import itertools

def swapfunction():
    with open('cube.xyz', 'r+') as inp:
        index = 3
        line = next(itertools.islice(inp, index, index + 1))
</code></pre>
</div>
<span class="comment-copy">that is what <code>readline()</code> does. You either have to use multiple of those (subsequent uses read further and further in the document) or set the pointer to somewhere <i>deeper</i> in the file.</span>
<span class="comment-copy">The question is, what do you <i>want</i> it to return?</span>
<span class="comment-copy">the argument passed to <code>readline()</code> is the size (number of bytes) not the line number</span>
<span class="comment-copy">@cᴏʟᴅsᴘᴇᴇᴅ I guess the 3rd line, or even better a function where he can just pass a number and the number becomes the line to read.</span>
<span class="comment-copy">Oh, I see. I got the argument wrong. All right, thank you for your help.</span>
<span class="comment-copy">Bad idea for large files</span>
