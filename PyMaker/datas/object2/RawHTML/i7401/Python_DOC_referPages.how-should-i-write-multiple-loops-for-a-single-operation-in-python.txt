<div class="post-text" itemprop="text">
<p>I'm new to learning python and I really need to get this job done, and I really dont know how to look for an answer in what it seems to be a big giant ocean of information.</p>
<p>I'm working with a PDB parser and I have the following code:</p>
<pre><code>#Calling the module
from Bio.PDB.PDBParser import PDBParser

#Defining some variables
parser = PDBParser(PERMISSIVE=1)
structure_id= "3caq"
filename = "3caq.pdb"

#This is the actual task to be done
structure = parser.get_structure(structure_id, filename)

#What I'm interested in doing
compound = structure.header['compound']
print structure_id + " |", compound
</code></pre>
<p>with this result:</p>
<blockquote>
<p>3caq | {'1': {'synonym': 'delta(4)-3-ketosteroid 5-beta-reductase, aldo-keto reductase family 1 member d1 ', 'chain': 'a, b', 'misc': '', 'molecule': '3-oxo-5-beta-steroid 4-dehydrogenase', 'ec_number': '1.3.1.3','ec': '1.3.1.3', 'engineered': 'yes'}}</p>
</blockquote>
<p>The thing is that I'm not working with just a single file (defined under "filename") but I have hundreds of files from where I need to extract the "header", and only retain the "compound" variable of said header. </p>
<p>I know I have to write loops for that to be done and I tried the following:</p>
<pre><code>#Defining lists
nicknames = { "3caq", "2zb7" }
structures = { "3caq.pdb", "2bz7.pdb" }

structure_id = []
for structure in structures:
       structure_id.append(nickname)
filename = []
for structure in structures:
       filename.append(structure)
</code></pre>
<p>then I feed the parser but I get an error. </p>
<pre><code>Traceback (most recent call last):
  File "/home/tomas/Escritorio/d.py", line 16, in &lt;module&gt;
   header = parser.get_structure(structure_id, filename)
  File "/usr/local/lib/python2.7/dist-packages/Bio/PDB/PDBParser.py"
  , line 82, in get_structure
   self._parse(handle.readlines())
AttributeError: 'list' object has no attribute 'readlines'
</code></pre>
<p>I'm pretty sure that the loop is not correctly written.</p>
<p>So, I'll be really thankful if I can get some help with how to correctly write that loop, either with a resource I can check, or with the right commands.</p>
<p>Best regards.</p>
</div>
<div class="post-text" itemprop="text">
<p>You're getting an error because you're passing a list (<code>["3caq.pdb"]</code>) when <code>get_structure()</code> expects a string (<code>"3caq.pdb"</code>).</p>
<p>Here is how you can support multiple files:</p>
<pre><code>from Bio.PDB.PDBParser import PDBParser

files = {"3caq.pdb", "2bz7.pdb"}

for filename in files:
    # Defining some variables
    parser = PDBParser(PERMISSIVE=1)

    # Drop ".pdb" from filename to get structure_id
    structure_id = filename.split('.')[0]

    # This is the actual task to be done
    structure = parser.get_structure(structure_id, filename)

    # What I'm interested in doing
    compound = structure.header['compound']

    print("{} | {}".format(structure_id, compound))
</code></pre>
<p>To make your code even better, I would write it as a separate function:</p>
<pre><code>from Bio.PDB.PDBParser import PDBParser

def get_compound_header(filename):
    # Defining some variables
    parser = PDBParser(PERMISSIVE=1)

    # Drop ".pdb" from filename to get structure_id
    structure_id = filename.split('.')[0]

    # This is the actual task to be done
    structure = parser.get_structure(structure_id, filename)

    # What I'm interested in doing
    compound = structure.header['compound']

    return "{} | {}".format(structure_id, compound)


# Main function
if __name__ == "__main__":

    files = {"3caq.pdb", "2bz7.pdb"}

    for filename in files:
        print(get_compound_header(filename))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Clear understanding would help you sort this out. </p>
<p>You need to iterate through many structures so good choice with the for loop. I would suggest you use a list instead of set to store the structures and filenames. </p>
<pre><code>filenames = ["3caq", "2zb7" ]
structures = ["3caq.pdb", "2bz7.pdb"]
</code></pre>
<p>Now you can iterate by the length of the structures.</p>
<pre><code>for each in range(len(structures)):
    structure = parser.get_structure(structures[each], filenames[each])

    compound = structure.header['compound']
    print structure_id + " |", compound
</code></pre>
<p>Let me know if this works for you. </p>
</div>
<span class="comment-copy"><i>"I get an error"</i> - Can you please post the full error you're getting?</span>
<span class="comment-copy">Sorry, I forgot about it</span>
<span class="comment-copy">Traceback (most recent call last):   File "/home/tomas/Escritorio/d.py", line 16, in &lt;module&gt;     header = parser.get_structure(structure_id, filename)   File "/usr/local/lib/python2.7/dist-packages/Bio/PDB/PDBParser.py", line 82, in get_structure     self._parse(handle.readlines()) AttributeError: 'list' object has no attribute 'readlines'</span>
<span class="comment-copy">Post it in your question please.</span>
<span class="comment-copy">Does the first block of code work?</span>
<span class="comment-copy">Oh, yeah! thanks :) I will edit it Anything with index would help here.</span>
<span class="comment-copy">You could use <a href="https://docs.python.org/3/library/functions.html#zip" rel="nofollow noreferrer">zip</a> to pair the nicknames with the filenames and dispense with the indices.</span>
<span class="comment-copy">I'm working on it!</span>
<span class="comment-copy">It also worked! thank you very much. I had to edit the last string which endend up like: print filenames[each] + " |", compound</span>
<span class="comment-copy">Great! Please upvote :)</span>
