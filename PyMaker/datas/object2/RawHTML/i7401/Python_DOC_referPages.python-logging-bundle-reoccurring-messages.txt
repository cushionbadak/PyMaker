<div class="post-text" itemprop="text">
<p>I would like to bundle equal consecutive messages with python's logging module.
This way I want to prevent huge log files with thousands of equal messages in them. Instead, the log should only be written for the, e.g. 1st, 2nd, 3rd, 10th, 50th, 100th, 500th, ... time until a different messages is sent to the logger.</p>
<p><strong>How can this be achieved with the <a href="https://docs.python.org/2/library/logging.html#" rel="nofollow noreferrer">logging</a> module?</strong></p>
<p>Here is an example:<br/>
Instead of this:</p>
<pre><code>2017-07-16 16:00:00 INFO: File upload initiated
2017-07-16 16:01:00 ERROR: I/O Error: no route to host
2017-07-16 16:02:00 ERROR: I/O Error: no route to host
2017-07-16 16:03:00 ERROR: I/O Error: no route to host
2017-07-16 16:04:00 ERROR: I/O Error: no route to host
2017-07-16 16:05:00 ERROR: I/O Error: no route to host
... [169 more lines]
2017-07-16 18:54:00 ERROR: I/O Error: no route to host
2017-07-16 18:55:00 ERROR: I/O Error: no route to host
2017-07-16 18:56:00 INFO: File upload started
</code></pre>
<p>I want them to be bundle in any way, e.g.:</p>
<pre><code>2017-07-16 16:00:00 INFO: File upload initiated
2017-07-16 16:01:00 ERROR: I/O Error: no route to host
2017-07-16 16:02:00 ERROR: I/O Error: no route to host
2017-07-16 16:03:00 ERROR: I/O Error: no route to host
2017-07-16 16:13:00 ERROR (repeated 10x): I/O Error: no route to host
2017-07-16 17:03:00 ERROR (repeated 50x): I/O Error: no route to host
2017-07-16 18:43:00 ERROR (repeated 100x): I/O Error: no route to host
2017-07-16 18:55:00 ERROR (repeated 12x): I/O Error: no route to host
2017-07-16 18:56:00 INFO: File upload started
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>So I ended up extending the Logger class and adding the desired functionality myself.</p>
<p>Visit the <a href="http://github.com/eltos/bundlelogger" rel="nofollow noreferrer">github repository</a> for code.</p>
</div>
<span class="comment-copy">I'd imagine you can use a <a href="https://docs.python.org/3/library/logging.html#loggeradapter-objects" rel="nofollow noreferrer">logger adapter</a> to implement this, but how are you going to figure out when you're going to get more of the same log line?</span>
