<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/10270596/indentationerror-expected-an-indented-block">IndentationError: expected an indented block [closed]</a>
<span class="question-originals-answer-count">
                    4 answers
                </span>
</li>
</ul>
</div>
<p>I want to fetch all records of JSON so I tried to do the following but for the single request, it works perfectly but when I put in the loop it shows Expected an indented block error</p>
<pre><code>import requests

url = "https://www.example.com/web/api/Profile/info"
headers = {
    'Content-Type': "application/x-www-form-urlencoded",
    'Access-Control-Allow-Origin': "*",
    'Accept-Encoding': "gzip, deflate",
    'Accept-Language': "en-US"
    }

n = 10
sum = 0
for i in range(1,n):

payload = "user_id=1"


response = requests.request("POST", url, data=payload, headers=headers)

print(response.text+",")
sum = sum + i
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You're missing the indentation in the for loop, as suggested in the traceback;</p>
<pre><code>import requests

url = "https://www.example.com/web/api/Profile/info"
headers = {
    'Content-Type': "application/x-www-form-urlencoded",
    'Access-Control-Allow-Origin': "*",
    'Accept-Encoding': "gzip, deflate",
    'Accept-Language': "en-US"
    }

n = 10
sum = 0
for i in range(1,n):
    payload = "user_id={}".format(i+1)
    response = requests.request("POST", url, data=payload, headers=headers)
    print(response.text+",")
    sum = sum + i
</code></pre>
</div>
<span class="comment-copy">but how to loop payload?</span>
<span class="comment-copy">Aye Ayee Flash!</span>
<span class="comment-copy">Quick on the guns ;)</span>
<span class="comment-copy">@Amitkumar you've hardcoded <code>payload</code> so it will always be the same, how do you <i>want</i> to loop over it?</span>
<span class="comment-copy">@MattB. yes I want to loop it to fetch all 10 records</span>
