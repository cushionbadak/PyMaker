<div class="post-text" itemprop="text">
<p>Is there a pythonic way and without shell commands (i.e. with subprocess module) to check if a directory is a mount point? </p>
<p>Up to now I use:</p>
<pre><code>import os
import subprocess

def is_mount_point(dir_path):
    try:
        check_output([
            'mountpoint',
            path.realpath(dir_name)
        ])
        return True
    except CalledProcessError:
        return False
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>There is an <a href="https://docs.python.org/2/library/os.path.html#os.path.ismount" rel="noreferrer"><code>os.path.ismount(path)</code></a>.</p>
<blockquote>
<p>Return True if pathname path is a mount point: a point in a file
  system where a different file system has been mounted. The function
  checks whether path‘s parent, path/.., is on a different device than
  path, or whether path/.. and path point to the same i-node on the same
  device — this should detect mount points for all Unix and POSIX
  variants.</p>
</blockquote>
<pre><code>import os
os.path.ismount(dir_name)  # returns boolean
</code></pre>
<p>You may also refer to <a href="https://github.com/python/cpython/blob/master/Lib/posixpath.py#L180" rel="noreferrer">implementation</a> (if you're on POSIX system). Check <code>macpath.py</code> or <code>ntpath.py</code> for other platforms.</p>
</div>
<div class="post-text" itemprop="text">
<p>in Python 3.7, use <code>Path.is_mount()</code></p>
<pre><code>&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; p = Path('/some/mounted/dir/')
&gt;&gt;&gt; p.is_mount()
True
</code></pre>
</div>
<span class="comment-copy">I'll also add that you can retrieve all mount points using the <a href="https://pythonhosted.org/psutil/" rel="nofollow noreferrer">psutil</a> library - something like: <code>mount_points = {el.mountpoint: el for el in psutil.disk_partitions(all=True)}</code> if you wanted additional information and automatic cross-platform stuff... Then you can use it as <code>if path in mount_points</code> as the check or <code>mount_points[path]</code> to get the additional info. as a namedtuple...</span>
<span class="comment-copy">Great answer for modern Python. Note, however, that this method was first added in Python 3.7 (and not in 3.4). Reference: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.is_mount" rel="nofollow noreferrer">docs.python.org/3/library/pathlib.html#pathlib.Path.is_mount</a></span>
