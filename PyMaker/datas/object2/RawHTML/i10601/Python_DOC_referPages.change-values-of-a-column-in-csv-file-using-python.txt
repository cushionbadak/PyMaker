<div class="post-text" itemprop="text">
<p>I am new to python and just need a small help.</p>
<p>We have a Pipe delimited CSV file which looks like this </p>
<pre><code>DATE|20160101
ID | Name | Address | City | State | Zip   | Phone | OPEID  | IPEDS |
10 | A... | 210 W.. | Mo.. | AL... | '31.. | 334.. | '01023 | 10063 |
20 | B... | 240 N.. | Ne.. | Ut... | '21.. | 335.. | '01024 | 10064 |
</code></pre>
<p>Every value of Zip and OPEID columns has apostrophes in the beginning </p>
<p>So we wish to create a new CSV file where apostrophes are removed from each value of these 2 columns.</p>
<p>The new file should then look like this:</p>
<pre><code>DATE|20160101
ID | Name | Address | City | State | Zip  | Phone | OPEID | IPEDS |
10 | A... | 210 W.. | Mo.. | AL... | 31.. | 334.. | 01023 | 10063 |
20 | B... | 240 N.. | Ne.. | Ut... | 21.. | 335.. | 01024 | 10064 |
</code></pre>
<p>This code works for copying data without removing apostrophes</p>
<pre><code>import os
import csv

file1 = "D:\CSV\File1.csv"
with open(file1, 'rb') as csvfile:

         reader = csv.reader(csvfile, delimiter = '|')

         path = "D:/CSV/New"
         if not os.path.exists(path):
             os.makedirs(path)

         writer = csv.writer(open(path+"File2"+".csv", 'wb'), delimiter = '|')

         for row in reader:
             writer.writerow(row)

csvfile.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>It worked for me... Try this.</p>
<pre><code>res=[]
with open('hi.csv') as f:
    content=csv.reader(f,delimiter='|')
    for row in content:
        for str in range (len(row)):
            row[str]=row[str].replace('\'','')
        res.append(row)
    f.close()
with open('hi.csv','wb') as ff:  # python 3 =&gt; 'wb' =&gt; 'w',newline=''
    sw=csv.writer(ff,delimiter='|',quoting=csv.QUOTE_MINIMAL)
    for rows in res:
        sw.writerow(rows)
ff.close()
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>The code below would be the same for all file formats. The fact that it is a *.csv doesn't change a thing. What it actually does, is that it goes in the file from which you want to remove the apostrophes, <code>my_csv_in</code>, and parses it line by line each time replacing them with nothing (a.k.a removing). The modified lines are written in a second file, <code>my_csv_out</code>.</p>
<pre><code>my_csv_in = r'full_file_path_to_csv_in.csv'
my_csv_out = r'full_file_path_to_csv_out.csv'

with open(my_csv_in, 'r') as f_in:
    with open(my_csv_out, 'w') as f_out:
        for line in f_in:
            f_out.write(line.replace("'", ''))
</code></pre>
<p>There are probably better ways to do this that take advantage of the file being a *.csv and using the <code>csv</code> library. You can take a look at the <a href="https://docs.python.org/3/library/csv.html#csv.Dialect.quoting" rel="nofollow"><code>quoting options</code></a> in the <a href="https://docs.python.org/3/library/csv.html" rel="nofollow">documentation</a>.</p>
</div>
<div class="post-text" itemprop="text">
<p>To remove apostrophes you can use the <a href="https://docs.python.org/2/library/string.html" rel="nofollow">replace function</a>, you just need to get the content of every cell one by one, and replace the apostrophes with:</p>
<pre><code>new = old.replace("'", "")
</code></pre>
<p>More simply, open your csv file with any file editor and search and replace for "'".</p>
</div>
<div class="post-text" itemprop="text">
<p>You can do it very efficiently with Pandas--this will be good if your file is very large:</p>
<pre><code>import pandas as pd
import sys

with open('t.txt') as infile:
    title = next(infile)
    infile.seek(0)
    table = pd.read_csv(infile, '|', header=1, dtype=str)

table.rename(columns={'Unnamed: 9':''}, inplace=True)

table[' Zip   '] = table[' Zip   '].str.replace("'", "")
table[' OPEID  '] = table[' OPEID  '].str.replace("'", "")

sys.stdout.write(title)
table.to_csv(sys.stdout, '|', index=False)
</code></pre>
</div>
<span class="comment-copy">have you produced any code that tries to do that? Are all instances of apostrophes unwanted or can there possibly be some that you'd rather keep?</span>
<span class="comment-copy">I have tried to code, but got errors. And <b>all apostrophes are unwanted</b></span>
<span class="comment-copy">What is the question? You succeed to open the file? To write a file? To do anything? StackOverflow is a Q&amp;A website, not a free writing code service.</span>
<span class="comment-copy">check the code.. It simply writes all rows of File1 to FIle2. I don't have any idea how to remove apostrophes</span>
