<div class="post-text" itemprop="text">
<p>i'm looking to solve this problem. 
When i try to write into the xml file , it writes twice the same thing.</p>
<p>It's the code:</p>
<pre><code>    def writeIntoXml(fileName, tagElement, textElement):
    tree = ET.ElementTree(file = fileName)
    root = tree.getroot()
    newElement = ET.SubElement(root, tagElement)
    newElement.text =textElement;
    newElement.tail ="\n"
    root.append(newElement)
    tree.write(fileName, encoding='utf-8')
</code></pre>
<p>If i have this xml file, with this tags, if i write a new tag( es "Question-3" Example3 "/Question-3") i get a problem</p>
<p>XmlFile before being written:</p>
<pre><code>&lt;Questions&gt;
    &lt;Question-1&gt;Example1&lt;/Question-1&gt;
    &lt;Question-2&gt;Example2&lt;/Question-2&gt;
&lt;/Questions&gt;
</code></pre>
<p>XmlFile after being written: </p>
<pre><code>&lt;Questions&gt;
    &lt;Question-1&gt;Example1&lt;/Question-1&gt;
    &lt;Question-2&gt;Example2&lt;/Question-2&gt;
    &lt;Question-3&gt;Example3&lt;/Question-3&gt;
    &lt;Question-3&gt;Example3&lt;/Question-3&gt;
&lt;/Questions&gt;
</code></pre>
<p>Sorry for grammatical errors</p>
</div>
<div class="post-text" itemprop="text">
<p>Note that <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.SubElement" rel="nofollow">ET.SubElement()</a> appends the element automatically. You are adding the element twice, first in <code>SubElement()</code>, next in <code>append()</code>. </p>
<p>You should use either just</p>
<pre><code>newElement = ET.SubElement(root, tagElement)
newElement.text = textElement;
newElement.tail = "\n"
</code></pre>
<p>or</p>
<pre><code>newElement = ET.Element(tagElement)
newElement.text = textElement;
newElement.tail = "\n"
root.append(newElement)
</code></pre>
</div>
<span class="comment-copy">You have a correct answer below, so, please, mark it as approved. It will help other users do not pay attention at your question.</span>
<span class="comment-copy">Damn, thank you ^^ i fix it . It was so easy, happens</span>
