<div class="post-text" itemprop="text">
<p>I need to generate a string from random letters given in list take_from. The first time the function was executed it generated a phrase but all my following tries prompted an error "list index out of range". I can`t understand this error in my case and I tried while loop instead of for loop but it did not work either. </p>
<pre><code>from random import randint

def make_a_phrase():
    random_string = ''
    take_from = ['a','b','c','d','e','f','g','h','i','j','k','l',
                'm','n','o','p','q','r','s','t','v','u','w','x',
                'y','z',' ']
    for i in range(28):
        random_string = random_string + take_from[randint
                                    (0,len(take_from))]
    return random_string
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>In Python, lists are indexed with integers ranging from 0 to 1 less than the length of the list. E.g., a list with 10 items in it would have indexes from 0 to 9. </p>
<p>Your call to <code>randint()</code> attempts to get indexes from zero to the full length of the list, which will cause this exception. Change it to:</p>
<pre><code>for i in range(28):
    random_string = random_string + take_from[randint
                                    (0,len(take_from)-1)]
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>From the <a href="https://docs.python.org/3/library/random.html#random.randint" rel="nofollow">docs</a> </p>
<blockquote>
<p>random.randint(a, b)<br/>
   Return a random integer N such that a &lt;= N &lt;= b.
  Alias for randrange(a, b+1).  </p>
</blockquote>
<p>Therefore you can get values from 0 to <code>len(take_from)</code> - <strong>inclusive the endpoints</strong> - which in case of the upper bound would be out of list's index range as it is zero based and as such only has <code>len(take_from) - 1</code> elements</p>
</div>
<div class="post-text" itemprop="text">
<p>The reason this happens, is because the <code>len</code> returns the length, but the last index is always the length - 1 (since indices start from 0).</p>
<p>So eventually, the random integer that comes up is the length, and of course, there is no element at that number.</p>
<p>Here is a simple example:</p>
<pre><code>&gt;&gt;&gt; i = [1,2,3]
&gt;&gt;&gt; len(i)
3
&gt;&gt;&gt; i[len(i)]
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
IndexError: list index out of range
</code></pre>
<p>However, if you -1 from the length you will get the last item:</p>
<pre><code>&gt;&gt;&gt; i[len(i)-1]
3
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You should change your loop to say:</p>
<pre><code>for i in range(0, len(take_from)):
</code></pre>
<p>You are currently experiencing an off-by-one error because you only have 27 elements in your list, not 28.</p>
</div>
<div class="post-text" itemprop="text">
<p>You could try something like this instead</p>
<pre><code>from string import ascii_lowercase
import random

def make_a_phrase():
    return ''.join(random.choice(ascii_lowercase + ' ') for i in range(28))
</code></pre>
</div>
<span class="comment-copy">The error comes from <code>random.randint()</code> which will use <code>len(take_from)</code> itself as a possible integer. It's not due to the <code>for i</code> loop because she never attempts to use <code>i</code> as an index.</span>
