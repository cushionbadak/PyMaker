<div class="post-text" itemprop="text">
<p>This works in Python 2.7 but not in 3.5.</p>
<pre><code>def file_read(self, input_text):

    doc = (file.read(file(input_text))).decode('utf-8', 'replace')
</code></pre>
<p>I'm trying to open this file, input_text is a path value from argparse.</p>
<p>I get this error.</p>
<pre><code>NameError: name 'file' is not defined
</code></pre>
<p>I gather that Python 3.5 uses "open" instead of "file", but I don't quite get how to use open in a situation like this.</p>
</div>
<div class="post-text" itemprop="text">
<p>Your original code works in Python 2.7 but it is bad style there. The <code>file</code> for this use was deprecated long time ago in favour of using <code>open</code>, and instead of calling the <code>file.read</code> passing the file as the argument you should have just called the <code>.read</code> method on the returned object.</p>
<p>The correct way to write the code you did on Python 2 would have been</p>
<pre><code>with open(input_text) as docfile:
     doc = docfile.read().decode('utf-8', 'replace')
</code></pre>
<hr/>
<p>This does not work as such in Python 3, because <code>open</code> without mode would now default to reading unicode text. Furthermore it would assume the file is in native encoding and decode it with <em>strict</em> error handling. However, Python 3 actually makes working with text files easier than in Python 2, as you can pass the encoding and errors behaviour as arguments to <a href="https://docs.python.org/3/library/functions.html#open" rel="nofollow"><code>open</code></a> itself:</p>
<pre><code>with open(input_text, encoding='utf-8', errors='replace') as docfile:
     doc = docfile.read()
</code></pre>
</div>
<span class="comment-copy">and what does the <code>str object has no attribute "read"</code> have to do with this?!</span>
<span class="comment-copy">I wish people would be a bit slower on the gun in providing negative reputations.  Just getting started here, not trying to screw things up.</span>
<span class="comment-copy">@FredZimmerman yes I agree with you on that</span>
