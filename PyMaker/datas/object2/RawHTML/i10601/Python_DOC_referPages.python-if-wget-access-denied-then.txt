<div class="post-text" itemprop="text">
<p>I am writing a python script that performs an os.system call to wget and attempts to download a file from a set location. At the point of execution it does not know if the server has HTTP-AUTH or not but will attempt a wget of the default page. If not successful it needs to then run some alternative code. I have seen this question in Bash but not in python.</p>
<p>if os.system("wget http://{}".format IP)</p>
<p>else
run other code</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <code>subprocess.run</code> to execute <code>wget</code> then use the <code>returncode</code> to determine if it was successful. So it might look like this:</p>
<pre><code>output = subprocess.run(["wget", "http://..."])
if output.returncode == 0:
     &lt; wget worked&gt;
else:
     &lt; wget did not work&gt;
</code></pre>
<p>You will need to look up wget's return codes <a href="https://www.gnu.org/software/wget/manual/html_node/Exit-Status.html" rel="nofollow">here</a></p>
<p>For more info on the subprocess look <a href="https://docs.python.org/3/library/subprocess.html" rel="nofollow">here</a></p>
</div>
<span class="comment-copy">And what <i>is</i> your question, exactly?</span>
<span class="comment-copy">what's your question? The code you pasted isn't valid python. Also, a system call to download a file is not the best way to do that in python.</span>
<span class="comment-copy">use the <code>requests</code>-module.</span>
<span class="comment-copy">Sorry for not being clear - its my first post. I know the system call may not be the most effective but I am new to this world. My question is how do I have python inspect the wget response and check for a match. I would think that I need to look for the HTTP error code for an unauthorised attempt else it could accept it is fine</span>
<span class="comment-copy">@crashoveride look up a tutorial on how to download a file with python. You can either use a lib (<code>requests</code>) or python builtins.</span>
