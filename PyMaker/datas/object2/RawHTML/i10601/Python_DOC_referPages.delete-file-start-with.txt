<div class="post-text" itemprop="text">
<p>I want this function to delete files.  It does this correctly, but it <em>also</em> deletes folders, which I do not want.</p>
<p>I also get an error during execution:</p>
<pre><code>Access is denied: 'C:/temp3\\IDB_KKK
</code></pre>
<p>In folder temp3 i have:</p>
<pre><code>IDB_OPP.txt
IDB_KKK - folder
</code></pre>
<p>Code:</p>
<pre><code>def delete_Files_StartWith(Path,Start_With_Key):
    my_dir = Path
    for fname in os.listdir(my_dir):
        if fname.startswith(Start_With_Key):
            os.remove(os.path.join(my_dir, fname))

delete_Files_StartWith("C:/temp3","IDB_")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Use the following, to check if it is a directory: <br/></p>
<pre><code>os.path.isdir(fname) //if is a directory
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>To remove a directory and all its contents, <a href="https://docs.python.org/3/library/shutil.html" rel="nofollow noreferrer">use <code>shutil</code></a>.</p>
<blockquote>
<p>The shutil module offers a number of high-level operations on files and collections of files.</p>
</blockquote>
<p>Refer to the question <a href="https://stackoverflow.com/a/303225/137650">How do I remove/delete a folder that is not empty with Python?</a></p>
<pre><code>import shutil

..
    if fname.startswith(Start_With_Key):
        shutil.rmtree(os.path.join(my_dir, fname))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Do you want to delete files recursively (i.e. including files that live in <em>subdirectories</em> of <code>Path</code>) without deleting those subdirectories themselves?</p>
<pre><code>import os
def delete_Files_StartWith(Path, Start_With_Key):
    for dirPath, subDirs, fileNames in os.walk(Path):
        for fileName in fileNames: # only considers files, not directories
            if fileName.startswith(Start_With_Key):
                os.remove(os.path.join(dirPath, fileName))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>I fixed it by the following:</p>
<pre><code>def delete_Files_StartWith(Path,Start_With_Key):
    os.chdir(Path)
    for fname in os.listdir("."):
        if os.path.isfile(fname) and fname.startswith(Start_With_Key):
            os.remove(fname)
</code></pre>
<p>thanks you all.</p>
</div>
<span class="comment-copy">Shortened wording, fixed sentence structure, improved code formatting.</span>
<span class="comment-copy">This may be what the OP wants (given a broad enough interpretation of the trainwreck v.1 text of the question), <i>or</i> it may be the opposite of what the OP wants (delete files but <i>not</i> folders, as in the interpretation Prune took for the v.2 edit)</span>
<span class="comment-copy">Agreed. If that's the case, the isdir() check is the correct one.</span>
