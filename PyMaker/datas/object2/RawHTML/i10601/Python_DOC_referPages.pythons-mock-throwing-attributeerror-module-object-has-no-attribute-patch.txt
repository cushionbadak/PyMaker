<div class="post-text" itemprop="text">
<p>I am trying to create some tests for a Python program.  I am using Python version 2.7.12 so I had to install <code>mock</code> using <code>sudo pip install mock</code>.</p>
<p>According to the <a href="https://docs.python.org/3/library/unittest.mock.html#quick-guide" rel="noreferrer">documentation</a> and <a href="https://blog.fugue.co/2016-02-11-python-mocking-101.html" rel="noreferrer">several</a> <a href="https://www.toptal.com/python/an-introduction-to-mocking-in-python" rel="noreferrer">other</a> <a href="https://stackoverflow.com/questions/20242862/why-python-mock-patch-doesnt-work">sites</a>, I should be able to use the following code to use patch:</p>
<pre><code>import mock     # Also could use from mock import patch
import unittest

class TestCases(unittest.TestCase):
    @mock.patch('MyClass.ImportedClass')   # If using from mock import patch should just be @patch
    def test_patches(self, mock_ImportedClass):
        # Test code...
</code></pre>
<p>However, the above code throws the following error:</p>
<pre><code>AttributeError: 'module' object has no attribute 'patch'
</code></pre>
<p>After some experimenting in the terminal, it seems quite a few things don't work.  For example</p>
<pre><code>&gt;&gt;&gt; import mock

&gt;&gt;&gt; mock.MagicMock
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'module' object has no attribute 'MagicMock'

&gt;&gt;&gt; mock.patch
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'module' object has no attribute 'patch'

&gt;&gt;&gt; mock.Mock
&lt;class mock.Mock at 0x7fdff56b0600&gt;
</code></pre>
<p>Interestingly, I can access something called <code>patch</code> using <code>mock.Mock()</code>, but I don't know if this works in the same way and cannot find anything about it in the documentation.</p>
<p>My experience with Python is fairly limited so I'm not sure what might be wrong.  I'm fairly certain the right package was installed.  Any help on how I can get this working?</p>
</div>
<div class="post-text" itemprop="text">
<p>Just for the sake of completeness, I wanted to add the answer, but the credit goes to @user2357112.</p>
<p>If you run into this issue check to make sure you don't have another file named <code>mock.py</code> (or whatever file you're trying to import) either in the same directory or in the search path for python.  To confirm you've loaded the correct file, you can check <code>mock.__file_</code>, which is an attribute added automatically by python to your imported files.  If you're using the terminal, you can just do something like:</p>
<pre><code>&gt;&gt;&gt; import mock

&gt;&gt;&gt; mock.__file__
'/usr/lib/python2.7/...'
</code></pre>
<p>If the file path doesn't match what you expect, you should remove the file being imported from your search path or modify your search path so that the file you want is found first.  If neither of those are an option, you need to change the name of the file you're importing (if it's one you define and not a library like mock).</p>
</div>
<span class="comment-copy">Did you name a file <code>mock.py</code> or something? Check <code>mock.__file__</code> and see what it tells you.</span>
<span class="comment-copy">@user2357112 you were pretty close.  There was another file named <code>mock.py</code> in one of the directories in the search path for python.  Not sure where it came from, but everything seems to compile now after I removed it.  Thanks</span>
<span class="comment-copy">I had a <code>mock</code> subdirectory moved over, and all tests failed with the same error, once I removed the <code>mock</code> directory. everythng works.</span>
<span class="comment-copy">@user2357112 If you want to write an answer, I can mark it as correct so you can get well deserved points.</span>
