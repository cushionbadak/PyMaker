<div class="post-text" itemprop="text">
<p>I have a csv file containing a lot of songs. Each row has 5 columns, which are:</p>
<p>Artist | Song Title | Album Name | Genre | Year</p>
<p>I would like to open a CSV file, and then search all the song names to bring up results. Therefore, if I search for 'heaven', I would want one of the results to turn up as "Stairway to <strong>Heaven</strong> by Led Zeppelin". I am unaware of how to specify specific columns of CSV file when performing a search, and returning the results. </p>
<p>I am still new to python so a simple answer would be best, if possible</p>
<p>Thank you in advance!</p>
</div>
<div class="post-text" itemprop="text">
<p>To search for songs, you can use this:</p>
<pre><code>import sys
import csv

if len(sys.argv) &lt; 2:
    print 'Please provide a song name to search for.'
    sys.exit(-1)

match = None
with open('songs.csv') as f:
    r = csv.reader(f, delimiter='|')
    next(r, None) # skip header
    for row in r:
        if sys.argv[1] in row[1]:
            match = row[:]
            break

if match:
    print '%s by %s' % (match[1].strip(), match[0].strip())
else:
    print '%s not found.' % (sys.argv[1])
</code></pre>
<p>Call it like this:</p>
<pre><code>python search.py Heaven
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>Example of a file named <strong>songs.csv</strong></p>
<pre><code>from StringIO import StringIO

s = """
Artist;Song Title;Album Name;Genre;Year
Rush;Tom Sawyer;Moving Pictures;Progressive Rock;1981
Led Zeppelin;Black Dog;Led Zeppelin IV;Hard Rock;1970
AC/DC;Back in Black;Back in Black;Hard Rock; 1980
"""
songs_file = StringIO(s)
</code></pre>
<p>Load data file into a <a href="https://docs.python.org/2/library/csv.html#csv.DictReader" rel="nofollow">csv.DictReader</a>.</p>
<pre><code>from csv import DictReader

songsdb = [i for i in DictReader(songs_file, delimiter=';')]

def search(criteria):
    for row in songsdb:
        for data in row.values():
            if criteria in data:
                print row

search('Black')

{'Album Name': 'Led Zeppelin IV', 'Genre': 'Hard Rock', 'Year': '1970', 'Song Title': 'Black Dog', 'Artist': 'Led Zeppelin'}
{'Album Name': 'Back in Black', 'Genre': 'Hard Rock', 'Year': ' 1980', 'Song Title': 'Back in Black', 'Artist': 'AC/DC'}
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>As Kevin said in his comment, you'll want to use the <code>csv</code> module for this one.</p>
<p><a href="https://docs.python.org/3/library/csv.html#examples" rel="nofollow">Here are some examples</a> for how to use it.</p>
<p>If you want to be able to specify names of columns (and not just their positions), you'll want to take a look at <a href="https://docs.python.org/3/library/csv.html#csv.DictReader" rel="nofollow">csv.DictReader</a>, which works just like the <code>csv.reader</code> used in the examples from my first link, but with dicts (mappings of column names to column values) rather than lists of the column values in order.</p>
</div>
<span class="comment-copy">have you tried anything so far? if so please share the code</span>
<span class="comment-copy">Take a look at the <code>csv</code> module.</span>
<span class="comment-copy">Consider using Logstash/ElasticSearch to store your songs.  It does really fast text searching across multiple data elements.  And you can use Python as an interface to it.</span>
<span class="comment-copy"><a href="https://docs.python.org/2/library/csv.html" rel="nofollow noreferrer">docs.python.org/2/library/csv.html</a></span>
<span class="comment-copy">The search is only in one column or in all?</span>
