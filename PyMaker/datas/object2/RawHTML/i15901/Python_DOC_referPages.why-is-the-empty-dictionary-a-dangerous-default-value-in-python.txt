<div class="post-text" itemprop="text">
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/1132941/least-astonishment-and-the-mutable-default-argument">“Least Astonishment” and the Mutable Default Argument</a>
<span class="question-originals-answer-count">
                    32 answers
                </span>
</li>
<li>
<a dir="ltr" href="/questions/1367883/python-methods-default-parameter-values-are-evaluated-once">Python methods: default parameter values are evaluated ONCE</a>
<span class="question-originals-answer-count">
                    3 answers
                </span>
</li>
</ul>
</div>
<p>I put empty braces as the default value for an optional argument to a Python function, and pylint (using Sublime package) told me it was dangerous. Can someone explain why this is the case? And is a better alternative to use None instead?</p>
</div>
<div class="post-text" itemprop="text">
<p>It's dangerous only if your function will modify the argument.  If you modify a default argument, it will persist until the next call, so your "empty" dict will start to contain values on calls other than the first one.</p>
<p>Yes, using <code>None</code> is both safe and conventional in such cases.</p>
</div>
<div class="post-text" itemprop="text">
<p>Let's look at an example:</p>
<pre><code>def f(value, key, hash={}):
    hash[value] = key
    return hash

print f('a', 1)
print f('b', 2)
</code></pre>
<p>Which you probably expect to output:</p>
<pre><code>{'a': 1}
{'b': 2}
</code></pre>
<p>But actually outputs:</p>
<pre><code>{'a': 1}
{'a': 1, 'b': 2}
</code></pre>
</div>
<span class="comment-copy">The problem with pasing empty list as a default argument is that it will be shared between all invocations of the function -- see the "important warning" in <a href="https://docs.python.org/3/tutorial/controlflow.html#default-argument-values" rel="nofollow noreferrer">docs.python.org/3/tutorial/…</a></span>
<span class="comment-copy">if function is not modifying the argument, should we still use None as default in the name of best practice?</span>
<span class="comment-copy">@NightFurry: I hesitate to prescribe anything here--<code>None</code> is often the best choice, but perhaps not 100% of the time.  Use your judgement, but if you can't decide, <code>None</code> is a safe bet.</span>
<span class="comment-copy">thanks man! I was not getting the reason :)</span>
