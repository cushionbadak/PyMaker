<div class="post-text" itemprop="text">
<p>I'm trying to port <a href="http://impressive.sourceforge.net" rel="nofollow">Impressive</a> to use it with python3.</p>
<p>At some point there the LOGO has to be loaded. The LOGO is hard coded.
So it would look something like this:</p>
<pre><code>LOGO = '\x89PNG\r\n\x1a\n\x00\x0 ...'
LogoImage = Image.open(StringIO.StringIO(LOGO))
</code></pre>
<p>When trying to port this to use with python3 by changing the line to:</p>
<pre><code>LogoImage = Image.open(io.StringIO(LOGO))
</code></pre>
<p>I get the following Error Message</p>
<pre><code>OSError: cannot identify image file &lt;_io.StringIO object at 0x106b388b8&gt;
</code></pre>
<p>I read a bit about StringIO und BytesIO. Wasn't able to find a solution yet though.</p>
<p>Edit:</p>
<p>Loading images from disc is not a problem.</p>
</div>
<div class="post-text" itemprop="text">
<p>You need to use <a href="https://docs.python.org/3/reference/lexical_analysis.html#strings" rel="nofollow"><code>bytes</code> instead of <code>str</code></a>, <a href="https://docs.python.org/3/library/io.html#io.BytesIO" rel="nofollow"><code>io.Bytes</code></a> instead of <a href="https://docs.python.org/3/library/io.html#io.StringIO" rel="nofollow"><code>io.StringIO</code></a>:</p>
<pre><code>LOGO = b'\x89PNG\r\n\x1a\n\x00\x0 ...'   # NOTE: leading `b`
LogoImage = Image.open(io.BytesIO(LOGO))
</code></pre>
</div>
<span class="comment-copy">Well, I did try to use BytesIO already. The image is hardcoded though so the first error message that will pop will be: 'TypeError: 'str' does not support the buffer interface'. When trying to use bytes(LOGO, 'UTF-8'). It will again be an Error Message like: 'cannot identify image file &lt;_io.BytesIO ...' just that StringIO was replaced with BytesIO.</span>
<span class="comment-copy">@Nimi, Try <code>latin1</code> encoding. <code>bytes(LOGO, 'latin1')</code> or <code>LOGO.encode('latin1')</code></span>
<span class="comment-copy">Magic. This solved my problem. Thanks for your help.</span>
<span class="comment-copy">It was the comment that helped though. :P</span>
<span class="comment-copy">@Nimi, Answer itself is the point. ;)</span>
