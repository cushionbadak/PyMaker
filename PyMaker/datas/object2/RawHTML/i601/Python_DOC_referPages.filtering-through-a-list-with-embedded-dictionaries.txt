<div class="post-text" itemprop="text">
<p>I've got a json format list with some dictionaries within each list, it looks like the following:</p>
<pre><code>[{"id":13, "name":"Albert", "venue":{"id":123, "town":"Birmingham"}, "month":"February"},
{"id":17, "name":"Alfred", "venue":{"id":456, "town":"London"}, "month":"February"},
{"id":20, "name":"David", "venue":{"id":14, "town":"Southampton"}, "month":"June"},
{"id":17, "name":"Mary", "venue":{"id":56, "town":"London"}, "month":"December"}]
</code></pre>
<p>The amount of entries within the list can be up to 100. I plan to present the 'name' for each entry, one result at a time, for those that have London as a town. The rest are of no use to me. I'm a beginner at python so I would appreciate a suggestion in how to go about this efficiently. I initially thought it would be best to remove all entries that don't have London and then I can go through them one by one.</p>
<p>I also wondered if it might be quicker to not filter but to cycle through the entire json and select the names of entries that have the town as London.</p>
</div>
<div class="post-text" itemprop="text">
<p>You can use <a href="https://docs.python.org/3/library/functions.html#filter" rel="nofollow noreferrer"><code>filter</code></a>:</p>
<pre><code>data = [{"id":13, "name":"Albert", "venue":{"id":123, "town":"Birmingham"}, "month":"February"},
        {"id":17, "name":"Alfred", "venue":{"id":456, "town":"London"}, "month":"February"},
        {"id":20, "name":"David", "venue":{"id":14, "town":"Southampton"}, "month":"June"},
        {"id":17, "name":"Mary", "venue":{"id":56, "town":"London"}, "month":"December"}]

london_dicts = filter(lambda d: d['venue']['town'] == 'London', data)
for d in london_dicts:
    print(d)
</code></pre>
<p>This is as efficient as it can get because:</p>
<ul>
<li>The loop is written in C (in case of CPython)</li>
<li><code>filter</code> returns an iterator (in Python 3), which means that the results are loaded to memory one by one as required</li>
</ul>
</div>
<div class="post-text" itemprop="text">
<p>One way is to use list comprehension:</p>
<pre><code>&gt;&gt;&gt; data = [{"id":13, "name":"Albert", "venue":{"id":123, "town":"Birmingham"}, "month":"February"},
            {"id":17, "name":"Alfred", "venue":{"id":456, "town":"London"}, "month":"February"},
            {"id":20, "name":"David", "venue":{"id":14, "town":"Southampton"}, "month":"June"},
            {"id":17, "name":"Mary", "venue":{"id":56, "town":"London"}, "month":"December"}]

&gt;&gt;&gt; [d for d in data if d['venue']['town'] == 'London']
[{'id': 17,
  'name': 'Alfred',
  'venue': {'id': 456, 'town': 'London'},
  'month': 'February'},
 {'id': 17,
  'name': 'Mary',
  'venue': {'id': 56, 'town': 'London'},
  'month': 'December'}]
</code></pre>
</div>
