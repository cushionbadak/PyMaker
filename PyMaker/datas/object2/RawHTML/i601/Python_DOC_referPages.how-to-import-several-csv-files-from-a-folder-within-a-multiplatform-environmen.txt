<div class="post-text" itemprop="text">
<p>I would like Python to import several CSV files that are in one folder and concatenate them. As I am working on a Mac and Windows, I need a solution that works for both. Also, I need Python to read the CSV in a specific way: separation by ;</p>
<p>This is my current situation, I have to manually add the files in the code: </p>
<pre><code>import pandas as pd

loading_files = Path("Loading Files/")

loading_feb01 = pd.read_csv(loading_files / "Loading FEB 01.csv.csv", sep = ';', header = 0)
loading_feb02 = pd.read_csv(loading_files / "Loading FEB 02.csv.csv", sep = ';', header = 0)
loading_feb03 = pd.read_csv(loading_files / "Loading FEB 03.csv.csv", sep = ';', header = 0)
loading_feb04 = pd.read_csv(loading_files / "Loading FEB 04.csv.csv", sep = ';', header = 0)

loading_feb_raw = [loading_feb01, loading_feb02, loading_feb03, 
loading_feb04]
loading_feb = pd.concat(loading_feb_raw)
</code></pre>
<p>I would like a simple way to have all files that start with "loading" be imported, correctly read with semicolon, and then concatenated. And to top it off, does the same code also work for Excel files (I have some others that I also want to add)?</p>
<p>I found this code and was able to import a lot of files but could not get the sep=';' to work:</p>
<pre><code> df = pd.concat([pd.read_csv(f) for f in glob.glob('loading*.csv')], ignore_index = True)
</code></pre>
<p>Any idea what I am doing wrong?</p>
</div>
<div class="post-text" itemprop="text">
<p>I just solved it by combining a few other answers with this</p>
<pre><code>loading = pd.concat([pd.read_csv(f, delimiter=";") for f in loading_files.glob('Loading*.csv')], ignore_index = True)
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p><a href="https://docs.python.org/3/library/os.html#os.listdir" rel="nofollow noreferrer"><code>os.listdir()</code></a> will return list of all files in directory. Simply iterate over names, check if name <code>.endswith('.csv')</code> and open it dynamically</p>
</div>
<div class="post-text" itemprop="text">
<pre><code>directory = "Loading Files/"
loading_feb_raw = []

# Iterate over files in directory
for file in os.listdir(directory):
    # Only consider files of form "Loading*.csv"
    if file.startswith("Loading") and file.endswith(".csv"):
        csv = pd.read_csv(file, sep=';', header=0)
        # Add read csv to container
        loading_feb_raw.append(csv)

# Concatenate contents of container
loading_feb = pd.concat(loading_feb_raw)
</code></pre>
</div>
<span class="comment-copy">Looks like you're using pathlib.Path here, so you could use the builtin Path.glob function: <code>for f in loading_files.glob('Loading*.csv')</code></span>
<span class="comment-copy">From what I understand here is that if I change the glob.glob to loading_files.glob it should allow me to have a subfolder in the script folder where I can save the files in. I tried it but it gives me the error "ValueError: No objects to concatenate" Any idea what I am doing wrong?</span>
<span class="comment-copy">I just fixed a little error I had, and it is working now. Thanks a lot for this tip, that was the missing link I was looking for!</span>
<span class="comment-copy">Could you provide more code please that I can use? If possible please elaborate on "open it dynamically"</span>
