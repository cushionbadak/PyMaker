<div class="post-text" itemprop="text">
<p>I am new to python and was trying to write something like this below (code A) so it does eactly like code B. I want to make use of user input of mathematical operators as <code>do_what</code> variable. How can we write this code (A) in python so it would work like code B?</p>
<p>code A</p>
<pre><code>num1 = input("Enter a number: ")
num2 = input("Enter another number: ")
do_what = input("Enter a calculation symbol for calculation you want to perform: ")
result = float(num1) do_what float(num2)
print("result is: " + str(result))
</code></pre>
<p>code B</p>
<pre><code>num1 = input("Enter a number: ")
num2 = input("Enter another number: ")
result = int(num1) + int(num2)
print("result is: " + str(result))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You can use the <a href="https://docs.python.org/3.4/library/operator.html" rel="noreferrer">operator module</a> for common operators and make a lookup dictionary to map symbols to functions. If you want operators not in that module, you can simply define custom functions and add look them up the same way:</p>
<pre><code>import operator

operatorlookup = {
    '+': operator.add,
    '-': operator.sub,
    '*': operator.mul,
    '/': operator.truediv
}

num1 = input("Enter a number: ")
num2 = input("Enter another number: ")
do_what = input("Enter calculation symbols for calculation you want to perform: ")

op = operatorlookup.get(do_what)

if op is not None:
    result = op(float(num1), float(num2))
else:
    result = "Unknown operator"
print("result is: " + str(result))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>You might also be interested in knowing about the inbuilt function <a href="https://docs.python.org/3/library/functions.html#eval" rel="nofollow noreferrer">eval</a>. This reduces the <code>if</code> and <code>else</code> loops to a single statement for this particular example of yours</p>
<pre><code>num1 = input("Enter a number: ")
num2 = input("Enter another number: ")
do_what = input("Enter calculation symbols for calculation you want to perform: ")

result = eval(num1 + do_what + num2)
print("result is: %s" %result)

# Enter a number: 3
# Enter another number: 18
# Enter calculation symbols for calculation you want to perform: *
# result is: 54
</code></pre>
<p><strong>EDIT</strong></p>
<p>To make <code>eval</code> slightly safe in this particular case, you can perhaps use something like this</p>
<pre><code>if do_what in ['+', '-', '*', '**', '/']:
    result = eval(num1 + do_what + num2)
    print("result is: %s" %result)
else:
    print ("Enter an arithmetic operator")
</code></pre>
</div>
<div class="post-text" itemprop="text">
<pre><code>num1 = input("Enter a number: ")
num2 = input("Enter another number: ")
do_what = input("Enter calculation symbols for calculation you want to perform: ")
if do_what=='+':
    result = float(num1) + float(num2)
elif do_what=='-':
    result = float(num1) - float(num2)
elif do_what=='*':
    result = float(num1) * float(num2)
elif do_what=='/':
    result = float(num1) / float(num2)
print("result is: " + str(result))
</code></pre>
</div>
<div class="post-text" itemprop="text">
<p>If security is not your concern you could use eval to achieve this</p>
<pre><code>result = eval(str(num1) + do_what + str(num2))
</code></pre>
<p>The problem is that eval literally evaluates everything you write as python code, so don't do this if you mean for this to be used by others</p>
</div>
<span class="comment-copy">Does it have to appear like an infix operator?</span>
<span class="comment-copy">Not sure what infix means, but it could be variable- +, -, X etc</span>
<span class="comment-copy">I have seen a bunch of times where <code>eval</code> is not recommended but it seems to be getting the job done. Are there downsides that one needs to worry about?</span>
<span class="comment-copy">@hqkhan: Have a look at <a href="https://stackoverflow.com/a/9384005/4932316">this</a> answer. As per one comment, it seems that as long as your <code>input</code> is not directly within <code>eval()</code>, you are fine</span>
<span class="comment-copy">@hqkhan: Also, <a href="https://stackoverflow.com/questions/35804961/python-eval-is-it-still-dangerous-if-i-disable-builtins-and-attribute-access">this</a> is worth reading</span>
<span class="comment-copy">Will do, thanks.</span>
<span class="comment-copy">@hqkhan: Check my edit. That makes it slightly safer</span>
<span class="comment-copy">Thanks! this works, but would be nice to just replace the symbol with <code>do_what</code></span>
