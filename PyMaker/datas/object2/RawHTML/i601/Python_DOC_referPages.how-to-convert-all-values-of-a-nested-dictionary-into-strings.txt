<div class="post-text" itemprop="text">
<p>I am writing a python application where I have a variable dictionary that can be nested upto any level.</p>
<p>The keys in any level can be either int or string. But I want to convert all keys and values at all levels into strings. How nested the dictionary will be is variable which makes it a bit complicated.</p>
<pre><code>{
    "col1": {
        "0": 0,
        "1": 8,
        "2": {
            0: 2,
        }
        "3": 4,
        "4": 5
    },
    "col2": {
        "0": "na",
        "1": 1,
        "2": "na",
        "3": "na",
        "4": "na"
    },
    "col3": {
        "0": 1,
        "1": 3,
        "2": 3,
        "3": 6,
        "4": 3
    },
    "col4": {
        "0": 5,
        "1": "na",
        "2": "9",
        "3": 9,
        "4": "na"
    }
}
</code></pre>
<p>I am looking for the shortest and quickest function to achieve that. There are other questions like <a href="https://stackoverflow.com/questions/37635549/converting-dictionary-values-in-python-from-str-to-int-in-nested-dictionary">Converting dictionary values in python from str to int in nested dictionary</a> that suggest ways of doing it but none of them deals with the "variable nesting" nature of the dictionary.</p>
<p>Any ideas will be appreciated.</p>
</div>
<div class="post-text" itemprop="text">
<p>This is the most straightforward way I can think of doing it:    </p>
<pre><code>import json

data = {'col4': {'1': 'na', '0': 5, '3': 9, '2': '9', '4': 'na'}, 'col2': {'1': 1, '0': 'na', '3': 'na', '2': 'na', '4': 'na'}, 'col3': {'1': 3, '0': 1, '3': 6, '2': 3, '4': 3}, 'col1': {'1': 8, '0': 0, '3': 4, '2': {0: 2}, '4': 5}}
stringified_dict = json.loads(json.dumps(data), parse_int=str)
</code></pre>
<p>Here are some links to the documentation for json loads and parse_int: <a href="https://docs.python.org/3/library/json.html#json.load" rel="nofollow noreferrer">Python3</a>, <a href="https://docs.python.org/2/library/json.html#json.load" rel="nofollow noreferrer">Python2</a></p>
</div>
<div class="post-text" itemprop="text">
<p>You could check the dictionary recursively: </p>
<pre><code>def iterdict(d):
    for k, v in d.items():
        if isinstance(v, dict):
            iterdict(v)
        else:
            if type(v) == int:
                v = str(v)
            d.update({k: v})
    return d

</code></pre>
</div>
<span class="comment-copy">Something similar <a href="https://stackoverflow.com/questions/1254454/fastest-way-to-convert-a-dicts-keys-values-from-unicode-to-str" title="fastest way to convert a dicts keys values from unicode to str">stackoverflow.com/questions/1254454/â€¦</a></span>
