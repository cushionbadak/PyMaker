<div class="post-text" itemprop="text">
<p>I have an HTML file which starts as follows.</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!DOCTYPE gdml [
&lt;!ENTITY sub2 SYSTEM "sub2.xml"&gt;
]&gt;

&lt;gdml xmlns:gdml="http://cern.ch/2001/Schemas/GDML"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:noNamespaceSchemaLocation="schema/gdml.xsd"&gt;
</code></pre>
<p>I would like to process the Entity in Python.</p>
<p>I have tried </p>
<pre><code># create a subclass and override the handler methods
class MyHTMLParser(HTMLParser):
    def handle_starttag(self, tag, attrs):
        print "Encountered a start tag:", tag

    def handle_endtag(self, tag):
        print "Encountered an end tag :", tag

    def handle_data(self, data):
        print "Encountered some data  :", data

def preProcessHTML(filename) :
    # instantiate the parser and fed it some HTML
    f = pythonopen(filename)
    parser = MyHTMLParser()
    parser.feed(f.read())
</code></pre>
<p>But it just prints out</p>
<pre><code>Import GDML file : /home/keith/GDML-Test-Files/GDML/entity2.gdml
Encountered some data  :


Encountered some data  :
]&gt;


Encountered a start tag:gdml
Encountered some data  :
</code></pre>
<p>So I don't see how I access the actual data 
"!ENTITY sub2 SYSTEM" "sub2.xml"&gt;</p>
</div>
<div class="post-text" itemprop="text">
<p>Many thanks @shahkalpesh adding a </p>
<pre><code>def handle_decl(self, decl):
    print "Encountered a declaration ", decl
</code></pre>
<p>Printed out the info I require. I can now add code to access and process</p>
</div>
<span class="comment-copy">Looking at the doc, have you considered adding <code>handle_decl</code> and/or <code>unknown_decl</code>?</span>
<span class="comment-copy">Your doc is XML, not HTML.</span>
<span class="comment-copy">Yes I know its a XML file, but I want to access the HTML Entity values before I process as an XML file</span>
