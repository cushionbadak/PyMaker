link:
library/optparse.html#callback-example-3-check-option-order-generalized

docs:

Callback example 3: check option order (generalized)Â¶
If you want to re-use this callback for several similar options (set a flag, but
blow up if  has already been seen), it needs a bit of work: the error
message and the flag that it sets must be generalized.


