link:
library/profile.html#module-cProfile

docs:

 and  Module Reference¶
Both the  and  modules provide the following
functions:


(command, filename=None, sort=-1)¶
This function takes a single argument that can be passed to the 
function, and an optional file name.  In all cases this routine executes:


and gathers profiling statistics from the execution. If no file name is
present, then this function automatically creates a 
instance and prints a simple profiling report. If the sort value is specified,
it is passed to this  instance to control how the
results are sorted.



(command, globals, locals, filename=None, sort=-1)¶
This function is similar to , with added arguments to supply the
globals and locals dictionaries for the command string. This routine
executes:


and gathers profiling statistics as in the  function above.



class (timer=None, timeunit=0.0, subcalls=True, builtins=True)¶
This class is normally only used if more precise control over profiling is
needed than what the  function provides.
A custom timer can be supplied for measuring how long code takes to run via
the timer argument. This must be a function that returns a single number
representing the current time. If the number is an integer, the timeunit
specifies a multiplier that specifies the duration of each unit of time. For
example, if the timer returns times measured in thousands of seconds, the
time unit would be .
Directly using the  class allows formatting profile results
without writing the profile data to a file:




()¶
Start collecting profiling data.



()¶
Stop collecting profiling data.



()¶
Stop collecting profiling data and record the results internally
as the current profile.



(sort=-1)¶
Create a  object based on the current
profile and print the results to stdout.



(filename)¶
Write the results of the current profile to filename.



(cmd)¶
Profile the cmd via .



(cmd, globals, locals)¶
Profile the cmd via  with the specified global and
local environment.



(func, *args, **kwargs)¶
Profile 


Note that profiling will only work if the called command/function actually
returns.  If the interpreter is terminated (e.g. via a  call
during the called command/function execution) no profiling results will be
printed.
