link:
library/readline.html#example

docs:

Example¶
The following example demonstrates how to use the  module’s
history reading and writing functions to automatically load and save a history
file named  from the user’s home directory.  The code
below would normally be executed automatically during interactive sessions
from the user’s  file.


This code is actually automatically run when Python is run in
interactive mode (see Readline configuration).
The following example achieves the same goal but supports concurrent interactive
sessions, by only appending the new history.


The following example extends the  class to
support history save/restore.


