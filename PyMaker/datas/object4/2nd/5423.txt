link:
library/asynchat.html#asynchat-example

docs:

asynchat ExampleÂ¶
The following partial example shows how HTTP requests can be read with
.  A web server might create an
 object for each incoming client connection.
Notice that initially the channel terminator is set to match the blank line at
the end of the HTTP headers, and a flag indicates that the headers are being
read.
Once the headers have been read, if the request is of type POST (indicating
that further data are present in the input stream) then the
 header is used to set a numeric terminator to read the
right amount of data from the channel.
The  method is called once all relevant input has been
marshalled, after setting the channel terminator to  to ensure that
any extraneous data sent by the web client are ignored.


