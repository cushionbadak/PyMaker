link:
library/pickle.html#persistence-of-external-objects

docs:

Persistence of External ObjectsÂ¶
For the benefit of object persistence, the  module supports the
notion of a reference to an object outside the pickled data stream.  Such
objects are referenced by a persistent ID, which should be either a string of
alphanumeric characters (for protocol 0) [5] or just an arbitrary object (for
any newer protocol).
The resolution of such persistent IDs is not defined by the 
module; it will delegate this resolution to the user defined methods on the
pickler and unpickler,  and
 respectively.
To pickle objects that have an external persistent id, the pickler must have a
custom  method that takes an object as an
argument and returns either  or the persistent id for that object.
When  is returned, the pickler simply pickles the object as normal.
When a persistent ID string is returned, the pickler will pickle that object,
along with a marker so that the unpickler will recognize it as a persistent ID.
To unpickle external objects, the unpickler must have a custom
 method that takes a persistent ID object and
returns the referenced object.
Here is a comprehensive example presenting how persistent ID can be used to
pickle external objects by reference.


