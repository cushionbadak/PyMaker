link:
library/doctest.html#warnings

docs:

Warnings¶
 is serious about requiring exact matches in expected output.  If
even a single character doesn’t match, the test fails.  This will probably
surprise you a few times, as you learn exactly what Python does and doesn’t
guarantee about output.  For example, when printing a set, Python doesn’t
guarantee that the element is printed in any particular order, so a test like


is vulnerable!  One workaround is to do


instead.  Another is to do



Note
Before Python 3.6, when printing a dict, Python did not guarantee that
the key-value pairs was printed in any particular order.

There are others, but you get the idea.
Another bad idea is to print things that embed an object address, like


The  directive gives a nice approach for the last example:


Floating-point numbers are also subject to small output variations across
platforms, because Python defers to the platform C library for float formatting,
and C libraries vary widely in quality here.


Numbers of the form  are safe across all platforms, and I often
contrive doctest examples to produce numbers of that form:


Simple fractions are also easier for people to understand, and that makes for
better documentation.
