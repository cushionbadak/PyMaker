link:
library/signal.html#note-on-sigpipe

docs:

Note on SIGPIPE¶
Piping output of your program to tools like head(1) will
cause a  signal to be sent to your process when the receiver
of its standard output closes early.  This results in an exception
like .  To handle this
case, wrap your entry point to catch this exception as follows:


Do not set ’s disposition to 
in order to avoid .  Doing that would cause
your program to exit unexpectedly also whenever any socket connection
is interrupted while your program is still writing to it.
