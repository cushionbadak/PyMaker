link:
library/os.html#module-os

docs:

 — Miscellaneous operating system interfaces¶
Source code: Lib/os.py

This module provides a portable way of using operating system dependent
functionality.  If you just want to read or write a file see , if
you want to manipulate paths, see the  module, and if you want to
read all the lines in all the files on the command line see the 
module.  For creating temporary files and directories see the 
module, and for high-level file and directory handling see the 
module.
Notes on the availability of these functions:

The design of all built-in operating system dependent modules of Python is
such that as long as the same functionality is available, it uses the same
interface; for example, the function  returns stat
information about path in the same format (which happens to have originated
with the POSIX interface).
Extensions peculiar to a particular operating system are also available
through the  module, but using them is of course a threat to
portability.
All functions accepting path or file names accept both bytes and string
objects, and result in an object of the same type, if a path or file name is
returned.


Note
All functions in this module raise  in the case of invalid or
inaccessible file names and paths, or other arguments that have the correct
type, but are not accepted by the operating system.



exception ¶
An alias for the built-in  exception.



¶
The name of the operating system dependent module imported.  The following
names have currently been registered: , ,
.

See also
 has a finer granularity.   gives
system-dependent version information.
The  module provides detailed checks for the
system’s identity.



File Names, Command Line Arguments, and Environment Variables¶
In Python, file names, command line arguments, and environment variables are
represented using the string type. On some systems, decoding these strings to
and from bytes is necessary before passing them to the operating system. Python
uses the file system encoding to perform this conversion (see
).

Changed in version 3.1: On some systems, conversion using the file system encoding may fail. In this
case, Python uses the surrogateescape encoding error handler, which means that undecodable bytes are replaced by a
Unicode character U+DCxx on decoding, and these are again translated to the
original byte on encoding.

The file system encoding must guarantee to successfully decode all bytes
below 128. If the file system encoding fails to provide this guarantee, API
functions may raise UnicodeErrors.


Process Parameters¶
These functions and data items provide information and operate on the current
process and user.


()¶
Return the filename corresponding to the controlling terminal of the process.
Availability: Unix.



¶
A mapping object representing the string environment. For example,
 is the pathname of your home directory (on some platforms),
and is equivalent to  in C.
This mapping is captured the first time the  module is imported,
typically during Python startup as part of processing .  Changes
to the environment made after this time are not reflected in ,
except for changes made by modifying  directly.
If the platform supports the  function, this mapping may be used
to modify the environment as well as query the environment.   will
be called automatically when the mapping is modified.
On Unix, keys and values use  and
 error handler. Use  if you would like
to use a different encoding.

Note
Calling  directly does not change , so it’s better
to modify .


Note
On some platforms, including FreeBSD and Mac OS X, setting  may
cause memory leaks.  Refer to the system documentation for
.

If  is not provided, a modified copy of this mapping  may be
passed to the appropriate process-creation functions to cause  child processes
to use a modified environment.
If the platform supports the  function, you can delete items in
this mapping to unset environment variables.  will be called
automatically when an item is deleted from , and when
one of the  or  methods is called.



¶
Bytes version of : a mapping object representing the
environment as byte strings.  and  are
synchronized (modify  updates , and vice
versa).
 is only available if  is
True.

New in version 3.2.




(path)

(fd)

()
These functions are described in Files and Directories.



(filename)¶
Encode path-like filename to the filesystem
encoding with  error handler, or  on
Windows; return  unchanged.
 is the reverse function.

New in version 3.2.


Changed in version 3.6: Support added to accept objects implementing the 
interface.




(filename)¶
Decode the path-like filename from the
filesystem encoding with  error handler, or 
on Windows; return  unchanged.
 is the reverse function.

New in version 3.2.


Changed in version 3.6: Support added to accept objects implementing the 
interface.




(path)¶
Return the file system representation of the path.
If  or  is passed in, it is returned unchanged.
Otherwise  is called and its value is
returned as long as it is a  or  object.
In all other cases,  is raised.

New in version 3.6.




class ¶
An abstract base class for objects representing a file system path,
e.g. .

New in version 3.6.



abstractmethod ()¶
Return the file system path representation of the object.
The method should only return a  or  object,
with the preference being for .




(key, default=None)¶
Return the value of the environment variable key if it exists, or
default if it doesn’t. key, default and the result are str.
On Unix, keys and values are decoded with 
and  error handler. Use  if you
would like to use a different encoding.
Availability: most flavors of Unix, Windows.



(key, default=None)¶
Return the value of the environment variable key if it exists, or
default if it doesn’t. key, default and the result are bytes.
 is only available if 
is True.
Availability: most flavors of Unix.

New in version 3.2.




(env=None)¶
Returns the list of directories that will be searched for a named
executable, similar to a shell, when launching a process.
env, when specified, should be an environment variable dictionary
to lookup the PATH in.
By default, when env is ,  is used.

New in version 3.2.




()¶
Return the effective group id of the current process.  This corresponds to the
“set id” bit on the file being executed in the current process.
Availability: Unix.



()¶
Return the current process’s effective user id.
Availability: Unix.



()¶
Return the real group id of the current process.
Availability: Unix.



(user, group)¶
Return list of group ids that user belongs to. If group is not in the
list, it is included; typically, group is specified as the group ID
field from the password record for user.
Availability: Unix.

New in version 3.3.




()¶
Return list of supplemental group ids associated with the current process.
Availability: Unix.

Note
On Mac OS X,  behavior differs somewhat from
other Unix platforms. If the Python interpreter was built with a
deployment target of  or earlier,  returns
the list of effective group ids associated with the current user process;
this list is limited to a system-defined number of entries, typically 16,
and may be modified by calls to  if suitably privileged.
If built with a deployment target greater than ,
 returns the current group access list for the user
associated with the effective user id of the process; the group access
list may change over the lifetime of the process, it is not affected by
calls to , and its length is not limited to 16.  The
deployment target value, , can be
obtained with .




()¶
Return the name of the user logged in on the controlling terminal of the
process.  For most purposes, it is more useful to use
 since the latter checks the environment variables
 or  to find out who the user is, and
falls back to  to get the login name of the
current real user id.
Availability: Unix, Windows.



(pid)¶
Return the process group id of the process with process id pid. If pid is 0,
the process group id of the current process is returned.
Availability: Unix.



()¶
Return the id of the current process group.
Availability: Unix.



()¶
Return the current process id.



()¶
Return the parent’s process id.  When the parent process has exited, on Unix
the id returned is the one of the init process (1), on Windows it is still
the same id, which may be already reused by another process.
Availability: Unix, Windows.

Changed in version 3.2: Added support for Windows.




(which, who)¶
Get program scheduling priority.  The value which is one of
, , or , and who
is interpreted relative to which (a process identifier for
, process group identifier for , and a
user ID for ).  A zero value for who denotes
(respectively) the calling process, the process group of the calling process,
or the real user ID of the calling process.
Availability: Unix.

New in version 3.3.




¶

¶

¶
Parameters for the  and  functions.
Availability: Unix.

New in version 3.3.




()¶
Return a tuple (ruid, euid, suid) denoting the current process’s
real, effective, and saved user ids.
Availability: Unix.

New in version 3.2.




()¶
Return a tuple (rgid, egid, sgid) denoting the current process’s
real, effective, and saved group ids.
Availability: Unix.

New in version 3.2.




()¶
Return the current process’s real user id.
Availability: Unix.



(username, gid)¶
Call the system initgroups() to initialize the group access list with all of
the groups of which the specified username is a member, plus the specified
group id.
Availability: Unix.

New in version 3.2.




(key, value)¶
Set the environment variable named key to the string value.  Such
changes to the environment affect subprocesses started with ,
 or  and .
Availability: most flavors of Unix, Windows.

Note
On some platforms, including FreeBSD and Mac OS X, setting  may
cause memory leaks. Refer to the system documentation for putenv.

When  is supported, assignments to items in  are
automatically translated into corresponding calls to ; however,
calls to  don’t update , so it is actually
preferable to assign to items of .



(egid)¶
Set the current process’s effective group id.
Availability: Unix.



(euid)¶
Set the current process’s effective user id.
Availability: Unix.



(gid)¶
Set the current process’ group id.
Availability: Unix.



(groups)¶
Set the list of supplemental group ids associated with the current process to
groups. groups must be a sequence, and each element must be an integer
identifying a group. This operation is typically available only to the superuser.
Availability: Unix.

Note
On Mac OS X, the length of groups may not exceed the
system-defined maximum number of effective group ids, typically 16.
See the documentation for  for cases where it may not
return the same group list set by calling setgroups().




()¶
Call the system call  or  depending on
which version is implemented (if any).  See the Unix manual for the semantics.
Availability: Unix.



(pid, pgrp)¶
Call the system call  to set the process group id of the
process with id pid to the process group with id pgrp.  See the Unix manual
for the semantics.
Availability: Unix.



(which, who, priority)¶
Set program scheduling priority. The value which is one of
, , or , and who
is interpreted relative to which (a process identifier for
, process group identifier for , and a
user ID for ). A zero value for who denotes
(respectively) the calling process, the process group of the calling process,
or the real user ID of the calling process.
priority is a value in the range -20 to 19. The default priority is 0;
lower priorities cause more favorable scheduling.
Availability: Unix.

New in version 3.3.




(rgid, egid)¶
Set the current process’s real and effective group ids.
Availability: Unix.



(rgid, egid, sgid)¶
Set the current process’s real, effective, and saved group ids.
Availability: Unix.

New in version 3.2.




(ruid, euid, suid)¶
Set the current process’s real, effective, and saved user ids.
Availability: Unix.

New in version 3.2.




(ruid, euid)¶
Set the current process’s real and effective user ids.
Availability: Unix.



(pid)¶
Call the system call .  See the Unix manual for the semantics.
Availability: Unix.



()¶
Call the system call .  See the Unix manual for the semantics.
Availability: Unix.



(uid)¶
Set the current process’s user id.
Availability: Unix.



(code)¶
Return the error message corresponding to the error code in code.
On platforms where  returns  when given an unknown
error number,  is raised.



¶
 if the native OS type of the environment is bytes (eg.  on
Windows).

New in version 3.2.




(mask)¶
Set the current numeric umask and return the previous umask.



()¶
Returns information identifying the current operating system.
The return value is an object with five attributes:

 - operating system name
 - name of machine on network (implementation-defined)
 - operating system release
 - operating system version
 - hardware identifier

For backwards compatibility, this object is also iterable, behaving
like a five-tuple containing , ,
, , and 
in that order.
Some systems truncate  to 8 characters or to the
leading component; a better way to get the hostname is
  or even
.
Availability: recent flavors of Unix.

Changed in version 3.3: Return type changed from a tuple to a tuple-like object
with named attributes.




(key)¶
Unset (delete) the environment variable named key. Such changes to the
environment affect subprocesses started with ,  or
 and .
When  is supported, deletion of items in  is
automatically translated into a corresponding call to ; however,
calls to  don’t update , so it is actually
preferable to delete items of .
Availability: most flavors of Unix, Windows.



File Object Creation¶
This function creates new file objects.  (See also
 for opening file descriptors.)


(fd, *args, **kwargs)¶
Return an open file object connected to the file descriptor fd.  This is an
alias of the  built-in function and accepts the same arguments.
The only difference is that the first argument of  must always
be an integer.



File Descriptor Operations¶
These functions operate on I/O streams referenced using file descriptors.
File descriptors are small integers corresponding to a file that has been opened
by the current process.  For example, standard input is usually file descriptor
0, standard output is 1, and standard error is 2.  Further files opened by a
process will then be assigned 3, 4, 5, and so forth.  The name “file descriptor”
is slightly deceptive; on Unix platforms, sockets and pipes are also referenced
by file descriptors.
The  method can be used to obtain the file descriptor
associated with a file object when required.  Note that using the file
descriptor directly will bypass the file object methods, ignoring aspects such
as internal buffering of data.


(fd)¶
Close file descriptor fd.

Note
This function is intended for low-level I/O and must be applied to a file
descriptor as returned by  or .  To close a “file
object” returned by the built-in function  or by  or
, use its  method.




(fd_low, fd_high)¶
Close all file descriptors from fd_low (inclusive) to fd_high (exclusive),
ignoring errors. Equivalent to (but much faster than):





(fd)¶
Return a string describing the encoding of the device associated with fd
if it is connected to a terminal; else return .



(fd)¶
Return a duplicate of file descriptor fd. The new file descriptor is
non-inheritable.
On Windows, when duplicating a standard stream (0: stdin, 1: stdout,
2: stderr), the new file descriptor is inheritable.

Changed in version 3.4: The new file descriptor is now non-inheritable.




(fd, fd2, inheritable=True)¶
Duplicate file descriptor fd to fd2, closing the latter first if
necessary. Return fd2. The new file descriptor is inheritable by default or non-inheritable if inheritable
is .

Changed in version 3.4: Add the optional inheritable parameter.


Changed in version 3.7: Return fd2 on success. Previously,  was always returned.




(fd, mode)¶
Change the mode of the file given by fd to the numeric mode.  See the
docs for  for possible values of mode.  As of Python 3.3, this
is equivalent to .
Availability: Unix.



(fd, uid, gid)¶
Change the owner and group id of the file given by fd to the numeric uid
and gid.  To leave one of the ids unchanged, set it to -1.  See
.  As of Python 3.3, this is equivalent to .
Availability: Unix.



(fd)¶
Force write of file with filedescriptor fd to disk. Does not force update of
metadata.
Availability: Unix.

Note
This function is not available on MacOS.




(fd, name)¶
Return system configuration information relevant to an open file. name
specifies the configuration value to retrieve; it may be a string which is the
name of a defined system value; these names are specified in a number of
standards (POSIX.1, Unix 95, Unix 98, and others).  Some platforms define
additional names as well.  The names known to the host operating system are
given in the  dictionary.  For configuration variables not
included in that mapping, passing an integer for name is also accepted.
If name is a string and is not known,  is raised.  If a
specific value for name is not supported by the host system, even if it is
included in , an  is raised with
 for the error number.
As of Python 3.3, this is equivalent to .
Availability: Unix.



(fd)¶
Get the status of the file descriptor fd. Return a 
object.
As of Python 3.3, this is equivalent to .

See also
The  function.




(fd)¶
Return information about the filesystem containing the file associated with
file descriptor fd, like .  As of Python 3.3, this is
equivalent to .
Availability: Unix.



(fd)¶
Force write of file with filedescriptor fd to disk.  On Unix, this calls the
native  function; on Windows, the MS  function.
If you’re starting with a buffered Python file object f, first do
, and then do , to ensure that all internal
buffers associated with f are written to disk.
Availability: Unix, Windows.



(fd, length)¶
Truncate the file corresponding to file descriptor fd, so that it is at
most length bytes in size.  As of Python 3.3, this is equivalent to
.
Availability: Unix, Windows.

Changed in version 3.5: Added support for Windows




(fd)¶
Get the blocking mode of the file descriptor:  if the
 flag is set,  if the flag is cleared.
See also  and .
Availability: Unix.

New in version 3.5.




(fd)¶
Return  if the file descriptor fd is open and connected to a
tty(-like) device, else .



(fd, cmd, len)¶
Apply, test or remove a POSIX lock on an open file descriptor.
fd is an open file descriptor.
cmd specifies the command to use - one of , ,
 or .
len specifies the section of the file to lock.
Availability: Unix.

New in version 3.3.




¶

¶

¶

¶
Flags that specify what action  will take.
Availability: Unix.

New in version 3.3.




(fd, pos, how)¶
Set the current position of file descriptor fd to position pos, modified
by how:  or  to set the position relative to the
beginning of the file;  or  to set it relative to the
current position;  or  to set it relative to the end of
the file. Return the new cursor position in bytes, starting from the beginning.



¶

¶

¶
Parameters to the  function. Their values are 0, 1, and 2,
respectively.

New in version 3.3: Some operating systems could support additional values, like
 or .




(path, flags, mode=0o777, *, dir_fd=None)¶
Open the file path and set various flags according to flags and possibly
its mode according to mode.  When computing mode, the current umask value
is first masked out.  Return the file descriptor for the newly opened file.
The new file descriptor is non-inheritable.
For a description of the flag and mode values, see the C run-time documentation;
flag constants (like  and ) are defined in
the  module.  In particular, on Windows adding
 is needed to open files in binary mode.
This function can support paths relative to directory descriptors with the dir_fd parameter.

Changed in version 3.4: The new file descriptor is now non-inheritable.


Note
This function is intended for low-level I/O.  For normal usage, use the
built-in function , which returns a file object with
 and  methods (and many more).  To
wrap a file descriptor in a file object, use .


New in version 3.3: The dir_fd argument.


Changed in version 3.5: If the system call is interrupted and the signal handler does not raise an
exception, the function now retries the system call instead of raising an
 exception (see PEP 475 for the rationale).


Changed in version 3.6: Accepts a path-like object.


The following constants are options for the flags parameter to the
 function.  They can be combined using the bitwise OR operator
.  Some of them are not available on all platforms.  For descriptions of
their availability and use, consult the open(2) manual page on Unix
or the MSDN on Windows.


¶

¶

¶

¶

¶

¶

¶
The above constants are available on Unix and Windows.



¶

¶

¶

¶

¶

¶

¶
The above constants are only available on Unix.

Changed in version 3.3: Add  constant.




¶

¶

¶

¶

¶

¶

¶
The above constants are only available on Windows.



¶

¶

¶

¶

¶

¶

¶

¶

¶
The above constants are extensions and not present if they are not defined by
the C library.

Changed in version 3.4: Add  on systems that support it.
Add , only available on Linux Kernel 3.11
  or newer.




()¶
Open a new pseudo-terminal pair. Return a pair of file descriptors
 for the pty and the tty, respectively. The new file
descriptors are non-inheritable. For a (slightly) more
portable approach, use the  module.
Availability: some flavors of Unix.

Changed in version 3.4: The new file descriptors are now non-inheritable.




()¶
Create a pipe.  Return a pair of file descriptors  usable for
reading and writing, respectively. The new file descriptor is
non-inheritable.
Availability: Unix, Windows.

Changed in version 3.4: The new file descriptors are now non-inheritable.




(flags)¶
Create a pipe with flags set atomically.
flags can be constructed by ORing together one or more of these values:
, .
Return a pair of file descriptors  usable for reading and writing,
respectively.
Availability: some flavors of Unix.

New in version 3.3.




(fd, offset, len)¶
Ensures that enough disk space is allocated for the file specified by fd
starting from offset and continuing for len bytes.
Availability: Unix.

New in version 3.3.




(fd, offset, len, advice)¶
Announces an intention to access data in a specific pattern thus allowing
the kernel to make optimizations.
The advice applies to the region of the file specified by fd starting at
offset and continuing for len bytes.
advice is one of , ,
, ,
 or .
Availability: Unix.

New in version 3.3.




¶

¶

¶

¶

¶

¶
Flags that can be used in advice in  that specify
the access pattern that is likely to be used.
Availability: Unix.

New in version 3.3.




(fd, n, offset)¶
Read at most n bytes from file descriptor fd at a position of offset,
leaving the file offset unchanged.
Return a bytestring containing the bytes read. If the end of the file
referred to by fd has been reached, an empty bytes object is returned.
Availability: Unix.

New in version 3.3.




(fd, buffers, offset, flags=0)¶
Read from a file descriptor fd at a position of offset into mutable
bytes-like objects buffers, leaving the file
offset unchanged.  Transfer data into each buffer until it is full and then
move on to the next buffer in the sequence to hold the rest of the data.
The flags argument contains a bitwise OR of zero or more of the following
flags:




Return the total number of bytes actually read which can be less than the
total capacity of all the objects.
The operating system may set a limit ( value
) on the number of buffers that can be used.
Combine the functionality of  and .
Availability: Linux 2.6.30 and newer, FreeBSD 6.0 and newer,
OpenBSD 2.7 and newer. Using flags requires Linux 4.6 or newer.

New in version 3.7.




¶
Do not wait for data which is not immediately available. If this flag is
specified, the system call will return instantly if it would have to read
data from the backing storage or wait for a lock.
If some data was successfully read, it will return the number of bytes read.
If no bytes were read, it will return  and set errno to
.
Availability: Linux 4.14 and newer.

New in version 3.7.




¶
High priority read/write. Allows block-based filesystems to use polling
of the device, which provides lower latency, but may use additional
resources.
Currently, on Linux, this feature is usable only on a file descriptor opened
using the  flag.
Availability: Linux 4.6 and newer.

New in version 3.7.




(fd, str, offset)¶
Write the bytestring in str to file descriptor fd at position of
offset, leaving the file offset unchanged.
Return the number of bytes actually written.
Availability: Unix.

New in version 3.3.




(fd, buffers, offset, flags=0)¶
Write the buffers contents to file descriptor fd at a offset offset,
leaving the file offset unchanged.  buffers must be a sequence of
bytes-like objects. Buffers are processed in
array order. Entire contents of the first buffer is written before
proceeding to the second, and so on.
The flags argument contains a bitwise OR of zero or more of the following
flags:




Return the total number of bytes actually written.
The operating system may set a limit ( value
) on the number of buffers that can be used.
Combine the functionality of  and .
Availability: Linux 2.6.30 and newer, FreeBSD 6.0 and newer,
OpenBSD 2.7 and newer. Using flags requires Linux 4.7 or newer.

New in version 3.7.




¶
Provide a per-write equivalent of the   flag. This
flag effect applies only to the data range written by the system call.
Availability: Linux 4.7 and newer.

New in version 3.7.




¶
Provide a per-write equivalent of the   flag. This
flag effect applies only to the data range written by the system call.
Availability: Linux 4.7 and newer.

New in version 3.7.




(fd, n)¶
Read at most n bytes from file descriptor fd.
Return a bytestring containing the bytes read. If the end of the file
referred to by fd has been reached, an empty bytes object is returned.

Note
This function is intended for low-level I/O and must be applied to a file
descriptor as returned by  or .  To read a
“file object” returned by the built-in function  or by
 or , or , use its
 or  methods.


Changed in version 3.5: If the system call is interrupted and the signal handler does not raise an
exception, the function now retries the system call instead of raising an
 exception (see PEP 475 for the rationale).




(out, in, offset, count)¶

(out, in, offset, count, [headers, ][trailers, ]flags=0)
Copy count bytes from file descriptor in to file descriptor out
starting at offset.
Return the number of bytes sent. When EOF is reached return 0.
The first function notation is supported by all platforms that define
.
On Linux, if offset is given as , the bytes are read from the
current position of in and the position of in is updated.
The second case may be used on Mac OS X and FreeBSD where headers and
trailers are arbitrary sequences of buffers that are written before and
after the data from in is written. It returns the same as the first case.
On Mac OS X and FreeBSD, a value of 0 for count specifies to send until
the end of in is reached.
All platforms support sockets as out file descriptor, and some platforms
allow other types (e.g. regular file, pipe) as well.
Cross-platform applications should not use headers, trailers and flags
arguments.
Availability: Unix.

Note
For a higher-level wrapper of , see
.


New in version 3.3.




(fd, blocking)¶
Set the blocking mode of the specified file descriptor. Set the
 flag if blocking is , clear the flag otherwise.
See also  and .
Availability: Unix.

New in version 3.5.




¶

¶

¶
Parameters to the  function, if the implementation supports
them.
Availability: Unix.

New in version 3.3.




(fd, buffers)¶
Read from a file descriptor fd into a number of mutable bytes-like
objects buffers. Transfer data into each buffer until
it is full and then move on to the next buffer in the sequence to hold the
rest of the data.
Return the total number of bytes actually read which can be less than the
total capacity of all the objects.
The operating system may set a limit ( value
) on the number of buffers that can be used.
Availability: Unix.

New in version 3.3.




(fd)¶
Return the process group associated with the terminal given by fd (an open
file descriptor as returned by ).
Availability: Unix.



(fd, pg)¶
Set the process group associated with the terminal given by fd (an open file
descriptor as returned by ) to pg.
Availability: Unix.



(fd)¶
Return a string which specifies the terminal device associated with
file descriptor fd.  If fd is not associated with a terminal device, an
exception is raised.
Availability: Unix.



(fd, str)¶
Write the bytestring in str to file descriptor fd.
Return the number of bytes actually written.

Note
This function is intended for low-level I/O and must be applied to a file
descriptor as returned by  or .  To write a “file
object” returned by the built-in function  or by  or
, or  or , use its
 method.


Changed in version 3.5: If the system call is interrupted and the signal handler does not raise an
exception, the function now retries the system call instead of raising an
 exception (see PEP 475 for the rationale).




(fd, buffers)¶
Write the contents of buffers to file descriptor fd. buffers must be
a sequence of bytes-like objects. Buffers are
processed in array order. Entire contents of the first buffer is written
before proceeding to the second, and so on.
Returns the total number of bytes actually written.
The operating system may set a limit ( value
) on the number of buffers that can be used.
Availability: Unix.

New in version 3.3.



Querying the size of a terminal¶

New in version 3.3.



(fd=STDOUT_FILENO)¶
Return the size of the terminal window as ,
tuple of type .
The optional argument  (default , or standard
output) specifies which file descriptor should be queried.
If the file descriptor is not connected to a terminal, an 
is raised.
 is the high-level function which
should normally be used,  is the low-level
implementation.
Availability: Unix, Windows.



class ¶
A subclass of tuple, holding  of the terminal window size.


¶
Width of the terminal window in characters.



¶
Height of the terminal window in characters.




Inheritance of File Descriptors¶

New in version 3.4.

A file descriptor has an “inheritable” flag which indicates if the file descriptor
can be inherited by child processes.  Since Python 3.4, file descriptors
created by Python are non-inheritable by default.
On UNIX, non-inheritable file descriptors are closed in child processes at the
execution of a new program, other file descriptors are inherited.
On Windows, non-inheritable handles and file descriptors are closed in child
processes, except for standard streams (file descriptors 0, 1 and 2: stdin, stdout
and stderr), which are always inherited.  Using  functions,
all inheritable handles and all inheritable file descriptors are inherited.
Using the  module, all file descriptors except standard
streams are closed, and inheritable handles are only inherited if the
close_fds parameter is .


(fd)¶
Get the “inheritable” flag of the specified file descriptor (a boolean).



(fd, inheritable)¶
Set the “inheritable” flag of the specified file descriptor.



(handle)¶
Get the “inheritable” flag of the specified handle (a boolean).
Availability: Windows.



(handle, inheritable)¶
Set the “inheritable” flag of the specified handle.
Availability: Windows.




Files and Directories¶
On some Unix platforms, many of these functions support one or more of these
features:

specifying a file descriptor:
For some functions, the path argument can be not only a string giving a path
name, but also a file descriptor.  The function will then operate on the file
referred to by the descriptor.  (For POSIX systems, Python will call the
 version of the function.)
You can check whether or not path can be specified as a file descriptor on
your platform using .  If it is unavailable, using it
will raise a .
If the function also supports dir_fd or follow_symlinks arguments, it is
an error to specify one of those when supplying path as a file descriptor.



paths relative to directory descriptors: If dir_fd is not , it
should be a file descriptor referring to a directory, and the path to operate
on should be relative; path will then be relative to that directory.  If the
path is absolute, dir_fd is ignored.  (For POSIX systems, Python will call
the  or  version of the function.)
You can check whether or not dir_fd is supported on your platform using
.  If it is unavailable, using it will raise a
.



not following symlinks: If follow_symlinks is
, and the last element of the path to operate on is a symbolic link,
the function will operate on the symbolic link itself instead of the file the
link points to.  (For POSIX systems, Python will call the  version of
the function.)
You can check whether or not follow_symlinks is supported on your platform
using .  If it is unavailable, using it
will raise a .




(path, mode, *, dir_fd=None, effective_ids=False, follow_symlinks=True)¶
Use the real uid/gid to test for access to path.  Note that most operations
will use the effective uid/gid, therefore this routine can be used in a
suid/sgid environment to test if the invoking user has the specified access to
path.  mode should be  to test the existence of path, or it
can be the inclusive OR of one or more of , , and
 to test permissions.  Return  if access is allowed,
 if not. See the Unix man page access(2) for more
information.
This function can support specifying paths relative to directory
descriptors and not following symlinks.
If effective_ids is ,  will perform its access
checks using the effective uid/gid instead of the real uid/gid.
effective_ids may not be supported on your platform; you can check whether
or not it is available using .  If it is
unavailable, using it will raise a .

Note
Using  to check if a user is authorized to e.g. open a file
before actually doing so using  creates a security hole,
because the user might exploit the short time interval between checking
and opening the file to manipulate it. It’s preferable to use EAFP
techniques. For example:


is better written as:




Note
I/O operations may fail even when  indicates that they would
succeed, particularly for operations on network filesystems which may have
permissions semantics beyond the usual POSIX permission-bit model.


Changed in version 3.3: Added the dir_fd, effective_ids, and follow_symlinks parameters.


Changed in version 3.6: Accepts a path-like object.




¶

¶

¶

¶
Values to pass as the mode parameter of  to test the
existence, readability, writability and executability of path,
respectively.



(path)¶
Change the current working directory to path.
This function can support specifying a file descriptor.  The
descriptor must refer to an opened directory, not an open file.

New in version 3.3: Added support for specifying path as a file descriptor
on some platforms.


Changed in version 3.6: Accepts a path-like object.




(path, flags, *, follow_symlinks=True)¶
Set the flags of path to the numeric flags. flags may take a combination
(bitwise OR) of the following values (as defined in the  module):














This function can support not following symlinks.
Availability: Unix.

New in version 3.3: The follow_symlinks argument.


Changed in version 3.6: Accepts a path-like object.




(path, mode, *, dir_fd=None, follow_symlinks=True)¶
Change the mode of path to the numeric mode. mode may take one of the
following values (as defined in the  module) or bitwise ORed
combinations of them:





















This function can support specifying a file descriptor,
paths relative to directory descriptors and not
following symlinks.

Note
Although Windows supports , you can only set the file’s
read-only flag with it (via the  and 
constants or a corresponding integer value).  All other bits are ignored.


New in version 3.3: Added support for specifying path as an open file descriptor,
and the dir_fd and follow_symlinks arguments.


Changed in version 3.6: Accepts a path-like object.




(path, uid, gid, *, dir_fd=None, follow_symlinks=True)¶
Change the owner and group id of path to the numeric uid and gid.  To
leave one of the ids unchanged, set it to -1.
This function can support specifying a file descriptor,
paths relative to directory descriptors and not
following symlinks.
See  for a higher-level function that accepts names in
addition to numeric ids.
Availability: Unix.

New in version 3.3: Added support for specifying an open file descriptor for path,
and the dir_fd and follow_symlinks arguments.


Changed in version 3.6: Supports a path-like object.




(path)¶
Change the root directory of the current process to path.
Availability: Unix.

Changed in version 3.6: Accepts a path-like object.




(fd)¶
Change the current working directory to the directory represented by the file
descriptor fd.  The descriptor must refer to an opened directory, not an
open file.  As of Python 3.3, this is equivalent to .
Availability: Unix.



()¶
Return a string representing the current working directory.



()¶
Return a bytestring representing the current working directory.



(path, flags)¶
Set the flags of path to the numeric flags, like , but do
not follow symbolic links.  As of Python 3.3, this is equivalent to
.
Availability: Unix.

Changed in version 3.6: Accepts a path-like object.




(path, mode)¶
Change the mode of path to the numeric mode. If path is a symlink, this
affects the symlink rather than the target.  See the docs for 
for possible values of mode.  As of Python 3.3, this is equivalent to
.
Availability: Unix.

Changed in version 3.6: Accepts a path-like object.




(path, uid, gid)¶
Change the owner and group id of path to the numeric uid and gid.  This
function will not follow symbolic links.  As of Python 3.3, this is equivalent
to .
Availability: Unix.

Changed in version 3.6: Accepts a path-like object.




(src, dst, *, src_dir_fd=None, dst_dir_fd=None, follow_symlinks=True)¶
Create a hard link pointing to src named dst.
This function can support specifying src_dir_fd and/or dst_dir_fd to
supply paths relative to directory descriptors, and not
following symlinks.
Availability: Unix, Windows.

Changed in version 3.2: Added Windows support.


New in version 3.3: Added the src_dir_fd, dst_dir_fd, and follow_symlinks arguments.


Changed in version 3.6: Accepts a path-like object for src and dst.




(path='.')¶
Return a list containing the names of the entries in the directory given by
path.  The list is in arbitrary order, and does not include the special
entries  and  even if they are present in the directory.
path may be a path-like object.  If path is of type 
(directly or indirectly through the  interface),
the filenames returned will also be of type ;
in all other circumstances, they will be of type .
This function can also support specifying a file descriptor; the file descriptor must refer to a directory.

Note
To encode  filenames to , use .


See also
The  function returns directory entries along with
file attribute information, giving better performance for many
common use cases.


Changed in version 3.2: The path parameter became optional.


New in version 3.3: Added support for specifying an open file descriptor for path.


Changed in version 3.6: Accepts a path-like object.




(path, *, dir_fd=None)¶
Perform the equivalent of an  system call on the given path.
Similar to , but does not follow symbolic links. Return a
 object.
On platforms that do not support symbolic links, this is an alias for
.
As of Python 3.3, this is equivalent to .
This function can also support paths relative to directory descriptors.

See also
The  function.


Changed in version 3.2: Added support for Windows 6.0 (Vista) symbolic links.


Changed in version 3.3: Added the dir_fd parameter.


Changed in version 3.6: Accepts a path-like object for src and dst.




(path, mode=0o777, *, dir_fd=None)¶
Create a directory named path with numeric mode mode.
If the directory already exists,  is raised.
On some systems, mode is ignored.  Where it is used, the current umask
value is first masked out.  If bits other than the last 9 (i.e. the last 3
digits of the octal representation of the mode) are set, their meaning is
platform-dependent.  On some platforms, they are ignored and you should call
 explicitly to set them.
This function can also support paths relative to directory descriptors.
It is also possible to create temporary directories; see the
 module’s  function.

New in version 3.3: The dir_fd argument.


Changed in version 3.6: Accepts a path-like object.




(name, mode=0o777, exist_ok=False)¶
Recursive directory creation function.  Like , but makes all
intermediate-level directories needed to contain the leaf directory.
The mode parameter is passed to  for creating the leaf
directory; see the mkdir() description for how it
is interpreted.  To set the file permission bits of any newly-created parent
directories you can set the umask before invoking .  The
file permission bits of existing parent directories are not changed.
If exist_ok is  (the default), an  is raised if the
target directory already exists.

Note
 will become confused if the path elements to create
include  (eg. “..” on UNIX systems).

This function handles UNC paths correctly.

New in version 3.2: The exist_ok parameter.


Changed in version 3.4.1: Before Python 3.4.1, if exist_ok was  and the directory existed,
 would still raise an error if mode did not match the
mode of the existing directory. Since this behavior was impossible to
implement safely, it was removed in Python 3.4.1. See bpo-21082.


Changed in version 3.6: Accepts a path-like object.


Changed in version 3.7: The mode argument no longer affects the file permission bits of
newly-created intermediate-level directories.




(path, mode=0o666, *, dir_fd=None)¶
Create a FIFO (a named pipe) named path with numeric mode mode.
The current umask value is first masked out from the mode.
This function can also support paths relative to directory descriptors.
FIFOs are pipes that can be accessed like regular files.  FIFOs exist until they
are deleted (for example with ). Generally, FIFOs are used as
rendezvous between “client” and “server” type processes: the server opens the
FIFO for reading, and the client opens it for writing.  Note that 
doesn’t open the FIFO — it just creates the rendezvous point.
Availability: Unix.

New in version 3.3: The dir_fd argument.


Changed in version 3.6: Accepts a path-like object.




(path, mode=0o600, device=0, *, dir_fd=None)¶
Create a filesystem node (file, device special file or named pipe) named
path. mode specifies both the permissions to use and the type of node
to be created, being combined (bitwise OR) with one of ,
, , and  (those constants are
available in ).  For  and ,
device defines the newly created device special file (probably using
), otherwise it is ignored.
This function can also support paths relative to directory descriptors.
Availability: Unix.

New in version 3.3: The dir_fd argument.


Changed in version 3.6: Accepts a path-like object.




(device)¶
Extract the device major number from a raw device number (usually the
 or  field from ).



(device)¶
Extract the device minor number from a raw device number (usually the
 or  field from ).



(major, minor)¶
Compose a raw device number from the major and minor device numbers.



(path, name)¶
Return system configuration information relevant to a named file. name
specifies the configuration value to retrieve; it may be a string which is the
name of a defined system value; these names are specified in a number of
standards (POSIX.1, Unix 95, Unix 98, and others).  Some platforms define
additional names as well.  The names known to the host operating system are
given in the  dictionary.  For configuration variables not
included in that mapping, passing an integer for name is also accepted.
If name is a string and is not known,  is raised.  If a
specific value for name is not supported by the host system, even if it is
included in , an  is raised with
 for the error number.
This function can support specifying a file descriptor.
Availability: Unix.

Changed in version 3.6: Accepts a path-like object.




¶
Dictionary mapping names accepted by  and  to
the integer values defined for those names by the host operating system.  This
can be used to determine the set of names known to the system.
Availability: Unix.



(path, *, dir_fd=None)¶
Return a string representing the path to which the symbolic link points.  The
result may be either an absolute or relative pathname; if it is relative, it
may be converted to an absolute pathname using
.
If the path is a string object (directly or indirectly through a
 interface), the result will also be a string object,
and the call may raise a UnicodeDecodeError. If the path is a bytes
object (direct or indirectly), the result will be a bytes object.
This function can also support paths relative to directory descriptors.
Availability: Unix, Windows.

Changed in version 3.2: Added support for Windows 6.0 (Vista) symbolic links.


New in version 3.3: The dir_fd argument.


Changed in version 3.6: Accepts a path-like object.




(path, *, dir_fd=None)¶
Remove (delete) the file path.  If path is a directory,  is
raised.  Use  to remove directories.
This function can support paths relative to directory descriptors.
On Windows, attempting to remove a file that is in use causes an exception to
be raised; on Unix, the directory entry is removed but the storage allocated
to the file is not made available until the original file is no longer in use.
This function is semantically identical to .

New in version 3.3: The dir_fd argument.


Changed in version 3.6: Accepts a path-like object.




(name)¶
Remove directories recursively.  Works like  except that, if the
leaf directory is successfully removed,   tries to
successively remove every parent directory mentioned in  path until an error
is raised (which is ignored, because it generally means that a parent directory
is not empty). For example,  will first remove
the directory , and then remove  and  if
they are empty. Raises  if the leaf directory could not be
successfully removed.

Changed in version 3.6: Accepts a path-like object.




(src, dst, *, src_dir_fd=None, dst_dir_fd=None)¶
Rename the file or directory src to dst.  If dst is a directory,
 will be raised.  On Unix, if dst exists and is a file, it will
be replaced silently if the user has permission.  The operation may fail on some
Unix flavors if src and dst are on different filesystems.  If successful,
the renaming will be an atomic operation (this is a POSIX requirement).  On
Windows, if dst already exists,  will be raised even if it is a
file.
This function can support specifying src_dir_fd and/or dst_dir_fd to
supply paths relative to directory descriptors.
If you want cross-platform overwriting of the destination, use .

New in version 3.3: The src_dir_fd and dst_dir_fd arguments.


Changed in version 3.6: Accepts a path-like object for src and dst.




(old, new)¶
Recursive directory or file renaming function. Works like , except
creation of any intermediate directories needed to make the new pathname good is
attempted first. After the rename, directories corresponding to rightmost path
segments of the old name will be pruned away using .

Note
This function can fail with the new directory structure made if you lack
permissions needed to remove the leaf directory or file.


Changed in version 3.6: Accepts a path-like object for old and new.




(src, dst, *, src_dir_fd=None, dst_dir_fd=None)¶
Rename the file or directory src to dst.  If dst is a directory,
 will be raised.  If dst exists and is a file, it will
be replaced silently if the user has permission.  The operation may fail
if src and dst are on different filesystems.  If successful,
the renaming will be an atomic operation (this is a POSIX requirement).
This function can support specifying src_dir_fd and/or dst_dir_fd to
supply paths relative to directory descriptors.

New in version 3.3.


Changed in version 3.6: Accepts a path-like object for src and dst.




(path, *, dir_fd=None)¶
Remove (delete) the directory path.  Only works when the directory is
empty, otherwise,  is raised.  In order to remove whole
directory trees,  can be used.
This function can support paths relative to directory descriptors.

New in version 3.3: The dir_fd parameter.


Changed in version 3.6: Accepts a path-like object.




(path='.')¶
Return an iterator of  objects corresponding to the
entries in the directory given by path. The entries are yielded in
arbitrary order, and the special entries  and  are not
included.
Using  instead of  can significantly
increase the performance of code that also needs file type or file
attribute information, because  objects expose this
information if the operating system provides it when scanning a directory.
All  methods may perform a system call, but
 and  usually only
require a system call for symbolic links; 
always requires a system call on Unix but only requires one for
symbolic links on Windows.
path may be a path-like object.  If path is of type 
(directly or indirectly through the  interface),
the type of the  and 
attributes of each  will be ; in all other
circumstances, they will be of type .
This function can also support specifying a file descriptor; the file descriptor must refer to a directory.
The  iterator supports the context manager protocol
and has the following method:


()¶
Close the iterator and free acquired resources.
This is called automatically when the iterator is exhausted or garbage
collected, or when an error happens during iterating.  However it
is advisable to call it explicitly or use the 
statement.

New in version 3.6.


The following example shows a simple use of  to display all
the files (excluding directories) in the given path that don’t start with
. The  call will generally not make an additional
system call:



Note
On Unix-based systems,  uses the system’s
opendir()
and
readdir()
functions. On Windows, it uses the Win32
FindFirstFileW
and
FindNextFileW
functions.


New in version 3.5.


New in version 3.6: Added support for the context manager protocol and the
 method.  If a  iterator is neither
exhausted nor explicitly closed a  will be emitted
in its destructor.
The function accepts a path-like object.


Changed in version 3.7: Added support for file descriptors on Unix.




class ¶
Object yielded by  to expose the file path and other file
attributes of a directory entry.
 will provide as much of this information as possible without
making additional system calls. When a  or  system call
is made, the  object will cache the result.
 instances are not intended to be stored in long-lived data
structures; if you know the file metadata has changed or if a long time has
elapsed since calling , call  to fetch
up-to-date information.
Because the  methods can make operating system calls, they may
also raise . If you need very fine-grained
control over errors, you can catch  when calling one of the
 methods and handle as appropriate.
To be directly usable as a path-like object, 
implements the  interface.
Attributes and methods on a  instance are as follows:


¶
The entry’s base filename, relative to the  path
argument.
The  attribute will be  if the 
path argument is of type  and  otherwise.  Use
 to decode byte filenames.



¶
The entry’s full path name: equivalent to  where scandir_path is the  path
argument.  The path is only absolute if the  path
argument was absolute.  If the  path
argument was a file descriptor, the 
attribute is the same as the  attribute.
The  attribute will be  if the 
path argument is of type  and  otherwise.  Use
 to decode byte filenames.



()¶
Return the inode number of the entry.
The result is cached on the  object. Use
 to fetch up-to-date
information.
On the first, uncached call, a system call is required on Windows but
not on Unix.



(*, follow_symlinks=True)¶
Return  if this entry is a directory or a symbolic link pointing
to a directory; return  if the entry is or points to any other
kind of file, or if it doesn’t exist anymore.
If follow_symlinks is , return  only if this entry
is a directory (without following symlinks); return  if the
entry is any other kind of file or if it doesn’t exist anymore.
The result is cached on the  object, with a separate cache
for follow_symlinks  and . Call  along
with  to fetch up-to-date information.
On the first, uncached call, no system call is required in most cases.
Specifically, for non-symlinks, neither Windows or Unix require a system
call, except on certain Unix file systems, such as network file systems,
that return . If the entry is a symlink,
a system call will be required to follow the symlink unless
follow_symlinks is .
This method can raise , such as ,
but  is caught and not raised.



(*, follow_symlinks=True)¶
Return  if this entry is a file or a symbolic link pointing to a
file; return  if the entry is or points to a directory or other
non-file entry, or if it doesn’t exist anymore.
If follow_symlinks is , return  only if this entry
is a file (without following symlinks); return  if the entry is
a directory or other non-file entry, or if it doesn’t exist anymore.
The result is cached on the  object. Caching, system calls
made, and exceptions raised are as per .



()¶
Return  if this entry is a symbolic link (even if broken);
return  if the entry points to a directory or any kind of file,
or if it doesn’t exist anymore.
The result is cached on the  object. Call
 to fetch up-to-date information.
On the first, uncached call, no system call is required in most cases.
Specifically, neither Windows or Unix require a system call, except on
certain Unix file systems, such as network file systems, that return
.
This method can raise , such as ,
but  is caught and not raised.



(*, follow_symlinks=True)¶
Return a  object for this entry. This method
follows symbolic links by default; to stat a symbolic link add the
 argument.
On Unix, this method always requires a system call. On Windows, it
only requires a system call if follow_symlinks is  and the
entry is a symbolic link.
On Windows, the ,  and  attributes of the
 are always set to zero. Call  to
get these attributes.
The result is cached on the  object, with a separate cache
for follow_symlinks  and . Call  to
fetch up-to-date information.

Note that there is a nice correspondence between several attributes
and methods of  and of .  In
particular, the  attribute has the same
meaning, as do the , , 
and  methods.

New in version 3.5.


Changed in version 3.6: Added support for the  interface.  Added support
for  paths on Windows.




(path, *, dir_fd=None, follow_symlinks=True)¶
Get the status of a file or a file descriptor. Perform the equivalent of a
 system call on the given path. path may be specified as
either a string or bytes – directly or indirectly through the 
interface – or as an open file descriptor. Return a 
object.
This function normally follows symlinks; to stat a symlink add the argument
, or use .
This function can support specifying a file descriptor and
not following symlinks.
Example:



See also
 and  functions.


New in version 3.3: Added the dir_fd and follow_symlinks arguments, specifying a file
descriptor instead of a path.


Changed in version 3.6: Accepts a path-like object.




class ¶
Object whose attributes correspond roughly to the members of the
 structure. It is used for the result of ,
 and .
Attributes:


¶
File mode: file type and file mode bits (permissions).



¶
Platform dependent, but if non-zero, uniquely identifies the
file for a given value of . Typically:

the inode number on Unix,
the file index on
Windows




¶
Identifier of the device on which this file resides.



¶
Number of hard links.



¶
User identifier of the file owner.



¶
Group identifier of the file owner.



¶
Size of the file in bytes, if it is a regular file or a symbolic link.
The size of a symbolic link is the length of the pathname it contains,
without a terminating null byte.

Timestamps:


¶
Time of most recent access expressed in seconds.



¶
Time of most recent content modification expressed in seconds.



¶
Platform dependent:

the time of most recent metadata change on Unix,
the time of creation on Windows, expressed in seconds.




¶
Time of most recent access expressed in nanoseconds as an integer.



¶
Time of most recent content modification expressed in nanoseconds as an
integer.



¶
Platform dependent:

the time of most recent metadata change on Unix,
the time of creation on Windows, expressed in nanoseconds as an
integer.



Note
The exact meaning and resolution of the ,
, and  attributes depend on the operating
system and the file system. For example, on Windows systems using the FAT
or FAT32 file systems,  has 2-second resolution, and
 has only 1-day resolution.  See your operating system
documentation for details.
Similarly, although , ,
and  are always expressed in nanoseconds, many
systems do not provide nanosecond precision.  On systems that do
provide nanosecond precision, the floating-point object used to
store , , and 
cannot preserve all of it, and as such will be slightly inexact.
If you need the exact timestamps you should always use
, , and .

On some Unix systems (such as Linux), the following attributes may also be
available:


¶
Number of 512-byte blocks allocated for file.
This may be smaller than /512 when the file has holes.



¶
“Preferred” blocksize for efficient file system I/O. Writing to a file in
smaller chunks may cause an inefficient read-modify-rewrite.



¶
Type of device if an inode device.



¶
User defined flags for file.

On other Unix systems (such as FreeBSD), the following attributes may be
available (but may be only filled out if root tries to use them):


¶
File generation number.



¶
Time of file creation.

On Solaris and derivatives, the following attributes may also be
available:


¶
String that uniquely identifies the type of the filesystem that
contains the file.

On Mac OS systems, the following attributes may also be available:


¶
Real size of the file.



¶
Creator of the file.



¶
File type.

On Windows systems, the following attribute is also available:


¶
Windows file attributes:  member of the
 structure returned by
. See the 
constants in the  module.

The standard module  defines functions and constants that are
useful for extracting information from a  structure. (On
Windows, some items are filled with dummy values.)
For backward compatibility, a  instance is also
accessible as a tuple of at least 10 integers giving the most important (and
portable) members of the  structure, in the order
, , , ,
, , , ,
, . More items may be added at the end by
some implementations. For compatibility with older Python versions,
accessing  as a tuple always returns integers.

New in version 3.3: Added the , , and
 members.


New in version 3.5: Added the  member on Windows.


Changed in version 3.5: Windows now returns the file index as  when
available.


New in version 3.7: Added the  member to Solaris/derivatives.




(path)¶
Perform a  system call on the given path.  The return value is
an object whose attributes describe the filesystem on the given path, and
correspond to the members of the  structure, namely:
, , , ,
, , , ,
, , .
Two module-level constants are defined for the  attribute’s
bit-flags: if  is set, the filesystem is mounted
read-only, and if  is set, the semantics of
setuid/setgid bits are disabled or not supported.
Additional module-level constants are defined for GNU/glibc based systems.
These are  (disallow access to device special files),
 (disallow program execution), 
(writes are synced at once),  (allow mandatory locks on an FS),
 (write on file/directory/symlink), 
(append-only file),  (immutable file), 
(do not update access times),  (do not update directory access
times),  (update atime relative to mtime/ctime).
This function can support specifying a file descriptor.
Availability: Unix.

Changed in version 3.2: The  and  constants were added.


New in version 3.3: Added support for specifying an open file descriptor for path.


Changed in version 3.4: The , , ,
, , ,
, , ,
and  constants were added.


Changed in version 3.6: Accepts a path-like object.


New in version 3.7: Added .




¶
A  object indicating which functions in the
 module permit use of their dir_fd parameter.  Different platforms
provide different functionality, and an option that might work on one might
be unsupported on another.  For consistency’s sakes, functions that support
dir_fd always allow specifying the parameter, but will raise an exception
if the functionality is not actually available.
To check whether a particular function permits use of its dir_fd
parameter, use the  operator on .  As an example,
this expression determines whether the dir_fd parameter of 
is locally available:


Currently dir_fd parameters only work on Unix platforms; none of them work
on Windows.

New in version 3.3.




¶
A  object indicating which functions in the
 module permit use of the effective_ids parameter for
.  If the local platform supports it, the collection will
contain , otherwise it will be empty.
To check whether you can use the effective_ids parameter for
, use the  operator on ,
like so:


Currently effective_ids only works on Unix platforms; it does not work on
Windows.

New in version 3.3.




¶
A  object indicating which functions in the
 module permit specifying their path parameter as an open file
descriptor.  Different platforms provide different functionality, and an
option that might work on one might be unsupported on another.  For
consistency’s sakes, functions that support fd always allow specifying
the parameter, but will raise an exception if the functionality is not
actually available.
To check whether a particular function permits specifying an open file
descriptor for its path parameter, use the  operator on
. As an example, this expression determines whether
 accepts open file descriptors when called on your local
platform:



New in version 3.3.




¶
A  object indicating which functions in the
 module permit use of their follow_symlinks parameter.  Different
platforms provide different functionality, and an option that might work on
one might be unsupported on another.  For consistency’s sakes, functions that
support follow_symlinks always allow specifying the parameter, but will
raise an exception if the functionality is not actually available.
To check whether a particular function permits use of its follow_symlinks
parameter, use the  operator on .  As an
example, this expression determines whether the follow_symlinks parameter
of  is locally available:



New in version 3.3.




(src, dst, target_is_directory=False, *, dir_fd=None)¶
Create a symbolic link pointing to src named dst.
On Windows, a symlink represents either a file or a directory, and does not
morph to the target dynamically.  If the target is present, the type of the
symlink will be created to match. Otherwise, the symlink will be created
as a directory if target_is_directory is  or a file symlink (the
default) otherwise.  On non-Windows platforms, target_is_directory is ignored.
Symbolic link support was introduced in Windows 6.0 (Vista).  
will raise a  on Windows versions earlier than 6.0.
This function can support paths relative to directory descriptors.

Note
On Windows, the SeCreateSymbolicLinkPrivilege is required in order to
successfully create symlinks. This privilege is not typically granted to
regular users but is available to accounts which can escalate privileges
to the administrator level. Either obtaining the privilege or running your
application as an administrator are ways to successfully create symlinks.
 is raised when the function is called by an unprivileged
user.

Availability: Unix, Windows.

Changed in version 3.2: Added support for Windows 6.0 (Vista) symbolic links.


New in version 3.3: Added the dir_fd argument, and now allow target_is_directory
on non-Windows platforms.


Changed in version 3.6: Accepts a path-like object for src and dst.




()¶
Force write of everything to disk.
Availability: Unix.

New in version 3.3.




(path, length)¶
Truncate the file corresponding to path, so that it is at most
length bytes in size.
This function can support specifying a file descriptor.
Availability: Unix, Windows.

New in version 3.3.


Changed in version 3.5: Added support for Windows


Changed in version 3.6: Accepts a path-like object.




(path, *, dir_fd=None)¶
Remove (delete) the file path.  This function is semantically
identical to ; the  name is its
traditional Unix name.  Please see the documentation for
 for further information.

New in version 3.3: The dir_fd parameter.


Changed in version 3.6: Accepts a path-like object.




(path, times=None, *, [ns, ]dir_fd=None, follow_symlinks=True)¶
Set the access and modified times of the file specified by path.
 takes two optional parameters, times and ns.
These specify the times set on path and are used as follows:

If ns is specified,
it must be a 2-tuple of the form 
where each member is an int expressing nanoseconds.
If times is not ,
it must be a 2-tuple of the form 
where each member is an int or float expressing seconds.
If times is  and ns is unspecified,
this is equivalent to specifying 
where both times are the current time.

It is an error to specify tuples for both times and ns.
Whether a directory can be given for path
depends on whether the operating system implements directories as files
(for example, Windows does not).  Note that the exact times you set here may
not be returned by a subsequent  call, depending on the
resolution with which your operating system records access and modification
times; see .  The best way to preserve exact times is to
use the st_atime_ns and st_mtime_ns fields from the 
result object with the ns parameter to utime.
This function can support specifying a file descriptor,
paths relative to directory descriptors and not
following symlinks.

New in version 3.3: Added support for specifying an open file descriptor for path,
and the dir_fd, follow_symlinks, and ns parameters.


Changed in version 3.6: Accepts a path-like object.




(top, topdown=True, onerror=None, followlinks=False)¶
Generate the file names in a directory tree by walking the tree
either top-down or bottom-up. For each directory in the tree rooted at directory
top (including top itself), it yields a 3-tuple .
dirpath is a string, the path to the directory.  dirnames is a list of the
names of the subdirectories in dirpath (excluding  and ).
filenames is a list of the names of the non-directory files in dirpath.
Note that the names in the lists contain no path components.  To get a full path
(which begins with top) to a file or directory in dirpath, do
.
If optional argument topdown is  or not specified, the triple for a
directory is generated before the triples for any of its subdirectories
(directories are generated top-down).  If topdown is , the triple
for a directory is generated after the triples for all of its subdirectories
(directories are generated bottom-up). No matter the value of topdown, the
list of subdirectories is retrieved before the tuples for the directory and
its subdirectories are generated.
When topdown is , the caller can modify the dirnames list in-place
(perhaps using  or slice assignment), and  will only
recurse into the subdirectories whose names remain in dirnames; this can be
used to prune the search, impose a specific order of visiting, or even to inform
 about directories the caller creates or renames before it resumes
 again.  Modifying dirnames when topdown is  has
no effect on the behavior of the walk, because in bottom-up mode the directories
in dirnames are generated before dirpath itself is generated.
By default, errors from the  call are ignored.  If optional
argument onerror is specified, it should be a function; it will be called with
one argument, an  instance.  It can report the error to continue
with the walk, or raise the exception to abort the walk.  Note that the filename
is available as the  attribute of the exception object.
By default,  will not walk down into symbolic links that resolve to
directories. Set followlinks to  to visit directories pointed to by
symlinks, on systems that support them.

Note
Be aware that setting followlinks to  can lead to infinite
recursion if a link points to a parent directory of itself. 
does not keep track of the directories it visited already.


Note
If you pass a relative pathname, don’t change the current working directory
between resumptions of .   never changes the current
directory, and assumes that its caller doesn’t either.

This example displays the number of bytes taken by non-directory files in each
directory under the starting directory, except that it doesn’t look under any
CVS subdirectory:


In the next example (simple implementation of ),
walking the tree bottom-up is essential,  doesn’t allow
deleting a directory before the directory is empty:



Changed in version 3.5: This function now calls  instead of ,
making it faster by reducing the number of calls to .


Changed in version 3.6: Accepts a path-like object.




(top='.', topdown=True, onerror=None, *, follow_symlinks=False, dir_fd=None)¶
This behaves exactly like , except that it yields a 4-tuple
, and it supports .
dirpath, dirnames and filenames are identical to  output,
and dirfd is a file descriptor referring to the directory dirpath.
This function always supports paths relative to directory descriptors and not following symlinks.  Note however
that, unlike other functions, the  default value for
follow_symlinks is .

Note
Since  yields file descriptors, those are only valid until
the next iteration step, so you should duplicate them (e.g. with
) if you want to keep them longer.

This example displays the number of bytes taken by non-directory files in each
directory under the starting directory, except that it doesn’t look under any
CVS subdirectory:


In the next example, walking the tree bottom-up is essential:
 doesn’t allow deleting a directory before the directory is
empty:


Availability: Unix.

New in version 3.3.


Changed in version 3.6: Accepts a path-like object.


Changed in version 3.7: Added support for  paths.



Linux extended attributes¶

New in version 3.3.

These functions are all available on Linux only.


(path, attribute, *, follow_symlinks=True)¶
Return the value of the extended filesystem attribute attribute for
path. attribute can be bytes or str (directly or indirectly through the
 interface). If it is str, it is encoded with the filesystem
encoding.
This function can support specifying a file descriptor and
not following symlinks.

Changed in version 3.6: Accepts a path-like object for path and attribute.




(path=None, *, follow_symlinks=True)¶
Return a list of the extended filesystem attributes on path.  The
attributes in the list are represented as strings decoded with the filesystem
encoding.  If path is ,  will examine the current
directory.
This function can support specifying a file descriptor and
not following symlinks.

Changed in version 3.6: Accepts a path-like object.




(path, attribute, *, follow_symlinks=True)¶
Removes the extended filesystem attribute attribute from path.
attribute should be bytes or str (directly or indirectly through the
 interface). If it is a string, it is encoded
with the filesystem encoding.
This function can support specifying a file descriptor and
not following symlinks.

Changed in version 3.6: Accepts a path-like object for path and attribute.




(path, attribute, value, flags=0, *, follow_symlinks=True)¶
Set the extended filesystem attribute attribute on path to value.
attribute must be a bytes or str with no embedded NULs (directly or
indirectly through the  interface). If it is a str,
it is encoded with the filesystem encoding.  flags may be
 or . If  is
given and the attribute does not exist,  will be raised.
If  is given and the attribute already exists, the
attribute will not be created and  will be raised.
This function can support specifying a file descriptor and
not following symlinks.

Note
A bug in Linux kernel versions less than 2.6.39 caused the flags argument
to be ignored on some filesystems.


Changed in version 3.6: Accepts a path-like object for path and attribute.




¶
The maximum size the value of an extended attribute can be. Currently, this
is 64 KiB on Linux.



¶
This is a possible value for the flags argument in . It
indicates the operation must create an attribute.



¶
This is a possible value for the flags argument in . It
indicates the operation must replace an existing attribute.




Process Management¶
These functions may be used to create and manage processes.
The various  functions take a list of arguments for the new
program loaded into the process.  In each case, the first of these arguments is
passed to the new program as its own name rather than as an argument a user may
have typed on a command line.  For the C programmer, this is the 
passed to a program’s .  For example,  will only print  on standard output;  will seem
to be ignored.


()¶
Generate a  signal to the current process.  On Unix, the default
behavior is to produce a core dump; on Windows, the process immediately returns
an exit code of .  Be aware that calling this function will not call the
Python signal handler registered for  with
.



(path, arg0, arg1, ...)¶

(path, arg0, arg1, ..., env)¶

(file, arg0, arg1, ...)¶

(file, arg0, arg1, ..., env)¶

(path, args)¶

(path, args, env)¶

(file, args)¶

(file, args, env)¶
These functions all execute a new program, replacing the current process; they
do not return.  On Unix, the new executable is loaded into the current process,
and will have the same process id as the caller.  Errors will be reported as
 exceptions.
The current process is replaced immediately. Open file objects and
descriptors are not flushed, so if there may be data buffered
on these open files, you should flush them using
 or  before calling an
 function.
The “l” and “v” variants of the  functions differ in how
command-line arguments are passed.  The “l” variants are perhaps the easiest
to work with if the number of parameters is fixed when the code is written; the
individual parameters simply become additional parameters to the 
functions.  The “v” variants are good when the number of parameters is
variable, with the arguments being passed in a list or tuple as the args
parameter.  In either case, the arguments to the child process should start with
the name of the command being run, but this is not enforced.
The variants which include a “p” near the end (,
, , and ) will use the
 environment variable to locate the program file.  When the
environment is being replaced (using one of the  variants,
discussed in the next paragraph), the new environment is used as the source of
the  variable. The other variants, , ,
, and , will not use the  variable to
locate the executable; path must contain an appropriate absolute or relative
path.
For , , , and  (note
that these all end in “e”), the env parameter must be a mapping which is
used to define the environment variables for the new process (these are used
instead of the current process’ environment); the functions ,
, , and  all cause the new process to
inherit the environment of the current process.
For  on some platforms, path may also be specified as an open
file descriptor.  This functionality may not be supported on your platform;
you can check whether or not it is available using .
If it is unavailable, using it will raise a .
Availability: Unix, Windows.

New in version 3.3: Added support for specifying an open file descriptor for path
for .


Changed in version 3.6: Accepts a path-like object.




(n)¶
Exit the process with status n, without calling cleanup handlers, flushing
stdio buffers, etc.

Note
The standard way to exit is .   should
normally only be used in the child process after a .


The following exit codes are defined and can be used with ,
although they are not required.  These are typically used for system programs
written in Python, such as a mail server’s external command delivery program.

Note
Some of these may not be available on all Unix platforms, since there is some
variation.  These constants are defined where they are defined by the underlying
platform.



¶
Exit code that means no error occurred.
Availability: Unix.



¶
Exit code that means the command was used incorrectly, such as when the wrong
number of arguments are given.
Availability: Unix.



¶
Exit code that means the input data was incorrect.
Availability: Unix.



¶
Exit code that means an input file did not exist or was not readable.
Availability: Unix.



¶
Exit code that means a specified user did not exist.
Availability: Unix.



¶
Exit code that means a specified host did not exist.
Availability: Unix.



¶
Exit code that means that a required service is unavailable.
Availability: Unix.



¶
Exit code that means an internal software error was detected.
Availability: Unix.



¶
Exit code that means an operating system error was detected, such as the
inability to fork or create a pipe.
Availability: Unix.



¶
Exit code that means some system file did not exist, could not be opened, or had
some other kind of error.
Availability: Unix.



¶
Exit code that means a user specified output file could not be created.
Availability: Unix.



¶
Exit code that means that an error occurred while doing I/O on some file.
Availability: Unix.



¶
Exit code that means a temporary failure occurred.  This indicates something
that may not really be an error, such as a network connection that couldn’t be
made during a retryable operation.
Availability: Unix.



¶
Exit code that means that a protocol exchange was illegal, invalid, or not
understood.
Availability: Unix.



¶
Exit code that means that there were insufficient permissions to perform the
operation (but not intended for file system problems).
Availability: Unix.



¶
Exit code that means that some kind of configuration error occurred.
Availability: Unix.



¶
Exit code that means something like “an entry was not found”.
Availability: Unix.



()¶
Fork a child process.  Return  in the child and the child’s process id in the
parent.  If an error occurs  is raised.
Note that some platforms including FreeBSD <= 6.3 and Cygwin have
known issues when using fork() from a thread.

Warning
See  for applications that use the SSL module with fork().

Availability: Unix.



()¶
Fork a child process, using a new pseudo-terminal as the child’s controlling
terminal. Return a pair of , where pid is  in the child, the
new child’s process id in the parent, and fd is the file descriptor of the
master end of the pseudo-terminal.  For a more portable approach, use the
 module.  If an error occurs  is raised.
Availability: some flavors of Unix.



(pid, sig)¶
Send signal sig to the process pid.  Constants for the specific signals
available on the host platform are defined in the  module.
Windows: The  and
 signals are special signals which can
only be sent to console processes which share a common console window,
e.g., some subprocesses. Any other value for sig will cause the process
to be unconditionally killed by the TerminateProcess API, and the exit code
will be set to sig. The Windows version of  additionally takes
process handles to be killed.
See also .

New in version 3.2: Windows support.




(pgid, sig)¶
Send the signal sig to the process group pgid.
Availability: Unix.



(increment)¶
Add increment to the process’s “niceness”.  Return the new niceness.
Availability: Unix.



(op)¶
Lock program segments into memory.  The value of op (defined in
) determines which segments are locked.
Availability: Unix.



(cmd, mode='r', buffering=-1)¶
Open a pipe to or from command cmd.
The return value is an open file object
connected to the pipe, which can be read or written depending on whether mode
is  (default) or . The buffering argument has the same meaning as
the corresponding argument to the built-in  function. The
returned file object reads or writes text strings rather than bytes.
The  method returns  if the subprocess exited
successfully, or the subprocess’s return code if there was an
error. On POSIX systems, if the return code is positive it
represents the return value of the process left-shifted by one
byte.  If the return code is negative, the process was terminated
by the signal given by the negated value of the return code.  (For
example, the return value might be  if the
subprocess was killed.)  On Windows systems, the return value
contains the signed integer return code from the child process.
This is implemented using ; see that class’s
documentation for more powerful ways to manage and communicate with
subprocesses.



(*, before=None, after_in_parent=None, after_in_child=None)¶
Register callables to be executed when a new child process is forked
using  or similar process cloning APIs.
The parameters are optional and keyword-only.
Each specifies a different call point.

before is a function called before forking a child process.
after_in_parent is a function called from the parent process
after forking a child process.
after_in_child is a function called from the child process.

These calls are only made if control is expected to return to the
Python interpreter.  A typical  launch will not
trigger them as the child is not going to re-enter the interpreter.
Functions registered for execution before forking are called in
reverse registration order.  Functions registered for execution
after forking (either in the parent or in the child) are called
in registration order.
Note that  calls made by third-party C code may not
call those functions, unless it explicitly calls ,
 and .
There is no way to unregister a function.
Availability: Unix.

New in version 3.7.




(mode, path, ...)¶

(mode, path, ..., env)¶

(mode, file, ...)¶

(mode, file, ..., env)¶

(mode, path, args)¶

(mode, path, args, env)¶

(mode, file, args)¶

(mode, file, args, env)¶
Execute the program path in a new process.
(Note that the  module provides more powerful facilities for
spawning new processes and retrieving their results; using that module is
preferable to using these functions.  Check especially the
Replacing Older Functions with the subprocess Module section.)
If mode is , this function returns the process id of the new
process; if mode is , returns the process’s exit code if it
exits normally, or , where signal is the signal that killed the
process.  On Windows, the process id will actually be the process handle, so can
be used with the  function.
The “l” and “v” variants of the  functions differ in how
command-line arguments are passed.  The “l” variants are perhaps the easiest
to work with if the number of parameters is fixed when the code is written; the
individual parameters simply become additional parameters to the
 functions.  The “v” variants are good when the number of
parameters is variable, with the arguments being passed in a list or tuple as
the args parameter.  In either case, the arguments to the child process must
start with the name of the command being run.
The variants which include a second “p” near the end (,
, , and ) will use the
 environment variable to locate the program file.  When the
environment is being replaced (using one of the  variants,
discussed in the next paragraph), the new environment is used as the source of
the  variable.  The other variants, ,
, , and , will not use the
 variable to locate the executable; path must contain an
appropriate absolute or relative path.
For , , , and 
(note that these all end in “e”), the env parameter must be a mapping
which is used to define the environment variables for the new process (they are
used instead of the current process’ environment); the functions
, , , and  all cause
the new process to inherit the environment of the current process.  Note that
keys and values in the env dictionary must be strings; invalid keys or
values will cause the function to fail, with a return value of .
As an example, the following calls to  and  are
equivalent:


Availability: Unix, Windows.  , , 
and  are not available on Windows.   and
 are not thread-safe on Windows; we advise you to use the
 module instead.

Changed in version 3.6: Accepts a path-like object.




¶

¶
Possible values for the mode parameter to the  family of
functions.  If either of these values is given, the  functions
will return as soon as the new process has been created, with the process id as
the return value.
Availability: Unix, Windows.



¶
Possible value for the mode parameter to the  family of
functions.  If this is given as mode, the  functions will not
return until the new process has run to completion and will return the exit code
of the process the run is successful, or  if a signal kills the
process.
Availability: Unix, Windows.



¶

¶
Possible values for the mode parameter to the  family of
functions.  These are less portable than those listed above. 
is similar to , but the new process is detached from the
console of the calling process. If  is used, the current
process will be replaced; the  function will not return.
Availability: Windows.



(path[, operation])¶
Start a file with its associated application.
When operation is not specified or , this acts like double-clicking
the file in Windows Explorer, or giving the file name as an argument to the
start command from the interactive command shell: the file is opened
with whatever application (if any) its extension is associated.
When another operation is given, it must be a “command verb” that specifies
what should be done with the file. Common verbs documented by Microsoft are
 and   (to be used on files) as well as  and
 (to be used on directories).
 returns as soon as the associated application is launched.
There is no option to wait for the application to close, and no way to retrieve
the application’s exit status.  The path parameter is relative to the current
directory.  If you want to use an absolute path, make sure the first character
is not a slash (); the underlying Win32  function
doesn’t work if it is.  Use the  function to ensure that
the path is properly encoded for Win32.
To reduce interpreter startup overhead, the Win32 
function is not resolved until this function is first called.  If the function
cannot be resolved,  will be raised.
Availability: Windows.



(command)¶
Execute the command (a string) in a subshell.  This is implemented by calling
the Standard C function , and has the same limitations.
Changes to , etc. are not reflected in the environment of
the executed command. If command generates any output, it will be sent to
the interpreter standard output stream.
On Unix, the return value is the exit status of the process encoded in the
format specified for .  Note that POSIX does not specify the
meaning of the return value of the C  function, so the return
value of the Python function is system-dependent.
On Windows, the return value is that returned by the system shell after
running command.  The shell is given by the Windows environment variable
: it is usually cmd.exe, which returns the exit
status of the command run; on systems using a non-native shell, consult your
shell documentation.
The  module provides more powerful facilities for spawning
new processes and retrieving their results; using that module is preferable
to using this function.  See the Replacing Older Functions with the subprocess Module section in
the  documentation for some helpful recipes.
Availability: Unix, Windows.



()¶
Returns the current global process times.
The return value is an object with five attributes:

 - user time
 - system time
 - user time of all child processes
 - system time of all child processes
 - elapsed real time since a fixed point in the past

For backwards compatibility, this object also behaves like a five-tuple
containing , , ,
, and  in that order.
See the Unix manual page
times(2) or the corresponding Windows Platform API documentation.
On Windows, only  and  are known; the other
attributes are zero.
Availability: Unix, Windows.

Changed in version 3.3: Return type changed from a tuple to a tuple-like object
with named attributes.




()¶
Wait for completion of a child process, and return a tuple containing its pid
and exit status indication: a 16-bit number, whose low byte is the signal number
that killed the process, and whose high byte is the exit status (if the signal
number is zero); the high bit of the low byte is set if a core file was
produced.
Availability: Unix.



(idtype, id, options)¶
Wait for the completion of one or more child processes.
idtype can be ,  or .
id specifies the pid to wait on.
options is constructed from the ORing of one or more of ,
 or  and additionally may be ORed with
 or . The return value is an object
representing the data contained in the  structure, namely:
, , , ,
 or  if  is specified and there are no
children in a waitable state.
Availability: Unix.

New in version 3.3.




¶

¶

¶
These are the possible values for idtype in . They affect
how id is interpreted.
Availability: Unix.

New in version 3.3.




¶

¶

¶
Flags that can be used in options in  that specify what
child signal to wait for.
Availability: Unix.

New in version 3.3.




¶

¶

¶

¶
These are the possible values for  in the result returned by
.
Availability: Unix.

New in version 3.3.




(pid, options)¶
The details of this function differ on Unix and Windows.
On Unix: Wait for completion of a child process given by process id pid, and
return a tuple containing its process id and exit status indication (encoded as
for ).  The semantics of the call are affected by the value of the
integer options, which should be  for normal operation.
If pid is greater than ,  requests status information for
that specific process.  If pid is , the request is for the status of any
child in the process group of the current process.  If pid is , the
request pertains to any child of the current process.  If pid is less than
, status is requested for any process in the process group  (the
absolute value of pid).
An  is raised with the value of errno when the syscall
returns -1.
On Windows: Wait for completion of a process given by process handle pid, and
return a tuple containing pid, and its exit status shifted left by 8 bits
(shifting makes cross-platform use of the function easier). A pid less than or
equal to  has no special meaning on Windows, and raises an exception. The
value of integer options has no effect. pid can refer to any process whose
id is known, not necessarily a child process. The 
functions called with  return suitable process handles.

Changed in version 3.5: If the system call is interrupted and the signal handler does not raise an
exception, the function now retries the system call instead of raising an
 exception (see PEP 475 for the rationale).




(options)¶
Similar to , except no process id argument is given and a
3-element tuple containing the child’s process id, exit status indication,
and resource usage information is returned.  Refer to
. for details on resource usage
information.  The option argument is the same as that provided to
 and .
Availability: Unix.



(pid, options)¶
Similar to , except a 3-element tuple, containing the child’s
process id, exit status indication, and resource usage information is returned.
Refer to . for details on
resource usage information.  The arguments to  are the same
as those provided to .
Availability: Unix.



¶
The option for  to return immediately if no child process status
is available immediately. The function returns  in this case.
Availability: Unix.



¶
This option causes child processes to be reported if they have been continued
from a job control stop since their status was last reported.
Availability: some Unix systems.



¶
This option causes child processes to be reported if they have been stopped but
their current state has not been reported since they were stopped.
Availability: Unix.

The following functions take a process status code as returned by
, , or  as a parameter.  They may be
used to determine the disposition of a process.


(status)¶
Return  if a core dump was generated for the process, otherwise
return .
Availability: Unix.



(status)¶
Return  if the process has been continued from a job control stop,
otherwise return .
Availability: Unix.



(status)¶
Return  if the process has been stopped, otherwise return
.
Availability: Unix.



(status)¶
Return  if the process exited due to a signal, otherwise return
.
Availability: Unix.



(status)¶
Return  if the process exited using the exit(2) system call,
otherwise return .
Availability: Unix.



(status)¶
If  is true, return the integer parameter to the
exit(2) system call.  Otherwise, the return value is meaningless.
Availability: Unix.



(status)¶
Return the signal which caused the process to stop.
Availability: Unix.



(status)¶
Return the signal which caused the process to exit.
Availability: Unix.



Interface to the scheduler¶
These functions control how a process is allocated CPU time by the operating
system. They are only available on some Unix platforms. For more detailed
information, consult your Unix manpages.

New in version 3.3.

The following scheduling policies are exposed if they are supported by the
operating system.


¶
The default scheduling policy.



¶
Scheduling policy for CPU-intensive processes that tries to preserve
interactivity on the rest of the computer.



¶
Scheduling policy for extremely low priority background tasks.



¶
Scheduling policy for sporadic server programs.



¶
A First In First Out scheduling policy.



¶
A round-robin scheduling policy.



¶
This flag can be OR’ed with any other scheduling policy. When a process with
this flag set forks, its child’s scheduling policy and priority are reset to
the default.



class (sched_priority)¶
This class represents tunable scheduling parameters used in
, , and
. It is immutable.
At the moment, there is only one possible parameter:


¶
The scheduling priority for a scheduling policy.




(policy)¶
Get the minimum priority value for policy. policy is one of the
scheduling policy constants above.



(policy)¶
Get the maximum priority value for policy. policy is one of the
scheduling policy constants above.



(pid, policy, param)¶
Set the scheduling policy for the process with PID pid. A pid of 0 means
the calling process. policy is one of the scheduling policy constants
above. param is a  instance.



(pid)¶
Return the scheduling policy for the process with PID pid. A pid of 0
means the calling process. The result is one of the scheduling policy
constants above.



(pid, param)¶
Set a scheduling parameters for the process with PID pid. A pid of 0 means
the calling process. param is a  instance.



(pid)¶
Return the scheduling parameters as a  instance for the
process with PID pid. A pid of 0 means the calling process.



(pid)¶
Return the round-robin quantum in seconds for the process with PID pid. A
pid of 0 means the calling process.



()¶
Voluntarily relinquish the CPU.



(pid, mask)¶
Restrict the process with PID pid (or the current process if zero) to a
set of CPUs.  mask is an iterable of integers representing the set of
CPUs to which the process should be restricted.



(pid)¶
Return the set of CPUs the process with PID pid (or the current process
if zero) is restricted to.



Miscellaneous System Information¶


(name)¶
Return string-valued system configuration values. name specifies the
configuration value to retrieve; it may be a string which is the name of a
defined system value; these names are specified in a number of standards (POSIX,
Unix 95, Unix 98, and others).  Some platforms define additional names as well.
The names known to the host operating system are given as the keys of the
 dictionary.  For configuration variables not included in that
mapping, passing an integer for name is also accepted.
If the configuration value specified by name isn’t defined,  is
returned.
If name is a string and is not known,  is raised.  If a
specific value for name is not supported by the host system, even if it is
included in , an  is raised with
 for the error number.
Availability: Unix.



¶
Dictionary mapping names accepted by  to the integer values
defined for those names by the host operating system. This can be used to
determine the set of names known to the system.
Availability: Unix.



()¶
Return the number of CPUs in the system. Returns  if undetermined.
This number is not equivalent to the number of CPUs the current process can
use.  The number of usable CPUs can be obtained with


New in version 3.4.




()¶
Return the number of processes in the system run queue averaged over the last
1, 5, and 15 minutes or raises  if the load average was
unobtainable.
Availability: Unix.



(name)¶
Return integer-valued system configuration values. If the configuration value
specified by name isn’t defined,  is returned.  The comments regarding
the name parameter for  apply here as well; the dictionary that
provides information on the known names is given by .
Availability: Unix.



¶
Dictionary mapping names accepted by  to the integer values
defined for those names by the host operating system. This can be used to
determine the set of names known to the system.
Availability: Unix.

The following data values are used to support path manipulation operations.  These
are defined for all platforms.
Higher-level operations on pathnames are defined in the  module.


¶
The constant string used by the operating system to refer to the current
directory. This is  for Windows and POSIX. Also available via
.



¶
The constant string used by the operating system to refer to the parent
directory. This is  for Windows and POSIX. Also available via
.



¶
The character used by the operating system to separate pathname components.
This is  for POSIX and  for Windows.  Note that knowing this
is not sufficient to be able to parse or concatenate pathnames — use
 and  — but it is occasionally
useful. Also available via .



¶
An alternative character used by the operating system to separate pathname
components, or  if only one separator character exists.  This is set to
 on Windows systems where  is a backslash. Also available via
.



¶
The character which separates the base filename from the extension; for example,
the  in . Also available via .



¶
The character conventionally used by the operating system to separate search
path components (as in ), such as  for POSIX or  for
Windows. Also available via .



¶
The default search path used by  and
 if the environment doesn’t have a 
key. Also available via .



¶
The string used to separate (or, rather, terminate) lines on the current
platform.  This may be a single character, such as  for POSIX, or
multiple characters, for example,  for Windows. Do not use
os.linesep as a line terminator when writing files opened in text mode (the
default); use a single  instead, on all platforms.



¶
The file path of the null device. For example:  for
POSIX,  for Windows.  Also available via .



¶

¶

¶

¶

¶

¶

¶
Flags for use with the  and
 functions.  See the Unix manual page
dlopen(3) for what the different flags mean.

New in version 3.3.




Random numbers¶


(size, flags=0)¶
Get up to size random bytes. The function can return less bytes than
requested.
These bytes can be used to seed user-space random number generators or for
cryptographic purposes.
 relies on entropy gathered from device drivers and other
sources of environmental noise. Unnecessarily reading large quantities of
data will have a negative impact on  other users  of the  and
 devices.
The flags argument is a bit mask that can contain zero or more of the
following values ORed together:  and
.
See also the Linux getrandom() manual page.
Availability: Linux 3.17 and newer.

New in version 3.6.




(size)¶
Return a string of size random bytes suitable for cryptographic use.
This function returns random bytes from an OS-specific randomness source.  The
returned data should be unpredictable enough for cryptographic applications,
though its exact quality depends on the OS implementation.
On Linux, if the  syscall is available, it is used in
blocking mode: block until the system urandom entropy pool is initialized
(128 bits of entropy are collected by the kernel). See the PEP 524 for
the rationale. On Linux, the  function can be used to get
random bytes in non-blocking mode (using the  flag) or
to poll until the system urandom entropy pool is initialized.
On a Unix-like system, random bytes are read from the 
device. If the  device is not available or not readable, the
 exception is raised.
On Windows, it will use .

See also
The  module provides higher level functions. For an
easy-to-use interface to the random number generator provided by your
platform, please see .


Changed in version 3.6.0: On Linux,  is now used in blocking mode to increase the
security.


Changed in version 3.5.2: On Linux, if the  syscall blocks (the urandom entropy pool
is not initialized yet), fall back on reading .


Changed in version 3.5: On Linux 3.17 and newer, the  syscall is now used
when available.  On OpenBSD 5.6 and newer, the C 
function is now used. These functions avoid the usage of an internal file
descriptor.




¶
By  default, when reading from ,  blocks if
no random bytes are available, and when reading from , it blocks
if the entropy pool has not yet been initialized.
If the  flag is set, then  does not
block in these cases, but instead immediately raises .

New in version 3.6.




¶
If  this  bit  is  set,  then  random bytes are drawn from the
 pool instead of the  pool.

New in version 3.6.



