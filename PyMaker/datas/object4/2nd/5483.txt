link:
library/email.message.html#email.message.EmailMessage.as_string

docs:


(unixfrom=False, maxheaderlen=None, policy=None)¶
Return the entire message flattened as a string.  When optional
unixfrom is true, the envelope header is included in the returned
string.  unixfrom defaults to .  For backward compatibility
with the base  class maxheaderlen is
accepted, but defaults to , which means that by default the line
length is controlled by the
 of the policy.  The
policy argument may be used to override the default policy obtained
from the message instance.  This can be used to control some of the
formatting produced by the method, since the specified policy will be
passed to the .
Flattening the message may trigger changes to the 
if defaults need to be filled in to complete the transformation to a
string (for example, MIME boundaries may be generated or modified).
Note that this method is provided as a convenience and may not be the
most useful way to serialize messages in your application, especially if
you are dealing with multiple messages.  See
 for a more flexible API for
serializing messages.  Note also that this method is restricted to
producing messages serialized as “7 bit clean” when
 is , which is the default.

Changed in version 3.6: the default behavior when maxheaderlen
is not specified was changed from defaulting to 0 to defaulting
to the value of max_line_length from the policy.

