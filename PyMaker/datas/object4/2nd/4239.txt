link:
library/threading.html#using-locks-conditions-and-semaphores-in-the-with-statement

docs:

Using locks, conditions, and semaphores in the  statementÂ¶
All of the objects provided by this module that have  and
 methods can be used as context managers for a 
statement.  The  method will be called when the block is
entered, and  will be called when the block is exited.  Hence,
the following snippet:


is equivalent to:


Currently, , , ,
, and  objects may be used as
 statement context managers.
