link:
library/email.generator.html#email.generator.BytesGenerator.flatten

docs:


(msg, unixfrom=False, linesep=None)Â¶
Print the textual representation of the message object structure rooted
at msg to the output file specified when the 
instance was created.
If the  option 
is  (the default), copy any headers in the original parsed
message that have not been modified to the output with any bytes with the
high bit set reproduced as in the original, and preserve the non-ASCII
Content-Transfer-Encoding of any body parts that have them.
If  is , convert the bytes with the high bit set as
needed using an ASCII-compatible Content-Transfer-Encoding.
That is, transform parts with non-ASCII
Content-Transfer-Encoding
(Content-Transfer-Encoding: 8bit) to an ASCII compatible
Content-Transfer-Encoding, and encode RFC-invalid non-ASCII
bytes in headers using the MIME  character set, thus
rendering them RFC-compliant.
If unixfrom is , print the envelope header delimiter used by
the Unix mailbox format (see ) before the first of the
RFC 5322 headers of the root message object.  If the root object has
no envelope header, craft a standard one.  The default is .
Note that for subparts, no envelope header is ever printed.
If linesep is not , use it as the separator character between
all the lines of the flattened message.  If linesep is  (the
default), use the value specified in the policy.
