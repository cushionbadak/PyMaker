link:
library/smtplib.html#smtplib.SMTP.auth

docs:


(mechanism, authobject, *, initial_response_ok=True)¶
Issue an   command for the specified authentication
mechanism, and handle the challenge response via authobject.
mechanism specifies which authentication mechanism is to
be used as argument to the  command; the valid values are
those listed in the  element of .
authobject must be a callable object taking an optional single argument:

data = authobject(challenge=None)
If optional keyword argument initial_response_ok is true,
 will be called first with no argument.  It can return the
RFC 4954 “initial response” ASCII  which will be encoded and sent with
the  command as below.  If the  does not support an
initial response (e.g. because it requires a challenge), it should return
 when called with .  If initial_response_ok is
false, then  will not be called first with .
If the initial response check returns , or if initial_response_ok is
false,  will be called to process the server’s challenge
response; the challenge argument it is passed will be a .  It
should return ASCII  data that will be base64 encoded and sent to the
server.
The  class provides  for the , ,
and  mechanisms; they are named ,
, and  respectively.  They all require
that the  and  properties of the  instance are
set to appropriate values.
User code does not normally need to call  directly, but can instead
call the  method, which will try each of the above mechanisms
in turn, in the order listed.   is exposed to facilitate the
implementation of authentication methods not (or not yet) supported
directly by .

New in version 3.5.

