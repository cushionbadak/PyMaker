link:
library/os.html#process-management

docs:

Process Management¶
These functions may be used to create and manage processes.
The various  functions take a list of arguments for the new
program loaded into the process.  In each case, the first of these arguments is
passed to the new program as its own name rather than as an argument a user may
have typed on a command line.  For the C programmer, this is the 
passed to a program’s .  For example,  will only print  on standard output;  will seem
to be ignored.


()¶
Generate a  signal to the current process.  On Unix, the default
behavior is to produce a core dump; on Windows, the process immediately returns
an exit code of .  Be aware that calling this function will not call the
Python signal handler registered for  with
.



(path, arg0, arg1, ...)¶

(path, arg0, arg1, ..., env)¶

(file, arg0, arg1, ...)¶

(file, arg0, arg1, ..., env)¶

(path, args)¶

(path, args, env)¶

(file, args)¶

(file, args, env)¶
These functions all execute a new program, replacing the current process; they
do not return.  On Unix, the new executable is loaded into the current process,
and will have the same process id as the caller.  Errors will be reported as
 exceptions.
The current process is replaced immediately. Open file objects and
descriptors are not flushed, so if there may be data buffered
on these open files, you should flush them using
 or  before calling an
 function.
The “l” and “v” variants of the  functions differ in how
command-line arguments are passed.  The “l” variants are perhaps the easiest
to work with if the number of parameters is fixed when the code is written; the
individual parameters simply become additional parameters to the 
functions.  The “v” variants are good when the number of parameters is
variable, with the arguments being passed in a list or tuple as the args
parameter.  In either case, the arguments to the child process should start with
the name of the command being run, but this is not enforced.
The variants which include a “p” near the end (,
, , and ) will use the
 environment variable to locate the program file.  When the
environment is being replaced (using one of the  variants,
discussed in the next paragraph), the new environment is used as the source of
the  variable. The other variants, , ,
, and , will not use the  variable to
locate the executable; path must contain an appropriate absolute or relative
path.
For , , , and  (note
that these all end in “e”), the env parameter must be a mapping which is
used to define the environment variables for the new process (these are used
instead of the current process’ environment); the functions ,
, , and  all cause the new process to
inherit the environment of the current process.
For  on some platforms, path may also be specified as an open
file descriptor.  This functionality may not be supported on your platform;
you can check whether or not it is available using .
If it is unavailable, using it will raise a .
Availability: Unix, Windows.

New in version 3.3: Added support for specifying an open file descriptor for path
for .


Changed in version 3.6: Accepts a path-like object.




(n)¶
Exit the process with status n, without calling cleanup handlers, flushing
stdio buffers, etc.

Note
The standard way to exit is .   should
normally only be used in the child process after a .


The following exit codes are defined and can be used with ,
although they are not required.  These are typically used for system programs
written in Python, such as a mail server’s external command delivery program.

Note
Some of these may not be available on all Unix platforms, since there is some
variation.  These constants are defined where they are defined by the underlying
platform.



¶
Exit code that means no error occurred.
Availability: Unix.



¶
Exit code that means the command was used incorrectly, such as when the wrong
number of arguments are given.
Availability: Unix.



¶
Exit code that means the input data was incorrect.
Availability: Unix.



¶
Exit code that means an input file did not exist or was not readable.
Availability: Unix.



¶
Exit code that means a specified user did not exist.
Availability: Unix.



¶
Exit code that means a specified host did not exist.
Availability: Unix.



¶
Exit code that means that a required service is unavailable.
Availability: Unix.



¶
Exit code that means an internal software error was detected.
Availability: Unix.



¶
Exit code that means an operating system error was detected, such as the
inability to fork or create a pipe.
Availability: Unix.



¶
Exit code that means some system file did not exist, could not be opened, or had
some other kind of error.
Availability: Unix.



¶
Exit code that means a user specified output file could not be created.
Availability: Unix.



¶
Exit code that means that an error occurred while doing I/O on some file.
Availability: Unix.



¶
Exit code that means a temporary failure occurred.  This indicates something
that may not really be an error, such as a network connection that couldn’t be
made during a retryable operation.
Availability: Unix.



¶
Exit code that means that a protocol exchange was illegal, invalid, or not
understood.
Availability: Unix.



¶
Exit code that means that there were insufficient permissions to perform the
operation (but not intended for file system problems).
Availability: Unix.



¶
Exit code that means that some kind of configuration error occurred.
Availability: Unix.



¶
Exit code that means something like “an entry was not found”.
Availability: Unix.



()¶
Fork a child process.  Return  in the child and the child’s process id in the
parent.  If an error occurs  is raised.
Note that some platforms including FreeBSD <= 6.3 and Cygwin have
known issues when using fork() from a thread.

Warning
See  for applications that use the SSL module with fork().

Availability: Unix.



()¶
Fork a child process, using a new pseudo-terminal as the child’s controlling
terminal. Return a pair of , where pid is  in the child, the
new child’s process id in the parent, and fd is the file descriptor of the
master end of the pseudo-terminal.  For a more portable approach, use the
 module.  If an error occurs  is raised.
Availability: some flavors of Unix.



(pid, sig)¶
Send signal sig to the process pid.  Constants for the specific signals
available on the host platform are defined in the  module.
Windows: The  and
 signals are special signals which can
only be sent to console processes which share a common console window,
e.g., some subprocesses. Any other value for sig will cause the process
to be unconditionally killed by the TerminateProcess API, and the exit code
will be set to sig. The Windows version of  additionally takes
process handles to be killed.
See also .

New in version 3.2: Windows support.




(pgid, sig)¶
Send the signal sig to the process group pgid.
Availability: Unix.



(increment)¶
Add increment to the process’s “niceness”.  Return the new niceness.
Availability: Unix.



(op)¶
Lock program segments into memory.  The value of op (defined in
) determines which segments are locked.
Availability: Unix.



(cmd, mode='r', buffering=-1)¶
Open a pipe to or from command cmd.
The return value is an open file object
connected to the pipe, which can be read or written depending on whether mode
is  (default) or . The buffering argument has the same meaning as
the corresponding argument to the built-in  function. The
returned file object reads or writes text strings rather than bytes.
The  method returns  if the subprocess exited
successfully, or the subprocess’s return code if there was an
error. On POSIX systems, if the return code is positive it
represents the return value of the process left-shifted by one
byte.  If the return code is negative, the process was terminated
by the signal given by the negated value of the return code.  (For
example, the return value might be  if the
subprocess was killed.)  On Windows systems, the return value
contains the signed integer return code from the child process.
This is implemented using ; see that class’s
documentation for more powerful ways to manage and communicate with
subprocesses.



(*, before=None, after_in_parent=None, after_in_child=None)¶
Register callables to be executed when a new child process is forked
using  or similar process cloning APIs.
The parameters are optional and keyword-only.
Each specifies a different call point.

before is a function called before forking a child process.
after_in_parent is a function called from the parent process
after forking a child process.
after_in_child is a function called from the child process.

These calls are only made if control is expected to return to the
Python interpreter.  A typical  launch will not
trigger them as the child is not going to re-enter the interpreter.
Functions registered for execution before forking are called in
reverse registration order.  Functions registered for execution
after forking (either in the parent or in the child) are called
in registration order.
Note that  calls made by third-party C code may not
call those functions, unless it explicitly calls ,
 and .
There is no way to unregister a function.
Availability: Unix.

New in version 3.7.




(mode, path, ...)¶

(mode, path, ..., env)¶

(mode, file, ...)¶

(mode, file, ..., env)¶

(mode, path, args)¶

(mode, path, args, env)¶

(mode, file, args)¶

(mode, file, args, env)¶
Execute the program path in a new process.
(Note that the  module provides more powerful facilities for
spawning new processes and retrieving their results; using that module is
preferable to using these functions.  Check especially the
Replacing Older Functions with the subprocess Module section.)
If mode is , this function returns the process id of the new
process; if mode is , returns the process’s exit code if it
exits normally, or , where signal is the signal that killed the
process.  On Windows, the process id will actually be the process handle, so can
be used with the  function.
The “l” and “v” variants of the  functions differ in how
command-line arguments are passed.  The “l” variants are perhaps the easiest
to work with if the number of parameters is fixed when the code is written; the
individual parameters simply become additional parameters to the
 functions.  The “v” variants are good when the number of
parameters is variable, with the arguments being passed in a list or tuple as
the args parameter.  In either case, the arguments to the child process must
start with the name of the command being run.
The variants which include a second “p” near the end (,
, , and ) will use the
 environment variable to locate the program file.  When the
environment is being replaced (using one of the  variants,
discussed in the next paragraph), the new environment is used as the source of
the  variable.  The other variants, ,
, , and , will not use the
 variable to locate the executable; path must contain an
appropriate absolute or relative path.
For , , , and 
(note that these all end in “e”), the env parameter must be a mapping
which is used to define the environment variables for the new process (they are
used instead of the current process’ environment); the functions
, , , and  all cause
the new process to inherit the environment of the current process.  Note that
keys and values in the env dictionary must be strings; invalid keys or
values will cause the function to fail, with a return value of .
As an example, the following calls to  and  are
equivalent:


Availability: Unix, Windows.  , , 
and  are not available on Windows.   and
 are not thread-safe on Windows; we advise you to use the
 module instead.

Changed in version 3.6: Accepts a path-like object.




¶

¶
Possible values for the mode parameter to the  family of
functions.  If either of these values is given, the  functions
will return as soon as the new process has been created, with the process id as
the return value.
Availability: Unix, Windows.



¶
Possible value for the mode parameter to the  family of
functions.  If this is given as mode, the  functions will not
return until the new process has run to completion and will return the exit code
of the process the run is successful, or  if a signal kills the
process.
Availability: Unix, Windows.



¶

¶
Possible values for the mode parameter to the  family of
functions.  These are less portable than those listed above. 
is similar to , but the new process is detached from the
console of the calling process. If  is used, the current
process will be replaced; the  function will not return.
Availability: Windows.



(path[, operation])¶
Start a file with its associated application.
When operation is not specified or , this acts like double-clicking
the file in Windows Explorer, or giving the file name as an argument to the
start command from the interactive command shell: the file is opened
with whatever application (if any) its extension is associated.
When another operation is given, it must be a “command verb” that specifies
what should be done with the file. Common verbs documented by Microsoft are
 and   (to be used on files) as well as  and
 (to be used on directories).
 returns as soon as the associated application is launched.
There is no option to wait for the application to close, and no way to retrieve
the application’s exit status.  The path parameter is relative to the current
directory.  If you want to use an absolute path, make sure the first character
is not a slash (); the underlying Win32  function
doesn’t work if it is.  Use the  function to ensure that
the path is properly encoded for Win32.
To reduce interpreter startup overhead, the Win32 
function is not resolved until this function is first called.  If the function
cannot be resolved,  will be raised.
Availability: Windows.



(command)¶
Execute the command (a string) in a subshell.  This is implemented by calling
the Standard C function , and has the same limitations.
Changes to , etc. are not reflected in the environment of
the executed command. If command generates any output, it will be sent to
the interpreter standard output stream.
On Unix, the return value is the exit status of the process encoded in the
format specified for .  Note that POSIX does not specify the
meaning of the return value of the C  function, so the return
value of the Python function is system-dependent.
On Windows, the return value is that returned by the system shell after
running command.  The shell is given by the Windows environment variable
: it is usually cmd.exe, which returns the exit
status of the command run; on systems using a non-native shell, consult your
shell documentation.
The  module provides more powerful facilities for spawning
new processes and retrieving their results; using that module is preferable
to using this function.  See the Replacing Older Functions with the subprocess Module section in
the  documentation for some helpful recipes.
Availability: Unix, Windows.



()¶
Returns the current global process times.
The return value is an object with five attributes:

 - user time
 - system time
 - user time of all child processes
 - system time of all child processes
 - elapsed real time since a fixed point in the past

For backwards compatibility, this object also behaves like a five-tuple
containing , , ,
, and  in that order.
See the Unix manual page
times(2) or the corresponding Windows Platform API documentation.
On Windows, only  and  are known; the other
attributes are zero.
Availability: Unix, Windows.

Changed in version 3.3: Return type changed from a tuple to a tuple-like object
with named attributes.




()¶
Wait for completion of a child process, and return a tuple containing its pid
and exit status indication: a 16-bit number, whose low byte is the signal number
that killed the process, and whose high byte is the exit status (if the signal
number is zero); the high bit of the low byte is set if a core file was
produced.
Availability: Unix.



(idtype, id, options)¶
Wait for the completion of one or more child processes.
idtype can be ,  or .
id specifies the pid to wait on.
options is constructed from the ORing of one or more of ,
 or  and additionally may be ORed with
 or . The return value is an object
representing the data contained in the  structure, namely:
, , , ,
 or  if  is specified and there are no
children in a waitable state.
Availability: Unix.

New in version 3.3.




¶

¶

¶
These are the possible values for idtype in . They affect
how id is interpreted.
Availability: Unix.

New in version 3.3.




¶

¶

¶
Flags that can be used in options in  that specify what
child signal to wait for.
Availability: Unix.

New in version 3.3.




¶

¶

¶

¶
These are the possible values for  in the result returned by
.
Availability: Unix.

New in version 3.3.




(pid, options)¶
The details of this function differ on Unix and Windows.
On Unix: Wait for completion of a child process given by process id pid, and
return a tuple containing its process id and exit status indication (encoded as
for ).  The semantics of the call are affected by the value of the
integer options, which should be  for normal operation.
If pid is greater than ,  requests status information for
that specific process.  If pid is , the request is for the status of any
child in the process group of the current process.  If pid is , the
request pertains to any child of the current process.  If pid is less than
, status is requested for any process in the process group  (the
absolute value of pid).
An  is raised with the value of errno when the syscall
returns -1.
On Windows: Wait for completion of a process given by process handle pid, and
return a tuple containing pid, and its exit status shifted left by 8 bits
(shifting makes cross-platform use of the function easier). A pid less than or
equal to  has no special meaning on Windows, and raises an exception. The
value of integer options has no effect. pid can refer to any process whose
id is known, not necessarily a child process. The 
functions called with  return suitable process handles.

Changed in version 3.5: If the system call is interrupted and the signal handler does not raise an
exception, the function now retries the system call instead of raising an
 exception (see PEP 475 for the rationale).




(options)¶
Similar to , except no process id argument is given and a
3-element tuple containing the child’s process id, exit status indication,
and resource usage information is returned.  Refer to
. for details on resource usage
information.  The option argument is the same as that provided to
 and .
Availability: Unix.



(pid, options)¶
Similar to , except a 3-element tuple, containing the child’s
process id, exit status indication, and resource usage information is returned.
Refer to . for details on
resource usage information.  The arguments to  are the same
as those provided to .
Availability: Unix.



¶
The option for  to return immediately if no child process status
is available immediately. The function returns  in this case.
Availability: Unix.



¶
This option causes child processes to be reported if they have been continued
from a job control stop since their status was last reported.
Availability: some Unix systems.



¶
This option causes child processes to be reported if they have been stopped but
their current state has not been reported since they were stopped.
Availability: Unix.

The following functions take a process status code as returned by
, , or  as a parameter.  They may be
used to determine the disposition of a process.


(status)¶
Return  if a core dump was generated for the process, otherwise
return .
Availability: Unix.



(status)¶
Return  if the process has been continued from a job control stop,
otherwise return .
Availability: Unix.



(status)¶
Return  if the process has been stopped, otherwise return
.
Availability: Unix.



(status)¶
Return  if the process exited due to a signal, otherwise return
.
Availability: Unix.



(status)¶
Return  if the process exited using the exit(2) system call,
otherwise return .
Availability: Unix.



(status)¶
If  is true, return the integer parameter to the
exit(2) system call.  Otherwise, the return value is meaningless.
Availability: Unix.



(status)¶
Return the signal which caused the process to stop.
Availability: Unix.



(status)¶
Return the signal which caused the process to exit.
Availability: Unix.

