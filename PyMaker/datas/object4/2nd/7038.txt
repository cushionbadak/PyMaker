link:
library/smtplib.html#smtplib.SMTP.send_message

docs:


(msg, from_addr=None, to_addrs=None, mail_options=(), rcpt_options=())Â¶
This is a convenience method for calling  with the message
represented by an  object.  The arguments have
the same meaning as for , except that msg is a 
object.
If from_addr is  or to_addrs is ,  fills
those arguments with addresses extracted from the headers of msg as
specified in RFC 5322: from_addr is set to the Sender
field if it is present, and otherwise to the From field.
to_addrs combines the values (if any) of the To,
Cc, and Bcc fields from msg.  If exactly one
set of Resent-* headers appear in the message, the regular
headers are ignored and the Resent-* headers are used instead.
If the message contains more than one set of Resent-* headers,
a  is raised, since there is no way to unambiguously detect
the most recent set of Resent- headers.
 serializes msg using
 with  as the linesep, and
calls  to transmit the resulting message.  Regardless of the
values of from_addr and to_addrs,  does not transmit any
Bcc or Resent-Bcc headers that may appear
in msg.  If any of the addresses in from_addr and to_addrs contain
non-ASCII characters and the server does not advertise  support,
an  error is raised.  Otherwise the  is
serialized with a clone of its  with the
 attribute set to , and
 and  are added to mail_options.

New in version 3.2.


New in version 3.5: Support for internationalized addresses ().

