link:
library/http.cookiejar.html#defaultcookiepolicy-objects

docs:

DefaultCookiePolicy Objects¶
Implements the standard rules for accepting and returning cookies.
Both RFC 2965 and Netscape cookies are covered.  RFC 2965 handling is switched
off by default.
The easiest way to provide your own policy is to override this class and call
its methods in your overridden implementations before adding your own additional
checks:


In addition to the features required to implement the 
interface, this class allows you to block and allow domains from setting and
receiving cookies.  There are also some strictness switches that allow you to
tighten up the rather loose Netscape protocol rules a little bit (at the cost of
blocking some benign cookies).
A domain blacklist and whitelist is provided (both off by default). Only domains
not in the blacklist and present in the whitelist (if the whitelist is active)
participate in cookie setting and returning.  Use the blocked_domains
constructor argument, and  and
 methods (and the corresponding argument and methods
for allowed_domains).  If you set a whitelist, you can turn it off again by
setting it to .
Domains in block or allow lists that do not start with a dot must equal the
cookie domain to be matched.  For example,  matches a blacklist
entry of , but  does not.  Domains that do
start with a dot are matched by more specific domains too. For example, both
 and  match 
(but  itself does not).  IP addresses are an exception, and
must match exactly.  For example, if blocked_domains contains 
and , 192.168.1.2 is blocked, but 193.168.1.2 is not.
 implements the following additional methods:


()¶
Return the sequence of blocked domains (as a tuple).



(blocked_domains)¶
Set the sequence of blocked domains.



(domain)¶
Return whether domain is on the blacklist for setting or receiving cookies.



()¶
Return , or the sequence of allowed domains (as a tuple).



(allowed_domains)¶
Set the sequence of allowed domains, or .



(domain)¶
Return whether domain is not on the whitelist for setting or receiving
cookies.

 instances have the following attributes, which are
all initialised from the constructor arguments of the same name, and which may
all be assigned to.


¶
If true, request that the  instance downgrade RFC 2109 cookies
(ie. cookies received in a Set-Cookie header with a version
cookie-attribute of 1) to Netscape cookies by setting the version attribute of
the  instance to 0.  The default value is , in which
case RFC 2109 cookies are downgraded if and only if RFC 2965 handling is turned
off.  Therefore, RFC 2109 cookies are downgraded by default.

General strictness switches:


¶
Don’t allow sites to set two-component domains with country-code top-level
domains like , , .etc.  This is far from perfect
and isn’t guaranteed to work!

RFC 2965 protocol strictness switches:


¶
Follow RFC 2965 rules on unverifiable transactions (usually, an unverifiable
transaction is one resulting from a redirect or a request for an image hosted on
another site).  If this is false, cookies are never blocked on the basis of
verifiability

Netscape protocol strictness switches:


¶
Apply RFC 2965 rules on unverifiable transactions even to Netscape cookies.



¶
Flags indicating how strict to be with domain-matching rules for Netscape
cookies.  See below for acceptable values.



¶
Ignore cookies in Set-Cookie: headers that have names starting with .



¶
Don’t allow setting cookies whose path doesn’t path-match request URI.

 is a collection of flags.  Its value is constructed by
or-ing together (for example,  means
both flags are set).


¶
When setting cookies, the ‘host prefix’ must not contain a dot (eg.
 can’t set a cookie for , because 
contains a dot).



¶
Cookies that did not explicitly specify a  cookie-attribute can only
be returned to a domain equal to the domain that set the cookie (eg.
 won’t be returned cookies from  that had no
 cookie-attribute).



¶
When setting cookies, require a full RFC 2965 domain-match.

The following attributes are provided for convenience, and are the most useful
combinations of the above flags:


¶
Equivalent to 0 (ie. all of the above Netscape domain strictness flags switched
off).



¶
Equivalent to .

