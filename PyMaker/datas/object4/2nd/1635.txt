link:
library/decimal.html#decimal-objects

docs:

Decimal objects¶


class (value="0", context=None)¶
Construct a new  object based from value.
value can be an integer, string, tuple, , or another 
object. If no value is given, returns .  If value is a
string, it should conform to the decimal numeric string syntax after leading
and trailing whitespace characters, as well as underscores throughout, are removed:


Other Unicode decimal digits are also permitted where 
appears above.  These include decimal digits from various other
alphabets (for example, Arabic-Indic and Devanāgarī digits) along
with the fullwidth digits  through .
If value is a , it should have three components, a sign
( for positive or  for negative), a  of
digits, and an integer exponent. For example, 
returns .
If value is a , the binary floating point value is losslessly
converted to its exact decimal equivalent.  This conversion can often require
53 or more digits of precision.  For example, 
converts to
.
The context precision does not affect how many digits are stored. That is
determined exclusively by the number of digits in value. For example,
 records all five zeros even if the context precision is
only three.
The purpose of the context argument is determining what to do if value is a
malformed string.  If the context traps , an exception
is raised; otherwise, the constructor returns a new Decimal with the value of
.
Once constructed,  objects are immutable.

Changed in version 3.2: The argument to the constructor is now permitted to be a 
instance.


Changed in version 3.3:  arguments raise an exception if the 
trap is set. By default the trap is off.


Changed in version 3.6: Underscores are allowed for grouping, as with integral and floating-point
literals in code.

Decimal floating point objects share many properties with the other built-in
numeric types such as  and .  All of the usual math
operations and special methods apply.  Likewise, decimal objects can be
copied, pickled, printed, used as dictionary keys, used as set elements,
compared, sorted, and coerced to another type (such as  or
).
There are some small differences between arithmetic on Decimal objects and
arithmetic on integers and floats.  When the remainder operator  is
applied to Decimal objects, the sign of the result is the sign of the
dividend rather than the sign of the divisor:


The integer division operator  behaves analogously, returning the
integer part of the true quotient (truncating towards zero) rather than its
floor, so as to preserve the usual identity :


The  and  operators implement the  and
 operations (respectively) as described in the
specification.
Decimal objects cannot generally be combined with floats or
instances of  in arithmetic operations:
an attempt to add a  to a , for
example, will raise a .  However, it is possible to
use Python’s comparison operators to compare a 
instance  with another number .  This avoids confusing results
when doing equality comparisons between numbers of different types.

Changed in version 3.2: Mixed-type comparisons between  instances and other
numeric types are now fully supported.

In addition to the standard numeric properties, decimal floating point
objects also have a number of specialized methods:


()¶
Return the adjusted exponent after shifting out the coefficient’s
rightmost digits until only the lead digit remains:
 returns seven.  Used for determining the
position of the most significant digit with respect to the decimal point.



()¶
Return a pair  of integers that represent the given
 instance as a fraction, in lowest terms and
with a positive denominator:


The conversion is exact.  Raise OverflowError on infinities and ValueError
on NaNs.


New in version 3.6.



()¶
Return a named tuple representation of the number:
.



()¶
Return the canonical encoding of the argument.  Currently, the encoding of
a  instance is always canonical, so this operation returns
its argument unchanged.



(other, context=None)¶
Compare the values of two Decimal instances.   returns a
Decimal instance, and if either operand is a NaN then the result is a
NaN:





(other, context=None)¶
This operation is identical to the  method, except that all
NaNs signal.  That is, if neither operand is a signaling NaN then any
quiet NaN operand is treated as though it were a signaling NaN.



(other, context=None)¶
Compare two operands using their abstract representation rather than their
numerical value.  Similar to the  method, but the result
gives a total ordering on  instances.  Two
 instances with the same numeric value but different
representations compare unequal in this ordering:


Quiet and signaling NaNs are also included in the total ordering.  The
result of this function is  if both operands have the same
representation,  if the first operand is lower in the
total order than the second, and  if the first operand is
higher in the total order than the second operand.  See the specification
for details of the total order.
This operation is unaffected by context and is quiet: no flags are changed
and no rounding is performed.  As an exception, the C version may raise
InvalidOperation if the second operand cannot be converted exactly.



(other, context=None)¶
Compare two operands using their abstract representation rather than their
value as in , but ignoring the sign of each operand.
 is equivalent to
.
This operation is unaffected by context and is quiet: no flags are changed
and no rounding is performed.  As an exception, the C version may raise
InvalidOperation if the second operand cannot be converted exactly.



()¶
Just returns self, this method is only to comply with the Decimal
Specification.



()¶
Return the absolute value of the argument.  This operation is unaffected
by the context and is quiet: no flags are changed and no rounding is
performed.



()¶
Return the negation of the argument.  This operation is unaffected by the
context and is quiet: no flags are changed and no rounding is performed.



(other, context=None)¶
Return a copy of the first operand with the sign set to be the same as the
sign of the second operand.  For example:


This operation is unaffected by context and is quiet: no flags are changed
and no rounding is performed.  As an exception, the C version may raise
InvalidOperation if the second operand cannot be converted exactly.



(context=None)¶
Return the value of the (natural) exponential function  at the
given number.  The result is correctly rounded using the
 rounding mode.





(f)¶
Classmethod that converts a float to a decimal number, exactly.
Note Decimal.from_float(0.1) is not the same as Decimal(‘0.1’).
Since 0.1 is not exactly representable in binary floating point, the
value is stored as the nearest representable value which is
0x1.999999999999ap-4.  That equivalent value in decimal is
0.1000000000000000055511151231257827021181583404541015625.

Note
From Python 3.2 onwards, a  instance
can also be constructed directly from a .




New in version 3.1.




(other, third, context=None)¶
Fused multiply-add.  Return self*other+third with no rounding of the
intermediate product self*other.





()¶
Return  if the argument is canonical and 
otherwise.  Currently, a  instance is always canonical, so
this operation always returns .



()¶
Return  if the argument is a finite number, and
 if the argument is an infinity or a NaN.



()¶
Return  if the argument is either positive or negative
infinity and  otherwise.



()¶
Return  if the argument is a (quiet or signaling) NaN and
 otherwise.



(context=None)¶
Return  if the argument is a normal finite number.  Return
 if the argument is zero, subnormal, infinite or a NaN.



()¶
Return  if the argument is a quiet NaN, and
 otherwise.



()¶
Return  if the argument has a negative sign and
 otherwise.  Note that zeros and NaNs can both carry signs.



()¶
Return  if the argument is a signaling NaN and 
otherwise.



(context=None)¶
Return  if the argument is subnormal, and 
otherwise.



()¶
Return  if the argument is a (positive or negative) zero and
 otherwise.



(context=None)¶
Return the natural (base e) logarithm of the operand.  The result is
correctly rounded using the  rounding mode.



(context=None)¶
Return the base ten logarithm of the operand.  The result is correctly
rounded using the  rounding mode.



(context=None)¶
For a nonzero number, return the adjusted exponent of its operand as a
 instance.  If the operand is a zero then
 is returned and the  flag
is raised.  If the operand is an infinity then  is
returned.



(other, context=None)¶
 is a logical operation which takes two logical
operands (see Logical operands).  The result is the
digit-wise  of the two operands.



(context=None)¶
 is a logical operation.  The
result is the digit-wise inversion of the operand.



(other, context=None)¶
 is a logical operation which takes two logical
operands (see Logical operands).  The result is the
digit-wise  of the two operands.



(other, context=None)¶
 is a logical operation which takes two logical
operands (see Logical operands).  The result is the
digit-wise exclusive or of the two operands.



(other, context=None)¶
Like  except that the context rounding rule is applied
before returning and that  values are either signaled or
ignored (depending on the context and whether they are signaling or
quiet).



(other, context=None)¶
Similar to the  method, but the comparison is done using the
absolute values of the operands.



(other, context=None)¶
Like  except that the context rounding rule is applied
before returning and that  values are either signaled or
ignored (depending on the context and whether they are signaling or
quiet).



(other, context=None)¶
Similar to the  method, but the comparison is done using the
absolute values of the operands.



(context=None)¶
Return the largest number representable in the given context (or in the
current thread’s context if no context is given) that is smaller than the
given operand.



(context=None)¶
Return the smallest number representable in the given context (or in the
current thread’s context if no context is given) that is larger than the
given operand.



(other, context=None)¶
If the two operands are unequal, return the number closest to the first
operand in the direction of the second operand.  If both operands are
numerically equal, return a copy of the first operand with the sign set to
be the same as the sign of the second operand.



(context=None)¶
Normalize the number by stripping the rightmost trailing zeros and
converting any result equal to  to
. Used for producing canonical values for attributes
of an equivalence class. For example,  and
 both normalize to the equivalent value
.



(context=None)¶
Return a string describing the class of the operand.  The returned value
is one of the following ten strings.

, indicating that the operand is negative infinity.
, indicating that the operand is a negative normal number.
, indicating that the operand is negative and subnormal.
, indicating that the operand is a negative zero.
, indicating that the operand is a positive zero.
, indicating that the operand is positive and subnormal.
, indicating that the operand is a positive normal number.
, indicating that the operand is positive infinity.
, indicating that the operand is a quiet NaN (Not a Number).
, indicating that the operand is a signaling NaN.




(exp, rounding=None, context=None)¶
Return a value equal to the first operand after rounding and having the
exponent of the second operand.


Unlike other operations, if the length of the coefficient after the
quantize operation would be greater than precision, then an
 is signaled. This guarantees that, unless there
is an error condition, the quantized exponent is always equal to that of
the right-hand operand.
Also unlike other operations, quantize never signals Underflow, even if
the result is subnormal and inexact.
If the exponent of the second operand is larger than that of the first
then rounding may be necessary.  In this case, the rounding mode is
determined by the  argument if given, else by the given
 argument; if neither argument is given the rounding mode of
the current thread’s context is used.
An error is returned whenever the resulting exponent is greater than
 or less than .



()¶
Return , the radix (base) in which the 
class does all its arithmetic.  Included for compatibility with the
specification.



(other, context=None)¶
Return the remainder from dividing self by other.  This differs from
 in that the sign of the remainder is chosen so as to
minimize its absolute value.  More precisely, the return value is
 where  is the integer nearest to the exact
value of , and if two integers are equally near then the
even one is chosen.
If the result is zero then its sign will be the sign of self.





(other, context=None)¶
Return the result of rotating the digits of the first operand by an amount
specified by the second operand.  The second operand must be an integer in
the range -precision through precision.  The absolute value of the second
operand gives the number of places to rotate.  If the second operand is
positive then rotation is to the left; otherwise rotation is to the right.
The coefficient of the first operand is padded on the left with zeros to
length precision if necessary.  The sign and exponent of the first operand
are unchanged.



(other, context=None)¶
Test whether self and other have the same exponent or whether both are
.
This operation is unaffected by context and is quiet: no flags are changed
and no rounding is performed.  As an exception, the C version may raise
InvalidOperation if the second operand cannot be converted exactly.



(other, context=None)¶
Return the first operand with exponent adjusted by the second.
Equivalently, return the first operand multiplied by .  The
second operand must be an integer.



(other, context=None)¶
Return the result of shifting the digits of the first operand by an amount
specified by the second operand.  The second operand must be an integer in
the range -precision through precision.  The absolute value of the second
operand gives the number of places to shift.  If the second operand is
positive then the shift is to the left; otherwise the shift is to the
right.  Digits shifted into the coefficient are zeros.  The sign and
exponent of the first operand are unchanged.



(context=None)¶
Return the square root of the argument to full precision.



(context=None)¶
Convert to a string, using engineering notation if an exponent is needed.
Engineering notation has an exponent which is a multiple of 3.  This
can leave up to 3 digits to the left of the decimal place and may
require the addition of either one or two trailing zeros.
For example, this converts  to .



(rounding=None, context=None)¶
Identical to the  method.  The 
name has been kept for compatibility with older versions.



(rounding=None, context=None)¶
Round to the nearest integer, signaling  or
 as appropriate if rounding occurs.  The rounding mode is
determined by the  parameter if given, else by the given
.  If neither parameter is given then the rounding mode of the
current context is used.



(rounding=None, context=None)¶
Round to the nearest integer without signaling  or
.  If given, applies rounding; otherwise, uses the
rounding method in either the supplied context or the current context.



Logical operands¶
The , , ,
and  methods expect their arguments to be logical
operands.  A logical operand is a  instance whose
exponent and sign are both zero, and whose digits are all either
 or .

