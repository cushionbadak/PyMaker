link:
library/itertools.html#itertools-recipes

docs:

Itertools Recipes¶
This section shows recipes for creating an extended toolset using the existing
itertools as building blocks.
The extended tools offer the same high performance as the underlying toolset.
The superior memory performance is kept by processing elements one at a time
rather than bringing the whole iterable into memory all at once. Code volume is
kept small by linking the tools together in a functional style which helps
eliminate temporary variables.  High speed is retained by preferring
“vectorized” building blocks over the use of for-loops and generators
which incur interpreter overhead.


Note, many of the above recipes can be optimized by replacing global lookups
with local variables defined as default values.  For example, the
dotproduct recipe can be written as:


