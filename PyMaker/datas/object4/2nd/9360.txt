link:
library/contextlib.html#reentrant-context-managers

docs:

Reentrant context managers¶
More sophisticated context managers may be “reentrant”. These context
managers can not only be used in multiple  statements,
but may also be used inside a  statement that is already
using the same context manager.
 is an example of a reentrant context manager, as are
 and . Here’s a very simple example of
reentrant use:


Real world examples of reentrancy are more likely to involve multiple
functions calling each other and hence be far more complicated than this
example.
Note also that being reentrant is not the same thing as being thread safe.
, for example, is definitely not thread safe, as it
makes a global modification to the system state by binding 
to a different stream.
