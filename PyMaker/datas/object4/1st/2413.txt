link:
library/sqlite3.html#sqlite3.Connection.set_progress_handler

docs:


set_progress_handler(handler, n)Â¶
This routine registers a callback. The callback is invoked for every n
instructions of the SQLite virtual machine. This is useful if you want to
get called from SQLite during long-running operations, for example to update
a GUI.
If you want to clear any previously installed progress handler, call the
method with None for handler.
Returning a non-zero value from the handler function will terminate the
currently executing query and cause it to raise an OperationalError
exception.
