link:
library/email.message.html#email.message.EmailMessage.as_bytes

docs:


as_bytes(unixfrom=False, policy=None)Â¶
Return the entire message flattened as a bytes object.  When optional
unixfrom is true, the envelope header is included in the returned
string.  unixfrom defaults to False.  The policy argument may be
used to override the default policy obtained from the message instance.
This can be used to control some of the formatting produced by the
method, since the specified policy will be passed to the
BytesGenerator.
Flattening the message may trigger changes to the EmailMessage
if defaults need to be filled in to complete the transformation to a
string (for example, MIME boundaries may be generated or modified).
Note that this method is provided as a convenience and may not be the
most useful way to serialize messages in your application, especially if
you are dealing with multiple messages.  See
email.generator.BytesGenerator for a more flexible API for
serializing messages.
