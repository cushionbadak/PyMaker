link:
library/subprocess.html#replacing-shell-pipeline

docs:

Replacing shell pipeline¶
output=`dmesg | grep hda`


becomes:
p1 = Popen(["dmesg"], stdout=PIPE)
p2 = Popen(["grep", "hda"], stdin=p1.stdout, stdout=PIPE)
p1.stdout.close()  # Allow p1 to receive a SIGPIPE if p2 exits.
output = p2.communicate()[0]


The p1.stdout.close() call after starting the p2 is important in order for p1
to receive a SIGPIPE if p2 exits before p1.
Alternatively, for trusted input, the shell’s own pipeline support may still
be used directly:
output=`dmesg | grep hda`


becomes:
output=check_output("dmesg | grep hda", shell=True)


