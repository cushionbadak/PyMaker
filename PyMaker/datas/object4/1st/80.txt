link:
reference/datamodel.html#customizing-instance-and-subclass-checks

docs:

3.3.4. Customizing instance and subclass checks¶
The following methods are used to override the default behavior of the
isinstance() and issubclass() built-in functions.
In particular, the metaclass abc.ABCMeta implements these methods in
order to allow the addition of Abstract Base Classes (ABCs) as “virtual base
classes” to any class or type (including built-in types), including other
ABCs.


class.__instancecheck__(self, instance)¶
Return true if instance should be considered a (direct or indirect)
instance of class. If defined, called to implement isinstance(instance,
class).



class.__subclasscheck__(self, subclass)¶
Return true if subclass should be considered a (direct or indirect)
subclass of class.  If defined, called to implement issubclass(subclass,
class).

Note that these methods are looked up on the type (metaclass) of a class.  They
cannot be defined as class methods in the actual class.  This is consistent with
the lookup of special methods that are called on instances, only in this
case the instance is itself a class.

See also

PEP 3119 - Introducing Abstract Base Classes
Includes the specification for customizing isinstance() and
issubclass() behavior through __instancecheck__() and
__subclasscheck__(), with motivation for this functionality
in the context of adding Abstract Base Classes (see the abc
module) to the language.


