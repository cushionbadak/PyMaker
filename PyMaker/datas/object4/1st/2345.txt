link:
library/shelve.html#shelve.open

docs:


shelve.open(filename, flag='c', protocol=None, writeback=False)¶
Open a persistent dictionary.  The filename specified is the base filename for
the underlying database.  As a side-effect, an extension may be added to the
filename and more than one file may be created.  By default, the underlying
database file is opened for reading and writing.  The optional flag parameter
has the same interpretation as the flag parameter of dbm.open().
By default, version 3 pickles are used to serialize values.  The version of the
pickle protocol can be specified with the protocol parameter.
Because of Python semantics, a shelf cannot know when a mutable
persistent-dictionary entry is modified.  By default modified objects are
written only when assigned to the shelf (see Example).  If the
optional writeback parameter is set to True, all entries accessed are also
cached in memory, and written back on sync() and
close(); this can make it handier to mutate mutable entries in
the persistent dictionary, but, if many entries are accessed, it can consume
vast amounts of memory for the cache, and it can make the close operation
very slow since all accessed entries are written back (there is no way to
determine which accessed entries are mutable, nor which ones were actually
mutated).

Note
Do not rely on the shelf being closed automatically; always call
close() explicitly when you don’t need it any more, or
use shelve.open() as a context manager:
with shelve.open('spam') as db:
    db['eggs'] = 'eggs'



