link:
library/configparser.html#configparser.ConfigParser.readfp

docs:


readfp(fp, filename=None)¶

Deprecated since version 3.2: Use read_file() instead.


Changed in version 3.2: readfp() now iterates on fp instead of calling fp.readline().

For existing code calling readfp() with arguments which don’t
support iteration, the following generator may be used as a wrapper
around the file-like object:
def readline_generator(fp):
    line = fp.readline()
    while line:
        yield line
        line = fp.readline()


Instead of parser.readfp(fp) use
parser.read_file(readline_generator(fp)).
