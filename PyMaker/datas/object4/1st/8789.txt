link:
library/test.html#test.support.swap_item

docs:


test.support.swap_item(obj, attr, new_val)¶
Context manager to swap out an item with a new object.
Usage:
with swap_item(obj, "item", 5):
    ...


This will set obj["item"] to 5 for the duration of the with block,
restoring the old value at the end of the block. If item doesn’t
exist on obj, it will be created and then deleted at the end of the
block.
The old value (or None if it doesn’t exist) will be assigned to the
target of the “as” clause, if there is one.
