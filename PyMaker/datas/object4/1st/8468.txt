link:
library/unittest.html#unittest.TestCase.assertLogs

docs:

<dt id="unittest.TestCase.assertLogs">
<code class="descname">assertLogs</code><span class="sig-paren">(</span><em>logger=None</em>, <em>level=None</em><span class="sig-paren">)</span><a class="headerlink" href="#unittest.TestCase.assertLogs" title="Permalink to this definition">¶</a></dt>
<dd><p>A context manager to test that at least one message is logged on
the <em>logger</em> or one of its children, with at least the given
<em>level</em>.</p>
<p>If given, <em>logger</em> should be a <a class="reference internal" href="logging.html#logging.Logger" title="logging.Logger"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Logger</span></code></a> object or a
<a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> giving the name of a logger.  The default is the root
logger, which will catch all messages.</p>
<p>If given, <em>level</em> should be either a numeric logging level or
its string equivalent (for example either <code class="docutils literal notranslate"><span class="pre">"ERROR"</span></code> or
<code class="xref py py-attr docutils literal notranslate"><span class="pre">logging.ERROR</span></code>).  The default is <code class="xref py py-attr docutils literal notranslate"><span class="pre">logging.INFO</span></code>.</p>
<p>The test passes if at least one message emitted inside the <code class="docutils literal notranslate"><span class="pre">with</span></code>
block matches the <em>logger</em> and <em>level</em> conditions, otherwise it fails.</p>
<p>The object returned by the context manager is a recording helper
which keeps tracks of the matching log messages.  It has two
attributes:</p>
<dl class="attribute">
<dt id="unittest.TestCase.records">
<code class="descname">records</code><a class="headerlink" href="#unittest.TestCase.records" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="logging.html#logging.LogRecord" title="logging.LogRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.LogRecord</span></code></a> objects of the matching
log messages.</p>
</dd></dl>
<dl class="attribute">
<dt id="unittest.TestCase.output">
<code class="descname">output</code><a class="headerlink" href="#unittest.TestCase.output" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> objects with the formatted output of
matching messages.</p>
</dd></dl>
<p>Example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertLogs</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">'INFO'</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
   <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">'first message'</span><span class="p">)</span>
   <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">'foo.bar'</span><span class="p">)</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">'second message'</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="p">[</span><span class="s1">'INFO:foo:first message'</span><span class="p">,</span>
                             <span class="s1">'ERROR:foo.bar:second message'</span><span class="p">])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</dd>