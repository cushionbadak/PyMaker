Natural Text
I am completely new to Python so please excuse my lack of knowledge.  I am writing a script to create AWS EC2 snapshots and then delete any older snapshots specified in the script.  I took some code from other scripts which appear to have been written in an older Python version (I am using 3.3.2).  When using sort to order the snapshots I am calling a function to compare dates to work out which is the newest and oldest snapshots.  When snapshots.sort(key=date_compare) runs I get the following error:Pretty sure I am doing something very basic wrong but would really appreciate some help to get this working.  Thanks!
your function date_compare takes two arguments, def date_compare(snap1, snap2) -- but the sort function will only ever pass one arg to the function provided to key -- not two items.  The key keyword is used to tell sort on which field to compare within a object; it's not used to actually compare two different objects.  You want to use the cmp keyword to pass a custom compare function.  Pretty sure you just mean to use the cmp keyword instead of key. See this for more: python2: https://docs.python.org/2/library/functions.html#sortedpython3: https://docs.python.org/3/library/functions.html#sortedTo understand the how key function should work, let's take a simpler example to see how this works.  Let's say I have a list of tuples:If I just sort this data I get:However, if I want to sort on the second item of the tuple, I can write a simple function like this:So now it's sorting on the second item.  Note, often a simple lambda function is used to accomplish things like this: which saves you having to define a simple function like this before hand. To use the cmp keyword to accomplish the same sorting it works like this:Last, just note, sorted(seq) is the same as seq.sort() -- takes the same args, kwargs, etc.  Just sorted is a copy whereas seq.sort() is an in-place, destructive operation. 


Answer URL
https://docs.python.org/3/library/functions.html#sorted
