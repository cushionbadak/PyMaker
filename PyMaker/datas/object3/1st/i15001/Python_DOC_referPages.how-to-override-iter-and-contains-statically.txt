Natural Text
I have this code I wrote, to go through all of the primes and print them out.It works fine, but it bugs me that I have to create a Primes object in order to iterate over it. It would make more sense if the second to last line was for x in Primes: and the other line was if count in Primes, but adding either the @classmethod or @staticmethod decorator gives me a argument of type 'classobj' is not iterable error. What's the actual way to do this?
Python looks up special methods on the type of the object. To iterate over a class, you'd have to put the __iter__ method on the metaclass.Just create the instance in the for loop:as creating a metaclass just to produce prime numbers is just too much indirection. It would look like this:For Python 2, you'd create Primes with:instead.You can improve on the generator further by using a sieve; see http://code.activestate.com/recipes/117119/ for an excellent infinite generator implementation.


Answer URL
https://docs.python.org/3/reference/datamodel.html#special-lookup
