Natural Text
I want to format and print data from a dictionary with the keyword unpacking operator **.The format string possibly refers to many keywords and the dictionary may not have all the required keys. For the missing keys, I would like to use the string 'N/A' as a default value.I would like a clever solution for this default-ing problem, possibly using a defaultdict.Here is a first solution using a regular dict.I would like to avoid the explicit assignment of 'N/A' for missing keys.The following solution also uses a regular dict and analyzes the format string to build the list of keywords:This solution with re.findall is not really elegant nor robust since the syntax of format string is much more complex than the above {(\w+)}.The following solution would be my favorite oneâ€¦ if it did not fail for an obvious reason.The problem here is that ** actually unpacks the keywords in data, so format does not search data for the requested keywords and thus does not give data the opportunity to provide its default value.Is there a solution to this ?Eg is there an alternative format function which would actually call data.get(kwd) and thus get the N/As?
Use string.Formatter.vformat() and pass the defaultdict to that.
Good solution using formatter is already givenHowever you are not benefiting from keyword unpacking in this case. You are forced to specify keys you wanted to print in the format string. And dict as intended already maintains the Keyword-Value mappingso for dict like thisusing default value to dict.get()if you want Key Word management in one place (as you did with format string), I would try something like thisor thisthe benefit is, Less imports


Answer URL
