Natural Text
I am writing a Python script that will ask for a file and a name (e.g. "John").  The file contains a whole bunch of lines like this:I want to open this file, ask the user for a name, and replace the pay value for all entries that match that name.  So, for example, the user inputs "John", I want to change the Pay for all "John"s to be, say, 5000.  The Pay value for other names don't change. So far, I've opened up the file and concatenated everything into one long string to make things a bit easier:At first, I was thinking about some sort of string replace but that didn't pan out since I would search for "John" but I don't want to replace the "John", but rather the Pay value that is two lines down.I started using regex instead and came up with something like this.Okay, so that spits out a list of 3-tuples of those groupings and it does seem to find everything fine.  Now, to do the actual replacement...I read on another question here on StackOverflow that I can set the name of a grouping and use that grouping later on...:I tried that to see if it would work and replace all Names with 5000, but it didn't.  If it would then I would probably do a check on the first group to see if it matched the user-inputed name or something.  The other problem is that I read on the Python docs that re.sub only replaces the left-most occurrence.  I want to replace all occurrences.  How do I do that?Now I am a bit loss of what to do so if anyone can help me that would be great!
I don't think that regex is the best solution to this problem. I prefer more general solutions. The other answers depend on one or more of the following things:There are always 4 properties for a person.Every person has the same properties.The properties are always in the same order.If these are true in your case, then regex could be ok.My solution is more verbose, but it isn't depending on these. It handles mixed/missing properties, mixed order, and able to set and get any property value. You could even extend it a little, and support new property or person insertion if you need.My code:
Iterate 4 lines at a time. If the first line contains 'John' edit the line that comes two after. 
The following code will do what you need:


Answer URL
