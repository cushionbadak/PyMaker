Natural Text
Some code has been refactored to make imports direct and there is a bit of a mess with reverted commits etc.. I am getting an ImportError and don't understand the Python import system well enough to know why. Have spent a long time looking at comparisons between branches etc but just can't find what it is..Given the following directory structure, All the __init__.py 's are empty except the one in the our_project/ directory which has some code in it. Would the following at the top of directory3/file7.py work, and not cause an ImportError:Or do you need to write from our_project.directory1 import my_function ?It just feels as if this empty __init__.py is somehow interfering with things..
The top-level package suggested by your folder layout is our_project. That means the folder containing it should be in the Python search path.Then you can do absolute imports from anywhere with from our_project.directory1.file1 import my_function.From the my_project.directory3.file7 module, you could instead use a relative import, from ..directory1.file1 import my_function.The relative import might not work though if you're running file7.py as a script (with e.g. python file7.py on the command line). It's generally a bad idea to run scripts that are in a package by filename, as the interpreter won't be able to tell where they're supposed to be put in the package hierarchy. Instead, use python -m our_project.directory4.file7 to run the module by its absolute name.Here is an link to the python docs which has a nice tutorial where all of it is explained.
The init.py files are just there to tell python to treat that directory as a python package so i believe how you would import depends on which packages is installed on the system (it searches you PYTHONPATH to find installed packages/modules). If just the our_project package in your example is installed you would need to import likeYou could also use an relative import which would work regardless of what is installedThe documentation on packages is here: https://docs.python.org/3/tutorial/modules.html#packagesInfo on the module search path is here:https://docs.python.org/3/tutorial/modules.html#the-module-search-path


Answer URL
https://docs.python.org/3/tutorial/modules.html#intra-package-references
https://docs.python.org/3/tutorial/modules.html#packages
https://docs.python.org/3/tutorial/modules.html#the-module-search-path
