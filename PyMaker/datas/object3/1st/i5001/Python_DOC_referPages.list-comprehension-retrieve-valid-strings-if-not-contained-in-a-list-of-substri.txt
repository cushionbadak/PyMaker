Natural Text
I need to check if a list of filenames can be copied and I check this against a list of fobidden substrings.Here is what I have:And this is what I expect:I already got it working with a list comprehension, like this:Where I create a tuple (f, any([e in f for e in exclude])) checking if there is any correspondence on the filename to the excluding substrings.I do this for every file in the list of files for f in files and include only those that don't exist on the excluding substrings if not a[1].Is there a better way to this? A more pythonic one?Because I'm looping through the file list 2 times and I'm guessing there is a way to this in one go!Thank you!
I don't really understand your logic. Looks like you're building tuples with boolean values, then filter the False values out.It seems to me that this also works and is simpler:it loops through files, and for each file, checks that no exclude member is included in it.Note that you don't have to build an actual list in any. Omit the square brackets, let any perform a lazy evaluation, it's faster.
This will only loop through the file list one time:It does loop through the exclude list once for every item in the file list so if you have a long exclude list the performance might take a hit.


Answer URL
https://docs.python.org/3/library/functions.html#any
https://docs.python.org/3/library/functions.html#all
