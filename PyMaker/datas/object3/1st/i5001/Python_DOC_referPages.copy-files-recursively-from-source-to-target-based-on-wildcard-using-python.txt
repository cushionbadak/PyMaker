Natural Text
I have a source directory that has several xml files in nested location. I am trying to write a python script to copy files recursively based on a pattern (say *1.2.3.xml) to a target location.Expected outcome:The following script doesn't do the filtering.What am I missing here?
What is happening here is that the copytree function will work recursively. First, it will descend into source and give ignored_files()  two items for filenames arg - [master.1.2.3.xml, directory]The ignored_files will return [directory] as it does not match with the pattern and thus copytree will ignore the entire directory itself.You will have to add an additional check for directories in your condition in ignored_files() something like os.path.isdir().
Can you please try this?
Try this instead:


Answer URL
https://docs.python.org/3/library/shutil.html?highlight=shutil%20ignore_patterns#shutil.ignore_patterns
