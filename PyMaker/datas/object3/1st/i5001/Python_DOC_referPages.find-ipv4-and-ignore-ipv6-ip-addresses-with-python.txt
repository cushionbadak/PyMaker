Natural Text
I have a strings as mentioned in the below format, i would like to remove only IPv6 address from the string and print only the IPv4 address as a string. I tried with sub string and regex , but I am unable to get correct regex for this string. Could any one help to provide the solution.Actual format of Inputs string given to python program as below format (square brackets included), Where Ipv6 address can be present either at starting or ending of the string.Output should be display as only ipv4 address as strings
you have several issues:parse the python formatted lists: use ast.literal_eval for each linefilter out the proper addresses. A good criterion is to check that colon is not in the string.My approach is one-line, using next and a generator to return the only (or empty string) valid string in each line:prints:(result is a python list, so printing the lines without the brackets and all just requires a loop or str.join)
Firstly, it's a technical detail, but just be aware that in your lists, none of the addresses are technically valid IPv4, because of the trailing slashes (which, I'm assuming, indicates a range).  In the docs for Python's ipaddress module, you can find the description for what constitutes a valid address.That said, reading between the lines a bit, if you want to be thorough here (rather than just checking for ":" as suggested in the comments, remove the ranges, then try to instantiate an ipaddress.IPv4Address class instance.  If this fails, you don't have a valid address.Alternatively (and this is overkill) you could use a regex for IPv4s.  (The IPv6 regex is way hairier than this; I've seen people take a stab at it but I'm not one of them.)


Answer URL
https://docs.python.org/3/library/ipaddress.html#ipaddress.summarize_address_range
https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Address
