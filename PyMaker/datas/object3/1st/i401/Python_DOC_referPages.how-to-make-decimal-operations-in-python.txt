Natural Text
I want to calculate pi with the chudnowsky algorithm and I want it to be precise soI tried using Decimal module but I couldnt understand how I can use it. The code isbut it gives I look the internet but couldnt find a good source that covers the things and gives examples. How can I square root decimals and if I want a Decimal type result and the operations to be mostly lossless how can I implement it to the code above? Its python 3.6I am new here so I thank you for being tolerant to me.
I don't have too much experience with decimal, but the error you get is because you can't use the ** operator with a decimal and a float. The solution is to make the exponent a Decimal too so instead of dc.Decimal("10005")**(1/2) you can do dc.Decimal(10005)**dc.Decimal(1/2).Basically, you can't combine Decimals and floats but integers are not a problem. You only need to be careful when you divide integers because that will result in floats, so you also need to change sum1 += a/b to sum1 += dc.Decimal(a)/b. When one operand is a Decimal the result will also be a Decimal. All the other numbers in your program are integers anyway so now it should work fine.
The module decimal does not make sense to be used here. You are using math.xxxx functions, I cite the module documentation:The following functions are provided by this module. Except when explicitly noted otherwise, all return values are floats.Source: https://docs.python.org/3/library/math.htmlmath.factorial  - returns floatBeside that: you recalculate constants: No need to recalculate it - simply use dc.Decimal('5002.5') instead


Answer URL
https://docs.python.org/3/library/math.html
https://docs.python.org/3/library/math.html#math.factorial
