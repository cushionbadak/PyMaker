Natural Text
I currently have some time series data that looks like this:Using python I want to add a column that is "hour of the week", I have managed to do this using excel however I am not sure how to go about doing it in Python.This is how I worked it out in excel:Any help would be appreciated, thanks.
Try this:Assuming the date column is of type datetimedayofweek: The day of the week with Monday=0, Sunday=6df['hour_of_the_week'] = df['date'].dt.dayofweek * 24 + (df['date'].dt.hour + 1)You can convert date to datetime withdf['date'] = df['date'].apply(pd.to_datetime)
Assuming the date format you have in your sample, the following will generate the hour of the week from a datetime object generated with your time-stamp:Output:This should give you the tools you need to apply in your context. Like so:Note that, if you definitely wish to start the day with hour 1 rather than zero, you'll need to do:and to avoid confusion.Just as the following to offset the first day to 1:Just remember that the Hour of Day value df['Date'].dt.hour begins with 0 whenever you are doing comparisons. For this reason, I'd suggest using 0 as your standard. The same applies to Day of Week.With Hour of Week starting at 0, your dataframe looks something like this with the above:With day and hours incremented by 1:You get:
If the Date column is a datetime object, I would go with the datetime library


Answer URL
https://docs.python.org/3/library/datetime.html
