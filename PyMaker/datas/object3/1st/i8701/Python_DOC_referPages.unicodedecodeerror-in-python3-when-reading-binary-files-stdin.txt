Natural Text
I'm trying to take what's in the stdin and read it 1022 bytes at a time. This code runs fine for text files. But when inputting a binary file it gives me the UnicodeDecodeError. Where data below is sys.stdin.The binary file was made by calling dd if=/dev/urandom bs=1K iflag=fullblock count=1K > 1MB.binI run the file with essentially python A3C.py < 1MB.binThen I end up with below.Any idea how I can make this so it can read sections of the binary file because I need to send them from this client side to the server side piece at a time. Thanks!
sys.stdin is a text wrapper that decodes binary data. Use sys.stdin.buffer instead:The TextIOBase.buffer attribute points to the binary buffered I/O object underneath.


Answer URL
https://docs.python.org/3/library/io.html#io.TextIOBase.buffer
