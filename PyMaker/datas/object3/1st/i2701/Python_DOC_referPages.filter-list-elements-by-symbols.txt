Natural Text
Hi I want to filter elements with / without -, . into two lists. My code doesn't do the job, it seems run through everything twice and cannot replace both - and . at the same time. Where did I do wrong? Code:DataMy output:I want to get output like these:
You are treating those two characters separately, by using a for loop:The first time through the for ch in ['-', '.']: loop, ch is set to '-'. When that character is found in i you create a new string with - removed, and append that to SPACE and i itself is appended to WITH_SYMBOL. If the character is not found you append to NO_SYMBOL.The second time through the loop, ch is set to '.', and you do all the same work again.As a result, you always append to either SPACE and WITH_SYMBOL, or to NO_SYMBOL twice for each i.You need to delay appending until you have processed all the characters in ch, and only when the loop is done decide where to append. You could use a flag variable for that:You can also just test for either character to be present, and use str.replace() for both. It's safe to do so, str.replace() doesn't care if the character you are replacing is not present at all:Rather than use two .replace() calls you can also use a translation table passed to str.translate(); this is faster, and much more flexible if you have a variable number of characters to replace. For the latter case, you can use the any() function to test for a sequence of characters:
You dont need a loop to run twice on the same list instead you can modify the if condidition
I think the error in your code was found by other answers - but by using a simple RegEx you would get more performance and could easily change it when you have to add new symbols to match:Online demo here


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.translate
https://docs.python.org/3/library/functions.html#any
