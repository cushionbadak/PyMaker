Natural Text
I am using an astropy package called WCS.all_world2pix in order to convert many coordinates in degrees to pixel coordinates on an image. While running this on many pairs of coordinates, I eventually came across an error which stopped my program from running. Here is the code leading up the error, and the error itself:The error:I would just like to be able to skip over those images that cause this error. But I'm unsure how to handle this as an exception, since it's not a usual Type/Value/SyntaxError, etc...As it's going through my loop, when/if this error occurs I'd just like it to continue to the next element in the loop without appending anything for the one that caused the error. Something like this is what I have in mind:How can I handle this exception? I've never actually dealt with these before, so any help is appreciated. Thanks!
What you have now looks like it'd work. I'd like to recommend two small edits for you though: include the fewest number of lines in the try block as possible, so you don't mask an unexpected error conditioncatch the specific error, again so you don't mask an unexpected case (except by itself will catch every error) Note you'll probably also need to add an import for the NoConvergence error at the top of your script:
The traceback tells you the exception type, so you can just use that:Of course you may have to import some additional subpackages or modules to have access to that exception type.However, what you really want to do is check the documentation. Most well-designed packages will give you a list of exceptions you should expect to see, and often have a handful of easily-accessible superclasses that you’re meant to catch, while the more detailed exceptions may be private and subject to change, or may be public but rarely needed.For example, maybe there’s something like astropy.WcsError that a whole bunch of private exception types are subclasses of, including the NoConvergence that you’re seeing. If you see something like that in the docs, that’s what you should handle:


Answer URL
https://docs.python.org/3/library/string.html#formatstrings
