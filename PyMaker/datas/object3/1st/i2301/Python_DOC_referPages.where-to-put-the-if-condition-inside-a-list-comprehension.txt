Natural Text
I was given the function:and the task was to find the minimum integer values x between 0 and 10.I had to use a for loop:which gives me the correct answer 2.Now I should translate that as a list comprehension, but I do not know where to put the if statement:Of course, as an output I get a true/false list, with the index 2 being the correct true. But How do I include the if in my list comprehension?
You are finding a single value, not a list of values. A list comprehension makes little sense here.Your error is in putting your test in the value expression section of the list comprehension. That's not a filter, that's the part where you build the new list values from the (filtered) elements from the loop.Put an if after the for loop part:This builds a list with just one element, the i value for which the value is true:If you must do this in a single line, use a generator expression, then use the next() function to get the first result from that:This will get you the minimal value for i even if there were to be multiple possible values for i where the if test would be true.A generator is lazily evaluated; the loop stops the moment i reaches a value where the if test is true, and that one value is produced. next() only returns that first value, so no more iteration takes place. It's as if you used break in a for loop (except you can continue the loop later).Note that this can raise a StopIteration exception if the generator doesn't produce any values. You can tell next() to return a default value in that case; a second argument to next() is returned if StopIteration would be raised otherwise:You can combine the generator expression in the next() call; if a generator expression is the only argument you can omit the (...) parenthesis of the generator expression, otherwise include them so that it can be distinguished from other arguments:
if you really want to use a comprehension and not a classic loop here, since there is only one result, you could pass a generator to next with a default value just in case it doesn't find anything:


Answer URL
https://docs.python.org/3/tutorial/classes.html#generator-expressions
https://docs.python.org/3/library/functions.html#next
