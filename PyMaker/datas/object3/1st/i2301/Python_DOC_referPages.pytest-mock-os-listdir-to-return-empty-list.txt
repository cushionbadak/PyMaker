Natural Text
I have a function in my program that list all the files in a given path and I am trying to write a test that passes when there are no files exists in the path provided (empty output i.e []) I am learning about mocker fixture of pytest to do it. Here is what i have written,I have used mocker as a parameter first then patch the os.listdir function. os.listdir is called in get_list(), but i don't know how to change the return value of os.listdir to empty list, [] to mock empty directory.When I run above command I get the following error,How can I mock os.listdir to return empty value and pass the test?If i remove stdout=[], the test PASS but its not really doing what i want to do, which is to pass when there are no files.That's the code for get_list()
The pytest-mock version should look something like this:Note that users who do from os import listdir will need to mock in a different namespace! 


Answer URL
https://docs.python.org/3/library/unittest.mock.html
