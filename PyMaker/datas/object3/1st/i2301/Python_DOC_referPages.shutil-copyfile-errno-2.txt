Natural Text
I have written a function like below:When I call it with a "filetree_list" list containing a single element and destination prepared with os.path.join:I get the following error:What is strange about it (and it is driving me insane at the moment), is that this folder definitely exists, and has been created by the "if not exists(dst)" block in separate_files function - I can even see it in the Windows Explorer!To add insult to injury, when I run this function with the same destination argument but multiple strings in a list, it does what I expect and there are no errors!Can anyone offer any insight into what am I doing wrong in here?UPDATE:Updated code above to reflect the function in my IDE. Indentation error next to print(file) & copyfile(file,dst) was corrected to include it in under the loop.copyfile()'s dst argument was also updated to "dst" rather than join(destination, file.split(commonprefix(filetree_list))[1]).
https://docs.python.org/3/library/shutil.html#shutil.copyfile:shutil.copyfile(src, dst, *, follow_symlinks=True)Copy the contents (no metadata) of the file named src to a file named dst and return dst. src and dst are path names given as strings. dst must be the complete target file name; look at shutil.copy() for a copy that accepts a target directory path.You're trying to pass a directory as dst to copyfile. That doesn't work.


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.copyfile
https://docs.python.org/3/library/shutil.html#shutil.copy
