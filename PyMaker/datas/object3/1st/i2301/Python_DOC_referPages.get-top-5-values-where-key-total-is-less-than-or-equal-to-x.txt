Natural Text
Currently I have a list of items someone can buy as follows:Each item is set up like this: I have the list pulling the items with the top 5 ItemValue.I am trying to retrieve a result where I get the top 5 total ItemValue where the top 5 total ItemCost is equal or less than 6.Any suggestions?
You can filter first, and use all following nlargest on your filtered list.But for data manipulation like this, pandas can be very useful. Take, for exampleIf you want, you can first get the nsmallest of the ItemCost and just then get the nlargest
Not sure if this is what you asking, I would first create all possible combinations of 5 elements from my_listThen i would find all possible combinations in result where total item cost would be less than or equal to 6.Now, I would find that element where total itemValue is the greatestThe index of element with maximum itemValue isNow, you can find that element in f.The answer i got is 
First you want to filter the list by the ItemCost:Which can be done by: filtered_generator = filter(lambda x: x[1] <= 6, my_list)Or in a more python-like way filtered_list = [x for x in my_list if x[1] <=6]And to keep it a generator to save memory just use parentheses instead of the square brackets.Then you want to get the n largest items:You can use heapq.nlargest: nlargest(5, filtered_iter, key=lambda x:x[2])or implement similar function yourself.filtered_iter can be the list or one of the generators.
Answer to modified list ( to show extra feature)Answer to your original list
Not totally sure of what you are trying to do, but...If you are trying to retrieve the top x (5 or 6) based on itemcost sorted by lowest cost, you can try this.
Max can receive a function to specify max criteria.The total_cost function, has a int(sum(c for _, c, _ in item) <= 6) portion that is 1 if total cost of the combination is less or equal then 6, and its 0 otherwise.We then multiply this portion with the total sum of values.combinations(my_list, 5) retrieves all possible combinations of my_list items having 5 items.Printing chosen elements you have:
Filter the list first:print nlargest(5, [item for item in my_list if item[1]<=6], key=itemgetter(2))You can do it with sorted too:sorted([item for item in my_list if item[1]<=6], key=lambda x: x[1], reverse=True)[:5]The above filters out items with ItemCost greater than 6, sorts your list descending based on ItemCost, and then returns the first 5 element
First using combinations we can get all possible combinations of 5 from my_list. From here we can use filter and only return combinations whose total ItemCost is less than or equal to 6.  Finally we sort by the which group has the highest total ItemValue and we take the greatest one being l2[-1] we could use reverse = True and then it would be l2[0]from itertools import combinations   
output:


Answer URL
https://docs.python.org/3/library/heapq.html#heapq.nlargest
