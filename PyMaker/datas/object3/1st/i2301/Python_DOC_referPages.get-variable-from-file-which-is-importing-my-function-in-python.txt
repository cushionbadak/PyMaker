Natural Text
I have 2 files:Main.pytest.pyIs there a way to access the sol variable in my test function which is in another file? I'd like to do something like this:This way it's always the same as the variable in Main.py. I tried a solution which is mentioned on Python extract variables from an imported file but it didn't work for me. Thank you for any helpEdit: I'd like to do it without changing the Main.py file
Since sol isn't defined in the function you will need to declare it as a global function so it can be used in the function. Change test.pyto the following...Hope that helps.
If sol is a constant (i.e. a variable which will not change during the course of the program), then you can put it into a separate file, say var.py, and import it into both main.py and test.py:BUT what you will be importing is a copy of the variable with the value it had at the time it was imported - any subsequent reassignments will not update the value of sol in test.py and main.py. Because a string is immutable, when you reassign a value to it what you are actually doing is you are reusing the variable name for a new entity.What you need to do is have your variable in a mutable structure, such as a list or a class, so your var.py will look like this:and then in main.py and test.py you can refer to sol using:This way, any changes to v.sol will be correctly reflected anywhere class v is imported. A bit cumbersome, but that's how it is in Python.
You can use inspect module to get the sol variable from main function without change anything of main.py. Of course, you need to call main function.Main.py:test.py:Output:helloYesExplanation:From the python doc, we can see next:framef_back   | next outer frame object (this frameâ€™s caller)f_locals | local namespace seen by this frameSo line A get the caller of current function, that is main function, and use f_locals to get all local variables of main function, so it can get the sol value from main. FYI in case you still need it.


Answer URL
https://docs.python.org/3/library/inspect.html
