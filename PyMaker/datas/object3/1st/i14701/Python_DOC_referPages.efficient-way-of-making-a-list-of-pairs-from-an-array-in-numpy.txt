Natural Text
I have a numpy array x (with (n,4) shape) of integers like:I want to transform the array into an array of pairs:so first element makes a pair with other elements in the same sub-array. I have already a for-loop solution:but since looping over numpy array is not efficient, I tried slicing as the solution. I can do the slicing for every column as:I can repeat this for all columns. My questions are:How can I append y[2] to y[1],... such that the shape is (N,2)?If number of columns is not small (in this example 4), how can I find y[i] elegantly?What are the alternative ways to achieve the final array? 
The cleanest way of doing this I can think of would be:This will make two copies of the data, so it will not be the most efficient method. That would probably be something like:
Like Jaimie, I first tried a repeat of the 1st column followed by reshaping, but then decided it was simpler to make 2 intermediary arrays, and hstack them:producingThere probably are other ways of doing this sort of rearrangement.  The result will copy the original data in one way or other.  My guess is that as long as you are using compiled functions like reshape and repeat, the time differences won't be significant.  
Suppose the numpy array isYou can get the array of pairs asThe output would be


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.combinations
