Natural Text
I am new to Python and I have a set of values like the following:This is generated from a CSV file with the following code (python 2.6):What I would like to do is get an average of the values based on the keys:My initial thought was to create a new dictionary.  I'd also have to keep a count of the number of keys so I could produce the average.  Seems like a lot of work though - I wasn't sure if there was a more elegant way to accomplish this.Thank you.
You can use collections.defaultdict to create a dictionary with unique keys and lists of values:Then use a list comprehension to create the expected pairs:And within your code you can do:
Use pandas, it is designed specifically to do these sorts of things, meaning you can express them in only a small amount of code (what you want to do is a one-liner).  Further, it will be much, much faster than any of the other approaches when given a lot of values.Gives:Here is a multi-line version, showing what happens:Further, if you want to use a csv file, it is even easier since you don't need to parse the csv file yourself (I use made-up names for the columns I don't know):
Use a dictionary comprehension, where items in the list of tuple pairs:
is one way to do it ...


Answer URL
https://docs.python.org/3/library/stdtypes.html#mapping-types-dict
