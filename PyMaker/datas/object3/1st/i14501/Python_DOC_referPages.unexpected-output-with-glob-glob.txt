Natural Text
Im trying to provide wildcard support to one of CLI scripts and I am using pythons glob module for it. For a test i tried this:This works perfectly and gives the right output as i do have the 3 files given above.However when I have the same code under my argument in the CLI it fails. I do thisI run this asThis gives me the error:I dont understand why all files are being added to the argument at once when I am going through the list one by one.EDIT-nargs was a step in the right direction but now this error shows up:
Here's what your script receives:Where N is a total number of files matched by that pattern (Shell expands wildcards automatically). On the other hand, your file argument is configured to receive just one file/pattern, thus the simplest (and the best, in my opinion) solution is to add the nargs='+' argument:This will allow you to remove all glob calls and if args.file checks.Another option is to quote your command line argument:


Answer URL
https://docs.python.org/3/library/argparse.html#nargs
