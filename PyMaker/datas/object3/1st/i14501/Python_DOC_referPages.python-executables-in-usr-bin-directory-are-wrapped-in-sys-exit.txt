Natural Text
Is there a difference between the two code snippets:VsI see, most python executables in my ubuntu /usr/bin (or) /usr/local/bin directory use sys.exit. Doesn't the process stop, once the function returns. Why do people wrap their executable functions inside sys.exit?Note: This code is taken from openstack-nova python client and this question focusses only on python's sys.exit and not about openstack internals.
There are actually two ways to use sys.exit, as explained in the docs.Your main can return 0 on success and 1 (or any other number from 2-127) on error; that number becomes your program's exit status. (The number 2 has a special meaning; it implies that the failure was because of invalid arguments. Some argument-parsing libraries will automatically sys.exit(2) if they can't parse the command line. The other numbers 3-127 all mean whatever you want them to.)Or you can return None on success, and a string (or any object with a useful __str__ method) on failure. A None means exit status 0, anything else gets printed to stderr and gives exit status 1.It used to be traditional to use the second form to signal failure by doing something like return "Failed to open file" from your main function, and the docs still mention doing that, but it's not very common anymore; it's just as easy, and more flexible, to output what you want and return the number you want.If you just fall off the end of the script without a sys.exit, that's equivalent to sys.exit(0); if you exit through an exception, that's equivalent to passing the traceback to sys.exitâ€”it prints the traceback to stderr and exits with status 1.
sys.exit() is there to pass the right exit code back to shell. If you want to differentiate the response in case of (for example) bad authentication, network issues, broken response, etc. exit codes are useful for that.If you don't use specific sys.exit(value), you have two options only - success (exit code 0), or exception was thrown (exit code 1).


Answer URL
https://docs.python.org/3/library/sys.html#sys.exit
