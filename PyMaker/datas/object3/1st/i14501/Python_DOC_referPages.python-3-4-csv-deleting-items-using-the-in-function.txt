Natural Text
This is my current code, the current issue I have is that search returns nothing. How do I achieve a string value for this variable.The output is:So it runs through it twice, which is good as my userDatabase consists of two rows of data.The file in question has this data:
You cannot just iterate over an open file more than once without rewinding the file object back to the start.You'll need to add a file.seek(0) call to put the file reader back to the beginning each time you want to start reading from the first row again:The rest of your code makes little sense; when iterating over a file you get individual lines from the file, so each row is a string object. Indexing into strings gives you new strings with just one character in it; 'foo'[1] is the character 'o', for example.If you wanted to copy across rows that don't match a string, you don't need to know the row count up front at all. You are not handling a list of rows here, you can look at each row individually instead:This does a sub-string match. If you need to match whole columns, use the csv module to give you individual columns to match against. The module handles the quotes around column values:
One problem is that row_count = sum(1 for row in myFile) consumes all rows from myFile. Subsequent reads on myFile will return an empty string which signifies end of file. This means that for loop later in your code where you execute for row in myFile: is not entered because all rows have already been consumed.A way around this is to add a call to myFile.seek(0) just before for row in myFile:. This will reset the file pointer and the for loop should then work.It's not very clear from your code what it is that you are trying to do, but it kind of looks like you want to filter out rows that contain a certain string. Try this:


Answer URL
https://docs.python.org/3/library/csv.html
