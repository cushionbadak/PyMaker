Natural Text
I am new to Python coding and BeautifulSoup4. I have a list in HTML that I need to sort, which follows the pattern:I need to sort the list in situ and save the resultant HTML. The list needs to be sorted by the contents of the third span, with class = mgioAutonymEnglishI suspect that I need to use sorted() with an appropriate key function, but am coming up blank.I have tried the following code: This will sort the contents of the span, but not the lists in the original list. I assume that I need to change the lambda function, but I'm currently at a loss. What would I need to do or change to successfully sort the list and then save those changes within the HTML document?
This is actually a little more involved than you might think, so it'll help to go through it step by step.Let's start with your soup:The first thing to do is get hold of the ul:Now we can extract() all the li elements from it and store them in a list:To sort the list, we need a key. You were on the right lines, but actually it needs to look like this:Now that we have a sorted list of li elements, we can insert them back into the document. What might not be immediately obvious is that the ul didn't just contain li elements â€“ they were separated by linebreaks, which are still there:... and in fact, they're still six separate '\n' strings:In order to insert our sorted list of li elements back inbetween those linebreaks, we can use the builtin zip() function and the insert_after() method:Note that, because we're modifying ul.contents by inserting elements as we iterate over it, it's necessary to do so in reverse so that the for loop doesn't end up tripping over itself.And so ...Here's the whole thing:


Answer URL
https://docs.python.org/3/library/functions.html#zip
