Natural Text
I'm trying to have what is written to stdout in a subprocess, displayed in a Qt widget.I'm starting the process this way:I think I have to make a class to act like the stdout, and point it out when I call subprocess, I tried this:but I am getting an error saying: AttributeError: 'Log' object has no attribute 'fileno'Can't really think of any other ideas, apart from redirecting to a file and then having a timer which reads from it from time to time..[edit]Ended up with this:thanks for the help!
Redirecting of input/output streams in the subprocess module works at a lower level, that's why you can only pass filelike objects which have a fileno.If you want to read the data from python, you can either use subprocess.check_output instead of subprocess.call, which will return the data written to the process's stdout as bytes: Or you can use subprocess.Popen and pass stdout=subprocess.PIPE. Then you can read the data from the returned objets's stdout:There should be a lot of examples in the subprocess documentation.Edit:If you need tighter integration with Qt, you could also use QProcess to start your program instead of the subprocess module. That would allow you to use it's read channel's readyRead signal to be notified when data is ready to be read from the process.


Answer URL
