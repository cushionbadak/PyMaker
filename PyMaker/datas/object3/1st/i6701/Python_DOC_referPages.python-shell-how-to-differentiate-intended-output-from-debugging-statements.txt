Natural Text
I have inherited some node code lately, that calls python scripts. Python scripts print() debugging statements, and also a result. Consider the following python code:We are using python-shell (https://github.com/extrabacon/python-shell/blob/master/index.js). In the node app, we have the following:As expected, we are getting the following on console.log:What we intend, though, is to segregate Result from this output.My solution:I have advised to put a restriction on the Python developers to assume that they will get a string called CALL_TOKEN, and, hence, the result can be identified by looking for a signature CALL_TOKEN:Results. Their output will then look like:And, hence, I can wrap my python-shell calls as:Please suggest if there is a better way than this. I am new to Python.UPDATE We dont quite want to lose the debug messages (hence turning it off in prod etc would not work). We want the node code to simply identify the Result, and direct the reming print() to console.log()
You should certainly use the logging library and not print statements. Here is a short example on logging.One can also set the alert level to ignore debug messages, perhaps in production.There are 5 levels of logging: debug, info, warning, error and  critical
Coudnt find anything too convincing, hence we (Node and Python devs) have agreed upon the following:To implement, this, the following restrictions are being imposed on the python code:You can expect the last arguments as a result-file. Running your Python code from IDLE, this argument may be missing, but Node code will always provide this argument.You can add to node log by either print()ing or by redirecting python's logger.debug() to stdout. This will be ignored in staging / productionYou can add to node error log by either print(stderr) or by redirecting python's logger.error() to stderr. This will be retained in staging / productionYou should write to the result-file before your python code exits. An empty result file is acceptable.


Answer URL
https://docs.python.org/3/library/logging.html
