Natural Text
I'm trying to figure out a way to import a .txt file ideally as dataframe(pandas) using python 3.5. I've done this a couple of time with different data. This file has couple of thousand cases/ instances, which take each 13 lines followed by a blank line:Using the following code, I can access each line and create a new vector per instance (unfortunately as column vector instead of row vector, which could be added to a new data frame):I'm looking for a basic data frame (instances x 13) with 'Cat1’,…,’Cat13‘ as columns and instances as rows. Is there an easy fix to this problem or even another package to load such a file?edit:Wasn't really sure what I was looking for. Finally was able to sort out this problem using itertools.groupby, which was mentioned in this thread.
given this format of the input file: You can read the file as a one column dataframe as follows (ps: pandas will automatically skip empty lines): The split the lines based on / or : to construct a new dataframe with three columns: Then set the first two columns [0, 1], as an index to dff, unstack the dataframe with first level of the index to make cat1..cat13 as the new columns. then reset_index to remove the instance1.. instance2 with one line: And finally, we need to remove the uncessary level in the columns and keep only cat1... cat13Without the explanations above, the overall code looks like this: If you'd like to handle encoding utf-8, read the file as follows: 


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
