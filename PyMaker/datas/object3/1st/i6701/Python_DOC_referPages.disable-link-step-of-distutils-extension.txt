Natural Text
Is it possible to disable the creation of shared objects with distutils.core.Extension? I want to stop the compiler before linking (i.e. g++ -c ...). I am swigging a native file, which creates an object file and a python file. I have other code to compile that I'll later link with this object file, so I don't want this to proceed after the .o compilation.I want to stop here, but it continues.Do I need to use the CCompiler class directly? Or is there a way to wrangle the Extension class?
It is not possible to stop the linking step without modifying the underlying ccompiler object. One could theoretically override the link_shared_object function of the underlying ccompiler to do nothing (See the build_ext source).However, to answer the original intent behind this question, the C/C++ files can be passed to the Extension with the Swig interface file without needing to compile them independently and link later. It is not necessary to separate the swig file generation and the library compilation.
You could do something like this:to override the default behavior of distutils command.Setuptools â€“ run custom code in setup.py


Answer URL
https://docs.python.org/3/distutils/apiref.html#module-distutils.ccompiler
