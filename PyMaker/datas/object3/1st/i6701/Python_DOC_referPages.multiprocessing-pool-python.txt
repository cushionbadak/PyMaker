Natural Text
I want to run SAP reports in parallel using Python. I have figured out how to run everything in parallel when not sharing a pool but I cannot figure out how to create a pool to share resources.Example:Have 6 available sessions to run reports on. k = [1:6] but I have 8 reports to run. The first report to be given k=1, second report to be given k=2 and so on, but on the 7th report it needs to wait until one of the k's are available and then it runs on the first available k. Below is my code:Any help would be greatly appreciated! I am using python 2.7Updated Code based on Comments below (still not processing correctly, currently using the same i in the manager list for both functions. Need the first function to use i = 0 and the second to use i = 1. Then at the end of the function, to append the i back to the manager list)Edited for Final Answer I was not able to use the code provided below to work for my situation but the logic and thought process made sense and it will probably help someone else so I marked it as correct.I have found a solution to my issue however, the code is below. It is a different approach using queue versus manager and pool.
You can adopt following pseudo-code to achieve desired result:Output:Merged codes:If you need functions to execute sequentialy - replace apply_async with apply or add .get() to each call ( like pool.apply_async(f).get() )For more information about shared resourses in multiprocessing - see managers referenceFINAL ANSWER:OTUPUT:


Answer URL
https://docs.python.org/3/library/multiprocessing.html#managers
