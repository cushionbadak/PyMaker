Natural Text
This question might be fairly straightforward, if you have some experience with Python Flask, Boto3, Pillow (a.k.a. PIL).I'm attempting to receive an incoming image from a client (only allowing .jpg, .jpeg, .tif,) and i'd like to read the dimensions of the image before uploading it to Amazon S3 using Boto3.The code is fairly straight forward:Here's the catch, I can either (A) read the image OR (B) upload to s3, but I can't do both. Literally, commenting out one or the other produces the desired operation, but not both in combination.I've narrowed it down to the upload. It's my belief that somewhere along the line, the file.strea.read() operation is causing an issue with the Boto3 upload, but I can't figure it out. Can you?Thanks in advance.
You're close - changing the byte source for S3 should do it.  Roughly, something like this:Note the call to seek and the use of BytesIO in the call to S3.  I can't overstate how useful BytesIO and StringIO are for doing this sort of thing!


Answer URL
https://docs.python.org/3/library/io.html#binary-i-o
