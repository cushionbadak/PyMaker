Natural Text
I want to make a function that can be used in other unit tests in the script. Here is what I mean:The error I get is: TypeError: __init__() takes at least 3 arguments (2 given) It basically tries to run the AttributeCheck and I think it runs runTest as if it were a test. However, I need the def runTest(self): because if I don't have it then I get the: ValueError: no such test method in <class 'AttributeCheck'>: runTest
You're using unittest.TestCase in a way that I haven't seen before, and I think is inconsistent with the documentation. My answer uses TestCase how I normally use it, hopefully it answers your question.As far as having a function that can be used in multiple tests in the script, you can add a function to your test class that does a check for you. If it doesn't have "test" in the name, it won't be run as a test:This isn't super useful, because your check method is limited to this class. You could import it into another test class if you wanted to, but that's a little messy as far as separation of responsibility goes.I typically try to have 1 test class per test file, corresponding to exactly one production class. Each 'test' is a method inside a test class. Then, if there's a function I want to run from a lot of test classes, I put it in a separate file that I call "test_helpers.py". You shouldn't make your test helpers inherit from TestCase. You can define a failure exception and raise it from your test helper method.The following code would be split up over 5 separate files in the same directory. The file names are in comments. Notice that the class Blah lives in 'blah.py' and corresponds to a test class TestBlah in test_blah.py. That's where you test everything to do with Blah.I stole the code for the FailureException in test_helpers.py directly from the source code for unittest.


Answer URL
https://docs.python.org/3/library/unittest.html
