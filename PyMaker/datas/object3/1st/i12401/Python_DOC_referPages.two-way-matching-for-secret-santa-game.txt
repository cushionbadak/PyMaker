Natural Text
This question already has an answer here:Secret santa algorithm                    9 answers                I am trying to write a script that pairs up men and women for a secret Santa type event. So I have 2 lists of boys and girls, and want to carry out 2 way matching, but at the moment I can only seem to figure out how to do 1 way matching.Furthermore the problem I have is this... in the example below if Kedrick gets Annabel, then Annabel can't get Kedrick. Kedrick has to get someone else from the list.My current implementation is as follows, how can I extend its functionality to meet the abovementioned requirements?
This could probably be done with fewer loops and a lot less code but here is my solution! Created 2 dict's to store names and their targets (dict's could be combined or done at the same time to cut down on memory issues, but with a program this size I don't think you would ever run into this issue!
Shuffle both lists and put them in a ring, with every other element being from the first or second list. Each person gives a gift to the one on their right. Something similar to a list like this:The last element gives a gift to the first.It works under the assumption that both lists have the same amount of elements and that there are at least four elements in total, otherwise the problem is unsolvable.This gives one solution that fulfills your constraints. The general solution to the problem is to find a directed bipartite graph between the sets where each vertex have exactly two edges, one incoming and one outgoing. Perhaps the solution to that problem also always creates a ring?
This is an implementation that creates a circle with alternate boy and girl. See @Emil Vickstom's answer for an explanation of the idea.Output:Tim -> Priscilla -> Quincy -> Annabel -> John -> Janet -> Kedrick ->  Jocelyn -> Philip -> Pamela -> Jonathan -> Viviana -> Tim


Answer URL
https://docs.python.org/3/library/random.html#random.shuffle
