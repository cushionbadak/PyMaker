Natural Text
I have some test.py file:When I run it 10 times (python3 test.py) it always produces next output:But if I add sys.exit call to end of script:in 5 of 10 cases (randomly) i haveand in second half of cases:I use Python3.4.3 [MSC v.1600 32 bit] on Windows 7 x64.So why __del__ method called not every time? Do I need to use some other exit method to pass return code of script and have all destructors guaranteed executed? And one more related question: is it possible to execute destructors on receive SIGTERM or SIGKILL from OS?
From the documentation:It is not guaranteed that __del__() methods are called for objects that still exist when the interpreter exits.If you want to ensure that a.__del__ is invoked, you'll have to explicitly delete the instance:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__del__
