Natural Text
My Input is:Expected Output is:Iterating over input and using eval/literal_eval on the tuple-strings is not possible:How can I convert an item such as '(var1, )' to a tuple where the inner objects are treated as strings instead of variables?Is there a simpler way than writing a parser or using regex?
For each occurrence of a variable, eval searches the symbol table for the name of the variable. It's possible to provide a custom mapping that  will return the key name for every missing key:Example:Note: eval copies current globals to the submitted globals dictionary, if it doesn't have __builtins__. That means that the expression will have access to built-in functions, exceptions and constants, as well as variables in your namespace. You can try to solve this by passing FakeNamespace(__builtins__=<None or some other value>) instead of just FakeNamespace(),  but it won't make eval 100% safe (Python eval: is it still dangerous if I disable builtins and attribute access?)
Try this:For example:We're iterating through our list of tuple strings, and for each one, removing the ()s, then splitting our string into a list by the ,, and then converting our list back into a tuple. We use filter() to remove empty elements.
I like vaultah's solution. Here's another one with ast.literal_eval and re if eval is not an option:


Answer URL
