Natural Text
I have a problem with waiting sub-process running from within python.I've read tons of info about it, here as well. Sorry to lift this question ones again but still no solution for me.My codeworks perfect, but I need it wait subprocesses ending to run next portion of code. Commented lines not work for me. If I run something from commented I get error Please source the vars script first (i.e. "source ./vars") .......One time it seems wait() worked but after some time don't. Method call() runs commands but never ends. Why methods not working for me, especially wait()? I suggest my problem is somewhere in sourcing openvpn vars script in my environment. Please help me!UPDATED: console log with set -xUPDATE 2I have researched my code's behaviour:I edit vars in python:Ones again: code perfectly works with this way edited vars until I want run any code to wait subprocess. If I run e.g. subprocess.wait() I get "please source ./vars" error Question is: why editing vars in my case force error?
Your log shows the process waiting indefinitely in ./build-dh.This is, as the associated log message indicates, a slow process. You shouldn't expect it to be instant.However, if your system's entropy pool is low, it can be not merely slow but indefinite. Consider using rngd from the rng-tools package to use your system's hardware random number generator (presuming its CPU provides one) to populate the kernel's entropy pool.Beyond that, your usage is incorrect:...is not a valid command: You need to provide a CN to generate a server certificate, for instance:
I don't know "/etc/openvpn/easy-rsa" but if it establishes a vpn connection, the program will hang while the connection remains. In order to terminate it, you can use a timeout param to force a timeout on it. Use of subprocess.call. call, check_call and check_output accept a timeout parameter. 
Import the time module and use time.sleep(amount_of_seconds).


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.TimeoutExpired
