Natural Text
I am trying to store files in a dictionary depending on their type. For this, I am using pygments API as follow:But, now, when passing this code through pylint3, I get a warning telling me that I should use isinstance() in place of type() (unidiomatic-typecheck).The best way to workaround this warning I found so far is as follow:But, does it really solve the problem ? And, moreover, I started to doubt that using a type as a key in a dictionary is robust enough.So, is there more suitable and robust ways to do? Any solution with good arguments is welcome.
Using the type() output, an object, as a key is just fine. Ignore that warning in this case.I'd use dict.setdefault() or collections.defaultdict() to extend the list value:orHowever, on Python 3, you could investigate if functools.singledispatch() could be used to handle your use-case instead. It calls a registered function for a given object type, taken from the first argument, and supports subclasses.


Answer URL
https://docs.python.org/3/library/functools.html#functools.singledispatch
