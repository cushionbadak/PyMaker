Natural Text
I have a bit of code that uses datetime, pytz and re to determine the UTC offset of a given timezone, in the form of a datetime.timedelta object:It looks like there should be a more elegant and efficient way of doing this, since the pytz.timezone.localize must be aware of its own offsets relative to UTC. It seems wasteful to extract the offset values as a string and then use regex to essentially sscanf the string.How can we make this code better?
If you look at the documentation for Python tzinfo objects you'll see a method called utcoffset. This will give you the offset directly.Edit: no need to call localize on the datetime, The pytz object does it itself as part of utcoffset. It expects to be passed a naive datetime.


Answer URL
https://docs.python.org/3/library/datetime.html#tzinfo-objects
