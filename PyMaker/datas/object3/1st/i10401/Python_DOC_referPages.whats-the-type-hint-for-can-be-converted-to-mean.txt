Natural Text
Let's say I want to accept anything I can call int() on, or anything I can call str() on. How do I do that with the new type hints ?Annotating with typing.SupportsInt doesn't work, as mypy will warn against passing a string.
You can't, not with type hinting. Type hinting can't say anything about the contents of a string, only that it must be a string.Note that everything in Python can be converted to a string (as __repr__ is always available); so for 'can be converted to a string' can be handled by typing.Any.For int(), you can only specify specific hooks and types again; you can specify you'll accept objects that have a __int__()  method, but if you also accept strings, you can't specify what is in that string.So:would let you check on what types int() accepts, but not if they'll throw a ValueError exception when you actually try.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__int__
