Natural Text
Can we create a virtualenv from an existing virtualenv in order to inherit the installed libraries?In detail:I first create a "reference" virtualenv, and add libraries (with versions fixed):Then:I get:How to get my installed libraries?Similar questionI saw a similar question: Can a virtualenv inherit from another?.But I want a isolated virtualenv which didn't use the referenced virtualenv, except for libraries installation. So, adding the specified directories to the Python path for the currently-active virtualenv, is not the solution.Why doing that?Well, we have an integration server which builds the applications (for releases and continuous integration) and we want to keep the control on libraries versions and make the build faster.Create a relocatable virtualenvI think I could use a relocatable virtualenv, that way:create the ref virtualenvmake it relocatable: ``virtualenv --relocatable ref```For "myapp":copy ref to myappWhat do you think of this solution? Is it reliable for a distribuable release?
You can solve your problem by using .pth files. Basically you do this:After doing this and activating myapp, if you run pip list you should see all the packages from ref as well. Note that any packages installed in myapp would hide the respective package from ref.
when you install the second virtualenv you have to add --system-site-packages flag.
You may freeze list of packages from one env:Then install them:
The pip version 1.4.1 was bundle with an old version of virtualenv. For example the one shipped with Ubuntu 14.04. You should remove that from your system and install the most recent version of virtualenv.This might require root permissions (sudo).Then upgrade pip inside the virtual env pip install -U pip or recrete the env.
I think your problem can be solved differently. With use of PYTHONPATH. First we create ref virtaulenv and install all needed packages hereThen we create second virtaulenv use.And now we can set our PYTHONPATH in this env to include ref's directoriesAs you see this way you just reference installed packages in ref's environment. Also note that we add this folders at the end so they will have lower priority. NOTE: this are not all folders that exists in PYTHONPATH. I included this 2 because they are main ones. But if you will have some problems you can add other ones too, just lookup needed paths with this methodhow to print contents of PYTHONPATH


Answer URL
https://docs.python.org/3/library/site.html
