Natural Text
Here is some test code to describe my problem.  I have created two classes as follows...After the last remove command, I get the following error:Does anyone know why this is occurring?  I can confirm the d object gets initialized with 52 total Card objects from (0, 0) to (3, 13).  Why does it not detect this with the remove module?  Furthermore, I can do the following commands after the initialization and it works with no problem.This adds and then remove the Card that was just added to the list, but it will not remove the card that was initialized with the same value.
You didn't define when two Card instances are equal. Without such a definition, list.remove() can't find anything that is equal (obj1 == obj2 is true). The default implementation for custom classes is to be equal only when the object is identical (the exact same object, reference1 is reference2 is true).Add an __eq__ method to your class to define what equality means for Card instances.For example, if two Card instances are equal if and when both rank and suit are equal, then implement that test:Now list.remove() can find the first object that tests equal to the one you passed in to that method.Note that:can't work without __eq__ defined. That code creates two separate instances, and without a custom __eq__ method two separate instances never test as equal.You most likely did this instead:because only then would the object test as equal; it is, after all, the same object.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__eq__
