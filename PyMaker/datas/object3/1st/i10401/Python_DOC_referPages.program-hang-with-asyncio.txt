Natural Text
Here is my code:This is the output:When the line # x = yield from queue is uncommented the program is not printing b'Hello' anymore.Why is the yield from affecting a command that should already be executed?
The problem is a combination of syntax and API definition.First of, refer to the documentation of add_reader, which states that it expects a callback. It is not obvious from the word itself, but by saying callback it means a regular function.Now, when you uncomment the # x = yield from queue line, your sock_reader function actually becomes a generator/coroutine due to yield from, in which case when called like a regular function (i.e. sock_reader(...)), it returns a generator object, and does not get executed.


Answer URL
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.add_reader
https://docs.python.org/3/library/asyncio-protocol.html#udp-echo-server-protocol
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.create_datagram_endpoint
