Natural Text
Suppose I have a function:How do I specify the return type for something that can be None?
You're looking for Optional.Since your return type can either be datetime (as returned from datetime.utcnow()) or None you should use Optional[datetime]:From the documentation on typing, Optional is shorthand for:Optional[X] is equivalent to Union[X, None].where Union[X, Y] means a value of type X or Y.If you want to be explicit due to concerns that others might stumble on Optional and not realize it's meaning, you could always use Union:But I doubt this is a good idea, Optional is an indicative name and it does save a couple of keystrokes.As pointed out in the comments by @Michael0x2a Union[T, None] is tranformed to Union[T, type(None)] so no need to use type here.Visually these might differ but programatically, in both cases, the result is exactly the same; Union[datetime.datetime, NoneType] will be the type stored in get_some_date.__annotations__*:*Use typing.get_type_hints to grab the objects' __annotations__ attribute instead of accessing it directly.


Answer URL
https://docs.python.org/3/library/typing.html#typing.Optional
