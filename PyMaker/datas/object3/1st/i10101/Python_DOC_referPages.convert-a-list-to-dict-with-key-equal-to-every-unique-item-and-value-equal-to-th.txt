Natural Text
For example, I have a list of a = ['a', 'b', 'a'], what is the best code to convert it to b = {'a': [0, 2], 'b': [1]}?
You can use defaultdict with list default factory:Parameter given to defaultdict is a function that will be called to provide initial value in case that given key doesn't exist. Since original list is being iterated once and time complexity of list.append is O(1) the total time complexity is O(n).Update Performance comparison of different solutions:Output:
gives:


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
