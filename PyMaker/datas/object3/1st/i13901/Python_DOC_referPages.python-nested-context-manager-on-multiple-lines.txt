Natural Text
This question already has an answer here:Create a “with” block on several context managers? [duplicate]                    5 answers                In Python 2.6, we used to format our nested context manager that way:From Python 2.7 and on, nested is deprecated. I've seen lots of example of multiple context manager on a single line, but I can't find a syntax that allow them on multiple lines. How would you do this?
Backslash charactersTwo or more physical lines may be joined into logical lines using  backslash characters (\)(citing the Explicit line joining section)If you want put context managers on different lines, you can make that work by ending lines with backslashes:contextlib.ExitStackcontextlib.ExitStack is acontext manager that is designed to make it easy to programmatically  combine other context managers and cleanup functions, especially those  that are optional or otherwise driven by input data.It's available in Python 3.3 and newer, and allows to enter a variable number of context managers easily. For just two context managers the usage looks like this:NestingIt's possible to split a context expression across several nested with statements:With more than one item, the context managers are processed as if  multiple with statements were nested:suite is equivalent to(from The with statement)
There is a way to creatively use the parentheses and avoid the backslash: parenthesize the expression before as. Not very sightly, though:It's easy to nest more and more if needed.
Your example is equivalent to:which looks nice on two lines.Reference: https://docs.python.org/2.7/reference/compound_stmts.html#the-with-statement
Like any line-break, backslash provides the solution


Answer URL
https://docs.python.org/3/reference/lexical_analysis.html#explicit-line-joining
https://docs.python.org/3/library/contextlib.html#contextlib.ExitStack
https://docs.python.org/3/reference/compound_stmts.html#the-with-statement
