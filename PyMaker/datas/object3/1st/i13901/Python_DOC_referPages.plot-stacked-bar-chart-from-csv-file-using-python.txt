Natural Text
I have data from a csv file that looks like this:I want to plot the exit_status count (i.e the amount of times exit_status == 1 or exit_status == -11) versus start_time in bins of 1 hour. Since there are several distinct exit_status codes, I need to plot it in the form of a stacked bar chart where each distinct exit status is given a different color.Can anyone please help me? I've been stuck on this for 2 days!! Thanks!
Here's how I would solve it:Read the csv-file. This can be done using the csv module for pythonRead and/or convert the date stamps according to your bin size, and iterate through each line, adding to the correct hour bin. I just do it the dirty way and cut the minutes and seconds: row[0][:-5] returns 15/07/2015 11, a date and hour to work with.You'll end up with a list status_records which consists of two dicts, representing the two status options, which then contain the hour bins:"1"   : {"15/07/2015 11": 3, ...}"-11" : {"15/07/2015 11": 0, ...}Here's a sample data.csv with some more data (so that you can actually see something, which is difficult with just your 2 entries - I'm using the same date format and the status codes you mentioned):And here's my code (you'll have to change row[0] etc. to the according rows to work with your csv):Output:Improvements: You may want to add some useful labels, and decide wether to show time in which nothing happens (which will maybe clutter the chart with gaps). Also, be aware that as-is the dates should be sorted in the csv, else you have to sort them yourself in the code.Anyway, this should give you something to start with.


Answer URL
https://docs.python.org/3/library/csv.html
