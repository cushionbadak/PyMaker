Natural Text
I often find myself dealing with issues similar to the failure triggered by the following code. As you can see, the counter-measures I used in this example are futile: for some reason it looks like while len(some_list) > n + 1 eventually gives "false positives".Of course I could use pass statement to override this "funny behaviour" (even through I think it would be kinda "hacky", it would work). However, the point is: why is this happening, actually?This is the response on command-line:Clarifications:I am deliberately using .pop() to eliminate that element on purpose.The purpose of the question is determining the causes of this kind of error, nothing else.The code is just an example that triggers the exception I wanted to expose in the question.The "purpose" of the code is eliminating list duplicates adding them to the adjacent element(which is expected to be equal).Bad formulated question because a wrong guessAfter using the debugger recommnded by @Kevin M granger:I realized my own stupidity. There wasn't "false positive" at all. This question actually is stupid, so I agree it must be erased.I am so sorry for my rudeness and stupidity.
The pop here reduces the length of the list, and on the next while iteration there is no guarantee that len(some_list) > n + 1, so the exception can occur. You can change the inner while to:
Your trouble is here:When n=1, you pop the last item off of some_list and add it to some_list[1].  The "pop" modifies the list, so now some_list is now [3, 4].  Then you return to the "while" condition, where you check some_list[1] == some_list[2], but some_list no longer has an item at index 2; you just popped it.Here's a different approach that seems (at least to me) clearer (although I'm guessing about what you want to do:
In the line some_list[n] += some_list.pop(n+1) you reduce the size of your list. When it next evaluates while some_list[n] == some_list[n+1]:, some_list[n+1] raises an IndexError, because the list is now less than n+1 elements long.


Answer URL
https://docs.python.org/3/library/pdb.html
