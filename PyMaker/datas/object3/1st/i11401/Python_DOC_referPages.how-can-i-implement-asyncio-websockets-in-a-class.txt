Natural Text
I would like to connect to a websocket via asyncio and websockets, with a format as shown below. How would I be able to accomplish this?
How to write async programs?You should define async funcs with asyncYou should call asyncfuncs with awaitYou need event loop to start your async programAll other is almost same as with regular Python programs.Output:As you see, code is almost same as you wrote.Only difference is that websockets.connect designed to be async context manager (it uses __aenter__, __aexit__). It's necessary to release connection and will also help you to make async operations during class initialization (since we have no async version of __init__).I advise you to organize your class same way. But if you really don't want to use context manager for some reason you can use new __await__ method to make async initialization and some other async function to release connection:Many examples of using websockets you can find in it's docs.


Answer URL
https://docs.python.org/3/library/asyncio-eventloop.html#base-event-loop
