Natural Text
I saw something like:I know x for x in [1, 2, 3] is a comprehension, but I cannot find a valid grammar for it, since x for x in [1, 2, 3] itself is invalid.
From python3 referencecheck:set is primary, x is expression and for x in [1, 2, 3] is comp_for
It is to create a set based on the comprehension. Example:The result will be a set:In the above example, it happen to be the logic can be simplified to:Where you do not need a comprehension at all
It's a generator expression. They are normally surrounded by parens, but the parens can be omitted if the expression is the only argument to a function call:Generator objects can be iterated over, they produce values one by one. Compared to using a list comprehension here, the advantage is that no intermediate list object has to be created (which matters more if there are, say, a million elements rather than three).Documentation: https://docs.python.org/2/reference/expressions.html#generator-expressions
python's set based on comprehension. example for list with strings
(x for x in [1, 2, 3]) is a Generator ExpressionsIt reduces an iterable input to a single value.It match with the constructor of the set class.There are in Python 3 a set comprehension like that:So you don't need set(x for x in [1, 2, 3]) anymore in Python 3.


Answer URL
https://docs.python.org/3/reference/expressions.html#calls
https://docs.python.org/3/reference/expressions.html#generator-expressions
