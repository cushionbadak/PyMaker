Natural Text
I have gone through previous posts on this error. But, that does not help me. So I am putting for attention afresh. The code is as follows.This on running gives the error 'tuple' object has no attribute 'replace' and seems to be giving error. I am using dict for replacement of special characters in filenames, eg., [,&<>*?|\";+:'() ]. Is there any better way of doing this. thanks.
os.walk yields tuples:For each directory in the tree rooted at  directory top (including top itself), it yields a 3-tuple (dirpath,  dirnames, filenames).To extract just the filename, either use indexing or sequence unpacking. Any of these will work:Alternatively, as @AntonvBR points out, you can use sequence unpacking in the definition of your for loop iterable:
In your first piece of code, fn is a tuple as os.walk() returns a tuple of dirpath (string), dirnames (list), filenames (list). So when assigning it to nn, nn becomes the tuple and using nn.replace(k, v) in turn will not work because a tuple doesn't have the method replace.In your second piece of code, nn is now equal to fn[2] (list of dirnames). Unfortunately, a list doesn't have a replace method either. Assuming that you are replacing all the : and + in your filenames, then you need to loop through each of these filenames:Other things I have observed and changed in the code:the filenames returned by os.walk do not include the full path of the file, which means that os.rename may not find the file if the script is not run in the same directory as the directory you are renaming files. So I incorporated the path during the renaming as well.after os.rename, the file in the directory will get renamed, but the name of the file that the code read would still be the same. As such, you have to change the name of the file in the code as well.So:Though I would cut one more code line through the following suggestion:
The problem is the lineos.walk returns a sequence of tuples  in the form (dirpath, dirnames, filenames) according to the Python docs. So you're trying to call the .replace() method on a tuple, which is giving you an error because the tuple class has no such method. I assume you meant to use the str.replace() method.Here's some code that should work (tested on some directories I made for the purpose on my machine):


Answer URL
https://docs.python.org/3/library/os.html#os.walk
https://docs.python.org/3/library/os.html#os.walk
