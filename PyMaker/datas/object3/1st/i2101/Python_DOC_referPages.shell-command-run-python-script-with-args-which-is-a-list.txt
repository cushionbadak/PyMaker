Natural Text
This question already has an answer here:argparse option for passing a list as option                    7 answers                i need to use shell command to run python script but the args is a listthe python script:when i use the shell pythonthe system show:   "(' have a error"how can i trans the list into script ?the ("store", "IDCODE", 18116485, 88779) is a arg
The shell passes your program an array of strings, that Python turns into a list of strings. The shell doesn't know Python syntax. You could call your program like then use ast.literal_eval to parse that into a list.outputHowever, it would be more robust to receive the args as separate strings.Call it likeAnd the output is
A cleaner way to do what you ask (mostly if you need other parameters) would be to identify your list from another param and enumerate allowed types (convert if necessary), which would look something like this:here is the command & result:Remember, the alternative of PM 2Ring is still better!
Here's an alternative you might like: send it as a single string and import it as encoded json.  Just "import json" and change your main() call to look like this:and call the script with the parameters inside single quotes, but leave out the ()'s so it looks like a proper json encoding:which gives me an output that looks like:This will also allow you to send more complex structures like:Without analyzing the internals of the json decoder, I cannot say if it directly opens any security holes, but I can say you have to be careful how you use the decoded values to ensure you don't add any of your own.Hope this helps.


Answer URL
https://docs.python.org/3/library/ast.html#ast.literal_eval
