Natural Text
i am trying to get the output of a command in my python program by using "check_output" method. but i'm getting this error: File "/usr/lib64/python3.6/subprocess.py", line 336, in check_output    **kwargs).stdout  File "/usr/lib64/python3.6/subprocess.py", line 418, in run    output=stdout, stderr=stderr)subprocess.CalledProcessError: Command 'oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_rht-ccp --results-arf arf.xml /usr/share/xml/scap/ssg/content/ssg-centos7-ds.xml' returned non-zero exit status 2.this is the part of my program that is related:I am sure that the command is alright because I get the results when I write:I am using python 3.6, and work in centos 7.any idea why the check_output can not get the result?
This is entirely normal, because the command you ran produced a non-zero exit code. It means that the command you ran is signalling that something may be wrong. See the subprocess.check_output() documentation:If the return code was non-zero it raises a CalledProcessError.andThis is equivalent to:where the check=True flag tells run() to raise an exception when return_value is not 0:If check is true, and the process exits with a non-zero exit code, a CalledProcessError exception will be raised.The other function you used, subprocess.call(), does not set check=True:Run the command described by args. Wait for command to complete, then return the returncode attribute.This is equivalent to:So either don't use check_output(), or catch the exception thrown, or fix the command you are running. That call() worked is no indication that the process actually produced a successful result.For example, you could use subprocess.run() directly:


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.check_output
https://docs.python.org/3/library/subprocess.html#subprocess.call
