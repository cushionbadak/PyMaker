Natural Text
I'm newbie using gettext library to translate text. I want to translate the text that there is in the next file:dobles_message.pyTo do that,first I have create dobles_message.po with this instrucction:Then, I have created these directory structure i18n/es/LC_MESSAGES and i18n/en/LC_MESSAGES and I have created the .po version for each languate with these instructions:Thrid, I have change the charset and translate the text of each file.And fourth, I have created the .mo files from each .po file with this instruction in directory i18n/es/LC_MESSAGES and in directory i18n/en/LC_MESSAGESBut, when I run my application instead of translate the text, muy application shows me the msgid.These is how is my structure of files and directories:And the content of my files are next ...dobles_message.potbasketmetrics_i18n.po (English version)basketmetrics_i18n.po (Spanish version)What am I doing wrong? I'm using python3Edit I:In my code, I have remove the option "fallback=True" and I get this error:In my first step I define the domain "basmetmetrics_i18n" and I've got the .po files created with that name. What happend? Edit II:Following the wise advice from @stovfl I have change my set_message function:Right now, I haven't any error in my application but I'm still getting the msgid instead of the msgstr. I don't understand anything :(
Question:  using gettext library to translate textFrom the Documentation:gettext(message)Look up the message id in the catalog and return the corresponding message string, as a Unicode string. If there is no entry in the catalog for the message id, and a fallback has been set, the look up is forwarded to the fallbackâ€™s gettext() method. Otherwise, the message id is returned.Your code, will work for me, if you change the following languages=[language]:According to Python Documentation, you have to do:
Finally, I have found the error. The error due to the path to the directory where you have your language directory. You have to specify this route from the root of the project and not from the file where you want to translate the text. So, my function finally is:Because my directory language "i18n" is on the root of the project


Answer URL
https://docs.python.org/3/library/gettext.html#gnu-gettext-api
