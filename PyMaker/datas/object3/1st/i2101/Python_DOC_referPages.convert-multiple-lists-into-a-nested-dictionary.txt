Natural Text
These are the input values that I want to convert to a nested dictionary.Each value such as     abc, pqr123, xy2, yes, T represents the name of a product.My output should look something like this:  So I need a nested dictionary of all unique values and at the last key of the dictionary should have a value of empty list.Below is my snippet of code that generates the output I require, but I want to do it more dynamically so it is best suited evenif the length of the input grows or shrinks. Please do let me know if are any better solution for this problem.    
You probably want something that's not dependent on so many massively nested brackets. This is a problem that using references to a mutable object will work well on.Every iteration of the inner loop will move the reference dref down a level, and then reset it on every iteration of the outer loop. At the end, data should hold your nested dict.Edit: Sorry, I just noticed that you wanted the last level to be a list. This is one solution to that problem, but isn't the best (it will create errors if there's a list in a spot that a later data entry wants to be a dict instead). I would probably choose to build my nested dict and then recursively replace any empty dicts with empty lists afterwards to avoid that problem.
You can use The dict.setdefault method in a loop to build the nested dictionary. I'll use the pprint module to display the output. Note that pprint.pprint sorts dictionary keys before the output is computed.output


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.setdefault
https://docs.python.org/3/library/pprint.html#module-pprint
