Natural Text
I'm writing a parser than converts LaTeX math in to python eval() compatible string.I get to a point where I have a string that looks like this:Notice the still mostly LaTeX syntax, as well as some arbitrary "unit" letters thrown in.I then use the following Negated set, to replace everything except what is in the negated set.How Can I include a substring "sqrt" so that it can work in a similar fashion, and preferably in the same regular expression?Right now my work around is replacing '\sqrt' with 'Q', doing the line of code above, and then setting 'Q' to 'sqrt' after, my full routine for going from the above syntax to eval() syntax is as follows:Which results in the eval() syntax'd:But this is sloppy, and it would be useful in many areas if I could 'whitelist' characters and substrings in one line, blowing away all other characters that come up.EDIT:As I continue expanding my script this list will get longer but for now I want to match the following and discard everything else:Here are a few examples:There is some nuance to this beyond simply matching only those characters as well. In my first example you can see I have v/a, even though there is an '/' there, I remove that as well. 
Instead of "deleting" characters that aren't specified, what about "keeping" characters that are specified -- this is easy enough since you've already negated the group:Then you can add any alternative literals you want, e.g.:In Python, this might look like, using join and re.findall():Output:(the last one doesn't match what you're expecting because of the first forward slash, but that's outside the scope of the question really.)


Answer URL
https://docs.python.org/3/library/re.html#re.findall
