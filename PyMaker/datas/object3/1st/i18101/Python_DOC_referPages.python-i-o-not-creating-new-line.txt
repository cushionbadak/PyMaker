Natural Text
I have the following code:Effectively I am modifying the lines list at usernum, then writing it back to the original file 'users.txt'. However, even adding the "\n", everything gets written to one line rather than an individual line for each line in lines. Why is this?
That is because str(lines) will not do what you expect it to do:As you can see, it will write a representation of the list, and not print out the individual lines. You can use str.join to combine the list elements:Using '\n' as the join character will make sure that a newline is inserted between each list element, so you do not need to take care of adding it to every item manually.Furthermore, when working with files, it is recommended to use the with statement when opening them, to make sure that they are closed correctly when you are done working with them.
You are writing the string representation of the list to the file.String representations of Python containers use the representation of the contents, not directly write strings.Use the writelines() function to write a sequence of strings:or write each line separately:or join the lines into one long string:The latter also allows you to add the newlines at the time of writing, by using \n as the joining string:where lines contains strings without newlines.
Use a for-loop and '\n' to write each item on a new line:Calling str() on a python object like list or dict simply returns the str version of that object, to write it's content to a file you should loop over it.Demo:


Answer URL
