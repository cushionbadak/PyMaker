Natural Text
This question already has an answer here:difference between dict(groupby) and groupby [duplicate]                    4 answers                I've executed the following script:For the item '23271800' it should report [('23271800', 0.00066790780636275307)] as its corresponding groupby item. However, I am getting an incorrect output. Need help in understanding if I am doing anything incorrectly here.PS: Code paste: http://codepad.org/cCd8DfoT
groupby will return key and a generator for the group, for each group it finds.Output
The iterator returned by itertools.groupby() is slightly tricky to use. As it says in the documentation:The returned group is itself an iterator that shares the underlying iterable with groupby(). Because the source is shared, when the groupby() object is advanced, the previous group is no longer visible.What this means is that you have to process each group as it is generated by the groupby() object. If you look at the group later, you'll find that it's contents have been skipped. For example:The documentation says:So, if that data is needed later, it should be stored as a list.For example:But it is usually better to try to re-organize your code so that you can process each group in turn, without storing it in a list. For example, like this:
It sounds like you want a non-streaming groupby operation.  The implementation in itertools is probably overkill for you application.  You could try the implementation in toolz.


Answer URL
