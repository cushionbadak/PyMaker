Natural Text
I'm writing a python (3.2+) plugin library and I want to create a function which will create some variables automatically handled from config files.The use case is as follows (class variable):(instance variable):the option draft code is as follows:I have problem the first case, when option is declared as class variable. Is it possible to somehow get reference to the class in which this function was used (in example to class X)?
You cannot get a reference to the class, because the class has yet to be created. Your parent frame points a temporary function, whose locals() when it completes will be used as the class body.As such, all you need to do is add your variables to the parent frame locals, and these will be added to the class when class construction is finished.Short demo:
It seems to me that a metaclass would be suitable here:python2.x syntaxpython3.x syntaxIt seems that python3 uses a metaclass keyword in the class definition:Or, more along the lines of what you have in your question:


Answer URL
