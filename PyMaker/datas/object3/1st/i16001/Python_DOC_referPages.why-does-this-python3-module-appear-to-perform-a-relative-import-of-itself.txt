Natural Text
If I create a module named 'json.py' with the following contents:..shouldn't the 'import json as _json' statement perform an absolute import, and therefore provide the python standard-lib JSON module?..instead, if I execute or import this module, I get:..which shows that 'json' is importing itself (a relative import).  ..I imagine I'm missing something -- python's import system has always made natural and intuitive sense to me, but in this case I'm lost.Edit: I'm using python 3.4Edit: For anyone interested, this is what occurred:I have a package which includes a module called 'json', which replaces the system 'json'.  This is fine (IMO), however, I also started a script that was in the same package folder (temporarily) but not meant to ultimately be a part of the same module.  Thus, the following occurred:I run my script, packagename/foo.pypython adds packagename folder to sys.pathfoo.py imports packagename.jsonpackagename.json imports json (which would normally be the system json)first entry on sys.path is the packagename folder, and 'json' is imported from theremy json.py continues loading after the import, and runs into errors (because it's dealing with itself, not the system json module)Solution:  Move the script to my package's 'bin' folder, or, if I want it to be a part of the package proper, use python -m packagename.fooThank you, @Martijn Pieters.
It is doing an absolute import.The directory the main script lives in is added to sys.path, and as a result the first json found is your script. You are running python relative_import/json.py and Python thus adds relative_import/ to sys.path.Note that the main script is named __main__, so import json does import the script file as a separate, new module object. Your code is in effect loaded twice.See the Interface options documentation:If the script name refers directly to a Python file, the directory containing that file is added to the start of sys.path, and the file is executed as the __main__ module.


Answer URL
https://docs.python.org/3/using/cmdline.html#interface-options
https://docs.python.org/3/library/importlib.html#module-importlib
