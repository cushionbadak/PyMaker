Natural Text
I'm facing a problem in my python program, I have two optional arguments, the problem is that there must be at least one of these two arguments that must be used but the two arguments can't be passed together, is there a way of doing this with argparse ?Here is the code I'm currently using:Here are some examples of how I would like it to work:./main.py -i True => OK./main.py -o True => OK./main.py -o True -i True => Not OK
I would suggest, you refactor the arguments and combine -o and -i into one mandatory argument. Then you define o and i (or whatever is appropriate) as allowed values using the choices argument of add_argument.E.g:Now the user has to specify one of the two, but can't specify both at the same time.
A mutually_exclusive_group will give you the required, but not both action.But first, you don't want type=bool.  bool is a function that converts its input to True or False, but does not convert the string 'False' to boolean False.   I'd suggest using the action='store_true' instead.It raises an error is neither of -i or -o is used, or if both.  It sets the appropriate attribute to True if one or the other is used.  Note that the usage line indicates this 'exclusive or' logic with (-i | -o).


Answer URL
https://docs.python.org/3/library/argparse.html#choices
