Natural Text
I have a program, myshell.exe, that i need to interact with through python (send commands to it and read results back).The catch is that i can only run myshell.exe once (cannot enclose popen and communicate in a loop)I have tried popen and popen.communicate() but that seems to run myshell.exe, send my commands and then exits the process.At this point, from the print output i can see that my myshell.exe has exited (i have a goodbye message that is printed).Any ideas if there is any way around it ? Thanks.
As you can read in Popen.communicate docs, it will wait until myshell.exe exits before returning.Use p.stdout and p.stdin to communicate with the process instead:p.stdin and p.stdout are regular file objects. You can read and write to them in a loop, just leave the p = Popen(...) part outside:This assuming that myshell.exe is behaving as you expect (e.g. does not exit after first command is sent).


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate
