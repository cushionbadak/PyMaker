Natural Text
i searched everywhere but I could not find one explanation on how os.walk(onerror) works.os.walk is defautly ignoring listdir() errors but I need to recieve at least alert, in better case path of directory which caused this error. How should I set up this argument?Thank you for help.
The error handler should be a callable.  It will be called with one argument, the exception instance.os.walk ignoring errors by default is by design.  This allows the walk to continue to traverse other directories even after, for example, one subdirectory encountered in the walk could not be listed due to insufficient permissions.When handling the exception instance, all the information you are interested in is likely contained in the exception_instance.args and the type(exception_instance).  Since it's an OSError (or a subtype), the errno will be a useful attribute.  You can make comparisons against the constants of the stdlib errno module.  For example, permission denied is errno.EACCES (13).  That's the error you'd get if you tried to list /root as a normal user.


Answer URL
https://docs.python.org/3/library/errno.html
https://docs.python.org/3/library/errno.html#errno.EACCES
