Natural Text
When running the test bellow, I got a stop called on unstarted patcher.I read stuff about this error on stack overflow, and concluded that I should avoid mocking the same stuff (stacked mocks). But it's not what I'm doing here. I'm nesting mocks, and it seems to be ok.If I invert the return values (first mock returns False, second returns True), the test works well. Any idea?Thanks.
In short, you cannot patch the builtins func hasattrreason: used by mock.pyto repeat the error:to mock a builtins func inside models.py:


Answer URL
https://docs.python.org/3/library/unittest.mock-examples.html#nesting-patches
https://docs.python.org/3/library/unittest.mock.html
