Natural Text
I have problem with function Popen. I try retrieving the output from command which i used. This part working, but when I call the variable inside Popen (for adress in IP)print(subprocess.Popen("dig -x ",Adres," +short", shell=True, stdout=subprocess.PIPE).communicate()[0].decode('utf-8').strip()) happens something like that:I thought it would be problem with command so I used this solution:But now the return values is different than from console :  How I can print this the above name in script ?Thank a lot of 
The error is that you're not passing a single string, but multiple separate arguments:If you look at the Popen constructor in the docs, that means you're passing "dig -x" as the args string, passing Adres as the bufsize, and passing "+short" as the executable. That's definitely not what you want.You could fix this by building a string with concatenation or string formatting:However, a much better fix is to just not use the shell here, and pass the arguments as a list:Notice that if you do this, you have to remove the shell=True, or this won't work. (It may actually work on Windows, but not on *nix, and you shouldn't do it even on Windows.) In the edited version of your question, you're not doing that, so it's still wrong.While we're at it, you really don't need to create a Popen object and communicate with it if that's literally all you're doing. A simpler solution is:Also, if you're having problems debugging a complicated expression like yours, it really helps to break it into separate pieces that you can debug separately (with extra prints, or debugger breakpoints):This is essentially the same thing, with nearly the same efficiency, but easier to read and easier to debug.And when I run this with Adres = '156.17.4.20', I get exactly the output you're looking for:


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.Popen
