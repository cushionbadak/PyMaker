Natural Text
I just started learning python and tried printing the dictionary contents using format function. I gained some insight while reading https://www.python-course.eu/python3_formatted_output.phpQuestion 1 : The double * operator is used performing exponential calculations, how it behaves with the dictionaries?Question 2 : For this block of code I am getting IndexError: tuple index out of range. I must have misinterpreted something.
You iterate like this:Since students is a dict, this iterates over the keys, which are numbers, like 100, which means end up building a format string like this:And then, when you call format on that, the 100 is asking for positional argument #100. But you only passed 0. So you get an IndexError.You can only usefully use the format(**students) syntax when the dict keys are valid string format keys.Meanwhile, I don't know who's been spreading the idea that format(**d) is a great idea. If you want to format using only a dict or other mapping, that's what format_map was added for, back in 3.2:One advantage is that when you do something wrong, you get a more useful error message:When you see that, you can print out the format string itself and see that {100}, and, yep, that's a positional field. Much less debugging needed.More importantly, it's simpler to read and understand without the keyword splatting. And it's even more efficient (not as much so in 3.6 as in 3.2, but format still has to build a new dict copy, while format_map can use whatever mapping you give it as-is).Finally, building a format string dynamically like this is rarely a good idea. A much simpler way to print what you're trying to print is:Or, if you're not using 3.6, or just want to use format or format_map explicitly instead of f-strings, same idea.


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.format_map
https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists0
