Natural Text
My code is creating the same headers each time, I want it to create one and append the data to a CSV without creating a new header.What it looks like in the CSVWhat I want it to look likeAny help is greatly appreciated.
You are opening file in appending mode (https://docs.python.org/3/library/functions.html#open), so this line=Details.readlines() will always be empty line and your headers will be written every time (code will always get into if).It is similar with other file. So I suggest you first check if file exist, and if not create it and add headers, and remove headers part from with:
There are different problems in your code:1) Empty line between lines with data in csv file, it happens because of the nonbinary type of opening and can be fixed by adding that arg in open function:2) In your case Details.readlines() method was returning [], because of the a+ type of opening, it's supposed to add lines in the end of file, so pointer is in the end already and we need to return it at the beginning by using that code:3) Also, we need only first line, so just use readline() method. And after all, your condition should look that way, because of the return type and the fact that there's \n in the end of every line:And the full code of that part. Let me know if it works well for you:
I don't understand everything your code is trying to accomplish, but the following will add a row to the Details.csv without creating any new headers:You should consider following the PEP 8 - Style Guide for Python Code recommendations as it will make your code easier for both you and others to read.


Answer URL
https://docs.python.org/3/library/functions.html#open
