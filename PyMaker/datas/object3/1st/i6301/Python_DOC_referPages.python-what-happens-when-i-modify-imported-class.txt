Natural Text
I have written the following code to modify the behavior of a method of one classThis works for my purposes, but: what have I modified exactly? Is mymodule.MyClass a copy of the original class living inside the current module? Does it in any way affect the original class? How does import work exactly?
When you modify imported module, you modify the cached instance. Thus your changes will affect all other modules, which import the modified module.https://docs.python.org/3/reference/import.html#the-module-cacheUPDATE:You can test it.change_sys.py:main.py:Output for python ./main.py:
It depends. In normal uses cases everything should be ok. But one can imagine special cases where it can lead to weird results:a.py:b.py:c.py:Now in top level script (or interactive interpretor) I write:Output will be:It may be what you want, but the change has been done in b module and it does affect a module.


Answer URL
https://docs.python.org/3/reference/import.html#the-module-cache
