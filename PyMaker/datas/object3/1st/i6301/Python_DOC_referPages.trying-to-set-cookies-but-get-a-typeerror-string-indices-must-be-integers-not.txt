Natural Text
I have python code that looks like thisBut i keep getting the error "TypeError: string indices must be integers, not str" no matter what i do, it only seems to go away when remove "cookie" entirely from my post request at the bottom, any help would be appreciatedhere's what the traceback error looks like
In requests, when you try to send cookies in the request, cookies kwarg should be a dictionary. Instead what you have tried to send is a string. Change it to a dictionary of what you're trying to send as cookies.Edit: I see you're trying to save the cookies to a file and then using it for a later request. What is happening here is that you're saving the cookiejar object as it is. Which doesn't help when you try to retrieve it. Instead what you should do is to pickle the object and save it. Python requests framework provide a method to convert the cookiejar object to dictionary requests.utils.dict_from_cookiejarThe lineshould be changed toAnd then when you fetch the cookies, it should be


Answer URL
https://docs.python.org/3/tutorial/errors.html#handling-exceptions
