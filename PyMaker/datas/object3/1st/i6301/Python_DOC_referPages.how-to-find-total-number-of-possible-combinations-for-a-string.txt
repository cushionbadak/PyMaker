Natural Text
How to find total number of possible sub sequences  for  a string  that start with a particular character say 'a' and end with a particular character say 'b' from a given string?EXAMPLE:for a string 'aabb' if we want to know the count of how many sub sequences are possible if the sub-sequence must start from character'a' and end with character 'b' then valid sub sequences can be from (ab) contributed by index (0,2), (ab) contributed by index (0,3), (ab) contributed by index (1,2), (ab) contributed by index (1,3), (aab) using index (0,1,2) , (aab) using index (0,1,3) ,(abb) using index(0,2,3),(abb) using index(1,2,3) and aabb itself so total is 9 .I can solve this for a string of small length but how to solve this for a large string where brute force doesn't workNote:We consider two sub strings to be different if they start or end  at different indices of the given string.
Before I post my main code I'll try to explain how it works. Let the source string be 'a123b'. The valid subsequences consist of all the subsets of '123' prefixed with 'a' and suffixed with 'b'. The set of all subsets is called the powerset, and the itertools docs have code showing how to produce the powerset using combinations in the Itertools Recipes section.outputHere's a brute-force solution which uses that recipe.It can be easily shown that the number of subsets of a set of n items is 2**n. So rather than producing the subsets one by one we can speed up the process by using that formula, which is what my count_fast function does.outputThere may be a way to make this even faster by starting the inner loop at the correct place rather than using continue to skip unwanted indices.
Easy, it should just be the number of letters to the power of two. I.e, n^2Python implementation would just be n_substrings = n ** 2


Answer URL
https://docs.python.org/3/library/itertools.html#itertools-recipes
