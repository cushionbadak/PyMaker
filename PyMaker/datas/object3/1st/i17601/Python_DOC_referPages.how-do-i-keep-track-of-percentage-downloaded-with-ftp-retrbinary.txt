Natural Text
I am currently using this code to print out the percentage downloaded from a ftp server using ftp.retrbinary but the download completes at 0.27 percent complete, and only says that sizeWritten finished with 27828224 bits.  Where am I going wrong?
You've ignoring the size of the blocks, and pretending each one is 1K:Just change that to:Your client can send a max block size to the server, with the blocksize argument. But you aren't passing one, so you get the default of 8192.So, why aren't you getting exactly 12.5%, if you're off by exactly a factor of 8? Well, first, the last block is almost always going to be less than the maximum, so you should expect a bit more than 12.5%. And second, you're only giving the server a max block size; it's free to decide it never wants to send more than, say, 4K, in which case you'd get a bit more than 25% instead.


Answer URL
