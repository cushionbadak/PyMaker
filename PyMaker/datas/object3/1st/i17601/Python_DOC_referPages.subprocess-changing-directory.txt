Natural Text
I want to execute a script inside a subdirectory/superdirectory (I need to be inside this sub/super-directory first). I can't get subprocess to enter my subdirectory:Python throws OSError and I don't know why. It doesn't matter whether I try to go into an existing subdir or go one directory up (as above) - I always end up with the same error.
What your code tries to do is call a program named cd ... What you want is call a command named cd.But cd is a shell internal. So you can only call it asBut it is pointless to do so. As no process can change another process's working directory (again, at least on a UNIX-like OS, but as well on Windows), this call will have the subshell change its dir and exit immediately.What you want can be achieved with os.chdir() or with the subprocess named parameter cwd which changes the working directory immediately before executing a subprocess.For example, to execute ls in the root directory, you either can door simply
To run your_command as a subprocess in a different directory, pass cwd parameter, as suggested in @wim's answer:A child process can't change its parent's working directory (normally). Running cd .. in a child shell process using subprocess won't change your parent Python script's working directory i.e., the code example in @glglgl's answer is wrong. cd is a shell builtin (not a separate executable), it can change the directory only in the same process.
You want to use an absolute path to the executable, and use the cwd kwarg of Popen to set the working directory.  See the docs.If cwd is not None, the child’s current directory will be changed to  cwd before it is executed. Note that this directory is not considered  when searching the executable, so you can’t specify the program’s path  relative to cwd.
Another option based on this answer: https://stackoverflow.com/a/29269316/451710This allows you to execute multiple commands (e.g cd) in the same process.
subprocess.call and other methods in the subprocess module have a cwd parameter.This parameter determines the working directory where you want to execute your process.So you can do something like this:Check out docs subprocess.popen-constructor


Answer URL
https://docs.python.org/3/library/subprocess.html#popen-constructor
