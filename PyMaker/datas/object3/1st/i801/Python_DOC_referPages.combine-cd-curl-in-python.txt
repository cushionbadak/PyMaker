Natural Text
This is what I was using to download a pdf from a website.When I don't combine cd.... && part, the curl launches and downloads the file.But, whenever I use the cd command to change the directory and download the file, it just passes the curl command.I don't want to provide -o argument to curl, since I'm not willing to provide custom name to file.Please, suggest the cause of this problem and solution.The question is unique in the sense that it asks for implementation of curl with bash command. The suggested thread is regarding bash command only.
&& is a shell logical operator for running a command if the preceding one succeeds. So, you need to run it inside shell; use shell=True and pass it as string not as a list:Running commands directly in shell, unless sanitized might have catastrophic impact as one can imagine.As a side note, you should look at doing things directly in Python by using os and some web client e.g. requests.Also, if you don't want to use the -o option of curl, you can use the shell redirection operator (>) to save the STDOUT of curl to some file:-s silences curl so that we don't get progress status on STDERR.
As suggested in a comment, you can use the cwd keyword argument to the subprocess functions to run in a different directory. Another simple option is to open a suitable file and pass it as stdout to the subprocess call.Tangentially, you probably want to use check_call or the modern replacement run instead of the very basic call.This also does away with shlex, partly because you say in a comment you had to get rid of it, partly because it doesn't really offer any significant value over splitting a simple static command line into tokens manually once (though you have to understand how to do it, obviously).If you want to keep the -O option,


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.call
https://docs.python.org/3/library/urllib.html#module-urllib
