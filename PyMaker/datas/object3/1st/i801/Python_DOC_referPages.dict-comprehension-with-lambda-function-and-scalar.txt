Natural Text
I have dict comprehension with lambda function and scalar:If want both scalars it working nice:Expected output - combination of scalars and lambda function:What is happening? Why it is not working? What is the correct approach?
Your syntax is parsed as follows (note the location of the parentheses):You want:This is because lambda has lower precedence than if-else.A simpler example also illustrates this:
should work. The reason (as far as I understand) is that boundaries for parsing lambda is overlapping with your comprehension — basically, python parsing your lambda as x.sum() if 'a' in k else 'yes' — with reference to locals


Answer URL
https://docs.python.org/3/reference/expressions.html#operator-precedence
