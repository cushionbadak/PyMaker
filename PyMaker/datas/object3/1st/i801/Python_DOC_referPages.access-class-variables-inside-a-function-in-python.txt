Natural Text
I am trying to read some values from a config file in python inside a class and then i am trying to access these variables inside one more function inside the same class. I have tried the below code but there seems to be something wrong in my code.Here is what i tried:This part of the code is followed by main()The error that i am getting is
You need to add self.:Same for user and user_api.On the flip side, you don't need self for config_file or log_dir if you're not going to use those variables outside of that method.As bruno says, using ConfigParser:This requires adding a line [section] to the top of the config file. Any title will do, but a section header is required.Then you can you self.config = config['section'] and access the values as self.config['instance'].
Here:You are creating local variables, not instance attributes. You have to assign to self.instance, self.userandself.user_api` instead.Also, with your current code, there's no garantee that those attributes will be set (if the "user", "user_api" or "instance" words are not found in the file), so you want to first set those attributes to default values, ie:Also, python has a ConfigParser class that knows how to deal with ini files, so you'd probably be better using this instead. 


Answer URL
https://docs.python.org/3/library/configparser.html
