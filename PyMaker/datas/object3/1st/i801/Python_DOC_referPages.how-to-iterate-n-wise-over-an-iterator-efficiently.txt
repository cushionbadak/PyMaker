Natural Text
Possibly a duplicate, but I couldn't find anything.I have a very long iterator (10000 items) and I need to iterate over it ~500 items at a time. So if my iterator was range(10000), it would look like this:and so on. There is this method:However, this doesn't work with lazy iterators. I tried to create a solution using iterators and adapted from the itertools pairwise and consume recipes (see here) to create this:which does the same (albeit yielding a tuple rather than a list, which does not matter to me). I also believe it doesn't create a lot of unnecessary slices. This solution works on non-sliceable iterators, like files (which I plan to work with). However, the itertools solution was 2x slower:I don't want to have to load all of my test data into memory to take advantage of the slice method. Is there a more efficient way to pull this off? 
What about using a deque to "memoize" your items?


Answer URL
https://docs.python.org/3/library/itertools.html#itertools-recipes
