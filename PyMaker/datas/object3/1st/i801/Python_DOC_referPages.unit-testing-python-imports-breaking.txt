Natural Text
I have a python app that Iâ€™m attempting to unit test.  The code is sat in a src directory the tests in a test directory. The problem comes when trying to test the class containing my main method. This class sits in the src directory and has references to  classes in other modules that all sit in the src directory. In order to execute my app I have the references in this format from <module> import <class>When I come to test this main class I write a test class and place it in the test directory. Running the test I find I have problems with the imports in the main class. To resolve I have to change the imports to be from from src.<module> import <class> Having done this my tests now pass but the app itself fails.How can I resolve the issue so that my imports are valid for both my unit tests and normal execution?
It may fail due to the way import works.I would recommend always using absolute imports. This means, that when creating a package, all imports within that package import all the way from the top level down: from package.module import thing. And more importantly, installing your package - not as a normal Python package, but with a symbolic link allows you to edit your source code while it still is considered an installed package. This way you can position your tests and scripts however you want them and the thing will always work.Installing your package is done with pip install -e . from root. See a packaging tutorial for an example of packaging if you're not familiar with it.An example package structure might be:And for example in app.py, and everywhere really:So to your case, if I understood it correctly, you'd have:


Answer URL
https://docs.python.org/3/reference/import.html
