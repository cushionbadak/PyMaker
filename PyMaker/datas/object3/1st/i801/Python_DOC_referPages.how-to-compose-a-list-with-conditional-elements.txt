Natural Text
I program in python for a while and I've found that this language is very programmer friendly, so that maybe there is a technique that I don't know how to compose a list with conditional elements. The simplified example is:Basically I'm looking for a handy way to create a list that contains some that are added under some specific condition.Some alternatives that don't look such nice:Is there something that can simplify it? Cheers!
If you can create a list of bools representing what elements you want to keep from a candidate list, you can do this pretty succinctly. For example:If you can use numpy, this gets even more succinct:Finally, as suggested in a comment, you can use itertools.compress(). Note that this returns an iterator, so you have to unpack it.
In one line you can write:Or use a list comprehension:Or the functional way to remove Falsy values:
First I'd write a simple predicate function that determines whether or not a value should be included. Let's pretend that in this list of integers you only want to include those numbers >0.Then you can have your whole list of numbers:And filter them:which creates a filter object -- a generator that produces the values you need once. If you need a whole list, you can either do:or, idiomatically, use a list comprehensionYou can also use itertools.compress to produce a similar result to filter, but it's a little over-engineered in this simple case.
This approach uses a None sentinel value for values to remove, then filters them out at the end. If your data contains None already, you can create another sentinel object to use instead.
The itertools module has many useful functions:


Answer URL
https://docs.python.org/3/library/itertools.html?highlight=itertools#itertools.compress
https://docs.python.org/3/library/itertools.html?highlight=itertools#itertools.compress
