Natural Text
I need a way to find all combinations from two different lists where each element may or may not be null. For example with the two lists I'd like to call a function that returns a list of all these combinations:Should return:I can do this trivial example but if the list is more complicated say ['A', 'B', 'S', 'A', 'A'] then the possible options are much more complicated:
I will assume the elements of b are hashable. In that case you can use the following code:Here we first convert the b into a set to boost performance. This is strictly speaking not necessary. Then we use a recursive algorithm where for each element a[i] in a that is in b, we have a decision point whether to or not to include it in the result (that's why we perform the recursion again when that element is popped). When we reach the end of the list, we convert our running list l into a tuple(..). You can also use list(..) to convert it into a list.We use a running list to boost performance a bit since concatenating two lists is done in O(n) whereas the running list can append(..) and pop(..) in O(1) amortized cost.This will produce a generator of tuples. You can materialize the outcome of each generator with list(..) like:In case lists are required, you can use map(list,..) to convert them to lists, like:
After playing around I found an alternative way to Willem Van Onsem's answer. Not quite as clean but also works.When called gives:


Answer URL
https://docs.python.org/3/library/itertools.html
