Natural Text
I have following string:I am trying to split it in a way I would get back the following dict / other data structure:I can somehow split it if I only have one BUCKET, not multiple, like this:Input: ADRIAN:/dir1/dir11/DANIEL:/dir2/ADI_BUCKET:/dir3/CULEA:/dir4/ADRIAN:/dir5/ADRIAN:/dir6/Output: [(ADRIAN, /dir1/dir11), (DANIEL, /dir2/), (CULEA, /dir3/), (ADRIAN, /dir5/), (ADRIAN, /dir6/)As per Wiktor Stribi≈ºew comments, the following regex does the job:
If you're experienced, I'd recommend learning Regex just as the others have suggested. However, if you're looking for an alternative, here's a way of doing such without Regex. It also produces the output you're looking for.This will produce:This code is hopefully easier to understand and manipulate if you're unfamiliar with Regex, although I'd still personally recommend Regex to solve this if you're familiar with how to use it.
Use re.findall() function:The output:
Use regex instead?Which gives
It appears you have a list of predefined "buckets" that you want to use as boundaries for the records inside the string.That means, the easiest way to match these key-value pairs is by matching one of the buckets, then a colon and then any chars not starting a sequence of chars equal to those bucket names.You may useCompile with re.S / re.DOTALL if your values span across multiple lines. See the regex demo.Details:(BUCKET1|BUCKET2) - capture group one that matches and stores in .group(1) any of the bucket names: - a colon(.*?) - any 0+ chars, as few as possible  (as *? is a lazy quantifier), up to the first occurrence of (but not inlcuding)...(?=(?:BUCKET1|BUCKET2)|$) - any of the bucket names or end of string.Build it dynamically while escaping bucket names (just to play it safe in case those names contain * or + or other special chars):See the online Python demo.


Answer URL
https://docs.python.org/3/library/re.html#re.findall
