Natural Text
I'm trying to list out tweets with their time-stamps. I have this...Which prints out...Sat Oct 20 04:56:47 +0000 2012 @uriel1998 W/r/t DMs, they appear just fine in 2.0.4 and 2.1 beta here, near as I can tell.Which is pretty much what I'm after, but for the time, which seems to be in the wrong timezone. https://twitter.com/ttytter/status/259518502069760000Is there a way I can change this within the python-twitter library? I was looking at  GetTimeZone() and SetTimeZone(), but I haven't been able to figure out how they work.Also looking at how to shift a datetime object by 12 hours in python but not sure if I need to go there.Thanks for any help!
python-twitter returns the status timestamps as a string and as the number of seconds since the epoch. The latter is the simplest to convert to a timezone-aware datetime instance (see this answer).Unfortunately the user's time_zone attribute is not in the standard tz database format used by pytz, so it is necessary to use the utc_offset user attribute instead (we still use the time_zone attribute to name the tzinfo created with with the UTC offset). The python-dateutil package provides a convenience type tzoffset that allows the creation of tzinfo instances from UTC offsets, which we can then use to convert the datetime from UTC to the local time zone:which gives the output for the first status:
Combining suggestions from Pedro Romano and J.F. Sebastian, I have this...Output: 2012-10-19 21:56:47 @uriel1998 W/r/t DMs, they appear just fine in 2.0.4 and 2.1 beta here, near as I can tell. which is the correct time zone and also accounts for DST.Thank you!


Answer URL
