Natural Text
I want to chunk an input stream for batch processing. Given an input list or generator,I want a function that will return chunks of that input. Say, if chunk_size=4, then,This is something I do over and over, and was wondering if there is a more standard way than writing it myself. Am I missing something in itertools? (One could solve the problem with enumerate and groupby, but that feels clunky.) In case anyone wants to see an implementation, here it is,EditInspired by kreativitea's answer, here's a solution with islice, which is straightforward & doesn't require post-filtering,
[Updated version thanks to the OP: I've been throwing yield from at everything in sight since I upgraded and it didn't even occur to me that I didn't need it here.]Oh, what the heck:which gives:Warning: the above suffers the same problem as the OP's chunk_input_stream if the input is a list.  You could get around this with an extra iter() wrap but that's less pretty.  Conceptually, using repeat or cycle might make more sense than count() but I was character-counting for some reason.  :^)[FTR: no, I'm still not entirely serious about this, but hey-- it's a Monday.]
The recipe from itertools:
Is there any reason you're not using something like this?:edit:Since people are making generators....edit 2:I was thinking, if you have the input stream in memory as a deque, you can .popleft very efficiently to yield n number of objects.  


Answer URL
