Natural Text
I want to parse the Accept-Language header. All answers that I find deal with parsing the string but do not handle the case of a badly formatted input.For example what if the user is sending this header Accept-Language: en,es;q=0.5;*;q=0.5 which is badly formatted because of the second ;. Is there any package that can offer easy parsing and appropriate exception raising? 
First you should start by understanding the proper format of the Accept-Language header: https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4You can see the definition of the Accept-Language header field is:An example of the properly formatted header is: Accept-Language: da, en-gb;q=0.8, en;q=0.7. You can see that each comma , separates the language tuples, where each language tuple is language-range and quality weight (optional).Now that you know how is the Accept-Language header defined, the only problem is how to parse it.You can implement this in many ways depending on the language, but I will write a pseudo-code:Note that depending on the language dealing with errors is different.


Answer URL
https://docs.python.org/3/library/wsgiref.html
