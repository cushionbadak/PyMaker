Natural Text
I would like to replace all substring occurrences with regular expressions. The original sentences would be like:Now let's suppose I have two substrings I would like to bold. I bold the words by adding ** at the beginning and at the end of the substring. The 2 substrings are:At the end I want the original sentence like this:The main problem is that as I have several substrings to replace, they can overlap words like the example above. If I analyze the longest substring at first, I am getting this:On the other hand, if I analyze the shortest substring first, I am getting this:It seems to be I will need to replace from the longest substring to the shortest, but I wonder how should I do to consider it in the first replacement but in the second. Also remember the substring can appear several times in the string.Note:// Suppose the string ** will never occur in the original string, so we can use it to bold our words
You can search for all of the strings at once, so that the fact that one is a substring of another doesn't matter:
You could have a group that is not captured and is note required. If you look at the regex patter (?P<repl>(?:the )?house), the (?:the )? part is saying that there might be a the in the string, if it is present, include it in the match. This way, you let the re library optimize the way it matches. Here is the complete exampleNote: \g<repl> is used to get all the string matched by the group <repl>
You could do two passes:First: Go through from longest to shortest and replace with something like:'the house': 'AA_THE_HOUSE''house': 'BB_HOUSE'Second: Go through replace like:'AA_THE_HOUSE': '**the house**''BB_HOUSE': '**house**'
Replace the strings with some unique values and then replace them back with original string enclosed in ** to make them bold.For example:'the house' with 'temp_the_house''house' with 'temp_house'then 'temp_house' with 'house' 'temp_the_house' with '**the house****'Should work fine. You can automate this by using two lists.


Answer URL
https://docs.python.org/3/library/re.html#re.sub
