Natural Text
I know how to do it with a current URL e.g.But what about if after you visit a URL, such as one with OAuth, for exampleThe URL will then direct to one such as https://localhost:5000/authorized?code=AQCvF. How do I get the code=AQCvF?I could probably do something like, get the address of the current browser and then parse the URL, but is there a cleaner way?Complete code is below:index.j2routes.pyhandlers.py
You can get the .url attribute from the Response object - this would be the final response URL:Then, you can urlparse the url to extract the GET parameters:
Your code would work fine if you were using a synchronous Python framework, but it appears you are using an async framework, as implied by the async def on_get(self, req, res).You will either have to write an async HTTP request function, use aiohttp.web, or your framework might have one built in and you can replace requests.get(facebook.get_authorize_url(**params)) with res.redirect(facebook.get_authorize_url(**params)).


Answer URL
https://docs.python.org/3/library/urllib.parse.html
