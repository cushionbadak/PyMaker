Natural Text
I would like to mock a method for unit testing like this:get_tree_test.pyget_tree.pyI do see that mock_fb_data.return_value = {} is created as a mock object, but when I debug get_data() method I see that get_fb_data is a function and not a mockWhat am I missing?      
You need to patch the right place. Inside get_tree, you created a global name get_fb_data, which the code uses directly:You need to patch that name, not the original company.analytics.get_fb_data name; patching works by replacing a name to point to the mock instead:See the Where to patch section of the unittest.mock documentation.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
