Natural Text
I've written a script that solves sudoku problems.To model each slot of a grid, I have in a first time defined Slot and Grid classes like this (complete code elipsed for the sake of simplicity :Like this, I can define method for my Slot class using self.pos() and self.values(). For example :Now that my full script works just fine, I want to refactor it, and, as a Slot is basically a list belonging to a Grid, I decided it would be great for my Slot to subclass list, like this :I've tried to init the list first ie: super().init(list(range(9)), and also a few variations, but nothing seems to work.What am I missing ?PS : the g.index(g[5]) is just to describe, I'm aware it's pointless. I'm using this logic in methods inside my objects (self.pos(), etc.)
By making Slot a subclass of list you also make the comparison between Slot instances use the logic defined for lists (since you haven't overridden that).Since all Slots contain the same value:g.index() will simply match the first entry the grid  yielding 0 as the result.When you inherited from object (as Slot did in your first example) all instances compared unequal to themselves as is defined in the Python Reference (unless logic is implemented that dictates otherwise).In short, you'll need to redefine the comparison methods if you need the slots with similar items to be treated differently when compared. In addition to that, you might want to reconsider sub classing from list and, instead, opt for UserList from collections.


Answer URL
https://docs.python.org/3/library/collections.html#collections.UserList
