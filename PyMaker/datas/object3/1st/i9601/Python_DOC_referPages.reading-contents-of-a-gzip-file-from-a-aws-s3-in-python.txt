Natural Text
I am trying to read some logs from a Hadoop process that I run in AWS. The logs are stored in an S3 folder and have the following path.bucketname = namekey = y/z/stderr.gzHere Y is the cluster id and z is a folder name. Both of these act as folders(objects) in AWS. So the full path is like x/y/z/stderr.gz.Now I want to unzip this .gz file and read the contents of the file. I don't want to download this file to my system wants to save contents in a python variable.This is what I have tried till now.This is giving me a format which is not readable. I also triedwhich gives an error utf8' codec can't decode byte 0x8b in position 1: invalid start byte.I have also tried This returns an error IOError: Not a gzipped fileNot sure how to decode this .gz file.Edit - Found a solution. Needed to pass n in it and use BytesIO
Just like what we do with variables, data can be kept as bytes in an in-memory buffer when we use the io module’s Byte IO operations.Here is a sample program to demonstrate this:The getvalue() function takes the value from the Buffer as a String.So, the @Jean-FrançoisFabre answer is correct, and you should useFor more information read the following doc:https://docs.python.org/3/library/io.html
@Amit, I was trying to do the same thing to test decoding a file, and got your code to run with some modifications. I just had to remove the function def, the return, and rename the gzip variable, since that name is in use. 
Read Bz2 extension file from aws s3 in python


Answer URL
https://docs.python.org/3/library/io.html
