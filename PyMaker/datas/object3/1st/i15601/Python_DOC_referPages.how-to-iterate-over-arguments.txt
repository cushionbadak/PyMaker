Natural Text
I have such script:But it doesnt work. I get error:How to iterate over arguments and their value?
Please add 'vars' if you wanna iterate over namespace object:
Namespace objects aren't iterable, the standard docs suggest doing the following if you want a dictionary:So To be honest I'm not sure why you want to iterate over the arguments. That somewhat defeats the purpose of having an argument parser.
Afterto display the arguments, use:The args object (of type argparse.Namespace) isn't iterable (i.e. not a list), but it has a .__str__ method, which displays the values nicely.args.out and args.type give the values of the 2 arguments you defined.  This works most of the time.  getattr(args, key) the most general way of accessing the values, but usually isn't needed.turns the namespace into a dictionary, which you can access with all the dictionary methods.  This is spelled out in the docs.ref: the Namespace paragraph of the docs - https://docs.python.org/2/library/argparse.html#the-namespace-object
I'm using args.__dict__, which lets you access the underlying dict structure.Then, its a simple key-value iteration:
Parsing the _actions from your parser seems like a decent idea. Instead of running parse_args() and then trying to pick stuff out of your Namespace.You can modify the 'dest' part to be 'choices' for example if you need the preset defaults for a parameter in another script (by returning the options in a function for example).
ArgumentParser.parse_args returns a Namespace object instead of an iterable arrays.For your reference, https://docs.python.org/3/library/argparse.html#parsing-argumentsAnd it is not supposed to be used like that. Consider your use case, in the doc, it says argparse will figure out how to parse those out of sys.argv., which means you don't have to iterate over those arguments.


Answer URL
https://docs.python.org/3/library/argparse.html#argparse.Namespace
https://docs.python.org/3/library/argparse.html#parsing-arguments
