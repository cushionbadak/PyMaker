Natural Text
I have a problem where the function just overwrites the line thats already there in a .txt file. The function is supposed to write a highscore to a file when the game quits (I have made a snake game by following a youtube tutorial). I can't quite figure out why it won't start on a new line, can anyone please explain the logic behind it, and how I fix it? I read somewhere that instead of "w" in f.open(), I should type "rb" or something. Since I'm kinda new to this "writing-to-file" thingy, I find it difficult. Also, I want to sort the highscores from highest to lowest in the file (in other words, sort finalScore from highest to lowest). I have no idea how I should go on and code that, so I'd appreicate some help. You see, I want to print out the current highscores to the console (in order to make a scoreboad)Heres the code:Anyways, merry christmas my fellow python geeks! :D
Mode w overwrites an existing file; mode 'a' appends to it.  Also, the best way to handle a file is usually with the with statement, which ensures the closing on your behalf; so:For sorting, you need be able to extract the final score as a number from a line:then the total work will be done as:This will give you a list lines sorted in ascending order of score (the latter's the reason score is negating the number, though one might also choose to have it just return the number and reverse the sorting), for you to loop on and further process.Added: so on the OP's request here's how the whole program might be (assuming the existence of a function that either plays a game and returns player name and final score, or else returns None when no more games are to be played and the program must exit).
1) one option is to open the file in append mode.replace:with:2) another option is to replace this block, and use a with styleI prefer the second style as it is more safe and clean.
As others have mentioned, the problem is you're not opening the file in append mode, so it overwrites it every time rather than adding to it.However, if you also want to keep the data in the file sorted, you do want to overwrite it each time, since the order of its contents will likely have been changed with the addition. To do that requires first reading it contents in, updating the data, and then writing it back out.Here's a modified version of your function that does that. I also changed how the data in file is stored to what is known as Comma (or Character) Separated Values (CSV) format, because Python includes acsvmodule which makes it very easy to read, write, and do other things with such files.


Answer URL
https://docs.python.org/3/library/csv.html#module-csv
