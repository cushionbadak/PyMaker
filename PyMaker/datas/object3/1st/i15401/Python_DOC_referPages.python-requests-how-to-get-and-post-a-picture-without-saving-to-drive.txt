Natural Text
The API I'm working on has a method to send images by POSTing to /api/pictures/ with the picture file in the request.I want to automate some sample images with Python's requests library, but I'm not exactly sure how to do it. I have a list of URLs that point to images.rv.content returns bytecode. I get a 400 Bad Request from the server but no error message. I believe I'm either 'getting' the picture wrong when I do rv.content or sending it wrong with data = resp. Am I on the right track? How do I send files?--Edit--I changed the last line to Server-side code (Flask):Server aborts with status code 400 and the message above. I also tried reading resp with BytesIO, didn't help.
The problem is your data is not a file, its a stream of bytes. So it does not have a "filename" and I suspect that is why your server code is failing.Try sending a valid filename along with the correct mime type with your request:You can use imghdr to figure out what kind of image you are dealing with (to get the correct mime type):


Answer URL
https://docs.python.org/3/library/io.html
