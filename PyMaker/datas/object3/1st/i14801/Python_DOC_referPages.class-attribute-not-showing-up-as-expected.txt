Natural Text
I don't understand why the following code is returning an error AttributeError: 'Dice' object has no attribute 'die1' in the __str__ method. I know that I have created one, and my debugger shows it as a class attribute. What is wrong with this (simple) code? 
As noted in the comments, the error is raised because loadUi calls __str__ on the class instance (i.e. self) before die1 has been set.The reason why the uic module does this is because it collects a lot of debugging information whilst parsing the ui file, and that includes logging the object passed as the baseinstance argument of loadUi.Unfortunately, it does this by (indirectly) calling __str__ when it probably should be calling __repr__. (Or possibly just not logging debugging information at all when calling the python API functions. The command-line interface has an option for switching on debugging, but it seems this only controls whether the logged information is displayed, rather than whether it is gathered in the first place).It certainly is natural to want to call loadUi at the earliest possible point during initialisation - just as you'd do with setupUi. But no matter how you load the ui into your application, uic will generate the code in exactly the same way. The only difference with loadUi is that it calls exec() on the generated code at runtime, whereas with pyuic, the same code is just imported as a static module.There a number of ways to solve your immediate problem. Personally, I think I would probably choose to pre-initialise die1/die2 as class attributes:
Actual answer: move the uic.loadUi call to after you create the dies.Comments on code:Only call the constructor once (not once as QMainWindow and once as super)When using %s, you don't need to also call str() -- that's what %s does.If writing Python3 only code, your super call can leave out the Dice, self portion and just be super().__init__(parent)


Answer URL
https://docs.python.org/3/library/functions.html#exec
