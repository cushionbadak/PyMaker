Natural Text
note: I'm using Python3I've been searching everywhere and finding nothing complete. Asking on IRC everywhere. I need a regex expression that removes ALL IRC colour control codes. Nowhere is there a complete solution.Bold, Italics, Underline, Reverse, Colour, and Plain textThe characters numbers are 2 29 31 22 3 15 respectively.Edited: I just found a \x0f character being used also.The Colour character (3) contains possibly max 2 digits after it, with a possible comma then up to max of 2 digits more or no digits just character 3. It might also just be a comma with plain text after it in which case the comma should be left in the string.Please help I am stuck in the mud.Example: The 12 is blue and the 4 is red, used with character 3.The expected output is just "Red and blue, Underline" plain text, no colour codes. That way I can use:
This will match all IRC formatting codes you have mentioned. In the case of color codes, it will even catch malformed ones like \x03,11, \x034, and \x03,. I realize this may or may not be ideal depending on how you wish to handle malformed codes like those, but you could easily tweak it to do what you want. If need be, you can explain how you'd like those handled and I can update the answer to reflect that.As for what to do, one solution is:See also Section 6.2 of the Python docs.
I know I asked for a regex solution but I finally got around to coding a working non regex solution.I updated the code to be more compatible with colour codes; allowing infinity colour code numbers as the irc clients wrap the colours around starting from the first colour (0 which is white) comes after the end of the colour list and so forth forever.  So now the colourstrip() will treat the colour numbers for what they are instead of the old code which demanded the colour numbers to be a maximum of 2 digits which is pointless to do anyway.Thank you for the help everyone.


Answer URL
https://docs.python.org/3/library/re.html
