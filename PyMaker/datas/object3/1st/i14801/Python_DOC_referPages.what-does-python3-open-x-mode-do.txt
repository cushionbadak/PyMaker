Natural Text
What does the new open file mode "x" do in python 3?here is the doc of python 3:'r': open for reading (default)'w': open for writing, truncating the file first'x': open for exclusive creation, failing if the file already exists'a': open for writing, appending to the end of the file if it exists'b': binary mode't': text mode (default)'+': open a disk file for updating (reading and writing)'U': universal newlines mode (deprecated)What does "exclusive creation" mean?I test the "x" mode and find some:It can not be used with "r/w/a""x" is only writeable. "x+" can write and readThe file must not exist before openThe file will be created after openSo, "x" is similar to "w". But for "x", if the file exists, raise FileExistsError. For "w", it will simply create a new file / truncate the existed file.Am I right? Is this the only difference?
As @Martjin has already said, you have already answered your own question. I would only be amplifying on the explanation in the manual so as to get a better understanding of the text'x': open for exclusive creation, failing if the file already existsWhen you specify exclusive creation, it clearly means, you would use this mode for exclusively creating the file. The need for this is required when you won't accidentally truncate/append an existing file with either of the modes w or a.In absence of this, developers should be cautious to check for the existence of the file before leaping to open the file for updation.With this mode, your code would be simply be written asPreviously though your code might had been written as
Yes, that's basically it.It's handy if you may find two instances of your program running concurrently, the use of x mode will ensure only one will successfully create a file, with the other one failing.A classic example is daemons that write their process ID into a pid file (so that can be easily signaled). By using x, you can guarantee that only one daemon can be running at a time, something that's harder to do without the x mode, and prone to race conditions.


Answer URL
https://docs.python.org/3/library/functions.html#open
