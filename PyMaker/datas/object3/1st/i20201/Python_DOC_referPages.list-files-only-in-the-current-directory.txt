Natural Text
In Python, I only want to list all the files in the current directory ONLY. I do not want files listed from any sub directory or parent.There do seem to be similar solutions out there, but they don't seem to work for me. Here's my code snippet:Let's suppose I have 2 files, holygrail.py and Tim inside my current directory. I have a folder as well and it contains two files - let's call them Arthur and Lancelot - inside it. When I run the script, this is what I get:I am happy with holygrail.py and Tim. But the two files, Arthur and Lancelot, I do not want listed.
Just use os.listdir and os.path.isfile instead of os.walk.Example:But be careful while applying this to other directory, like which would not work because f is not a full path but relative to the current dir. Therefore, for filtering on another directory, do os.path.isfile(os.path.join(somedir, f))(Thanks Causality for the hint)
You can use os.listdir for this purpose.  If you only want files and not directories, you can filter the results using os.path.isfile.example:or

You can use os.scandir(). New function in stdlib starts from Python 3.5.Faster than os.listdir(). os.walk() implements os.scandir().
this can be done with os.walk()python 3.5.2 tested;remove the dirs.clear() line and the files in sub folders are included again.update with references;os.walk documented here and talks about the triple list being created and topdown effects..clear() documented here for emptying a listso by clearing the relevant list from os.walk you can effect its result to your needs.
instead of os.walk, just use os.listdir
You can improve this code with del dirs[:]which will be like following .Or even better if you could point os.walk with current working directory .
My solution is:I think this solution is better


Answer URL
https://docs.python.org/3/library/os.html#os.scandir
https://docs.python.org/3/whatsnew/3.5.html#optimizations
https://docs.python.org/3/library/os.html#os.walk
