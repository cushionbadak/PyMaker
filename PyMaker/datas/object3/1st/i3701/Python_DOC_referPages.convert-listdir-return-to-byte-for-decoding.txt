Natural Text
I have a list of dir with name encoded in 'gbk', for example:However, when I use os.listdir() is return a list of str, like below:How can I cast the string to byte and decode it to get the original characters? I tried str.encode.decode but still not working.Thanks.
You've used the string representation of bytes objects as the name of your directories, instead of creating directories using the encoded byte string as the name. To undo the plunder you could in this particular case use ast.literal_eval() to evaluate the string representation and then decode the resulting bytes object:Please note that ast.literal_eval() is used here only to recover the directory names and you should recreate them properly; in other words they should not have been created this way to begin with.


Answer URL
https://docs.python.org/3/library/ast.html#ast.literal_eval
