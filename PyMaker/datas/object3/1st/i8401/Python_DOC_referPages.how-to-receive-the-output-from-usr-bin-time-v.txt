Natural Text
I have implemented an algorithm in C++ and inside the implementation I count some statistics, like cache misses, instructions, branch misses etc. This information is printed in the end with cout.  However I would also like to know how much space the implementation is using. I use subprocess as follows:unfortunately only the output from ./program is stored in result and not the output of /usr/bin/time as well. Here is one possible output from /usr/bin/time:I am only interested in Maximum resident set size (kbytes):. If I could somehow store this big text inside result, then I was hoping that I could parse it. But the output is not stored at all in result, it is simply printed. What is the best way to approach this problem?
time outputs to STDERR, so you need to redirect that to STDOUT, or capture it separately. From the time command manpage:When command finishes, time writes a message to standard error giving timing statistics about this program run.Bold italic emphasis mine.Redirecting is done with stderr=subprocess.STDOUT:or use subprocess.run() to capture the two streams separately:subprocess.run() is new in Python 3.5 and up; use subprocess.Popen() directly if you have an older Python version (and consider upgrading ASAP):


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.run
https://docs.python.org/3/library/subprocess.html#subprocess.Popen
