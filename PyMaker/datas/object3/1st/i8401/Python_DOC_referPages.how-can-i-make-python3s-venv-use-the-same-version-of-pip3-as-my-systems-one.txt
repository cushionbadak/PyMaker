Natural Text
I'm using Ubuntu 16.04, and I always use python3 -m vevn venv to create my Python's virtual environment and source venv/bin/active to activate it.I've made sure my global system environment's pip3 is in the latest version which is, for example, 9.0.1, but every time I create a virtual environment by using the command as described above, the initial venv's pip3 version is always the older one, for example, 8.1.1, which makes the system remind me to upgrade my pip3 every time.I've tried sudo apt-get install --upgrade python3-venv in my system environment but everything is in the newest version.How can I make Python3's venv uses the same version of pip3 as my system's one so that I don't have to upgrade my pip3 every time I create a virtual environment? How is the version of the venv's pip3 be decided?Thanks.
There was a similar question regarding pyvenv, the predecessor of venv.Here's the relevant part of the answer:Ensurepip package won't download from the internet or grab files from anywhere else, because all required components are already included into the package. Doing so would add security flaws and is thus unsupported.The package doesn't get updated as often as pip does.I solved the issue with a hotkey set up with the following command: $ python3 -m venv venv && source venv/bin/activate && pip3 install --upgrade pip. 
I managed to install the latest version on my Windows. But this method may cause security issues. Be aware what you are doing before you try this one.I only tested it on Python 3.5.2 on Windows. Better not try it if you are using Python2.x.First, to figure out what version your venv using. Use:And you will find that in the defination of function _setup_pip:This function tells us that the pip is install by another python package called ensurepip. So we will go to the source of ensurepip by using:In the first few lines of the source, your will get:This is the version info the ensurepip bundled with. But only change this two lines will only cause the failure because you haven't change the local .whl package. So where are the .whl package located? Here it is, inside the source in the function bootstrap:Notice the line what I commented. So this tell us, the .whl files located in ensure/_bundled/ directory, you may also use inspect.getsourcefile(ensurepip). What I got is 'c:\\python35\\lib\\ensurepip\\__init__.py'.Go to this directory, you got two files: pip-8.1.1-py2.py3-none-any.whl, setuptools-20.10.1-py2.py3-none-any.whl.What I wrote above is just for you to understand what we are doing, so following is what you need to do:Go to /your/python/lib/dir/ensurepip/_bundled/.download pip wheel file with command, I got pip-9.0.1-py2.py3-none-any.whl:$ pip download pipEdit the source of ensurepip. In the ensurepip/__init__.py, edit like this and save it:Now you make it. To check the pip version:Be aware don't do the same with setuptools because it has some other dependencies which make it more complicated.Happy hacking :)
Create your venv using --system-site-packages:And you'll be using your system's pip3.


Answer URL
https://docs.python.org/3/library/venv.html
