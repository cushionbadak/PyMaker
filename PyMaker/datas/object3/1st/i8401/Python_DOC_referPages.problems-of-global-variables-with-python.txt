Natural Text
I created a small program that shows a window and asks passwords, ids, to check if the user is saved in a database. If password is correct, then it affects True to a boolean named mdp_valide ('password_is_valid' in english) which was False before, and destroys the window of connexion. It's a function that changes that value, so I used a global statement at the top of the function. However, when it closes the window, the value mdp_valide is back to FalseHere's some code to help you understandFirst, the main program that will call the other function:Then, the function which is not working:Test :The problem is here : the function verification () does change the value of mdp_valide into True, but after returning the value, it's back to False
The problem is that in fenetre_connection, mdp_valide is not global. So it is a local variable. Then in verification, you use global mdp_valide, so that one is a global variable.When verification finishes, you return the local variable from fenetre_connection.In python 3 you can use nonlocal: https://docs.python.org/3/reference/simple_stmts.html#the-nonlocal-statementIn python 2, you can declare mdp_valide as global in fenetre_connection so that both variables are in the global scope, and therefore are the same


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#the-nonlocal-statement
