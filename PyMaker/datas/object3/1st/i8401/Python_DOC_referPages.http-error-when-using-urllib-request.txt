Natural Text
I am trying to do a profanity check test. The code I have written so far isBut I get the error belowurllib.error.HTTPError: HTTP Error 400: Bad RequestI don't know what I am going wrong. I am using Python 3.6.1
The HTTP error you're getting is usually a sign of something bad in the way you are requesting data to the server. According to the HTTP Spec:400 Bad RequestThe request could not be understood by the server due to malformed  syntax. The client SHOULD NOT repeat the request without modificationsIn concrete in your example, the problem seems to be with the lack of URL encoding of the data you're sending in the URL. You should try using the method quote_plus from the urllib.parse module to make your request acceptable:If that doesn't work then the problem might be with the contents of your file. You can try it first with a simple example, to verify your script works and then try using the file's content afterwards.Apart from the above, there's also a couple of other issues with your code:No spaces needed between methods and brackets: file.close () or def read_text (): and so on.Decode the content after reading it to convert bytes to a string: output = connection.read().decode('utf-8')The way you're calling the methods creates a circular dependency. read_text calls check_profanity that in the end calls read_text that calls check_profanity, etc. Remove the extra method calls and just use return to return the output of a method:


Answer URL
https://docs.python.org/3/library/urllib.parse.html#urllib.parse.quote_plus
