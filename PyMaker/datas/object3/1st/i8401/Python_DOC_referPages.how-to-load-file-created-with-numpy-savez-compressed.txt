Natural Text
I am saving a numpy array using the following export_vectors defined below. In this function, I load string values separated by space and then store them as floats in an numpy array.  Here embeddings is an ndarray of float64 type.Although, then when trying to load the file, using:When trying to do the loading, I am getting the error:File "/usr/lib/python3.5/codecs.py", line 321, in decode      (result, consumed) = self._buffer_decode(data, self.errors, final) UnicodeDecodeError: 'utf-8' codec can't decode byte 0x99 in position  10: invalid start byteWhy is this?
You are probably using open wrong.I suspect, you need to give it a flag to use binary-mode like (docs):The docs explain the default-behaviour: Normally, files are opened in text mode, that means, you read and write strings from and to the file, which are encoded in a specific encoding.But you can make it simple and just use the filepath itself (as np.load is able to take file-like object, string, or pathlib.Path):(A simplified rule: everything which is using general-purpose compression is alway's working with binary-files; not text-files!)


Answer URL
https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files
