Natural Text
I'm trying to replace the for loop below by a map function,I assume it must be something like map(inBetween, input.split("\n")) but when I do it my hours dictionary stays unchanged. I feel like it's not even entering the function. Does someone know how to make it work? 
As Willem Van Onsem already said in a comment, map is lazy in Python 3. Instead of applying the function to all items immediately and returning a list, as was the case in Python 2, map will return a generator instead which you need to iterate over in order to actually perform the transformation:As you can see, the function does not run, and res is some “map object” instead (which is the map generator). We have to iterate this generator first in order to actually generate the values and call the function:If you want to get a list back, you can also just call list() on the result to immediately call the function for every element:Note though, that your case is not really suited for map. As far as I can tell from your code and your input, the first line of your input is a single number that contains the amount of lines that follow which need to be processed.So in your case, unless you want to actively ignore that first line (and just handle every line), you shouldn’t use map here.However, you can make your code a lot simpler (and more efficient) by storing the results from those split calls. For example:Here, you’re just splitting the input once instead of once on every iteration.As for your inBetween function, you can also use a for loop here which makes it a bit simpler:Finally, there isn’t actually any benefit from your inBetween function here. Since it’s mutating global state (the hours dictionary), it’s not really useful outside of its exact context, so you could simply inline the functionality here. You could then even extract the logic, so you get a function that just processes the input and returns you that hours dictionary. Combined with defaultdict this can actually look pretty nice:And that’s already everything:


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
