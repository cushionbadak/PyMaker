Natural Text
I have trouble filling an empty dictionary in PythonI declare the dictionary as follow :I want to fill it with different key and differents values one at a time. I would like to have at the end something like :Therefore I tried to do it as follow : But I have the following error at the first loop : KeyError Traceback (most recent call last)       in ()      2 for i in range(4):      3     for j in range(4):      ----> 4          my_dict[str(i)].append(j)      KeyError: '0'I have a much more complicated for loop in my code but I tried to be the more general as possible to help other who might have a similar problem.At the end I would like to have different size's value for each key.If you have any idea why it does not work and how to fix it please feel free to answer.EDIT Sorry for the confusion, I wanted something like the following :
There are 2 issues:You cannot append to a tuple. Tuples are immutable.You cannot append to a dictionary value which has not yet been defined for a specific key. This is the cause of your KeyError.These issues can be alleviated by using collections.defaultdict with list:Closer to your desired output, you will need to redefine your range objects:
You can create this dict, with a list as values, using a little dict comprehension:EDIT: OP realized he wanted a list, not a tuple.


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
