Natural Text
I have a list of data in which the numbers are between 1000 and 20 000.When I plot a histogram using the hist() function, the y-axis represents the number of occurrences of the values within a bin. Instead of the number of occurrences, I would like to have the percentage of occurrences. Code for the above plot:I've been looking at this post which describes an example using FuncFormatter but I can't figure out how to adapt it to my problem. Some help and guidance would be welcome :)EDIT: Main issue with the to_percent(y, position) function used by the FuncFormatter. The y corresponds to one given value on the y-axis I guess. I need to divide this value by the total number of elements which I apparently can' t pass to the function...EDIT 2: Current solution I dislike because of the use of a global variable:EDIT 3: Method with density = TrueActual desired output (method with global variable):
Other answers seem utterly complicated. A histogram which shows the proportion instead of the absolute amount can easily produced by weighting the data with 1/n, where n is the number of datapoints.Then a PercentFormatter can be used to show the proportion (e.g. 0.45) as percentage (45%).Here we see that three of the 7 values are in the first bin, i.e. 3/7=43%.
You can calculate the percentages yourself, then plot them as a bar chart. This requires you to use numpy.histogram (which matplotlib uses "under the hood" anyway). You can then adjust the y tick labels:
You can use functools.partial to avoid using globals in your example.  Just add n to function parameters:  and then create a partial function of two arguments that you can pass to FuncFormatter:  Full code:  gives: 


Answer URL
https://docs.python.org/3/library/functools.html#functools.partial
