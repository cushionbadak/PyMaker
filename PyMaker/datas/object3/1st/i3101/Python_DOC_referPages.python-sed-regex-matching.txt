Natural Text
I am trying to use re.sub() in my Python script to remove some String. The sed command I used is (on Linux): echo "helloworld-5b5cf484-g582f" | sed 's/-[a-z0-9]\{5\}$//' | sed 's/-[0-9]\{10\}$//' | sed 's/-[a-z0-9]\{8,10\}$//' Which would output helloworld. Now, with Python, I tried to do this for the first sed group: newstring = re.sub(r'(s/-[a-z0-9]\{5\}$//)', r'\1', 'helloworld-5b5cf484-g582f')But it only outputs the copy, which is helloworld-5b5cf484-g582fHow can I perform such sed command ? Edit: My question is not about my regex expression. The inputs String are more complex than the one I presented as an example. Question is about how to prorperly use re.sub() with the regex I used :) 
sed s/-[a-z0-9]\{5\}$// command is translated as re.sub(r'-[a-z0-9]{5}$', '', s).Note:BRE POSIX interval quantifier is written without escapes, \{5\} => {5}s/<pattern>/<repl>/ means replace <pattern> with <repl>, and is equal to re.sub('<pattern>', '<repl>', s, 1) (as there is no g modifier in the sed command, 1 is passed to re.sub to only replace one, first, occurrence).Modifiers are passed as options, or flags, in the re.sub, e.g. re.sub(r'-[a-z0-9]{5}$', '', s, flags=re.I) (re.I is a case insensitive modifier). Mind there is no need using g modifier as re.sub replaces all occurrences by default.You can learn more about Python regex syntax in the Python re documentation.
Your regular expression does not match what you're trying to do.Actualy your code is replacing a 5 char long alpha-numric char string that starts by an hyphen by the first match in 'helloworld-5b5cf484-g582f' (or something like this).This case can not occur since your string does not begin by an hyphen.If  I'm correct you want to remplace by an empty string any 5 char or 8 chars long lowercase alpha-numeric string that starts with an hyphen.This could be achieved with this code:CodeResultHere are pointers to re module doc:python2: https://docs.python.org/2/library/re.htmlpython3: https://docs.python.org/3/library/re.html


Answer URL
https://docs.python.org/3/library/re.html#re.sub
https://docs.python.org/3/library/re.html#re.sub
https://docs.python.org/3/library/re.html
https://docs.python.org/3/library/re.html
