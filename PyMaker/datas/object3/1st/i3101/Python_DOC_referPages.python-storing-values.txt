Natural Text
I have a text file as followsI want to read col[0] and col[2] and report col[0] values if col[2] > 100Any help ?
Your columns are separated by arbitrary runs of whitespace.While this is sort of a CSV dialect, and could be parsed with the csv module with a bit of work, it may be easier to just call split on each line:Now, each row in rows will be a list of three strings. But you also need to convert those strings to numbers:And now, you want just the rows where column 2 is > 100, so:And you want just the first column in each of those rows:And now you want to print them out, one per line:If you don't understand these generator expressions, we can unravel the whole thing into a loop instead:You can of course condense either version to make it a lot more concise. For example:
Assuming your text file looks the way you have posted it, here's one way that could work:First, we access the text file from within your python script. By opening it in read mode, we iterate through it, line-by-line. For each line, we use the string method string.split() to partition it at the default whitespace or tab-separation, as you show in your file. We then check to see if the condition you mention holds true, and if so, we report it.Bonus: we handle errors, so that one faulty line with some missing data will not halt your entire program (although, then, if you're planning to use this code in a function, you should still wrap it in a try-except block).Python >= 3.8: in this version, we can make use of the := assignment operator to make the loop more concise
You can read each line, and only print column 1 if column 3 is bigger than 100:Which gives:As commented by @abarnert in the comments, you can also be extra safe and include str.strip() when splitting the items on each line:str.strip() removes all whitespace at the start and end, including spaces, tabs, newlines and carriage returns. Leaving it in doesn't do any harm, and allows your program to deal with unexpected extra whitespace inserted into the file. In your case, this doesn't affect anything, but it certainly doesnt hurt to include it in. If anyone can suggest a case where it is needed, I will happily add it to this answer. 


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.strip
