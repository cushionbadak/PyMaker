Natural Text
According to the documentation io.BufferedReader inherits io.IOBase: io.IOBase -> io.BufferedIOBase -> io.BufferedReader. Consequently, it is supposed to implement readline and readinto, but it doesn't seem to be the case, because I get an AttributeError. A minimal example:Data sample:Test code:Exception: Am I missing something? UpdateThe funny thing is that you can manually get an io.TextIOWrapper out of io.BufferedReader wrapping a byte stream and the readline method will work. Seems like _io.TextIOWrapper instances returned by io.BufferedReader are not the same as io.TextIOWrapper instances, though the latter is directly imported from _io.
Yes, you are indeed missing a critical detail: BufferedReader wraps around an existing RawIOBase object:class io.BufferedReader(raw, buffer_size=DEFAULT_BUFFER_SIZE)A buffer providing higher-level access to a readable, sequential RawIOBase object.And because you've opened your gzip file in text mode, it is not a RawIOBase instance:In other words, this is a user error.If you wrap a BufferedReader around a binary file you'll see that the readline method works just fine:


Answer URL
https://docs.python.org/3/library/io.html#io.BufferedReader
https://docs.python.org/3/library/io.html#io.RawIOBase
