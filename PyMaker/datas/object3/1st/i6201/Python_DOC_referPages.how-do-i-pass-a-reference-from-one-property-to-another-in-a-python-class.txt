Natural Text
I have a class that has instances of other classes as it's properties:What I need to do, is somehow "connect" the propA and propB classes to the internal structure _c_struct created in C to eventually get the behavior like so:Where C.A is able to manipulate C._c_struct._A.  I've attempted to do something like this:but it appears that self._c_struct._A returns a python integer object and not the reference to the _A internal c_int object of the structure.  How do I connect a property to a sub property of another property in the same class?
This'd seem like a fit for a descriptor, which the field c_struct._A is also:which is why it returns an int when accessed through a c_struct instance instead of the field itself. Start by defining one suitable for your use case:or justThen define your original class:Test:For extra credit and if you're using a recent enough version of Python you can use object.__set_name__() to remove the need to duplicate the name, without having to resort to a meta class:and then define C as:


Answer URL
https://docs.python.org/3/howto/descriptor.html
https://docs.python.org/3/library/ctypes.html#structures-and-unions
https://docs.python.org/3/reference/datamodel.html#object.__set_name__
