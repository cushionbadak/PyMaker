Natural Text
I'm converting values to float from multiple columns in a dataset concurrently in a loop, where I try to skip bad rows with a ValueError exceptionMy data has been loaded with a structure that enables me to loop over it as suchI want the exception to encompass both A and B, so that if any of them contains a bad row, all of them will be skipped for this i, so that len(A_floated) == len(B_floated). Right now, I can only figure out how to skip bad rows on an individual-column basis, but then I end up with floated columns of different lengths.How can this be done?
If I understand you correctly, you want to gather 'good' (floated) rows in data structures A_floated and B_floated respectively during iteration through data. If so, try putting the former data structures outside the loop, and check whether values can be converted into floats before putting them into lists. Otherwise, value A may be convertible while value B not, which would result in different lengths of A_floated and B_floated. To sum it up, try the following code:
Use can use the else clause which runs if no exception occurs. try and convert, don't do any appending there and, if no errors occur, you append in the else clause:I removed the parentheses around the ValueError since they aren't necessary.


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#the-try-statement
