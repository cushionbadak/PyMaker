Natural Text
I am trying to compile python-mysqlclient against mariadb-connector-c in a Conda environment.  That means that the install prefix is not /usr/local but, for example, $HOME/conda/envs/test.  I also want to use the auth_gssapi_client.so plugin.Both packages build, but import MySQLdb raises the following exception:The reason for this is that mysqlclient only searches lib/ but notlib/mariadb even though it was configured with the right path and sucessfullybuilt.  I can work around this issue by copying the *.so files to lib/ (orby creating a symlink), but then, it does not find the GSSAPI plugisn …I build mariadb-connector-c 3.0.2 this way:I can install it and run mariadb_config which gives this output:I then build python-mysqlclient 1.3.12 this way:There are two possible solutions for this problem:Configure mariadb-connector-c to directly put its stuff into lib/ – I have not found documentation on how to do this.Make python-mysqlclient respect the paths that mariadb_config returns – How?
You have to statically link the gssapi stuff into mariadb-connector-c and Python mysqlclient will work.This is how to build mariadb-connector-c:


Answer URL
https://docs.python.org/3/library/site.html#site.addsitedir
