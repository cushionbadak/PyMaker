Natural Text
How do I correctly define __repr__ for my map class?From Jupyter I am generating the map like this:But TypeError: __repr__ returned non-string (type Map) error occurs on display(m).I am able to make it work if I use display(m.map) instead.
The __repr__ method must return a string. From the docs (some emphasis mine):object.__repr__(self)Called by the repr() built-in function to compute the “official” string representation of an object. If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value (given an appropriate environment). If this is not possible, a string of the form <...some useful description...> should be returned. The return value must be a string object. If a class defines __repr__() but not __str__(), then __repr__() is also used when an “informal” string representation of instances of that class is required.Edit: As @khelwood suggests you can return repr(self.map) in the __repr__ method.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__repr__
