Natural Text
I have some trouble understanding time conversions in python.I have two identical time_struct objectsWhen I feed it to the time.mktime function on one machine  it returns 946681200.0On a second machine I get a different answerThe machines have different timezones, though:The documentation on the time module says: Use the following functions to convert between time representations:  struct_time in local time seconds since the epoch mktime()As I understand my local time is "America/Los_Angeles" so seconds since epoch should be exactly the same and not be depending on the system configuration. What am I misunderstanding? How do I have to calculate the timestamp correctly then? 
time.mktime() interprets the timetuple based on the local machine's timezone.  Notice how your timetuple object doesn't contain any timezone info, so the timestamp created will always vary based on timezone set on the local machine.  Thus it's entirely understandable why the same time.mktime(local_dt.timetuple()) returns different value on those two machines.  You can use local_dt.timestamp() instead, while both are essentially the same...Naive datetime instances are assumed to represent local time and this method relies on the platform C mktime() function to perform the conversion.... But since you're creating the timestamp directly from the non-naive datetime object, it still retains the timezone info and can shift the time accordingly:For aware datetime instances, the return value is computed as:(dt - datetime(1970, 1, 1, tzinfo=timezone.utc)).total_seconds()Observe:The last time.mktime() processed utc.timetuple() as a local time since the timezone info was not passed.  You can notice it's offset by 18000 (time.timezone for EST, my time zone).
As you said : "The machines have different timezones, though:" and doc said: "in local time".Your "local time" is not the same on both machine : one is Europe/europe (probably GMT, so UTC+0), the other one is CEST (UTC +1).see https://www.timeanddate.com/time/zones/euCentral European Time (CET) is 1 hour ahead of Coordinated Universal Time (UTC).   This time zone is in use during standard time in: Europe, Africa. I think you want to convert your datetime into "UTC+0 datetime"


Answer URL
https://docs.python.org/3/library/time.html#time.mktime
https://docs.python.org/3/library/datetime.html?highlight=datetime#datetime.datetime.timestamp
https://docs.python.org/3/library/datetime.html?highlight=datetime#datetime.dhttps://docs.python.org/3/library/datetime.html?highlight=datetime#datetime.datetime.timestampatetime.timestamp
