Natural Text
Having some problem testing property of the class with unittest. Here is simple exampleExample class:TestSuite for this class with a simple case to check it's name property value:and main module:Alltogether it gives the result of execution of the main module:Can't find where is the problem with it - how to properly access this name property from __init__?EDITED:Ok, turns out that it can be fixed by:Add fixed name attribute to the Company in SetUp method:Add concrete instanse as a company value:So updated question - is there any way to define SetUp so it works with instances, that will be defined depend on the user in main?
Doing self.company = Company(name="NewestCompany") in setUp is the correct way to initialise for each test. (Because it is executed before each test in that class.)When you create firm in if __name__ == "__main__":, then self.company = firm in setUp will refer to the same global firm instance for all tests. So if you change an attribute in one test, it will affect that attribute in other tests. For example, the second test test_company_name_two will fail:Option 1 in your edit is the solution:Add fixed name attribute to the Company in SetUp method:That creates a new instance of the company for each test.So updated question - is there any way to define SetUp so it works with instances, that will be defined depend on the user in main?Yes, the 2nd option in your edit does that; but wrongly. What do you want to achieve? If you want the firm's name or other attributes to be globally defined, you could always put it as a global or in if-main, along with any other attributes you want common among the test instances:


Answer URL
https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUpClass
