Natural Text
I have a dictionary that may contain any arbitrary order of strings, lists of strings or nested dictionaries that ultimate terminate in strings. I would like to iterate over this dictionary and perform an action on each string.This question is close to what I'm looking for but I was unsuccessful in applying that solution to my own.I need to apply the function os.path.expanduser() to each string in the following dictionary:Ideally I would like to define a class that when called on a normal dictionary, will apply os.path.expanduser() on each string element of that dictionary.How can I achieve this?
This can be easily done with a recursive function. Let's have a look at an example implementation. Here we will map all the strings in the given container to a given function, we will also use List Comprehensions and Dictionary Comprehensions to mimic the original nested structure. In addition, isinstance built in function is used to check the type of a given parameter:Applies func to every string in the container. Test it with your example dictionary and os.path.expanduser:And sure enough you get the desired output:
Here's a function that takes a nested structure x as input, and return a similarly nested structure where all strings have been expanded:So e.g. calling it withwill return
Here's a function that will do it:Output:


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
https://docs.python.org/3/tutorial/datastructures.html#dictionaries
https://docs.python.org/3/library/functions.html#isinstance
