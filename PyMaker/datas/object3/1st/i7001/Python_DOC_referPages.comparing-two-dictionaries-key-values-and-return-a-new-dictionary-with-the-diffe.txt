Natural Text
What I want to do is to compare two dictionaries:and return a new dictionary of the difference:What would be an efficient way (for large amount of data) to do this? Thanks.
You can combine set.difference() and dict comprehension:Explanation:You iterate over predict key-value pairsThe new difference dictionary will have the same keys as predict and actualBut its values will be the set difference of the current listsset(v).difference(actual[k]) - As the keys are the same, you can access actual[k] and find its difference with the current one (which is v)Finally, you cast your result set with the difference to a list to have an output as requested.
This should do it:edit:code was update to handle missing categories in the actual list


Answer URL
https://docs.python.org/3/library/stdtypes.html#frozenset.difference
