Natural Text
I am trying to write a script that gets me the contents of all the Mails in ~/Maildir. So I basically copypasted code from this question. Here is the full content of mailbox.py:It does print the subject of the first message, but instead of printing "ok" then, it dies statingWhat did I do wrong?
You have forgotten to name your Python version so let me guess â€” it's Python 2.7, right? In Python 2.7 mailbox.Maildir by default returns instances of rfc822.Messages, not email.Messages; rfc822.Message has a completely different API.If you want mailbox.Maildir to return email.Messages remove default factory:In Python 3 rfc822.Message was removed so mailbox.Maildir returns email.Messages by default.


Answer URL
https://docs.python.org/3/library/mailbox.html
https://docs.python.org/3/library/mailbox.html#mailbox.Message
