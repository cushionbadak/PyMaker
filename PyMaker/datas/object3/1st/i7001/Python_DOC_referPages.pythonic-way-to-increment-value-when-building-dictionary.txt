Natural Text
This question already has an answer here:Check if a given key already exists in a dictionary and increment it                    12 answers                A snippet of code from a working script; I'm just curious if there's a "prettier" way to achieve the same result.In awk I could have just used countries[ ctry ] += 1, but python threw a key error (understandably).
Rather than using a normal dictionary, you could change countries to be a collections.defaultdict object instead. As the name implies, collections.defaultdict allows you to have a default value inserted in your dictionary if a key doesn't exist yet:Then your snippit becomes one line:If you can't use collections.defaultdict, you can use the "ask forgiveness rather than permission" idiom instead:Although the above will behave like your conditional statement, it is consider more "Pythonic" because try/except is used rather than if/else.
The following is a bit more pythonic:Or
Another option is to use defaultdict:Speed test:


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
https://docs.python.org/3/library/collections.html#collections.Counter
