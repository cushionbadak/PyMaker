Natural Text
My list looks like my_list = [['A', 6, 7], ['A', 4, 8], ['B', 9, 3], ['C', 1, 1]], ['B', 10, 7]]I want to find the averages of the other two columns in each of the inner lists grouped by the first column in each of the inner list.[['A', 5, 7.5], ['B', 9.5, 5], ['C', 1, 1]]['A', 5, 7.5] comes from ['A', (6+4)/2 ,(7+8)/2]I don't mind if I end up getting a dictionary or something, but I would prefer it remain a list.I've tried the following:my_list1 = [i[0] for i in my_list]my_list2 = [i[1:] for i in my_list]new_dict = {k: v for k, v in zip(my_list1, my_list2)} SPLITTING THE ORIGINAL LIST SO the first column becomes KEY, and the second and third columns becomes VALUE, and converting it to a dictionary will give you the aggregate but the problem is I WANT TO TO PRESERVE THE DECIMAL PLACES, IT ROUNDS UP AND GIVES ME WHOLE NUMBERS INSTEAD OF FLOAT VALUESmy_list1 = ['A', 'A', 'B', 'C', 'B']my_list2 = [[6, 7], [4, 8], [9, 3], [1, 1], [10, 7]]new_dict= {'A': [5, 8], 'B': [10, 5], 'C': [1, 1]}when what I would ideally want is,  [['A', 5, 7.5], ['B', 9.5, 5], ['C', 1, 1]] (Don't mind if its a dictionary)Converted the second and third columns to float maybe using a for loop thinking, then it will give me a float when I convert it to a dictionary.. But no difference, IT ROUNDS UP and gives a A WHOLE NUMBER.The reason I need to preserve the decimal places is because the second and third columns refer to x and y coordinates..So all in all the objective is to find the averages of the other two columns in each of the inner lists grouped by the first column in each of the inner list with as many decimal places as possible
Assuming you meant to use the following list:The simply use a defaultdict to group by the first element, then find the mean:Note, if you are on Python 2, no need to call list after map. Also, you should use iteritems instead of items.Also, you will have to do something like:Instead of the cleaner version on Python 3.Finally, there is no statistics module in Python 2. So just do:and use that mean instead of statistics.mean
Similarly using itertools.groupby


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
