Natural Text
I've been trying to explore how python stores signs for longs on my system.Unsure that this is the way, I've tried buffer(long(-10)) hoping it will bring me closer.But I've got TypeError: buffer object expected.From help(buffer):I thought everything is an object in python and I interpreted this docstring so that I could give just any object to the buffer's init. Doesn't seem to be the case.Could you help me understand what's going on? 
The buffer() function only works for objects that support the buffer protocol:The object argument must be an object that supports the buffer call interface (such as strings, arrays, and buffers). Note that the function is actually deprecated; it has been largely replaced by memoryview(), returning a  memoryview type. This still will not give you insight into the internal structure of a Python long integer however, as that function only works with objects supporting the buffer protocol still.The Python 3 documentation contains more information about the buffer protocol in the C API documentation:Certain objects available in Python wrap access to an underlying memory array or buffer.[...]While each of these types have their own semantics, they share the common characteristic of being backed by a possibly large memory buffer. It is then desirable, in some situations, to access that buffer directly and without intermediate copying.So these functions are meant to make access to larger chunks of data efficient, not to give you insight into underlying C structures.


Answer URL
