Natural Text
My text file has 6 lines but everytime verify is run twice it always gets:When I replace acc_no with just 2 it works fine, but when printing out acc_no I get 2 so I do not know why it is printing this error my code:Thanks in advanced for any help provided
You are reaching the point where account doesn't have a valid index for acc_no. Try catching the error and seeing what these values actually are:I think you'll find that account is not what you think it is! 
The readlines() function reads all the lines from the current position to the end of the file. When you call verify() a second time, you're already at the end of the file, so there's nothing left to read.You need to seek back to the beginning of the file first.But instead of reading the file repeatedly, you could just read it once and save that in a global variable. Then you can reuse that variable each time.
You seem to be opening read_file once, and then trying to read its entire content with read_file.readlines() every time you enter the verify() function.AFAIK, readlines reads the entire file, so it cannot work a second time without reopening the file. Am I missing something? The docs say:If you want to read all the lines of a file in a list you can also use  list(f) or f.readlines()
List will raise IndexError when you try to fetch positional value where position itself does not exist. So the problem would be eitherFile is emptyFile is not empty but the acc_no you supply does not exists in the accountException raised if loop executes twice where read_file.readlines() will return [] an empty list. Now coming to the solution here is mine.Cheers!


Answer URL
https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files
