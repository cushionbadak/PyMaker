Natural Text
Currently I am using json to save a dict to a config file. I load this to turn it into a dict then turn it into a SimpleNamespace because I prefer dot notation to access the settings. To do this, I load it as in this example:However, as I am currently loading the dict into a SimpleNamespace it is not loading the sub dicts within the config file. So for example if I do:I get the error:I was wondering how I load all dicts into the namespace as name spaces so that I am able to use dot notation all the way down the dictionary.
It is not necessarily to recursively apply the transformation to the data returned by json.load.  You can simply ask json.load to return SimpleNamespace instances instead of dictionaries by providing an object_hook method to the json.load call.  This method "will be called with the result of every JSON object decoded and its return value will be used in place of the given dict." (from the docs).The simplest object_hook might look like:For example, given the following input:We can do the following:
You'll have to recursively apply the SimpleNamespace class to nested dictionaries; I prefer to use @functools.singledispatch() for such cases:then use this as:Demo:


Answer URL
https://docs.python.org/3/library/functools.html#functools.singledispatch
