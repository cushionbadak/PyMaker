Natural Text
I'm trying to use ctypes. I'm interested in manipulating C structs containing arrays. Consider the following my_library.cand suppose I've compiled it in a shared library my_so_object.so From Python I can do something like thisSo far so good: I've created the correct types and everything seems working fine. But then:I'm clearly missing something. The ArrayStruct type is recognized (otherwise the call myLib.print_array_struct(x) would throw an error) but not correctly initialized.  
There were 2 problems with the code (as I stated in the comment):print_array_struct.argtype - which is incorrectIn C the arrays are double based, while in Python they are ctypes.c_int (int) basedFor more details, check [Python 3]: ctypes - A foreign function library for Python. I modified your Python code, to correct the above mistakes (and some other minor stuff).code.py:Output:


Answer URL
https://docs.python.org/3/library/ctypes.html#module-ctypes
