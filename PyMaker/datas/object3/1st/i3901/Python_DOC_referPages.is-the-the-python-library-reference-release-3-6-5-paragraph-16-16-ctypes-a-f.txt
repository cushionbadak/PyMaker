Natural Text
I am on Windows 10, 64 bit, using CPython, Release 3.6.5.The above quoted documentation states in section Surprises that s.value is s.value returns False. But on my machine it returns True:Is the relevant documentation outdated or am I missing something?My original post has a crucial bug. I am missing the trailing parentheses in s = c_char_p.Here is the corrected version, also taking into account the difference between byte strings and Unicode strings.
This is my own answer to my own question as a bottom line to this discussion:No, The Python Library Reference, Release 3.6.5, paragraph 16.16 ctypes â€” A foreign function library for Python is not partially outdated. But it is afflicted with at least 2 editorial slips.Although this question was caused by a silly mistake of mine, the comments and answers--some deleted by that time--have revealed that Python's transition from byte strings to Unicode strings has not been fully followed:The code snippets in Incomplete Types use a c_char_p but assign Unicode strings to it, resulting in a TypeError. The same pertains to the last code snippet in Surprises.These minor flaws are indeed worth mentioning. To quote Davis King, the creator of the Dlib C++ Library, which, BTW, offers a Python API:I consider the documentation to be the most important part of the library. So if you find anything that isn't documented, isn't clear, or has out of date documentation, tell me and I will fix it. (http://dlib.net/)(Yes, I have sent an e-mail to "docs@python.org".)


Answer URL
https://docs.python.org/3/library/ctypes.html#surprises
