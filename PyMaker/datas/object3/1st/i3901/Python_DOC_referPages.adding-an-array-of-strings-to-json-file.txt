Natural Text
Hi am I trying to add elements from an array to a JSON file I would like to have each element of the array to be on their own line I currently have this This code puts all the elements on 1 line but for some reason in the file there are always empty elements [] in the front
This is happening because you are opening the output files in append mode (the "a" flag as second arg to open), which means that anything written to the file will be appended to the current contents; and you are dumping the list to the file in each iteration of the while loop. (this is also why you have empty lists in the front - during the first few iterations pos_name and/or neg_name may still be an empty list). Try opening the file in write mode "w" and writing the json dump after the loop is finished. Something like this:Note that this will still output everything on a single line - you can use the indent kwarg to json.dump to pretty print it if that's what you want. (see the python docs for usage examples.) Also example below (ipython session - json.dumps outputs to stdout instead of a file):


Answer URL
https://docs.python.org/3/library/json.html
