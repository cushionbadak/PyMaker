Natural Text
I am stack in something really simple, but I cannot find the right way. I have a dictionary like this one:I am trying to iterate through mylist and create a new subdictionary with the results of a function.The find dictionary would be like this:But when I run the code, I have a key error on thenewkey. Any idea?
You have to create first mydic[i]['thenewkey'] before assigning to mydic[i]['thenewkey'][j].
As already said, you have to create the thenewkey entry before you can add items to it, i.e. you'd have to add mydic[i]['thenewkey'] = {} to your outer loop. You could use a defaultdict(dict) to make Python automatically insert missing entries, but since you have both list and dict entries, this does not seem like a good idea.That said, using a dictionary comprehension makes it a bit shorter and IMHO much more readable:


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
https://docs.python.org/3/tutorial/datastructures.html#dictionaries
