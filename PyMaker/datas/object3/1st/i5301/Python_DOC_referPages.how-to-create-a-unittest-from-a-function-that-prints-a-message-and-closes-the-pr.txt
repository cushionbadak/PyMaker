Natural Text
I have the following function that prints an error message and closes the program:  Now I'm creating the unittest and found this topic about testing the sys.exit() but it doesn't work. I suppose that it's because it prints before closing the message.  How can I test this? Is there something in Python Standard Library that I can use anytime in my project to do the same thing as this function?What I tried to test was like this:The erro I get is this:I'm still new to python so I hope someone could help me.Thank you
From the python docsIf the value is an integer, it specifies the system exit status (passed  to C’s exit() function); if it is None, the exit status is zero; if it  has another type (such as a string), the object’s value is printed and  the exit status is one.The function you're testing exits with a default exit code of 0.Your test assumes the exit code in the exception will be 1, when you should expect it to be None per the documentation.
In this case, it's the code that is wrong.  Your test is correct and needs no changes.What you have exits with success (return code 0):To print the error message to stderr and exit with failure (return code 1) you want this:
The attributes of exception could be code, message, args and more.


Answer URL
https://docs.python.org/3/library/exceptions.html#SystemExit
https://docs.python.org/3/library/exceptions.html#SystemExit
