Natural Text
I want to create a script that'd work as a basic graphic interface for postgres database. I'm using psycopg2 library. I have a problem with a function that'd create tables.So far I have a function:And I'm able to create a table with one column. I'd like to be able to create a table with as many columns as the user wants to ("table_name","column"name","column_type","constraint" are taken from the keyboard). I don't know how to construct such function, though. I predict it needs some kind of a loop.To clarify, I want something like that:in the command line it should print:table name: (user writes, name is given)column name:column type:constraint:It's already working in my scriptBut then, I'd like to have just:column name (again):column type (again):constraint (again):So more columns could be added.
You could create a loop that asks the user whether to continue each time, where in each iteration, information for a new column, i.e. the column name, type and constraint, is appended to a list of columns.After the user chooses to stop adding columns, you have to construct your query. Possibly with, in the new format string syntax, 'CREATE TABLE {} ({})'.format(table_name, columns). I'm not going to spell out in code how to construct columns, but you could first create a string for each column, again using string formatting, and then join them with commas. In the end, columns should look something like this: "customer_id INTEGER UNIQUE, customer_name VARCHAR(50), phone CHAR(8)".There are probably less error-prone ways to accomplish this. You could check that each type and constraint, for instance, is valid.


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.join
