Natural Text
I seem to be unable to instantiate a namedtuple subclass:When I try to create an instance, I get:I expected Foo(1,2,3).There seems to be a workaround: using a class method instead of __init__:Now Foo.get(1,2) indeed returns foo(a=1, b=2, c=3).However, this looks ugly.Is this the only way?
Named tuples are immutable, you need to use the __new__ method instead:(Note: __new__ is implicitly made a static method, so you need to pass on the cls argument explicitly; the method returns the newly created instance).__init__ can't be used because that is called after the instance has already been created and so would not be able to mutate the tuple anymore.Note that you should really add a __slots__ = () line to your subclass; a named tuple has no __dict__ dictionary cluttering up your memory, but your subclass will unless you add the __slots__ line:That way you get to keep the memory footprint of your named tuples low. See the __slots__ documentation:The action of a __slots__ declaration is limited to the class where it is defined. As a result, subclasses will have a __dict__ unless they also define __slots__ (which must only contain names of any additional slots).


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__new__
https://docs.python.org/3/reference/datamodel.html#slots
