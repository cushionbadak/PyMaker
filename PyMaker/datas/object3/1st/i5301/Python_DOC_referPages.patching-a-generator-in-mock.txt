Natural Text
I am trying to create a mock version of a generator method for my unit tests. Setting the return value is easy:However this will only work once and has to be reset every time:Plus I am not able to generate mock values based on some_params. Is there a preferred way of handling this scenario that I am missing?
If you want to run a function when a mock is called, that's side_effect, not return_value:
The solution is to convert generator to list for testing. It works, but it might be bad.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
