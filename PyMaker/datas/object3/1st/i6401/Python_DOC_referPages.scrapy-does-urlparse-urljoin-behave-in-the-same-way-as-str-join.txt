Natural Text
I am trying to use urlparse.urljoin within a Scrapy spider to compile a list of urls to scrape. Currently, my spider is returning nothing, but not throwing any errors. So I am trying to check that I am compiling the urls corectly. My attempt was to test this in idle using str.join, as below:A one line of what that returns:lhttp:/www.url-base.com/destination/phttp:/www.url-base.com/destination/hhttp:/www.url-base.com/destination/shttp:/www.url-base.com/destination/.http:/www.url-base.com/destination/ahttp:/www.url-base.com/destination/shttp:/www.url-base.com/destination/phttp:/www.url-base.com/destination/?http:/www.url-base.com/destination/ihttp:/www.url-base.com/destination/dhttp:/www.url-base.com/destination/=http:/www.url-base.com/destination/5http:/www.url-base.com/destination/9http:/www.url-base.com/destination/8http:/www.url-base.com/destination/&http:/www.url-base.com/destination/chttp:/www.url-base.com/destination/ihttp:/www.url-base.com/destination/thttp:/www.url-base.com/destination/yhttp:/www.url-base.com/destination/=http:/www.url-base.com/destination/lhttp:/www.url-base.com/destination/ohttp:/www.url-base.com/destination/nhttp:/www.url-base.com/destination/dhttp:/www.url-base.com/destination/ohttp:/www.url-base.com/destination/nI think that from my example it is obvious that str.join does not behave in the same way - if it does then there this is why my spider is not following these links! - however, it would be good to have confirmation on that.If this is not the right way to test, how can I test this process? Update Attempt using urlparse.urljoin below: from urllib.parse import urlparseWhich is throwing AttributeError: 'function' object has no attribute 'urljoin'Update - the spider function in questionUpdateI just tested again in idle:Which threw this: 
You see the output given because of this:urljoin from the urllib library behaves differently, just see the documentation. It's not simple string concatenation.EDIT:Based on your comment, I suppose you are using Python 3. With that import statement, you import a urlparse function. That's why you get that error. Either import and use directly the function:or import parse module and use the function like this:


Answer URL
https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urljoin
https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse
