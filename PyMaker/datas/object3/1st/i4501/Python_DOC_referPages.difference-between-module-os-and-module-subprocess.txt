Natural Text
I made a script in Linux to dynamically auto-copy into folders through the subprocess module:However when I try to execute this same script in the windows cmd by placing the correct windows commands, it throws the following error:After that I had to do the same script with the module os.system and it worked perfectly on windows.My question is: Does the subprocess module not work in Windows?Can one only use os.system in Windows?
subprocess works just fine on Windows.But on any platform, subprocess can't call programs that don't exist. And there is no program named mkdir (or MKDIR.EXE) on Windows. When you type that into a command prompt, it's handled as a special built-in command by cmd.exe.And, even if it did exist, you wouldn't be calling it, because from the error message you clearly passed ' mkdir', with a space before the m, and there's no program with than name on any system.If you read the docs for subprocess, you can see that there are two ways around this:Pass shell=True, so the command will be executed by the shell (cmd.exe), similar to os.system but better in a variety of ways. Usually when you use this flag, you want to use a string rather than a list of arguments with this like run(f'mkdir {fold}', shell=True)Explicitly call cmd.exe, like run(['cmd', '/C', 'mkdir', fold])However, there's really no reason to use either os.system or subprocess here. If you want to make a directory, just call os.mkdir (or, if you want to do it recursively, os.makedirs. That's cross-platform, and about as simple as possible. And similarly, instead of running cp on Unix and copy on Windows, you can just shutil.copyfile or its variants.


Answer URL
https://docs.python.org/3/library/subprocess.html
https://docs.python.org/3/library/os.html#os.mkdir
https://docs.python.org/3/library/os.html#os.makedirs
https://docs.python.org/3/library/shutil.html#shutil.copyfile
https://docs.python.org/3/library/subprocess.html
