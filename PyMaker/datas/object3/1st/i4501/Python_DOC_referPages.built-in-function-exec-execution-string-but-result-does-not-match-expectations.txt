Natural Text
I'm sure this has been asked and answered, but I couldn't find it specifically:I'm just picking up Python and I'm not understanding a variable scope issue. I've simplified the problem to the following:Case 1:Case 2:Case 3:Case 1 and Case 2 have aaa undefined in the print statement. Case 3 works. Where does aaa actually exist in Case 1 and Case 2?Is there a way to access aaa in Case 1 without a global declaration?
From the docs:Note: The default locals act as described for function locals() below: modifications to the default locals dictionary should not be attempted. Pass an explicit locals dictionary if you need to see effects of the code on locals after function exec() returns.In other words, if you call exec with one argument, you're not supposed to try to assign any variables, and Python doesn't promise what will happen if you try.You can have the executed code assign to globals by passing globals() explicitly. (With an explicit globals dict and no explicit locals dict, exec will use the same dict for both globals and locals.)


Answer URL
https://docs.python.org/3/library/functions.html#exec
https://docs.python.org/3/library/functions.html#locals
https://docs.python.org/3/library/functions.html#exec
