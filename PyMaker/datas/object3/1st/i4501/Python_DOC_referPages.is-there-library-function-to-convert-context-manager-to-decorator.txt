Natural Text
Is there some function which can converts a context manager to a decorator?i.e. I can quickly write the following, but I hope don't miss the common wheel..Thanks!
There is very similar functionality already in the stdlib as contextlib.ContextDecorator.However, ContextDecorator is a class, and the way it's usually used is to inheriting from ContextDecorator (it works fine as a mixin if you have some other primary base class that has to come first). So all of your context manager class's instances are automatically usable as decorators, rather than passing specific instances to a decorator factory. It also has some nice bells & whistles, which you can find by reading the docs.It's worth noting that most context managers defined in that library, and all context managers that you create with the @contextlib.contextmanager decorator, are already ContextDecorators. And for many of the other context managers in builtins and the stdlib (like files, or locks), usefulness a decorator is a little questionableâ€”but there are some examples I could see wanting to wrap up this way, like decimal context context managers.


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.ContextDecorator
