Natural Text
The function:What im running isTest.txt contents:What I expect:But when I run the script nothing changes.
You have lines with whitespace indentation, such asThat line has spaces at the start; if you looked at the string representation you'd see:That line does not start with 'new code(', it starts with '        new code(':str.startswith() does not ignore spaces.Either strip off the whitespace, or include whitespace in the after variable:You could also use regular expressions to match lines, so using the pattern r'^\s*new code\('.
Your mistake is that line does not start with the text you are looking for. It starts with "        new code(" not "new code(. So you either need to look for "        new code( or you need to strip the whitespace from the line, i.e. line.lstrip().startswith(....BTW. instead of the loop you use to read in the file you could just say lines = f.readlines().
As there is lots of whitespace being created by the IDEyou need to strip it before you can use startswith so change it to line.lstrip().startswith so that the leading whitespaces get removednext for the writing you can use an Regex to add the whitespace to your new line like thisFixed code:


Answer URL
https://docs.python.org/3/howto/regex.html
