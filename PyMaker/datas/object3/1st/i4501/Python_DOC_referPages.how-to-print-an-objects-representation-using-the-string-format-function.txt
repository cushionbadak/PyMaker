Natural Text
I'm creating a Money class, and I'd like to pass the object directly to the string format() function and get the money representation with 2 decimals and the currency symbol.What method should I override to print with the string format function? Overriding str and repr did not work.
You can give your class a __format__ method; in this case just call overridden version:From the linked documentation:Called by the format() built-in function, and by extension, evaluation of formatted string literals and the str.format() method, to produce a “formatted” string representation of an object. The format_spec argument is a string that contains a description of the formatting options desired. The interpretation of the format_spec argument is up to the type implementing __format__(), however most classes will either delegate formatting to one of the built-in types, or use a similar formatting option syntax.You'll want to drop your __str__ and __repr__ implementations now, or at least not add another '$' on top of the one __format__ now adds (which format(self, ...) will trigger).Demo:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__format__
