Natural Text
I cannot figure out why the glDrawElements is not working. I've used the glDrawArrays successfully. But the moment I try to draw with glDrawElements, it is not working.I am following the learnopengl.com website's tutorials in python, so it adds a bit to the headache. Any idea why this is not working? I've been looking at it for almost a day and can't see the error in my ways.
There are two tricky issues that need to be addressed in this code, and both of them are subtle and python-specific.First, you should replace the 0 in glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0) with None. I suspect this is because PyOpenGL uses ctypes to wrap OpenGL and None is recommended to represent the NULL pointer according to the ctypes documentation. If you need to use offsets for your buffers later, you should look at this answer.Second, if you just do step 1 and run the code, you might find the output to not be what you expect:What happened to our orange rectangle? Well, the problem here is with the data we are passing to our buffer objects. If you are on a 64-bit device, the numpy data types (dtype) will be 64-bit too if not fully specified. OpenGL expects 32-bit floats and integers rather than doubles, so we need to use np.float32 instead. I would also use np.uint32 for your index buffer for consistency's sake, but this is not strictly necessary. If we fix your verts and indices initialization statements to this:The results should be more like what you expect:Hope this helps!


Answer URL
https://docs.python.org/3/library/ctypes.html#calling-functions
