Natural Text
I am trying to kill SimpleHTTPServer in my script.Manually the command is working fine.Same thing in script is not working. I am using subprocess.Popen.
You're trying to use a shell backtick, around a shell pipeline, in that kill command. But you're trying to do it without shell=True. You can't do that.You can build a sh command line and run that with shell=True, but that's usually a bad idea.The subprocess  docs on Replacing Older Functions with the subprocess Module show how you can do the same things in Python that you were using the shell for. That's a better idea, but a bit of work.But the simplest thing to do is just not call any of this stuff.You don't need the ps|grep|grep|awk to find the PID of the process, because you Popened the process, so it's just proc.pid.And you don't need the kill either, because you still have that Popen object around, so you can just call kill, terminate, or send_signal on it.


Answer URL
https://docs.python.org/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module
