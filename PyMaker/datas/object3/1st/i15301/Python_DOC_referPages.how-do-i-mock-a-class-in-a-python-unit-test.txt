Natural Text
I have a class:I'd like to write a unit test to test the is_authorized method. The problem is that it requires an instance of the B class which is very complicated to construct in isolation as it requires network connections and other stuff. How can I mock this class and provide something that just has the get_name method. So that I can create the A class and test the method.
By use mock library you can patch B class and replace it by a MagicMock() object. mock library was designed exactly to do these kind of works and to break hard dependencies from problematic object or real resources.In your simple example the complete test will be:module_a.pymodule_a_test.pyPatch will live just for your test method context. That is a simple and straightforward example of how to use mocks and patches from mock but the real cases can be little more complicated. 
Create a mock class for B, e.g.:Then, in your test case, wrap A in a class that inits with MockB instead of regular B:Though, to be honest, I'm not sure what that proves.


Answer URL
https://docs.python.org/3/library/unittest.mock.html
https://docs.python.org/3/library/unittest.mock.html#the-patchers
