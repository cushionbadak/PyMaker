Natural Text
I have a file with some non-ASCII characters.On my desktop with Python 3.4 I can open this file with no problems:On a CI system with Python 3.3 I get this:But if I explicitly specify encoding='utf8', it works:On both systems, sys.getdefaultencoding returns 'utf-8'.Any ideas what is causing the systems to behave differently? Why is the CI system trying to use ascii?
The encoding for text files is determined by locale.getpreferredencoding, rather than sys.getdefaultencoding.


Answer URL
https://docs.python.org/3/library/locale.html#locale.getpreferredencoding
https://docs.python.org/3/library/sys.html#sys.getdefaultencoding
