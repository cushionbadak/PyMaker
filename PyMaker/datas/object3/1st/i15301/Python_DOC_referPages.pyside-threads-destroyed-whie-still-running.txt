Natural Text
I'm having problem with QThreads in python.I would like to start my multi QThread when I push on button Run.But the compiler outputs following error:"QThread: Destroyed while thread is still running"I don't know what is wrong with my code.Any help would be appreciated.Here is my code:log
The problem is caused by the way you are using the queue.All the threads start and begin their tasks normally, up until the queue becomes empty. At that point, the first thread to finish terminates, but the other four threads are left waiting for an item to be returned from the queue, which never comes.This is because you use get with no arguments, which will block indefinitely until an item becomes available. Instead, you should use get_nowait, and also call stop() unconditionally at the end of request():
You are trying to do something that is a built-in of Qt: a QThreadPool.I would advice you to read the doc and use it instead.If you really want to use QThread:You should not subclass QThread. Instead you should subclass the basic QObject to create your worker and use the moveToThread method:Then somewhere else:The solution is a rough translation of this one in C++:https://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/Hope this helps!
I believe that you need to call self.threads.append(downloader) before downloader.start() so that the thread doesn't go out of scope and get garbage collected.


Answer URL
https://docs.python.org/3/library/queue.html#queue.Queue.get
https://docs.python.org/3/library/queue.html#queue.Queue.get_nowait
