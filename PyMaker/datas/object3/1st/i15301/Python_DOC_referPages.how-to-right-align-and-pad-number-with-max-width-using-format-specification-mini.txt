Natural Text
I need to be able to do this in a way that I can pass the format specification to the fmt parameter in numpy.savetxt(). I want to:Take a floatPad with zerosRight align the numberTruncate to 8 digits with 3 decimal places (including negative signs)I tried this:'{:0>8}'.format('%.3f')which I am passing to the numpy.savetxt() function but it is not able to truncate the values to the specified width of 8 digits.for example:gives the output:So obviously the values are not being truncated properly as each line should be the same length and each column should be fixed width essentially.How can I modify that format specifier being passed to the fmt parameter of numpy's savetxt function to get the desired result?
The expression '{:0>8}'.format('%.3f') is evaluated immediately before savetxt ever gets a chance to even look at it.  This means what savetxt sees from its perspective is simply the string '0000%.3f', which doesn't do what you want.After looking at the various docs on the format specification, I think using fmt='%09.3f' should give you the results that you want.  To dissect this:The 0 means it's zero-padded.The 9 means there are 9 characters (since . requires an extra character).The .3 means there are 3 decimal places.Lastly, the f specifies decimal notation (as opposed to scientific or other kinds of notation).Floating-point numbers are padded to the right by default so there's no need to worry about that.


Answer URL
https://docs.python.org/3/library/string.html#format-specification-mini-language
