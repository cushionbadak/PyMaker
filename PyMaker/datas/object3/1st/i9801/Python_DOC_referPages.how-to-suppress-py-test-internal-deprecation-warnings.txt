Natural Text
Is there a way to suppress the pytest's internal deprecation warnings?Context: I'm looking to evaluate the difficulty of porting a test suite from nose to pytest. The suite is fairly large and heavily uses nose-style yield based test generators.I'd like to first make sure the existing tests pass with pytest, and then maybe change test generators to parameterized.Just running $ pytest path-to-test-folder with pytest 3.0.4 is completely dominated by pages and pages ofIs there a way of turning these warnings off?
From pytest --help:
pytest -p no:warningsor add the following to your pytest.ini or tox.ini:The result will be green without any indication of warnings (unless tests fail of course).See https://docs.pytest.org/en/latest/warnings.html#disabling-warning-capture
I think you do not want to hide all warnings, but just the ones that are not relevant. And in this case, deprectation warnings from imported python modules.Having a read on pytest documentation about Warnings Capture: Both -W command-line option and filterwarnings ini option are based on Pythonâ€™s own -W option and warnings.simplefilter, so please refer to those sections in the Python documentation for other examples and advanced usage.So you can filter warnings with python's -W option!It seems that pytest completely removes filters, because it shows all those DeprecationWarning when running, and Python's documentation about Default Warning Filters clearly says: In regular release builds, the default warning filter has the  following entries (in order of precedence):So in your case, if you want let say to filter types of warning you want to ignore, such as those DeprecationWarning, just run the pytest command with -W option :EDIT: From colini's comment, it is possible to filter by module.  Example to ignore deprecation warnings from all sqlalchemy :You can then list your installed modules that creates too much noise in the output of pytestUse with file rather than in command line:You may prefer list those filters in pytest.ini file : 
I don't want to hide all warning, so I put this in pytest.ini


Answer URL
https://docs.python.org/3/using/cmdline.html?highlight=#cmdoption-W
https://docs.python.org/3/library/warnings.html#warnings.simplefilter
https://docs.python.org/3/library/warnings.html#default-warning-filter
