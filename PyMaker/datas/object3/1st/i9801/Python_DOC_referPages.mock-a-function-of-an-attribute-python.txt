Natural Text
I have here:which is based on JWT. I want to mock identity.key.urlsafe() to return 1 which is a user id:Right now, everything works except my mock. The goal was for it to return 1:How can I mock this nested call to make urlsafe return 1 in my mock? Thank you
It looks to me like you want to set the side_effect of your mock to be get_urlsafe:From the documentation:side_effect: A function to be called whenever the Mock is called. See the side_effect attribute. Useful for raising exceptions or dynamically changing return values. The function is called with the same arguments as the mock, and unless it returns DEFAULT, the return value of this function is used as the return value.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock
