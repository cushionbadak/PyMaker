Natural Text
I have a server used by many clients. In order to make finding log entries easier, I wanted to allow the client to supply a UUID for each request, and then prepend each log message with that UUID for the duration of the request. The benefit to this is that the client can supply the ID to me if they encounter some bug, and I would be able to quickly find it in the logs. I assume this is pretty standard; is there any idiomatic was of accomplishing this task in Python?I could do this naively by manually prepending the uuid to each log message:I could also create a new logger for each request, and change the formatter to take care of prepending for me:Then I thought that I could perhaps create a proxy class, that would intercept calls to info, debug, exception, and etc, and prepend the uuid. Something like:And why not collapse these using __getattr__ and a decorator?
How to do this is documented in the Logging Cookbook, which is part of the Python documentation.


Answer URL
https://docs.python.org/3/howto/logging-cookbook.html#adding-contextual-information-to-your-logging-output
