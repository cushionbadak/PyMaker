Natural Text
I'm pulling data from an API with the following:I get the output of raw xml, below is the browser output:How do I get each rows information into usable form, such as looping through the list for each project id I pull the id/name/desc/href of each and store it?I tried doing an conversion to json in the accept headers section for requests.get() but it still spit back xml data so I think I'm stuck working with this content structure.
I'd use lxml.Which gives you:
For well-structured xml files, you can use (@Adam Smith) lxml, which is a quite famous library for parsing xml data.For example, parsing the data you mention will take a snippet like the following:Now, it is a known problem(?) that if your xml file is somehow corrupted, like missing a character in closing tag and whatnot, then lxml doesn't work. Well, it is not supposed to.In that case you need to relay on regular expression (regex), i.e. Python's re module. Corrupted data will force you to man up and compile your own regular expression. For example, given the data you have, you can use the following regex:This will extract out five groups per match, each match contains one line while each group corresponds to an attribute, which can be empty strings. For more details, check out the Python Doc. Also this site is a good tool for prototyping/testing regex.


Answer URL
https://docs.python.org/3/library/re.html
