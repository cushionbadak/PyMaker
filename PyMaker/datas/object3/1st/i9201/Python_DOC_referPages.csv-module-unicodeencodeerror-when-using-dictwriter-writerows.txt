Natural Text
I'm setting up a prod environment on a new Mac server that should mirror my dev environment.  The job runs without a hitch on my dev computer, but on the server I'm getting this traceback:This job is being run through the Run Shell Script terminal in the Automator App.  I've checked the sys.defaultencoding() in the Automater terminal, as well as on the machine itself.  Everything says utf8.  I've also checked the encoding in my PostgreSQL database, and that is also set to UTF8.  Here is my open statement for the file that the Dictwriter is writing to:I'm a little stumped as to where to even start to track down this error since all the default encodings seem to be correct...  I should mention that this file is then copied to a PostgreSQL database using the psycopg2.cursor.copy_from command after, so the file should be written in a mode compatible with that.
You did not specify an encoding for your file, so the default codec is used for your system. Currently that is ASCII. See the open() documentation:In text mode, if encoding is not specified the encoding used is platform dependent: locale.getpreferredencoding(False) is called to get the current locale encoding.Specify a different codec instead. UTF-8 would work:sys.getdefaultencoding() doesn't apply here; that's merely the default for unqualified str.encode() calls.


Answer URL
https://docs.python.org/3/library/functions.html#open
