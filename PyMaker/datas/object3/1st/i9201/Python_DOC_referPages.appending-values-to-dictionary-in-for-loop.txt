Natural Text
Just cant get this working. Any help is highly appreciated.This is printing something like this{'k1':['v1']} and {'k1':['v2']}I have few other nested for loops down this code, which will be using this dict and the dict has only the latest key value pairs i.e. {'k1':'v2'}I am looking for something like {'k1':['v1','v2']}Please suggest a solution without using setdefault
Give Collections.defaultdict a try:the d = defaultdict(list) line is setting the keys values to be an empty dictionary by default and appending the value to the list in the loop.
The problem with the code is it creates an empty list for 'key' each time the for loop runs. You need just one improvement in the code:
You can also check key existence before assign.


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
