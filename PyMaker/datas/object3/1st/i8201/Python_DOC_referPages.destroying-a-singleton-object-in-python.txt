Natural Text
I have a Singleton object in Python: I would like to destroy the object at some point, so I wrote a classmethod in the metaclass. However, the cls refers to the metaclass Singleton rather than MockObject. Is there a way to call the destroy function with a value of MockObject?
Instead of defining a custom method for deleting the instance reference use a WeakValueDictionary.Now when there are no more references of MockObject anywhere it will be cleaned up from Singleton._instances automatically.Output:


Answer URL
https://docs.python.org/3/library/weakref.html#weakref.WeakValueDictionary
