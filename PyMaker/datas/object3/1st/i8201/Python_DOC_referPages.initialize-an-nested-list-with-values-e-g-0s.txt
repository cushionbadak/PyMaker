Natural Text
This question already has an answer here:Python list append behavior [duplicate]                    4 answers                List of lists changes reflected across sublists unexpectedly                    12 answers                Mutating any row value mutates all row values for the shortcut methods of initialization. The only way I can get non-mutating behavior is by writing out the whole list.There must be a better way(?), think of the case where you want to initialize the list based on the length of a different list.
Use a list comprehension. Note that lists are mutable but integers are not. Thus [0]*4 behaves like you would expect, but [[0]*4]*4 'leaks' changes. Using a list comprehension creates a new outer list each time, avoiding the problematic behavior of your example.


Answer URL
https://docs.python.org/3/faq/programming.html#how-do-i-create-a-multidimensional-list
