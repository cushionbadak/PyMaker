Natural Text
I am experimenting a bit with python's asyncio Protocols. I found this example from the official docs and wanted to slightly modify it and reproduce its beahviour. So I wrote the following two scripts:and:When I run async_test.py I get the following output:And it just hangs.If I uncomment the pipe_connection_lost method, the output is the following:And still the process hangs. What I think is happening is that for some reason the child process (get_rand.py) closes the pipe (as seen in the output above) but does not terminate so that the parent can unblock from yield from exit_future. I really don't understand the reason behind this behaviour, considering that my code is mostly copy-pasted from an example in the python docs.
Change def subprocess_exited(self):to def process_exited(self):


Answer URL
https://docs.python.org/3/library/asyncio-subprocess.html#subprocess-using-transport-and-protocol
https://docs.python.org/3/library/asyncio-protocol.html#asyncio.SubprocessProtocol.process_exited
