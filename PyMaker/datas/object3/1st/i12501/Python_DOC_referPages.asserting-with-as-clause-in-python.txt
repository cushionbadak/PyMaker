Natural Text
So, having the unittest.mock and the code... one can assert Connection.assert_called_with(host, username, password, port).But assertion Connection.assert_called_with(host, username, password, port).get("filename") fails. How do I assert that?
I'm assuming that you would like to patch pysftp.Connection reference.Here is an example of how you can do your test:Because sftp object is a MagicMock you can use it directly. As you can see in the log sftp is exactly the same ofConnection -> mock_connection() -> return_value


Answer URL
https://docs.python.org/3/library/unittest.mock.html#patch
