Natural Text
I have many python packages, wrote by my colleagues and I want to write a tool to check which third packages they rely on. Like this and the tool should work like this I have no idea how to do that, all I can come up implementation of this tool is read a Python file line by one line as string, and use regex to compare it.Could you give me some advises?If you don't know what I mean, please comment your question, I will fix it as soon as possible. Thanks!
You can parse your files with the ast module and check all Import and ImportFrom statements.To give you an idea, here's an example:Your script could work like this:Parse the source file via ast.parseVisit each node using ast.walk()If a node is an Import or ImportFrom object, then inspect the names and do what you have to do.Using ast is way much easier and more robust than regular expressions or a custom parser.


Answer URL
https://docs.python.org/3/library/ast.html
https://docs.python.org/3/library/ast.html#ast.parse
https://docs.python.org/3/library/ast.html#ast.walk
