Natural Text
I have to write xml data to file and if file exists I have to remove that file first but it appends the data every time to the same file.Note: I am doing this in scons file myfile.pySConscript
From the Python documentation on open:mode is an optional string that specifies the mode in which the file is opened. It defaults to 'r' which means open for reading in text mode. Other common values are 'w' for writing (truncating the file if it already exists) ...In plain English, this means that when you open the file for writing its existing contents are immediately deleted and whatever you write to the file (if anything) becomes its new content. You say"if file exists I have to remove that file first"so it looks as though the ElementTree's write method is doing something weird. I presume you have checked that the file size increases after each run, rather than a simple visual inspection of the output? I'd be very surprised if ElementTree outputs were so different from standard Python files.EDIT: The following program creates an XML file, parses it and writes a subtree out to a new file:I run it once:I run it again:and the files are the same length. Not even the creation time has changed, since they have been truncated rather than removed and rewritten. You could add an os.remove call to verify it made no difference to the file sizes.


Answer URL
https://docs.python.org/3/library/functions.html#open
