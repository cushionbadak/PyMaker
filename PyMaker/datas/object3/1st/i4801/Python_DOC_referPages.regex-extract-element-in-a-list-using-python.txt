Natural Text
I have a list containing a set of the history of a file. I need to separate each element in the list into several columns and save it to CSV file. The columns I need are commit_id, filename, committer, date, time, line_number, code. Suppose, this is my list:The desired csv output:I tried using this code:In general, the code works. But for line number = 160, it's written -1 in column line_number and is written only { in column code.Is there something missing in the regex?
The main problem with your pattern is usage of .+. If you replace it with .*? you will not only solve the issue with line number but also with catching whitespaces after committer name:https://regex101.com/r/f7zjpA/2EDIT:You didn't mention that you want to keep indentations and your code didn't look like you actually want it. Whitespaces/indentations before the code are removed not only because of the regex pattern. There are two things:in regex pattern you used \s+ before code group, which excludes all the whitespaces/indentations. If you want to keep them, replace \s+ with \s which will catch only first one instead all of them:in the for loop you use field.strip() which removes all whitespaces which are present at the beginning and the end of the string. Modifying the pattern and exchanging:with:will result in keeping indentations where they belong.
I fixed regex.This should work:I added a question mark to use Lazy matching".+" => ".+?" https://regex101.com/r/GQGLvy/1
Not exactly you are looking for but this can be useful.


Answer URL
https://docs.python.org/3/howto/regex.html
