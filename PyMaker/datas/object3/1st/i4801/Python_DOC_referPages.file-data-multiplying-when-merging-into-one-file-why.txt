Natural Text
My script below takes files with a predetermined string in the filename and merges them into one file. I have to pre-define the number_of_files for a reason.What I expect:Contents from files FOO1.TXT FOO2.TXT FOO3.TXT to be added tothe merged_file (in order, but not crucial).What happens: The merged_file has the content from the 3 files (in order), but 9times each (1, 2, 3, 1, 2, 3, [...]).
Your issue lies here:For each file, check if FOO is in i, the filename, then for a predefined number of files, you append to the output file. This is being done 3 x 3 times, since there are 3 FOO files, which you then are telling it to loop another 3 times any time it finds a file.My suggestion is to remove the inner for loop for i in range (number_of_files):. I defined my test FOO#.txt files as such:The output of the original script using my test data is below, where test# comes from FOO#.txt in my test sample. Notice the triplication of the data, as described in the question:The output of the corrected script is below, where test# comes from FOO#.txt in my test sample:You also reuse i, which can cause problems. I have eliminated this reuse.


Answer URL
https://docs.python.org/3/library/glob.html#module-glob
