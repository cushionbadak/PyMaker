Natural Text
Using Riot's API, I'm developing an application that analyzes data from a players League of Legends match history. I have a list containing item names, and time of purchase (in seconds)I'm trying to convert this to a unique list of items containing the item name, and the average time it was purchased.For this example, this is what I'm looking to convert my list into:My attempted solution was to create an empty dictionary, iterate through the list, set the dictionary keys as the item names, and the average time as the key value.The problem with this is that I'll be trying to perform calculations on a variable dict[item_name] before it is initialized. At this point I am a bit stuck. Any pointers or help would be greatly appreciated.
You could use setdefault:Or as an alternative use defaultdict from the collections module:Output
I would fill in the dictionary first, and for each item_name I would have a list of time_of_purchase values. Once done, I would go through the dictionary (key,list) pairs, and calculate the average for each list.Daniel's solution does the same, in a more pythonic and efficient way.
There's two problems with your approach, the one you identify, and that if the item occurs three times, the average is not calculated correctly.  To fix this, one approach is to sum the times, but also record the number of occurrences separately, then calculate the average as a second step.


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.setdefault
https://docs.python.org/3/library/collections.html#collections.defaultdict
