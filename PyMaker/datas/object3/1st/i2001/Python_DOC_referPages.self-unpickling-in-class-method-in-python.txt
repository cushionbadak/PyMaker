Natural Text
I am trying to create an object which can serialize and deserialize itself with a class method, without using the return statement (I do not want a static method). This is a concept of my class and a naive use case:However, once I leave the deserialization method, self (in this case, the instance a2) does not keep its value.Output when run:Why is this happening? I have also tried with deepcopy just after the pickle.load in the function deserialize but nothing seems to work, and I would like to understand why.Thanks in advance
The reason this doesn't work is that because you can't assign to self (or rather: doing that doesn't do what you think it does). If you're interested to find out what actually happens, try assigning something weird to self, e.g. self = "foobar" (the behaviour will be unchanged).Make deserialize a classmethod and use it as a "constructor":Then use it like this:Output:Serialized with value of: 2  Deserialized value inside deserialize function: 2  Deserialized value outside: 2


Answer URL
https://docs.python.org/3/library/pickle.html#pickling-class-instances
