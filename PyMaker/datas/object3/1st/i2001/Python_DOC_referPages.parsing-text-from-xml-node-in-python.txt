Natural Text
I'm trying to extract URLs from a sitemap like this: https://www.bestbuy.com/sitemap_c_0.xml.gzI've unzipped and saved the .xml.gz file as an .xml file. The structure looks like this:I'm attempting to use ElementTree to extract all of the URLs within the loc nodes throughout this file, but struggling to get it working right.Per the documentation, I'm trying something like this:However, nothing gets loaded into value. My goal is to extract all of the URLs between the loc nodes and print it out into a new flat file. Where am I going wrong?
We can iterate through the URLs, toss them into a list and write them to a file as such: note we need to append the name space from the open urlset definition to properly parse the xml
You were close in your attempt but like mzjn said in a comment, you didn't account for the default namespace (xmlns="http://www.sitemaps.org/schemas/sitemap/0.9").Here's an example of how to account for the namespace:output:Note that I used the namespace prefix sm, but you could use any NCName.See here for more information on parsing XML with namespaces in ElementTree.


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml-with-namespaces
https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml-with-namespaces
