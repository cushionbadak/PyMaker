Natural Text
I stumbled upon this question when trying to figure out how to get a python script to send a left or right keystroke after button presses (utilizing the GPIO pins).It seems like the chosen answer to the linked question is what I need to get me going but after installing xautomation, trying to adapt the code to my script and reading up on the documentation for Popen (I even tried running a new file with the code verbatim) I keep getting the following error:I'm running Python3 on a Pi 3 model B, in Raspbian Jessie with Pixel (downloaded from raspberrypi.org)Any ideas why it's erroring out?If it helps at all, all I'm trying to do is allow a user to scroll left and right in a FEH slideshow... I might be totally off the mark with this approach given how seemingly simple a task this is. I'm not looking for someone to solve this for me outright - I like the challenge associated with coding - I'm just super new to python; nudging me in the right direction would be super helpful.Any help is greatly appreciated!!!EDIT: Sorry about not including the code!EDIT EDIT:Here's my updated code... it actually prints spaces for both left and right button presses.I've read up on subprocess and Popen.communicate() but couldn't really tell if the problem had something to do with that or with what xte is expecting as an argument. Thoughts?
The error indicates that your control sequences are strings (i.e. unicode), but Subprocess seems to expect bytes.In function keypress, convert the sequence into bytes like so:A very good writeup about bytes, strings, and unicode can be found here: https://nedbatchelder.com/text/unipain.html
I've been looking at the same examples, here's my working example for 6 buttons: (it's somewhat messy, but my debug lines might help others too)note the trailing whitespace (could be any char) within opcodes2 per command. the ascii encode was dropping the last character on me, so this is my somewhat ugly workaround.


Answer URL
https://docs.python.org/3/library/subprocess.html
