Natural Text
I am using Django for my web development framework. And now I am writing unittest. How can  I assert that a function is not executed in my test code?For example, this is the use case: My test code is testing a user is typing a wrong password while signing in. I want to make sure that reset password function is not executed in this use case.Well, this doesn't really reflect the real situation but I hope you get my point.
What I would do is to use mock. Mock the function and assert that mock_function.call_count==0.You can read more about mock here:https://docs.python.org/3/library/unittest.mock.html
I'd like to answer my own question. So far my solution is using Mock.call. Example this is where reset password function located: utils/password.pySo I need to mock this object at my test code test/login.py
use mock.patch.object and assert_not_called or call_count to do this.assume you function define in mymodule.py:test code in test_mymodule.py


Answer URL
https://docs.python.org/3/library/unittest.mock.html
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.called
