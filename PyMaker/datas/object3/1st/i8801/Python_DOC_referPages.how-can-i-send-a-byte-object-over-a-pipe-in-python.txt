Natural Text
I am trying to send a numpy array over stdout from one process to another.Sending it over the pipe requires me to convert it to a string.On the other side, I receive a byte object. This byte object now has the original byte string encapsulated.I find it now impossible to restore the original byte object as a byte object.If I decode the byte object, I receive a string which is incompatible with all the restoring functions I tried (np.frombuffer, pickle.loads).server.pywriter.pyIs there anyway to convert the string into a byteobject, without encoding it? How else could this work?I want to use pipes instead of shared memory as proposed in some other solutions to keep it more simple. Furthermore, I need it to be parallel but blocking, so Pipes seemed ideal to me.Thanks
you can use pickle to marshal the data, and sys.stdout.buffer instead of sys.stdout to write bytes to stdout.Reference: sys.stdoutserver.py:writer.py:


Answer URL
https://docs.python.org/3/library/sys.html#sys.stdout
