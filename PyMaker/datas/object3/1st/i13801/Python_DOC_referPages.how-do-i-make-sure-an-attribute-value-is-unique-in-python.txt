Natural Text
I'm scraping a website that contains a list of people. The same person can show up more than once and it's possible for multiple people to share the same name:I want to create an object for each person and discard duplicates.I'm currently using a list comprehension to loop through all class instances and see if key is already in use. Is there a simpler way of doing it?
Define __eq__ and __hash__ in your class, compare the instances based on the value of key and calculate hash using it as well. And instead of a list use set as it will automatically filter the duplicates for you in an efficient way:Don't assign the instances permanently to a variable, otherwise it won't be garbage collected(Note that this is true only for CPython):Output:
Global storage for your ids is fine, but its better to leverage set instead of list for that, as checking i in {} is O(1) while i in [] is O(N)


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__eq__
https://docs.python.org/3/reference/datamodel.html#object.__hash__
