Natural Text
When I use WTForms to define a form, I can add a validate_<field name> method to the subclass, and WTForms knows to use it to validate the named field.  I find this interesting because the name of the method depends on the name of the field class attribute.  How does it figure this out?
WTForms inspects the class when it is called (calling a class creates an instance: form = Form()) and records the fields and their names.  Then during validation, it looks if the instance has a method validate_<field_name>.Within FormMeta.__call__, it uses the dir function to list the names defined on the class object and record the fields.Within Form.validate it uses the getattr function to try to get the value of the name validate_<field name> for each field it recorded.
All members of all Python types are actually hashtables (dicts) and all type information is reified at runtime. So you can inspect any Python class from code.As a quick interactive example:


Answer URL
https://docs.python.org/3/library/functions.html#dir
https://docs.python.org/3/library/functions.html#getattr
