Natural Text
This works but my_list has \n at the end of each line. How can I remove it. After I remove it how do I turn it into an integer list?I've tried doing something likebut I get an error because of the new lines.
It looks like you just want the last column as a list of integers.  Is that correct?  If so:should do the trick...If you want each row as a list of integers:Note that in python, int will happily convert a string with any whitespace:so the newlines aren't a problem ... (tested using python3.2 and python2.7)
If you want to parse CSV files, you don't want to have to deal with all the fiddly cases like newlines in the last column, spaces around the commas, etc. Just use the csv module that comes with Python:Or, possibly more simply:Mixing a list comprehension and a map onto one line looks a bit surprising to me, but in this case, I think it looks a little better than the pure comprehension alternative:And a lot better than the pure functional alternative:
Your existing code works just fine for what you're trying to do.To make it self-contained, I moved the file into the program as a StringIO, but otherwise, this is your code, word for word:And here's what it does:Which is exactly what you wanted, right?So, if it's not working, it's not because of the newlines; it's because of something else. And, since you never told us what the error is, or anything about it beyond "I get an error because of the new lines", nobody can possibly guess what that something else might be. Maybe you've got a 3.6 in there, and you're getting ValueError: invalid literal for int() with base 10: '3.6'. Maybe you have no file at the specified path, and you're getting a FileNotFoundError error. Maybe you forgot a shebang and you're running your Python 3.x script with a Python 2 interpreter, or with bash. Anything's possible, based on what you've told us.


Answer URL
