Natural Text
When dealing with open files, Python has the with syntax that makes sure the file closes when leaving the block - regardless of exceptions etc.Since processes are resources too, I was wondering: is something similar possible or recommended when using Popen? For example, should Popen.kill(); Popen.communicate() be run in a finally clause - assuming I don't mind blocking until the process finishes?
Starting from Python 3.2 Popen is a context manager.from the docs:Popen objects are supported as context managers via the with statement: on exit, standard file descriptors are closed, and the process is waited for.This should do pretty much what you want.This is the relevant part from subprocess.py from the standard libin Python 3.4:Now you can do in Python 2.7
For 2.7 you could also use the @contextlib.contextmanager:e.g:
You can add just two custom methods to any class to implement comptability with with statement.


Answer URL
https://docs.python.org/3/library/subprocess.html
