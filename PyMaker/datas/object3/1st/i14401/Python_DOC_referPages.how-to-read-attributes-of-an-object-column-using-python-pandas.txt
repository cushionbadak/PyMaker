Natural Text
I have a dataframe where the 'location' column contains an object:I'd like to create an extra column, 'project_country', which contains just the country information, if available. I've tried the following:But this doesn't work:How should I go about importing this field?
Use apply and pass your func to it:The reason your original code failed is because what is passed is the entire column or pandas Series:As such an attempt to find the key using the entire Series raises a KeyError and you get 'n/a' returned.
The correct way as EdChum pointed out is to use apply on the 'location' column. You could compress that code in one line:And, assign it to a column: 
With apply, you can use operator.itemgetter. Note we need to use dropna() since your column contains NaN:


Answer URL
https://docs.python.org/3/library/operator.html
