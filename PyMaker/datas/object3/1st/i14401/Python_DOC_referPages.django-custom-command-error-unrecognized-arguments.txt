Natural Text
I'm trying to create a command similar to createsuperuser which will take two arguments (username and password)Its working fine in django 1.7 but not in 1.8.  (I'm also using python3.4)this is the code I wrotemyapp/management/commands/createmysuperuser.pyand when I try to run this command $ python manage.py createmysuperuser myuser mypasswordI get this errorbut when I dont pass any arguments it raises CommandError which is expected.CommandError: need exactly two arguments for username and password
In django 1.8 you should add arguments to you command:add_argument() method of argparse is documented here.UPDATE: By default arguments are passed in the options parameter so the handle() method should look like this:And you don't need to check the length of the args list - it is already done by argparse. This is the recommended method but if you want to use the args argument then you have to use the "compatibility mode" and name the added argument as args:Read the "Changed in Django 1.8" side note in the first chapter of the docs (right after the closepoll.py example).UPDATE2: Here is the full working example:
For minimal changes just add the method add_arguments() in Command class.You can continue to use args as before.


Answer URL
https://docs.python.org/3/library/argparse.html#the-add-argument-method
