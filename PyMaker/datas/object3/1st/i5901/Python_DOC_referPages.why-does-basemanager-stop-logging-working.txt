Natural Text
I am using BaseManager to share a queue; and queuelistener for logging. This works fine on linux but on windows in the following code the "getting server" message is displayed but the "got server" logging message does not appear. The only line in between is a call to BaseManager.get_server(). Why? Can it be fixed?
I'm not sure exactly where you're going wrong (concurrency can be tricky), but you're doing things which are not recommended by the logging documentation. For example, you should not assign to log.handlers directly, but use the addHandler API. Remember that Windows and Linux models for multiprocessing are different - Linux uses forking, whereas Windows doesn't. I don't think your problem is connected with logging, but more with the underlying multiprocess instantiations. The cookbook example has an example of multiprocessing with logging which uses queues, and which you may be able to adapt to your needs.


Answer URL
https://docs.python.org/3/howto/logging-cookbook.html#logging-to-a-single-file-from-multiple-processes
