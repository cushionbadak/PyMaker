Natural Text
So, I have a few tasks for creating class in python:Can someone give me review of my code.I need to use Magic Methods to complete tasks.Here is my tasks:1) The class must be initialized in the full path.such as2) The class must support the write method.3) Objects of type File must support adding.4) Objects of type File must support the iteration protocol, and iterates through the lines of the file.And here I have a problem, as a result I heve an infinite loop.5) When outputting a file using the print function, it should print its full path, passed at initialization.Here is my code:
And here I have a problem, as a result I have an infinite loop.You're re-opening the file and reading it all over every time the next method is called by the for on the File instance. The successive next calls will not end as __next__ keeps returning the same data.You can instead return an iterator on the file content directly from __iter__:To make the class instance an iterator, i.e. implement the iterator protocol, you can return self in __iter__, and return lines of the file in __next__:


Answer URL
https://docs.python.org/3/library/stdtypes.html#iterator-types
