Natural Text
I have a Python script called renaming.py that I want to use to generate many Bash scripts (over 500). The Python script looks like so:The .txt file I pass as an argument to this Python script looks like so:When I run the Python script, I get the following error message:I am not entirely sure what is happening, but here is what I thinkSomething is wrong with line 33 - not sure what is the problem. I have used very similar scripts like this one before. In this line 33, I am replacing all the {line} instances in script_tpl by the entries in the .txt file (this happens 500, once for each line of the .txt file).I am very confused by the KeyError. I am working on Linux HPC server (using a Mac laptop). I have managed to use this awk command with no problem when directly typing it into the terminal (as a Bash command). However, it seems that Python is maybe getting confused when I try and "print" it as a variable in the script..Any help would be deeply appreciated.
When you use .format all { } in your string will invoke string formatting. Since you used those chars in your awk command, you must escape them. To do that you double the {{ and }}:Here are the relevant docs. 
When you call str.format it will try to format everything inside {}s.So this line is the problem: Because the string formatter is trying to find the kwargs sub(/ and file in your format call, which don't exist because the only key you specified is line=line.If you don't want these to be considered for formatting you need to escape the braces.  (The format call should remove one of the pairs in the final string.)


Answer URL
https://docs.python.org/3/library/string.html#format-string-syntax
