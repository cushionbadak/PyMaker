Natural Text
Having looked at this question:ctypes: How do I define an array of a structure as a field of another structure?now I'm trying to implement my version of the solution, but the output of len_a in struct Arr is different from how is it set in C. My question is: what is the proper way to set Parse.arr as an array of Arr objects in python (which is originally allocated/set in C)? There is  something obviously incorrect on the line self.arr = cast(byref(self.parse.arr),POINTER(Arr*n)).contents in pylink.py.clink.cpylink.pyOutput
This was solved by replacing this line in pylink.pywithThe attribute arr is declared as a POINTER(Arr), so function byref is not valid here. An important distinction between my implementation the one linked in the question is how the structure arrays are declared. Mine is a pointer, whereas the other uses a zero-sized array. For more info see: https://docs.python.org/3/library/ctypes.html#ctypes.byref


Answer URL
https://docs.python.org/3/library/ctypes.html#ctypes.byref
