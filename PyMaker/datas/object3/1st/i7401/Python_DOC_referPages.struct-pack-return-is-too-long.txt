Natural Text
I'm trying to use the struct.pack functionand it gives me this output:while the python docs say:so len() should be 2 + 4 = 6, and I need bytes with size = 6Any ideas? I'm using Python 3.6 on Windows 10
pack will add pad bytes so that the second integer is 4 byte aligned. From the documentation:By default, the result of packing a given C struct includes pad bytes in order to maintain proper alignment for the C types involved;  To ...  omit implicit pad bytes, use standard size and alignment instead of native size and alignment: see Byte Order, Size, and Alignment for details
That's a consequence of "Data structure padding". It will pad the H (2 bytes + 2 bytes padding) so that it aligns with the I (4 bytes).However you can experiment with the order if you need to decrease the size. To quote Wikipedia:It is possible to change the alignment of structures to reduce the memory they require (or to conform to an existing format) by reordering structure members or changing the compiler’s alignment (or “packing”) of structure members.For example on my computer it works if you just swap the H and I:
The size computation is not directly additive for the contained native types. You should compute the size using struct.calcsize:


Answer URL
https://docs.python.org/3/library/struct.html
https://docs.python.org/3/library/struct.html#struct-alignment
