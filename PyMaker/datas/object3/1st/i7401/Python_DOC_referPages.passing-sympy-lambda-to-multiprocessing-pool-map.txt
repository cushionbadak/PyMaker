Natural Text
I want to execute a sympy lambda function in parallel.I don't know:why it works in parallel although it is a lambda functionwhy it stops working when I try executing without the poolwhy it works if I uncomment the first return in lambdifyAnd apparently the markdown preprocessor needs a line of text above the code so this is the code: It prints:(I cut the traceback)If I uncomment, it works normally:I tested only on Windows and it works exactly the same with 'numexpr' instead of 'numpy'.
The object Mult has no fields when it is created. It can thus be pickled with the stock pickle library. Then, when you call lambdify, you add a _lambdify attribute to the object containing a lambda expression, which cannot be pickled. This causes a failure in the map functionThis explains why before calling lambdify you can pickle the object and use Pool.map and why it fails after the call.When you uncomment the line in lambdify, you do not add the attribute to the class, and the Mult object can still be pickled after calling lambdify.


Answer URL
https://docs.python.org/3/library/pickle.html#id2
