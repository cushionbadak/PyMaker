Natural Text
I am somewhat new to programming, and so far most of my programs have been single directory affairs, but now I want to try something bigger, and I am having trouble making my imports work. I use pytest to create my unit tests, and I have been putting stand alone test script after the unit test definitions in my test_foo.py files. This works fine, until I add an __init__.py file.File arrangement 1Where test_card.py imports card using import card as crd.Result: Neither of the following commands suffer an ImportErrorFile arrangement 2Result: If I leave the import statement the same, $ python3 test_card.py still works, but $ pytest suffers an ImportError.If I instead use import StackOverflow.card as crd pytest starts working again, but I can't run it as a script because of an ImportError.I realize that I don't need the __init__.py file in this example, however it is just a part of a larger program. It has also been pointed out that the second import statement is just plain wrong. So how can I get pytest to work with the original import statement?full text of card.py:full text of test_card.py
If you would like to use __init__.py in your case you have to append the parent directory's path of StackOverflow to the sys, as following:Then you will be able to use import StackOverflow.card as crdYour current import StackOverflow.card as crd statement means that you have another directory named StackOverflow inside the StackOverflow directory itself; the import statement is assuming the structure of your directory looks like this (which is not your case):Anyway, in your case you don't need to use the __init__.py, since you are importing another script inside the same directory you are importing from. The __init__.py is usually used for importing scripts outside the directory.In this link you will find documentation about how to use the __init__.py file.


Answer URL
https://docs.python.org/3/tutorial/modules.html#packages
