Natural Text
The relevant code pertaining to my issue:discordbot.pymain.pyThe error and traceback:This seems relevant but I attempted the solution and couldn't get it to work. I do believe the issue is because the discord client module needs control once every ~60 seconds. Since my function get_sells() takes more like ~70 seconds, asyncio breaks.
the discord client apparently needs control every minute or so, and your get_sells function is blocking for more than that.This is because you are mixing a synchronous bittrex client, with an asyncio library (discord). You will need to use the same paradigm for both: the discord client is based on asyncio, so you will need to find an asyncio-based library for bittrex (or write one).This new library should expose some coroutine similar to the functions you are using. So you would call sells = await bittrex_aio.get_orderbook(…), instead of sells = bittrex.get_orderbook(…) and def get_sells(…) would become a coroutine async def get_sells(…).With this, you will be able to change your bot to use await main.get_sells, which means the discord client will be able to take control while you are waiting for the results of get_sells.I am not getting into the specific of asyncio here on purpose, but reading about it would probably help, here for instance: https://docs.python.org/3/library/asyncio.html


Answer URL
https://docs.python.org/3/library/asyncio.html
