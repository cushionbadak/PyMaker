Natural Text
Say I have two lists of data as follows:That is, it's pretty clear that merely fitting a line to this data doesn't work, but instead the slope changed at a point in the data. (Obviously, one can pinpoint from this data set pretty easily where that change is, but it's not as clear in the set I'm working with so let's ignore that.) Something with the derivative, I'm guessing, but the point here is I want to treat this as a free parameter where I say "it's this point, +/- this uncertainty, and here is the linear slope before and after this point."  Note, I can do this with an array if it's easier.  Thanks!
Here is a plot of your data:You need to find two slopes (== taking two derivatives). First, find the slope between every two points (using numpy):Clearly, slope changes from 1 to 2 in the sixth interval (between sixth and seventh points). Then take the derivative of this array, which tells you when the slope changes:To find the index of the non-zero value:Since we took one derivative with respect to x, and indices start from zero in Python, idx+2 tells you that the slope is different before and after the sixth point.
You can calculate the slope as the difference between each pair of points (the first derivative).  Then check where the slope changes (the second derivative).  If it changes, append the index location to idx, the collection of points where the slope changes.Note that the first point does not have a unique slope.  The second pair of points will give you the slope, but you need the third pair before you can measure the change in slope.Of course this could be done more efficiently in Pandas or Numpy, but I am just giving you a simple Python 2 solution.A simple conditional list comprehension should also be pretty efficient, although it is more difficult to understand.
I'm not sure to understand very well what you want but you can see the evolution this way (derivative): and then find the point where it change (second derivative):if you want the index of this point : that can give you the value of the last point before change of slope :In your y = [1, 2, 3, 4, 5, 6, 8, 10, 12, 14] the change happen at the index [4] (list indexing start to 0) and the value of y at this point is 5.


Answer URL
https://docs.python.org/3/library/array.html#module-array
