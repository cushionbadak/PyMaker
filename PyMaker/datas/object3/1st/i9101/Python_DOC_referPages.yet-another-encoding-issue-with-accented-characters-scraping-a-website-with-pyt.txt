Natural Text
(PREFACE: I know, this problem has been talked about a hundred of times, but I still don't understand it)I am trying to load a html-page and output the text, even though I am getting the webpage correctly, BeautifulSoup destroys somehow the encoding of accented characters which are not part of the first 127 ASCII-characters: Output of div[0].text should be something like: Sátur se dirige al sur en busca de Estuarda y Gabi, pero un compañero de viaje inesperado hará que cambie de rumbo. Los hombres de Juan siguen presos. El enemigo comienza a realizar ejecuciones. Águila Roja tiene...But the result I get is: u'S\xe1tur se dirige al sur en busca de Estuarda y Gabi, pero un compa\xf1ero de viaje inesperado har\xe1 que cambie de rumbo. Los hombres de Juan siguen presos. El enemigo comienza a realizar ejecuciones. \xc1guila Roja tiene...'--> What do I have to change to get the 'right' characters? I know it must be a duplicate of these questions, but the answers doesn't seem to work here: Python and BeautifulSoup encoding issuesHow to correctly parse UTF-8 encoded HTML to Unicode strings with BeautifulSoup?I also read the typical documentations about unicode, utf-8, ascii, e.g. https://docs.python.org/3/howto/unicode.html, obviously without success...
I believe I finally got it...---> this is unicode, \xe1 is the 'code' for 'á' (http://www.utf8-chartable.de/unicode-utf8-table.pl?start=4096&number=128&names=-&utf8=string-literal)---> 'print' evaluates the unicode code point correctly---> Unicode is encoded to utf-8 according to the table given on the url cited above. I didn't understand why the output is shown as \xc3\xa1 and not as 'á'. ---> and I didn't understand why print now evaluates it to a strange symbol....---> Unicode encoded to codepage 850, used within the python-shell under Windows---> Finally, it's right !!! In Kodi I can use the utf-8 representation, so that e.g. the character 'á' is saved within the variable as \xc3\xa1, but when the content of the variable is displayed for example with "xbmcgui.Dialog().ok(addonname, blurr) it is shown correctly on the screen with an 'á'......Und sowas soll man wissen......
out:use requests and python3, and the problem will never show up


Answer URL
https://docs.python.org/3/howto/unicode.html
