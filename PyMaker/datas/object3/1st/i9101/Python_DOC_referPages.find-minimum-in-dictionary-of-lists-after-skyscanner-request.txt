Natural Text
I am new to Python and I am playing around with Skyscanner's Python API to practice wth Python and APIs. A response from Skyscanner's API has the structure of a dictionary made up of multiple lists which are in turn made of many dictionaries.See below:Skyscanner QueryThe result_base variable is a dictionary:and for example if I do:Each item in the list is an itinerary that has multiple values such as:I am trying to find the most efficient way to find the minimum price out of the options given in the results_base['Quotes']. I tried looping through every item in the list but I am looking to see if there is a more efficient way to do it.My code:Any help is appreciated, if you have any specific data structure that I can use, it is also welcome.
As @ephemient points out,you can skip a step in the previous version of this answer, and just jump straight to...This will just grab the quote with the minimum price out of the sequence directly. (You can also use itemgetter('MinPrice') instead of the lambda by importing it from the operators library, for a slightly more optimized key function.)Previous version:This uses a generator expression to generate a sequence of tuples, the first element of each tuple being the price, the second element of each tuple being the quote associated with that price.It then grabs the smallest tuple out of the sequence, which due to how Python sorts tuples, is the one with the lowest price. Using sequence unpacking (described in the 'tuples' link above) it separates that back into two variables, min_price and quote.Internally, this still involves looping through all of the prices, because that's a necessary condition for comparing them. However, it avoids repeatedly copying the individual fields of quotes around because it's just keeping a reference to each quote associated with its price as part of the tuple objects.


Answer URL
https://docs.python.org/3/reference/expressions.html#generator-expressions
https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences
