Natural Text
I want to get GPSLatitude and GPSLongitude value, but I can't use python position because the position is pretty random. I get the value by tag's value, how can I do that?
With the exception of the last comma just before the closing bracket ], the entire object returned by the FlickrAPI is valid json. Assuming that that comma is merely a copy-paste error (example evidence suggests this is the case), then the builtin json module still won't be usable as is. That's because even though a string like "116 deg 16' 10.20\" E" is valid json, python's json module will complain with a ValueError because the double quote " isn't sufficiently quoted:The solution is to add another escaping backslash:For your full jsonFlickrApi response, you could add those extra backslashes with the re module:That quoted response can then be used in a call to json.loads and you can then easily access the required data in the newly generated dictionary structure:
You don't say whether you using one of the Flickr APIs; I assume not because handling JSON responses is trivial if you are using an API such as flickrapi.But continuing with the assumption that you are not using an API, the response format that you are seeing is actually JSONP which is better suited to Javascript than it is Python. You can, however, request a response in JSON representation that does not have the enclosing jsonFlickrApi() function wrapper. Do this by specifying format=json&nojsoncallback=1 in the query parameters of the request. Using the requests library makes requesting and parsing the JSON response easy, but this will work just as well with urllib2.urlopen() combined with json.loads() if you can't use requests e.g.
If looking at the whole string as jsonFlickrApi(XXX), XXX is a standard JSON string. With json library, XXX can be converted to python dictionary and then parsed easily.


Answer URL
https://docs.python.org/3/library/json.html
