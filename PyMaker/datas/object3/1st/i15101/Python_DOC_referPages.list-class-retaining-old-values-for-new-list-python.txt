Natural Text
I have created a list class with a few simple methods.I also have a function to help create these lists. (Helping to solve a magic card trick btw)The replace_card_strings() function has been properly tested and I do not believe it's at fault but here it is anyway.When I run the following test is when the problem start.It prints that the function has given the wrong answer andthe print(one, two, three) prints one 2 3 which is the original list.Anybody have an idea where I've messed up?
You're not replacing items in the list, only in the loop's context:Replace the entire loop:Which does not do anything to the list (it does not "replace" the item).With python's map which is used in order to apply a function to an iterable and create a list of results:If you don't want to use map you can use list comprehension:Now you'll have:Tip:You can replace the lengthy function replace_card_strings:This works since and returns the last Truth-y result or the first False-y result.You can also use dict.get:Which is cleaner (thanks @padraic).Tip 2: You don't want two places referencing, and possibly mutating, the same list. It seems like you're keeping a reference to the same list that's used to construct a card list outside the generated object. This is prone to errors. What you should do is instead copy the list when it's passed:Tip 3: python has a known "gotcha" with mutable default argument, which is exactly what you use here (earlier_list=[]). This is prone to errors as well since python binds default arguments once. You should instead have:


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
https://docs.python.org/3/reference/expressions.html#boolean-operations
