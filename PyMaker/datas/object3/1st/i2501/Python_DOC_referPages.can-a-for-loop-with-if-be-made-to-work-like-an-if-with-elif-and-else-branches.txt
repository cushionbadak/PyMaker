Natural Text
I have a code like:If I wanted to use a for loop instead:How can I replace the else: final / general case in the if..elif..else example above (else: longstr = longstr.replace('xyz', ''))?And above all, which one of the two forms performs better?
Just add an else: suite to the for loop:The else suite in a for loop is only executed if the for loop ended without ending early with break. See the for statement documentation:When the items are exhausted [...], the suite in the else clause, if present, is executed, and the loop terminates.A break statement executed in the first suite terminates the loop without executing the else clauseâ€™s suite.To see which one performs better, you'd have to time them using timeit. However, unless you are executing a critical code section in a tight loop, please stick with if...elif...else as the for...else combo is not well known and will leave many programmers not aware of the semantics scratching their head. Moreover, for your toy example, you'd use regular expressions over a if test or for loop anyway.Timing these two trivial examples:shows that there is just 1.8 microsecond between them. If I re-run the samples a few times, one or the other example wins by similar extremely small margins. That doesn't really make one or the other fastest, so you can consider them equal in this case. However, if you do have a need to micro-optimise such a section, you need to do your own timings.


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#the-for-statement
https://docs.python.org/3/library/timeit.html
