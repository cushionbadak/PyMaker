Natural Text
Are there any applicable differences between dict.items() and dict.iteritems()?From the Python docs:dict.items(): Return a copy of the dictionary’s list of (key, value) pairs.dict.iteritems(): Return an iterator over the dictionary’s (key, value) pairs.If I run the code below, each seems to return a reference to the same object. Are there any subtle differences that I am missing?Output:
It's part of an evolution. Originally, Python items() built a real list of tuples and returned that. That could potentially take a lot of extra memory. Then, generators were introduced to the language in general, and that method was reimplemented as an iterator-generator method named iteritems(). The original remains for backwards compatibility. One of Python 3’s changes is that  items() now return iterators, and a list is never fully built. The iteritems() method is also gone, since items() in Python 3 works like viewitems() in Python 2.7. 
dict.items() returns a list of 2-tuples ([(key, value), (key, value), ...]), whereas dict.iteritems() is a generator that yields 2-tuples. The former takes more space and time initially, but accessing each element is fast, whereas the second takes less space and time initially, but a bit more time in generating each element.
In Py2.xThe commands dict.items(), dict.keys() and dict.values() return a copy of the dictionary's list of (k, v) pair, keys and values.This could take a lot of memory if the copied list is very large.The commands dict.iteritems(), dict.iterkeys() and dict.itervalues() return an iterator over the dictionary’s (k, v) pair, keys and values.The commands dict.viewitems(), dict.viewkeys() and dict.viewvalues() return the view objects, which can reflect the dictionary's changes.(I.e. if you del an item or add a (k,v) pair in the dictionary, the view object can automatically change at the same time.)While in Py3.xIn Py3.x, things are more clean, since there are only dict.items(), dict.keys() and dict.values() available, which return the view objects just as dict.viewitems() in Py2.x did. ButJust as @lvc noted, view object isn't the same as iterator, so if you want to return an iterator in Py3.x, you could use iter(dictview) :
You asked: 'Are there any applicable differences between dict.items() and dict.iteritems()'This may help (for Python 2.x):You can see that d.items() returns a list of tuples of the key, value pairs and d.iteritems() returns a dictionary-itemiterator.As a list, d.items() is slice-able:But would not have an __iter__ method:As an iterator, d.iteritems() is not slice-able:But does have __iter__:So the items themselves are same -- the container delivering the items are different. One is a list, the other an iterator (depending on the Python version...) So the applicable differences between dict.items() and dict.iteritems() are the same as the applicable differences between a list and an iterator. 
dict.items() return list of tuples, and dict.iteritems() return iterator object of tuple in dictionary as (key,value). The tuples are the same, but container is different. dict.items() basically copies all dictionary into list. Try using following code to compare the execution times of the dict.items() and dict.iteritems(). You will see the difference.Output in my machine:This clearly shows that dictionary.iteritems() is much more efficient.
If you have dict = {key1:value1, key2:value2, key3:value3,...}In Python 2, dict.items() copies each tuples and returns the list of tuples in dictionary i.e. [(key1,value1), (key2,value2), ...]. Implications are that the whole dictionary is copied to new list containing tuplesdict.iteritems() returns the dictionary item iterator. The value of the item returned is also the same i.e. (key1,value1), (key2,value2), ..., but this is not a list. This is only dictionary item iterator object. That means less memory usage (50% less).Lists as mutable snapshots: d.items() -> list(d.items()) Iterator objects: d.iteritems() -> iter(d.items())The tuples are the same. You compared tuples in each so you get same.In Python 3, dict.items() returns iterator object. dict.iteritems() is removed so there is no more issue.
dict.iteritems(): gives you an iterator. You may use the iterator in other patterns outside of the loop.
If you want a way to iterate the item pairs of a dictionary that works with both Python 2 and 3, try something like this:Use it like this:
dict.iteritems is gone in Python3.x So use iter(dict.iitems()) to get the same output and memory alocation
dict.iteritems() in python 2 is equivalent to dict.items() in python 3.


Answer URL
https://docs.python.org/3/whatsnew/3.0.html#views-and-iterators-instead-of-lists
