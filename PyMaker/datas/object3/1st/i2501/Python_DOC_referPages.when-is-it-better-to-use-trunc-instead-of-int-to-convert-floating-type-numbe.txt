Natural Text
trunc and int functions return the same output for every float type inputs that I have tried. They differ in the way that int can also be used to convert numerical strings to integers. So I have a two-fold question:I would like to know if, apart from strings, is there any input for which trunc and int give different outputs?If not, when is it better to just use trunc to convert floating type numbers to integers?
int and math.trunc have a somewhat similar relationship as str and repr. int delegates to an type's __int__ method, and falls back to the __trunc__ method if __int__ is not found. math.trunc delegates to the type's __trunc__ method directly and has no fallback. Unlike __str__ and __repr__, which are always defined for object, both int and math.trunc can raise errors out of the box.For all the built-in types that I am aware of, both __int__ and __trunc__ are defined sensibly where appropriate. However, you can define your own set of test classes to see what errors you get:math.trunc(A()) and math.trunc(C()) will both raise TypeError: type X doesn't define __trunc__ method. int(C()) will raise TypeError: int() argument must be a string, a bytes-like object or a number, not 'C'. However, int(A()), int(B()) and math.trunc(B()) will all succeed.In the end the decision as to which method to use is one of connotation. trunc is inherently a math operation similar to floor, while int is a general purpose conversion, and succeeds in more cases.And don't forget about operator.index and the __index__ method.


Answer URL
https://docs.python.org/3/library/functions.html#int
https://docs.python.org/3/library/math.html#math.trunc
https://docs.python.org/3/library/functions.html#func-str
https://docs.python.org/3/library/functions.html#repr
https://docs.python.org/3/reference/datamodel.html#object.__int__
https://docs.python.org/3/reference/datamodel.html#object.__trunc__
https://docs.python.org/3/reference/datamodel.html#object.__str__
https://docs.python.org/3/reference/datamodel.html#object.__repr__
https://docs.python.org/3/library/operator.html#operator.index
https://docs.python.org/3/reference/datamodel.html#object.__index__
