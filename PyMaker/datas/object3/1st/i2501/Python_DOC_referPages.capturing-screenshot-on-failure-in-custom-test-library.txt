Natural Text
I'm currently using ROBOT for some automated testing, except I've run into a problem.Anything that fails in the .robot file using a SeleniumLibrary keyword accurately captures screenshots as expected.Unfortunately, I have some custom libraries alongside the SeleniumLibrary which I would like to do the same thing, but it does not. So if I call a keyword from my CustomLibrary1 for example, and it fails doing a self.selib.wait_until_page_contains("Hello")then it will simply fail the test without capturing a screenshot.The only workarounds I have been able to find so far are:Throwing each and every keywords body into a try and using except:    self.selib.capture_page_screenshot() (not ideal as I have hundreds of keywords).Adding a Test Teardown to every test I have, and using Run Keyword If Test Failed    Capture Test Screenshot, which is also not ideal since, if the test fails while running a SeleniumLibrary keyword in the .robot file, then two screenshots will be captured and I have some hybrid data driven/keyword driven tests which do not call the test teardown between tests and only at the end of all the tests.Is there a way to register a "run_on_failure" feature into custom libraries?
Even if you have hundreds of keyword the try block is the best way to do that.Maybe you could manage it like so:I assume that possible exceptions involve your script.If so, perhaps, using the logging module may be useful.Or, even if possible exceptions involve the site, you may need request or response data. You can give a look to browsermob-proxy, a really useful module.


Answer URL
https://docs.python.org/3/library/logging.html
