Natural Text
I have a dictionary of dictionaries in python like this example:small example:every sub-dictionary has items in which keys are one of these letters: A, C, T or G. and the values are absolute numbers. for every item I want to get the percentage of every letter based on its value. and at the end I want to make a new dictionary like the input example in which instead of absolute value there would be percentage. the expected output for the small example would be like this:I am trying to do that in python using the following code:but it does not return what i expect. do you know how to fix it?
The pandas solutiongives you(You can omit round(2) if you wish to perform no rounding.)
Try building a collections.defaultdict() and adding the percentages as you iterate the original dictionary:Which gives:Note: defaultdict() is a subclass of dict, so you can treat it the same as a normal dictionary. If you really want to, you can wrap dict(percentages) to convert it to a regular dictionary. Another way, slightly slower, is to use dict.setdefault():
You are going to need to nest in some way to go through your dictionary. Here's with dictionary comprehension:with output:
You could use a nested dictionary comprehension:


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
https://docs.python.org/3/library/stdtypes.html#dict.setdefault
