Natural Text
I have the following XML document:Currently, to get it into json format I'm doing the following:Of course the xmltodict is doing the heavy lifting. However, it gives me a format that is not ideal for what I'm trying to accomplish. Here is what I'd like the end data to look like:
You can use recursion here. One way is to store the paths progressively as your recurse the XML document, and return a result dictionary at the end, which can be serialized to JSON. The below demo uses the standard library xml.etree.ElementTree for parsing XML documents. Demo:Output:If you want to serialize this dictionary to JSON, you can use json.dumps():
This is a bit verbose, but it wasn't too hard to format this as a flat dict. Here is an example:


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html
https://docs.python.org/3/library/json.html#json.dumps
