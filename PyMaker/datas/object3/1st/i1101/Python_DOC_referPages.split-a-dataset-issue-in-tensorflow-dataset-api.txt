Natural Text
I am reading a csv file using tf.contrib.data.make_csv_dataset to form a dataset, and then I use the command take() to form another dataset with just one element, but still it returns all elments.What is wrong here? I brought the code below:
Based on this answer we can split Dataset with Dataset.take() and Dataset.skip():How to fix your code?Instead of creating the iterator multiple times in the loop, use one iterator:What happens in your code that causes such behavior?1) Built-in python iter function gets an iterator from an object or  the object itself must supply its own iterator. So when you call iter(train_dataset), it is equavalent to call Dataset.make_one_shot_iterator().2) By default, in tf.contrib.data.make_csv_dataset() the shuffle argument is True (shuffle=True). As a result, each time you call iter(train_dataset) it creates new Iterator that contains different data. 3) Finally, when looping through by for step in range(10) it is similar that you create 10 different Iterator with the size of 1 that each one has its own data because they are shuffled.Suggestion: If you want to avoid such things initialize (create) iterator outside of loop:


Answer URL
https://docs.python.org/3/library/stdtypes.html#iterator-types
