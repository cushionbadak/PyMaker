Natural Text
I'm new to Python. I'm using Python 3.3.2 and I'm having a hard time figuring out why the following code:Gives me this error:However this code:Gives me no errors at all.My thought is that when intList is assigned to the return value of the map function, it becomes an iterator rather than a list, as per the docs. And perhaps as a side effect of calling max(), the iterator has been iterated to the end of the list, causing Python to believe the list is empty (I'm drawing from C knowledge here, I'm not familiar with how iterators truly work in Python.) The only evidence I have to support this is that, for the first block of code:whereas for the second block of code:Can someone confirm or deny this for me please?
You are exactly correct. In Python 3, map returns an iterator, which you can only iterate over once. If you iterate over an iterator a second time, it will raise StopIteration immediately, as though it were empty. max consumes the whole thing, and min sees the iterator as empty. If you need to use the elements more than once, you need to call list to get a list instead of an iterator.
from your map documentation:Return an iterator that applies function to every item of iterable, yielding the results.and from http://docs.python.org/3/library/stdtypes.html#typeiterOnce an iteratorâ€™s next() method raises StopIteration, it must continue to do so on subsequent calls.So an iterator, regardless of the underlying data object, can only be used once.  It builds on the concept of a generator.itertools.tee can be used make multiple independent iterators from one.


Answer URL
