Natural Text
I'm trying to parse a file. I have a file name kjv.tsv. Inside this file each line include book name, chapter name, verse number, and verse text. The output should look like this:This is what I got so far. My function name is line I'm defining parse_line:
This is way easier than that in python. You can use a for loop to go through every line in your file and split on the first 3 commas.To learn more checkout:Information on why to use a  with statement and looping through lines in a file with a for loopandhow split worksNote that this is not an answer to the title of this question. The code above matches what you said in the body of your question.The body of your question asked to build a list, so the above code builds a list. In order to build a dictionary you need to decide what you wish the key and value to be. You will retrieve the value with the key.What you could do is retrieve the verse text with something like:Just add this code to the end of the code above:The above code checks if the book is in the dict. If it is, it then checks if the chapter is in the book. If it is, then it checks if the verse is in the book. If the verse is not in the book, it will add it. The script will add any of the items (book, chapter or verse) if they are missing. It will do this for every line in the file.  The first half of the script turns the file into a list of lists with each line being a list of book, chapter, verse and text.The second half of the script turns the list of lists into a dict of dicts where the book is a dict, each chapter is a dict, each verse is a key and every text is a value.Please let me know if you need more clarification.


Answer URL
https://docs.python.org/3/library/csv.html
