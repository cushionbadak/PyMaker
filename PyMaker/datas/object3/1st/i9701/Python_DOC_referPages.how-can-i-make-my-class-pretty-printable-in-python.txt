Natural Text
Python has a pretty printer (pprint(...)). I would like to make my classes pretty printable. Will pretty print print my instances in a better way, if I provide a certain interface?The Python documentation in section 8.11 shows different examples, but no example how to make a user defined class pretty printable.So what interface need my classes to provide?Is there any other (maybe better) formatter?Use Case:I want to pretty print the content of ConfigParser, for which I have create an extended version called ExtendenConfigParser. So I have the possibility to add more functionality or add a matching pretty print interface.
pprint does not look for any hooks. The pprint.PrettyPrinter uses a dispatch pattern instead; a series of methods on the class that are keyed on class.__repr__ references.You can subclass pprint.PrettyPrinter to teach it about your class:then use the class directly to pretty print data containing YourType instances.  Note that this is contingent on the type having their own custom __repr__ method!You can also plug functions directly into the PrettyPrinter._dispatch dictionary; self is passed in explicitly. This is probably the better option for a 3rd-party library:See the pprint module source code for how the other dispatch methods are written.As always, single-underscore names like _dispatch are internal implementation details that can be altered in a future version. However, it is the best option you have here.


Answer URL
https://docs.python.org/3/library/pprint.html
https://docs.python.org/3/reference/datamodel.html#object.__format__
