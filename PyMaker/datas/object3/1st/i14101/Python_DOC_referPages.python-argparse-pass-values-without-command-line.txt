Natural Text
I think I'm not understanding something basic about python's argparse.I am trying to use the Google YouTube API for python script, but I am not understanding how to pass values to the script without using the command line.For example, here is the example for the API.  The examples on github and elsewhere show this example as being called from the command line, from where the argparse values are passed when the script is called.I don't want to use the command line.  I am building an app that uses a decorator to obtain login credentials for the user, and when that user wants to upload to their YouTube account, they submit a form which will then call this script and have the argparse values passed to it.How do I pass values to argparser (see below for portion of code in YouTube upload API script) from another python script?EDIT: Per request, here is the traceback for the 400 Error I am getting using either the standard method to initialize a dictionary or using argparse to create a dictionary.  I thought I was getting this due to badly formed parameters, but perhaps not:
Whether it is the best approach or not is really for you to figure out.  But using argparse without command line is easy.  I do it all the time because I have batches that can be run from the command line.  Or can also be called by other code - which is great for unit testing, as mentioned.  argparse is especially good at defaulting parameters for example.Starting with your sample.output:
Calling parse_args with your own list of strings is a common argparse testing method.  If you don't give parse_args this list, it uses sys.argv[1:] - i.e. the strings that the shell gives.  sys.argv[0] is the strip name.It is also easy to construct an args object.In fact, if you print args from a parse_args call it should look something like that.  As described in the documentation, a Namespace is a simple object, and the values are artributes.  So it is easy to construct your own namespace class.  All args needs to be is something that returns the appropriate value when used as:Also as noted in the docs, vars(args) turns this namespace into a dictionary.  Some code likes to use dictionary, but evidently these youtub functions want a Namespace (or equivalent).https://docs.python.org/3/library/argparse.html#beyond-sys-argvhttps://docs.python.org/3/library/argparse.html#the-namespace-objecthttps://developers.google.com/youtube/v3/guides/uploading_a_video?hl=id-IDhas get_authenticated_service and initialize_upload codeThe args from the parser is options, which it uses as options.category, options.title, etc.  You could substitute any other object which has the same behavior and the necessary attributes.  
Why are you using argparse if you dont want to use command line? Argparse is module created to parse command line arguments there is no other use of it. You cannot pass value to argparse in other ways. I think what you want is a web app displaying html form making POST request to some server handler that will pass value from form to api call connect to youtube and execute your python code. Argparse is not required for this at all. You can just take value from form and pass it to your api call.


Answer URL
https://docs.python.org/3/library/argparse.html#beyond-sys-argv
https://docs.python.org/3/library/argparse.html#the-namespace-object
