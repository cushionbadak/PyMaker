Natural Text
I have a server set up with sockets and threading, and when I connect multiple clients to it, if a client sends a message, the server repeats that same message back to it, instead of to all other connected clients. For example:The relevant code for the server is:I have read the following sources, but to no avail:python tcp server sending data to multiple clientshttps://docs.python.org/3/library/socket.htmlWhat must I do to make it send user1's message to all other users through the server?Edit 1:All server.py code:
I see a few issues in your code -You are starting clientHandler threads, but then you are not making the main thread join any , this may cause main thread to die before the child threads finish processing, I think you would want to save the Thread objects you create to a variable and then make them join the main thread.Instead of making the clientHandlers directly, you should first wait for accepting a connection from client (outside the handler function) and once you get the connection, add it to list of clients and send it over to the clientHandler.In your code - for client in clients: c.sendto(data, client) m this sends data to all clients ,instead you should check if client is not the client that this thread is servicing, by checking against the addr that this thread is servicing.Example changes -


Answer URL
https://docs.python.org/3/library/socket.html
