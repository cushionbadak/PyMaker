Natural Text
I have model with two fields:I need to find all objects where date&time is in 24 hours from now. I am able to do this when using DateTime field, but I am not sure how to achieve this when fields are separated. Thanks in advance.
For the simple case (not sure if all are simple cases though...), this should do the trick:
As you state you can do what you want with a DateTimeField, but now with the separate fields, I understand your issue is how to combine them.Looking at the docs for DateField - your date variable is a datetime.date instance and similarly for TimeField time is a datetime.time.  You can convert these into a datetime.datetime by using combine()You now have the datetime object as you would have from DateTimeField.  You say in the question you can do the 24 hour from now bit from there, although let me know in comments if you need that made explicit.Caveat I combine will fail where one of the fields is None - you state this can't happen, so I haven't added any error checking or validation of this.EDITIt occurs to me that the problem may not be the combination, but adding the calculated field to the Event object.  You could look at this Q&A, or this.  In summary you define the calculated value in a function in your class and then make it a property - either with a decorator or a function call.  There's an example in the docs, adapting for your case:This should behave in the same way as you would expect a DateTimeField to behave.
You can use Q objects to search for "yesterday after current time or today before current time":


Answer URL
https://docs.python.org/3/library/datetime.html#datetime.datetime.combine
