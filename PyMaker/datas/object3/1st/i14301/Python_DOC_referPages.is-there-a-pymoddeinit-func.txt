Natural Text
I want to know whether there is a PyMOD(DEINIT)_FUNC?, I know that resources are released when the python script exits, but I would like to make my code as responsible for the memory it uses as possible.I have searched the documentaion of course, and until now I think there is no function called from python core to the c module when the module is unloaded, but I hope there is and I just don't know how to search.
Python 2 does not support module finalisation, no. See bug 9072:Please accept that Python indeed does not support unloading modules for severe, fundamental, insurmountable, technical problems, in 2.x.For Python 3, the C API for module initialisation was overhauled (see PEP 3121) and the new PyModuleDef struct has a m_free slot that takes a callback function; use that to clear out your module memory.


Answer URL
https://docs.python.org/3/c-api/module.html#c.PyModuleDef
https://docs.python.org/3/c-api/module.html#c.PyModuleDef.m_free
