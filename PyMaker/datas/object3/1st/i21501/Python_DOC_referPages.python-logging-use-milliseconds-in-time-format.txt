Natural Text
By default logging.Formatter('%(asctime)s') prints with the following format:where 638 is the millisecond. I need to change the comma to a dot:To format the time I can use:however the documentation doesn't specify how to format milliseconds. I've found this SO question which talks about microseconds, but a) I would prefer milliseconds and b) the following doesn't work on Python 2.6 (which I'm working on) due to the %f:
Please note Craig McDaniel's solution is clearly better.logging.Formatter's formatTime method looks like this:Notice the comma in "%s,%03d". This can not be fixed by specifying a datefmt because ct is a time.struct_time and these objects do not record milliseconds. If we change the definition of ct to make it a datetime object instead of a struct_time, then (at least with modern versions of Python) we can call ct.strftime and then we can use %f to format microseconds:Or, to get milliseconds, change the comma to a decimal point, and omit the datefmt argument:
This should work too: 
The simplest way I found was to override default_msec_format:
Adding msecs was the better option, Thanks.Here is my amendment using this with Python 3.5.3 in Blender
After instantiating a Formatter I usually set formatter.converter = gmtime. So in order for @unutbu's answer to work in this case you'll need:
A simple expansion that doesn't require the datetime module and isn't handicapped like some other solutions is to use simple string replacement like so:This way a date format can be written however you want, even allowing for region differences, by using %F for milliseconds. For example:
If you are using arrow or if you don't mind using arrow. You can substitute python's time formatting for arrow's one.Now you can use all of arrow's time formatting in datefmt attribute.


Answer URL
https://docs.python.org/3/library/logging.html#logrecord-attributes
