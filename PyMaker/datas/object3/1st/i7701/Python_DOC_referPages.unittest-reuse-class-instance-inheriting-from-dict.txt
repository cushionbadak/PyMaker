Natural Text
I am facing a strange issue where unittest is re-using the same class instance if it is inheriting from a dict.My actual class does not directly inherit from dict but from MutableMapping and the behavior is the same.Then when running this, we can see that the same object instance is re-used:What is going on?
From the python 3 documentation of id():Return the “identity” of an object. This is an integer which is guaranteed to be unique and constant for this object during its lifetime. Two objects with non-overlapping lifetimes may have the same id() value.Your test cases are executed one after another, which means that two instance of MyClass is non-overlapping objects as pointed in documentation the id isn't guaranteed to be unique for such case.Good Luck ! :) 


Answer URL
https://docs.python.org/3/library/unittest.html
https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping
https://docs.python.org/3/library/functions.html#id
https://docs.python.org/3/library/functions.html#id
