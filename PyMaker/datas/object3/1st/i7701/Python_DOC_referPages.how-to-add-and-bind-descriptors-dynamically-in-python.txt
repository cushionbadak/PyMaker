Natural Text
I would like to dynamically bind descriptors to attribute of a class. For example I have this descriptor (it is just a dummy example): In my main container, I would like to dynamically register my descriptors. Everything works great if I instanciate the descriptors at the class level: Unfortunately when I try to associate the descriptor dynamically using setattr I need to put a lot more complexity to my class: The expected output is: Is there a simpler solution with less kludges?
So, you're almost there with your __init__ in container. The problems you have:in 99.9% cases you sould never call magic (dunder, __) functions directly. So, your super(...).__setattr__ makes no sense, tbh. There's setattr for thisTricky part with descriptors (btw, from my experience, it's kind of "default" obstruction when people start using them). When you use descriptors in non-dynamic way withyou are setting foo and bar in scope of the class - literally as class attributes. But in your "dynamic" way you're doing it with instance. Idk if you tried to set it as class, but if this was an intention, super doesn't work like this. To set attach descriptor dynamically, you need to attach it to class of your instance (referred by self inside __init__). To do so, access self.__class__ or type(self). So, your code may look like


Answer URL
https://docs.python.org/3/library/functions.html#setattr
