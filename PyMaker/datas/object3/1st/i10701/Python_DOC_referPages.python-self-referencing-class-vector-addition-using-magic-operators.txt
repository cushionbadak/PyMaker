Natural Text
I'm having trouble understanding how the self-reference for this class works in this code:--Just to check if I'm understanding how magic methods work, in result = first + second, the argument other refers to second right?--Edit:Thanks, I guess that clears up my confusions regarding other.I still don't get how this line works though: return Vector2D(self.x + other.x, self.y + other.y) i.e. the class Vector2D being referenced inside it
Yes, other is the right-hand-side expression result, second in your case.From the object.__add__() documentation:For instance, to evaluate the expression x + y, where x is an instance of a class that has an __add__() method, x.__add__(y) is called.The expression Vector2D(self.x + other.x, self.y + other.y) creates a new instance of the class with new values for x and y, which here are constructed from the sum of the current instance x and y and the same attributes on the right-hand side instance.A new instance is created because the normal semantics of + are to return a new instance, leaving the operands themselves untouched. Compare this to adding up two lists (['foo', 'bar'] + ['bar', 'baz']); there too a new list object is returned.
Yes, this is equivalent to:so:self is firstother is secondresult is the new Vector2D
the argument other refers to second, right?Correct. You can verify that with a print inside __add__:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__add__
