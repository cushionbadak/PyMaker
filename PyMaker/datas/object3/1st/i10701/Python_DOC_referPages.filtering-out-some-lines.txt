Natural Text
I have a text file (a.txt). here a small part of that:I want to filter out all lines including "#DIV/0!", even if there is only one "#DIV/0!", and make a new text file.
You could do it this way which is incremental (so it doesn't read the entire file into memory at one time):
Edit:This method is probably the fastest. But as discussed with @martineau earlier, it could not be the best answer here depending of the size your file.list comprehension [line for line in f if '#DIV/0!' not inline] is very common in python, it replace the piece of code:but it is more optimised (see here for an explanation: Efficiency of list comprehensions)list comprehension load everything in memory and thus can   cause a buffer overflow in the case of huge amount of data.That's why here, using an incremental method (@martineau's one) is safer when you are not sure how many data you will process!The with statement replace a try and catch. It alsoautomatically close the file after the block. As you cansee, it could also be nested: you can open several file with onewith statement.




Answer URL
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
https://docs.python.org/3/reference/compound_stmts.html#with
https://docs.python.org/3/reference/compound_stmts.html#with
