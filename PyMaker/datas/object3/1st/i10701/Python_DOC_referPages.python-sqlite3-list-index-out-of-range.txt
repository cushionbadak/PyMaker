Natural Text
Hi i am looking for some help with an "List index out of range" error i am getting while trying to insert data into my sqlite3 database.This is my first attempt at using a class helper to parse data to and from my database, so please don't laugh at my unwieldy coding. :))here is my main.py for testing out my class.Which creates the database and creates the table entries.Here is my insertInto method from my DatabaseHelper class.Which throws an "List index out of range" error.Any help would be much appreciated, thanks.
There is way too much string manipulation going on there. This insertInto is probably closer to what you want:The key changes here are:str.joining all of the items instead of concatenating the next part and a delimiter in a loop, then slicing away the delimiter afterwards.Here’s how it works:Using string formatting to build strings by naming parts instead of using the + operator a bunch. It’s easier to read.Using list multiplication to get some number of ? placeholders.And here’s how that works:Passing data as a parameter instead of a string with the text '(data[0], data[1], …)'. data should probably be a tuple, too:I’m also not sure what a DatabaseHelper is supposed to represent. Does it have any state associated with it? self.db_name, self.table_name, self.column_data, self.data… they all seem to get overwritten with every insertion. A database connection seems like useful state to associate with a database helper, though:Then you can use it like this:


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.join
https://docs.python.org/3/library/stdtypes.html#str.format
