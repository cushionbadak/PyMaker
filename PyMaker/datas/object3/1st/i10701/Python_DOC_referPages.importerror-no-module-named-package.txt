Natural Text
I found importing modules in Python complicated, so I'm doing experiments to clear it up. Here is my file structure:Content of __init__.py:Content of test.py:When I stay out of package(in PythonTest), and execute python package/test.py, I get:The expected output is Variable package in __init__.py. What am I doing wrong?However, I can get the expected output in the interactive mode:
First Let's see how Python search for packages and modules. sys.path A list of strings that specifies the search path for modules. Initialized from the environment variable PYTHONPATH, plus an installation-dependent default.That's the search paths. Therefore, if your module/package is located in one of sys.path, python interpreter is able to find and import it. The doc says more:As initialized upon program startup, the first item of this list, path[0], is the directory containing the script that was used to invoke the Python interpreter. If the script directory is not available (e.g. if the interpreter is invoked interactively or if the script is read from standard input), path[0] is the empty string, which directs Python to search modules in the current directory first.I modified test.py as an example.There are two cases:As you see, path[0] is /Users/laike9m/Dev/Python/TestPython/package, which is the directory containing the script test.py that was used to invoke the Python interpreter.Now comes the second case, when invoked interactively, "path[0] is the empty string, which directs Python to search modules in the current directory first." What's the current directory? /Users/laike9m/Dev/Python/TestPython/.(look this is the path on my machine, it's equivalent to the path to PythonTest in your case)Now you know the answers:Why did python package/test.py give ImportError: No module named package? Because the interpreter does not "see" the package. For the interpreter to be aware of package package, PythonTest has to be in sys.path, but it's not.Why did this work in interactive mode?Because now PythonTest is in sys.path, so the interpreter is able to locate package package.


Answer URL
https://docs.python.org/3/library/sys.html#sys.path
