Natural Text
I've been all over the documentation and it seems like there's no way to do it, but:Is there a way to use argparse with any list of strings, instead of only with sys.argv?Here's my problem: I have a program which looks something like this:This works fine when this program is called straight from the command line. However, I have another python script which runs batch versions of this script with different commandline arguments, which I'm using like this:I still want to be able to parse the arguments, but argparse automatically defaults to using sys.argv instead of the arguments that I give it. Is there a way to pass in the argument list instead of using sys.argv?
You can pass a list of strings to parse_args:
Just change the script to default to sys.argv[1:] and parse arguments omitting the first one (which is the name of the invoked command)Or, if you cannot omit the first argument:Last one: if you cannot change the called program, you can still do somethingLet's suppose the program you cannot change is called argtest.py (I added a call to print arguments)Then just change the local argv value of the argtest.sys module:output:


Answer URL
https://docs.python.org/3/library/argparse.html#parsing-arguments
https://docs.python.org/3/library/argparse.html#parsing-arguments
https://docs.python.org/3/library/argparse.html#prefix-chars
https://docs.python.org/3/library/argparse.html#fromfile-prefix-chars
https://docs.python.org/3/library/argparse.html#argument-default
https://docs.python.org/3/library/argparse.html#allow_abbrev
https://docs.python.org/3/library/argparse.html#action
https://docs.python.org/3/library/argparse.html#nargs
