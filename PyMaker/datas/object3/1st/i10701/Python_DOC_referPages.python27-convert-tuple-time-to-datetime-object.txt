Natural Text
I'm trying to get a timestamp from an email like this:First of all, I parse the timestamp with:Here comes the problem. I try to convert the result to a datetime, but in vain. What's the problem?
email.utils.parsedate returns a 9 tuple similar to the structure struct_time but with the index 6,7 and 8 unusablestruct_time:And datetime objects require different values for its constructordatetime.datetime(year, month, day[, hour[, minute[, second[, microsecond[, tzinfo]]]]])You could directly create a datetime using the useful parts of your tuple asdate_object = datetime(*d[0:6])Edit: Careful with this, because this will create the object in local time, disregarding the time zone information.Edit 2: You can solve this by using strptime, you just need to cut the (PDT) from the end of your string, since PDT is not a valid name for tzinfo, but -0700 is enough
Check out calendar.timegm or time.mktime for converting a struct_time tuple to a float. You can then use datetime.fromtimestamp with that float to create a DateTime object.
Last two items of the tuple are strange, they don't look like timezone data. But if you don't need timezone aware datetime object, you can do something like this datetime(*d[:-2])


Answer URL
https://docs.python.org/3/library/time.html#time.mktime
https://docs.python.org/3/library/datetime.html#datetime.datetime.fromtimestamp
