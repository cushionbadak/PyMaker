Natural Text
I have a class with all sorts of data in it, like:The data to fill this structure up will come from a serial. I need to deserialize the data coming from the serial in the shape of this structure. I am reading from serial 40 bytes data chunks and I need to split itit. I tried pickle library but it seems that it's not fitted exactly for deserializing this type of data. I found  struct but I cannot understand how to use it proprely in this case. As the comments in the struct, I need to desearilize the chunks of data like: first byte is Identificator, bytes from 1 to 5 included is the timestamp and so on....DO you have any ideea how can I achieve this? Thanks
First of all, we need to declare format of incoming bytes according to this list: https://docs.python.org/3/library/struct.html?highlight=struct#format-characters.  First character of the fmt is byte order. @ is python default (usually little endian), if you need to use network big-endian put !. Each subsequent character represents a data type which comes from the bytes stream.Next, in the initializer, I unpack bytes according to the recipe in fmt into a fields tuple. Next, I assign the values of the tuple to object attributes. Timestamp has unusual length of 5 bytes, so it requires special treatment. It is fetched as 5-bytes string (5s in fmt) and converted to int using int.from_bytes function with system default bytes order (if you need a different bytes order enter 'big' or 'little' as a second argument).When you want to create your structure, pass the sequence of bytes to the constructor.


Answer URL
https://docs.python.org/3/library/struct.html
https://docs.python.org/3/library/struct.html?highlight=struct#format-characters
https://docs.python.org/3/library/stdtypes.html
