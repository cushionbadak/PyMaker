Natural Text
I have a recursive code of the catalan numbers.I managed to write the recursive call, but for some reason the counter is not working properly.for example, the number of calls for 7th catalan number should be 1215.the return value needs to be a tuple of the catalan number and the number of calls,for example: (429,1215).original code:counter code:thanks in advance!
python allows you to attach a variable (catalan.counter in the snippet below) to the function object, so you don't have to pass the counter along all the time and don't need a global variable:and seeing that the function is called several times with the same arguments: for more efficiency you could use the lru_cache; but this of course defeats the purpose of counting how many times the function was called; you'd only get the number the function was called with a unique n.this may be a bit off-topic... but in case you need separate instances of the function with separate counters, a closure might be just what you need:
You need to seperate out the line res+=catalan_rec_count(i,counter+1)*catalan_rec_count(n-i-1,counter+1) so that it can do operations with the recursive results and the counters seperately, so just split it up into a few extra lines, also in this case you wouldn't pass counter+1 to the recursive calls so that it tracks it's calls independant to the current frame..


Answer URL
https://docs.python.org/3/library/functools.html#functools.lru_cache
