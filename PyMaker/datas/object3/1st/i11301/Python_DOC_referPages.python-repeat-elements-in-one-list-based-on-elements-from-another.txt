Natural Text
Given the following lists:I'd like to repeat each element of [a] by the number of its corresponding position in [b] to produce this:i.e. 0 occurs 1 time, 5 occurs 2 times, and 1 occurs 1 time.
The pieces here are as follows:itertools.repeat(elem, n) - repeat elem n timeszip(a, b) Make a list of 2-tuples out of the two lists, pairing each element with the corresponding element in the other list. This gives you exactly what you need to pass to itertools.repeat in your use case.itertools.chain - flattens the resulting list of iterators into a single list of values. You can either chain(*iterable) as I have done or chain.from_iterable(iterable) as Martijn Peters does.
Use the zip() function with itertools.repeat() and itertools.chain.from_iterable():(I added a Python 2 forward-compatible import for those that can't switch to Python 3 yet).Demo:An alternative approach would be to use a list comprehension; this is slower as repeating elements is done in bytecode instead of C:


Answer URL
https://docs.python.org/3/library/functions.html#zip
https://docs.python.org/3/library/itertools.html#itertools.repeat
https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable
