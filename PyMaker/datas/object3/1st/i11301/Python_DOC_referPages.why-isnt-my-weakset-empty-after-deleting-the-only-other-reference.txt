Natural Text
I decided I should familiarize myself with the weakref library, so I started messing around with the collections, thought I was getting the hang of it until this. Here I have a WeakSet weak_s that I would expect to contain 3 weakrefs to each Greek() instance, and it does:Then I would expect that as soon as I get rid of the objs name, there won't be any more "strong references" to each Greek() instance, and they will be garbage collected. But for some reason this doesn't happen. Why is there still a weakref inside my WeakSet? I can use del again and it persists, seemingly no matter what I do.
You still have the obj variable from here:That variable retains its last value from the loop, so it's still referring to the last Greek instance, keeping it alive and in the WeakSet.


Answer URL
https://docs.python.org/3/library/weakref.html
