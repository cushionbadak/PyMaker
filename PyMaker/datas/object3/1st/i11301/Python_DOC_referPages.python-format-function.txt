Natural Text
I have a value formatterbut instead of always returning to 8 decimal places I want to return to max of 8 decimal places so.How do I do that?this is for applying to a large array of numbers. That then gets sucked up into a sql server at the moment the numbers keep overflowing the limits that the dba has set. thanks
Answering your question:Just use float presentation type '{:g}' instead '{:f}' as described in the Format Specification Mini-Language. This discards trailing zeros automatically. Additionally it switches to exponential notation if required.Output:Some probably useful extension of your formatter functionChanging the formatter function a little to allow you to set precision and width of the printed field when calling it:Output:I found the nested format() function on this page about Pandas Formatting Snippets
You can do it like this:where stringwidth is the width of your desired output wherein the value should be centered.
The first solution doesn't work if the stringwidth is greater than the number of characters that makes your numbers, because it adds spaces around the string and the rstrip doesn't have any effect.For it to work, first you should round it (and strip, if necessary), and then, as the second step - center it. Thus, we have:Output:


Answer URL
https://docs.python.org/3/library/string.html#formatspec
