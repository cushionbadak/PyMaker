Natural Text
I'm new to python and want some help regarding Web Scraping. I have a Raspberry Pi3 with python on it and i want to extract some data from a web page using BeautifulSoap and write it to a text file with a time stamp, i keep my Pi 24x7 on so i want the python to repeat itself after a certain time interval so that i can later create a graph using those values.Starting, i tried >And the output was something else-the data was enclosed within a td tag, but there were many td tags in the page, so it didnt work and i dont know how to make it write the data to txt file.The html source-I wanted to export the data in  tag just after "Download Remaining with High(FUP-original)Speed" i.e I wanted to export the 78.647GB into a text file with a time stamp. And then repeat after a time interval and again add the exported to the same text file.
Ok, you got the soup part right but you are looking only at the first td element.You need to find the exact one that you want.In this case, it's the first td inside the second tr with left alignment (there are several ways to get there, this was the one I found easier)In this case you can use:I believe that you can work out the timestamp using the datetime module.datetime has an option to create a string the way you want, you can see all the options hereOne example, without the miliseconds, would be:To write the output you have several options, you can start by looking hereFinally, the easiest way to repeat every X seconds is to put everything in a while loop with a sleep(X) in the end. Let's pretend you created a magic function with all the scrap and file I/O and that you want to run every 60s.You have two options now:1) An infinite loop that keeps going no matter what (you need to manually break it with ctrl+c or by itself when an error occurs.2) A slightly better option would be to find out when the download is over (i.e. the remaining is zero or the page changes), but this depends on how your page source would behave when the download is over. For that you could have your magic function returning False while downloading and True when it's done and your loop could become:or, more directly:Have a try, if you need more help just tell us how far you've got and what you think you're missing...


Answer URL
https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files
