Natural Text
I have the following code and want to turn a string from a file into a dictionary (to be read in and manipulated). In the following code, on execution, it comes up with an error: 'people is not defined'. Have I not defined this correctly or is the syntax wrong? This is Python 3
I am not sure what your end intention for your script is, but the following might be helpful. Python has a built in CSV module that can automatically read each line of your file in as a list of columns. Furthermore, it has a CSV DictReader variation which might be more useful to you. This takes the first row in your CSV file and uses the header to automatically create a dictionary for each row as it is read in. If your file does not contain a header row, a list of suitable fieldnames can be provided. By using this feature, you do not need to create your dictionary.The following shows you how you could create a people dictionary. The key being the username for each of your rows. I remove the username key from person as it then becomes the key used by people:So, if moosebook.txt contained the following entries:You would see the following output:If your file does not have a header row, the following line could be changed:
As you can see from the comments the indention is wrong, but I guess this comes from the paste here on SO and is not the issue in your actual code.But you two other issues in your code. print(person[0]) will fail when executed because 0 is not a valid key for your dictionary here. The only valid keys in your code are username, password, Gender and Career. Therefore you can use person or people[items[0]]. Then you could use splitlines to avoid newlines in your data.


Answer URL
https://docs.python.org/3/library/csv.html#csv.DictReader
