Natural Text
new to Python here. I am trying to understand how this function works to check prime numbers:From what I understand you can check factors up to and including the square root of n, so why is this only testing up to sqrt(n)-1? I'm also not clear on the return all part for the function. n%i returns an int, the remainder. So why does this expression evaluate as a bool? Any pointers on this would be great. thanks!
The function is infact checking for sqrt(n). Because islice(count(2), sqrt(n)-1) means count sqrt(n)-1 numbers starting from 2. While checking for prime numbers, it is enough to check from 2 to it's square root because even if there is a factor greater than square root, it will have a corresponding factor less than the square root. Using int(sqrt(n)) here, would mean we are checking an additional number - no harm but unnecessary. Using int(sqrt(n) - 1) means we do only the comparisons that are necessary.all() will return true, if all elements of the iteration evaluates to true. In python 0 evaluates to false. Which means, if for any number between 2 and sqrt(n), remainder of integer division is 0, the all() will return false. This is correct because if there is a factor, the number is not prime. If for 2 to sqrt(n), the remainder of integer division is never 0, then the number is prime - all() will return true as there are no zeroes in the iterations.https://docs.python.org/2/library/itertools.html#itertools.islice
Because the second argument to islice is a count, not the value to stop on.This would be far better written with xrange(2, int(sqrt(n))+1)The plus one here is to make the range inclusive at both ends, which xrange normally is not.


Answer URL
https://docs.python.org/3/library/functions.html#all
