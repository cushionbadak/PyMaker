Natural Text
Consider the following code:Why am I getting the following output even if I said that -o is required?I would expect the help text to say that -o is required. 
This is issue #9694 on the Python bug tracker, as yet unfixed. You can read more there. Note that the usage line does correctly indicate that the switch is required (if it weren't, the usage line would read usage: test.py [-h] [-o O] instead of usage: test.py [-h] -o O).For working around it, you can use argument groups which can be given a title. As the example shows at the linked page, this allows you to create groups with your choice of name instead of the default positional arguments and optional arguments groupings.
Generally the paradigm for argparse is that the required arguments are passed in positionally, and the arguments passed as options should be optional.  The docs even discourage setting the required flag, considering this 'bad form'.  I can only suggest that the misleading help message generated is a minor shortcoming in argparse, you could possibly create a ticket for it on python's bug tracker.  You can override the default usage message if it is crucial for you to have a required option.
The simple answer is that there isn't a 'required arguments' group.  The 2 default groups are labeled (for better or for worse)There are actually 4 'requirement' alternatives - normal optionals, normal positionals, required optionals, optional positionals.  If the names are confusing, stick with the first two. :) produces:These alternatives are symbolically shown in the usage line, without the (potentially) confusing labels.For what it's worth, the distinction between 'optionals' and 'positionals' is deeply imbedded in the argparse code.  One kind is identified by a flag string ('-f','--foo'), the other is identified by position.  The fact that one or the other is 'required' is superficial.  The only thing that makes some optionals 'required' is a bit of error checking at the end of parsing.


Answer URL
https://docs.python.org/3/library/argparse.html#argument-groups
https://docs.python.org/3/library/argparse.html#required
