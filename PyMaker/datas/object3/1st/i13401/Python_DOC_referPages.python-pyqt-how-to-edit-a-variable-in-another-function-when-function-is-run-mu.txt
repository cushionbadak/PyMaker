Natural Text
In my PyQt5 program, I have tabs and use one function for creating the same tab multiple times. In PyQt, to run code when a button is clicked you need to connect it to another function. In the createATab function, I have a QLineEdit which needs to be edited when a button is clicked. Here's an example of what I am trying to do:How do I pass a variable by reference?I have read through this and although it does explain a lot, it doesn't explain how to solve this issue.pyqt4 button click handlerThis explains how you are only passing the function, not calling it. So, passing variables to the runThisWhenButtonClicked function is not possible.
The concept you are missing is closure. A closure wraps up a scope with a function, so that code in the function can access variables within that associated scope. The simplest way to utilise closures when connecting signals is with a lambda (although some people prefer to use functools.partial).In your example, this would mean connecting the signal like this:However, I think this may be "papering over the cracks" in your code, and is possibly not the best solution. A better solution would be to make proper use of the namespaces that classes provide. The addTheTab and runThisWhenButtonClicked should be refactored into a Tab class which has all its child widgets as attributes:This would completely eliminate the need for closures in your example.


Answer URL
https://docs.python.org/3/library/functools.html#functools.partial
