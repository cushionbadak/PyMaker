Natural Text
We have a method in our Python 3.5 application where one of the in-parameters (new_value in the example below) can be of any type, and we're wondering if there is a type hint that we can use for this case?def update(self, col_name: str, new_value) -> None:(We would like the type hint for documentation purposes, to make the code easier to read)Grateful for help!
Depending on what exactly you want to use, there are two different options:If you want to basically opt-out of type-checking any_value completely and indicate it could be literally any type with zero restrictions, use typing.Any. Example:If you want to indicate that new_value can be of any type, but also want to ensure that the update method only ever uses new_value in a fully typesafe way, I would use object, which is the base type of every type in Python:I personally bias towards using object -- Any is designed specifically as a "bridge" that lets you mix the typed and untyped worlds within your program. I personally think it's easier to reason about code if you keep those two worlds fairly distinct (e.g. by having a fully typed "core" possibly with a bunch of untyped code wrapping it) instead of a method that's both statically and dynamically typed.Of course, it's not always possible to do this...(We would like the type hint for documentation purposes, to make the code easier to read)As an aside/as a suggestion, if you're going to use type hints, I would also strongly recommend going all the way and actually type-check your code using tools like mypy as a part of your development process.Using type hints for documentation is great, but it can be very confusing if your code doesn't conform to the documentation. Since we have tools to automatically typecheck our code using those type hints, we might as well (and gain that extra guarantee).(Pragmatically, trying to typecheck your entire codebase all at once can lead to a lot of noise -- what you can try and do instead is progressively typecheck your codebase. For example, you can configure mypy to typecheck only a set list of files (that you maybe grow over time?), make certain checks stricter or looser (perhaps on a per-file basis), and so forth. This works well with the "typed core, untyped wrapper" strategy mentioned above.)


Answer URL
https://docs.python.org/3/library/typing.html#the-any-type
