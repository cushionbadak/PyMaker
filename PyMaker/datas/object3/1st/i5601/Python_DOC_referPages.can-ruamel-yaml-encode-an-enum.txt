Natural Text
The following is not working for me, with Python 3.4.7, ruamel.yaml version 0.15.35:I get a totally reasonable repr:but the .dump() raises:If enum's are not supported, is there something I can do to extend the enum class I am using (or the subclass enum.IntEnum I have created), e.g. a dunder method?
enum is not supported out-of-the-box, essentially because the default dump method is safe and therefore doesn't support arbitrary Python objects. That safety excludes types as enum from the standard library as well. What you should do is add a to_yaml classmethod to your Speed class as described in the ruamel.yaml documentation:which gives:You can of course adapt the string representation to your liking (and add a from_yaml to be able to load the output back in).Please note that you cannot add yaml_tag as in the documentation example, as this would interfere with the enum values.
I think you'll need to pass the enum by value.https://docs.python.org/3/library/enum.html#programmatic-access-to-enumeration-members-and-their-attributesExtended answer to add a @classmethod which calls .value as it's being passedhttp://yaml.readthedocs.io/en/latest/dumpcls.html


Answer URL
https://docs.python.org/3/library/enum.html#programmatic-access-to-enumeration-members-and-their-attributes
