Natural Text
I have a view that accepts a file (.doc, docx, or pdf):I need to parse these documents and return json. I'm using Textract to convert the documents to text but in order for that to happen I need to pass a filepath to Textract, hence the reason I need to write the file temporarily to the file system.I've tried reading the contents of the file and writing them to a temp file but I just end up with jumbled text like, \x00\x14.  I've also tried decoding the file with 'utf-8' but I receive an error saying I can read a .txt file just fine, this error only happens with file types other than .txt.   I feel like there has to be a way to just copy the file to temp storage without needing to read the contents.
Handling uploads by rest-framework should not be any different than doing it by Django itself (except that you can use request.data instead of request.FILES). Try to dissect the problem to smaller pieces, and see where things start to break. Like following:Make plain django view and store file to hardcoded file path. Make sure that things work ok. Here are docs: https://docs.djangoproject.com/en/2.0/topics/http/file-uploads/ Replace django view with rest-framework viewReplace hardcoded file path with temporary file


Answer URL
https://docs.python.org/3/library/tempfile.html
