Natural Text
I'm using python 3.6 django 1.11 windows10 and trying to send email using multiprocessing.recipients are connected to database(django model) and email contents form is html(by django get_template), also used get_connection to send multi-email. What I'm trying is to use multiprocessing to accelerate sending rate.My code is hereAnd I've got an error like this.How to fix this?Thank you.
You must take the local function send out of handle (and the Command class) and put it at the top level of your module, according to the reference. For closured variables like subject, body, from_email, etc., you can bundle them in a tuple and pass the tuple as a single argument to send. Or better, create msg objects outside send, and pass the msg list to pool.map():in which the module-level send function is defined as follows:


Answer URL
https://docs.python.org/3/library/pickle.html#what-can-be-pickled-and-unpickled
