Natural Text
I'm trying to read a text file that contains a lot of non-traditional line breaks.There are two files, both with 18846 lines. But when I read one of these files in python3 and break into lines, it results in 19010 lines.This is not repeated either with python2 nor with unix commands like awk 'END {print NR}' file and wc -l. I know that python3 does split the rows based on 12 criteria (named in [1]).I've tried strategies like using replace:opening files with "rt" and even using ftfy, but no alternative was successful.Does anyone have any idea how to read the files breaking on lines using the same strategies employed by wc and awk?It may even be altering such a file.[1] https://docs.python.org/3/library/stdtypes.html#str.splitlines
Use io.open  and set the newline argument to the line ending of your choice (like \n as in Unix tools):Note you may as well want to remove all other line breaks or replace them with spaces. It is possible to do with a regex likewhere the pattern matches one or more chars like\u000B - VT, vertical tab\u000C - FF, form feed\u000D - CR, carriage return\u0085 - NEL, next line (a very frequent one)\u2028 - LSEP, line separator\u2029 - PSEP, paragraph separator


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.splitlines
