Natural Text
I am writing a small command line utility for my script and I can't figure out how to properly get the full path from the argument.Here's what I mean.If the user pass the full path, e.g. "/home/username/projectname/folder", everything is fine. But if the user runs the script from let's say "projectname" folder and pass the relative path "./folder" I get exactly the same string "./folder" while parsing the arguments instead of the full path "/home/username/projectname/folder".So, I have been wondering if there is some kind of inbuilt functionality in Argparse that allows to get the full path from the relative path?
To add onto Tryph's answer, you can specify the type parameter in the argument declaration. It can take any callable that takes a single string argument and returns the converted value:This returns a string with the absolute path, you could specify your own function as well:
EDIT: The Alex's answer shows how to make argparse manage relative-to-absolute path conversion by simply filling the add_argument's type parameter.I do not think argparse provides such feature but you can achieve it using os.path.abspath:Keep in mind that this will make an absolute path by concatenating the working directory with the relative path. Thus the path is considered relative to working directory.If you want to make the path relative to the script directory, you can use os.path.dirname on the __file__ variable and os.path.join to build an absolute path from a path relative to your Python script:Finally, since joined path can contain tokens such as . and .., you can "prettify" your built path with os.path.normpath:


Answer URL
https://docs.python.org/3/library/argparse.html#type
