Natural Text
I am working on implementing logging within my Python project and have hit a bit of a snag.  I am trying to set up my logging such that the Handlers, and Formatters are all organized into a configuration file.  What I am trying to do at the moment is to set up my fileHandler such that it will create a log file that looks something like this: YYYY_MM_DD.log obviously with the Y's representing the year, M's representing the month, and D's representing the day.This is what I have attempted with my config file:The file I am using to test the configuration is pretty simple:The specific error I am getting at the moment is:I've tried changing the %Y, %m, and %d as the error says, but that doesn't fix the problem.  How do I go about setting up the config file so that my log files look the way I want them to?I should note when I change the filename to test.log everything worked fine, so this is the only error I seem to be having with this.
You can't use datetime in a config file, as it doesn't know what it means. You can however add the Filehandler in the python file itself:This way you can set the date as the file name in the handler.This is the config file, note that you had a typo in the last formatter, you put fillname instead of filename and you forgot ( in message.This Should work just fine.
This worked for me.Update This: args=(datetime.now().strftime('%Y_%m_%d.log'), 'a')To args=(__import__("datetime").datetime.now().strftime('%Y_%m_%d.log'), 'a')Reference (Example no 3): http://python-reference.readthedocs.io/en/latest/docs/functions/eval.html
Perhaps you can use Python's TimedRotatingFileHandler instead. You can set the interval to create a new log file every day with the date as the suffix.Documentation--Python 2: https://docs.python.org/2/library/logging.handlers.html#timedrotatingfilehandlerPython 3: https://docs.python.org/3/library/logging.handlers.html#timedrotatingfilehandlerNote that the current day's log file won't have a date. This file handler only adds the date suffix when a new day starts.Also, the suffix it uses is "%Y-%m-%d", which is a little different than what you want. But there's a SO question here about how you can alter that.
Maybe try changing the name after you've loaded the config file:
This uses content from your config file, but does not access the file directly.  You create your own filehandler and then add it to the logger.Note that a (append) is the default mode parameter for a FileHandler.
This also worksLogfile name:04_30_2018_10_03_01.log
Using double '%'-characters in the format string in combination with the approach suggested by Abhishek led to a working solution in my case (Python 3.5):The filehandler in the config file should then look similar to this one:


Answer URL
https://docs.python.org/3/library/logging.handlers.html#timedrotatingfilehandler
