Natural Text
I'm having a problem accessing Gmail account. Currently, I'm using this library written in python 2.7+ to log in and to read Gmail messages. To use the library, I had to enable Google 'insecure app'. Everything is working fine with this lib.Now, I'm moving to python 3+, and I cannot use the lib anymore. Whenever I import the lib, it throws the following error:I tried to overcome this problem by looking at a replacement module for 'utf' in python 3+ but I couldn't figure out what it is. How can I fix that?Another problem is that I tried the official python lib provided by Google. Here is the link for the tutorial. I successfully completed the quick start example, but the script opened my browser, and I had to allow the access via the browser. In fact, I just want to create a cronjob to run my script periodically on my server without an UI. Does Google allow it?Thank you very much.
The official API for Gmail that works in python 3and there are a lot of guides for using it, for example:https://github.com/abhishekchhibber/Gmail-Api-through-PythonBut if you feel this is too complicated (I do), instead you may want to activate access using POP3 or IMAP from the Gmail settings panel.Then use poplib or imaplib.Example: https://docs.python.org/3/library/poplib.html#pop3-exampleThis is in general easier, more portable and uses packages already found in default python installs.Edit:The library you were using used IMAP access, not oauth.Also to answer your "UTF" question: every string in python 3 is UTF8 by default, if you want to decode raw data, you should use 'mystring'.decode('utf-7'), etc. Edit 2: looks like someone already did the work: https://github.com/charlierguo/gmail/pull/48OK, I just saw the problem in the instructions:So, I guess your only alternative is to stick with POP3/IMAP (which your program was already using).


Answer URL
https://docs.python.org/3/library/poplib.html#pop3-example
