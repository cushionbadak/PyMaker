Natural Text
I'd like to map over a property, so I triedThe property is defined in an external library as:However, I get a TypeError error.I tested it "unmapped", and cls.prop(an_object) works just fine, as it should be, is equivalent to an_object.prop.What am I doing wrong? How could I achieve this?(I'm aware list comprehension [o.prop for o in list_of_objects], but I want to learn and understand what went wrong above).
A property, accessed on the class, returns the property object itself, and not the wrapped function. A property wraps three functions, the getter, setter and deleter (each of these can be None):You need to access the fget attribute to get just the getter:However, this is overkill, just access the attribute directly:or use a operator.attrgetter() object:The latter has the advantage that the map() C loop won't have to step back into the Python interpreter loop to execute the lambda bytecode, attrgetter() can do it's job entirely in C making the combination faster.


Answer URL
https://docs.python.org/3/library/operator.html#operator.attrgetter
