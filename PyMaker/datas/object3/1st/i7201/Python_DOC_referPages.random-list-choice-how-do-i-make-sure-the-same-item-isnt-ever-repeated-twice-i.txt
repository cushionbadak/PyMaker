Natural Text
How do I make sure that Hello for example isn't repeated twice in a row? It's fine if they're repeated again later, just not straight after.
Use random.sample instead of random.choice. Find online demo
If you want to generate a very long stream of greetings having the property: no consecutive greetings are the same (Online demos: last version):Or when you worry about deterministic time, swap elements (with 1st):or random:
The use of random.sample like other answers suggested is only useful when you know you'll only need a certain number of items, like 2. The best way to ensure randomness and no repeats is to use random.shuffle:Which well shuffle the list in-place, and then you can just start to pop items away from the list, until it's done:That will work for a list of any length, and you can use this process until the entire list is done. You can also add another loop around the whole process if you want to keep it going forever and not just until the list is over.
You could do it with a hit&miss approach:One chould refine it with random.choices and weights (requires python-3.6) but that approach should work for all python versions:Or if you don't like hit&miss you can also draw a random index between 0 and the length of the list - 2 and add 1 if it's equal or higher than the previous one. That ensures that no repeats can happen and only requires one call to random to get the next choice:
My take: We create two identical lists. In a loop we pop one value from one list and if the length of that list is smaller than the original list - 1 we reset the list to its original state:E.g output with 5 loops:


Answer URL
https://docs.python.org/3/library/random.html#random.choices
