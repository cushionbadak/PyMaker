Natural Text
In my code I need to detect if a variable is a function or not and preform some actions on it. Everything went well until I now created a partial function using functools and suddenly some of my tests fail:Why is there a difference between those? Both varieties are callable... Even more importantly, how can I detect if some variable is a function or not even when it's a partial function if I can't use types.FunctionType?
functools.partial is a class with a __call__ method, it says in the documents:Return a new partial object which when called will behave like func(bold emphasis added by me)We can confirm this in our Python REPL:A Python equivalent would be something like this:So it creates a simple wrapper object around the function, and an object like this simply isn't a function. types.FunctionType only works on actual functions.What you're looking for is a way to check if an object is callable, for that you can use the built-in callable function:
In most cases, you don't need to know if something is a function.  Frequently, all you care about is that the object is callable.  To check this, python has a builtin function called callable.Note that just because callable returns True, it does not mean that calling the object will succeed.  However, the same could easily be said for calling functions :-).If you really only want to handle functions and partial objects, then you can write your check as:But this isn't sufficiently "ducky" for my tastes.


Answer URL
https://docs.python.org/3/library/functools.html#functools.partial
https://docs.python.org/3/library/functions.html#callable
https://docs.python.org/3/library/functions.html#callable
https://docs.python.org/3/library/functions.html#callable
https://docs.python.org/3/library/functools.html
https://docs.python.org/3/library/functools.html
