Natural Text
I have the following listI want to find the average price for all where the count is the same.  For example:Avg for 'count 2' is 1750Here's my code so far
I'll admit I'm not 100% clear on what you're looking for here, but I'll give it a shot:A good strategy when you want to iterate over a list of "things" and accumulate some kind of information about "the same kind of thing" is to use a hash table. In Python, we usually use a dict for algorithms that require a hash table.To collect enough information to get the average price for each item in your list, we need:a) the total number of items with a specific "count"b) the total price of items with a specific "count"So let's build a data structure that maps a "count" to a dict containing "total items" and "total price" for the item with that "count".Let's take our input in the format:Now let's map the info about "total items" and "total price" in a dict called items_by_count:But wait! items_by_count[count] will throw a KeyError if count isn't already in the dict. This is a good use case for defaultdict. Let's define the default value of a count we've never seen before as 0 total price, and 0 total items:Now our code won't throw an exception every time we see a new value for count.Finally, we need to actually take the average. Let's get the information we need in another dict, mapping count to average price. This is a good use case for a dict comprehension:This iterates over the items_by_count dict and creates the new dict that we want.Putting it all together:If we pass in our example input dict, this function returns:{3.5: 1625, 2: 1750, 3: 400}Which is hopefully the output you want! Be cautious of gotchas like float division in your particular Python version.
You need to iterate over your items See documentationavg(dictionary.values()) is probably what you want


Answer URL
https://docs.python.org/3/library/itertools.html?highlight=groupby#itertools.groupby
