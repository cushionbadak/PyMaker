Natural Text
I'm very beginner in Python. I have problem with matrix multiplication. I read matrix from txt file using list of lists (matrices). When I want to use multiprocessing I have problem with divide list and use new lists in Pool function. How can I fix this problem?Please Helperror from comment, with an attempt to restore formatting:
I don't think you want pool.starmap in this instance. what it is doing is unpacking each matrix into 61 elements as it is handed to counting() which only expects one argument.from the docs:starmap(func, iterable[, chunksize])Like map() except that the elements of the iterable are expected to be  iterables that are unpacked as arguments.Hence an iterable of [(1,2), (3, 4)] results in [func(1,2),  func(3,4)].you could fix this in a number of ways, but I think the most sensible is to use pool.map instead, as it won't unpack your inputs and leave them as a single variable. you could also define counting(*dane) to allow a variable number of inputs that would be concatenated into the list dane (which you don't use within the function, but I'll leave you to figure out what to do with it..)
In what is liczenie?  I don't see such a function in your code.  The error message suggests it is counting.But in  counting(dane), dane is never used.It looks like matrices is a list of lists of floats.  Are all the sublists the same length?  If so, why didn't you read the csv file with a numpy loader like np.genfromtxt?  But that's a side point.Does counting(matrices) work?  Besides the messed up calling argument, it doesn't return anything.  I'm guessing it's supposed to be doing a chained matrix product, M1*M2*M3*....  * for np.matrix is matrix product, not element by element (the * of np.array()).But that won't work; np.matrix(alist) is a (1,n) matrix.  It can't multiply another (1,n) matrix, no matter how many times you wrap it in np.matrix (why do you do that several times?)What's the purpose of the multiprocessing?  What is is supposed to do that a single call to a corrected counting can't do?


Answer URL
https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.starmap
