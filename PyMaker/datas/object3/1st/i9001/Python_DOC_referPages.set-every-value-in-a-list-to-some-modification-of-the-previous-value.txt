Natural Text
Let's say we have a list of random intsI want to get a new list (or change this list in place) where every element is either itself, or the previous element *2 (whichever is bigger)One way to do this is:However, is there some creative way to do this in one line? Is there some clever use of something like lambda, map, or iterator use to get the same result?I tried using zip to create pairs of every value and the previous value, but as soon as we change one element, the rest of the zip is useless since those values don't also change.
In Python3:No such easy luck with Python 2, though:You can muck about with the sentinel to make this a little more pleasing to use:The (sometimes) nice thing about the such "abused" reduce() is that acc has the full conversion history up so far.
You can use the the accumulate function added to the itertools module in Python 3.2 or write your own:
If you're going to roll your own generator function you could do this:


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.accumulate
