Natural Text
I would like to create a Hello World command line application with BDD using python3 and behave. I have my features file set up this way:In my features/steps/hello.py the outline of my @Then step is this:How can I test the output of my program? How can I capture stdout for this test?
One of the typical ways to check the print output is to hijack sys.stdout and analyze it:Of course, the try/finally logic may be implicit in the testing framework you use. In unittest, it would be setUp / tearDown; I have no idea about behave but its docs likely cover it.
Here's 9000's idea applied to behave:I redirect stdout to a mock in the file named features/environment.py:And then in features/steps/hello.py I assert on the contents of the mock stdout:


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.redirect_stdout
