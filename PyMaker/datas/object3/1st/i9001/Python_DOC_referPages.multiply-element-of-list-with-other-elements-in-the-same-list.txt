Natural Text
I want to multiply an element of a list with all other elements.For example:I have done thisbut this gives me [a*a, a*b,a*c, b*b] etc. I don't want the a*a, b*b, c*c bit in there.
you could check for equality
itertools is your friend here:I made it a generator function, because frankly, almost any function that's just slowly building a list element by element and returning it should really be a generator function (if the caller wants a list, they just do mylist = list(generatorfunc(...))), making it easier to use iteratively without blowing main memory when many arguments are passed.Example usage:Which outputs:
So if the values are 2, 3, 4, 5 you want all and only these products:This means taking all combinations of 3, 4, 5 and then multiplying them togther with 2. The itertools module has a combinations function, and reduce can be used in conjunction with operator.mul to do the calculation:Output:
Does your list have duplicate elements, like [2, 3, 4, 2]?If it does not, here is a one liner:First, with tags to illustrate the pattern:And here, with numbers:or the sum of the products, if you wish:If the list has duplicates, it gets more complicated.  Do you want the first occurrence and the second occurrence of 2 in [2,3,4,2] to be separately calculated (you might need that for some purposes even though you will get the same value for both)?


Answer URL
https://docs.python.org/3/library/itertools.html
