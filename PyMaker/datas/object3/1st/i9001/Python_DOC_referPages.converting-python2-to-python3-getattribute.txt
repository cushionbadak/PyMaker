Natural Text
My script runs into a recursive loop on Python3, I have tried replacing iteritems with items but it doesn't fix the issue, Python2 runs fine.. is there some change to __getattribute__ I am unaware of?When run, this produces:
You have infinite recursion here because your __getattribute__ is calling hasattr() which the documentation states works by calling getattr() (thus calling your class's __getattribute__).You must not call hasattr() in your __getattribute__.The documentation for __getattribute__ notes this potential for infinite recursion and provides guidance on the solution:In order to avoid infinite recursion in this method, its implementation should always call the base class method with the same name to access any attributes it needs, for example, object.getattribute(self, name).


Answer URL
https://docs.python.org/3/library/functions.html?highlight=hasattr#hasattr
https://docs.python.org/3/reference/datamodel.html?highlight=__getattribute__#object.__getattribute__
