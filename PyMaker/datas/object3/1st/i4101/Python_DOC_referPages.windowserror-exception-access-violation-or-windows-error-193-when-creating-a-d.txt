Natural Text
I get this error from PyCharm:WindowsError: exception: access violation reading 0x000000504D414C43It only occurs in Pycharm. When I run the python script from Windows Powershell, it says WindowsError: [Error 193] %1 is not a valid Win32 application. I checked the debugger and a value is being passed but it errors out sometimes gives me null pointers. At first, I thought I was running off the array, but even if I just return 7 (As you see at the bottom) and comment out all of the code it will still do as described.Questions:1) Do you have any solutions?2) Did I set up the DLL properly?3)Any suggestions?Thank you so much for your help. Here is my C++ code:Here is my python wrapper:Overall goal:I have a large file I cannot modify but need to access in C++. There are large lists in the C++ file and I need to iterate through those lists and return a value to a python script. 
ctypes only understands C types.  You can pass a byte string as const char* and assign it to a std::string if needed.  Here's a complete, working example:C++ code (test.cpp)Python codeOutput:Note how the argument types and return value of the DLL function can be specified.  That helps catch errors.  For example, try passing a Unicode string 'Armaja' instead of the byte string b'Armaja' (Python 3 syntax):


Answer URL
https://docs.python.org/3/library/ctypes.html
https://docs.python.org/3/library/ctypes.html#specifying-the-required-argument-types-function-prototypes
https://docs.python.org/3/library/ctypes.html#return-types
