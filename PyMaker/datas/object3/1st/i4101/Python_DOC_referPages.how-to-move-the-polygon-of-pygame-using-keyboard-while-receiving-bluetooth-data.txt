Natural Text
I wanna move polygon of pygame using keyboard while receiving bluetooth data from smartphone. when bluetooth signal is received, the polygon appears on the screen, but cannot move using keyboard. I set only moving upward. How can I move one......the coordinates of a polygon
Your problem seems to be that client_socket.recv(1024) is blocking Python.When you are using pygame, you usually control the main loop yourself, that is, you call pygame.display.update() every couple of milliseconds. The simplest solution probably to first set the socket into non-blocking mode and do polling.E.g. you call msg = client_socket.recv(1024) during every iteration of the main loop, and process msg if not empty.Depending on the socket implementation (I don't know the specifics of BluetoothSocket) you may have to deal with partial message and message boundaries. That is, you may need to collect more data and add them together until you have a full message, and use something like .split('\n') to separate a completed message(s) from the partial next message. Just print what you get and figure it out from there.There are other options than polling (threads, async event main loop) but they come with their own drawbacks (synchronization and race conditions, callbacks and framework complexity).


Answer URL
https://docs.python.org/3/library/socket.html#socket.socket.setblocking
