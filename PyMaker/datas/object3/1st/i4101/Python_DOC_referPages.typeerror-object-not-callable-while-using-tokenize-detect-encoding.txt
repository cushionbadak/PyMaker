Natural Text
I'm reading a bunch of txt.gz files but they have different encoding (at least UTF-8 and cp1252, they are old dirty files). I try to detect the encoding of fIn before reading it in text-mode but I get the error: TypeError: 'GzipFile' object is not callableThe corresponding code:TracebackEDITI tried to use the following code:I have no error but it always return utf-8 even when it isn't. My text editor (sublime) detect correctly the cp1252 encoding.
As the documentation of detect_encoding() says, it's input parameter has to be a callable that provides lines of input. That's why you get a TypeError: 'GzipFile' object is not callable.... codec will be "utf-8" or something like that.


Answer URL
https://docs.python.org/3/library/tokenize.html#tokenize.detect_encoding
