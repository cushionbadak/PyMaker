Natural Text
The following codewill printalong with an error message ending withSomehow a Foo object is able to get the names of another function's local variables, but cannot do anything with them.  How can I fix that?BACKGROUND.  This question is for debugging purposes.  I want to be able to display information about variables that are created in my code.
The local variables are defined for the function. So as long as the function is defined, the interpreter "knows" that there will be 2 local variables, named a and b. Useful for memory allocation, when the function will be called. Think of it as a blueprint.Then, when you try to eval some string, it will do it using the context (locals() and globals()) of where the eval lies.You do not have any a in that scope. Therefore, it fails, as it is not defined.
Use inspect.currentframe to get a stack frame objectMove up the call stack by 1 frame with the f_back attributeAccess that frame's local variables through the f_locals attributeUsage:


Answer URL
https://docs.python.org/3/library/inspect.html#inspect.currentframe
https://docs.python.org/3/library/functions.html#id
