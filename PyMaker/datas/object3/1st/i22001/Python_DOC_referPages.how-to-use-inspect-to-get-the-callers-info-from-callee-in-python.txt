Natural Text
I need to get the caller info (what file/what line) from callee. I learned that I can use inpect module for that for purposes, but not exactly how.How to get those info with inspect? Or is there any other way to get the info?
The caller's frame is one frame higher than the current frame. You can use inspect.currentframe().f_back to find the caller's frame.Then use inspect.getframeinfo to get the caller's filename and line number.
I would suggest to use inspect.stack instead:
I published a wrapper for inspect with simple stackframe addressing covering the stack frame by a single parameter spos: https://pypi.python.org/pypi/pysourceinfo/https://pythonhosted.org/pysourceinfo/E.g. pysourceinfo.PySourceInfo.getCallerLinenumber(spos=1)where spos=0 is the lib-function, spos=1 is the caller, spos=2 the caller-of-the-caller, etc.
If the caller is the main file, simply use sys.argv[0]


Answer URL
https://docs.python.org/3/library/inspect.html#types-and-members
https://docs.python.org/3/library/inspect.html#inspect.getframeinfo
