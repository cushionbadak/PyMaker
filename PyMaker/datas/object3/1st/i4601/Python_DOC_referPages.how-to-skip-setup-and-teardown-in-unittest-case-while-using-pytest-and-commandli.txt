Natural Text
Current setupusing pytest 3.4.1python 3.5 and aboveThis is my test case under tests/test_8_2_openpyxl.pyI use unittest style to write my test case. I use pytest to run the tests.I have also setup and teardown functions following unittest conventionsMy commandline to run the tests becomepytest -s -v tests/test_8_2_openpyxl.pyIt works as expectedWhat I wantWhen I debug sometimes, i want to be able to easily turn off either setup or teardown or both at the same time using some kind of commandline optionpytest -s -v tests/test_8_2_openpyxl.py --skip-updown in order to skip both teardown and setuppytest -s -v tests/test_8_2_openpyxl.py --skip-setup in order to skip setuppytest -s -v tests/test_8_2_openpyxl.py --skip-teardown in order to skip teardownWhat I tried and didn't workTried sys.argvI have tried using sys.argvand then`pytest -s -v tests/test_8_2_openpyxl.py --skip-updownThis didn't work and my error message is Tried sys.argvI have tried using sys.argvand thenpytest -s -v tests/test_8_2_openpyxl.py --skip-updownThis didn't work and my error message is Tried conftest.py and config.getoptionI setup a conftest.py in the project rootAnd thenpytest -s -v tests/test_8_2_openpyxl.py --skip-updownThen I get What I tried and worked but not as idealTried conftest and config.getoption but this time declare --skip-updown=TrueExactly the same as before except this time in my command line I declare --skip-updown=Truepytest -s -v tests/test_8_2_openpyxl.py --skip-updown=TrueMy questionThis is very close to what I want, but I was hoping not to have to declare the value --skip-updown=TrueOr maybe I am doing it all wrong in the first place and there's an easier way using sys.argv.
Fix addoption:See the docs at https://docs.python.org/3/library/argparse.htmlOr maybe I am doing it all wrong in the first place and there's an easier way using sys.argv.No, what you're doing is the right and the only way.


Answer URL
https://docs.python.org/3/library/argparse.html
