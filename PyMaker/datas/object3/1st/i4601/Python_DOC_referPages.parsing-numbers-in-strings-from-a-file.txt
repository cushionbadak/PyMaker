Natural Text
I have a txt file as here:what I want to do, is check that the % of each "res" gets to 100%So in my code I manage to split the last ',' and enter it into a list, but im not sure how I can get only the numbers out of that text.
It seems like what you have is CSV. Instead of trying to parse that on your own, Python already has a builtin parser that will give you back nice dictionaries (so you can do line['res']):For the # Do something part, you can either parse the field manually (it appears to be structured): split('-') and then rsplit(' ', 1) each - separated part (the last thing should be the percent). If you're trying to enforce a format, then I'd definitely go this route, but regex are also a fine solution too for quickly pulling out what you want. You'll want to read up on them, but in your case, you want \d+%:Or with regex:Regex is certainly shorter, but the former will enforce more strict formatting requirements on row['res'] and will allow you to later extract things like candidate names.Also some random notes:You don't need to open with 'a+' unless you plan to append to the file, 'r' will do (and 'r' is implicit, so you don't have to specify it).Instead of next() use a for loop!
You can use regex to find all the numbers:This will printThe re.findall() method finds all substrings matching the specified pattern, which in this case is \d+, meaning any continuous string of digits. This returns a list of strings, which we cast to a list of ints, then take the sum.


Answer URL
https://docs.python.org/3/library/csv.html#csv.DictReader
