Natural Text
I have an I/O trace file with the following fields ('asu', 'block_address','size', 'opcode','time_stamp').The Data looks like this. (over 5 million rows)I am trying to add a cache layer in my project and want to calculate the misses and hits.I am using @functools.lru_cache(maxsize = None)to find cache hits and misses for the block_address.Following the tutorial I tried calculating the miss/hits. blk_trace is the trace array for block_address.On looking at the cache info blk_iter.cache_info() , I get CacheInfo(hits=0, misses=1, maxsize=None, currsize=1) . Which is not right.I am fairly new to python and caching concepts. I don't know what I am doing wrong.How do I find the miss/hits for the block address? 
The cache is for the function blk_iter -- you only called blk_iter once, therefore your cache size is one, and it has one miss.Consider the following function with lru_cacheWhen called with a certain value for x the function will run and the result will be stored in the cache. If called again with the same parameter, the function will not run at all and the cached value will be returned.In your example, even if the cache was setup correctly, you would have all misses and no hits anyhow for i in range(0,blk_len): will call with a new argument each iteration, therefore the cache will never hit.


Answer URL
https://docs.python.org/3/library/functools.html#functools.lru_cache
