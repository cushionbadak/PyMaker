Natural Text
I am encountering some issues to create and execute a post request from one of my flask @app.route. The idea would be to validate and process the data received from a web form by the server, then to call a remote service with this data as a post parameter and finally to be redirected to a new page indicated by this remote service. This is a simplified skeleton :Any hint about how am I supposed to redirect the user to the remote service using a post request (user that will then again be redirected by the remote service to another page)?Thank you in advance.
You don't need to redirect user to the remote server. Just send POST request inside this route function and either wait for the response from that server and then render some template to user with received response or send POST request to the desired server in another thread if you know that response can take a lot of time (in this case you can render some page immediately where would be something like "Processing your request" message). In the second case (in case of sending POST request in a different thread) you can show result of the request after reloading page retrieving it from some shared object in main thread that can be modified from the thread you use to send POST request from. 1) Sending request in the route function:2) Sending POST request in a different thread (you can use this option if you know that response time is much higher than TCP keep alive time):or something like that.Hope my explanation is clear.Also you can pay attention to asyncio and Sanic to use asynchronous approach.
Send post request with your user data. Then parse the response to get your link. Once you have your redirect link... simply use: return redirect(new_destination, code=302)


Answer URL
https://docs.python.org/3/library/asyncio.html
