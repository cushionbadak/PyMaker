Natural Text
Here is my code for reading in a file with Movie Titles and their ratings, I need to read the file and sort them according to their ratings. I'm using Python Code.This is what the file looks like:Harry Potter and the Prisoner of Azkaban , 7.8Lord of the Rings: The Two Towers , 8.7Spider Man , 7.3Alice in Wonderland , 6.5The Good Dinosaur , 6.7Kung Fu Panda , 7.6These are my results,Old List : ['Alice in Wonderland , 6.5', 'Harry Potter and the Prisoner of Azkaban , 7.8', 'Kung Fu Panda , 7.6', 'Lord of the Rings: The Two Towers , 8.7', 'Spider Man , 7.3', 'The Good Dinosaur , 6.7']New List : ['The Good Dinosaur , 6.7', 'Alice in Wonderland , 6.5', 'Spider Man , 7.3', 'Kung Fu Panda , 7.6', 'Harry Potter and the Prisoner of Azkaban , 7.8', 'Lord of the Rings: The Two Towers , 8.7']
The issue is that the "for x in file" loop reads lines from a file and so the title array contains the lines of the file as strings. As such, your key argument to sorted is receiving these strings and returning the third character of each of them (rating[2]); notice that "New List" is indeed sorted by the third character - e, i, i, n, r, r. To fix this, you can parse the lines of the file into tuples of the form (title, rating) and store those in the array. Then, sorting by the rating will be as easy as grabbing the rating from the tuple in the key argument to sorted.However, it seems to me that you want to make your own sort implementation rather than using the built-in sorted. It looks like you were going for an implementation of insertion sort and the indentation got messed up when you posted here. The function has the same sort of problem with not parsing the lines of the file, and you need to iterate through the numerical indices of array rather than the lines of f in the second loop. The logic can also be improved a little by moving the if right into the while condition and only assigning the final position of the compared-rating rather than swapping.Note that I renamed some variables and used namedtuple for clarity. Also, I moved the file reading out of ratings_sort so I could compare it to sorted as an example.
Let's solve your problem step by step:So your problem has two parts :first, fetch data in the correct form from the file second sort them according to their ratingsFor the first part i tried two approaches :first approach , using manual generator approach,First let's open file :for that i needed float isdigit , But isdigit only support int so i come up with something like this :Now let's use generator approach to get data in proper form :output:Now let's try second approach which is regex approach:output:As you can see  output from both approaches are same , Now sorting them basis on rating is not a big deal :output:


Answer URL
https://docs.python.org/3/library/collections.html#collections.namedtuple
