Natural Text
i try to figure how to mock a function in a helper.py that use in several methods for a unit test.I try with patch, @patch('project.helpers.function_0', new=lambda: True) but didn't work.How is the correct way to do this?Thank you.UpdateI have 1 function and 1 decorator that i need to override for all test set.helpers.pydecorators.pyHow i resolvedI want to know how do this with mock, thank you!test_base.py
Some key things going on here.If possible, you should be using unittest.mock (or mock installed via pip).You are likely patching in the wrong location.When using mock.patch you probably want to use the new_callable keyword argument, rather than newSuppose your production code looks something like this....If you wanted to test some_function from your production code, mocking myfunction your test code should patch production_module.myfunction not helpers.myfunctionSo your test code may look like thisAnother way of using mock.patch is as a context manager. So the patch will only apply in that context.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch
