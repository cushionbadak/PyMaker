Natural Text
I want to mock one of the model's methods in my tests. This is my model with the method I want to mockThen, I want all the tests that inherit from CustomerTestCase to mock send_to_address_bookHowever, when I run the following tests, send_to_address_book is not mocked.What am I missing?
So, I found what was the issue.Partly, it was the problem of default settings of DDF - if a model field is blank/null it will still fill it by default. So when a Package was created with DDF, it also created a Customer because of a FK.The second part of the problem was, that Package is in a different module than Customer so @mock.patch('accounts.models.Customer.send_to_address_book') did nothing (see Python docs for more details). I had to add a second patch, which took care of when a Customer was created through Package: 


Answer URL
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
