Natural Text
Hi I would like to execute the following command via shell.However when inserted in an os.system call , I get an invalid syntax. What would be the right syntax format.
You could simply use the triple-quoted string literal, like:but even better, use the right tool for the job, i.e. requests:If you insist on direct curl command invocation, please use the subprocess module instead of the old and inflexible os.system (also unsafe, for inputs not strictly checked). You can use the subprocess.check_output as a replacement in your case. There's no need to execute your curl command in a subshell, so you can split curl's arguments, like:Note that check_output will return the standard output of the command executed (like os.system does), but it'll raise a CalledProcessError exception in case the command fails with non-zero status, or OSError exception if the command is not found.
You need to escape the single quotes. So change this:aba = os.system('curl -g -d '{ "action": "block_count" }' [::1]:7076')to this:aba = os.system('curl -g -d \'{ "action": "block_count" }\' [::1]:7076')


Answer URL
https://docs.python.org/3/tutorial/introduction.html#strings
https://docs.python.org/3/library/subprocess.html#module-subprocess
https://docs.python.org/3/library/os.html#os.system
https://docs.python.org/3/library/subprocess.html#subprocess.check_output
https://docs.python.org/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module
https://docs.python.org/3/library/subprocess.html#subprocess.CalledProcessError
https://docs.python.org/3/library/exceptions.html#OSError
