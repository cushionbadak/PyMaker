Natural Text
I want to provide eval some compiled code (via compile) that when evaluated should update some variables in the locals I passed in. 
You could do it like this (it works in CPython 3.6.3 anyway), although it not OK to update the dictionary returned by locals() (see Note in the documentation.Note, too, as @juanpa.arrivillaga pointed out in a comment, that at the module-level, locals()is the same as globals()â€”so you can avoid the restriction by using it instead. In other words, eval(code, globals()) would be better and avoids the issue.(I verified that they're the same with an assert locals() == globals() at the beginning of the code to verify they're the same.)


Answer URL
https://docs.python.org/3/library/functions.html#locals
