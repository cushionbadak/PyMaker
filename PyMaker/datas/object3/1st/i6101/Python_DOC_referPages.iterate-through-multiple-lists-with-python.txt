Natural Text
Hi I've searched through Stackoverflow and have been struggling with the following list-related challenge, but as a Python novice I'm stumped.I currently have 2 lists of test data, one with user info, (both new and old user ID followed by name data) and the other a list of lists with user and page numbers (eeIDlist). I want to check if the page numbers associated with a particular user matches either the new or old ID , and if either ID matches, append the page numbers back to the original list.I've gotten as far as matching and appending a list to the CompanyName list, but the list seems to grown exponentially and represents all of the user page data, rather than just the page numbers associated with the individuals.Advice warmly welcomed!My code is as follows:My source data is as follows:UserID and Page NumbereeIDlist:Desired Output List:
You have some errors in your code. You don't need the loop for ee in i. You want to check if '123214' in ['144128', '40013', 'John', 'Dodge', 'F', 'DODGEJ'] for example not if 123214 in '144128', and in '40013', and in 'John', etc.Also, you don't need i.append([eeid[0]]) since you are dealing with pagenumbers, and that's enough; you don't want duplicates in your results.Moreover, pagenumbers should be appended outside the for loop. Otherwise, you would get more than one list appended.Following is a code that fixes errors of your code:Output:
Here's some code that does the trick (although it's not the most pythonic):Notes:I converted the integer ids from id_str_page to strings and saved them into id_str_page_list using [Python]: List Comprehensions to do all the conversions at onceThen I iterate on each employee and if one of its ids is found on the 2nd list on the 1st position, I "save" page number in another list, which at the end (if not empty) I append it to the employee listI renamed some of the variables to be [Python]: PEP 8 -- Style Guide for Python Code compliantOutput:
You could also turn the eeIDlist into a dictionary which would make searching it a lot faster. This would also let you perform the entire operation in one line:Now we have:As required.
I have corrected your code
I agree with Robbie that eeIDlist should be a dict... but otherwise, here's a solution using your lists.The use of next() with a generator means the list stops being search as soon as a match is found.


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
