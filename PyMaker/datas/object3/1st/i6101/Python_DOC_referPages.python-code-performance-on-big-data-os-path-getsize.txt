Natural Text
Below is my code to get file size in ascending order. This code is working however performance is slow if size of a directory is in TB or PB. Any suggestion to improve the code to get faster result please.
To get a feel for how fast you can get, try running and timing du -k on the directory. You probably won't be getting faster than that with Python for a full listing.If you're running on Python < 3.5, try upgrading or using scandir for a nice performance improvement.If you don't really need the whole list of files but can live with e.g the largest 1000 files:Avoid keeping the list and use heapq.nlargest with a generatorEDIT - to get even faster on Windows - os.scandir yields entries that already contain the size helping avoid another system call.This means using os.scandir and recursing yourself instead of relying on os.walk which doesn't yield that information.There's a similar working example get_tree_size() function in the scandir PEP 471 that can be easily modified to yield names and sizes instead. Each entry's size is accessible with entry.stat(follow_symlinks=False).st_size.
Nice Question Try This :NOTE : your time is 0.044736385345458984, my time is 0.001501321792602539 !!!!!!Good Luck ...


Answer URL
https://docs.python.org/3/library/heapq.html#heapq.nlargest
