Natural Text
I am trying to work with pylabels to create nametags for an upcoming event.  In one section of the code, there is this tid-bit:where sheet = labels.Sheet(specs, write_name, border=True).  So essentially, this will load each line of "names.txt" and call the function 'write_name', using specifications in 'specs', and add each name to unique labels.  I'm attempting to change this code to the following:But I get this error:Can anyone help me understand what exit means in this context?  I do not understand from other submissions.I am hoping to add this subsetting aspect so that I can add further details to the nametags.I am using Python3.5
Can anyone help me understand what __exit__ means in this context? I do not understand from other submissions.  ... As text_file isn't a function, it should be exitable.When you use with statement context managers, that object must define these two methods:__enter____exit__Whatever text_file[["Name"]] is (a Pandas DataFrame, it seems), it doesn't implement either of these methods.  As indicated by the traceback, it doesn't define __enter__ at all, so execution stops right there and raises an exception.I don't see a need to use a DataFrame as a context manager.  A typical use-case is when you want to ensure that something happens at the end of the with block, namely, closing a file stream.  (Like a try/finally block--you want to make sure __exit__ gets called unconditionally.)  With a Pandas DataFrame, I'm not sure if there is any analogy that would necessitate have those two dunder methods.


Answer URL
https://docs.python.org/3/reference/datamodel.html#context-managers
