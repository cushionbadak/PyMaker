Natural Text
I'm trying to use a spam classification application in Python but i'm getting the errors below. I don't understand it though since i'm using the .keys method to delete items from the dictionary so that shouldn't be a problem?I've tried removing all the functionars bar the dictionary function to try and find a cause but I can't seem to wrap my head around thisPython codeError
This doesn't work in Python 3.x because keys returns an iterator instead of a list.Another way is to use list to force a copy of the keys to be made. This one also works in Python 3.x:
dictionary.keys() is actually returning a reference to the original dictionary keys.You can check this by doing the following:That's why you are getting the error: with del dictionary[item] you are actually affecting list_to_remove, which is forbidden during a loop.You can avoid this by creating a copy of the original keys before looping through them. The easiest way to achieve this is using the list constructor. So changing your linewith:solves the issue.Edition after commentNote that this behaviour only happens in python 3, in python 2, the .keys() method returned a normal list, with no reference to the dictionary:About this on the Python 3.0 changelog:Some well-known APIs no longer return lists:dict methods dict.keys(), dict.items() and dict.values() return “views” instead of lists. 


Answer URL
https://docs.python.org/3/howto/pyporting.html
