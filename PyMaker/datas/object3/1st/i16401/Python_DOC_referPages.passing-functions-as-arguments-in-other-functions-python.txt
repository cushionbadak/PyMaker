Natural Text
I have these functions, and I'm getting errors, with the do_twice functions, but I'm having problems debugging itdebugger errors
The line do_four(print_twice(str)) evaluates the expression in the brackets first before passing it. Since print_twice doesn't return anything, None is assumed, and that gets passed.
The problem is that the expression print_twice(str) is evaluated by calling print_twice with str and getting the result that you returned,* and that result is what you're passing as the argument to do_four.What you need to pass to do_four is a function that, when called, calls print_twice(str).You can build such a function manually:Or you can do the same thing inline:Or you can use the higher-order function partial to do it for you:The documentation for partial has a pretty nice explanation:The partial() is used for partial function application which “freezes” some portion of a function’s arguments and/or keywords resulting in a new object with a simplified signature. For example, partial() can be used to create a callable that behaves like the int() function where the base argument defaults to two: [snip] basetwo = partial(int, base=2)* If you're thinking "But I didn't return anything, so where does that None come from?": Every function always returns a value in Python. If you don't tell it what to return, it returns None.
Right now print_twice is returning None which is what ends up being passed to do_four as a parameter. In other words, you are passing the result of the function call instead of the function call itself.Instead you want to wrap that function call in a lamda function like this:This will pass the actual function call as a parameter instead of calling the function and passing its result.


Answer URL
https://docs.python.org/3/library/functools.html#functools.partial
