Natural Text
I am using shutil.copy to copy the content of one file to another. However it is causing my orignal files to be deleted with the error of "no data in file"I first tried thisThen was told the files need to be open and in a writable formatHowever with both code, even if I have something in each .txt file, for instance test1, and test2, both files will return empty. I had this working before and returned to my program about 6 months later to find this error. Any help appreciated. Recently however the below error also started to appear, I have no idea what it is and if it is with any relevance to my code.
shutil.copy() accepts filenames (strings) as arguments. It opens files for you. You might have confused it with shutil.copyfileobj() that accept file objects. Even with copyfileobj() you shouldn't use "w" mode for the file you want to copy from (the first argument, the source)."w" mode (stands for "write") means "open for writing, truncating the file first" (making the file empty). Note: removing the offending lines from your code won't restore the files. Once they are empty; they keep being empty. You need to repopulate them. It should solve your second problem: calling random.choice() with an empty list:
You need to close the file handle first, and then you can use shutil. If you don't close file handle before using copy(), shutil will only create destination file but it will stay empty.The above code then should look like this:
You shouldn't be opening the files before shutil.copy().For the second problem, it looks like list(f) is empty.


Answer URL
