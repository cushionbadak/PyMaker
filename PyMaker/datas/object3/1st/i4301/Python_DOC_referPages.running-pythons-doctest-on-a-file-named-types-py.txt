Natural Text
In both Python 2 and 3 I cannot run doctests in a file named types.py, which is part of a package. This is what I get:As you see, all invocations with foo/types2.py work as expected, all invocations with foo/types.py seem to try to load the Python built-in types module.I'm also not able to fix this by tinkering with PYTHONPATH:Unfortunately, I cannot simply rename foo/types.py.Is there any possibility to run doctests from this file apart from writing lots of boilerplate code around it?
I don’t think you can use python -m doctest here: the documentation says that it “import[s the module] as a standalone module”, addingNote that this may not work correctly if the file is part of a package and imports other submodules from that package.which is a fancy way of saying that it uses the module’s unqualified name.  Of course it then conflicts with the standard library module.


Answer URL
https://docs.python.org/3/library/doctest.html#simple-usage-checking-examples-in-docstrings
