Natural Text
I am struggling to get this code fix with python3.6 on my macos, although this code used to run on python 2.xKeep getting this errors a bytes-like object is required, no 'str' and unable to make it work although changing code around by 'r' -> 'rb' "w" ->"wb" or pickle.load(f) pickle.loads(f)  for the function write() also get error "write() argument must be str, not bytes"here is link for full code https://pastebin.com/embed_js/7tsdP9J6
According to Python's official documentation:https://docs.python.org/3/library/pickle.html#pickle.loadhttps://docs.python.org/3/library/pickle.html#pickle.loadspickle.load() expects an opened file object to be passed as a first positional argument, whereas pickle.loads() expects bytes object. Note the encoding="ASCII" parameter as well. Speaking of encoding, the documentation states that you can set it to bytes to let pickle read 8-bit string instances as bytes objects.I have never used pickle before and therefore can't give concrete answer but maybe try rewriting your snippet like this:Actually, when you do f.read(), entire file contents will be read and file cursor will point to the end of the file. When you use read() next time, there will be no contents left for you to read, because the first call already "consumed" entire file. Maybe that is the problem, because in second call to pickle.read() you pass empty file contents?Hope it helped a bit :)


Answer URL
https://docs.python.org/3/library/pickle.html#pickle.load
https://docs.python.org/3/library/pickle.html#pickle.loads
