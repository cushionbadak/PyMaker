Natural Text
The following code will print out the current time every 5 seconds, and it handles keyboard interrupt signals with int_handler.However, every time I press Ctrl-C it will print out the current time immediately, and continue running. It seems that the interruption awakes the process from sleeping, the handler gets executed, and somehow it gets back to the while loop again.Can someone explain it to me why? Thanks!
From the documentation of sleep():The actual suspension time may be less than that requested because any caught signal will terminate the sleep() following execution of that signalâ€™s catching routine.https://docs.python.org/3/library/time.html#time.sleepSo what you describe is exactly what is happening: after handling the signal in your signal handler execution continues after the sleep, which is the last expression in your while-loop.Hence in order to really sleep approximately 5 seconds ignoring interruptions you'd have to store the time before sleep and check on waking up that enough has passed, or sleep some more.


Answer URL
https://docs.python.org/3/library/time.html#time.sleep
