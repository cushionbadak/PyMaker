Natural Text
I'm trying to go through each feature in one file (1 per line) and find all matching features based on one column of that line in a second file. I have this solution, which does what I want on small files, but it's very slow on big files (my files have >20,000,000 lines). Here's a sample of the two input files.My (slow) code:
The best solution for my purposes seems to be rewriting the above code for pandas. Here's what's working well for me on some very large files:
To start with you are looping over ALL of conservationFile every time you read a single line from peakFile so stick a break after n+=1 in the if statement and that should help somewhat. Assuming that there is only one match that is.Another option is to try using mmap which may help with buffering
Bedtools was made for this, specifically the intersect function:http://bedtools.readthedocs.io/en/latest/content/tools/intersect.html


Answer URL
https://docs.python.org/3/library/mmap.html
