Natural Text
I have the following command which adds a user to the administrator group of a gerrit instance,When I run this command on my terminal, it runs perfectly and gives the expected output.But, I want to execute this command in python either using the subprocess or pycurl library.Using subprocess I wrote the following code,It shows no error but no changes are seen in the administrator group.I tried the same using pycurl,This throws an error, it cannot find the account members.The variable mentioned url is of the form host_ip:port.I have tried a lot to fix these errors. I dont know where I am going wrong. Any help would be appreciated.  
a) string escapingFor the subprocess/curl usage, you should be escaping your string tokens rather than manually adding extra ':...stuff'+"'"+'more.stuff...Escape using \ before the character i.e. using"curl -X POST -H \"Content-Type:application/json;charset=UTF-8\""will keep the " around the Content-Type section.More on escape characters here: Lexical Analysis - String Literals...The backslash () character is used to escape characters that otherwise have a special meaning...b) popenLooking at the popen docs their example uses shlex.split() to split their command line into args. shlex splits the string a bit differently:you can see shlex removes excess quoting.c) http response codeTry using -I option in curl to get a HTTP response code back (and the rest of the HTTP headers):Even though you're using subprocess to start/make the request, it should still print the return value to the console(stdout).d) putting it all togetherI changed the how the url and u_name are interpolated into the string.If none of this helps, and you're getting no response from gerrit, I'd check gerrit logs to see what happens when it receives your request.
you should try [urllib2] (python2) or urllib(python3) to post json data ;for subprocess.Popen : subprocess.Popen.communicate(https://docs.python.org/3.5/library/subprocess.html?highlight=subprocess#subprocess.Popen.communicate) may give you help,or just exec bashCommand in shell to see the difference;for pycurl , I have not use it ,but please you add error info.


Answer URL
https://docs.python.org/3/library/urllib.html
