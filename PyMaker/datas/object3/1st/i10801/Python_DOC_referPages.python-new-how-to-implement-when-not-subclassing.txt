Natural Text
Part AI want to do some checking on arguments to a class instantiation and possibly return None if it doesn't make sense to even create the object.I've read the docs but I don't understand what to return in this case.What should X be in return X?It cannot be self because the object doesn't exist yet so self is not a valid keyword in this context.Part BTied to my question, I don't understand the need to have the cls parameter.If you call the constructor of MyClass - var = MyClass(1) - won't cls always be MyClass?How could it be anything else?According to the docs, cls in object.__new__(cls[, ...]) is:. . .the class of which an instance was requested as its first  argument.
(I'm assuming you are using Python 3 because you provided a link to Python 3 docs)X could be super().__new__(cls).super() returns the parent class (in this case it is simply object). Most of the times when you are overriding methods you will need to call the parent class's method at some point.See this example:And then:
You could just return the instance of cls like this return object.__ new__(cls). Because every class is subclass of object, you can use that as a object creator for your class. The returnes object is passed as a first argument to the __init__() with the any number of positional argument or any number of keyword argument you passed to new. There you will create instance variable assigning those values.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__new__
https://docs.python.org/3/library/functions.html#super
https://docs.python.org/3/library/functions.html#super
https://docs.python.org/3/reference/datamodel.html#object.__new__
