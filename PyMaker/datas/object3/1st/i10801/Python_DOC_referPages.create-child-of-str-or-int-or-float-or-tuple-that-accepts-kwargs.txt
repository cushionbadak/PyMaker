Natural Text
I need a class that behaves like a string but also takes additional kwargs. Therefor I subclass str: This however raises: Which is rather strange, since the code below works without any error:Questions: Why do I get different behavior when trying to subclass str, int, float, tuple etc compared to other classes like object, list, dict etc?How can I create a class that behaves like a string but hasadditional kwargs?
You need to override __new__ in this case, not __init__:See here for the answer to why overriding __init__ doesn't work when subclassing immutable types like str, int, and float: __new__() is intended mainly to allow subclasses of immutable types (like int, str, or tuple) to customize instance creation. It is also  commonly overridden in custom metaclasses in order to customize class  creation.


Answer URL
https://docs.python.org/3/reference/datamodel.html#basic-customization
