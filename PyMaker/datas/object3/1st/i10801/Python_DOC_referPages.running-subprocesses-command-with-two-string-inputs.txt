Natural Text
I'm trying to validate a certificate with a CA bundle file. The original Bash command takes two file arguments like this;I'm trying to figure out how to run the above command in python subprocess whilst having ca-ssl.ca and cert-ssl.crt as variable strings (as opposed to files). If I ran the command with variables (instead of files) in bash then this would work;However, I'm struggling to figure out how to do the above with Python, preferably without needing to use shell=True. I have tried the following but doesn't work and instead prints 'help' commands for openssl;Any guidance/clues on what I need to look further into would be appreciated. 
Bash process substitution <(...) in the end is supplying a file path as an argument to  openssl. You will need to make a helper function to create this functionality since Python doesn't have any operators that allow you to inline pipe data into a file and present its path:Where filearg is a context manager which creates a named temporary file with your desired text, closes it, hands the path to you, and then removes it after the with scope ends.Anything accessing this temporary file(like the subprocess) needs to work inside the context manager.By the way, the  Popen.wait(self) is redundant since Popen.communicate(self) waits for termination.
If you want to use process substitution, you will have to use shell=True. This is unavoidable. The <(...) process substitution syntax is bash syntax; you simply must call bash into service to parse and execute such code.Additionally, you have to ensure that bash is invoked, as opposed to sh. On some systems sh may refer to an old Bourne shell (as opposed to the Bourne-again shell bash) in which case process substitution will definitely not work. On some systems sh will invoke bash, but process substitution will still not work, because when invoked under the name sh the bash shell enters something called POSIX mode. Here are some excerpts from the bash man page:...INVOCATION... When invoked as sh, bash enters posix mode after the startup files are read. .......SEE ALSO...http://tiswww.case.edu/~chet/bash/POSIX -- a description of posix mode...From the above web link:Process substitution is not available./bin/sh  seems to be the default shell in python, whether you're using os.system() or subprocess.Popen(). So you'll have to specify the argument executable='bash', or executable='/bin/bash' if you want to specify the full path.This is working for me:Here's how you can actually embed the string values from variables:


Answer URL
https://docs.python.org/3/library/tempfile.html
