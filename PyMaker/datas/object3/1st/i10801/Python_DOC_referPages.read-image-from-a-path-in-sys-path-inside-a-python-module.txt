Natural Text
I am very new to python and opencv world. I was just trying to read and show an image but I always get an error:error:  D:\Build\OpenCV\opencv-3.1.0\modules\highgui\src\window.cpp:289:  error: (-215) size.width>0 && size.height>0 in function cv::imshowI have created a module named test.py. In that module, I tried to read the image "car.png" which is in my system path "C:\cv\images" and show it as below:When I debug the code, I can see that the im variable is never initialized which is why I get that error code. However, When I type sys.path in the interpreter it shows that the path was already added as many times I tried to run my module. And when I copy/paste the module contents directly in the interpreter, the code works fine and the image appears.It seems that inside the module, the sys.path is not taken into consideration and python is unable to read the image.Any idea if this is a normal behavior, or should I do something inside my module to let the interpreter read sys.path contents?
What makes you imagine that sys.path settings will affect the directories from which you read files? It's purely used to locate Python modules for import. So to answer your question, the behaviour you are seeing is normal and expected. If you have a directory in dir and a filename in filename then the file you should be opening will beso you should tryThose interested in shipping data files with their Python package could do worse than take a look at the documentation for the pkgutil package. In particular, pkgutil.get_data is useful for finding data files wherever the installation process has put them.
I'm not sure what you're trying to do in your application but sys.path seems superfluous in the example code.  Furthermore, sys.path says in the Python documentation that it is A list of strings that specifies the search path for modulesBasically, sys.path is for loading modules themselves not files inside of modules.The variable is never initialized because it isn't loading the image. This workaround, which bruteforces the sys.path until a file loads, works fine but is not elegant, conventional, or necessary:After looking at the source code and internal load function for the version of Open CV you're using, it seems that the imread function does not consider sys.path:


Answer URL
https://docs.python.org/3/library/pkgutil.html#pkgutil.get_data
