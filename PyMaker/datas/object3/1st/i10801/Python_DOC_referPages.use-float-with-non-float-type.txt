Natural Text
Per my question from earlier today (which was wonderfully answered, and I appreciate everyone's insight), I've extended that small class for the heck of it to almost all the operations we'd normally perform upon integers and floats.Now I'm not certain how to convert all the entries to floats without list comprehensions.For instance, right now I have the following:But when I call the following sequence of commands:What I would rather see is what we'd get by using a list comprehension:How do I add a __float__ method, since it doesn't appear to be native to lists? Unless it's not a good idea.
Unfortunately, you can't. I can't find any precise wording on this, but the documentation states:Called to implement the built-in functions complex(), int(), float()  and round(). Should return a value of the appropriate type.I read that as that __float__() should return a float, since float():[r]eturn[s] a floating point number constructed from a number or string x.For comparison, numpy also doesn't do this. Instead, it has a method astype(<type>) to its ndarray that converts to the specific <type>.That confirms to me that this indeed cannot be done.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__complex__
https://docs.python.org/3/library/functions.html#float
https://docs.python.org/3/reference/datamodel.html?highlight=__float__#object.__complex__
