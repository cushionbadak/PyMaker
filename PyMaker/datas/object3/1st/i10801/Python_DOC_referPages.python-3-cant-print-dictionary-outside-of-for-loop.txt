Natural Text
I am working with CSV file data that I need to split into to dictionaries. I am using the following code:For some reason I cannot print all of the data that is stored in the dictionaries outside of the loop. It only prints the first line from each. 
You are not adding anything to the initial, empty dictionaries. You are replacing them each time with a new dictionary:That's two new dictionaries, each with one key-value pair. In the end, after the last line in the file has been processed, what remains is the information from that last line in the file, and everything that was processed before it has been replaced.If you wanted to add to the initial dictionaries, use assignment to a key:You could inline the int() conversion into the assignment expression:Note that int() doesn't care much about extra whitespace around the digits, so the str.strip() calls are not needed.Next, I'd not re-invent the CSV reading wheel; use the csv module:I also used the file object as a context manager, so you don't have to explicitly call file.close() on it anymore.
The issueIt is printing the entire dictionary. Your problem lies in your loop as you're creating the dictionaries:This will create a new dictionary after every iteration of the loop, so at the end you JUST have a dictionary with the last page corresponding to the last session. The solutionUse this syntax instead in your loop:And now your code will ADD to the dictionary rather than simply creating a new one. This is because you defined the dictionary at the top, and the syntax at the end of the loop is creating a new key-value pair within the same dictionary, rather than creating a new dictionary and assigning it to the same variable as you were before.
In each iteration of the loop you create new dictionaries with single item.To fix this, inside the for loop, change:To:


Answer URL
https://docs.python.org/3/library/csv.html
