Natural Text
I am posting videos to Google Cloud Buckets and a signed PUT url does the trick. However, if the file size is greater than 10MB it will not work, so I found an open source that will allow me to do this however, it uses a file like object.The way that I was uploading videos was passing in json formatted data. Then all I did was a request.put(url, data=data). This worked seamlessly. How do I convert this data, that Python recognizes as str to a file like object?
A so called 'file-like' object is in most cases just an object that implements the Python buffer interface; that is, has methods like read, write, seek, and so on.The standard library module for buffer interface tools is called io. You're looking for either io.StringIO or io.BytesIO, depending on the type of data you have â€” if it's a unicode encoded string, you're supposed to use io.StringIO, but you're probably working with a raw bytestream (such as in an image file) as opposed to just text, so io.BytesIO is what you're looking for. When working with files, this is the same distinction as doing open(path, 'r') for unicode files and open(path, 'rb') for raw processing of the bytes.Both classes take the data for the file-like object as the first parameter, so you just do:After this, f will be an object that works just like a file, except for the fact that it holds its data in memory as opposed to on disk.
Use StringIO:


Answer URL
https://docs.python.org/3/library/io.html
https://docs.python.org/3/library/io.html#io.StringIO
https://docs.python.org/3/library/io.html#io.BytesIO
