Natural Text
I need to create an iterable of the form (id, {feature name: features weight})  for using a python package.my data are store in a pandas dataframe, here an example:for the  {feature name: features weight}) part, I know I can use this:I know I can also iterate over the datframe for get the id, like this:But I can get this two together to get one iterable (generator object )I tried : but the syntax is wrong.Do you guys know how to do so ?
pd.DataFrame.itertuples returns named tuples. You can iterate and convert each row to a dictionary via the purpose-built method _asdict. You can wrap this in a generator function to create a lazy reader:Note that the result will be OrderedDict objects. As a subclass of dict, for most purposes this should be sufficient.
I think need first set_index by column id and then to_dict with orient='index':


Answer URL
https://docs.python.org/3/library/collections.html#collections.somenamedtuple._asdict
https://docs.python.org/3/library/collections.html#collections.OrderedDict
