Natural Text
I have a Dataframe, df, with the following column:The elements of the column are pandas.tslib.Timestamp.I want to just include the year and month.  I thought there would be simple way to do it, but I can't figure it out.Here's what I've tried:I got the following error:Then I tried:I got the following error:Any suggestions?Edit: I sort of figured it out.  Then, I can resample another column using the index.But I'd still like a method for reconfiguring the entire column.  Any ideas?
You can directly access the year and month attributes, or request a datetime.datetime:One way to combine year and month is to make an integer encoding them, such as: 201408 for August, 2014. Along a whole column, you could do this as:or many variants thereof.I'm not a big fan of doing this, though, since it makes date alignment and arithmetic painful later and especially painful for others who come upon your code or data without this same convention. A better way is to choose a day-of-month convention, such as final non-US-holiday weekday, or first day, etc., and leave the data in a date/time format with the chosen date convention.The calendar module is useful for obtaining the number value of certain days such as the final weekday. Then you could do something like:If you happen to be looking for a way to solve the simpler problem of just formatting the datetime column into some stringified representation, for that you can just make use of the strftime function from the datetime.datetime class, like this:
If you want new columns showing year and month separately you can do this:or...Then you can combine them or work with them just as they are.
Best way found!!the date_column has to be in date time format.You could also use D for Day, 2M for 2 Months etc. for different sampling intervals, and in case one has time series data with time stamp, we can go for granular sampling intervals such as 45Min for 45 min, 15Min for 15 min sampling etc.
If you want the month year unique pair, using apply is pretty sleek.outputs month-year in one column.don't forget to first change the format to date-time before, I generally forget :|
Extracting the Year say from ['2018-03-04']  The df['Year'] creates a new column. While if you want to extract the month just use .month  
Thanks to jaknap32, I wanted to aggregate the results according to Year and Month, so this worked:Output was neat:
@KieranPC's solution is the correct approach for Pandas, but is not easily extendible for arbitrary attributes. For this, you can use getattr within a generator comprehension and combine using pd.concat:
You can first convert your date strings with pandas.to_datetime, which gives you access to all of the numpy datetime and timedelta facilities. For example:
This worked fine for me, didn't think pandas would interpret the resultant string date as date, but when i did the plot, it knew very well my agenda and the string year_month where ordered properly... gotta love pandas!


Answer URL
https://docs.python.org/3/library/functions.html#getattr
