Natural Text
Suppose I have a simple python class definition in a file myClass.pyAnd I also have two test scripts. The first script creates an object of type Test, populates the array A, and pickles the result to a file. It immediately unpickles it from the file and the array is still populated.The second script just unpickles from the file, and the array is not populated (i.e. A == []). Why is this?test1.pyand test2.py
It is because you are setting Test.A as a class attribute instead of an instance attribute. Really what is happening is that with the test1.py, the object being read back from the pickle file is the same as test2.py, but its using the class in memory where you had originally assigned x.A. When your data is being unpickled from the file, it creates a new instance of the class type, and then applies whatever instance data it needs to. But your only data was a class attribute. Its always referring back to the class thats in memory, which you modified in one, but not in another file.Compare the differences in this example:You will notice that the instance attribute a will be pickled and unpickled properly, while the class attribute A will simply refer to the class in memory.


Answer URL
https://docs.python.org/3/library/pickle.html#what-can-be-pickled-and-unpickled
