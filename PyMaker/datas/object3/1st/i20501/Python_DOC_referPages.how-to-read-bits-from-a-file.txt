Natural Text
I know how to read bytes â€” x.read(number_of_bytes), but how can I read bits in Python?I have to read only 5 bits (not 8 bits [1 byte]) from a binary fileAny ideas or approach?
Python can only read a byte at a time. You'd need to read in a full byte, then just extract the value you want from that byte, e.g.Or if you wanted the 5 least significant bits, rather than the 5 most significant bits:Some other useful bit manipulation info can be found here: http://wiki.python.org/moin/BitManipulation
As the accepted answer states, standard Python I/O can only read and write whole byte(s) at a time. However you can simulate such a stream of bits using this recipe for Bitwise I/O.UpdatesAfter modifying the Rosetta Code's Python version to work in unchanged in both Python 2 & 3, I incorporated those changes into this answer.In addition to that, later, after being inspired by a comment made by @mhernandez, I further modified the Rosetta Code so it supports what's called the context manager protocol which allows instances of both of its two classes to be used in Python with statements. Latest version is shown below:Another usage example showing how to "crunch" an 8-bit byte ASCII stream discarding the most significant "unused" bit...and read it back (however neither use it as a context manger)....and to "decrunch" the same stream:


Answer URL
https://docs.python.org/3/glossary.html#term-context-manager
https://docs.python.org/3/reference/compound_stmts.html#with
https://docs.python.org/3/glossary.html#term-context-manager
