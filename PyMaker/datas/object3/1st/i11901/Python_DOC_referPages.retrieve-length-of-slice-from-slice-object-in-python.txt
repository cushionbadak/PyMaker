Natural Text
The title explains itself, how to get 2 out of the objectThe documentation is somewhat confusing, or it is the wrong onehttps://docs.python.org/2/c-api/slice.htmlIn particular I don't understand what is the meaning of the output ofOne possible workaround is to slice a list with the slice objectBut this will fail for an arbitrary large slice.Thanks, I couldn't find an answer In other posts. 
There is no complete answer for this. slice doesn't give you a length because the length of the result is always dependent on the size of the sequence being sliced, a short sequence (including an empty sequence) will produce fewer items, and if the slice is unbounded, then the length will grow in tandem with the length of the sequence; a slice might just go "to end of sequence" by having a start or stop of None.For a quick and easy way to compute the length for a sequence of a known length, you just combine .indices with Py3's range (or xrange in Py2, though xrange has limitations on values that Py3 range does not). slice.indices gives you the concrete start, stop and stride values derived when a slice applies to a sequence of a given length, it's basically the values you'd fill in in a C-style for loop that traverses the same indices as the slice:So to calculate the length of a slice when applied to a sequence with 1000 elements, you'd do:If you're on Python 2, and your values might exceed what xrange can handle (it's limited to bounds and total length equal to what a ssize_t can hold), you can just do the calculation by hand:Update: Unfortunately, slice.indices itself won't accept a len for the sequence beyond what a long can hold, so this doesn't gain you anything over using xrange in Py2. Left in place for those interested, but the workaround doesn't workaround anything unless you also perform the work slice does to convert negative values and None to concrete values based on the sequence length. Sigh.
So it looks like slice.indices(n) returns the arguments to be given to range, to get the item indices which should be reflected in the slice of a sequence of length n (although it's not documented edit: as @ShadowRanger pointed out, it is indeed documented). So the following lines evaluate to the same values:As you see, the resulting list's length is the same as the length of range(*slice(1,15,3).indices(len(my_list))), which depends on the slice object itself, and the length of the sequence to be sliced. That's why len(range(*slice.indices(n))) will give you the right answer in Python 3. (the range object is a generator, which fortunately has the __len__ function defined, so it can give you the item count, without the need to enumerate and count them.)If you work with large numbers in python 2, you can replicate the calculation as @ShadowRanger suggests.The original implementation of range.__len__ is the following:And slice.indices:The sources are from svn



Answer URL
https://docs.python.org/3/reference/datamodel.html#slice.indices
https://docs.python.org/3/reference/datamodel.html#slice.indices
https://docs.python.org/3/reference/datamodel.html#slice.indices
