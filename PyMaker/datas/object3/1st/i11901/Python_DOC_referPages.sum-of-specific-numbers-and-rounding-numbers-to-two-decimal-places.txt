Natural Text
I am trying to get the sum of certain numbers from a file without changing the file itselfFor the sum of numbers, it needs to be the #First, #second and #third numberThe numbers currently are in cm which have been converted to inches which the two decimal places are necessary for My code at present is to provide the top 3 people based on the sum of the #first,#second and #third numbers.Current code:There are about 50 records in the file that im reading from, which the sum must be added up for all then put in order to find the top 3 and ideally in two decimal placesCode referring to to_inch:The whole document works around a main menuTo get the sum, I have tried sum(item.entry.items()) but with no success and have also tried "%.2f" for the decimal figures/significant figures but with no success, any help would be appreciated
If we disregard reading from the file for now and assume we can put the numbers in a list we can use Python's round(), sum(), and map().Code:Output:What is happening:Mapped your function to_inch on each of the items in the list numbersMapped Python's round() function onto each the values in numbers_in_inches, the reasoning for the list comprehension on the end is it creates a list of 0's for map() to use for round(number, places)'s places.Uses Python's sum() to take the sum of all of the numbers, of course, you can just use round(sum_numbers, 0) if you want to round after the sum. Note: If you want to round after you sum, use math.fsum instead of sum as mentioned by Copperfield in the comments.Now to parse the file:Output:How It's parsing the file:First opens the file.Next iterates over each line in the file.For each line in the file, it sees whether it's a line containing the player's name, the players number, or the numbers that he has.Player Number Splits line into the note and the data then takes the data and sets it equal to player_number.Name Splits line into the note and the data then takes the data and sets it equal to nameNumbers He Has It removes all non-word characters except for . in the file using re's re.sub(). Then, checks to see if there is a decimal in the cleaned-up line. Finally, if so it appends the line to numbers.If all three values are present, it appends them all to the numbers_names dictionary and resets the variables for the next player.


Answer URL
https://docs.python.org/3/library/functions.html#round
https://docs.python.org/3/library/functions.html#sum
https://docs.python.org/3/library/functions.html#map
