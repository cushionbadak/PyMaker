Natural Text
Why doesn't Fraction return closest fraction for float instances?
From the documentation:Note that due to the usual issues with binary floating-point (see Floating Point Arithmetic: Issues and Limitations), the argument to Fraction(1.1) is not exactly equal to 11/10, and so Fraction(1.1) does not return Fraction(11, 10) as one might expect. (But see the documentation for the limit_denominator() method below.)Basically, 2.6 cannot be precisely represented in binary. The Issues and Limitations link in the above excerpt goes into much more detail.As suggested, you can use limit_denominator() to help here:Alternatively, you can use string inputs (which you seem to have already discovered).


Answer URL
https://docs.python.org/3/library/fractions.html?highlight=fraction#module-fractions
https://docs.python.org/3/tutorial/floatingpoint.html#tut-fp-issues
https://docs.python.org/3/library/fractions.html?highlight=fraction#fractions.Fraction.limit_denominator
