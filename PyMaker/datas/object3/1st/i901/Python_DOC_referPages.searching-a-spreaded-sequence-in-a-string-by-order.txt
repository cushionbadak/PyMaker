Natural Text
Is there any way to search for a sequence by order (which is not continuous in the input) in a string in one command or a short block?I'll give an example to the problem:I gen a string from raw_input in the form of (+ or - or void)(number or void)X^2 (+ or -) (+ or - or void)X (+ or -) (+ or - or void)(number), and I want to assign a flag for (-+)aX^2 +- (-+)bX +- (+-)c and a flag for only c and a flag for only b... only b and c, only a and c, etc in any order of input (abc, cba, ac, cb, etc) by defining a search by characters "x^2", "x" "number" and assigning each order to a flag...Can it be done without writing 300+ lines with tons of ifs and elifs? (I got frustrated in line 107).I have tried the long agonizing way:Any chance to shorten this significantly?
You can do this with the help of regular expressions if you choose. The advantage of doing it like that is that you will know if your input matches immediately, and what all the elements are when you query the match object.The solution shown here relies on re.match to repeatedly find terms in your equation. The neat thing about doing it this way is that you can add up the coefficients to allow for terms with repeated exponents. It also makes it trivial to add support for terms beyond quadratic.The result will be a dictionary keyed by the exponent (0 for the constant term), with the total coefficient aa the value.The regex shown here relies on a pattern for matching numbers taken from this answer to this question:For the example string, the resulting coefficients areHere is an UDEOne link: https://ideone.com/TwtY2e
I would approach it this way:remove all the spaces from your input string.apply 'all uppercase' or 'all lowercase' to your input string.split your string into a list, using the + or - symbols (both) as separators.  For this, Google 'splitting strings using regular expressions' or check this post.using a loop, for each of the elements of the list, remove the parentheses if they exist.using a loop, for each of the elements of the list, check if they contain X^2, X or none (using uppercase or lowercase X depending on your previous choice).You can combine 4. and 5. in the same loop if you want.That should give you the answer you need, with relatively short, flexible, reusable code.   Hope it helps.Note: edit made after having a look at the example input.


Answer URL
https://docs.python.org/3/howto/regex.html
https://docs.python.org/3/library/re.html#re.match
