Natural Text
How can Python's unittest.mock module be used to mock a method that uses a member of the same class?Note, I'm patch.start and patch.stop to do patching in the setUp method:Clearly, mock-name is not a sensible mock return value. The return value should use the local_id member of NameHelper.
I'm unsure why the question was down-voted with no comments. The answer is, IMO, not clear.The Python documentation for patch.start and patch.stop, provides the following example for patching in setUp:However, when patching entire class, this is misleading. The following is more helpful:Note, the additional line:The return_value should be a new instance of the class MockClass1. Applied to my example:


Answer URL
https://docs.python.org/3/library/unittest.mock.html
