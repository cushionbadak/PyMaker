Natural Text
Let's say I have a string that holds a valid python class (not a class name). E.g.:Is it possible in python to implement a function (string_to_class in the example below) that receives this string and creates a python class out of it so I can instantiate the class later on?The output should be:One possible solution might be to write out the string to a MyClass.py file and use __import__() to load it. Is there any other (in memory) solution?Thank you for the answer.
A commenter mentioned exec; this is how you would put it together:But like some of the other commenters mentioned, it's not a commonly-applied technique, so be careful with it. You'll also run into problems pretty quickly as your use case gets more complicated:You can fix it with a direct call to exec (the string_to_class function is simply not powerful enough), but it quickly gets very tricky to use: I haven't even mentioned how imports would work yet. There are other techniques (function decorators, metaclasses) that might allow you to do what you want to do that involve less pain, but sometimes exec really is your only option.


Answer URL
https://docs.python.org/3/library/functions.html#exec
