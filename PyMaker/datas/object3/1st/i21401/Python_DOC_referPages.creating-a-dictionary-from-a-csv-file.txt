Natural Text
I am trying to create a dictionary from a csv file. The first column of the csv file contains unique keys and the second column contains values. Each row of the csv file represents a unique key, value pair within the dictionary. I tried to use the csv.DictReader and csv.DictWriter classes, but I could only figure out how to generate a new dictionary for each row. I want one dictionary. Here is the code I am trying to use:When I run the above code I get a ValueError: too many values to unpack (expected 2). How do I create one dictionary from a csv file? Thanks.
I believe the syntax you were looking for is as follows:Alternately, for python <= 2.7.1, you want:
Open the file by calling open and then csv.DictReader.You may iterate over the rows of the csv file dict reader object by iterating over input_file. OR     To access first line only

You have to just convert csv.reader to dict:
This isn't elegant but a one line solution using pandas.If you want to specify dtype for your index (it can't be specified in read_csv if you use the index_col argument because of a bug):
You can also use numpy for this.
I'd suggest adding if rows in case there is an empty line at the end of the file
If you are OK with using the numpy package, then you can do something like the following:
You can use this, it is pretty cool:
One-liner solution


Answer URL
https://docs.python.org/3/library/csv.html#csv.DictReader
https://docs.python.org/3/library/csv.html#csv.DictWriter
