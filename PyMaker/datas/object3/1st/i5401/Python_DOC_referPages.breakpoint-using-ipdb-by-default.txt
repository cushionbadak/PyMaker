Natural Text
Is it possible that installing ipdb (or some other package written to do it explicitely) will result in breakpoint() running ipdb instead of pdb without binding sys.breakpointhook() to ipdb?https://www.python.org/dev/peps/pep-0553/I'm not asking if ipdb does that or if it will, but if its possible to code that. I know that I can set environment variable PYTHONBREAKPOINT=ipdb.set_trace. The question is if its possible to trigger this behavior by just installing ipdb.
During the installation one could programmatically create either a usercustomize.py or a sitecustomize.py in the correct directories and alter os.environ['PYTHONBREAKPOINT'] in there.These modules are imported by site.py early in the startup sequence and are suited for this sort of customization. Personally, I've never seen a package alter/create these files so I wouldn't expect ipdb to ever do it.
One way would be to create .pth file in your site-packages directory. If the line in that file starts with import statement then this line is being executed. In that file you can monkey-patch sys.breakpointhookExample:


Answer URL
https://docs.python.org/3/library/site.html
