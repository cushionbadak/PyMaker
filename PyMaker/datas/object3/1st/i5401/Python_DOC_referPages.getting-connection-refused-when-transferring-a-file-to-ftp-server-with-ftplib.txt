Natural Text
I am currently working on a python script to upload text files to an FTP server but am getting the following error ConnectionRefusedError: [Errno 61] Connection refused, and for the life of me I can't seem to figure out the issue. I believe it is either an issue with the FTP server (which I can connect to with the same credentials via FileZilla). Which led me to believe it could be a coding issue, but after much research, everything looks to be done correctly. So I decided, against my better judgement, to come here on my knees asking for some help. Even if that help is only determining that the issue is with the server and not my code. That will at least give me the next place to troubleshoot. Thank you in advance for any insight you can provide! Here is the code:Here is the complete traceback:Update: Provided the verbose logs from FileZilla showing I can connect and upload a file.
Your Python code is using passive mode. With FileZille you can connect only in an active mode, but not in passive. You generally should use the passive mode. As it does not work, you have fix firewall/NAT configuration.See my article https://winscp.net/eng/docs/ftp_modesAnother possibility is that the FTP server reports wrong IP address in the PASV response. We cannot tell that as you have obfuscated a primary IP address in the log. But indeed 192.168.1.131 is IP address reserved for private networks. So unless you are connecting to the server within a private network, the IP address is wrong. This is also covered on the previously linked article.In vsftpd FTP server, you configure an external IP address using pasv_address directive.https://security.appspot.com/vsftpd/vsftpd_conf.htmlOr you can, of course, use the active mode in your Python script. But thatâ€™s rather a workaround than a solution. 


Answer URL
https://docs.python.org/3/library/ftplib.html#ftplib.FTP.storlines
