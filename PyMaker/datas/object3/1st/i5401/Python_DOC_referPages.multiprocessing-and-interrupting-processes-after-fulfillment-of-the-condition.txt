Natural Text
I have an algorithm where I divide the big list into two-element pieces written in a dictionary, then in the functiondoit I check if the number 3 is in the first place in the given element, if so, I return the whole element, and if not, I return None. Then I wanted to enter a multiprocessing in these divisions and return only the fastest found one. I have this code:But I am doing something wrong, because I do not notice the parallelism of processes in the results, because all the time I receive:And I expected that it will not always be a pair of [3,0].How to change it?
Pool.map will return you the results in order you asked for them. So, pool.map(foo, 'abc') will return [foo('a'), foo('b'), foo('c')] regardless of what order the subprocesses actually calculated the values. Additionally, because its map and not imap, it has to build up the entire result list before it is returned to you.To get results as they arrive (as a generator not a list and in the order they finish), use Pool. imap_unordered:


Answer URL
https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.imap_unordered
