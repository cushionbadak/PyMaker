Natural Text
Trying to use minkowski distance and pass weights but the sklearn metrics do not allow this. Tried pdist and cdist from scipy but these calculate the distances before hand!This returns: callable(minkowski) returns True!I know I'm not passing u and v so unsurprisingly the error shows up. The documentation for this is a bit poor for using other metrics outside from those supported in sklearn. How can I use a weighted metric from scipy for example?
The way you are trying to include the weights is your problem. As u and v are not defined and are internally passed to the metric callable you shouldn't actually include them in your code. You should create a partial function with functools.partialfrom minkowski with the values of p and w predefined.
If you want to use Minkowski distance for p=1 you can just set NearestNeighbors metric parameter to 'manhattan' or 'l1' (these are strings). You could also set metric to 'minkowski' and set p parameter accordingly.For details see here


Answer URL
https://docs.python.org/3/library/functools.html#functools.partial
