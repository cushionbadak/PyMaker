Natural Text
In order to debug an Airbrake issue described in Airbrake throwing error "pybrake - ERROR - strconv.ParseInt: parsing "None": invalid syntax", I'm trying to inspect requests prior to sending them to Airbrake by dropping into the iPython debugger using import ipdb; ipdb.set_trace().To inspect the request, I've set a trace in the send_notic_sync() method of the Notifier (see https://github.com/airbrake/pybrake/blob/master/pybrake/notifier.py):This method gets submitted to a ThreadPoolExecutor in pybrake's source code. The problem is, when I try to import a script which calls this function, I am unable to drop into the debugger. Here is what I see when I try:So, although there are 'flashes' of the output of the debugger, in the end I just end up in the scope of my original ipdb session. How can I make it so that I can set a trace within the send_notice_sync() method?
I ended up working around this issue by breaking into the debugger in the Notifier's __init__() method, which worked because it is not called asynchronously. Here I was able to determine that the project_id was being passed in as None because I hadn't set my Django AIRBRAKE setting correctly.


Answer URL
https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor
