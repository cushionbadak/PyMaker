Natural Text
I am a beginner in Python, so please be... kind?Anyway, I need use a static method to call another method, which requires the use of "self" (and thus, a normal method I believe). I am working with Telethon, a Python implementation of Telegram. I have tried other questions on SO, but I just can't seem to find a solution to my problem.An overview of the program (please correct me if I'm wrong):1) interactive_telegram_client is a child class of telegram_client, and it creates an instance.2) When the InteractiveTelegramClient runs, it adds an update_handler self.add_update_handler(self.update_handler) to constantly check for messages received/sent, and prints it to screen Now, my aim here is to send back an auto-reply message upon receiving a message. Thus, I think that adding a call to method InteractiveTelegramClient.send_ack(update_object) in the update_handler method would serve my needs.However, as you can see, I require the self to invoke this function (based on the readme, where I assume client to refer to the same thing as self). Since the method update_handler is a static one, self is not passed through, and as such I cannot invoke the call as such.My possible strategies which have failed include:1) Instantiating a new client for the auto-reply- Creating a new client/conversation for each reply...2) Making all the methods non-static- Involves a tremendous amount of work since other methods modified as well3) Observer pattern (sounds like a good idea, I tried, but due to a lack of skills, not succeeded)I was wondering if there's any other way to tackle this problem? Or perhaps it's actually easy, just that I have some misconception somewhere?Forgot to mention that due to some restrictions on my project, I can only use Telethon, as opposed to looking at other alternatives. Adopting another library (like an existing auto-reply one) is allowed, though I did not really look into that since merging that and Telethon may be too difficult for me...
based on the readme, where I assume client to refer to the same thing as selfCorrect, since the InteractiveTelegramClient subclasses the TelegramClient and hence, self is an instance of the extended client.Instantiating a new client for the auto-reply - Creating a new client/conversation for each replyThis would require you to create another authorization and send another code request to login, because you can't work with the same *.session at the same time.Making all the methods non-static - Involves a tremendous amount of work since other methods modified as wellIt doesn't require such amount of work. Consider the following example:Is equivalent to:It doesn't matter whether you use self. or the class name to refer to a static method from within the class. Since the InteractiveClientExample already uses self., all you would have to do would be changing:forFor more on the @staticmethod decorator, you can refer to the docs.


Answer URL
https://docs.python.org/3/library/functions.html?highlight=staticmethod#staticmethod
