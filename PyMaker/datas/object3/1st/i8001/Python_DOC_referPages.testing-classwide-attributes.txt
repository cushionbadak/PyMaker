Natural Text
Let's say I have a module named foo with a class Bar. Bar has a classwide counter attribute that allows me to track the order which instances were created. foo looks like this:Now I have a test file where I am testing the various functionalities of Bar. I am unsure of how to test this id attribute, because the other unittests are creating instances of Bar and so I don't know what the given id of a Bar instance should be. Furthermore, this behavior of my class means that my unittests are independent of each other, which is undesirable. How should I structure my unittests so the tests are independent of each other?
You could use setUp to safe the current count and then temporarily reset the count. Then with tearDown you restore the original state again:This makes sure every test method will start with a Bar.class_count of 0.
I would stub out Bar to bypass the constructor.Now you can test like this:


Answer URL
https://docs.python.org/3/library/unittest.html#unittest.TestCase.setUp
https://docs.python.org/3/library/unittest.html#unittest.TestCase.tearDown
