Natural Text
I am going to use spaCy NLP engine and I have started from dictionary. I have read this resource and this but cannot start to do it.I have this code:Where can I change these tokens (token.orth, token.orth_, so on):Can I save those tokens in the own dictionary? Thank you for any help
It's unclear what is the desired data structure that you require but let's try to answer some of the question.Q: Where can I change these tokens (token.orth, token.orth_, ...)?These tokens shouldn't be changed because they are the annotations created by the English models from spacy. (See definition of annotations)For details on what the individual annotation mean, see spaCy Documentation for [ orth , pos , tag, lema and text ] Q: But can we change the annotations of these tokens?Possibly, yes and no. Looking at the code, we see that the spacy.tokens.doc.Doc class is a rather complex Cython object:But in general it's a sequence of the spacy.tokens.token.Token object which contains a is inherently tied closely to the spacy.Vocab object.First, let's see whether some of these annotations are mutable. Let's start with the POS tags:So somehow, if you change the form of the POS tag (.pos_), it persist but there's no way principled way to get the correct key since these keys are automatically generated from the Cython properties. Let's take a look at another annotation .orth_:Now we see that there are some annotation of the Tokens like .orth_ is protected from being overwritten. Most probably this is because it will break how the tokens are mapped back to the original offset of the input string. Ans: It seems like some properties of the Token object can be changed and some cannot. Q: So which Token properties can be changed and which can't?An easy way to check this is to look out for the __set__ function in the Cython properties in https://github.com/explosion/spaCy/blob/master/spacy/tokens/token.pyx#L32. This would allow mutable variables and most probably these are the Token properties that can be overwritten/changed.E.g. We'll see that .tag_ and .lemma_ is mutable but .pos_ isn't:Q: Can I save those tokens in the own dictionary?I'm not exactly sure what that meant. But perhaps, you meant something like pickle.Somehow, the default pickle works weirdly for Cython objects so you might require other methods of saving spacy.tokens.doc.Doc or spacy.tokens.token.Token objects created by spacy, i.e. 


Answer URL
https://docs.python.org/3/library/pickle.html
