Natural Text
I am scraping an XML file and returning a load of percentages, pulled out directly as a percentage sometimes negative with the % sign already attached e.g. I am trying to do a filter such as this: However I cannot perform this filter, I assume as a result of the % symbol. For reference I use:To get the percentages, iterating through each row using: How do I get around this % symbol? Is there an easy way?
You can't perform that filter because you're trying to compare a string (like "4%") to a float (20.0). In Python 3, this will raise a TypeError; in Python 2, it will "work", but all strings will be treated as greater than the number 20.0, so it won't do any good.You need to convert the string to a float before you can use it as a float. But you don't want to convert the whole string, just the part before the "%" character. (Because 4% isn't a number, it's only the 4 that's a number.)So, let's do it in two steps: use rstrip to remove the "%", then use float to convert it to a float.
You can pass a string to strip which will strip the characters passed in the passed string, the below will strip %, newlines and spaces:


Answer URL
