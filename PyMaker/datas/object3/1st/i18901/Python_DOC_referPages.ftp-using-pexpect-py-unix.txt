Natural Text
Output:Connected to XX.XXX.73.64.220 (vsFTPd 2.0.7)Name (XX.XXX.73.64): adminadmin331 Please specify the password.Password:XXXXXI'm trying to automate FTPing to a switch, but my sendline command for 'admin' seems to be sending 'admin' twice. Thus, my username is incorrect. Any ideas how to fix this?
It's going to be very hard to debug your code without a lot more information. Clearly sendline isn't supposed to send the line twice, so something is wrong… but you haven't given us a reproducible test case, or any information beyond those four lines.But really, things are going to be a lot simpler if you don't try to use pexpect in the first place. If you really do need to script a CLI program that wasn't designed for it, pexpect is a great option. But if you have an API (or a scriptable app, or etc.), it's always going to be easier. Python includes batteries for a reason, and one of those batteries is ftplib:You can make the connect and login calls explicit instead of having the constructor do it for you if you need to do anything fancier than the usual… but in this case, you don't, so it's literally a one-liner.How to use FTP in Python looks like a nice tutorial.


Answer URL
