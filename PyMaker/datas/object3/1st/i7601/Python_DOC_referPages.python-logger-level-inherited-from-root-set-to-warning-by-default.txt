Natural Text
In my program I define a logger at the beginning that looks similar to this:I then have multiple files that are called from my main program. In order for them to work correctly I need to do the following:Why is the default level for all modules that I import set to warning. Why do I have to set the level again to DEBUG for each of them when they import my root logger with log = logging.getLogger(name)? Is this the best way to create a logging module accross a package with different modules or is there a better solution?
Let's start by looking at what Handler.setLevel does: Sets the threshold for this handler to lvl. Logging messages which are less severe than lvl will be ignored. When a handler is created, the level is set to NOTSET (which causes all messages to be processed).Any messages less severe than lvl are ignored.  Effectively, setting it to DEBUG is meaningless (unless you define your own log levels), because there is no less severe message than debug.  So, that means that the handler won't ignore any messages.setLevel is the right idea, but you're calling it on the wrong object.  Look at Logger.setLevel:Sets the threshold for this logger to lvl. Logging messages which are less severe than lvl will be ignored. When a logger is created, the level is set to NOTSET (which causes all messages to be processed when the logger is the root logger, or delegation to the parent when the logger is a non-root logger). Note that the root logger is created with level WARNING.The term ‘delegation to the parent’ means that if a logger has a level of NOTSET, its chain of ancestor loggers is traversed until either an ancestor with a level other than NOTSET is found, or the root is reached.If an ancestor is found with a level other than NOTSET, then that ancestor’s level is treated as the effective level of the logger where the ancestor search began, and is used to determine how a logging event is handled.You're creating the children right, but they're all children of the root logger.  They're level is set to NOTSET, and it propagates up to the root, whose default value is WARNING.  Consequently, you don't see any messages.TL;DR:The solution is simple: set the level on the logger, not the handler.  The following code should do what you need:Once you do that, you shouldn't need the setLevel call when making the children.Oh, and to answer your other questions: this is exactly the way you're supposed to use the logging library.  (I actually just log everything to the root logger, because I don't need the kind of granularity you developed, but when you have a case for it, you're doing it just as you should.)EDIT: Evidently, setLevel doesn't seem to work on the root logger.  Instead, before accessing the root logger, you have to set basicConfig.  Setting the level in logging.basicConfig will do what you need (at least, it worked in my tests).  Note, doing this matches the example given in Logging from multiple modules, so should solve your problem.


Answer URL
https://docs.python.org/3/library/logging.html#logging.Handler.setLevel
https://docs.python.org/3/library/logging.html#logging.Logger.setLevel
https://docs.python.org/3/howto/logging.html#logging-from-multiple-modules
