Natural Text
I have a .asc file which looks like this(x and y columns)  At the end of the file it has some string lines. So i plotting using matplotlib as                        Now if want to remove the last lines I can use lines[:-1], but: Is it possible to remove the last n lines without specifying the numbers. I mean if python can read how many lines has string and it will delete only those lines.   I don't want to delete these lines permanently. Just for plotting the data points i want to remove them. 
If you read the docs carefully you can see that,there is a optional parameter called as comment. What that means? It means read from the file yet skip those lines which are comments.Also you stated that,I don't want to delete these lines permanently. Just for plotting the data points i want to remove themSo you don't want to delete them, yet you don't want to use them. So change them to comments!my_file.asc:So logic is leaving out the numbers. Only convert lines that are strings into comments! How to do this use re.So what I'm doing is searching every line and if that line happens to start with string, then replace that line with '#'+line. (change it into a comment). So after this, this is how your my_file.asc would look,You got what you wanted after that it's pretty simple. The same as your code. Here is the complete solution working solutionI just added comments='#' and voila! you got what you wanted without deleting those lines.
I don't know how to do it with plotfile function but as I know plotfile uses function csv2rec (docs). In your case you can do the following:If converter function can't convert value to float it returns None. So data will have None values for all non-convertable items. After that you can filter it.
same as csv2rec (which is the function called under the hood), plotfile seems to accept file handles, in addition to file paths (although not explicitly mentioned here).If you can afford storing your file to memory (read: you're not working with gigantic files), you could use StringIO.StringIO (Python 2.7) or io.StringIO (Python 3).StringIO is a file-like object where you can copy the content of your file, while applying additional logic (ie. skip the footer lines). Once produced this new object, you can pass it to plotfile. Here's an example:


Answer URL
https://docs.python.org/3/library/io.html#io.StringIO
