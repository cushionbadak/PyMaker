Natural Text
Currently I've been spending around half an hour trying to figure out how to implement this script better. I've tried a few methods, but they didn't quite work.When running the script, the player glitches a bit, and sometimes the player can only move in the blocks once it comes in contact.
To handle collisions with walls, the easiest solution is to move the player rect or sprite along the x-axis first, check if it collides with a wall and then set its rect.right = block.left if we're moving to the right or rect.left = block.right if we're moving to the left. Afterwards you do the same with the y-axis. We have to do it separately, otherwise we wouldn't know the direction and how to reset the position of the rect.Here's an example:There were some other issues with your code that I need to address (even though codereview is offtopic (check out http://codereview.stackexchange.com/)):The most severe problem is that you call makelevel in your main loop, so you append more and more rects to the collidelist until you run out of memory. Create the list inside this function and then return and assign it to a variable above the while loop and just reuse it. It's also not necessary to define the checkline function inside of makelevel.Global variables can have a bad effect on the comprehensibility and maintainability of the code. Rather pass the needed variables to the functions that need them and return the results.Use enumerate instead of incrementing y and x by 1 in makelevel.


Answer URL
https://docs.python.org/3/library/functions.html#enumerate
