Natural Text
How can I write a unit test to confirm that inserting an invalid record fails with SQLAlchemy/Postgres? I'm currently doing this:But this fails when I try and add the invalid record (violating a Not Null constraint).
You could use assertraises if you are using unittest, see this previous answer: https://stackoverflow.com/a/28223420/5982697So something like:Assuming it raises an sqlalchemy.exc.IntegrityError. EDIT: capitalize the R


Answer URL
https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises
