Natural Text
How do I...1) Parse JSON objects from API queries in Python 32) Parse multiple requests into a list, and3) Output the list into a JSON file
I prefer using requests for all API programming. Here is a one-liner that fetches the results of several API calls, puts them in a list, and writes that list to a JSON file:Here is a complete test program:If you are allergic to requests for some reason, here is equivalent Python3 code, using only the standard library.
1a) Parsing JSON from API (Python 2) In Python 2 it was easier to implement JSON parsing:. 1b) Parsing JSON from API (Python 3) Python 3 dropped urllib2 and instead moved to a new standard for urllib:However the data returned from this function can't be processed in the same way as before. As the type is 'HTTPResponse' we must first read and decode it into something we can use.Now that we have a string, we can use the loads() function to process it into a valid JSON dictionary.Notice the difference between the json.load() and json.loads() functions..2) Parse multiple requests into listAppend to list as normal.3) Output to fileYou can add indentation for formatting purposes:


Answer URL
https://docs.python.org/3/library/urllib.request.html#module-urllib.request
