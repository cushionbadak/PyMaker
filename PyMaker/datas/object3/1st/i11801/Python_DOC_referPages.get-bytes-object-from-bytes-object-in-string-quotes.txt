Natural Text
I wanted to use Whoosh in my application and followed the tutorial here, which was written in 2011.When I try to unpickle data in this block:I get an error from the pickle.loads() command:When I check what '{0}'.format(r.get('cls')) returns, it is type str, but the value is "b'foo'". How do I get the bytes object out of the string? Encoding it just returns b"b'foo'".The values are pickled in this block:So if there is a way to fix it at the root, that would be better.
Just use r.get('cls'). Wrapping it in '{0}'.format() makes a bytes into str in the first place, which is not what you want at all. Same goes for when you wrap pickle.dumps (immediately converting the useful bytes it returns to the useless formatted version). Basically all of your uses of '{0}'.format() make no sense, because they make str when you're trying to  work with the raw data.


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.format
