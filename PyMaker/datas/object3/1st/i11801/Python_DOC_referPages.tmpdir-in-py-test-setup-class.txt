Natural Text
I use py.test for testing. In setup_class() I need to use tmpdir for my class constructor:And I have an error: I can't use setup_class(self, tmpdir).If I use this code:It's work, but I need tmpdir in my class constructor.How to do this?Thanks!UPDI try to do this:But I can't use scopes in fixture:ScopeMismatch: You tried to access the 'function' scoped fixture 'tmpdir' with a 'module' scoped request object, involved factories
I do this:
If you don't want to use @pytest.fixture(autouse=True) as @santon suggested, but you want to create a fixture outside TestMyClass (like you write in the UPD part), you can try this:If you don't want to return anything in a fixture, but for example go to a temp directory, you can also do:
You can use tempfile module to handle with temporary files and dirs. In setup you can create temp dir with mkdtemp and delete it at tearDown from test class.


Answer URL
https://docs.python.org/3/library/tempfile.html
https://docs.python.org/3/library/tempfile.html#tempfile.mkdtemp
