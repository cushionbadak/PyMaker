Natural Text
I'm developing a python script for an embedded system that sends data to ThingSpeak.To do this (and for studing python) I used the thread module and also the ThingSpeak module is used.Basically my script create 2 threads:One for sending data to ThingSpeak every 10 seconds.One to toggle a LED.Everything work except the publish on ThingSpeak. Note: the publish on thingSpeak without the thread works.I get this error: "TypeError: 'str' object does not support item assignment"I think that this error is related to the addition of threads.This is my code:Thanks for the help in advance.Best Regards,Federico
json.dumps() in your function ThingSpeak_Thread returns string (see docs). Then you pass this string to thingSpeakHandler.update() method, but it expects dict. So, remove jsonMessage = json.dumps(data) and pass data to update() instead.


Answer URL
https://docs.python.org/3/library/json.html?highlight=dumps#json.dumps
