Natural Text
My code determines if the contents of the file returns True or False and output the results to a .csv. I would like to write the filename also to the csv in the same row. Error messageCode
You are getting the error because you're trying to use a variable, vt_result_file, that is not in scope--it doesn't exist in the part of the script that you're trying to access it in. You are trying to use it here, presumably to loop over a set of files:but vt_result_file only exists in the vt_result_check function, which hasn't even been called when you try to use the variable in for i in range(vt_result_file).You're also duplicating work, as your vt_result_check function iterates through all the files in a directory, so you don't need to do the same thing to get the results.It looks as though your main function is also not working correctly, as you're iterating through the files, setting the contents to vt_data, but you only do further analysis on the last set of data:I think you probably want to run the analysis code on every file, and then save the result for each file. An easy way to do this is using a dictionary -- see https://docs.python.org/3/library/stdtypes.html#mapping-types-dict  Here's a suggestion for how to restructure your code:You can then print out your results as follows:
vt_result_file only exists as a local variable to vt_result_check, your error is saying this variable does not exist at the bottom of the file. Plus, (even though it doesn't matter) you are referring to that variable before you called the function that creates that variable. There is nothing you are looping over in the main function area. And your check function only returns a single value. Therefore, you can only write out one CSV rowEditRegarding your comment, you want something like this


Answer URL
https://docs.python.org/3/library/stdtypes.html#mapping-types-dict
