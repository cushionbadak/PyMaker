Natural Text
I'm new on Stack Overflow and I am hoping someone can please help me with the following code.I am trying to adapt a piece of code from the Ascher, Ravenscroft, and Martelli Python Cookbook. I would like to replace all words in Text containing a 'long-s' with the equivalent word spelled with a modern lowercase s using dictionary key:value pairs (all text is utf-8). I am able to build the dictionaries from existing tab-separated files without a problem (I am using a simple sample dictionary in the code for ease of editing), however I would like to complete all the changes in a single pass for speed and efficiency.  I have removed the map and escape parts of the code as I don't think the 'long-s' needs escaping (I could be wrong though!). The first section works fine, however the inner function one_xlat seems not to do anything.  It does not return/print Text at the end, and there is no error message. I have run the code in the command line and IDLE with the same result.  I have run the code with and without using map and escape, and I have renamed the variables just to be sure, but I cannot quite make it work. Would someone please be able to help?  Sorry if I'm missing something obvious and thank you very much in advance.Original Code from Ascher, Ravenscroft, and Martelli:The adapted version:
I would rewrite your code this way:Then you can get your new string with ''.join(new_s).Note: the pattern '\w+|\W+' only works in recent versions (3.1+) of Python with non-ascii text. You can also do split(r'(\W)', str) as an alternate, but I don't think that will work on Python 2 with utf-8. 


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.replace
