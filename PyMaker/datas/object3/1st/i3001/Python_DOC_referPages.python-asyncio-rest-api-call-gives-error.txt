Natural Text
I am trying to call a REST API async using asyncio but i keep getting the error "coroutine was never awaited" which i understand. But i want this behavior, i want my function to end just by posting and not waiting for the result. Here is my codeCan someone help?
If you just need to call the API, disregarding the result, you can use an Executor in another thread, which will not block the main thread.To run in an Executor, use AbstractEventLoop.run_in_executor() with an Executor from concurrent.futures.
For the current example, you need to have running loop somewhere (e.g. if you have some web-server or worker - loop.run_forever())Fixed code example with running loopExample with run_in_executor()Example with simple await (if you need to call API syncronously)But it is not necessary to use asyncio if you want to write synchronous code.Can you provide more verbose example of what you have and what you want to achive?
In your case, the main thread is running synchronously.So you need to run the asyncio loop in another thread Using asyncio.run_coroutine_threadsafe.


Answer URL
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.run_in_executor
https://docs.python.org/3/library/concurrent.futures.html
https://docs.python.org/3/library/asyncio-task.html#scheduling-from-other-threads
https://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example
