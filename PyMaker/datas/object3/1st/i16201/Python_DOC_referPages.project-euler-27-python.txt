Natural Text
Project Euler Problem #27 is as follows:Euler discovered the remarkable quadratic formula:n² + n + 41It turns out that the formula will produce 40 primes for the  consecutive values n = 0 to 39. However, when n = 40, 402 + 40 + 41 =  40(40 + 1) + 41 is divisible by 41, and certainly when n = 41, 41² +  41 + 41 is clearly divisible by 41.The incredible formula  n² − 79n + 1601 was discovered, which produces  80 primes for the consecutive values n = 0 to 79. The product of the  coefficients, −79 and 1601, is −126479.Considering quadratics of the form:n² + an + b, where |a| < 1000 and |b| < 1000where |n| is the modulus/absolute value of n e.g. |11| = 11 and |−4| =  4 Find the product of the coefficients, a and b, for the quadratic  expression that produces the maximum number of primes for consecutive  values of n, starting with n = 0.And this is my solution:I do not know why is it continuously throwing this error:Can anyone tell where and how is my program getting out of lists range? It's very abnormal. Why is this happening?
Let's see what happens if you want to see if 1000000 is a prime:None of the sieved primes is larger than 1000000 so your while condition is never fulfilled. First rule of Python is to never use while loop (except when you cannot use any other loop). Here you can easily replace it with for:But this is exactly what the in operator is set to replace:In addition for your isPrime reimplementing the Python core feature n in primes, theitem in list  gets slower than item in set as the number of items grows.Thus for fastest code with almost least typing you can do:__contains__ magic method of the set returns true if the given value is in the set - this is much faster using it directly than wrapping in operator in a function.
If isPrime(n) should return whether n is in the previously created list primes, then you can easily write:(Your solution fails, because your prime list is too short for n = 1000. The largest prime is 293, thus the while condition is always fulfilled. But after a while you want to compare primes[62] with n, which is out of range.)


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__contains__
