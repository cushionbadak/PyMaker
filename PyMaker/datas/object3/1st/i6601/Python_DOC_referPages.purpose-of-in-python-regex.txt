Natural Text
This question already has an answer here:Reference - What does this regex mean?                    1 answer                What is a non-capturing group? What does (?:) do?                    15 answers                I'm trying to create a function to capture phone numbers written in a canonical form (XXX)XXX-XXX or XXX-XXX-XXXX with additional conditions. This is my approachI was failing this test case '  (404)   555-1212  ' but another question of SO suggest me to replace \)?\s*|-? by (?:\)?\s*|-?) and it works. The problem is that I don't understand the difference between both nor the purpose of (?:...) further than create non-capturing groups. The docs aren't clear enough for me as well.https://docs.python.org/3/library/re.html
Consider a simpler example:which simply matches a (possibly empty) string of as and bs. The only difference between this andis that the matching engine will capture the first character matched for retrieval with the group method. Using a non-capture group is just an optimization to speed up the match (or at least save memory) when a capture group isn't needed.
You have an alternate token in the part you replaced. Alternate will match either what's before the token, or what's after. And since separating a regex into lines like you've done here isn't considered grouping, it would try to match not just what's before or after on the same line, but on the lines before and after as well.Grouping should instead be done by surrounding the group in parentheses, BUT by default this will also "capture" the group, meaning it will return the match as one of the groups when you call groups(). To specify that  it should not, you need to add ?:.


Answer URL
https://docs.python.org/3/library/re.html
