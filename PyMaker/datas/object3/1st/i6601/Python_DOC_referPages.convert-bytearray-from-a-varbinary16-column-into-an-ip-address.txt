Natural Text
I need to extract large amount of data from a HP Vertica database and save it to a file. I am using official ODBC driver from Vertica with pyodbc.This is what I have done so far:Then I read the dataMost of the fields are returned just fine - unicode text, numbers or datetimes. However for a field that stores IP Addresses I get the following:How do I convert it to text?Any help with be greatly appreciated!Thanks!
I see there's an accepted answer but... for all the others:If your data is in Vertica the very first thing to do is to check the fine SQL Reference Manual. In this case you will find a built-in function to convert IPv6 address represented as VARBINARY column to a string. Much simpler and much, much faster:
VARBINARY(16) is 128 bits, which is just the right size for an IPv6 address. The sample data decodes toand the "IPv4-mapped IPv6 addresses" subsection of the Wikipedia article on IPv6 (ref: here) says that such an address is an IPv4 address (32 bits) mapped into an IPv6 format (128 bits).We can generate those string representations above from the raw bytearray data using a function like this:Or, with Python3 we can use the ipaddress module:


Answer URL
https://docs.python.org/3/library/ipaddress.html
