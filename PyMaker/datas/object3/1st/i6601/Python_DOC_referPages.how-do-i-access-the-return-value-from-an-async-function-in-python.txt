Natural Text
If I try running the following code in Python, I get the following error:TypeError: object async_generator can't be used in 'await' expressionOn the other hand, the following code works (and throws a StopIteration, but this is expected):Why doesn't this work?I can make it work if I replace foo with:The problem here is that this seems weird enough that I'm pretty sure this isn't the recommended way of getting this behaviour. Then in most languages you just need async and await, not @coroutine too!
I'm assuming here that you are using asyncio library.I think that the use of the decorator @coroutine is suggested for compatibility reasons with async def functions, although this is not strictly enforced.asyncio.coroutine documentationAlso@asyncio.coroutine Decorator to mark generator-based coroutines. This  enables the generator use yield from to call async def coroutines, and  also enables the generator to be called by async def coroutines, for  instance using an await expression.There is no need to decorate async def coroutines themselves.


Answer URL
https://docs.python.org/3/library/asyncio-task.html#asyncio.coroutine
