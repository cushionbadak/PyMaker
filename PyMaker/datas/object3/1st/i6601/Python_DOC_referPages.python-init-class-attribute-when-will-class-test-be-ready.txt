Natural Text
First program in book fluent Python. I simplified the program.It didn't work, and if i usethen it worked.Why should I always use Test.a even in class Test?I learned java, and I don't have to do so.Also, here comes another problem.It didn't work. I searched on the site.And is the reason that:default arguments should be defined while function definition, not till being called?And since worked, so function content will be checked for valid till being called?Am I right?Class Test will be ready after #1, but before, I used Test.a, because it didn't check function content before being called. right?
Members like that need to be accessed like this: self.a (even in the __init__ method)
I learned java, and I don't have to do so.But if you compare Java with Python, you will notice that you will have to prefix self for every instance member, and you actually need your methods to take that self argument in all the time. So you cannot really expect Java behavior here.But just like with methods or instance variables, you can access class members using self as well:At runtime of __init__, self will refer to the instance of your Test type. So when you want to access anything on the instance, you need to do that on self. For class members, all its members are also visible on the instance (unless they are hidden by instance members), so self.a works just like Test.a works. You can also try this with your created instance t: t.a will also work even though there is no instance member a.
The reason is __init__ is executed on object creation; inside your __init__ function scope there is no a variable defined. How should it know you mean the a defined in the class?When stating Test.a you explicity tell python to use the class attribute. When you are using self.a Python uses the MRO lookup process to find the a attribute.


Answer URL
https://docs.python.org/3/tutorial/classes.html#classes
