Natural Text
Couldn't find any question related to this issue. I'm probably doing it the wrong way because I'm sure there must be an easier way to achieve this, but I couldn't figure it out yet.--> I'm trying to get a Python object from Jinja2 back to Python, so I can access its values back in Python.So I'm passing an array of users from Python(Flask) to a drop-down in HTML which looks like this:This works perfectly and I can select a user in the dropdown. Now I want to access the users user.address attributes back in Python. (of course these attributes are already defined in the user class).So I have a function like this in Python (Flask) which gets triggered when pressing a button:Now I'm getting the following error:"AttributeError: 'str' object has no attribute 'address'".I'm getting back the json as a string which looks like this:I should now probably create a dict out of this string/json and then access these values with ['address'], but somehow I couldn't figure out how. I tried it with json.dumps() which did not work, still the same error message. Also I figured there must be an easier/better way to achieve this. Any suggestions? (using Python 3.6.2)
If you get back json as a string you can use json.loads.This will output test. Please note that the string you posted is not Json. JSON strings must use double quotes.
ok, so I ended up with this solution:I only returned the ._id and not the whole instance of the user as follows:Jinja2/HTML:Then I just did a new query for the user in my database (I'm using MongoDB) using  its _id.Python 3.6:And then I could access it's attributes with user.address and so on. Works fine, but I'm not quite happy with the solution since I need to query the database again.So if anyone has a different approach, I'm glad to hear it :-)


Answer URL
https://docs.python.org/3/library/functions.html#repr
