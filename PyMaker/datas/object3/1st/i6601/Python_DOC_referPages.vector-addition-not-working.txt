Natural Text
I wrote this code to add vectors. At first glance it looks to be working properly, but I've found that in certain addition problems, vector addition order actually matters, which shouldn't happen. For example, given v1 = Vector(4, 127) v2 = Vector(3, 37) v3 = Vector(2, 290) v4 = Vector(6, 190), print(v1 + v2 + v3 + v4) yields a different result than print(v1 + v4 + v2 + v3)Can someone please point out my error and explain why it's wrong?
math.atan(x) only has a mathematical range (output) range of π (180°, half a circle). If any of your resulting vectors from addition are in quadrant II or III (x is negative), they will be rotated half-way around the circle.Use math.atan2(y, x) for the full possible range. That will also eliminate an error you'll get if you had a 90/270° vector that right now would cause a ZeroDivisionError.Other comments:Round once, when you want to output the value. It's a) more code to round everywhere, and b) less precise.Using natural units, i.e. radians, or cartesian coordinates internally, might be easier, while still accepting/outputting whatever you want.


Answer URL
https://docs.python.org/3/library/math.html#math.atan2
