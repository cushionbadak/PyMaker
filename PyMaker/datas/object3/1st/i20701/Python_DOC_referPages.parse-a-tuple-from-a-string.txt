Natural Text
Say I have a string that's of the same form a tuple should be, for example, "(1,2,3,4,5)". What's the easiest way to convert that into an actual tuple? An example of what I want to do is:Just running tuple() on the string make the whole thing one big tuple, whereas what I'd like to do is comprehend the string as a tuple. I know I can use a regex for this, but I was hoping there's a less costly way. Ideas?
It already exists!Be aware of the corner-case, though:If your input format works different than Python here, you need to handle that case separately or use another method like tuple(int(x) for x in tup_string[1:-1].split(',')).
You can parse your string without SyntaxErrorThis function return the Tuple if parse is success. Otherwise return None.
I would recommend using literal_eval.If you are not comfortable with literal_eval or want to have more control on what gets converted you can also disassemble the string, convert the values and recreate the tuple. Sounds more complicated than it is, really, it's a one-liner:This would throw a ValueError if any element (string) in the tuple is not convertible to int, like, for example the '1.2' in the string: '(1.2, 3, 4)'.The same can be achieved with regex:
We can also parse it by ourself.Let's say we have tuple returned by Python like below:Here're how we do itFirst, we keep reading the characters in the tuple string but stores the last left semicolon's position and how many semicolons we have meet (we can call it left semicolon level, as so for right semicolons), whenever we meet a right semicolon, we do things below:Take a substring from last semicolon to current right semicolon.(Inthis substring, there is no more semicolons, we just split it intoarray by ",". Let's say the new array is M)Then we append M to our result array, which array will stores allM.Thirdly, delete the substring we taken from the original string.    Finally, do the same things like step 1 till the right and left    semicolon's level comes to 0.JavaScript code is like below:


Answer URL
https://docs.python.org/3/library/re.html#module-re
