Natural Text
I'm trying to open several files from sys.argv inputs using a with statement.I know I can do it by manually typing out each one:But is there a way to do this without doing so, like the following pseudocode:
You can do this in Python 3.3+ with contextlib.ExitStack:Amusingly, the example in the documentation is exactly what you want.This correctly closes any open files upon exiting the with statement - even if something went wrong before they were all openFor earlier version of python, there is a backport in the contextlib2 package, which you can get through pip


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.ExitStack
