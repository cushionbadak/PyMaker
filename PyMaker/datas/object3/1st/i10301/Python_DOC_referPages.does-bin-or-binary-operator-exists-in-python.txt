Natural Text
In Python, the __oct__ and __hex__ operators exists to implement specific bahavior for oct() and hex(). See Emulating numeric typesBut I don’t understand why __bin__ (or __binary__) doesn’t exist, whereas bin() function exists in the built-ins. See Built-in Functions.Am I missing something? Any reason?Changes in Python 3I have found this reference Operators And Special Methods in "What’s New In Python 3.0":The oct() and hex() special methods are removed – oct() and hex() use index() now to convert the argument to an integer.
You can use object.__index__ to handle bin() calls in Python 2. From Python 3 onwards it works for hex() and oct() as well but not in Python 2.From Python 3 docs:object.__index__(self)Called to implement operator.index(), and whenever Python needs to  losslessly convert the numeric object to an integer object (such as in  slicing, or in the built-in bin(), hex() and oct() functions).  Presence of this method indicates that the numeric object is an  integer type. Must return an integer.It is not documented(clearly) in Python 2 but works there as well:The CPython code for bin() internally calls PyNumber_ToBase which in turn calls PyNumber_Index and this function invokes the nb_index slot on that object.


Answer URL
https://docs.python.org/3/reference/datamodel.html?#object.__index__
https://docs.python.org/3/reference/datamodel.html?#object.__index__
