Natural Text
I want to subclass list to add some function to it, for example, my_func. Is there a way to do this without copying the whole list, i.e. make a shallow copy, on the creation of the MyList object and let MyList reference the same list as the one used to construct it?
Pretty sure this isn't possible with a list subclass. It is possible with a collections.UserList subclass (simply UserList in Python 2):The fact that UserList exposes a data attribute containing the actual list instance makes it easy for us to replace it with the iterable it and essentially just drop the supplied argument there and retain the reference:By initializing as you did: and then mutating:The data attribute referencing l1 is, of course, mutated:


Answer URL
https://docs.python.org/3/library/collections.html#collections.UserList
https://docs.python.org/3/library/collections.html#collections.UserList.data
