Natural Text
I'm trying to figure out how to copy CAD drawings (".dwg", ".dxf) from a source directory with subfolders to a destination directory and maintaining the original directory and subfolders structure.Original Directory: H:\Tanzania...\Bagamoyo_Single_line.dwgSource Directory: H:\CAD\Tanzania...\Bagamoyo_Single_line.dwgI found the following answer from @martineau within the following post: Python Factory FunctionUpdated: 18:21. The following code works as expected, except that I'd like to ignore folders that don't contain any include_patterns('.dwg', '.dxf')
shutil already contains a function ignore_pattern, so you don't have to provide your own. Straight from the documentation:This will copy everything except .pyc files and files or  directories whose name starts with tmp.It's a bit tricky (and not strictly necessairy) to explain what's going on: ignore_patterns returns a function _ignore_patterns as its return value, this function gets stuffed into copytree as a parameter, and copytree calls this function as needed, so you don't have to know or care how to call this function _ignore_patterns. It just means that you can exclude certain unneeded cruft files (like *.pyc) from being copied. The fact that the name of the function _ignore_patterns starts with an underscore is a hint that this function is an implementation detail you may ignore.copytree expects that the folder destination doesn't exist yet. It is not a problem that this folder and its subfolders come into existence once copytree starts to work, copytree knows how to handle that.Now include_patterns is written to do the opposite: ignore everything that's not explicitly included. But it works the same way: you just call it, it returns a function under the hood, and coptytree knows what to do with that function:


Answer URL
https://docs.python.org/3/library/shutil.html
