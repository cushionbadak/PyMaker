Natural Text
I apoligise now, my programming habits aren't very good. I have modified the basic pyDes code from thier website:When I run the program, the encryption works fine, however, the decryption throws the error:Sorry if this is really annoying and simple :-(
The problem appears to be your use of str(...)[2:-1] to convert a bytes value to a string.Perhaps you settled on using this after trying the following codeand finding that it reports the error TypeError: Can't convert 'bytes' object to str implicitly.One thing to note about the output of the encrypt and decrypt methods (and the inputs as well, for that matter) is that they use bytes objects, not strings (str).  What you are doing is taking the bytes object that comes back from a call to data.encrypt, converting it to a string using str (which isn't the right way to do this) and then attempting to decrypt your string rather than the bytes value you got back from encrypt.What you need to be doing instead is converting the text to be encrypted into a bytes object, using the encode method of a str, before you pass this to data.encrypt.  You'll need to specify a character set to do this encoding in, such as utf-8.  Once you get the output back from decrypt,  convert it back to a string using the decode method of a bytes object.The encrypted data, however, isn't likely to be readable in any character set.  (It's quite likely not to be well-formed UTF-8, so don't try converting it into that.)  If you want to take a look at what it looks like, perhaps the best thing to do is to use the built-in repr function, but only use that when printing the value.After making these changes, here's what the last few lines of your code look like:Here's the output from a sample run:The \xNN sequences within the encrypted data are how Python displays individual bytes within a bytes object that aren't in the ASCII range.


Answer URL
https://docs.python.org/3/library/functions.html#repr
