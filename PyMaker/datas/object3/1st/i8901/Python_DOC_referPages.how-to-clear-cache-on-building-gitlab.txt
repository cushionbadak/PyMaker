Natural Text
Gitlab can't clean my cache on building.How to fix this problem?Executor: shell   
Luckily I was having the exact same issue as you (I think).A little background:I was using gitlab ci to build using a remote runner (shell) that  would build a docker image and then run some tests.Cause:I was mounting a local directory inside the container by passing the -v flag to docker run (there are other ways to do this with compose yml for example).Because the docker container runs as root the generated __pycache__ directories and files are owned by root on the local filesystem; This means that docker-runner does not have permission to delete them on the next build.The solution:Remove the mount and copy the files instead.
I workaround by not let python create *.pyc fileshttps://docs.python.org/3/using/cmdline.html#envvar-PYTHONDONTWRITEBYTECODE


Answer URL
https://docs.python.org/3/using/cmdline.html#envvar-PYTHONDONTWRITEBYTECODE
