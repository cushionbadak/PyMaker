Natural Text
In addition to pre-existing warning categories, users can define their own warning classes, such as in the code below:When invoking Python, the -W flag controls how to filter warnings.  But when I try to get it to ignore my freshly minted warning category, I'm told the filter is ignored:How can I use the commandline to insert a filter for custom warning categories (as opposed to all UserWarnings or filtering based on the warning message, which I can do)?Edit 2018-11-29: See Issue 22543: -W option cannot use nonstandard categories
Some of the answers lie in python source code. Look at the _getcategory function:https://github.com/python/cpython/blob/3.5/Lib/warnings.py#L147Python tries to eval your category or to import it from module you specify in filter. And that will fail, unless you have your module in PYTHONPATH.This way, if you import your module in python shell warning would be filtered as you wish.To use filter in commandline, you must define your warning in separate module, other than that you execute.mwe.pyentrypoint.pyAnd finally:I don't understand why defining separate module with warning works, but it is. May be someone will explain it.


Answer URL
https://docs.python.org/3/library/warnings.html#warning-categories
