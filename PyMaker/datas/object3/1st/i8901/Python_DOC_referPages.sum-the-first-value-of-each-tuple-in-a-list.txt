Natural Text
I want to add the first value in the tuple having the same second value. I have written the code, but i am not able to find my mistake. Any ideas ??
__setitem__ returns None, also your logic is wrong too. You need to categorize your items based on the second value then sum their first value up.You can use collections.defaultdict() for categorization:You could also use itertools.groupby() within a dictionary comprehension:Note that if your list is not sorted based on second item you need to sort it based on that second item before passing to groupby() function. (In that case this solution would be so inefficient against the defaultdict one)
Kasramvd already has you covered as for why your approach doesn't work. You could use itertools.groupby to group by second tuple elements, then sum the first elements with operator.itemgetter. Evidently if your list wasn't sorted by second tuple elements as it currently is, you would have to sort first. Demo


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
https://docs.python.org/3/library/operator.html#operator.itemgetter
