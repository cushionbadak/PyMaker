Natural Text
I'm trying to run a script from the Django shell using the Django-extension RunScript. I have done this before and but it refuses to recognize my new script:While running any other script works fine:I have double checked that the file exists, including renaming it to something else. I have also tried running the command with non-existent script names:and the error is the same.Why can't RunScript find my file?
RunScript has confusing error messages. It gives the same error for when it can't find a script at all and when there's an import error in the script.Here's an example script to produce the error:The example has the only stated requirement for scripts, namely a run function.Save this as test_script.py in a scripts folder (such as project root/your app/scripts/test_script.py). Then try to run it:Which is the same error as the file not found one. Now outcomment the import line and try again:As far as I know, the only way to tell the errors apart is to use the verbose (-v2) command line option and then look at the first (scroll up) error returned:where we can see the crucial line:The commonality of the errors seems to be because the extension runs the script using import. It would be more sensible if it first checked for the existence of the file using os.path.isfile and if not found, the threw a more sensible error message.
I had the same issue. I spend an hour to find out what is the problem. However, the solution is very simple. In my case, I had the following modules imported in my script. I was using virtualenv and I forgot to install openpyxl.I have installed opnepyxl using pip.pip install openpyxlSo please make sure all of your imported modules are installed.Hope that will help.


Answer URL
https://docs.python.org/3/library/os.path.html
