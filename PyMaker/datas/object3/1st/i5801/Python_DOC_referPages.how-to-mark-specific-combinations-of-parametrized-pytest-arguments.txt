Natural Text
According to the pytest documentation, I can generate combinations of multiple parametrized arguments as follows:I can also apply marks to individual parameters as such:Is there a reasonable way to combine the two methodologies and apply a mark to a particular combination of parameters? For instance, can I apply a pytest.mark.xfail ONLY to the test_foo instance that gets generated with x==0 and y==2?
The approach I prefer is to generate my arguments through a simple helper function. Have a look at the following example:It still uses a single parametrize decorator, but it comes fairly close to what you want and is easy to read and understand.EDIT (1): You can actually implement the helper function as a generator. The following works just fine:EDIT (2): Since it has been asked in the comments, this can actually be generalized for an arbitrary number of parameters and does not conflict with fixtures. Check the following example:(Thanks to yield from, this is Python 3.3 and above only.)


Answer URL
https://docs.python.org/3/whatsnew/3.3.html#pep-380
