Natural Text
Python recommends using raw strings when defining regular expressions in the re module. From the Python documentation:Regular expressions use the backslash character ('\') to indicate special forms or to allow special characters to be used without invoking their special meaning. This collides with Python’s usage of the same character for the same purpose in string literals; for example, to match a literal backslash, one might have to write '\\' as the pattern string, because the regular expression must be \, and each backslash must be expressed as \ inside a regular Python string literal.However, in many cases this is not necessary, and you get the same result whether you use a raw string or not:Yet, in some cases this is not the case:And you must escape the special characters when not using a raw string:My question is why do the non-escaped, non-raw regex strings work at all with special characters (as in command [2] above)?
The example above works because \s and \d are not escape sequences in python.  According to the docs: Unlike Standard C, all unrecognized escape sequences are left in the string unchanged, i.e., the backslash is left in the string. But it's best to just use raw strings and not worry about what is or isn't a python escape, or worry about changing it later if you change the regex.
It is because \s and \d are not escape sequences:So, they are treated literally as \s and \d.  \1 however is an escape sequence:This means that it is being interpreted as ☺ instead of \1.For a complete list of Python's escape sequences, see String and Bytes literals in the documentation.


Answer URL
https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals
