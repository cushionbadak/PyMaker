Natural Text
How do I mock.patch a plain dictionary {} ?I would like to check if the  headers is set to {'Content-Type': 'application/jsonâ€™}.The following unit test seems to successfully patch dict. But I have a {}, which I need to patch.I suppose an alternative way would be to mock patch taskqueue.Task() and compare if it was called with headers= {'Content-Type': 'application/json'} as a parameter.
The headers you seek to mock are constructed within the method you are testing, so mocking the taskqueue.Task call would be much easier. If you were passing the header dict into the method then you could just hold onto a copy and check that it has been updated as you expect.You can use patch.dict to mock a dictionary:


Answer URL
https://docs.python.org/3/library/unittest.mock.html#patch-dict
