Natural Text
It seems the original post was too vague, so I'm narrowing down the focus of this post.  I have an XML file from which I want to pull values from specific branches, and I am having difficulty in understanding how to effectively navigate the XML paths.  Consider the XML file below.  There are several <mi> branches.  I want to store the <r> value of certain branches, but not others.  In this example, I want the <r> values of counter1 and counter3, but not counter2.From that I would like to build a tuple with the following:('20140126234500.0+0000', 58, 7)where 20140126234500.0+0000 is taken from <cbt>, 58 is taken from the <r> value of the <mi> element that has <mt>counter1</mt> and 7 is taken from the <mi> element that has <mt>counter3</mt>.I would like to use xml.etree.cElementTree since it seems to be standard and should be more than capable for my purposes.  But I am having difficulty in navigating the tree and extracting the values I need.  Below is some of what I have tried.From a pseudo code standpoint, what I am wanting to do is:I'm not clear when to use element.iter() or element.findall().  Also, I'm not having the best of luck with using XPath within the functions, or being able to extract the info I'm needing.Thanks,Rusty
Starting with:Now tree has the xml tree and xml_dict will be the dictionary you're trying to get the result.The counters are in 'mi':At this point, xml_dict is:Some shortening, though possibly not as read-able: the code in the for elem in tree.findall('mi'): loop can be:Or further, building the xml_dict can be done in just two lines with the counters first and cbt after:Edit:From the docs, Element.findall() finds only elements with a tag which are direct children of the current element.find() only finds the first direct child.iter() iterates over all the elements recursively.


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html#finding-interesting-elements
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.findall
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.iter
https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml
