Natural Text
I have generated a very large dictionary after processing an XML file, and I am looking extract from this dictionary and to insert columns and values into my mySQL database table.I am using Python 3.The dictionary is nested; here's a simplistic example of what I have:Essentially I want to iterate over each primary Key in this dictionary (e.g. Test1,Test2,Test3) and extract the secondary keys as a column name tuple and the associated seconday key values as a values tuple, a bit like this:On iterating over each primary key I will add the two tuples to my mySQL table using this command:Then repeat the process on the next primary key ('Test2').I have made an initial attempt, but have hard coded the Primary key in this instance:
You can iterate over d.values() and use the .keys() and .values() methods on the nested dictionaries to get the columns and values:Note that in Python 3 dict.keys() and dict.values() return views of the dictionaryâ€™s keys and values (unlike lists in Python 2).
Iterating over a dictionary actually iterates over the keys. for k in d: is equivalent to for k in d.keys():. You are looking for the values or items methods, which will actually return the key and the value as a tuple:orI would recommend using items over values since that way you will have a reference to which primary key (test) you are processing. I am going to go out on a limb here and guess that you will need this for the non-trivial version of your program.From there, you use v as you are trying to use d[...], since that is exactly what it is:Since v is a nested dictionary, you can get the number of elements in both cols and vals as just len(v).


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.keys
https://docs.python.org/3/library/stdtypes.html#dict.values
https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects
