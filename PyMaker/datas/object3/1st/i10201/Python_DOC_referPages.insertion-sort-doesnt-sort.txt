Natural Text
I have attempted to create an insertion sort in python, however the list returned is not sorted. What is the problem with my code?Argument given: [3, 2, 1, 4, 5, 8, 7, 9, 6]Result: 213647589Python code:
You need to change sorted_list.insert(j-1, i) to be  sorted_list.insert(j, i) to insert before position j. insert(j-1, ..) will insert before the previous element, and in the case where j=0 it'll wrap around and insert before the last element. The Python data structures tutorial may be useful. 
As Efferalgan & tzaman have mentioned your core problem is due to an off-by-one error. To catch these sorts of errors it's useful to print i, j and sorted_list on each loop iteration to make sure they contain what you think they contain.Here are a few versions of your algorithm. First, a repaired version of your code that fixes the off-by-one error; it also implements Efferalgan's suggestion of using .append if an insertion position isn't found.Here's a slightly improved version that uses an else clause on the loop instead of the posfound flag; it also uses slice assignment to do the insertion.Finally, a version that uses enumerate to get the indices and items in sorted_list rather than a simple range loop.
As often, it was a off-by-one error, the code below is fixed. I also made some parts a bit prettier.


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#data-structures
