Natural Text
I working with bigrams and unigrams. My bigrams are a counter of tuples and my unigrams are a list, where I am trying to do the follwingThe following error occurs:I am confused.  Why should this be a problem? uni is essentially a hash, its key values are strings. How can I access u[key]?edit: full code
I tried your code and got a KeyError: '' which happens because your initial bigram has an empty string at position 0 and '' is not in your unigrams dictionary. I didn't see a TypeError so that may be from somewhere else in your code. That said, various other comments: You seem to understand what a collections.Counter does, but you're haphazardly trying to do it yourself while building uni -- you can replace your first chunk of code with:unigrams = Counter(sp)You can use zip to iterate over pairs and construct your bigrams that way, instead of DIY looping it, which also gets rid of your '' issue:bigrams = Counter(zip(sp, sp[1:]))So your code becomes:
You are making the mistake of using a tuple when you perhaps need a dictionary. As the error message state, tuples cannot be indexed by a string key - you are expected to use numeric indices.A dict will let you use string keys as you appear to want to.Your updated code gives a much better idea of what you are doing. You start by creating a dict of word counts in uni. I think the line that readsshould in fact readbecause when that branch is executed you are detecting the first occurrence of a word. Next you create a list of bigram tuples in big, and then you count those bigrams.I get a bit lost with the final for loop, though, where  b will be the key of a Counter item and countB to be the count. So key will be the first word of the bigram, and uniCount will be the number of times that word appeared in the corpus. Having established these value you then proceed to do nothing with them, and move on to the next most common bigram.Perhaps it's time to do some printing in that final loop? The code as published otherwise looks reasonable.
I have executed your code with corpus = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore" since you said the error was a related to uni being a tuple but it actually is a dictionary.The error I got is different, it is a KeyError on uniCount=uni[key] because you are creating a list of tuples (previous word, word) and the first word of corpus has previous word set as an empty string (prev='' is the initial state). The key at the uniCount=uni[key] line is equal to the first item of the tuple (key=b[0]) so as there is no key '' in the uni dictionary it is throwing a KeyError.You may want to get the word, not the previous word of the tuple to be the key used in uni.


Answer URL
https://docs.python.org/3/library/functions.html#zip
