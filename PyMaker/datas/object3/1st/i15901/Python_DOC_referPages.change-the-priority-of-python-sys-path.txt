Natural Text
How can I change the priority of the path in sys.path in python 2.7?I know that I can use PYTHONPATH environment variable, but it is what I will get:/tmp is added between /usr/lib/python2.7/dist-packages and /usr/lib/python2.7.My goal is to make python to load packages from /usr/local/lib/python2.7/dist-packages first.Here is what I want:If I install python-numpy by apt-get install python-numpy. Python will try to load from /usr/lib/python2.7 and not the one I compiled.
As you may know, sys.path is initialized from:the current directoryyour PYTHONPATHan installation-dependent defaultHowever unfortunately that is only part of the story: setuptools creates easy-install.pth files, which also modify sys.path and worst of all they prepend packages and therefore totally mess up the order of directories.In particular (at least on my system), there is /usr/local/lib/python2.7/dist-packages/easy-install.pth with the following contents:This causes /usr/lib/python2.7/dist-packages to be prepended even before your PYTHONPATH!What you could do is simply change the 2nd line in this file toand you will get your desired priority.However beware this file might be overwritten or changed again by a future setuptools invocation!
We encountered an almost identical situation and wanted to expand upon @kynan's response which is spot-on.  In the case where you have such an easy-install.pth  that you want to overcome, but which you cannot modify it (say you are a user with no root/admin access), you can do the following:Set up an alternate python installation schemee.g. we use a PYTHON HOME install (setting PYTHONUSERBASE)Create a user/home site-packagesYou can do this by installing a package into the user env: pip install <package> --user Create a pth to set sys.__egginsert to workaround the system/distribution easy-install.pthCreate a $PYTHONUSERBASE/lib/python2.7/site-packages/fix_easy_install.pthContaining: import sys; sys.__egginsert = len(sys.path);This will set sys.__egginsert to point to the end of your sys.path including your usersite paths.  When the nefarious system/dist easy-install.pth will then insert its items at the end of the system path.


Answer URL
https://docs.python.org/3/install/#alternate-installation
