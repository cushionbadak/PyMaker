Natural Text
I am having some issues getting a script to run. This works perfectly from command line:However when I use this script:    #!/usr/bin/env pythonIt spawns both tcpdump processes on the remote host and the second tcpdump fails to save due to non working path. I added a print cmd at the end and the ssh command being passed to the prompt is exactly the same (when running the script itself, cuckoo passes a ton of options when it calls the script. Also it gets the -w - before the -i eth0, but I tested that and it works from command line as well).So I am thoroughly stumped, why is the pipe to local not working in the script but it works from prompt?Oh, and credit for the script belongs to Michael Bomanhttp://blog.michaelboman.org/2013/02/making-cuckoo-sniff-remotely.html
So I am thoroughly stumped, why is the pipe to local not working in the script but it works from prompt?Because pipes are handled by the shell, and you're not running a shell.If you look at the docs, under Replacing Older Functions with the subprocess Module, it explains how to do the same thing shell pipelines do. Here's the example:So, in your terms:


Answer URL
https://docs.python.org/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module
