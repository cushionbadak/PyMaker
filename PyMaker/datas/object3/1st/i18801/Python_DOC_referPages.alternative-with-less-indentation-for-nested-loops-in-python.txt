Natural Text
I was using this code with some actual coding that requires all of the variables in the enclosing loops. I was thinking that if the range over which iteration has to take place is same there has to be a another way with less indentation and same access to all the variables.Is there an alternative to such nested loops which hasless indentationaccess to the variable in the same order in the enclosed scopeThe code:The timing resultsEDIT2:After Lattyware suggested that instead of using time module I should use timeit module I got these resultsThe new code:New timings:These show that Lattyware's code is better.
Assuming that (as in your example) the loops are all independent of the parent loops, You want itertools.product().Here I use the repeat keyword argument as shorthand, as in your example, the iterables were all the same, but you can also pass it multiple iterables if your iterables are not all the same.It will also be more efficient than many nested loops. Do note that there is likely a better solution to your problem - as iterating with so many nested loops is likely to be a huge amount of iteration, and therefore very slow.Alternatively, if your loops rely on their parent loops or the like (and as such product() isn't suitable), you can define functions to take some of the heavy nesting and abstract it out.This will perform worse than product(), and is less readable, but may be necessary, depending on the situation. Naturally you can use as many functions as needed where needed to reduce the nesting as much as needed.As a final note, I assume that you are using ranges as a simple example, but if you are planning to loop over data structures using indices, don't! It's hard to read, inflexible and slow. Loop directly over the data structure itself - these methods will work fine (in fact, better) that way.


Answer URL
