Natural Text
When returning/yielding chunks of binary data, is it more idiomatic to return bytes or bytearray?My function accumulates data in a bytearray and currently returns bytes(myarray). Are there any reasons for or against returning just the bytearray directly? In particular, if a function expects bytes and gets bytearray, are there any possible pitfalls (as long as it doesn't check the actual type)?According to the documentation of bytearray:It has most of the usual methods of mutable sequences, described in Mutable Sequence Types, as well as most methods that the bytes type has, see Bytes and Byte Array Methods.(My emphasis.) This suggests that bytearray can be used in any place that where bytes is expected.
They are not interchangeable for every possible case. Some code may use type checking and they have different types. Like their names, types are bytearray and bytes.After question edit:The only difference is that bytes is an immutable version of bytearray.So, bytearray can be used in any place where bytes is expected.


Answer URL
https://docs.python.org/3/library/collections.abc.html#collections.abc.ByteString
