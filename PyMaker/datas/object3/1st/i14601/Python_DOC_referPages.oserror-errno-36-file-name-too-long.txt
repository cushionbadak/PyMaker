Natural Text
I need to convert a web page to XML (using Python 3.4.3). If I write the contents of the URL to a file then I can read and parse it perfectly but if I try to read directly from the web page I get the following error in my terminal:File "./AnimeXML.py", line 22, in           xml = ElementTree.parse (xmlData)        File "/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/xml/etree/ElementTree.py", line 1187, in parse          tree.parse(source, parser)        File "/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/xml/etree/ElementTree.py", line 587, in parse          source = open(source, "rb")      OSError: [Errno 36] File name too long:My python code:Is there any way I can fix my code so that I can read the web page directly into python without getting this error?
As explained in the Parsing XML section of the ElementTree docs:We can import this data by reading from a file:Or directly from a string:You're passing the whole XML contents as a giant pathname. Your XML file is probably bigger than 2K, or whatever the maximum pathname size is for your platform, hence the error. If it weren't, you'd just get a different error about there being no directory named [everything up to the first / in your XML file].Just use fromstring instead of parse.Or, notice that parse can take a file object, not just a filename. And the thing returned by urlopen is a file object.Also notice the very next line in that section:fromstring() parses XML from a string directly into an Element, which is the root element of the parsed tree. Other parsing functions may create an ElementTree.So, you don't want that root = tree.getroot() either.So:


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html#parsing-xml
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.fromstring
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.parse
https://docs.python.org/3/library/urllib.request.html#urllib.request.urlopen
