Natural Text
I made a big mistake, when I choose the way of dumping data;Now I have a text file, that consist ofHow can I read it into python?edit:I have tried json,when I add at begin and at end of file curly-braces manually, I have "ValueError: Expecting property name:", because "13234134" string maybi invalid for json, I do not know how to avoid it.edit1
Consider simply rewriting it to something that is valid json. If indeed your bad data only contains the format that you've shown (a series of json structures that are not comma-separated), then just add commas and square braces:Output:
It looks like what you have is an undelimited stream of JSON objects. As if you'd called json.dump over and over on the same file, or ''.join(json.dumps(…) for …). And, in fact, the first one is exactly what you did. :)So, you're in luck. JSON is a self-delimiting format, which means you can read up to the end of the first JSON object, then read from there up to the end of the next JSON object, and so on. The raw_decode method essentially does the hard part.There's no stdlib function that wraps it up, and I don't know of any library that does it, but it's actually very easy to do yourself:So, instead of doing this:… you do this:Or, if you want to combine all the objects into one big list:


Answer URL
https://docs.python.org/3/library/json.html#json.JSONDecoder.raw_decode
