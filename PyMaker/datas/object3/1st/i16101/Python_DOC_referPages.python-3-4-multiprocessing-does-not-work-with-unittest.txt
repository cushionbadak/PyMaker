Natural Text
I have an unittest which is using multiprocessing.After upgrading from Python 3.2 to Python 3.4 I get following error.I can't find a hint, what was changed inside Python and what I have to change, to make my code running.Thanks in advance. Following a sample code, how I can reproduce the error:
The problem is that the unittest.TestCase class itself is no longer pickleable, and you have to pickle it in order to pickle one of its bound methods (self.f). An easy workaround would be to create a separate class for the methods you need to call in the child process:Alternatively, you use __setstate__/__getstate__ to remove the object from the TestCase that's unpickleable. In this case, it's an internal class called _Outcome. We don't care about it in the child, so we can just delete it from the pickled state:


Answer URL
https://docs.python.org/3/library/pickle.html#object.__getstate__
