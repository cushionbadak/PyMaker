Natural Text
I have a class that wraps around python deque from collections. When I go and create a deque x=deque(), I create a empty deque object. So if I fill it up: x.append(0) and simply type in x on the console, i get:My question is how can I output the same thing as above when I have a wrapper for class deque. For example.IeI want to customize what gets printed out as oppose to just a memory location. What can I do?
I want to customize what gets printed out as oppose to just a memory location. What can I do?This is exactly what __repr__ is for:Called by the repr() built-in function to compute the “official” string representation of an object. If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value (given an appropriate environment). If this is not possible, a string of the form <...some useful description...> should be returned.Because you didn't define a __repr__, you're getting the default implementation from object (assuming Python 3… otherwise, you've written a classic class, which is a bad idea, and you don't want to learn how they get their defaults when you can just stop using them…), which just returns that string with the object's type name and address.Note the __str__ method below __repr__ in the docs. If the most human-readable representation and the valid-Python-expression representation are not the same, define both methods. Otherwise, just define __repr__, and __str__ will use it by default.So, if you want to print the exact same thing as deque, just delegate __repr__:If you want to wrap it in something:Note that I didn't call repr in the second version, because that's exactly what !r means in a format string. But really, in this case, you don't need either; a deque has the same str and repr.
Delegate the generation of the representation.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__repr__
https://docs.python.org/3/library/functions.html#repr
