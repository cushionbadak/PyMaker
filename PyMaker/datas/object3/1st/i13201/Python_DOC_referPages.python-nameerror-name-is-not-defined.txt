Natural Text
I am currently expanding by python skills by programming a procedurally generated dungeon level in text format. I am confused as to why my "intersects" define is not working. Here is the class containing the def:Here is where it's called:Full traceback:I hope someone can help me understand why this code won't work, thank you.I have managed to fix the problem. I'm sorry if my question was not defined very well. I have only been learning Python for around 4 weeks and i am used to Java which has a very different syntax. Here is my solution:
As most previous comments have said, you use global variables that shouldn't be global at all.The way I understand your code, you meant for x1, x2, y1 and y2 to be attributes of your Room instance, meaning that each room has its own values for x1, x2, y1 and y2. In Python you don't have to declare attributes at the beginning of the class (where you declare all the global variables), you simply need to initialize the attributes in the __init__ method.This means that you can safely delete all the global lines, and change your __init__ to(note that you don't need math.floor since you're already dealing with integers, simply use the integer division operator //)That way you define x1, y1, x2, y2, w, h and center as attributes of your class meaning that each instance has its own values for these variables. In Python, you need to add self. before all calls to attributes of the object itself, so you should also modify intersects to add self. before each access to an attribute of your current object (all the x1, x2, etc. that are not already prefixed by room. in your code).Also, while we're at it I don't think your intersect function works as intended, but that's another problem :)


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#the-global-statement
