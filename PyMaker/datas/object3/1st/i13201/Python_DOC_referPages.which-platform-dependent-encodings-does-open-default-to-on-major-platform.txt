Natural Text
According to the manual, the default input and output encoding of open() is "platform dependent", and usually given by locale.getpreferredencoding(). But what exactly (or approximately) are these platform-dependent defaults? Edit: A useful answer might be in the form of a list of configurations (presumably a combination of OS and some language/localization settings) and the resulting default encoding.I'm not expecting a complete reference, but I would like to know what to expect, and what factors to look into, when one of my students stumbles on code that I can run without incident (my box defaults to utf-8). Ideally I can say in advance "If your system is set up like X, you should do Y".I've looked at the source of getpreferredencoding() and I can see that a number of environment variables are checked, but I don't have a menagerie of different machines to test by hand-- and I don't know what factors going into the setting of all these environment variables. My students are from a variety of nationalities (but mostly Dutch), and use PCs, Macs, and Chromebooks. Is anyone here able to offer an overview of what I can expect?
I think on Windows it would be the current code page, often labelled as ANSI. That's the codec you get on Windows if you specify the name 'mbcs'.However for most practical purposes you should assume the text files will just have some random encoding. I don't think it's useful to dig into the details of locale.getpreferredencoding(). If I'm not mistaken, you can override that default in your script anyway.I don't know what you're going to do with those text but if you're going to get files in all those different encodings, know there is no reliable way of finding out that encoding.If you want to inspect those files one by one by trial-and-error then go ahead, but I would just avoid the problem by telling the students to submit in a set encoding, eg. UTF-8. It's easy enough to open files using open(blabla, 'w', encoding='utf-8').


Answer URL
https://docs.python.org/3/library/functions.html#open
