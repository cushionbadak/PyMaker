Natural Text
I need to generate all combinations of a matrix in Python. The input will be two integers n and m, and I need to generate all possible states of that matrix with 1 and 0 as possible values.For example:Is there a clean and efficient way to do this given I will not know the values for n and m until runtime? The highest value used will be n = 16  m = 16.
One way is by generating all binary sequences of length m*n in a list comprehension, and reshaping them into a (m,n) shaped nested list on each iteration. A simple way to generate all sequences is by taking the cartesian product of 01 with n*m repeats, which will be produce 2^(m*n) combinations: Output 
If you want all matrices at once, just produce flat lists using itertools.product and numpy.reshape them:With the output for 2x2:Note that for n, m = 16, 16 there are 2**(16*16) combinations, which is about 10**77, so much too large to fit into memory. In that case you probably have to process each matrix on its own:Which you can use like this:


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.product
