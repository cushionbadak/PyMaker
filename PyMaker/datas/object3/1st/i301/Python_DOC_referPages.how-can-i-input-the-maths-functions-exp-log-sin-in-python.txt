Natural Text
When I run the following code :and then I input : math.sin or cos or pi or log .... of a number like : sin(2) ,I get this error :
You can get an answer by combining comments from @Walter Tross and @wwii. How to fix the problem if you want users to be able to enter code that will be evaluated with the result stored in x, you should use:P.S. You will need to put quotation marks around the user input.P.P.S. Your user can put in basically any code to be executed using this input.To get to the why, you are giving python commands and expecting it to evaluate what you said and store it in x. You are giving words to python and not giving it a way to convert them to numbers. It'd be the same as typing into your terminal 2 plus 2. The words don't mean anything unless you have some kind of compiler.
It is difficult for you to write a program to understand and evaluate expressions, especially ones that include functions like sin or sqrt. However, if you are sure that the user of your program is safe (and that is usually a bad assumption), you can get Python to do the evaluation using the built-in eval function. You could try this:Then, if you run this program and the user types math.sin(2), the program printswhich is the correct value of the sine of two radians.NOTE: This little program will allow the user to type any valid Python expression then evaluate it. If the user knows how, he could use this to format the hard drive and wipe out all your data or do all kinds of mischief. Use this only if you are totally sure of the user. But how can you ever be sure about anyone else?


Answer URL
https://docs.python.org/3/library/ast.html#ast.literal_eval
