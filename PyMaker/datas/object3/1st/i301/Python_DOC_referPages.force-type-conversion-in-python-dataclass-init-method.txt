Natural Text
I have the following very simple dataclass:I create an instance of the class but instead of an integer I use a string:What I actually want is a forced conversion to the datatype i defined in the class defintion:Do I have to write the __init__ method manually or is there a simple way to achieve this?
The type hint of dataclass attributes is never obeyed in the sense that types are enforced or checked. Mostly static type checkers like mypy are expected to do this job, Python won't do it at runtime, as it never does.If you want to add manual type checking code, do so in the __post_init__ method:You could use dataclasses.fields(self) to get a tuple of Field objects which specify the field and the type and loop over that to do this for each field automatically, without writing it for each one individually.
You could achieve this using the __post_init__ method:This method is called following the __init__ methodhttps://docs.python.org/3/library/dataclasses.html#post-init-processing


Answer URL
https://docs.python.org/3/library/dataclasses.html#post-init-processing
https://docs.python.org/3/library/dataclasses.html#dataclasses.fields
https://docs.python.org/3/library/dataclasses.html#dataclasses.Field
https://docs.python.org/3/library/dataclasses.html#post-init-processing
