Natural Text
My code right now is in an infinite loop, displaying the menu choices for doughnuts. I want it so that the user selects as many doughnuts as they want until they input "5".  Here is my code:So right now the code only displays the doughnuts menu continuously, but I want it so when 5 is inputted, it would go to the math calculation/end of the code.
There are a few problems here.The first is that the logic to respond to a choice is outside your while loops. That can be fixed by indenting that whole block.Second when the user inputs 5, the condition in while choice not in [1,2,3,4]: evaluates to True, so the user is prompted to enter a valid choice again. This can be fixed by removing that inner while loop entirely.Finally upon reaching the elif choice == 5 block, the user will not see any of these receipt prints because choice is 5 and therefore not 1, 2, 3, or 4. I think what you mean here is for the count of chocolate, strawberry, vanilla, or honey to be nonzero. Also these should all be if rather than elif blocks since they are independent of each other (a user can get some chocolate and some vanilla).With all that in mind here is a refactor:
tl;dr check the improved version at the bottom of the answerYou can use the second form of iter to conveniently loop over user input until a certain value is given, in that case 5.ExampleAs you can see, this generated a set of orders which can then be used to request further inputs.Use data structuresAlthough, using a bunch of elif statements is not optimal here because it adds a lot of repetition and is not very maintainable. Instead, you should use a list of dictionaries to store information specific to each donut.Now, all the print above can be simplified like so.You should do the same for you arithmetic, when variable are highly related, their values should instead be stored together in a list or a dict.ExampleFinal versionYou then have a simplified version of you code. Shorter and more easy to maintain: to add doughnuts you simply need to update the initial list doughnuts.


Answer URL
https://docs.python.org/3/library/functions.html#iter
