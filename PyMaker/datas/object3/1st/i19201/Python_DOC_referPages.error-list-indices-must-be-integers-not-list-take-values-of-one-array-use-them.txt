Natural Text
The above is my code. What I want to do is to create an array deleteindex which takes in the indice of any item with 159 in.It does get all the values I want i.e all the indices with the value 159 but when I try to delete the values from a different array with the indices, it returns the error list indices must be integers, not list. prules is the array I want to get the index values contains strings of numbersrulelines contains is a list of strings which I want to use the values taken from prules and use the values as indexes to delete those values in rulelines Where have I gone wrong?I'm guessing its something at
You are right.The error is because, inkey is a list. As dups is defaultdict(list), the value will always be a list.This can be verified by:As for your algorithm, try this, an easier to understand version.To get the indexes, just do:Which will return a list of indexes if dups['156'] exists, else it returns an empty list.
Your intuition is right.Here each val is one of the values in the dups dictionary you've been populating in the above loop. But what are these values? Well, dups = collections.defaultdict(list) would indicate that each one of these values is a list.Therefore this code breaks due to your not keeping track of your types:
From what I can tell, prules is a list, or a collection at least that can be enumerated, in which case, you can possibly convert it to a set which is all you need to do to remove duplicates.However, if this is not the case (I can not tell since you have not provided that segment of code) then you could go about the whole thing in a better way:From your updated Question, I think that you are trying to do something else than what it seems your question is about. I think you are trying to delete every index in rulelines where the corresponding index in prules has a value of '159' if this is the case:


Answer URL
