Natural Text
I am trying to get a basic understanding of this before I create the actual application I need. I recently moved over from 2.7 to 3.3.A direct copy-paste of this code from the python docs fails, as does a slightly simpler example from here.This is my code, derived from the second example:And this is the output:How can I get this code to work as expected? I was hoping the examples would just work out of the box.
This was my fault, for two reasons:The code was un-guarded, i.e no if __name__The strange looking Traceback was because the file was not saved. Never caused me an issue before, but did in this case.Correcting both of those fixed the error.Final test code:Output, as expected:
Under Windows, it is important to protect the main loop of code to avoid recursive spawning of subprocesses when using processpoolexecutor or any other parallel code which spawns new processes.Basically, all your code which creates new processes must be under if __name__ == '__main__': , for the same reason you cannot execute it in interpreter.
This actually is still happening on Windows.I have Python 3.7.2 and I tried with the example given in the documentation athttps://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutorThe error still happens even though the example already has the new process called from under __name__ == '__main__'.I tried this on Windows 10 as well as Windows 7. It does work as advertised on a Mac with MacOS Sierra. Same python version.


Answer URL
https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor
https://docs.python.org/3/library/concurrent.futures.html
