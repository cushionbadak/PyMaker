Natural Text
I have to open & write to about 10 different files all within the same loop.e.g:Now what I'd like to do is be able to get specific exception information such as what file was being opened/written to within the general exception. From my current understanding, I'd have to do something like this to achieve what I want:...Which is going to get extremely clunky and unattractive when I have to do this for about 10 different files. Is there any way to get (for example) the filename info out of a general exception like in my first example? Basically so the exception could report things like "error when writing to file1" without a try/except specifically for file1 operations.edit: This is a massive over-simplification of the data being written to the file. str(a) and str(a)+"hi" are not really good representations of the data actually being written; file1 may need a hardcoded integer, where file2 may need a string formatted with multiple variables. to generalize the opening/writing process into a loop isn't going to work very nicely.
You can use sys.exc_info to get information about the exception currently being handled, including the exception object itself. An IOError exception contains all of the information you need, including the filename, the errno, and a string describing the error:Execution in the try block will obviously still halt after the first exception.
Use the traceback module:
You mention using a loop, but you're not actually using a loop.  Use a loop.  That way you can write each file, one at a time, inside a single try block.  You don't appear to be doing anything with the files except write one value to each, so you don't need to keep them all open.Edit: If you have wildly different things to write to the different files, create a dictionary or other data structure ahead of time storing the mapping between files and data, then use that in the loop.
When using exc_type, value, exc_traceback = sys.exc_info(), note that the filename that generated the exception can be obtained through the following: 


Answer URL
