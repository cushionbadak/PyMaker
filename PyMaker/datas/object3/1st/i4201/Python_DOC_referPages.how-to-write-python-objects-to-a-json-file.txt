Natural Text
I have three classes in my program,Processes contain Lanes.Lanes contain Tasks.The objects are stored in each other as arrays with some other string information about the classI'm trying to output the Process objects into JSON files but I keep getting the following error:I'm fairly new to JSON processing so I don't understand why the objects are outputting this error.I'm using the following code to print the Process objects as JSON items:And these are the class objects:How can I correctly output this data to a JSON file?
Assuming that your attributes are simple values or list, you can use the class .__dict__ attribute to convert the class to a dict and then serialize it to a json, as a example:This outputs:as a dict.
Following @czr 's example; the solution was to go through and convert the object mappings into explicit dictionaries and then output an array of those nested dictionaries as follows:where fileContents takes the returned processArray from serialize()The takeaway note is that iterating through a classes variables as follows:Allows you to retrieve the class variables and their respective values as a dictionary. As you is my code above, if it so happens that your value is an object then you have to explicitly define what properties you want to retrieve from that object by using python's handy isinstance():If it is a python classic object, such as  list; make sure to iterate through it explicitly:The reason for my initial confusion was my prior experience with google's GSON for Java. That handy api simply takes a Java class and handily outputs a JSON formatted file for you. Unfortunately Python does not have such native libraries. The ideal solution would be to design your classes in ways such that they only contained native data types like strings,ints or lists of native datatypes. that way simply iterating over objectName.__dict__.item() will provide a neat enough solution for you.
Try using pickle to serialize and write to .JSON https://docs.python.org/3/library/pickle.htmlHere's an example of how I save my data for a game I'm working on using pickleThis is saving 3 different classes from 3 different files, and dumping them into 1 save folder.


Answer URL
https://docs.python.org/3/library/pickle.html
