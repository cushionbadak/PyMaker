Natural Text
So, the file has about 57,000 book titles, author names and a ETEXT No. I am trying to parse the file to only get the ETEXT NOsThe File is like this:And this is what I tried:Well the code mostly works. However for some lines it gives me part of title or other things. Like:This kind of output(), containing 'decott' which is a part of author name and shouldn't be here.2For this:The Bashful Earthquake, by Oliver Herford                                56765 [Subtitle: and Other Fables and Verses]The House of Orchids and Other Poems, by George Sterling                 56764North Italian Folk, by Alice Vansittart Strettel Carr                    56763 and Randolph Caldecott [Subtitle: Sketches of Town and Country Life]Wild Life in New Zealand. Part 1, Mammalia, by George M. Thomson         56762 [Subtitle: New Zealand Board of Science and Art, Manual No. 2]Universal Brotherhood, Volume 13, No. 10, January 1899, by Various       56761De drie steden: Lourdes, door Émile Zola                                 56760 [Language: Dutch]Another example:4For Rhandensche Jongens, door Jan Lens                                       56702 [Illustrator: Tjeerd Bottema] [Language: Dutch]The Story of The Woman's Party, by Inez Haynes Irwin                     56701Mormon Doctrine Plain and Simple, by Charles W. Penrose                  56700 [Subtitle: Or Leaves from the Tree of Life]The Stone Axe of Burkamukk, by Mary Grant Bruce                          56699 [Illustrator: J. Macfarlane]The Latter-Day Prophet, by George Q. Cannon                              56698 [Subtitle: History of Joseph Smith Written for Young People]Here: Life] shouldn't be there. Lines starting with blank space has been parsed out with this:But Still I am getting those off values in my output results. 
It could be that those extra lines that are not being filtered out start with whitespace other than a " " char, like a tab for example. As a minimal change that might work, try filtering out lines that start with any whitespace rather than specifically a space char?To check for whitespace in general rather than a space char, you'll need to use regular expressions. Try if not re.match(r'^\s', line) and ...
Simple solution: regexps to the rescue !the regular expression (\d+)$ will match "at least one space followed by 1 or more digits at the end of the string", and capture only the "one or more digits" group. You can eventually improve the regexp - ie if you know all etext codes are exactly 5 digits long, you can change the regexp to (\d{5})$.This works with the example text you posted. If it doesn't properly work on your own file then we need enough of the real data to find out what you really have.


Answer URL
https://docs.python.org/3/library/re.html
https://docs.python.org/3/library/re.html
