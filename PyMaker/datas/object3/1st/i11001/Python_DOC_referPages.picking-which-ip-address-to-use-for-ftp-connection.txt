Natural Text
I got a question. My NIC has several secondary ip addresses.I was not able to find a library for ftp in python which allows to pick which ip address to use to connect to a ftp server.Does anyone know how it can be implemented, i looked into raw sockets and didn't find it too.I know it's implemented for http/https in jmeter for example, but not for ftp for some reason.Any help is appreciated.
As I mentionned, standard python ftp lib has a source_address parameter. However it's not available for python 2, which you apparently need.So I suggest the following kludge for python2.7. That's copy-pasting python3 implementation of source_address argument and tweaking it to make it work. Ugly butâ€¦It's as ugly as monkey patching. It should do the trick. If you use it, please document this horror so it is removed when you move to python3.
As noted by spectras, the FTP client in the Python 3 standard library allows specifying a source address as a tuple.  Unless you have a known or static port for the source, setting the port number to zero should pick the next available port.  Using the docs as an example:


Answer URL
https://docs.python.org/3/library/ftplib.html#ftplib.FTP
https://docs.python.org/3/library/ftplib.html#ftplib.FTP
https://docs.python.org/3/library/ftplib.html#ftplib.FTP
