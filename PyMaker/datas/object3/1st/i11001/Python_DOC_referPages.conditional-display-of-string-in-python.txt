Natural Text
I have a program for enumerating the users with administrative privileges on Windows. I also want to display the number of accounts found which is stored in a variable called num_administrator.I have the following piece of code:If there aren't admins I would like to print [*] No accounts with administrative privileges found.If there is 1 or more admins the message to display is almost the same, the only difference is the display of account or accounts according to the number. It's only a matter of 1 letter (s).Can I achieve the conditional print just by using a unique statement or anyway in a simpler way?Is it possible to print something like: Don't mind my code above, I don't know the syntax if what I'm doing makes sense, it's just to give you an idea of what I'm thinking and you can tell me if it's doable or not.Besides I'm calling the function show_admins() 3 times (for printing the admin accounts) but actually I can call it just once at the end I guess.
Here's a crafty one-liner I made:P.S. As for readability, I don't know... I maybe be wrong, but I think my eyes are bleeding
If you want to go with one line solution, that's already been answered here. However, I'd recommend using if/else statements because that way, the solution is more readable:
You can do something likeor, if you want it to be a string:So here the simplest way is to use lambda:
I took a look at dmitryro's solution and I like the use of lambda for displaying different strings according to a condition. I also would like to take into account the case of num_admin == 1 though. I edited the code and I got this:Then I edited a bit also the print statement:I had to add another placeholder {} for displaying the number and I added another parameter num_admin in the format() function.Now It's almost perfect but there is still a problem:example:for num_admin = 1 I get: [*] 1 account with administrative privileges foundfor num_admin == 2 I get: [*] 2 accounts with administrative privileges foundbut for num_admin == 0 I get: [*] 0 No accounts with administrative privileges foundI would like to avoid the display of the number 0 in front of the sentence, anyway I think I'm complicating my life and it'd be still acceptable. Besides I should consider readability as an important aspect.I took a look at On a Friday's answer again and it actually addresses this problem:I think in fact print("[*] {} account{} with administrative privileges found.\n".format("No" if num_administrators == 0 else str(num_administrators), "s" if num_administrators != 1 else "")) seems a perfect one-liner, although I agree readability might be an issue. It certainly doesn't adhere to PEP 8: line too long (175 > 79 characters).I also like this solution because it avoids using lambda and uses conditional expressions, I think it's simpler.See here for a reference:- Conditional expressions- Is there an equivalent of C’s ”?:” ternary    operator?


Answer URL
https://docs.python.org/3/reference/expressions.html#conditional-expressions
