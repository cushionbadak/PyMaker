Natural Text
I was reading section 9.2.1 about namespace and scope when I came across the following piece of code.The documentation claims the following is the output:My question is the following: shouldn't the output of line 3 be global spam due to the use of the global keyword in in do_global() function?
No, it is local to the function's scope by default unless you explicitly say otherwise. From the Python Programming FAQ:In Python, variables that are only referenced inside a function are implicitly global. If a variable is assigned a value anywhere within the function’s body, it’s assumed to be a local unless explicitly declared as global.Note that you can access the value of a global variable from any scope, and for that matter, you may access the value of any parent scope to the current scope, but unless you explicitly say you will modify it with the global keyword, its value cannot change.
The documentation is correct here - just try the code to make sure...You are right on one point: as do_global contains global spam it changes the value of a global variable spam. But what in printed in position 3 is the spam variable in the scope_test function, which has not been changed by do_global.And the 4th print does show the content of the global spam which was set in do_global.


Answer URL
https://docs.python.org/3/faq/programming.html
