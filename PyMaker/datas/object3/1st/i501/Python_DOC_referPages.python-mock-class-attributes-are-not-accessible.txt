Natural Text
When mocking a class object I can't access it's attributes.I've read a lot of documentation but I'm new to mocking and don't see the problem with this code. I expect x and y to return the same value 1e-15but I get
autospec and spec'ing in general is used to define an API. When using a Mock, you can pretty much call or access any attribute on it and it'll just let you. It will return another mock object though.See something like this:If I define a spec, it says you can't access things that don't actually exist on the real class. Like so:So the above shows you can't access an attribute on the Mock that isn't defined in the actual user_data class because I've used spec.That explains how autospec works, but what you actually want is the return_value arg. Go ahead and add it to your patch decorator and you should be all set. It should look like this:


Answer URL
https://docs.python.org/3/library/unittest.mock.html#quick-guide
