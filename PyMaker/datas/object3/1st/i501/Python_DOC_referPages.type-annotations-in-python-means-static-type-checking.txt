Natural Text
I am looking at typing module from python because I hope to enforce some static type checking in a project written in python. When I define a function like the one from the docand try to do something like greeting(3), I indeed got the following errorBut when I again define a function called testand do test("a"), I have a printed without any errors raised. I also tried and do test(3), but no TypeError is raised.I defined both functions in exactly the same environment, i.e. an interaction python session using iTerm. Why would this happen?
The clue here is in the line number: the error is occurring inside the function, when you try to add 'Hello' and 3. The type annotations are checked for syntactic correctness by the interpreter, but are not otherwise actioned.There are projects like mypy that use the annotations for status type checking and various other purposes.
Type annotations in python DO NOT enforce static type checking.Python's still a dynamic language, where the interpreter checks whether it has a method to do the operation, add a str ("hello") and add an integer (3), when it reaches this line during the execution loop. Pep-484 states the core-developers don't want to change this with annotations.If you look at the documentation, it is called 'type hints'. Hints are not enforcement.Type hints are really for developers and their tools (like IDEs) to better document the expected type of a parameter. But adding this form of documentation does not place any restriction the argument. It is merely documentation. In fact, it's best to think of these annotations as documentation.The error you are seeing happens without those annotations. E.g.It is possible to develop tools to do this if you want. The annotation on the object's  Why is it like this?In python, we generally don't do explicit type checks. Instead, we just try to call the method, like "add 'hello' and 3" and let there be an error. It's up to the caller of the function to provide the correct types. But this also means it's up to the writer of the function to document the parameter accurately. Type hints help describe the expected type, and make it available on the object, which is useful for other tools to then hook into. Previously, we'd write this stuff as documentation, like:Use duck typing to help you outThe type error you've raised would be avoided if you used built-in string formatting or cast the incoming value to a string before calling add. For example, to avoid the error you saw, you could:


Answer URL
https://docs.python.org/3/library/typing.html
https://docs.python.org/3/library/typing.html
