Natural Text
When reading the typing module source I noticed following:Here, an assignment is inside the base class list.Later, it's checked in:Where exactly does _root end up? Docs refer to it as "class keyword arguments" (https://docs.python.org/3/reference/datamodel.html#object.init_subclass), but I couldn't find any further info on this.
A class keyword argument is any kwyword argument that is passed in the class declaration. Only one such argument have a special treatment - metaclass= - this one dictates the callable that will be used to provide the metaclass.Any other keyword argument there is passed as is to the metaclass __new__ and __init__ methods, and to any superclass __init_subclass__ method. These are not treated in a special way, and, above all, are not "base classes" - the methods mentioned before will receive these keyword arguments normally as any Python method: they may be declared in the method signature, or they may accept the **kwargs dictionary (which is the case).It is worth mentioning that passing such arguments with a proper __init_subclass__ method in the superclasses that will "swallow" it, the class declaration will fail with a TypeError due to the unrecognized argument to object's __init_subclass__. In contrast, the default metaclass implementation of __new__ and __init__ on the type class will simply ignore any extra keywords passed.Thus:fails with: While:works with no problems. (A.__init_subclass__ kwd will be passed {"test": None})


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__init_subclass__
