Natural Text
I have an xml file with the following line :That I would like to replace with the following :Thought it would be pretty straightforward using the re module in the python script I'm supposed to modify. I did something of the sort:The field with the date is correctly replaced, but the trailing new line and indentation are lost in the process. I tried converting ligne and the result of the sub function to a raw string with .encode('string-escape'), with no success. I am a noob in python, but I am a bit accustomed to regex's, and I really cannot see what it is I am doing wrong.
An alternative, a simpler and a more reliable way to replace the text of an XML element would be to use an XML parser. There is even one in the Python Standard Library:
As stated in comments, the variable ligne was stripped of blanks and new lines with ligne = ligne.strip() elsewhere in the code... I am not deleting my question though because alecxe's answer on the xml module is very informative.


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html
