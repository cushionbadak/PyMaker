Natural Text
How would you test a simple method that calls another method?  Im attempting to test the wssender method currently.and the test code There are two issues.   When running this test i get. (ws is a web socket)and wssender does not return anything so i'm not sure what to test in this case.
How's this?Output
I assume "class Worker(self)" is a typo and that it's really "class Worker(object)" (or any other base class).wrt/ the first issue, you forgot to instanciate Worker in your test - you want:Totally unrelated but wssender() is not a good name for a method - sender is a noon, methods are actions and should use verbs, so wssend() (or just send() FWIW) would be better.Now with the second issue, you have a couple options. If what you want to test is the message formatting, just split it in another method:so now you can test Worker.prepare(msg) in isolation.If you want to test that Worker.send(msg) calls self.ws.sendMessage(...) (and calls it with the expected argument), you will have to mock ws. You can do this manually:Or you can use the mock library, cf Tacg's answer.


Answer URL
https://docs.python.org/3/library/unittest.mock.html
