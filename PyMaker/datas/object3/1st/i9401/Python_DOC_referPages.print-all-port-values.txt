Natural Text
I have this json file: This file is being read by this python script:At the moment I can only print only one port value and id value in output: How can I get the next output? : Could you please help to achieve it?Let me clarify one more time.This json file may be changeable towards port values:So each of process instances there may have different amount of ports with different values. For example test1 may have 1237 7000 and 1234 port values test2 only 9004 and so on.In my python code I was able to achieve only reading one of port values, but I don't know how to achieve in order it print all port values per process id.For example:So PORT values will automatically change in case of modifications of json file. Hope this time I explained more clearly.
Your original code threw a KeyError when the key '{#PROC_PORT_1111}' wasn't present so you couldn't capture other ports.  Here is one way to do it - iterate over the items; check to see if you are interested in the item; massage it; keep it in a new container.Using the regular expressions.  I'm using the regex module because it saves repeat captures which is needed for processes with multiple ports
You need to update the {#PROC_PORT_1111} key in your loop so that it gets the next port (2222, 3333, 4444, etc.) on every iteration. I have added a incr variable to keep track of that. Also edit your function to use get whenever you are accessing the dictionary:If you put a print statement in the except branch, you'll notice that your execution will hit that branch twice due to a KeyError. It's usually a better practice to use get rather than [] since the former never throws a KeyError whereas the latter does.Resource: dict.get
To the best of my knowledge, I understood that your field "{#PROC_PORT_2222}" changes with numbers, i.e. "{#PROC_PORT_XXXX}" so in this case we need to use regex to match any string which has "{#PROC_PORT_}" as fixed string.Where s.txt is the txt file having json.This gives the output.P.S. If you meant the key name is just PORT not PROC_PORT, then replace the line by regex = r"{#PORT_[0-9]{4}}"P.P.S I assumed that the numbers which will be changing will be 4 digit, if not, then please comment below


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.get
