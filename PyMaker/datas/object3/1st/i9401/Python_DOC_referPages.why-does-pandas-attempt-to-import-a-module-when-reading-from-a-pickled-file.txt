Natural Text
I have collected some data via the Instagram API, which I've stored into a pandas DataFrame, which in turn has been saved via pandas .to_pickle() method.When attempting to load the DataFrame on another computer using the `read_pickle()' method, the following error is returned:Any idea what causes this?
Pickle simply doesn't know how to recreate the classes. The information how a class is unpickled and restored is stored inside the class: __new__, __init__, __setstate__ and more.Similarly, when class instances are pickled, their class’s code and data are not pickled along with them. Only the instance data are pickled. This is done on purpose, so you can fix bugs in a class or add methods to the class and still load objects that were created with an earlier version of the class. If you plan to have long-lived objects that will see many versions of a class, it may be worthwhile to put a version number in the objects so that suitable conversions can be made by the class’s __setstate__() method.Source: Python pickle: What can be pickled and unpickled?So to unpickle it, pickle needs to load the class (and thus any intermediate module).If you don't have/want the instagram-module you should check how to convert the appropriate values in your original dataframe to normal classes (int, float, array, ...) before you pickle it.


Answer URL
https://docs.python.org/3/library/pickle.html#what-can-be-pickled-and-unpickled
