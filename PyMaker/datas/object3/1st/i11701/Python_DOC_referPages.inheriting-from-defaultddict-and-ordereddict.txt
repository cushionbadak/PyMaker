Natural Text
I have tried inheriting from both collections.defaultdict and collections.OrderedDict like so:and like so:in order to created an ordered default dict (a class that should remember the order in which new default items were generated) but it seems to throw an error stating:I have read here that it's because they're both implemented in C. Upon disabling Python's C implementation of OrderedDict by commenting this section in the collections module:I have managed to inherit from both, but it does not seem to work as I expected. I have two questions then:Why can't you inherit from two classes written in C? I would understand if you wouldn't be able to inherit from any class written in C but why can you inherit from one and not from 2?Implementing my requested class would be easy by subclassing OrderedDict and overriding __getitem__() to match defaultdict's behavior. Is there a better way (preferably within the standard library) to mimick the same behavior? Or is subclassing OrderedDict the most optimal? (subclassing defaultdict is possible too but implementing it is is probably easier using OrderedDict)The first question is the important of the two as implementing it myself by subclassing OrderedDict shouldn't pose a problem.
The functionality of defaultdict can be simply implemented by defining a __missing__ method:


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
https://docs.python.org/3/library/collections.html#collections.OrderedDict
