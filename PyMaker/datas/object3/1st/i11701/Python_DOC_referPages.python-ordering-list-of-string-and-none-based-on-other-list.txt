Natural Text
I have two lists of equal length, one containing numbers, the other strings and None. I want to order them by descending numbers, keeping the other one in sync.Before the second list could only contain string (so no None elements), and I used this code:The numbers are in the "weights" array, the strings in the "urls" array. This worked fine.However, now that I allow None in my strings list, I get the following error:For some reason it's also trying to sort the strings, I guess in case the weights are the same. How can I fix this?I'm using Python 3, I read that in Python 2 None came before any string, but now it gives an error. The order of strings with the same weight doesn't matter.
Sorting tuples is done lexicographically - first the first elements are compared, if they are equal then the second, which in your case can be None. You can sort using only the weights by extracting it as the sorting key through the key argument to sorted():Observe:
Python will use the second element in each tuple (your string or None values) if first element is equal between two tuples:You could insert a tie-breaker:The count() iterable object will insert integers starting at 0; when two weights are the same, Python will then compare those integers. Since they always differ, the elements in the 3rd position will never be compared against one another. Because the count increases monotonically, the sort remains stable otherwise, two elements with the same weight are kept in the same relative order.Or you could tell sorted() to only look at the first element:Now two equal weights are left in the same order too, because the Python sorting algorithm (TimSort) is stable by default.


Answer URL
https://docs.python.org/3/library/functions.html?highlight=key#sorted
https://docs.python.org/3/library/itertools.html#itertools.count
