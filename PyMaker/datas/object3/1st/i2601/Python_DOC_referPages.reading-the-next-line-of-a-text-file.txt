Natural Text
Ok, so I've looked at all the other questions but I'm not really sure on how to apply what I've read to my code, and I'm not really to sure if it would work. So the text file I have looks like this:and my code is able to read the first line and cut out sections but the moment I add a search request for the second line it comes to an error. So how do I get it to read the next line?This is the code I have so far:I'm not really too sure on how to use the next function works.
The line:Creates a file-object called search. This file-object has many methods, but not a .next() method. Hence calling .next() throws an error along the lines of "what do you want me to do!?".However, you do know what you want to do, you want to iterate over each line and you are doing this with a for-loop. The beauty of the for-loop is that at the end of the current iteration, it continues on to the next iteration by itself until the end is reached (this end is actually aStopIteration).So if you just want to continue onto the next line, just let the for-loop roll!One final tip. If you have a string such as hello,there, it is a lot of effort to extract there through slicing as you are, but very easy to do so by using a method of the string object, namely .split(). This allows you to get a list of sub-strings by specifying a deliminator. For instance, 'hello,there,'.split(',') gives ['hello', 'there', '']. You can then just index the second word with 'hello,there,'.split(',')[1], giving 'there'!NOTE: The reason there is a third element returned from the split method is that the string ends in a comma, so when split on commas, an empty string at the end is also returned, but you can ignore this.
You don't need to call next(). You are already iterating over the lines of the file, so, don't do anything, and the next line will come at the next iteration.Unrelated to file reading: You if-elseif-else doesn't make sense. clientid in line is either true or false, so it doesn't make sense to have 3 conditions. Just remove the middle elif altogether`
for loop already calls next for you.Since you are reading a csv file (a file with values separated by commas) you should use the csv module - it automatically splits each line for you, so you don't have to slice each line yourself.To further help you I also removed the globals and used parameter passing to pass the variable to the other function. Also I removed the recursive call to main() and used a loop to repeat the search. If you enter the empty string (just press enter), it should exit the loop and finish the program.


Answer URL
https://docs.python.org/3/tutorial/inputoutput.html
