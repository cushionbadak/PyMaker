Natural Text
I want to specify an object which has a prizes property. This might either be a list of PrizeInfo objects, or an empty list. I'm looking for a schema something like the code below, except this returns the following error:I am using these templates to generate Python classes.
There is no annotation for an 'empty' list. Any empty list object will satisfy a List[...] type hint, regardless of the specifics of what the list contents must be.So if an empty list is allowed, useThat allows for any list with 0 or more elements, so the empty list is included in that hint.If you instead meant to say that None values (null in JSON) are permitted next to PrizeInfo objects, then use a Union[...] annotation with None:If you wanted to say that either None, or a list of PrizeInfo objects is permitted (in JSON terms, a null or an array), then useYou could also use Optional[...]:to mean the same thing. I'd not use that inside the List[...] hint, however; that reads as if you are saying that the type of the elements might be optional, making for a confusing type specification.


Answer URL
https://docs.python.org/3/library/typing.html#typing.Union
https://docs.python.org/3/library/typing.html#typing.Optional
