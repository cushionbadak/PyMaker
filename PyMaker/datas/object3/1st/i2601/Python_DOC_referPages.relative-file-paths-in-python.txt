Natural Text
Say I have a python project that is structured as follows:__init__.py:module.py:main.py:When I run main.py I get the following error:However, if I run module.py from the package directory I get no errors. So it seems that the relative path used in open(...) is only relative to where the originating file is being run from (i.e __name__ == "__main__")? I don't want to use absolute paths. What are some ways to deal with this?
Relative paths are relative to current working directory.If you do not your want your path to be, it must be absolute.But there is an often used trick to build an absolute path from current script: use its __file__ special attribute:Note, from python 3.4, __file__ is always absolute for imported modules and you can drop the os.path.abspath part in this example. Not that it is strictly necessary, but it avoids surprises if you change the current working directory at some point and your module was imported using a relative path.
For Python 3.4+:


Answer URL
https://docs.python.org/3/library/os.html#os.chdir
https://docs.python.org/3/reference/import.html#__file__
https://docs.python.org/3/library/pathlib.html
