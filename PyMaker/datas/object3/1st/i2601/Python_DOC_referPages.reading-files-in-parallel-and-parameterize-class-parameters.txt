Natural Text
Suppose I have a class, And want to read few files from the disk in parallel, and parameterize class parameters. What is the most correct way to do it (and how)? Main thread should wait for load_data() action to be over, before anything else is happening.I thought about threading since it's only I/O actions. Example of non-parallel implementation (1-Threading):
I/O operations are not CPU bounded in most cases so using multiple processes is an overkill. Using multiple threads can be good, but pb.read_csv not only reads the file but parses it what can be CPU bounded. I suggest you to read files from disk with asyncio as soon as it was initially made for this purpose. Here is the code to do so:The function read_files_async returns the list of file contents (byte buffers), which you can pass to pd.read_csv.I think optimization of files reading only should be enough but you can parse files contents in parallel with multiple processes (threads and async won't increase performance of parsing process):You should set NUMBER_OF_CORES according to your machine spec.
Possible solution with Python3 ThreadPoolExecutor


Answer URL
https://docs.python.org/3/library/concurrent.futures.html
