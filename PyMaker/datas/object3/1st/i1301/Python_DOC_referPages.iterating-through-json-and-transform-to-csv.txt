Natural Text
I have the following JSON-object:My desired output looks as follows: I wrote the following script:The variable shots gives me the included JSON-object. I don't want the keys h and a. However, my script gives the following output:What am I doing wrong? Is it also possible to specify which particular items I want to include in the CSV?
If you don't want the whole JSON response written to the file then you should be accessing the values by key. Using json.loads() you can convert the JSON string to a dictionary containing lists. An example is this:In this case, I have used the DictWriter class of the csv module to handle how the columns are ordered. We need to pass a parameter, fieldnames, to tell the module how we want to arrange the columns. I have used a quick and dirty shortcut of just grabbing the dictionary keys with response['h'][0].keys(), but you are free to pass a list of key names. This acts as a template for all rows. In versions of Python < 3.6, this ordering will not be guaranteed and could change between code runs (and in 3.6. it's not technically guaranteed but an implementation detail).
Lets say you have your data inside a variable called data:Try this loop after writing the headers:


Answer URL
https://docs.python.org/3/library/json.html#json.loads
https://docs.python.org/3/library/csv.html#csv.DictWriter
