Natural Text
I want to download files from an FTP server and archive them locally in a (zip) archive. It is well known how to download files and save them individually:It is also well known how to add files to an archive:But it seems not possible to use both at the same time:This leads to a FileNotFoundError, because filename has not been saved to a local (temporary) directory in between.Is there a way to directly send the file stream from FTP into a zip archive? Or would it be more efficient to download all files straight, add them to the archive, and then delete the files? I would like to keep harddisk I/O as low as possible.
Download the file to memory and use ZipFile.writestr:


Answer URL
https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.writestr
