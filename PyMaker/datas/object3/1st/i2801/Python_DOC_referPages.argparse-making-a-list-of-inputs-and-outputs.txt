Natural Text
New to python, My professor has given me a piece of code to help process some imagery, however it only works one image at a time due to an input and output needing to be stipulated each time. Usually I would put import os or glob but argparse is something new to me and my usual methods do not work.I need to edit this in order to create a list of '.hdf' files with the output being the same as the input just with a name change of '_Processed.hdf'Code below: 
From the argparse docs here, you can simply add a nargs='*' to the argument definitions. However, be sure to give the input and output files in the same order...Also, you can use the pathlib.Path object, which is now standard in Python >=3.4, to play with file names.So with an added from pathlib import Path at the top, the last part of your code becomes:Here, args.input is now a list of strings, so we iterate on it. The .stem attribute returns the file name without any extensions, I find it cleaner than something like input[:-4], which only works for specific extension lengths...This works well with glob patterns in a standard linux shell (I don't know for other cases).Ex. calling python this_script.py -i Image_*, processes every file with filenames beginning with "Image_".
You can use the nargs='+' option, and since you're going to have only have one required argument, I'd recommend that you don't use --input as an option, but simply run the script as script_name.py input_file1 input_file2 input_file3 ...:


Answer URL
https://docs.python.org/3/library/argparse.html#nargs
https://docs.python.org/3/library/pathlib.html
