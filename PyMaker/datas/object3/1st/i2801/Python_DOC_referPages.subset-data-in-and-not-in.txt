Natural Text
Suppose I have this data:and I want to subset vector a from begin to end and vector b that does not include from begin to end that are values (not indexes).How would I accomplish this?Desired output:
I think you're intending those begin and end values to be values in the list, not indexes into it. (Although it would be a whole lot clearer if your values weren't monotonically increasing integers that look just like indexes…)Otherwise, all you'd need is dat[:begin] + dat[end:] and dat[begin:end], but those would be the wrong values for your example—you clearly don't want to start at position 4, but position 3 (which has value 4).And I think you're expecting the values to be in sorted order, but that's kind of a wild guess.If so, what you want to do is find the positions of begin and end in the list. You can do this by manually walking the list until you find them, but let's be clever and use the bisect library:Notice that I used bisect_left on the left and bisect_right on the right, to make sure we get a half-open range (that is, the "stop" index is not part of the range) even though you specified the begin and end as a closed range (that is, 7 is supposed to be in the output, if it's present).If they're not sorted, the question is ambiguous. There could be multiple ranges from 4-7 in the list. They could even overlap. So, you need to better specify the problem before you can solve it. But maybe you just want, say, all the values where 4 <= value <= 7, without thinking in terms of ranges at all? That's easy:
You'll want to use slice notation.If you meant begin and end as data (where begin and end are distinct), then just find where the elements are first:If your elements are sorted, use bisect.bisect() instead of index(). If you have duplicates/overlap, then you'll have to be more specific in the question.Remember that the [start:stop:step] slice notation is NOT inclusive on stop.


Answer URL
https://docs.python.org/3/library/bisect.html
