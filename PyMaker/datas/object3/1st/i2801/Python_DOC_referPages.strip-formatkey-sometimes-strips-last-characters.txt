Natural Text
This question already has an answer here:Python strip unexpected behavior                    2 answers                value = div.xpath('normalize-space(.)').extract()[0].strip('{}:'.format(key)).strip()The code above sometimes strips the last character from the word. After removing the code after extract() all the data came back fine but in a list.Example :Unknown from Duration: Unknown turns into unknowMovie from Type: Movie turns into MoviWhy does this happen?I tried this in Python shell and it also strips the last charactersI expect it to return Movie instead of e getting stripped.It seems that this .strip('{}:'.format('Type')) is responsible. I removed the last strip() it only return data with spaces.Edit: It seems that strip() takes characters in inputted string and remove them instead of removing exact strings. That is why the data came out broken. I think a string split then slice is good.Edit 2:Seems like answers by Austin and Pankaj Singhal is good and bug free for my use case.
Use a split on 'Type: ' and take the second item:Talking about your code, strip is not meant for what you are trying to do. strip only removes characters from at the ends.
You could use lstrip (which returns a copy of the string with only leading characters removed), instead of strip (which returns a copy of the string with leading and trailing characters removed):
OR:And of course, this is another option similar to the first one, just using lstrip:OR:Note: here find can be replaced with index
str.strip does not strip that exact string, but each character in that string, i.e. strip("Type:") will remove each T, y, p, etc. from the beginning and end of the string.Instead, you could use a regular expression with the ^ anchor to only match substrings at the beginning of the string.


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.strip
https://docs.python.org/3/library/re.html
