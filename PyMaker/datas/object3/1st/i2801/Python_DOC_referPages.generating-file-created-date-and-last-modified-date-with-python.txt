Natural Text
I am building a script that walks through a directory (and its subdirectories) the user specifies and uploads the files to a postgres DB.  It all works -- after a lot of trial and error! -- and now I'm trying to implement a check before uploading that the same filename + modified date do not exist in the DB prior to uploading.  (If the same file version does exist, I want to skip it.)Can anyone advise me on how to go about this?
You can add a unique constraint on orig_filename and last_modified.And then when performing the insert, use ON CONFLICT (columns) DO NOTHING in the insert statement.Your code may then look like this.


Answer URL
