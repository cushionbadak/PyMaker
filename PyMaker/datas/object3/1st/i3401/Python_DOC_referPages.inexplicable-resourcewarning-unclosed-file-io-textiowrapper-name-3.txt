Natural Text
I am finalising moving my code from python2.7 to python3.5 and turned on warnings to check another module.When using os.popen() I am getting the following error.The number in the above example "name=3" will change, depending on the code but it is always a integer.This code snippet produces the error and yet no file has been opened, which is in complete conflict with the error message unclosed file.My environment is Linux using python 3.5.2Results in the following:    Does anyone know why this warning is issued, especially in this circumstance, where no file has been opened?
The integer is a file descriptor, the integer number the OS uses to talk about file handles assigned to a process. 0, 1 and 2 are stdin, stdout and stderr, 3 and up are further file descriptors used.You get the resource warning because you open the file handle, but never close it explicitly. You instead just call .readlines() or .readline() on the Python file object wrapper:This leaves the file object to be closed by the garbage collector, and you get the warning. You can use the open object as a context manager to have it closed for you:Personally, I'd use the subprocess module to handle external processes, and use Python to do the line selection. This lets you avoid spinning up a separate sh process and generally has much nicer exception handling:


Answer URL
https://docs.python.org/3/library/subprocess.html
