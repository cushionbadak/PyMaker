Natural Text
I am using Popen to remote call scriptstdout = s.communicate()print stdoutThe script is not exiting with the status mentioned under shell script , instead it only prints success or failure status only ..i want to exit with the status codes as per shell script.here is shell scriptHow to get the status code returned ?
From subprocess.check_call's documentation:If the return code was zero then return, otherwise raise  CalledProcessError. The CalledProcessError object will have the return  code in the returncode attribute.Therefore, to get the status code, you need to catch the exception and retrieve the returncode attribute.
Adding a new answer since you changed your code in question from using check_call to using Popen and communicate.From subprocess.communicate's documentation:Note that if you want to send data to the processâ€™s stdin, you need to  create the Popen object with stdin=PIPE. Similarly, to get anything  other than None in the result tuple, you need to give stdout=PIPE  and/or stderr=PIPE too.In other words, you need to add stdout=PIPE to your call to Popen's constructor in order to use communicate.
Found Issue :The tail statement in shell script was holding the SSH session which is why Popen couldn't able to exit the subshell , Adding kill -9 ps -eaf |grep tail resolved the issue.


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate
