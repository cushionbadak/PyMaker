Natural Text
I have gone through numerous Sphinx tutorials, but I still can't figure out how to make Sphinx document a simple Python script like this one:Below are the steps that I make. What am I missing?Install Sphinx:Create a documentation directory within my project directory:Run sphinx-quickstart from inside of the new doc directory and hit Enter to answer every question except for these two:This makes my project directory structure become this:Open conf.py, uncomment the following lines, and add the path of the folder where my code is located:Run the following command from my docs directory:Which gave me the following confirmation with no errors:Now when I open C:\myproject\docs\build\html\index.html, all I see is the following and no info from the docstrings that I inserted in my original script. Clicking on Module Index gives a file not found error. Why is that?EDIT:After doing all the above steps, I added a folder mypackage and copied the file with my code in there making the directory content look like this:I then ran the following commands from doc directory:Now clicking through Module Index gives me the following:And clicking on myscript gives this:Now the question is why is my main script myscript.py is listed under modules and not listed on the home page of the documentations?
An __init__.py file is required to make Python treat the directories as containing packages. See Python tutorial documentation of packages.My guess is that sphinx-apidoc recognizes your script as a script, not a package, because you omitted a __init__.py file.  According to the docs for sphinx-apidoc:sourcedir must point to a Python package.There's also a warning just below that in the docs:If you document scripts (as opposed to library modules), make sure their main routine is protected by a if __name__ == '__main__' condition.Without seeing your code, I'd start with the __init__.py file and see if that takes care of it.


Answer URL
https://docs.python.org/3/tutorial/modules.html#packages
