Natural Text
Let's say I have the following pseudo-code. Does importing bla in both files refer to 2 instances of Bla or do they refer to the same instance? In other words, can I connect and disconnect a single connection in different files like this in Python?bla.pyhello.pyworld.py
Yes, both in hello and in world, bla references the same instance.Modules are singletons, and there is just one copy of their namespace. The top level statements (everything outside of functions and generators) is executed just once, when your module is imported the first time.Modules are managed in the sys.modules mapping. Importing first ensures the module is loaded and present in sys.modules, after which names are bound in the importing namespace. Essentially, from bla import bla does the same thing as the bla = sys.modules['bla'].bla assignment statement would. So loading your module into memory takes place just once, your bla = Bla() is executed just once, and all further imports will access that one reference to the instance.From the import statement documentation:The basic import statement (no from clause) is executed in two steps:find a module, loading and initializing it if necessarydefine a name or names in the local namespace for the scope where the import statement occurs.[...]The from form uses a slightly more complex process:find the module specified in the from clause, loading and initializing it if necessary;for each of the identifiers specified in the import clauses:    check if the imported module has an attribute by that nameif not, attempt to import a submodule with that name and then check the imported module again for that attributeif the attribute is not found, ImportError is raised.otherwise, a reference to that value is stored in the local namespace, using the name in the as clause if it is present, otherwise using the attribute name(Bold emphasis mine).


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#import
