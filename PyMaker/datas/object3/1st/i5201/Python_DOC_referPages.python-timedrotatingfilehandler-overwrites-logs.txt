Natural Text
I setup TimedRotatingFileHandler like that:Usage:I expected that every minute new messages from logs/log had to append to existing log file for current date. Instead it every minute messages from logs/log overwrote existing log file for current date.What should I do to reach that behaviour?PS: After small research I found that TimedRotatingFileHandler in the doRollover method deletes existing log file and creates new file. So first solution is to create new handler derived from TimedRotatingFileHandler  which creates new file (with some index for example) insted of deleting existing log file.
After little bit more researching I found BaseRotatingHandler.namer attribute usage in the BaseRotatingHandler.rotation_filename method:The default implementation calls the 'namer' attribute of the handler, if it's callable, passing the default name to it. If the attribute isn't callable (the default is None), the name is returned unchanged.So as a solution I implemented my own namer function that got filename and returned new filename with my template:20181231.log20181231.0.log20181231.1.logetc.Full example:
According to the documentation of TimedRotatingFileHandler:The system will save old log files by appending extensions to the  filename. The extensions are date-and-time based, using the strftime  format %Y-%m-%d_%H-%M-%S or a leading portion thereof, depending on  the rollover interval.In other words: by modifying suffix you are breaking the rollover. Just leave it at default and python will create the files called:logs/log2018-02-02-01-30 logs/log2018-02-02-01-31 logs/log2018-02-02-01-32 logs/log2018-02-02-01-33 logs/log2018-02-02-01-34And after this (if backupCount=5) it will delete the -30 one and create the -35.If you instead want to have names like :logs/log2018-02-02-01.0 logs/log2018-02-02-01.1 logs/log2018-02-02-01.2 logs/log2018-02-02-01.3 logs/log2018-02-02-01.4Where 0 is the newest one and .4 is the oldest one, then yes, that handler has not been designed to do that.


Answer URL
https://docs.python.org/3/howto/logging-cookbook.html#using-a-rotator-and-namer-to-customize-log-rotation-processing
