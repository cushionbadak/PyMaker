Natural Text
I've got a list of ascii ordinals like:now I want to transform this to a string removing the null characters at the end.I've tried withbut when I pass it to a function like:I've got this error:maybe because there are the null characters at the end.
Filter out the null bytes first (Python 2 version):Alternative way to do it:Some timings:edit:The bytearray approach that works on both Python 2/3 versions looks like this:
Use a comprehension instead and only do your chr on non 0:
In Python 3, to convert a list of ascii ordinals to a bytestring, you could use bytes constructor directly:To remove trailing zero bytes, you could call .rstrip(b'\0'):If the input should stop at the first zero byte (like C strings -- NUL terminated):To remove all zero bytes (wherever they are), call .replace():To get a Unicode string, call .decode('ascii'):To make it work on both Python 2 and 3, use bytearray() instead bytes():The performance of these methods is comparable or better than bytearray(filter(None, a)) solution from @timgeb's answer.


Answer URL
https://docs.python.org/3/library/functions.html#bytes
https://docs.python.org/3/library/stdtypes.html#bytes.rstrip
https://docs.python.org/3/library/stdtypes.html#bytes.replace
https://docs.python.org/3/library/stdtypes.html#bytes.decode
https://docs.python.org/3/library/stdtypes.html#binary-sequence-types-bytes-bytearray-memoryview
