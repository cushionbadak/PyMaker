Natural Text
I need help with Python. I'm trying to open a file, and if the file doesn't exist, I need to create it and open it for writing. I have this so far:The error message says there's an issue on the line if(!fh). Can I use exist like in Perl?
Well, first of all, in Python there is no ! operator, that'd be not. But open would not fail silently either - it would throw an exception. And the blocks need to be indented properly - Python uses whitespace to indicate block containment.Thus we get:
If you don't need atomicity you can use os module:UPDATE:As Cory Klein mentioned, on Mac OS for using os.mknod() you need a root permissions, so if you are Mac OS user, you may use open() instead of os.mknod()
example:I hope this helps. [FYI am using python version 3.6.2]
Using input() implies Python 3, recent Python 3 versions have made the IOError exception deprecated (it is now an alias for OSError).  So assuming you are using Python 3.3 or later:
I think this should work:Also, you incorrectly wrote fh = open ( fh, "w") when the file you wanted open was fn
Be warned, each time the file is opened with this method the old data in the file is destroyed regardless of 'w+' or just 'w'.  
First let me mention that you probably don't want to create a file object that eventually can be opened for reading OR writing, depending on a non-reproducible condition. You need to know which methods can be used, reading or writing, which depends on what you want to do with the fileobject.That said, you can do it as That One Random Scrub proposed, using try: ... except:. Actually that is the proposed way, according to the python motto "It's easier to ask for forgiveness than permission".But you can also easily test for existence:Note: use raw_input() instead of input(), because input() will try to execute the entered text. If you accidently want to test for file "import", you'd get a SyntaxError.


Answer URL
https://docs.python.org/3/library/os.html#os.mknod
https://docs.python.org/3/library/functions.html#open
https://docs.python.org/3/library/os.html#os.mknod
