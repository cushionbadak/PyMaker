Natural Text
I'm programming a text based adventure game in Python, where the player moves on a 5x5 grid and picks up items, but I'm having trouble with changing the co-ordinates of the player.coorx and coory are not incrementing and decrementing within their respective functions.This is what is output. As you can see, the co-ordinates do not change from "3 3" throughout. Any assistance with my problem would be greatly appreciated.
Your coordinates are global, but you haven't declared them global so they are being shadowed by a local variable with the same name. You need to declare them global with your functions to be able to modify them.Option one (without globals):Option two:You can read more about globals here and here
Just read something that reminded me of this question. One way to change your co-ordinates without needing to return a value or use global is to use a mutable container type:What's happening here is that the variable coor is only referenced, not assigned to. What you're assigning to is in that container, not the variable coor itself. This uses the implicit existence of the global coor within left() when it's not assigned-to in the same function.(I guess this is what I had in mind in the first version of my previous answer.)This will also work with dictionaries, and is a bit more readable:
Your variables are changing locally. Use global to solve the problem. You can also solve the problem using arguments and returning coordiantes.
There a problem in your "move" functions: there are "coorx" and "coory" in the global scope (you set both to 3)every "move" function has a parameter (coorx or coory) which is local to the functionWhat your functions are doing is changing the local variable (parameter) which is discarded after the function returns. Global variables don't get changed.Anyhow, using global variables and changing them this way is a bad programming practice. This task really "asks for" implementation as a class with relevant class properties (self.coorx) and methods that let you "move around":http://www.diveintopython3.net/iterators.html#defining-classes
You're passing coorx and coory as values to functions with the argument name as coorx and coory. That makes local references to coorx and coory instead of the global.Edit: You need to specify global coorx and global coory at the top of each function.Also, in your function defs for left, right, back and forward, you shouldn't use the same parameter names. Also, in your specific case, you don't need to pass these functions any arguments because left() is move left. It doesn't need an argument as per your functionality.


Answer URL
https://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python
