Natural Text
Based on a previous post, I implemented the following modified argparse.Action which produces key-value pairs.I want to allow nargs to be dynamically set, as well as provide the option to use a defaultdict(list) for cases where keys may appear more than once.Here is the implementation I have:However, using this leads to TypeError: __init__() got an unexpected keyword argument 'mode'. However, if I delete mode and dict from args/kwargs, it still does not work:Leads to TypeError: __init__() takes at least 3 arguments (1 given).How can I go about having this class take arguments, and still properly have the parent initialized?
You're expecting nargs to be positional, but it's an optional argument to argparse.Action; per the docs:The Action class must accept the two positional arguments plus any keyword arguments passed to ArgumentParser.add_argument() except for the action itself.You might try:


Answer URL
https://docs.python.org/3/library/argparse.html#argparse.Action
