Natural Text
I am very new to python and just installed Eric6  I am wanting to search a folder (and all sub dirs) to print the filename of any file that has the extension of .pdf  I have this as my syntax, but it errors sayingThe debugged program raised the exception unhandled FileNotFoundError  "[WinError 3] The system can not find the path specified 'C:'"  File: C:\Users\pcuser\EricDocs\Test.py, Line: 6And this is the syntax I want to execute:
Use the glob module.The glob module finds all the pathnames matching a specified patternThis will work on Windows and *nix platforms.Just make sure that your path is fully escaped on windows, could be useful to use a raw string.In your case, that would be:For only a list of filenames (not full paths, as per your comment) you can do this one-liner:
Right now, you search each character string inside of testdir's variable.so it's searching the folder for values "C", ":", "\", "T" etc. You'll want to also escape your escape character like "C:\...\...\"You probably was to use os.listdir(testdir) instead.
Try running your Python script from C:. From the Command Prompt, you might wanna do this:As pointed out by Tony Babarino, use r"C:\Test" instead of "C:\Test" in your code.
There are a few problems in your code, take a look at how I've modified it below:Note that I have escaped your path name, and removed your first if folder.... That wasn't getting the folders as you expected, but rather selecting a character of the path string one at a time.You will need to modify the code to get it to look through all folders, this currently doesn't. Take a look at the glob module.
You will need to escape the backslash on windows and you can use os.walk to get all the pdf files.
You are basically iterating through the string testdir with the first for loop then passing each character to os.listdir(folder) does not make any sense then, just remove that first for loop and use fnmatch method from fnmatch module:
Try testdir = r"C:\Test" instead of testdir = "C:\Test". In python You have to escape special characters like for example \. You can escape them also with symbol '\' so it would be "C:\\Test". By using r"C:\Test", You are telling python to use raw string.Also for folder in testdir: line doesn't make sense because testdir is a string so You are basically trying to iterate over a string.


Answer URL
https://docs.python.org/3/library/glob.html
https://docs.python.org/3/library/glob.html
https://docs.python.org/3/library/fnmatch.html?highlight=fnmatch#fnmatch.fnmatch
