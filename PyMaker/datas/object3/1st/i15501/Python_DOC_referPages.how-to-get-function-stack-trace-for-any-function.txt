Natural Text
For example, I have the following code:Is there a way to get call list for each function? For example, for this example I want to get the following dict:I know only one way to complete my task. It is to use globals() and then parse source code. But it seems is very ugly.
I know only one way to complete my task. It is to use globals() and then parse source code. But it seems is very ugly.I'm not sure what you think parsing source code would do for you here.If you want to build a dynamic call graph, what you want to do is decorate each functionâ€”replace it with a wrapper that does some extra stuff before or after calling the real function. For example:Or, maybe more simply (and more flexibly), you might want to use the bdb debugger framework to step through your program and just record the user_call instances.If you want to build a static call graph, then obviously that comes from the source, but there's no reason to parse it yourself when Python comes with the ast module to do it for you. (You can use inspect.getsource to get the source code to parse.)


Answer URL
https://docs.python.org/3/library/pdb.html
https://docs.python.org/3/library/ast.html
https://docs.python.org/3/library/inspect.html#inspect.getsource
