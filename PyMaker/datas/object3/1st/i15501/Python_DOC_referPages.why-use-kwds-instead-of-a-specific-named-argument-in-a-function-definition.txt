Natural Text
The function definition below comes from the itertools recipes page (https://docs.python.org/2/library/itertools.html#recipes):The function signature would seem to be more readable written with the "repeat" argument specified explicitly, e.g.But I'm guessing there is a reason why it is written using the general idiom. Can anyone explain?
Because you can't have keyword arguments after *args in Python 2.x, it's a SyntaxError:The only option is therefore to use **kwds and extract repeat, if present, from the resulting dictionary.By contrast, in the 3.x documentation, random_product is implemented as you suggest, as that syntax is valid in Python 3:
The original code was probably copied from a library function def product(*args, **kwds): and kept this way to look similar to the product() function. Plus def random_product(*args, repeat=1) isn't valid in Python 2.x (kudos go to jonrsharpe for pointing this out).Other than that, I don't see a reason to use **kwds here. If this was a library function that changed over time, it might be there so old arguments would be still supported but even then, I'd prefer , repeat=1, **kwds) to document which arguments are still supported and which are ignored.To support my point, the next example reads def random_permutation(iterable, r=None):.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools-recipes
https://docs.python.org/3/library/itertools.html#recipes
