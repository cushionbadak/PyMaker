Natural Text
When I try to get the values using ConfigParser,I am not able to get certain values from environment variables in my .ini fileInterpolating variable names are printing variables as it is without value substitution.Below is my code,config_parse.py:config_data.ini:I am getting the following output,$] python config_parse.pyserver1%(USER)/net/server1/mnt/data0/%(USER)/my_logs/%(HOSTNAME)%(SERVER_INSTANCE)$]
You're using ExtendedInterpolation, which uses ${section:option} syntax.The reason why you get server1 for myConf.get('server_details', 'hostName', vars=os.environ) isn't because hostName = %(HOSTNAME) is interpolated, but because HOSTNAME from vars takes precedence.It's easier to see with an example:If vars contains an entry for FOO, the get call for foo (case insensitive) will return its value, the value from the config file is actually ignored.So that means that for hostName you acutally get the value of the HOSTNAME environment variable. userName does not exist in os.environ, so you get the value from the config file: %(USER).So if you use ExtendedInterpolations, use ${...} style, if you use BasicInterpolation use %(...)s style. You can't mix both. And if you blindly pass vars=os.environ, be aware that the envionment variables will override all options in all sections with the same name. Depending on the context the application runs in, that may be relevant for security.


Answer URL
https://docs.python.org/3/library/configparser.html#configparser.ExtendedInterpolation
https://docs.python.org/3/library/configparser.html#configparser.ConfigParser.get
