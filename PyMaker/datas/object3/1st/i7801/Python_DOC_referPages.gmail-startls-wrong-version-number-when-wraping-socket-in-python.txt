Natural Text
I am trying to connect to Gmail's SMTP using sockets in Python3. With this code (omitting the response-recieving parts):But I'm getting the following error in do_handshake    in the last line: ssl.SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:645)I have also tried the following version in the last line:Am I doing something wrong ? Thanks.
The problem is that you're never receiving on your socket.  You may be able to get away with that on some servers (have my doubts) but Google's servers don't like it.  Really don't think it would work with any server as I'm pretty sure you need a clean receive buffer so the TLS negotiation can take place without a bunch of prior junk still in the pipeline.Your code is working with the following changes for me:But as has already been mentioned in the comments, unless this is just for fun and/or a learning experience, you should be using python's smtplib.


Answer URL
https://docs.python.org/3/library/smtplib.html
