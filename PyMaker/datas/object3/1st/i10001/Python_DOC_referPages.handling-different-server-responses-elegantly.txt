Natural Text
I send requests to a server and receive responses. Depending on the situation, the responses vary, and I have to handle each of them differently.What I would like to do is to have something of this sort:However, I am running into the problem that different children might not exist, which makes me have to use multiple try-except flow controls. This takes a lot of space and is terribly ugly:Is there an elegant way to handle different possible responses?
Let me recommend that you separate your concerns. You effectively want to:get a response, that may raise an exceptionperform an operation based on the value of the responseThe process of getting a response may cause an exception to be raised because the child that you are looking for may not exist. Your code catches all exceptions, you should try to catch a specific exception. If the child does not exist you don't need to attempt to perform any operation. I would recommend something like:NOTE Since you need to iterate over multiple nodes (children). You can place the code in a for loop.
You don't give enough context for a more accurate answer (like what are response and response.getChild(), what exception(s) getChild() could raise and how they really are supposed to be handled). Also you seem to be mixing tow distinct concerns - dispatching processing according to some conditions and issuing messages to the user. Anyway: one way to avoid ugly repeated / code is to build a sequence of objects encapsulating both the test and the processing and then loop over this sequence, ie:


Answer URL
https://docs.python.org/3/glossary.html#term-mapping
