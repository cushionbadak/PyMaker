Natural Text
Hello I found this code in  https://github.com/gskielian/PNG-2-CIFAR10/blob/master/convert-images-to-cifar-format.py I want to convert my dataset of images in this format but I get an error:data.append(pix[x,y][color])TypeError: 'int' object has no attribute '__getitem__'I'm a beginner in python and I don't know about the error, please help me
It seems at least one of the images in your collection is a 'single-band' image.  The __getitem__ method of a PixelAccess object returns a single integer for a single-band image, or a tuple for a multi-band image.  __getitem__ is a 'magic' method name: if an object obj has a method named __getitem__, then you can write obj[something] to mean obj.__getitem__(something).  It's therefore possible to write pix[x,y] instead of  pix.__getitem__((x,y)). Four a three-band RGB image, pix[x,y] returns a 3-tuple of integers representing the colour at pixel (x, y).  pix[x,y][color] therefore returns one of those three.  For a single-band image, pix[x,y] returns a single integer, and it doesn't make sense to attempt to call __getitem__ on an integer, so pix[x,y][color] will throw an exception.The script you've found appears only to handle three-band RGB images (and perhaps four-band RGBA images, ignoring the A channel).  As you've seen, it fails with single-band images.  It may well succeed but return incorrect results for CMYK or YCbCr images.   Fortunately, the fix to these problems appears to be fairly simple: if im isn't an RGB nor RGBA image, convert it to one.  Do this by adding the following two linesimmediately under


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__getitem__
