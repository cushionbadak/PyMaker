Natural Text
I'm using windows and linux machines for the same project. The default encoding for stdin on windows is cp1252 and on linux is utf-8.I would like to change everything to uft-8.Is it possible? How can I do it?
You can do this by not relying on the implicit encoding when printing things. Not relying on that is a good idea in any case -- the implicit encoding is only used when printing to stdout and when stdout is connected to a terminal.A better approach is to use unicode everywhere, and use codecs.open or codecs.getwriter everywhere. You wrap sys.stdout in an object that automatically encodes your unicode strings into UTF-8 using, for example:This will only work if you use unicode everywhere, though. So, use unicode everywhere. Really, everywhere.
This is an old question, but just for reference.To read UTF-8 from stdin, use:To write UTF-8 to stdout, use:
Python automatically detects the encoding of stdin. The simplest way I have found to specify an encoding when automatic detection isn't working properly is to use the PYTHONIOENCODING environment variable, as in the following example:For more information about encoding detection and this variable on different platforms you can look at the sys.stdin documentation.
In python 3.7 and newer you can usesys.stdin.reconfigure(encoding='utf-8')referpy2:https://stackoverflow.com/a/4546129/7721525py3:https://stackoverflow.com/a/16549381/7721525


Answer URL
https://docs.python.org/3/using/cmdline.html#envvar-PYTHONIOENCODING
https://docs.python.org/3/library/sys.html#sys.stdin
