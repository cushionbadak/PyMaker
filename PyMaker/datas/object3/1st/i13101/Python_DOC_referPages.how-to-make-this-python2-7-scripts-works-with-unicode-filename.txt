Natural Text
I have the following script to process filenames with non-latin characters:filelist in my folder:output in _filelist.txt:
You should get the list of files as Unicode strings instead by passing a Unicode file path to listdir. As you're using getcwd, use: os.getcwdu()Then open your output file with a text encoding wrapper. io module is the new way to do this (io handles Universal newlines correctly).Putting it all together:In Windows and OS X, this will just work as filename translation is enforced. In Linux, a filename can be any encoding (or non at all!). Therefore, ensure that whatever is creating your files (avi + srt), is using UTF-8, your terminal is set to UTF-8 and your locale is UTF-8.
You need to open your file with a proper encoding to write unicode in it.You can use codecs module for opening the file:You can use UTF-8 as your encoding which is a universal encoding or another proper encoding based on your unicode type.Also note that instead of opening the file and closing it manually you can use with statement to open the file which will close the file automatically at the end of the block.


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#the-with-statement
