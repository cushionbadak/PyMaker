Natural Text
My input isExpected output:The key is a list which conclude the first part of each item, such as 'apple' 'pear', and the value is another list.How should I do it? 
You can achieve this with the help of collections.defaultdict:To get the result:For a more efficient (?) version, subclass defaultdict to customize the default __missing__ hook to call the default_factory with missing key as a parameter (I copied this text and the implementation from the other answer of mine). Then you'll be able to do this in a single pass:The result is thenIn Python 3, you'll have to call list(value.values()) instead of just value.values() to get a list object.
You can use following snippet:
This function can help you
Here is my solution:And the output:EDIT:emmm, just found a better way to merge the dict value.If the name_dict look like this one:the task would be easy. What's the difference? The value is a list.Now, we can use collections.Counter to merge two dicts!so here is the new solution, we convert the value to a list first:(skip the 'key', only show the 'value'):


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
