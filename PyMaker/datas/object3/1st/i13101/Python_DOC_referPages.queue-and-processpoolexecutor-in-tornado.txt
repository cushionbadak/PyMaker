Natural Text
I'm attempting to use the new Tornado queue object along with concurrent.futures to allow my webserver to pass off cpu-intensive tasks to other processes. I want to have access to the Future object that's returned from the ProcessPoolExecutor from the concurrent.futures module so that I can query its state to show on the front-end (e.g. show the process is currently running; show that it has finished).I seem to have two hurdles with this method:How can I submit multiple q.get() objects to the ProcessPoolExecutor while also having access to the returned Future objects?How can I let the HomeHandler get access to the Future object returned by the ProcessPoolExecutor so that I may show the state information on the front-end?Thanks for any help.
What are you trying to accomplish by combining a Queue and a ProcessPoolExecutor? The executor already has it's own internal queue. All you need to do is make the ProcessPoolExecutor a global (it doesn't have to be a global, but you'll want to do something similar to a global even if you keep the queue; it doesn't make sense to create a new ProcessPoolExecutor each time through consumer's loop) and submit things to it directly from the handler.


Answer URL
https://docs.python.org/3/library/concurrent.futures.html
