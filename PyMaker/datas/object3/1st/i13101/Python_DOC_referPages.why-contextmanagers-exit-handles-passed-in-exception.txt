Natural Text
When looking at what's new in python 3.5, I found PEP 0479. In its rationale, it presents an example using @contextlib.contextmanager. I looked at this decorator's source, and found that the exception passed in its exit method is thrown in it's generator: I wonder why the exception raised in the with block should be passed in this internal generator. I think the proper way is to close the generator and let the exception propagate.
If @contextmanager worked in the fashion you suggest, it would not be reasonably possible to (selectively) suppress exceptions using a context manager written with @contextmanager.  Since @contextmanager is a general-purpose tool, that kind of arbitrary limitation is less useful than allowing the client code to do what it likes.Now, you may be of the opinion that context managers should not suppress exceptions in the first place, but this is explicitly allowed and even used by the standard library, so it's too late to go around prohibiting it now.


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.suppress
