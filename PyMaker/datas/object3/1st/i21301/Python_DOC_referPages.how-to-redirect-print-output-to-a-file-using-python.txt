Natural Text
I want to redirect the print to a .txt file using python. I have a 'for' loop, which will 'print' the output for each of my .bam file while I want to redirect ALL these output to one file. So I tried to putat the beginning of my script. However I get nothing in the .txt file.My script is:So what's the problem? Any other way besides this sys.stdout?I need my result look like:
The most obvious way to do this would be to print to a file object:However, redirecting stdout also works for me.  It is probably fine for a one-off script such as this:Redirecting externally from the shell itself is another good option:Other questions:What is the first filename in your script?  I don't see it initialized.My first guess is that glob doesn't find any bamfiles, and therefore the for loop doesn't run.  Check that the folder exists, and print out bamfiles in your script.Also, use os.path.join and os.path.basename to manipulate paths and filenames.
You can redirect print with the >> operator.In most cases, you're better off just writing to the file normally.or, if you have several items you want to write with spaces between, like print:
Python 2 or Python 3 API reference: print(*objects, sep=' ', end='\n', file=sys.stdout, flush=False)The file argument must be an object with a write(string) method; if it is not present or None, sys.stdout will be used. Since printed arguments are converted to text strings, print() cannot be used with binary mode file objects. For these, use file.write(...) instead.Since file object normally contains write() method, all you need to do is to pass a file object into its argument.Write/Overwrite to FileWrite/Append to File
This works perfectly:Now the hello will be written to the test.txt file. Make sure to close the stdout with a close, without it the content will not be save in the file
The easiest solution isn't through python; its through the shell.  From the first line of your file (#!/usr/bin/python) I'm guessing you're on a UNIX system.  Just use print statements like you normally would, and don't open the file at all in your script.  When you go to run the file, instead ofto run the file, usewhere you replace <filename> with the name of the file you want the output to go in to.  The > token tells (most) shells to set stdout to the file described by the following token.One important thing that needs to be mentioned here is that "script.py" needs to be made executable for ./script.py to run.So before running ./script.py,execute this commandchmod a+x script.py(make the script executable for all users)
Don't use print, use loggingYou can change sys.stdout to point to a file, but this is a pretty clunky and inflexible way to handle this problem.  Instead of using print, use the logging module.With logging, you can print just like you would to stdout, or you can also write the output to a file.  You can even use the different message levels (critical, error, warning, info, debug) to, for example, only print major issues to the console, but still log minor code actions to a file.A simple exampleImport logging, get the logger, and set the processing level:If you want to print to stdout:If you want to also write to a file (if you only want to write to a file skip the last section):Then, wherever you would use print use one of the logger methods:To learn more about using more advanced logging features, read the excellent logging tutorial in the Python docs.
You may not like this answer, but I think it's the RIGHT one. Don't change your stdout destination unless it's absolutely necessary (maybe you're using a library that only outputs to stdout??? clearly not the case here).I think as a good habit you should prepare your data ahead of time as a string, then open your file and write the whole thing at once. This is because input/output operations are the longer you have a file handle open, the more likely an error is to occur with this file (file lock error, i/o error, etc). Just doing it all in one operation leaves no question for when it might have gone wrong.Here's an example:And then when you're all done collecting your "data lines" one line per list item, you can join them with some '\n' characters to make the whole thing outputtable; maybe even wrap your output statement in a with block, for additional safety (will automatically close your output handle even if something goes wrong):However if you have lots of data to write, you could write it one piece at a time. I don't think it's relevant to your application but here's the alternative:
if ur using linux i suggest u to use tee command the implementation goes like this python python_file.py |tee any_file_name.txtif u dont want to change anything in the code ,i think this might be the best possible solution ,u can also implement logger but u need do some changes in the code.
Changing the value of sys.stdout does change the destination of all calls to print. If you use an alternative way to change the destination of print, you will get the same result.Your bug is somewhere else:it could be in the code you removed for your question (where does filename come from for the call to open?)it could also be that you are not waiting for data to be flushed: if you print on a terminal, data is flushed after every new line, but if you print to a file, it's only flushed when the stdout buffer is full (4096 bytes on most systems).
If redirecting stdout works for your problem, Gringo Suave's answer is a good demonstration for how to do it.To make it even easier, I made a version utilizing contextmanagers for a succinct generalized calling syntax using the with statement:To use it, you just do the following (derived from Suave's example):It's useful for selectively redirecting print when a module uses it in a way you don't like. The only disadvantage (and this is the dealbreaker for many situations) is that it doesn't work if one wants multiple threads with different values of stdout, but that requires a better, more generalized method: indirect module access. You can see implementations of that in other answers to this question.
Something to extend print function for loops


Answer URL
https://docs.python.org/3/library/functions.html#print
https://docs.python.org/3/library/sys.html#sys.stdout
https://docs.python.org/3/glossary.html#term-file-object
https://docs.python.org/3/glossary.html#term-file-object
