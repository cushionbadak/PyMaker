Natural Text
I want to print out a dictionary, sorted by the key. Sorting the keys is easy in the view, by just putting the keys in a list and then sorting the list. How can I loop through the keys in the template and then get the value from the dictionary.(Just made up the example...)The part that doesn't work is the "company_dict.company.items" part. I need the "company" to be the value of company. Right now the company prat is looking for a key named "company" not the value of "company" from the loop above.I'm doing a bit of processing to put the dictionary of dictionaries together. Changing the layout of the data isn't really an option. I figure the right approach is to write up a template tag, just wanted to know if there was a built-in way I missed.
try this: http://www.bhphp.com/blog4.php/2009/08/17/django-templates-and-dictionariesa custom template filter will do the trick.more on custom template filters: http://docs.djangoproject.com/en/dev/howto/custom-template-tags/#howto-custom-template-tagsin your example you'd do:
create a custom filter, which is like this:then in your template you shall call it using:You will be able to get the sorted dict by Key.
This last solution was very useful to me too. I'm using Django 1.6.2, and it seems to be converting a dict to a list with the key as the first elemement of that list and the content as the second. So even when I pass in a dict, it treats it as a list. So I tweaked the above to look like this, and it works for me:
for some reasone Turikumwe's filter not worked for me (python3.4, Django 1.7), so I rewrite it to return list of tuples instead of SertedDict or OrderedDict:So in template we don't need to get .items
Turikumwe's answer got me close, but did not work for my environment: python3 and Django 1.10. I found that invoking the filter with:actually results in a ItemsView object, not a dict.  (I suspect this is a python 2 vs 3 issue).  Given the ItemsView, the answer is even easier


Answer URL
https://docs.python.org/3/library/collections.html#collections.OrderedDict
