Natural Text
I wrote this code to delete a row from a table – but if I enter a name which is not in the table, it still outputs "Data Deleted Successfully":How can I handle this properly?
Cursor.execute() will only raise an exception if the SQL statement it attempts to execute fails – for example:orA valid SQL statement which correctly does nothing has succeeded, not failed, and so doesn't raise an exception. Your DELETE statement is correct to do nothing when it doesn't find the provided value for name, so there's no error.You can find out how many rows were affected by an SQL statement using the Cursor.rowcount attribute. Rewriting your code to make use of the attribute would look something like this:Note: I've left the commit() where it was in your code … depending on your application, it may be that it should in fact be moved outside the if/else block.


Answer URL
https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.execute
https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.rowcount
https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.rowcount
