Natural Text
I am using Django Rest Framework.The API receives GET requests with json objects encoded into the URL. For example:/endpoint?%7B%0D%0A++%22foo%22%3A%5B%22bar%22%2C%22baz%22%5D%0D%0A%7DWhere the decoded parameters areI can't find anything in the documentation for Django or DRF pointing to how the framework can handle this so that I get a QueryDict with the json objects in it by doing something like:request.query_params # Should yield a dict -> {foo=[bar,baz]}How can I decode JSON encoded URLs in Django Rest Framework?Note that my actual parameters are much more complex. Using POST is not an because the caller relies heavily on caching and bookmarking
The Django request.GET object, and the request.query_params alias that Django REST adds, can only parse application/x-www-form-urlencoded query strings, the type encoded by using a HTML form. This format can only encode key-value pairs. There is no standard for encoding JSON into a query string, partly because URLs have a rather limited amount of space.If you must use JSON in a query string, it'd be much easier for you if you prefixed the JSON data with a key name, so you can at least have Django handle the URL percent encoding for you.E.g.can be accessed and decoded with:If you can't add the json= prefix, you need to decode the URL percent encoding yourself with urllib.parse.unquote_plus(), from the request.META['QUERY_STRING'] value:
Urllib ought to do it:The above almost works, but the encoding might be incorrect, not sure:


Answer URL
https://docs.python.org/3/library/urllib.parse.html#urllib.parse.unquote_plus
https://docs.python.org/3/library/urllib.parse.html#module-urllib.parse
