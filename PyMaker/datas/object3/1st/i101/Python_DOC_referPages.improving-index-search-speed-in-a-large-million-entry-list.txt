Natural Text
I have a list which is a million items long of random, repeatable integers. I need to sort that list, and then find the index of the first iteration of every unique element in the list. When I do this, I am running into run time >5 minutes long. Can anyone give me any suggestions to speed up my code? An example of my process is shown below.
inds = [a.index(i) for i in sorted(unique_a) if i not in inds] is implicitly quadratic is a.index(i) is linear. Use a dictionary to grab the indices in one pass over the sorted list:
Just store the first position for every unique element:And then replace a.index(i) for first_position[i]Or just use:_, indices = zip(*sorted(first_position.items()))
You can use the bisect_left function from the standard library's bisect module to do this.  On a sorted list, a bisection search is faster than searching through the list as index does.On my machine, using bisect.bisect_left is faster than iterating over the list and accumulating indexes on the way:


Answer URL
https://docs.python.org/3/library/bisect.html
