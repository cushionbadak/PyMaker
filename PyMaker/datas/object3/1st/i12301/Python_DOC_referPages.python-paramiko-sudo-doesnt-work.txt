Natural Text
I am trying automate linux administration using Python Paramiko ssh module, everything working fine except sudo. I followed the paramiko documentation for sudo using stdin.write() and stdin.flush() but no luck so far.Please help me on this.
sudo behaves in very specific ways regarding the TTY you're on, in order to maintain its idea of security. There is a command line option to write the prompt to stderr and read from stdin, instead of sudo dealing with the TTY directly. Try:If you're doing this for system administration tasks, a lot of the framework has already been done. You could have a look at Fabric  if you're happy writing python for most things, or something like Ansible to still control things over ssh but write policy in a simpler yaml format.
You can also use the atexit module. It cleans my functions on exit.I use it like this: atexit.register(client.close)


Answer URL
https://docs.python.org/3/library/atexit.html
