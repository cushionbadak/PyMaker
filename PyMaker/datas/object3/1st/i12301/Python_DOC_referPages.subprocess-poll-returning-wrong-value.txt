Natural Text
I am starting a process and storing it in a variable:If I print the variable I can see that the value is stored.I can see that wpa_supplicant is indeed started.However when I check the poll() value I am getting 255 instead of NoneWhen I am stopping the process I do it like so:Sometimes (a lot of the time) it works, I can stop and start the process, read the value from poll() successfully, however it appears to be unreliable. Any idea why this could be happening?
I can see that wpa_supplicant is indeed started.if .poll() returns a non-None value; it means the process is dead and moreover it is reaped already (the status is read) i.e., you won't see anything in the process table. If you see something after .poll() == 255; it means that you are looking at a different process e.g., the child process started by Popen() might have started a grandchild process in turn and wpa_supplicant exited while the grandchild continues to run or you might see some unrelated to your script process. Compare wpa_supplicant.pid with what you see in the process table, to find out which scenario you are observing (if they are close then the former is more likely than the latter). The meaning of the specific return code depends on a command e.g., ssh returns 255 in case of an error (otherwise it returns the exit status of the remote command that it runs -- 255 indicates wrong argument to the exit builtin in bash and therefore it is less likely that the remote program produces it). Remove stdout=open('/dev/null', 'w'), to see errors as @Andrea Corbellini suggested.


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.DEVNULL
