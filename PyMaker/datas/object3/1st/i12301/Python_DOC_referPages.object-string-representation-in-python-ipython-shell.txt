Natural Text
I have a friendly month class I enjoy that returns an ugly robot friendly string:I want m to show something like 1-31-2010. I try using unicode and str, just like in django, no dice:For d object, it doesn't implement unicode, but has string. The str and ipython return don't match. I'll open a separate question for that. How can I make my python classes display something useful for the user? Terima kasih
Your real issue is that both Python 3 shell and IPython call repr NOT str on your object. Here's a snippet to play with to see:Without the __repr__ defined, IPython would simply output something along <__main__.Car at 0x7f05841b1350> instead of falling back to __str__. Unless you e.g. explicitly call str(car) or print(car), in which the __str__ will be used.So, you should define a __repr__ in the object.What purpose is __str__ nowadays then?It's not that __repr__ replaces __str__ in Python 3 or anything, but __str__ merely returns a readable reprentation of the object, while __repr__ is a more complete unambiguous representation (to the point where you can even reconstruct the object from the __repr__ output)
I believe you could change Month's str to this:so it would access the date object and output it with the format you wantEdit: Also, as already posted, you can make the repr method and just make it point to the str so you always get the same format
though you could already output the date object's details by d.strftime("%Y-%m-%d")


Answer URL
https://docs.python.org/3/library/functions.html#repr
