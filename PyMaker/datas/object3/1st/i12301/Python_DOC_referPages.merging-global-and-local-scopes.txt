Natural Text
If this worksthen why doesn't this?The error in the latter statement claims that x is referenced before assignment, however it works in the first example...
In python when you assign a variable the declaration happens automatically.So when you assign a value to x inside the function, python think that is a new local variable, shadowing the global x.if you want to assign a value to the global x you can do this:
You cannot assign a global variable in python without explicitly doing so. By writing x+=1 you are assigning a value to x and are implicitly declaring x as a local variable. But it is not defined and therefore you get an error.The loop has no actual effect, as the locals dictionary is empty.If you want to use global variables in Python (which you shouldn't, but that's another matter), you should use the global keyword.
suffixing 1 and 2 your two functions, you can find local names (syntax slightly different in python 2) :So x have different status. In the second case the local x mask the global one, so x=x+1 cause the error, because not yet defined.From docs :If a name is bound in a block, it is a local variable of that block, unless declared as nonlocal or global.(...).If a variable is used in a code block but not defined there, it is a free variable.


Answer URL
https://docs.python.org/3/reference/executionmodel.html
