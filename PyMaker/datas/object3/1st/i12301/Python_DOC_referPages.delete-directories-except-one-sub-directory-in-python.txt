Natural Text
I have some directories which I want to delete but one of the directory has a sub-directory that I want to keep.Example:Filespicturescat.pngicon.pngMusicsong.mp3MoviesFirst.mp4I want to delete everything (directories and sub-directories) except the sub-directory pictures for example.Right now I have this:
Here is a solution. UNTESTED!Note the use of os.walk()'s ability to change dirnames in-place to tell it not to recurse into a sub-directory, and the avoidance of using topdown=False which would break this feature:When topdown is True, the caller can modify the dirnames list in-place  (perhaps using del or slice assignment), and walk() will only recurse  into the subdirectories whose names remain in dirnames; this can be  used to prune the search, [...]  Modifying dirnames when topdown is False has no effect on the behavior of the walk, because in bottom-up mode the directories in dirnames are generated before dirpath itself is generated.See the docs for more information.Also notable is the use of os.path.samefile() for path comparisons. This is available on Windows since version 3.2.THIS IS UNTESTED!USE AT YOUR OWN RISK!!SERIOUSLY, BE CAREFUL!!!


Answer URL
https://docs.python.org/3/library/os.path.html#os.path.samefile
