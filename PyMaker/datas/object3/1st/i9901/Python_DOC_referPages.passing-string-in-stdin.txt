Natural Text
I want to create an AVD (Android Virtual Device) through command line in python. For that, I need to pass a string n to the stdin. I have tried the following but it raises the following errorWhat can I do?
There's something not working with your example. subprocess.check_output() returns the output from the child process you want to execute, not a handle to this process. In other words you get a string object (or maybe a bytes object) which you cannot use to manipulate the child process.Probably what happens is that your script, using subprocess.check_output(), will execute the child process and wait until it is finished before continuing. But since you are never able to communicate with it, it will finish with a non-zero return value which will raise the subprocess.CalledProcessErrorNow, using grep as an example of a command that waits on the standard input to execute something (since I don't have an Android Virtual Device creator installed) you could do this:It will print "Output from child process: But you can find an answer on StackOverflow", which is the output from grep.In this example, I have Used the class subprocess.Popen to create an handle to the child processSetting arguments stdin and stdout with the value subprocess.PIPE to enables us to communicate later on with this process.Used its .communicate() method to send a string to its standard input. In the same step, I retrieved its standard output and standard error output.Printed the standard output retrieved in the last step (just so to show that it is actually working)Waited that this child process is finished In Python 3.5, it's even simpler:In this example, I have:Used the module function subprocess.run() to execute the command.  The input argument is the string we send to the standard input of the child processThe return value is used later on to retreive the output of the child processNow you have to adapt this code to your situation.


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.check_output
https://docs.python.org/3/library/subprocess.html#subprocess.CalledProcessError
https://docs.python.org/3/library/subprocess.html#subprocess.run
