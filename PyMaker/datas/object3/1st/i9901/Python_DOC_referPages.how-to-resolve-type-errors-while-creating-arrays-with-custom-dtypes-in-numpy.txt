Natural Text
I am porting some code from python 2 to python 3. In my code, I define a data type for strings as:Which shows up as:  Now, when I create a basic numpy array, I get no errors:But when I introduce my data type,What does this error mean? All strings in python 3 are Unicode by default, so by explicitly stating the data type as Unicode I shouldn't get an error. How do I define my data type so it accepts unicode strings in both python 2 and 3?
I was able to eventually figure it out:When using labelled dtypes the array is actually a structured array. Structured arrays arrays are created from a list of tuples (and not simply a list of values). So:Should be:More concisely, if X is a list of strings, you can use:Which is compatible with python 2 and 3.Also, the same code will give a TypeError in python 2 as well:So my question was partly incorrect in the first place. It had less to do with python version than with the distinction between arrays and structured arrays.


Answer URL
https://docs.python.org/3/glossary.html#term-bytes-like-object
