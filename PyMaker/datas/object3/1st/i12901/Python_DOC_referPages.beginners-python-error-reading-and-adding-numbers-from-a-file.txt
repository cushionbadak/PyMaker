Natural Text
so i'm trying to pull numbers from a file numbers.txt and add them together.  The program can currently pull the numbers one at a time and print them spaced out on one line.  I now need it to total all of the values. The numbers in the file are:9191517517The total should be 82 but it will only add the two number 17's and output 34def main():main()
You have two problems. The first is as other answers have said - you are reading in strings. You need to convert those to a numeric data type. This is either int or float (or if you are doing monetary values, I recommend using decimal).Very simply, this can be done like so:Second, you are resetting total to 0 each time you go through your for loop. Thus, at the end of your loop, total will equal the last value you read.To correct this, pull your total = 0 out of the loop:
convert the string to an int:
You'll need to convert line to an integer. At the moment, you're trying to add a string to an integer, which isn't possible. Simply wrap line in int(), like this:
The error tells you the exact problem: you're adding an int and a str. The int is total and the str is line. Everything from a file is of type str. To fix the error, do total += int(line).You will also need to initialize total before you start the loop, or it'll keep resetting to zero and leave you with just the final value.Overall, you can streamline the code as follows:This maps the file iterator to ints, then adds them with sum, then prints it with print.
You need to initialize total before the loop, not inside it. You're also doubling total instead of accumulating it. Try this:Note that total is modified once before the beginning of the loop and once inside the loop.


Answer URL
https://docs.python.org/3/library/decimal.html
