Natural Text
Before you mark this as duplicate, please hear me out.My code needs a lot of inputs at the terminal. It needs to process two (or more) trajectory files (.gro, separated by a comma). Here is what the input at the terminal looks like:script -c 'python script.py -f traj1.gro,traj2.gro -i 1 -s 30 ... (other info)' logfile.log Inside my script, to separate the two traj files that come after the '-f' , I use this:Now the code is supposed to go through each traj file one at a time. At first, it works fine. The 1st file was processed, and it printed "0" and the file name. But when the processing was done, it printed:1Traceback (most recent call last):File "script.py", line 462, in file = files[s]IndexError: list index out of rangeScript done, file is logfile.logHow is it out of range when the len(files) is 2 ? Also it clearly printed "1" so we know that the for s in range(len(files)) line worked not only once but for a second time, it just didn't execute the rest of the block, and it also did not print the 2nd file name (index 1).
If the for is causing you trouble (with the len and the range), why not simply do:Much simpler, much cleaner, and it may give you a better indication as to what exactly is wrong.I suspect that you are altering the s variable (or potentially the files variable) later on in your code. Also, may I suggest using argparse?
I removed the global assignment (besides making it python 3) and tested with a shorter test command python script.py -f traj1.gro,traj2.gro -i 1 -s 30: It spitted out:I would recommend not using system names like file and files for variables


Answer URL
https://docs.python.org/3/library/argparse.html
