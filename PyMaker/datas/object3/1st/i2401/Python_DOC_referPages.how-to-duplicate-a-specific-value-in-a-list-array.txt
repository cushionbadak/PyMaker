Natural Text
Any advice on how to repeat a certain value in an array in Python?For instance, I want to repeat only 2 in array_a:Wanted outcome is: I repeat each 2 and leave the 1:I tried numpy and I could duplicate the entire array but not a certain value.
If you're interested in a numpy solution, you can repeat an array on itself using np.repeat.This works only if you haves 1s and 2s in your data. For a generic solution, consider
May be you can use dictionary to each unique element and number of times it needs to be repeated. Then using list comprehension to create array:Output:
This seems a good use-case for a generator:
If you convert this to a list, you can loop through it, and if it matches your criteria, add an extra version. For example:
loop over the array (a 'list' in python)find the the numberget the position of the matched number in the arrayinsert another number after each matched positionhttps://docs.python.org/3/reference/compound_stmts.html#forhttps://docs.python.org/2/tutorial/datastructures.html#more-on-lists
An attempt using comprehensions.It basically spits out tuples, "repeats", which contain the element once if it's not the element to repeat, or twice if it's the element to repeat. Then all of the elements of these "repeats" tuples are flattened into the answer.
Using a generator.
Here is a handy one-liner using itertools and list comprehension with if and else in it. First it makes a nested list (to have the ability to repeat items on a certain position) and then it will simply flatten it at the end using .chain()-method:The specific value to double is inside the if-statement. Using multipliers (instead of [item, item]) and a variable (instead of 2) would make this easily more generic, see this for example:While this approach is a handy one-liner using builtin libraries, the approach from coldspeed is faster:
Can try a list comprehension and create a flat function:Output:


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#for
