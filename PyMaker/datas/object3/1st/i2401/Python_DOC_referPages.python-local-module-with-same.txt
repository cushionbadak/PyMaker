Natural Text
I have a local python code repo like the following. In python/foo/code.py I want to import target_module in foo/bar/baz/target_module. However, because code.py is under the foo module, I cannot import target_module. Since it's a largish repo with a great deal of legacy code, I cannot easily change any directory name. Is there any other workaround?Thanks in advance!
There a couple ways you can do this. The quick and dirty is to just add it to your interpreter's path.Here's my setup:Here's the contents of target_module.py:and how you can import this function into code.py:this outputs:or you can call it from the foo directory and it'll still work fine:You can also just add the foo/bar/baz directory to your PYTHONPATH environment variable instead of calling sys.path.append. This syntax is shell dependent: so I'll let you google how to set environment variables for your particular shell.Ideally you'd want to make your modules deployable (i.e. use setup.py and distutils or setuptools and put __init__.py in each module), and then you can import "normally" (kind of like you can "just" import numpy and it works). But since you claim it's legacy, maybe this might be hard for you to accomplish. I get it: in legacy systems all bets are off and sometimes the quick and dirty is fine (and maybe even ideal if you don't want to spend a lot of time fixing the issue).I can expand this answer if you're interested in creating deployable python packages, and if not, the above should get the job done.HTH.


Answer URL
https://docs.python.org/3/library/importlib.html
