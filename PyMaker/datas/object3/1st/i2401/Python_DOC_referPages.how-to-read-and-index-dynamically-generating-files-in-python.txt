Natural Text
How can we read and index dynamically generating files, from a source folder, in python and append index with the newly added or unread files, in the folder, upon code refresh?An automation tool is continuously putting files (say xlsx) to the source folder, a python program will then read and plot a graph from all the files present in the folder, to optimize the performance of the code, we are planning to not to read all the files once the code/ application is refreshed but to only append the index with the unread files.An index could be a local variable/ table, which contains information about the input files, say which all files are already loaded/ read so that the system knows which one to read now and which all are already read. The idea is to read a file only once, not all the files after every refresh.
Following code will help you to give the list of new file names with their index.These variables are used:bag_of_file : Content list of file names which already proceedcurr_files : Contents list of file names which are in source foldernew_files : Contents list of file names which you are interested in.Run this code for first time when you have bag_of_file is empty.Output:Next time always run following code. Difference is only in line no. 3 where we used previous version of bag_of_files. Every time I added some new files in same folder.Output:Run it again :)Output:
To keep the answer simple, you could use os.listdir() to monitor the directory content.  The to watch for modified files that the program has already indexed, check the modified time on these with os.stat().


Answer URL
https://docs.python.org/3/library/os.html
https://docs.python.org/3/library/os.html
