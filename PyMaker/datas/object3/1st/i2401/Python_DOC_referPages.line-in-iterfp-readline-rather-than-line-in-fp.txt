Natural Text
I read builtin function iter 's example in Built-in Functions â€” Python 3.7.0 documentationI could not figure out what's the advantage over the following:Could you please provide any hints?
Both will iterate over a generator, without loading the whole file into memory, but the iter() version is demonstrating the use of the second argument of iter(), "sentinel". From the docs:if the value returned is equal to sentinel, StopIteration will be raisedSo this code will read from the file, until a line equals '' and then stop. This is a strange example, as all lines in the file will have a newline on the end, so this will only trigger at the end of the file anyway (if at all).
As wim and I discussed in the comments, there is no advantage for this particular case. For the 2nd code snippet to be equivalent to the first code snippet then it would look something like this:However, the only case an empty string can be returned by readline is at the end of the file (EOF) so it makes now difference here (other lines contain a newline '\n' character at least).If rather than an empty string another value was used, then the difference would be meaningful though. Personally, I think the docs should use a better example to illustrate this, like as follows:(Note I should really be closing the file handles)EDIT: I raised this as a possible documentation bug in issue34764


Answer URL
https://docs.python.org/3/library/functions.html#iter
