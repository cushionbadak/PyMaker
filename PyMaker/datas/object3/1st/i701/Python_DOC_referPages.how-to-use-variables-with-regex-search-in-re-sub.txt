Natural Text
I have a string and I want to get rid of multiple phrases in one pass.If the phrase starts with "aPPle" or "pEAr" and ends with " f " or " g " (with the space characters), respectively, then I want to replace it with a space. It can have anything between the start and end.I'm stuck on getting re.sub to use the variables and I get SyntaxError: invalid syntax. This is probably really simple, I've been unable to find an answer poking around SE.Here are phrases I would removeaPPle increased in other categories such as fpEAr !!@#!@#!@WDWDdaseio gHere are phrases I would keepaPPle t returns between paragraphsf (no spaces enclosing f)pEAr !!@#!@#!@WDWDdaseio f (aPPle goes with f and pEAr goes with g)
Use str.format() to inject values into your pattern, i.e.:You can do a simple start + '.*' + segment_end[i] instead but it becomes very unwieldy to deal with such manual concatenation if you want to employ complex patterns.Keep in mind that your end pattern must match exactly for it to work - for example, if your string ends with g (no space at the end), your pattern for pEAr won't work. You can define it's segment_end as g(\s|$) instead to capture such case.


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.format
