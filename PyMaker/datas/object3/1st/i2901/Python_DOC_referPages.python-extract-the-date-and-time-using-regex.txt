Natural Text
Problem Statement: I need to collect the logs from a file only after a particular time which can be in the following format 'Aug 7 11:00:00.000' or 'Aug 7 11:00:00'. These logs are in a different txt file and are of the format:and so on.How do I extract this particular date and time using regex and then collect the logs only after a specified time ? Is there any other better way to use other than regex.Right now using this:But it returns nothing, an empty list !Need help !P.S - I can use only traditional libraries in python, because this is an automation script for Junos
You definitely don't need regex for this - simple split on a whitespace and collecting the first two results should be more than enough, i.e.:Now, you can use datetime.datetime.strptime() to parse it into a native date-time object, but you might be limited with the formatting (i.e. %b is a month abbreviation only for the current locale and not all platforms/versions support single digit dates) so, given such a simple structure you might want to rebuild your captured date-time strings before getting them to parse to maximize compatibility:NOTE: your date-time objects will have 1900 as their year because your logs do not have the year information. The second date-time object contains its microseconds data as well, it just doesn't print out with the default representation of an datetime.datetime object.You can now compare those date-time objects to other date-time objects and filter out/print/whatever you want to do those lines that match your criteria, e.g. if you want only logs created after Aug 7:
I think regex is an overkill for that, I would've extracted the date part, something like:And use strptime() with the longer format, catch the exception, and try with strptime for the shorter format:


Answer URL
https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime
https://docs.python.org/3/library/datetime.html#datetime-objects
https://docs.python.org/3/library/datetime.html?highlight=strptime#datetime.datetime.strptime
https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior
https://docs.python.org/3/library/datetime.html#datetime.datetime
