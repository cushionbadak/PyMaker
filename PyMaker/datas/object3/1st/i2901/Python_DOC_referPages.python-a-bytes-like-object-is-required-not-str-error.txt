Natural Text
This question already has an answer here:Python 3 - TypeError: a bytes-like object is required, not 'str'                    1 answer                I'm trying to write a basic python program that takes the price to book ratio from yahoo finance's website. However, i'm getting an error:I've tried using encoding with this line:However this leads to another error of:Any Help would be appreciated. The full code is below:
urlopen returns a response object that, when read using read(), returns a bytes object. This is because thereâ€™s generally no guarantee about whether a HTTP request returns a binary response or some response that can be properly decoded into a string.Instead, it is up to you to decode the response explicitly, for example if you know exactly that there is a response in UTF-8, or by explicitly checking the Content-Type header in the HTTP response.So you need to do it like this:That attempts to decode the bytes response into a string using UTF-8 (by default). And then sourceCode will be a string which you will be able to call str.split() on.


Answer URL
https://docs.python.org/3/library/urllib.request.html#urllib.request.urlopen
https://docs.python.org/3/library/http.client.html#httpresponse-objects
https://docs.python.org/3/library/http.client.html#http.client.HTTPResponse.read
