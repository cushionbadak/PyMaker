Natural Text
I'd like to use part of a string ('project') that is returned from an API. The string looks like this:I'd like to store the 'LS003942_EP...  ' part in a new variable called foldername. I'm thought a good way would be to use a regex to find the text after Title. Here's my code:This gives me an error - TypeError: expected string or bytes-like object. I'm hoping for foldername = 'LS003942_EP - 5 Random Road, Sunny Place, SA 5000'
You can use ast.literal_eval to safely evaluate a string containing a Python literal:It seems (to me) that you have a dictionary and not string. Considering this case, you may try:If you have time, take a look at dictionaries.
I don't think you need a regex here:Essentially, I'm finding the position of the first colon, then adding 2 to get the starting index of your foldername (which would be the apostrophe), and then I use index slicing and slice everything from the index to the second-last character (the last apostrophe).However, if your string is always going to be in the form of a valid python dict, you could simply do foldername = (eval(string).values)[0]. Here, I'm treating your string as a dict and am getting the first value from it, which is your desired foldername. But, as @AKX notes in the comments, eval() isn't safe as somebody could pass malicious code as a string. Unless you're sure that your input strings won't contain code (which is unlikely), it's best to use ast.literal_eval() as it only evaluates literals.But, as @MaximilianPeters notes in the comments, your response looks like a valid JSON, so you could easily parse it using json.parse().
You could try this pattern: (?<='Project Title': )[^}]+.Explanation: it uses positive lookbehind to assure, that match will occure after 'Project Title':. Then it matches until } is encountered: [^}]+.Demo


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#dictionaries
