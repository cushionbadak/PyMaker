Natural Text
Recently i working on raspberry pi 3(OS raspbian) with OPENCV + PYTHON to detect face on live camera. And I see detected face on raspberry pi3 use opencv very slow, about 4 - 5 FPS/s. So I wonder can I use MultiThread or MultiProcessing to speed up the FPS and if yes, how can i do that?Please help me, any idea will appreciate. Thanks
update. I use separate thread to capture image from camera and I don't see any speed up of FPS compare to serial... Please see my code.
Yes, you can multithread the process. Use the threading library in python 2, or thread in python 3.Here is a simple example.Besides your main thread,Have one thread only operating the camera and constantly updating the latest frame, which is global in this case.A second thread can run the inference from the model using the latest frame.An optional third could perhaps draw a bounding box over the face, or perform other operations etc.You might need mutex locks in between 2nd and 3rd threads in this case as you can only begin drawing boxes after you obtain an output from the model. This allows your 2nd thread to begin inference of the next frame without waiting for other threads. The above example will result in a smooth video output with the inference lagging behind slightly. If you're not sure how multithreading works, I suggest reading up on the basics first. 


Answer URL
https://docs.python.org/3/library/_thread.html
