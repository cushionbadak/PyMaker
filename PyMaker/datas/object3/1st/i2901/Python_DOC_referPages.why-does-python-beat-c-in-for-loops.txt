Natural Text
Here is my c++code:Here is my python code:why is PYTHON FASTER in this case? I'm not sure if it's because I wrote extra code or not, but it seems like a pretty basic for loop. 
It's not the for loop that's slow, but the C++ iostreams. And it's not even that iostreams is horribly slow,1 but that you're doing an endl for every line.C++ endl is not just a synonym for '\n', it's an io manipulator object that, when inserted into a stream, inserts '\n' and then asks for the stream to be flushed. Flushing stdout can be very slow.Python print, on the other hand, doesn't flush unless you ask it to explicitly; otherwise, it just writes to sys.stdout, which is a TextIOWrapper that accumulates stuff in a buffer and flushes whenever it thinks is appropriate, which is pretty much the same thing C++ iostreams do.2For a fair test, compare this:â€¦ or this:1. With some platforms/compilers/optimization flags, it is pretty slow. And manipulators can be especially slow. So Python might still beat C++ after you fix this problem. But not by an 11:1 ratio.2. Python also has to convert your string from Unicode to sys.stdout.encoding. But, if you're on 3.4 or later, a Unicode string that happens to be all ASCII like 'test' is stored as the ASCII bytes, and encoding it is a no-op.


Answer URL
https://docs.python.org/3/library/functions.html#print
