Natural Text
Hi, I have an ascii file like the one above where I am trying to replace the commas for semicolon. This is the code I am using:The problem is that now I want to maintain the commas for the 5th column and also take of the quotation marks.Any ideas?
I cannot comment because of not having enough reputation points. Have you considered saving this as a csv file. after saving it as csv file:output:You can read this as a dataframe.
This is an answer making use of the split() method if you do not want to use .csv files.Let's consider the line to be: line = '2015/04/23,12:35:00,778715,907084,"-15,259",49,31,0,100,-127'First, split the line into three parts. One before the part in the quotes, the quoted part, and the part after the part in quotes.This can be done by line.split('"').This will give us a list consisting of these three parts:alist = ['2015/04/23,12:35:00,778715,907084,', '-15,259', ',49,31,0,100,-127']Now, split the first and last elements of the list by the comma.And add all the elements to an empty string.Write this string to your new file.Like this:The final result should look like this:'2015/04/23;12:35:00;778715;907084;-15,259;49;31;0;100;-127;'
A solution using the csv Python standard library:Quote from the documentation about the QUOTE_MINIMAL option:csv.QUOTE_MINIMAL: Instructs writer objects to only quote those fields  which contain special characters such as delimiter, quotechar or any  of the characters in lineterminator.The output file is:
Could you post what you are looking for as a result example? What do you mean by also take of the quotation marksThis might helpJust do an regex replace each line.\, matches the character , literally (case sensitive)Negative Lookahead (?!\")Assert that the Regex below does not match\" matches the character " literally (case sensitive)


Answer URL
https://docs.python.org/3/library/csv.html#csv.QUOTE_MINIMAL
