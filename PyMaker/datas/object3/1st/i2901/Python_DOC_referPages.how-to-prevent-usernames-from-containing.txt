Natural Text
I'm using django-allauth, and for some reason the username default allows:"letters, digits and @/./+/-/_."How can I ensure usernames are strictly alphanumeric (without @/./+/-/_.)?I'm already using this clean_username() validator which currently works:Edit: Just realised both the validators are not working...trying to find the problem now..
I think python's builtin function str.isalnum() could be usefull here.UPDATE-1set ACCOUNT_USERNAME_VALIDATORS in settings.py as mentioned in documentationin your settings.py,
You could use a regex expression to ensure that a username contains only allowed characters. For alphanumeric characters the following should do the trick:Here's an example of the output:
I haven't used django and certainly don't know about its authorisation mechanisms, but I know that in plain python, if you wanted to carry this out, you could simply sanitise input by doing:Essentially, I'm looping through each character and am appending them to the 'clean' username if the character is alphanumeric.In your function, if the username doesn't comply with the alphanumeric restrictions, execute the statement above (place it under the if).


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.isalnum
https://docs.python.org/3/library/re.html
