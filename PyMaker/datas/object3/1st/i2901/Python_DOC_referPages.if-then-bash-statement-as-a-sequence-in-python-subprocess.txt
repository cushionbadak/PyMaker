Natural Text
Is there any way to execute the if-then bash statement as a sequence in Python subprocess?I can execute the if-then statement as a string, but I want to convert it into a sequence for a safer code.This is my program at the moment. It uses string as the first input of the subprocess with shell=True argument.I want to convert the first argument as a sequence with shell=False argument, but I don't know how to make the statement above as a sequence. This is what I've tried.
if is a shell keyword, not an external command, so you shouldn't use a list argument; the string has to be parsed and executed by the shell. (You can use shell=True with a list, but it's kind of pointless, since Popen has to concatenate the list items into a single string anyway.)However, you don't need a shell if statement for this particular example, as the -p option to mkdir will instruct it to only create the directory if it doesn't already exit.Further, you don't need a subprocess at all, because Python provides its own wrapper around the system call that creates a directory.(Catch and ignore the exception rather than checking if the directory exists first to avoid the race condition where someone could create the directory after you check for it but before you actually try to create it.)


Answer URL
https://docs.python.org/3/library/pathlib.html#pathlib.Path.mkdir
