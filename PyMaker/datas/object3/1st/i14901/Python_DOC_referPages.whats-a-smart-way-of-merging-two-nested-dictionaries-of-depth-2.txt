Natural Text
What is the "best" way to merge two nested dictionaries of depth 2?For example, I'd like to merge the following two dictionaries:In order to get:Note that the subvalues in dicA and dicB will always be disjoint.Currently, I'm using:Is there an alternative to update or a one-liner that can merge nested dictionaries? 
You can use dict comprehension (bottom of section):This creates a list of all keys to use in a dict comprehension, and uses the more robust dict.get to prevent errors if key is only in the one of the dicts.For Python 3 dict view objects are returned from dict.keys() and dict.items(), so you can use itertools.chain (or wrap in  each dict view object in list):Note: Using collections.defaultdict(dict) would make the whole thing nicer.
I don't think there's too much wrong with the way you suggest, though I would use a try...except clause:The result is then, for dicA:


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict-views
https://docs.python.org/3/library/itertools.html#itertools.chain
