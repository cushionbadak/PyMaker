Natural Text
I've got this C program:And I have a Python script that tries to capture its output and do something with it:... and it hangs on the last line without printing anything on a screen.I've tried to solve this problem using the Python shell and found this:It can actually read the output but only when I send KeyboardInterrupt. p.stdout.read(1) behaves the same way.So, what's a working, correct way to do what I want?Edit: Ok, looks like it is impossible on Windows, see comments to first answer.
The output is being buffered so you need to useiter(p.stdout.readline,"")Try flushing stdout from c if sys.stdout.flush() if  is not working, as far as I know lines are block buffered when writing to a pipe:
Rough example of something I did a long time ago.You can make your own StringIO which handles file io operations like read and write.https://docs.python.org/3/library/io.htmlI have not tested the code below!
Run python in unbuffered mode:


Answer URL
https://docs.python.org/3/library/io.html
