Natural Text
Using regex, I would like to extract certain parts from an Emacs org mode file, which are simple text files. Entries in these org files start with * and sometimes these entries do have properties. A brief example can be found below: I would like to extract all entries that do have properties; the extracted entries should include these properties. So, I would like to receive the following pieces of text:andI started with something like thisBut this also includes headline 0 and headline 2, which do not have any properties. My next attempt was to utilize look arounds but to no avail. Any help is much appreciated! Update / Solution that works for me:Thanks to everyone who helped me finding a solution! For future reference I included an updated MWE and the regex that works for me:
There are a couple of possibilities including non-regex solutions.As you have specifically asked for one though:See a demo on regex101.com (and mind the modifiers x and m!)In Python this would be:A non-regex way could be (using itertools):This has the downside that lines starting with e.g. * headline abc or * headliner*** would be used as well. To be honest, I'd go for the regex solution here.
I guess you could do it like this. Only matches rec's containing PROPERTIES (?ms)^\*(?:(?!^\*).)*?PROPERTIES(?:(?!^\*).)* https://regex101.com/r/oZcos0/1Explained  
An attempt at making a readable regex:^\*\sheadline -> the item is known to start like this.(?:(?!^\*\sheadline).)* -> match anything as long as it doesn't include how we know a new item starts.:END:$ -> it includes a known end statement at the end of a line.Working demo.


Answer URL
https://docs.python.org/3/library/itertools.html
