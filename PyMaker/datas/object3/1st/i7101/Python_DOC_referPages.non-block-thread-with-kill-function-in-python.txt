Natural Text
It is general in programming in Python that when I have a function or something which when I call, it blocks my code to proceed. So I think the best way to unblock is using threads but If I need to stop a thread what should I do?I tried this reference and I wrote this simple program:My problem is this program actually stop the thread but after printing the last line the program still runs. What I want is if I call the stop function thr.start() it starts the thread and run #wait forever line and if I call the stop function thr.stop() it stop the whole class and returns from #wait forever line to the main function.EDIT--As @a_guest answer I can fix it but my problem is general for example If I had this code instead of while True:(or any other code)what should I do?
Instead ofyou should useThen it will break out of the while loop once you stop() the thread.
You can't "abort" a running thread so to stop it you'll have to have a mechanism in the thread itself that periodically checks if it should stop. Regular threads keep running while the rest of your program (process) exits.If you make your thread a 'daemon' thread however, it will get killed automatically when your program exits. To do that, set self.daemon=True in your thread's init method. More info https://docs.python.org/3/library/threading.html#threading.Thread.daemon


Answer URL
https://docs.python.org/3/library/threading.html#threading.Thread.daemon
https://docs.python.org/3/library/queue.html#queue.Queue.get
