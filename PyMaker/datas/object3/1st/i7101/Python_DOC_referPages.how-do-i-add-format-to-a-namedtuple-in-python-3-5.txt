Natural Text
I'm working with code that was written for an earlier version of Python.Later on, I have this (abridged) code:which blows up on tuple(out_shape) with the exceptionbecause out_shape is a TensorShape and it doesn't have a __format__ method defined.So I'm changing the definition of TensorShape toBut this code still blows up downstream with the same exception.What am I doing wrong?
You were on the right track -- just hook up the two arguments passed to format_tensorshape to your call to format:yields
You could simply use the formatting based on the string representation. That's possible with the !s conversion flag and because strings know how to interpret your formatting spec there is no need to create a custom __format__ method for your namedtuple:For example:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__format__
https://docs.python.org/3/library/functions.html#format
