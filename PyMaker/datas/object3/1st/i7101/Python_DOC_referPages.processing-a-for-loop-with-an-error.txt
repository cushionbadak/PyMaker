Natural Text
I have a for loop which has an error in it.  When the error occurs python just exits the for loop.  I can't get python to ignore the error and keep iterating through the loop.  Incidentally, it is a text file and I am looping through the lines. I should also point out that the error does not occur in the do stuff part, it literally occurs in the for loop.  I also frankly don't understand why the error is being thrown since the line is just like any other line.  I tried deleting the line to see if it was just a one time thing but the next line has an error in it too which leads me to believe that I cannot just delete bad lines. The name of the error is unicodedecodeerrorHere's the text:https://drive.google.com/file/d/0B9zzW6-3m2qGVFRTbzlXMS0tVUU/view?usp=sharingI'm trying to make a list of all the words that follow the word 'abstract'Here's the actual codewith open(full_path_of_old_file) as old:Here's the full traceback
Your problem is your file encoding. Change it to latin-1 like this:
Somewhere in your code you open the file.  There are two parameters in the open function that pertain to your problem:encoding=None: encoding is the name of the encoding used to decode or encode the file. This should only be used in text mode. The default encoding is platform dependent (whatever locale.getpreferredencoding() returns), but any encoding supported by Python can be used. See the codecs module for the list of supported encodings.errors=None: errors is an optional string that specifies how encoding and decoding errors are to be handledâ€“this cannot be used in binary mode. A variety of standard error handlers are available, though any error handling name that has been registered with codecs.register_error() is also valid. [there is more; see the standard library docs]Since you don't show how you open the file, I can't tell you specifically what is wrong.  But the error message indicates that it is an encoding error, and you should start by looking into that.
A possible answer, which should bypass your problem to the other answers, is to use the suppress function from the contextlib module in the standard library:as it says in the docs though, better to try and fix your problem, rather than silently ignore it, if possible.
This should help with the first question (keeping the loop going):In a python try...except block, it will try to run all the code in the try block, and if an error is thrown, it will stop and move to the exceptIn your case, you could move the for outside the try, so that if an error occurs it will be handled in the except and then continue on to the next iteration:
You have to keep try/except block inside for loop


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.suppress
