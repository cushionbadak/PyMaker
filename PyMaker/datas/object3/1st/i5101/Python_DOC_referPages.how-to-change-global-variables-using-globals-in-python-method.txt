Natural Text
If I have the following Python script foo.py :I can type this in ipython :However, If I remove the foo() at the bottom :And I type this in ipython :I get this error. Why is this the case?
IPython's %run defaults to running the file in a new namespace and then copying the results into your namespace.When foo.py contains a foo() call, that creates A, B, and C variables in the new namespace that IPython then copies to your namespace.When foo.py doesn't contain a foo() call, you can call foo() yourself, but foo is still using its original namespace for globals. Calling foo() creates A, B, and C variables in foo's original namespace, too late for IPython to pick them up and copy them into your namespace.You can use %run with the -i flag to run the file in your namespace directly, avoiding these issues.
You need to declare element_dict a global variable before assigning it.  Once you have an assign statement anywhere within a function, the variable being assigned is declared on a local scope only, unless otherwise specified.  In your case, element_dict is declared locally due to element_dict = read_mass_from_file().See the documentation for more details.To actually reference the global variable:will update the element_dict from the global scope.


Answer URL
https://docs.python.org/3/tutorial/classes.html#scopes-and-namespaces-example
