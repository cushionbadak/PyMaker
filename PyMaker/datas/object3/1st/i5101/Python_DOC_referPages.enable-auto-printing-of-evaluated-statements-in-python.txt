Natural Text
When running a Python REPL, top-level statements sent to the console get auto-printed. For example, with:The second line evaluating x caused the value to be 'auto-printed' However, we don't get the same behavior when x is evaluated in other contexts -- for example, if we use exec:Similarly, with eval():Is there a way to ask Python to auto-print statements run in this way, as it does at the top level of the REPL?While this question describes Python code directly, I'd also love to know whether it's possible to accomplish this using the Python C API (e.g. with PyRun_SimpleStringFlags()).
This is discussed in some detail at https://stackoverflow.com/a/29456463/1342082. In particular:'single' is a limited form of 'exec' which accepts a source code containing a single statement (or multiple statements separated by ;) if the last statement is an expression statement, the resulting bytecode also prints the repr of the value of that expression to the standard output(!).So a pattern of this form will work:And also see the documentation described at https://docs.python.org/3/library/functions.html#eval.


Answer URL
https://docs.python.org/3/library/functions.html#eval
