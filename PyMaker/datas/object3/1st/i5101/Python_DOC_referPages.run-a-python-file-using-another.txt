Natural Text
Note:- Wait before you mark my question as duplicate please read it completely.I wan't to run a python file using another.I have tried using runpy,os.system & subprocess. The problem with subprocess and os.system command is that it fails for systems which have python2 and python3 both installed if i just run with python. If i run it with python3 i fails for people having single installation.The problem with runpy is that it does not work according to my needs.The following is run my directory structureThe content of average is The content of average_test.pyNow if i use runpy.run_path it throws a ImportError saying average is not a module. The os.system and subprocess.call works perfectly but I hope my "testing_framework" will be used by many so I can't use the above two functions. Isn't there any other way to do it. I have researched the whole of SO and google but didn't find a solutions. Also sys.path.append/insert will not help as I can't tell my "users" to add this to every file of theirs. Is there no easy way to do it? I mean like pytest accomplishes this so there must be a way.Thank you moderators for reading my question.EDIT I forgot to mention that I wan't the code to be run in if __name__ == '__main__' block too and I have also tried using a snippet from another SO answer which fails too. The snippet wasPlease note that the directory structure was just an example the user may have a different code/directory structure.NOTE:- I found the answer. I needed to do subprocess.call([sys.executable,file_path]). sys.executable returns the path for the python executable file for the current version.



Answer URL
https://docs.python.org/3/library/subprocess.html
