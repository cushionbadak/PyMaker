Natural Text
Normally, to subclass a class I do something likeBut now I'm trying to subclass a metaclass, specifically ABCMeta, so I'm doingBut, when I then try to subclass Subby as a metaclass likeI get the error TypeError: __init__() takes 1 positional argument but 4 were given.Why is this, and how do I subclass ABCMeta correctly?
From the datamodel:If __new__() returns an instance of cls, then the new instanceâ€™s __init__() method will be invoked like __init__(self[, ...]), where self is the new instance and the remaining arguments are the same as were passed to __new__().So, as @user2357112 said, the signatures must match. Despite this, there's really no reason to define __init__ and __new__ if you simply want to create an ABC. Just create it and use .register to register the conforming classes. Optionally, create a number of abstract methods and a __subclasshook__ that checks for conformance. A good example already exists in the abc module documentation.


Answer URL
https://docs.python.org/3/library/abc.html#module-abc
