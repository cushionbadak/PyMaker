Natural Text
This question already has an answer here:How to read from a zip file within zip file in Python?                    3 answers                I have a zip file called "main.zip". Inside that, I have another zip called "meta" which does not have the ".zip" extension. I want to open the "meta" zip file which contains lots of text files. But when I try to open the "meta" zip file, I get an error saying zipfile.BadZipfile: File is not a zip file. Below is my code:I can't extract and open "meta" because I want to do this entirely in memory without writing to the disk.My ultimate goal is to modify one of the text files and output  a new zip.
If you're intent on doing this in memory, you need to create a file-like object to call zipfile.ZipFile on. Although ZipFile.open says that it does this, in practice I'm getting the same error you are.What I've gotten to work is to read the binary with ZipFile.read and toss it into a io.BytesIO stream.


Answer URL
https://docs.python.org/3/library/zipfile.html?highlight=zipfile#zipfile.ZipFile.open
https://docs.python.org/3/library/zipfile.html?highlight=zipfile#zipfile.ZipFile.read
https://docs.python.org/3/library/io.html?highlight=stringio#io.BytesIO
