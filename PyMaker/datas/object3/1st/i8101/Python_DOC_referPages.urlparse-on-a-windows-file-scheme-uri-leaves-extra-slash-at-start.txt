Natural Text
I'm making an application that needs to read URIs from drag-and-drop input. I'm trying to process each URI with urllib.parse.urlparse().urlparse() deals with Internet URLs as expected:But using it on local Windows files leaves an extra slash at the beginning of the path:And indeed, functions expecting a local file path don't seem to like this extra slash:I could code a special case of my own to deal with file:///<Windows drive letter>: somehow, but as a matter of cleanliness: Is there a better Python function to split URIs generally, not just URLs? Or is there something else I'm missing?Using Python 3.6.1.
Using urllib.request.url2pathname() on the path component will strip the beginning slash for Windows.So my URI-processing application should use url2pathname() on the path if the urlparse() result's scheme is file.Thanks to @eryksun's comment, pointing out that pip uses url2pathname(). pip also shows how to generalize the code more to handle Windows UNC paths, which are used in things like Windows shared network folders. It seems that UNC paths can be detected if the scheme is 'file' and netloc is non-empty, and we need to prepend a couple of backslashes before working with the UNC path.


Answer URL
https://docs.python.org/3/library/urllib.request.html#urllib.request.url2pathname
