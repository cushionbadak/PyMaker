Natural Text
I was trying for importing data from the csv file to the sqlite db using python script.I have a DB table with the name NSETCS:On running the code, I get an error:  Error: DictReader instance has no attribute __getitem__
You are not reading the contents into a list here:That only puts the reader into a list. Use list() instead:Not that you need to do this; you could just loop over the object directly:thenDo indent the code that loops to be part of the with statement, because you need to keep the file open to read until the loop is done:I'd not catch exceptions; just use the connection as a context manager (just like you do for the file) so that your inserts are committed only if no exceptions took place:sqlite doesn't really care if you pass in float() objects, or str(); the database is happy to accept either for numeric columns. You can use your line dictionaries directly if you don't convert to float(), except for the Turnover (Lacs) column (I used an alias in the dictionary for that one). This simplifies your loop somewhat.


Answer URL
https://docs.python.org/3/library/sqlite3.html#using-the-connection-as-a-context-manager
