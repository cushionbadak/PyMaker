Natural Text
I have a large list of DOI's and I need the most efficient way to identify the DOI's which are repeated (ie. print out the index and the DOI for values which are repeated.) The array of DOI's could consist of 500,000 + DOI's. My current approach is this (inspired by this answer):Is there a more processing efficient way of doing this?Sample DOI List:
Try storing them in a set instead. You can append the duplicates to a single list, which might speed things up:At this point, seen contains all the distinct doi values, while dupes contains all the 2nd, 3rd, etc. indexes of duplicate values. You can look them up in doiList to determine which index corresponds to which value.To get some more performance out of this, you can cache the methods:
Here's a full solution that returns the same data set as your example, just more than twice faster (at the expense of some memory):The stored index is the first occurrence of the found duplicate as in your example. If you want to store all the duplicate indexes you can add lookup[v].append(i) after the lookup[v][1] += 1 line, but then the data might look weird (the structure would be [first_index, number_of_occurrences, second_index, third_index...])Instead just flip the stored parameters in lookup[v] modifications - lookup[v] = [0, i] instead of lookup[v] = [i, 0] and lookup[v][0] += 1 instead of lookup[v][1] += 1, then lookup[v].append(i) after it will give you a nice result in the form of: [number_of_occurrences, first_index, second_index, third_index...].


Answer URL
https://docs.python.org/3/library/stdtypes.html#set
