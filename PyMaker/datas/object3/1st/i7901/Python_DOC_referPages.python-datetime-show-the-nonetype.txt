Natural Text
I use pymysql to connect mysqldate:  2017-06-01 10:00:00the type of the date:  one row :(datetime.datetime(2017, 5, 31, 17, 0), None, 31.5, 88.7, None) one row of the type:  the recent time:　2017-06-01 18:31:04.097299the recent time of the type:　But The former showed up:TypeError: 'NoneType' object is not subscriptableWhy are't they the same type???UpdateMY table:
ProblemWhen we use fetchone method and no records left to read it returns None which is not subscriptable.ExampleAssuming that we want to process non-null time values for all records using queryand time object is current datetimethen we can write it using EAFP coding style likeor with checking records for None'nessWARNINGWithout adding time IS NOT NULL filtration we theoretically can get record with recorded_time equal to None, then differencewill raise TypeError since we cannot subtract None from datetime object.
It seems like db.fetchone() returned None instead of a datetime object.Is it possible your loop reached the end of your table?
Check your returned value for db.fetchone(), it seems that is returning a None, you can print it above for examplemake a print inside the while loop (is just a quick way, not always the best way is doing this), some of your values must be None, if only one is, the code breaks.SolutionYou can ask before do the minus math operation if your value is none or not, If it's not, do the maths, if it is do nothing


Answer URL
https://docs.python.org/3/library/constants.html#None
https://docs.python.org/3/library/datetime.html#datetime.datetime.now
https://docs.python.org/3/glossary.html#term-eafp
