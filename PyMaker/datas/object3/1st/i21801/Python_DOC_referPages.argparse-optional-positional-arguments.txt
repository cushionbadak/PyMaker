Natural Text
I have a script which is meant to be used like this:usage: installer.py dir [-h] [-v]dir is a positional argument which is defined like this:I want the dir to be optional: when it's not specified it should just be cwd.Unfortunately when I don't specify the dir argument, I get Error: Too few arguments.
Use nargs='?' (or nargs='*'  if you will need more than one dir)extended example:
As an extension to @VinaySajip answer. There are additional nargs worth mentioning.parser.add_argument('dir', nargs=1, default=os.getcwd()) N (an integer). N arguments from the command line will be gathered together into a listparser.add_argument('dir', nargs='*', default=os.getcwd()) '*'. All command-line arguments present are gathered into a list. Note that it generally doesn't make much sense to have more than one positional argument with nargs='*', but multiple optional arguments with nargs='*' is possible.parser.add_argument('dir', nargs='+', default=os.getcwd())'+'. Just like '*', all command-line args present are gathered into a list. Additionally, an error message will be generated if there wasnâ€™t at least one command-line argument present.parser.add_argument('dir', nargs=argparse.REMAINDER, default=os.getcwd())argparse.REMAINDER. All the remaining command-line arguments are gathered into a list. This is commonly useful for command line utilities that dispatch to other command line utilitiesIf the nargs keyword argument is not provided, the number of arguments consumed is determined by the action. Generally this means a single command-line argument will be consumed and a single item (not a list) will be produced.
parser.add_argument also has a switch required. You can use required=False.Here is a sample snippet with Python 2.7:


Answer URL
https://docs.python.org/3/library/argparse.html#nargs
