Natural Text
I have the following code:https://repl.it/JRi4/2in which I am trying to implement a while loop in the searchplayer() sub. Basically, I need to check to see if the dictionary player_info is full, and only then continue with the search. If it is empty (no items in player_info) then it needs to print "Add player details" and return to the mainmenu()The code in question is here:I have tried the following, that does not work:ErrorThe error suggests player_info is not defined, but it has been declared as a global variable
After trying your entire code, what I advise you to do here is switch your SearchPlayer with this one:one more thing, you didn't ask about it but you should add a checker for the type of input when asking from user to make decisions by handling exceptions as follows:it is useful to prevent your app from crashing by mistake when i input strings instead of int.if you don't want to use recursion you could do this:and change:with:( i just chose  to take off sys.exit() from the code because it was generating some warning )and take off mainmenu() for all your methods. that should do it nicelyso your entire code should be like this (I'm not familiar with repl.it sorry):Hope that helped
Assuming your player_info really is defined globally, here's a code to loop until a name is entered which exists in the player_info dictionary, or to fail with explanation if player_info is empty initially:Update. To remove recursion you must wrap your menu with an infinite loop (you're exiting with sys.exit, or simply with break, if this is called directly from main):Now you can simply remove all occurrences of calls to mainmenu() from choice handling functions (last line in viewall, update, addplayers and searchplayer).
your code will work perfectly if your code execute addplayers function first because here is global variable declared. If you want to access other function first than it will sure show you and error. so better you declare the global variable first. I mean in main() as your code described.Update: as your below comment.as your first question global variable worked fine from any sub but python has to know the variable is declared global.Example from your code: when your program run your just give the choice 2 for executing searchplayer(). It will run and enter input as you instructed and when time to come access the global player_info it will show an error. Because python has not get yet any global variable. and I am again saying global variable can access from any sub but python has to know this variable is global. If python know any how the variable is global then you can operate it any where. That's why I was suggesting you to declare the variable as global in the main function. You can declare it anywhere or any function but execute the function first that's why python know the variable is global. I also mentioned that your code will work perfectly and explained it why.


Answer URL
https://docs.python.org/3/tutorial/errors.html
