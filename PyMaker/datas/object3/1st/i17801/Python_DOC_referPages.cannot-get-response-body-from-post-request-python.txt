Natural Text
I am trying to write simple aplication in python who will send some text to server using POST HTTP method and then get response containing some text.Server:Client:Well as long as line data = resp.read() remains commented everything works fine (well server get request prints to the console body of it and sends response) but when i try to read response body server does not print request body and i don't get and even if i get response status 200 i cannot read response body (well whole aplication "hangs up"). What am I doing wrong? I am guessing that behevior of server has something to do with not finished response procesing but i cannot finish it cuz i can't get response body.
You are missing the Content-Length header on your HTTP response. The HTTP client does not know when the response is complete, so it keeps on waiting for more.:This does not completely work, yet: the server has the same problem: it just keeps on reading from the rfile.Using curl, this works fine:There are ways to do this without a Content-Length header, but for the beginning, this should be enough.Edit: this is a nice exercise in writing a HTTP client/server, but for production usage, you might want to consider more high-level abstractions, like requests for the client side and WSGI or a full web framework for the server side (Flask or Django are popular choices, depending on your requirements).


Answer URL
