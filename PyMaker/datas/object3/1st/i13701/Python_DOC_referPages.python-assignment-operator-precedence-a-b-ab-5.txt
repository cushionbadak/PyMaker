Natural Text
I saw this Python snippet on Twitter and was quite confused by the output:What is going on here?
From the Assignment statements documentation:An assignment statement evaluates the expression list (remember that this can be a single expression or a comma-separated list, the latter yielding a tuple) and assigns the single resulting object to each of the target lists, from left to right.You have two assignment target lists; a, b, and a[b], the value {}, 5 is assigned to those two targets from left to right.First the {}, 5 tuple is unpacked to a, b. You now have a = {} and b = 5. Note that {} is mutable.Next you assign the same dictionary and integer to a[b], where a evaluates to the dictionary, and b evaluates to 5, so you are setting the key 5 in the dictionary to the tuple ({}, 5) creating a circular reference. The {...} thus refers to the same object that a is already referencing.Because assignment takes place from left to right, you can break this down to:so a[b][0] is the same object as a:


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#assignment-statements
