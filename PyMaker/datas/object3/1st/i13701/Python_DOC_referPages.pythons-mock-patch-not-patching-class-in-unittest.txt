Natural Text
I'm getting confused by using Mock in my python unittests. I've made this simplified version of my problem:I have this dummy class and methods:Which is using this class:And then this test:I would expect that running this test would pass and that print statement, for debugging, would output something like <MagicMock name=...>. Instead it prints out <class 'app.fetch.FetcherA'> and I get:Why isn't FetcherA being patched?
OK, fourth time through I think I understood the 'Where to patch' section of the Mock docs.So, instead of:I should use:Because we're testing the code in app.project.MyClass where FetcherA has been imported already. So at that point FetcherA is availably globally(?) within app.project.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
