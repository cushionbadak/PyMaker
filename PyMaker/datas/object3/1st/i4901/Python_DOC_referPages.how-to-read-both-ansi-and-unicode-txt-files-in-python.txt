Natural Text
I'm new to python and face a strange problem:When I have 50 txt files in a directory, I want to read each .txt file and save its content in a unique variable like:When I only read one file, it's ok:However, to read txt files in a loop, it's wrong: Below is my code and a very strange error comes up,Update:in a loop form:the error also occurs: Could anyone help me? Thank you very much!Update2: It seems that in these .txt files, most of them are in Unicode, which is durable for python. I find that, in notepad, there are 2 .txt file in ANSI encoding, which leads to this problem.How could I read both ANSI and Unicode together in python?Update3:Thanks everyone. This problem is fixed.There are 2 reasons for this problem:some ANSI txt files are in overall UTF8 files.some weird matches appears on ANSI encoding:didn’t - didn抰weren’t - weren抰, etc. (‘n -> 抰)("Well - 揥ell)although my PC is in English language totally, this problem still happens for ANSI txt. (manually modification is needed since notepad only change the encoding, not the above weird character...)Hope it helps for other people facing the similar problem. Thx
You open your file in default text mode. When reading it, Python tries to decode it, using the default encoding for your platform, which seems to be 'gbk'.Apparently, the file you're trying to read uses another encoding, which causes this error.You have to indicate the encoding to use in open. If it is 'UTF-8', for example:If your file uses a different encoding, you must figure it out first, I don't know what is common in your part of the world. You can have a look at the list of standard encodings.For chinese, the listed encodings are 'gb2312', 'gb18030', 'hz', you could try with these ones. 


Answer URL
https://docs.python.org/3/library/codecs.html#standard-encodings
