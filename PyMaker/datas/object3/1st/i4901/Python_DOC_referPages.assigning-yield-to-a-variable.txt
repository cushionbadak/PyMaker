Natural Text
First of all, I'd like to mention that I am not particularly familiar with Python. I have recently been forced to familiarise myself with a code sample that's left my jaws ajar, and I have been unable to "translate" it. The various documents and articles I've taken a look at have not helped either:What does the "yield" keyword do?The Python yield keyword explainedThe yield statementYield expressionsHere's a shortened-down version of the function in question:I cannot understand what it does and am thus not able to "walk through" the code. My questions are "What does this function do?" and "What sequences does this function follow?"The line that throws me off is msg = (yield). I have no idea what it's trying to achieve. Intuition tells me it simply grabs new messages as they come through, but I fail to understand why. If anyone knows and if I have provided enough information, I'd really appreciate an explanation.The Try clause:P.S. receiver is a socket receiver.
The syntax variable = (yield some_value) in a generator does the following:it returns some_value to the code that invoked it (via next or send);when it is next invoked (via .next or .send(another_value)) it assigns another_value to variable and continues execution.For example, suppose you have a generator function:Now, lets call f.  That returns us a generator.The very first time we use the generator we cannot send it dataAt this point it just evaluated the yield ... when we now call .send it will continue from that point, assigning the data we have sent it to the variable givenIn your particular sample code, you have a generator that is:being given a message to process from outside ... something will be calling .send(some_msg);it will be processing that message and then yielding back to the outside caller, which will then feed it another message.


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#the-yield-statement
https://docs.python.org/3/reference/expressions.html#yieldexpr
