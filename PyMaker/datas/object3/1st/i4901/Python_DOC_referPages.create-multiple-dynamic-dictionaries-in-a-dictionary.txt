Natural Text
I have multiple text files. Each file is a list of animals and their counts for a house. Like this:houseA.txthouseB.txtI have about 20 houses and each house has about 16000 species (so each file has about 16000 lines. All houses have the same species, just different counts for each specie. My current script loops through each file, line by line, and captures the house, specie name and its count.I want to create a dictionary of houses, where each house is a dictionary of animals and their counts. So from the example above, the result would look like this:In case you're wondering, this will later be turned into a table:Here's my script:EDIT: Changed question to dict of dicts, thanks to a helpful commenter.
I would try something like this:The result will then be (e.g.):
One more version:Output:
If you do not want to split yourself, use a csv.DictReader and ensure any animal with spaces inside its name is quoted in the file:Output:File h1.csvFile h2.csvCaveat: If you harbour Green Cantilopes or Blue Flutterwings in your house, you have to quote them in the file - thats where this solution starts to shine - as it will automagically handle quoted strings in combination with ' '  as delimiter .


Answer URL
https://docs.python.org/3/library/csv.html#csv.DictReader
