Natural Text
I have a problem with some of my python code. I want it to open a file, with few lines of text, and add header + footer to each line in that file.The problem is that 'create_output()' function returns only the first line with additional content. If I switch 'return' to 'print' at the end of this function it properly displays all lines from my file. What could be the reason? I want to understand what am I doing wrong here.
OK, I changed it to something like this, now it works fine.Thanks your feedback, now I know what I'm doing wrong.
You get only one line, because you reopen the write-file all the time instead of letting it open, "w" will truncate the file on open - so last line lives, rest is useless IO. Also you never close your reader afaics.open(filename, mode) from https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files:  mode can be 'r' when the file will only be read, 'w' for only writing (an existing file with the same name will be erased), and 'a' opens the file for appending; any data written to the file is automatically added to the end. 'r+' opens the file for both reading and writing. The mode argument is optional; 'r' will be assumed if itâ€™s omitted.Do not split the file open into extra functions, use with open(...) as bla: bla.write(...) so they get closed as soon as you leave the block or some exception happens.Use string-formatting - either 'this {} ist repleaced with'.format("something") or the inline variant - see below.Should do the trick.Links:Format string syntaxReading and writing files
You could further improve your code as follows:


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#return
