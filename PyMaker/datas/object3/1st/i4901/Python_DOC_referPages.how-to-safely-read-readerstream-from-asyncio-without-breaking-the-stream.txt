Natural Text
I am trying to build a man-in-middle proxy server that relays the client request to the various proxy services predefined in my app. So, in order to do this, I need to distinguish the client's request for a service.The code below works as long as I don't uncomment # data = await client_reader.read(2048) from which I can parse the headers. i.e. If I do perform that code,Say if am doing this with that line of code uncommmented:  I would get a 408 Request Time-out from ipify in the r.contentCan anyone point out the issue here or how to open connection conditionally?
Fixed the issue by refeeding the client_reader (ReaderStream)Thanks to Vincent for comments to point out the request tampering situation and reconstructing the request back to its native form


Answer URL
https://docs.python.org/3/library/asyncio-stream.html#asyncio.StreamReader.feed_data
