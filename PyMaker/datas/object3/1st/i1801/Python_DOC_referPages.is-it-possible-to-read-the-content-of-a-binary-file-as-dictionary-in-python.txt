Natural Text
I have raw data files in binary format. While I have written the code earlier in MATLAB, I wanted to transform the same into PYTHON.I have attached a couple of binary files. My MATLAB code for reading each of these files based on the file format specification document is as below:In PYTHON, I wrote the following code:The pdata output results the following:If I use the following Python code:Now, the fileContent output gives the output in hexadecimal format.The following are my queries:Is there a way I can read the binary file as a Dictionary in Python? As you see the MATLAB code, there are different formatted variables e.g., int8, int16, int32, char, float32. How to handle these different formats with the Python code I wrote? I have tried to search internet but could not understand how to identify the format of the data in the binary file (assuming you don't have format specification information) and how to assign the actual values to the variables.Can anyone help me convert the MATLAB script to Python code for reading the binary file?Based on the suggestions, I have revised the code as below:The main issue I am facing is defining the format of the binary file. There is an inconsistency in the len(binbuf) and the struct.calcsize('hbbbbihii8s8schbb4s4b4b4bibbcbb63pb63cbb2bh10bbb4bfffh13hff8c1024i'). Can anyone suggest me where I am going wrong in the formatting based on the MATLAB code indicated above?
To read binary data into variable in python3, there is the struct module.  It allows to specify  how to interpret the bytes (e.g. unsigned long, signed char, etc.) and in what order by a format string.E.g. The format string 'hbb' in the call to struct.unpack_from() in the examples below means:'h' :  read a 16-bit signed int'b' :  then a 8-bit int'b' :  then another 8-bit intQuick example to read the first 3 of your variables from a binary file:Or, to read the same into a dictionary as you asked:For more about this: https://docs.python.org/3/library/struct.html
I could write the PYTHON code using numpy as below:This works fine as required. Thanks everyone for the suggestion and initial help.


Answer URL
https://docs.python.org/3/library/struct.html
