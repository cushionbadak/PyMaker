Natural Text
I was reading the code of byterun(a python python interpreter), and I can't understand lines below that something about closure and lambda:The function was called in The second to the last line:What's the function's purpose? And how does it work(especially with 2 lambda)?
The purpose of this lambda x: lambda: x construct is to create a closure cell object, the objects Python uses to implement closure variables. The nested lambda: x uses the x variable from the outer lambda, so Python needs to create a closure cell for the x variable. Calling the outer lambda:creates a function object for the inner lambda with a closure cell for the x variable holding value, and the __closure__ access:accesses the function object's tuple of closure variables to retrieve and return the closure cell.


Answer URL
https://docs.python.org/3/c-api/cell.html
