Natural Text
so I'm putting together this discord bot which executes commands to a server to host some games. I have a dictionary in the form { 'Game Name' : subprocess.Popen() }we need to store to later inject commands for changing game modes and such on the fly.I have simplified the code to two small functions to show the issues clearly.Later on when I access the dictionary, the reference to the subprocess.Popen() appears to not be there? Trying to write, read or communicate with the process does nothing as does not print any errors either!I have tried many ways to write or read from stdin or stdout respectively by looking at other similar questions here, and yet still nothing happens. Have I missed something entirely or is there something I need to do?
You are under the impression that the global variable is shared among processes. It is not. Your options are:Use either multiprocessing.Array or multiprocessing.Value to share state.Use multiprocessing.Manager.Use some kind of IPC.Manager seems to be better suited for your problem because it allows you to use dictionaries.


Answer URL
https://docs.python.org/3/library/multiprocessing.html#sharing-state-between-processes
