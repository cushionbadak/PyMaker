Natural Text
I am trying to use python's csv standard library module to generate comma-separated value (csv) files.It will not allow the first line to be blank. More annoyingly, it treats the first line differently from other lines, so an empty list gives an empty string ("") in one case and a blank line thereafter:Given the above definition, an interpreter session might look like:Why does this quoted empty string happen only on the first line? Is there any way I can stop it, or at least get more consistent behavior?Update: this is a bug reported in Dec 2017 as https://bugs.python.org/issue32255, and resolved by commit https://github.com/python/cpython/commit/2001900b0c02a397d8cf1d776a7cc7fcb2a463e3, which was included in the 3.6.5 release
You can force the csv writer to quote the empty strings by setting a different quoting strategy. Both QUOTE_ALL and QUOTE_NONNUMERIC will do what you want:I don't know why the default strategy treats the first line differently than other lines, but I believe it's a bug. If you try to load the csv data where the 2nd line isn't quoted, you'll notice that the output is different than the input you originally used to create the csv:


Answer URL
https://docs.python.org/3/library/csv.html#csv.QUOTE_ALL
https://docs.python.org/3/library/csv.html#csv.QUOTE_ALL
https://docs.python.org/3/library/csv.html#csv.QUOTE_NONNUMERIC
