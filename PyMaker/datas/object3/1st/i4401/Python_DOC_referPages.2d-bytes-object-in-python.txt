Natural Text
I would like to address something like a 2D bytes or 2D bytearray object in python to allow me to slice along either dimension and access sections of the array in an efficient manner for somewhat large arrays (5000 x >500 bytes).I have found that numpy ndarrays will allow this if the dtype=bytes and each element of the array is a single byte object. I can even slice sections and cast back to bytes efficiently, but I have not found an efficient or simple way to split byte strings in to the individual bytes to place them in the numpy array.For those that are interested, my application is taking in many identical length and format packets from TCP, swapping bytes for appropriate endianness, and casting them to their respective types to allow parsing packet headers, and data. I was previously handling one packet at a time, but the packets are being received at 2000 Hz, with a total throughput of ~ 25MB/sec and the required operations were too slow to keep up even after creating separate processes to do parts of the work. Handling packets in batches for speed is my last attempt to avoid rewriting the project in C++.I am an electrical engineer with a strong background in C++, java, and MatLab, but I have only been working with python for a few months.
Ok so lets say you have a bytestring and are in python 3You can send this into a numpy array like soWhich you can then manipulate as you please (including converting to whatever shape you want). This change of shape is O(1), as efficient as you can get.a is nowConvert a row back into a python bytes object (aka bytestring)


Answer URL
https://docs.python.org/3/library/stdtypes.html#bytearray-objects
