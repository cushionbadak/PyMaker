Natural Text
I'm trying to send an HTTP GET message to a server through a TCP connection, but it seems that I'm doing something wrong.The important thing here is the composition of variable message, because the problem is that server does not recognize the HTTP request message apparently.Thanks
It is possible that the server is refusing your HTTP request because your request body isn't valid. Take a look at this valid request:First thing: your request must end with an empty line (\r\n). In your context, that means message = 'GET /' + direction + ' HTTP/1.1\n'.Then, there are some missing headers:The Host header is required in valid HTTP requests.The User-Agent header is optional but most servers require it.Take a shot using something like this, replacing www.test.com by the actual hostname you want to communicate with:Finally, unless you are required to write use socket, I recommend using either requests or urllib. These packages encapsulate the hard-work behind dealing with TCP/UDP sockets by hand.


Answer URL
https://docs.python.org/3/library/urllib.html
