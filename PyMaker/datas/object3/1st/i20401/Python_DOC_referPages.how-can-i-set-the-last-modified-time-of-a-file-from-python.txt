Natural Text
I have a python script that downloads a file over FTP using ftplib.My current download code looks just like the example in the ftp lib docs:Now I have a requirement that the file downloaded over FTP needs to have the same last modified time as the file on the FTP server itself. Assuming I could parse out the time from ftp.retrlines('list'), how can I set the modified time on the downloaded file?I'm on a unix based OS if that matters.
Use os.utime:
If you want to do this directly from python, you're looking for os.utime. The docs can give you more info.
There are 2 ways to do this.  One is the os.utime example above whichis required if you are setting the timestamp on a file that has noreference stats.However, if you are copying the files with "shutil.copy()" you have areference file.  Then if you want the permission bits, last access time,last modification time, and flags also copied, you can use"shutil.copystat()" immediately after the "shutil.copy()".I have no idea why they don't add flags to "shutil.copy()" thatdoes this in one single command.  Seems like it was implementedby different authors.  One implemented the copy and one implementedthe copystat to fill in the missing feature in the former.And then there is "shutil.copy2" which is intended to do both at once...


Answer URL
https://docs.python.org/3/library/os.html#os.utime
