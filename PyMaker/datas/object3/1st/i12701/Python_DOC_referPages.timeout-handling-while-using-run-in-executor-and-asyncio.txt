Natural Text
I'm using asyncio to run a piece of blocking code like this:My question is: Can I impose a timeout for the execution of long_running_function? Basically I don't want long_running_function to last more than 2 seconds and I can't do proper timeout handling within it because that function comes from a third-party library.
You could use asyncio.wait_for:
A warning about cancelling long running functions:Although wrapping the Future returned by loop.run_in_executor with an asyncio.wait_for call will allow the event loop to stop waiting for long_running_function after some x seconds, it won't necessarily stop the underlying long_running_function. This is one of the shortcomings of concurrent.futures and to the best of my knowledge there is no simple way to just cancel a concurrent.futures.Future.


Answer URL
https://docs.python.org/3/library/asyncio-task.html#asyncio.wait_for
