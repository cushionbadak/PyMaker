Natural Text
I have a Vector2 class: When I try to do 1.0 * Vector2(), I get the error:TypeError: unsupported operand type(s) for *: 'float' and 'instance'However, sometimes it works as intended:ball.vel is a vector and I am able to multiply by a float.Vectors are multiplied by floats in many sections of my code without errors.Does anyone know where this inconsistency comes from?Thanks
Define an __rmul__ method to get a_float * a_vector working. It can be as simple asThe other operators also have a dunder-r version. These reflected operators are called when the normal version is not defined for the given types. See the docs for the NotImplemented builtin constant.The expression a * b is equivalent to a.__mul__(b), unless b is an instance of a subclass of a's class or a.__mul__(b) returns NotImplemented, in which case it's b.__rmul__(a) instead.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__radd__
https://docs.python.org/3/library/constants.html?highlight=notimplemented
