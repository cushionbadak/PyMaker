Natural Text
I am creating an API to receive and process images.  I have to receive the image in bytearray format.  The following is my code to post:Approach 1Posting the image to apiMy API: Receiving image at apiWithin my api I have tried, request.get['data'] request.params['data']....I am getting object has no attribute error.I tried passing the bytearray to json along with width and height of the image like:Approach 2:Posting image to apiand changed my get function at the API as Receive image at apibut have received the following error for example:
server.py file:with client.py file as:I referred this link: http://docs.python-requests.org/en/master/user/advanced/#post-multiple-multipart-encoded-filesThis solves the first issue.The line image = Image.open(io.BytesIO(img)) is wrong since img is a <class 'werkzeug.datastructures.FileStorage'> which should not be passed to io.BytesIO, since it takes bytes-like object as mentioned here: https://docs.python.org/3/library/io.html#io.BytesIO, and explanation of bytes-like object here: https://docs.python.org/3/glossary.html#term-bytes-like-objectSo, instead of doing this. Passing filename directly to cv2.imread(img.filename) solved the issue.


Answer URL
https://docs.python.org/3/library/io.html#io.BytesIO
https://docs.python.org/3/glossary.html#term-bytes-like-object
