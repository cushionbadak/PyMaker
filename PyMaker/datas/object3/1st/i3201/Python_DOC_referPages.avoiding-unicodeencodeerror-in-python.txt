Natural Text
I tried to parse an html table into csv using python with a following script: This code outputed a clear formated CSV file with no encoding issues.All was just fine before Enrico Tröger's Geany. My script was unable to write öinto a csv file, so i tried this:csvRow.append(cell.text.encode('ascii', 'replace')) instead of that: csvRow.append(cell.getText())All was fine, despite the fact that each table cell was nested in b''.  So, how can i get a clear formated csv file withous encoding issues(like in the first screenshot) and replaced or ignored allnon-unicode symbols(like in the second screenshot) using my scipt?
Change this one:To this one:csv module documentation:Since open() is used to open a CSV file for reading, the file will by default be decoded into unicode using the system default encoding (see locale.getpreferredencoding()). To decode a file using a different encoding, use the encoding argument of open:The same applies to writing in something other than the system default encoding: specify the encoding argument when opening the output file.I suppose your system default encoding is not utf8.You can check it like this:Hope it helps!
Looks like the csv module expects strings, not bytes.  So you could de-encode your bytes before passing them:


Answer URL
