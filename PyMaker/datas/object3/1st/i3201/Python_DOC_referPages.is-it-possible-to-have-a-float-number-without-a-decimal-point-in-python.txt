Natural Text
I asked this because it is possible in R. Note that both 1.5 and 1 are in numeric type (double-precision), and only 1L is an integer. When coercing a string into numeric type, it doesn't show a decimal point if there's not one in the string.Am I allowed to have similar operations in Python? Let's say I have a function called key_in_a_number:Now if one keys in "40", it will return 40.0, but 40.0 and 40 are different in certain digits. Thus, 40 should be returned if "40" is keyed in, while 40.0 should be returned only when "40.0" is keyed in.My work around is:However, in this way, I cannot be sure that the results are always in the same type, which could be problematic in following data storage or processing. Is there any way to have a number in float type without a decimal point?
I think your core problem here is that you're misunderstanding what float is.A float represents a C double, which almost always means an IEEE 754-1985 double (or an IEEE 754-2008 binary64, which is basically the same thing but slightly better defined). It always has 53 binary digits of precision. It doesn't matter whether you specify it as 40., 40.00000, float(40), float('40'), or float('40.00'); those are all identical in every way.So, the main problem you're asking about doesn't make any sense:Now if one keys in "40", it will return 40.0, but 40.0 and 40 are different in certain digits.No, they aren't. float("40") and float("40.0") are both the exact same value, with no differences in any digits, and no difference in their precision, or anything else.There's a different type in Python, in the decimal library, that represents an IEEE  754-2008 arbitrary-sized decimal. It has as many decimal digits of precision as you tell it to have. So, Decimal('40') and Decimal('40.') have two digits; Decimal('40.000') has five digitsâ€”they may be equal, but they're not identical, because the last one is more precise.Decimal, on the other hand, prints out however many digits of precision it actually has:While we're at it, if you do want float and int values, here's how to translate each line of R into Python:Notice that, just like as.numeric("3") gives you a numeric rather than an integer, float("3")gives you afloatrather than anint`. I'm not sure why that Python behavior puzzles you given that it's identical to the equivalent R behavior.
Yes,10 would be an integer in Python, whereas 10. which represents the same number would be a float.


Answer URL
https://docs.python.org/3/library/decimal.html
