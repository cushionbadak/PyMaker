Natural Text
I am having trouble understanding something in this code: I understand that customizing __len__ will make all objects with type CustomeSequence will return a length of 5, and the index of something with length 5 will return 0, 1, 2, 3, 4, at least to my understanding. My question is, why does __getitem__.index look for __len__?The function prints this:
Straight from the docs:If the __reversed__() method is not provided, the reversed()  built-in will fall back to using the sequence protocol (__len__()  and __getitem__()).
No, __getitem__ does not "look for" len. It's simply that in order to reverse a sequence you must know its last item, and for that you need the length of the sequence, or the __reversed__ magic method.So, Python's reversed first finds the length of the sequence and retrieves its elements starting from the last one:(It's not Pythonic to call magic methods explicitly. These calls are here just to show their usage. In real code please use len and the index notation data[x] instead).


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__reversed__
