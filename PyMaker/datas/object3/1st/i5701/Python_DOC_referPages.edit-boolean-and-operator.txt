Natural Text
So I've been messing around with the standard operators in classes to try and see what i can make, but i haven't been able to find how to edit the boolean and operator.I can edit the bitwise &operator by defining __and__(self), but not the way that and behaves. Does anyone know how I can change the behavior of a and b where a and bare instances of the class I'm making?Thanks in advance!
In Python 2, and and or access __nonzero__:In Python 3, __nonzero__ has been renamed to __bool__.Note that short-circuit evaluation might suppress a call to __nonzero__ or __bool__.Another speciality to be aware of is that Python is trying to access __len__ if __nonzero__ / __bool__ is not defined and treats the object as truthy if __len__ returns a value other than 0. If both methods are defined, __nonzero__ / __bool__ wins.Is there any way i can have this return something other than a bool, like, say, a list of bools? Unfortunately, no. The documentation states that the method should return False or True but in fact you get a TypeError if you let it return something else.
The and operator converts the first operands to boolean using __bool__, and then does a predefined action to the booleans (if first.__bool__() is True, return second, else return first). There is no way to change this behavior.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__bool__
