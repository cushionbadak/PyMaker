Natural Text
I am getting JSON data from a hardware device in a Python script. The JSON data is not 100% valid: some base 10 integers have leading zeros, which is apparently forbidden. This makes the Python JSON module throw an exception.Is there any way to ask the parser to be more permissive? Or am I condemned to do all the parsing myself?I have already sent a mail to the hardware device manufacturer but they don't seem to care...
According to the documentation for JSONDecoder,parse_int, if specified, will be called with the string of every JSON int to be decoded. By default, this is equivalent to int(num_str). This can be used to use another datatype or parser for JSON integers (e.g. float).So, just write some code that handles leading zeros. (Note: In C a leading zero indicates that the number is an octal literal. Since you're mentioning a hardware device, you should confirm whether the numbers you are receiving are base 8 or 10 or 16 or 2 or ...?)


Answer URL
https://docs.python.org/3/library/json.html#encoders-and-decoders
