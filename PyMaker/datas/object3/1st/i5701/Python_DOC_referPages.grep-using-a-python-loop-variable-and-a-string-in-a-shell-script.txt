Natural Text
Context:I have an internal Linux command, let's say "signals", which will give output whatever the signals placed for that day by oozie.For example:I am writing a python script which runs every day and will grep for "empty" and "maxid" signals per oltp and send an email.Let's say there are empty signal for oltp1 and maxid signal for oltp2. It will send an email with all oltps and signals.I have a configfile which has all oltps in 1 column:Code:attempts:tried with $vartried with %varempty_cnt_loan has value 0, where when i run the command in linux box, its has 2 value.I tried subprocess, but since I am new I couldn't figure out how to use it.. Any help would be much appreciated.
Running a complex Bash pipeline to do things which are trivial in Python is an antipattern.  Just run signals once and loop over the output in Python.Assuming Python 3.6+,As an aside, grep has an option -c to count the number of matches; but you really almost never need grep (or Awk, or sed, or cut, or a number of other standard utilities) when you have Python.


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.run
