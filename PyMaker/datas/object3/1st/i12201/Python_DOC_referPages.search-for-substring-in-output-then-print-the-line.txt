Natural Text
I would like to list a file and then search the lines for a pattern, like I do in Bash with.I try the following:If I execute the script with python3 I always get this errormessage:When I just print the lines without search, the script will list all my lines.How do I get each line with the pattern "nologin" from the output?
Looks like in Python 3, PIPE_ERG.communicate()[0] is not a str, but bytes, and for bytes, the in operator is not defined. You have to convert those bytes to str first. The simplest way would be just to do LINE = str(LINE) in the loop, or use LINE.decode():Or use Popen with universal_newlines=True:From the documentation:By default, this function will return the data as encoded bytes. The  actual encoding of the output data may depend on the command being  invoked, so the decoding to text will often need to be handled at the  application level.This behaviour may be overridden by setting universal_newlines to True


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate
https://docs.python.org/3/library/subprocess.html#subprocess.check_output
