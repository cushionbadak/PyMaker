Natural Text
This question already has an answer here:Python: weird “NameError: name … is not defined” in an 'exec' environment                    2 answers                You can define both classes and functions in exec'd code without problems:However, defining both a class and a function that uses that class in exec'd code results in a NameError, because the class doesn't end up in the correct scope:Passing globals() as the second argument to exec so that everything ends up in the global namespace fixes this problem.My question is, why is that necessary? test_class_2 and test_func_2 seem like they should both be local to test_2, so why doesn't test_func_2 have access to test_class_2?EDIT:Fundamentally, my question is why is test_2() above different from something like this code, which works fine:
Because your class (and function) not in global spaceDemo:


Answer URL
https://docs.python.org/3/library/functions.html#exec](unchanged)
