Natural Text
I'm trying to delete a big number of folders in some code I am writing in Python 2.7, the folders to be deleted are in the same folder than the code I'm running. To do this I use subprocess in the following way:If I do this the code doesn't delete any folders. Obviously, if I write rm -r ./*/ in my terminal all the folders inside the folder where I'm running the code are deleted. Also if I change runsafe("rm",["-r","./*/"]) in my code for runsafe("rm",["-r","./foo/"]) (where foo is one of the folders to be deleted) the code works fine and deletes the desired folder.How can I delete all the folders at once? Why doesn't it work if I use * to indicate that I want to delete all the folders? 
You can't use * because subprocess doesn't run in a shell (e.g. Bash), and it is the shell that expands * into a list of files.You could use shell=True to tell subprocess to run in a shell, but this isn't a great idea, and there are better alternatives.If you need to recursively delete a directory you can use shutil.rmtree() and avoid starting a subprocess at all.
You could have subprocess run a shell to interpret your command. The command line needs to be passed as a string, not a list:


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.rmtree
