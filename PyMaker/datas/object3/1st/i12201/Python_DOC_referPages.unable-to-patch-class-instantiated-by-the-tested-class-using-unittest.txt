Natural Text
I am trying to patch a class that is instantiated by the class I am trying to test, but it doesn't work. I have read the various docs but still haven't found what I am doing wrong. Here is the code snippet:In tests/Test.py:In module/ClassToPatch.py:In module/ClassToTest.py:I know in this case I could easily inject the dependency, but this is just an example. Also, we use a single class per file policy, with the file named like the class, hence the weird import naming.
As norbert mentions, the fix is to change the mock line fromtoAccording to the docs:The patch() decorator / context manager makes it easy to mock classes or objects in a module under test. The object you specify will be replaced with a mock (or other object) during the test and restored when the test ends.You are testing the ClassToTest module, not the ClassToPatch module.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#quick-guide
