Natural Text
I'm trying to  close the transport right after sending the UDP packet and I'm getting an Exception in callback _SelectorDatagramTransport._read_ready()The full stack trace that I get is while running the snippet above in CPython 3.5.1 is:I believe the exception is only generated if the UDP packet is actively refused, with an ICMP Destination Unreachable (which I'm not interested in).So the question is what is the right way of doing this. I'm not interested in this connection anymore after sending so I want to get rid of the transport as soon as possible. The documentation for DatagramTransport.sendto() just says that the methods doesn't block. But how do I know when the sending is completed? (And by complete I mean when is handed over to the OS, not delivered to the remote). Is there any other asyncio coroutine to send an UDP packet asynchronously and simple await (maybe even skipping the whole create_datagram_endpoint) ? 
Is there any other asyncio coroutine to send an UDP packet asynchronously and simple await?I would, base on DatagramTransport source, wrap it in Future to be yieldable/awaitable. It will raise exception on error and return True on success. The example PoC code:Than simple example would look like:


Answer URL
https://docs.python.org/3/library/asyncio-protocol.html#asyncio.DatagramTransport.sendto
