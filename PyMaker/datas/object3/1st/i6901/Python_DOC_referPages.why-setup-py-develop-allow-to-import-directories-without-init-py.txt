Natural Text
I'm working on simple project looking like this:When I run setup.py develop, against my venv, import abcd.history works. when I run setup.py install, against my venv, import abcd.history returns me an exception:Why? Python version is 3.5.1
setup.py develop installs your package as sort of a pseudo-symlink to your development directory, so stuff like \abcd\history\ is visible there. import abcd.history then imports the folder as an implicit namespace package, a feature introduced in Python 3.3. Implicit namespace packages don't require __init__.py.setup.py install doesn't create the pseudo-symlink. It only installs what it's configured to install, and apparently, it wasn't configured to install abcd.history.
Resume: Python 3 can import a submodule without __init__.py (only the top-level directory of a module requires __init__.py), Python 2 cannot. Try to find out where Python 2 has creeped and crippled your installation.
From the docs:The __init__.py files are required to make Python treat the directories as containing packages; this is done to prevent directories with a common name, such as string, from unintentionally hiding valid modules that occur later on the module search path.There must be something about the fact that setup.py develop just points your interpreter to the local directory that allows for the import of abcd.history that fails when you try to actually install it into an environment.


Answer URL
https://docs.python.org/3/tutorial/modules.html#packages
