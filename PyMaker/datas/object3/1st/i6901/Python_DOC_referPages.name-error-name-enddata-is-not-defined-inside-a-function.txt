Natural Text
When I try to run this it says "enddata" is not defined, even though it is a list containing formatted data from the document. Is there a better way of coding this part?
As others pointed out, you have to call the openfile function: The code could be like this:Another way to do it a little more short and pythonic could be:Worth it to explore the csv Python module:
You have to call openfile for it to initialize (and create, for that matter) the global name enddata. However, you should not be using a global variable. Have openfile return the value you are assigning to enddata and assign it to the the variable in the calling scope.A few other tips:Your function doesn't just open a file, it reads it and returns some data.Use a with statement to manage opening and closing the file.Don't read the entire file into memory at once; read it line by line.You are iterating over data twice, in some sense: once using the for loop, and again with index. It appears that sample == data[index] during each iteration. The entire iteration could be handled with a single list comprehension.Use the csv module for reading CSV files.Putting it all together:
This is a slightly more advanced way of writing your code.I use the with statement so that I don't have to remember to close the file. It makes the code more compact in general.weatherData` becomes the alias for the file.sample becomes the name for one line in the input file.It's important to note that each line in a file will have a so-called 'line-end' which has to be stripped off; hence the .strip(). Then I can do the .split on commas.Because each input line can contain more than one value, I use .extend to add them to enddata.I've written print (openfile()) to see the results. Alternatively I could have written result = openfile(); print(result)..Output:


Answer URL
https://docs.python.org/3/library/csv.html
