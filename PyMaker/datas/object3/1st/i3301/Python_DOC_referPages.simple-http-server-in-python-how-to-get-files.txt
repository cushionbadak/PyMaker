Natural Text
I have such code for running simple server on Python 3. I know that I can just use something like this python -m http.server 8080, however I want to understand how it works and set limits for serving files extensions.I try to use path.join(dir, 'index.html'), but looks like that doesn't work.<>
dir is a builtin function. You're trying to join that function to the string 'index.html', hence the error.The reason you're presumably confused is that you tried to hide dir with a string, here:But when you put that inside a class definition, that doesn't create a global variable that hides the builtin, it creates a class attribute. To access a class attribute from within a method of that class, you have to do the same thing you do with a normal instance attribute:The only differences between class attributes and instance attributes are that:All of your instances share the same dir attribute instead of each having their own copy.You can access it as RequestHandler.dir or type(self).dir instead of just as self.dir.To avoid this kind of confusion, it's a good idea to avoid reusing the names of any of the builtin functions. While it's legal to do so, it often leads to mistakes just like this one, and makes it harder to debug those mistakes.Also, given that dir is a constant across the entire program, just like hostName and hostPort are, and isn't all that closely tied to the RequestHandler type, maybe you just wanted a global constant, like hostName, instead of a class attribute.


Answer URL
https://docs.python.org/3/library/functions.html#dir
