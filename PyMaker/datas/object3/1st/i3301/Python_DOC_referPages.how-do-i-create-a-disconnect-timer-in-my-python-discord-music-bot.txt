Natural Text
I have tinkered around a discord music bot cog I got from github. I am stuck at trying to create a timer for the bot to leave a voice channel if the /play command hasn't been executed for 5 minutes. The long code is blow or the pastebin: https://pastebin.com/HPqxW2NkCommands are removed. The problem is at line 229.I tried asyncio.sleep(20) but it leaves 20 secs after even if /play has been executed 15 seconds into the timer.Please help me solve this problem! Thank you very much!EDIT: is something like this, Patrick?
Here's a basic example of one approach to this problem. We keep a global reference to some unique value every time the play command is received.  The play coroutine will sleep after executing, and then disconnect only if the global value has not changed while it is sleeping.


Answer URL
https://docs.python.org/3/library/datetime.html#datetime.datetime.now
https://docs.python.org/3/library/datetime.html#timedelta-objects
