Natural Text
I'm trying to mark future done by timeout with this code:"Timer" loop.call_later sets result to future after 3 seconds. It works, but I'm getting exception too:What can mean this AssertionError? Am I doing something wrong setting future done by loop.call_later?
What causes the exception: greet continues to run even after the future.set_result call; By changingwhile True with if True, you will get what I mean.How about using asyncio.Event?
You shouldn't call future.set_result() yourself. The event loop sets the result of the future after the task returns.


Answer URL
https://docs.python.org/3/library/asyncio-sync.html#event
