Natural Text
say we have a tempfile to which we could write some output. but for some strange reason we want it to be compressed by some of archiving techniques, tar for instance, by tempfile I mean the one which has not visiable name created by tempfile.TemporaryFile().any ideas?my first impression includes some tweeking and class inheritance..are there any simpler ways?
The fileobj argument of tarfile.open serves exactly this purpose: you can pass any file-like object that support writting to it and tarfile will happily use that instead of trying to reach out to the filesystem. Note that such files should be opened in binary mode and not in text mode (which tempfile.TemporaryFile does by default).Similarly, the first argument to zipfile.ZipFile can be a file-like object.So you could do:Orto keep f.name on your filesystem and explore its content later.


Answer URL
https://docs.python.org/3/library/tarfile.html#tarfile.open
https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile
