Natural Text
I want that list of A objects to be "joinable" with str.join().Which special method should I implement to achieve this?Of course, I can extract first a list of text then join it, but it's not what I want.
__str__ is only used if the user of your object wants to turn it into a string, and str.join doesn't. You have to explicitly convert your objects to str values before str.join will use them.(Could str.join have been defined to implicitly call str on each element in the iterable it receives as an argument? Sure. But it wasn't.)One of the tenets of Python is "Explicit is better than implicit". If you want to str.join to join the string representations of your objects, pass str objects to join.The only way join will treat them as str objects implicitly is if they are str objects, which is to say if A is a subclass of str.Beware of using inheritance where it isn't warranted, though.


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.join
https://docs.python.org/3/reference/datamodel.html#special-method-names
