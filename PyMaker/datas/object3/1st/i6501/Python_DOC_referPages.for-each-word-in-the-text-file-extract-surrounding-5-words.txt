Natural Text
For each occurrence of a certain word, I need to display the context by showing about 5 words preceding and following the occurrence of the word. Example output for the word 'stranger' in a text file of content when you enter occurs('stranger', 'movie.txt'):My code so far:
I'd suggest slicing words depending on i:(This would go where your comment is)Alternatively, to print as shown in your example:To account for the word being in the first 5:Additionally, find is not doing what you think it is. If find() doesn't find the string, it returns -1 which evaluates to True when used in a if statement. Try:
This retrieves the index of every occurrence of the word in words, which is a list of all words in the file. Then slicing is used to get a list of the matched word and the 5 words before and after.
Consider the more_itertools.adajacent tool.GivenDemoDetailsmore_itertools.adjacent returns an iterable of tuples, e.g. (bool, item) pairs.  A True boolean is returned for words in the string that satisfy the predicate.  Example:Neighboring words are filtered from the results given a distance from the target word.Note:  more_itertools is a third-party library. Install by pip install more_itertools.
Whenever I see rolling views of files, I think collections.dequeNote that this approach intentionally does not handle any edge cases for needle names in the first 5 words or the last 5 words of the file. The question is ambiguous as to whether matching the third word should give the first through ninth words, or something different.


Answer URL
https://docs.python.org/3/library/collections.html?highlight=deque#collections.deque
