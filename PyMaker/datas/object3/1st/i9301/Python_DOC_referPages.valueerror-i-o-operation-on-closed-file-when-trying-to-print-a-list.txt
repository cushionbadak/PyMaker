Natural Text
I found the following code online, added the list created and the attempt to print the lengthIt is sample code to simulate the functionality of traceroute. I am trying to add (by using append) all the resulting IP addresses stored in curr_addr to a list. I am trying to check the length of the list at that line to be sure it keeps growing. Every time I run it, I get this error:Do ignore the above line numbers as I have removed commented code out before posting.
The problem is unsurprisingly with your flushfile class.The problem is that flushfile inherits from file, and its closed attribute defaults to True. Thus, when you try to print() to sys.stdout, it thinks sys.stdout has been closed.You have several options:Stop using flushfile. It's broken. As mentioned in the comments, the print() function takes an optional flush paramter. Just use it instead:Change the flushfile base class from file to object. As I said, the file.closed property defaults to True, and can't be manually set. Empirically, it's good enough for sys.stdout to have have just a write method if you only want to print() to it.


Answer URL
https://docs.python.org/3/library/functions.html#print
