Natural Text
What I'm hoping to accomplish is to scan all the files in the specified directory and remove the numbers that is contained in the name. The problem is I can't change the directory with the code that is below.I'm currently in the Udacity Full Stack Nanodegree Program so if anyone can help me out that is also in the program that would be a plus.Here is the code:Here is the output I get:Update 1:I've finally changed directories but I still can't rename files. (Ex: 68chicago.jpg to chicago.jpg)Here is my current code:Here is my current output: Update 2:I've finally solved the problem thanks to @Dan.Here is his code:
It looks like you want to change to a dir and then change back to the first directory?  If that's the case you want something like this:
Your problem is that you use .translate() incorrectly. It does not change the file names at all, so rename actually renames X into X:Try using list comprehension:
Here's a version that doesn't require changing the current directory.  Just specify the directory where files are to be renamed.  If you specify the full path to the old and new name changing the directory isn't required.This also shows how to use translate properly.  maketrans takes one, two, or three parameters (see docs).  The three-parameter version takes two strings of equal length for 1:1 translating, plus a third parameter of characters to delete.  It returns a dictionary suitable to be used with translate.
The primary problem is your code isn't using the str.translate() method in the proper manner—your need to pass it a translation table for it to work.This following works and avoids renaming files that don't need to be (i.e. doesn't rename them to their current name). This takes a little extra processing, but is probably faster that performing a useless OS-level operation.Note: A more robust solution would also need to handle any exceptions the os.rename() call might raise—which definitely could occur for a number of reasons. For example: Perhaps a file with the translated name already exists.All the characters of the original file get removed, so the new file name is the empty string.File permissions or attribute prevent renaming.etc.The code:


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.maketrans
https://docs.python.org/3/library/stdtypes.html#str.translate
