Natural Text
I have just started out in using argparse, my code works but I am trying to parse in different values as to how the user types in the argument.Currently this is my code:As you can see in my main.. It only register those case-sensitive status names that I have defined.Are there any ways in which I can also make my code to register if they are typed in small caps - 'pending', 'work in progress', 'approved', 'rejected' or in short forms - 'p', 'wip', 'a', 'r'?One of the way I can implement is using if..elif..Though it works, it looks a bit 'long-winded' to me. If I have multiple arguments, this would means I will need to put in a lot of if...elif... which may not be practical unless this is the only way.Is there a better solution to get around this?EDIT:This is how I have been running my command : python prog.py my_project Pendingbut I am thinking of scenarios where one could type it this way : python prog.py my_project pending or python prog.py my_project p, notice that the caps P has become small letter..
You could generalize the status check with .lower() and restricting the number of characters that you check.  For example, if I define an abbreviated list of 'choices', I can test anything that looks like the big names with:You probably shouldn't expect your user to enter the full 'Work in Progress' string.  To do so would require quoting.  Otherwise the shell will break that into 3 strings.A variation on this test uses startswith:You could also let the parser do value checkingThat generates a nice error message if the string doesn't match.  And it incorporates the choices into the help.  Try it and see what happens.The disadvantage is that it doesn't allow abbreviations or upper/lower case.  (A custom type function can get around those restrictions, but that's a more advanced technique).==================A way to use type is to define a little function:which works in the above test:In a parser it can be used as:Sample calls:
Though I haven't tested it, looking at the add_argument function documentation, you should be able to add them as the first arguments to it.name or flags - Either a name or a list of option strings, e.g. foo or -f, --foo.https://docs.python.org/3/library/argparse.html#the-add-argument-method


Answer URL
https://docs.python.org/3/library/argparse.html#the-add-argument-method
