Natural Text
I am using python 3.6 and got some problems to calculate date. I have a list composed of date elements like below:I would like to make it to time format and calculate the days from today.How can I fix my code?Below is my code:I have this error message now:The result that I would like to have is:Please help me to work this out.
date_cand_time is not an integer, it is a tuple with integers. You can't just pass that to the datetime.date() object. You'd have to pass in the first 3 elements as separate arguments instead:The * tells Python to apply the values of the lst_reg_date_cand_time[:3] expression as separate arguments.However, I'd not take a detour via time.strptime(); just map the 3 strings to integers and pass them in directly:The arguments to datetime.date() are, after all, year, month and day, in the same order you have your strings.If you must use strptime, then use datetime.datetime.strptime() and extract the date object from that:Demo:
This code seems to work. Note that I use datetime.strptime instead of time.strptime, in case that makes any difference:OutputCaveatI move the calculation of today outside the for loop for minor performance benefits, but this will cause the code to break if you leave this code running past midnight. :)
This Python 2 / Python 3 code is a combination of Martijn's and Tagc's answers.outputAs Tagc said, if the date may change while this code is running then you need to move today = datetime.today() inside the for loop.Here's essentially the same thing, without a function:
Since datetime.date was using in your code for delta calculation, here is a clean way of doing what you want.Output


Answer URL
https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime
