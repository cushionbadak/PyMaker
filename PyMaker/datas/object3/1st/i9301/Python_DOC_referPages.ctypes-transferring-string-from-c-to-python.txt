Natural Text
I have been struggling with this for almost a week, maybe someone can help me here? To be short, I wrote a program in C++ and want to link it with Python (to build a web application with Flask or Django). My C functions which would return an int, char or void work fine, the problem is when they should return a string. I more or less understand what is the cause of the problem (my C function returns a pointer, which my Python function can't handle as a useful data).So here is an example code that I wrote. In my main.cpp file I have the following the functions:and in my pywrapper.py file I have the following:My output is:So the first function works fine. But what can I do for the second function to return 'hello'??
As the ctypes documentation shows, you need to explicitly tell it how to handle the return type:otherwise the default return type is int (and the returned pointer is converted to an integer address).


Answer URL
https://docs.python.org/3/library/ctypes.html#return-types
