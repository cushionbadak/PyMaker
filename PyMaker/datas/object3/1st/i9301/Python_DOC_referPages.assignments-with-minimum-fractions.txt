Natural Text
Say we have a number of elements E and a number of sets S.We need to assign elements to sets so that:All sets roughly contain the same number of elements (minimumdifference in set size between the smallest and largest set)The number of elements per set should be as small as possible.Each element needs to be assigned to at least a minimum % of sets of the total. This % is specified for each element (thisimplies that elements are course be assigned to multiple setsaccordingly)Note that (1) and (2) are problem objectives, and in some instances there is a tradeoff between them. I'm effectively looking for a mathematical formulation / solution that parameterizes this tradeoff. Meanwhile (3) is just a problem constraint. How do we find an optimal assignment? Does this problem have a name in the literature? In case it matters, I'm specifically looking for a solution in Python.As an example, say we have 3 sets and 10 elements, each of them specifying the  min. fraction of sets as follows:
You could just rotate infinitely over the sets in order to determine the next set to assign to. Then for each element calculate how many sets it should be assigned to and then do the assignment accordingly:Output:In above cycle is used to iterate infinitely over the target sets. gen is a generator that returns the minimum amount of elements to add based on the probabilities:Finally zip is used to generate (target set, element) tuples which are then assigned within a loop.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.cycle
https://docs.python.org/3/library/functions.html#zip
