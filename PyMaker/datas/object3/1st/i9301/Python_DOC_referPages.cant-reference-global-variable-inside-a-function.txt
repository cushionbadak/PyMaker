Natural Text
Good day to all.I am trying to build a game called 2048.I made a variable named box and added 4 lists each list containing a 4 empty values to be replaced later.Then I declared it global(tried reverse too:declared global and then made the values inside them).when I call global box in one function(to do changes to the box),it works.then I called another function which changes position of box and it too passed without a error.but the third where I assign the box to another variable with list comphrehension like this:the second function didn't require box1 but I called it to see if any error occurs.Nothing occurs.but when I do same with the next function error "NameError:free variable box referenced before assignment in enclosing scope" occurs.why is that.what did I do wrong?here is the codeerror occurs at function left()tried in different os too.thanks.works when I declared global inside function but ca anyone explain  why did it work for right() but  not for left()?
You must declare it global inside the function, not outside. Module level variables are always global:The global declaration is unnecessary, as you are only using the variable and not assigning it a new value. It i therefore considered global by default.See the docs:In Python, variables that are only referenced inside a function are implicitly global. If a variable is assigned a value anywhere within the function’s body, it’s assumed to be a local unless explicitly declared as global.
global is used inside the function, not out side.So at the top of your file you can doand inside your function:


Answer URL
https://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python
