Natural Text
i have been using Python recently and i want to extract information from a given xml file. The problem is that the information is really badly stored, in a format like thisI can not post the entire data here, since it is about 20.000 lines.I just want to recieve the list containing ["string1", "string2", ...] and this is the code i have been using so far:However my output is none. How can i recieve the comment data? (again, I am using Python)
You'll want to create a SAX based parser instead of a DOM based parser. Especially with a document as large as yours.A sax based parser requires you to write your own control logic in how data is stored. It's more complicated than simply loading it into a DOM, but much faster as it loads line by line and not the entire document at once. Which gives it the advantage that it can deal with squirrely cases like yours with comments.When you build your handler, you'll probably want to use the LexicalHandler in your parser to pull out those comments.I'd give you a working example on how to build one, but it's been a long time since I've done it myself. There's plenty of guides on how to build a sax based parser online, and will defer that discussion to another thread.
The problem is that your comment does not seem to be standard. The standard comment is <!--Comment here--> like this.And these kind of comments can be parsed with Beautifulsoup  for example:This returns ['[CDATA["string1"; "string2"; ....]]'] From where it could be easy to parse further into the required strings.If you have non standard comments, i would recommend a regular expression like:This returns: "string1"; "string2"


Answer URL
https://docs.python.org/3/library/xml.sax.handler.html#xml.sax.handler.property_lexical_handler
