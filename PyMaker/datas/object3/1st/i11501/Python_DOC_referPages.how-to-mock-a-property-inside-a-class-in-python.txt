Natural Text
This is my first file called user.pyI have a second file called account.pyMy goal is to test user.py.  One of the things I want to do is to mock the Account object in user.py for the 'has_discount' property decorator.  I want to test different scenarios where has_discount will return either 0 or any other number.How do I do this using patch where I can mock the Account object in the User class to return custom values so I can try different tests?
Because the user module imports Account in to its own namespace patching has to be done there instead of the account module. In other words you have to temporarily change what the name Account in the user module refers to:I want to test different scenarios where has_discount will return either 0 or any other number.In its current implementation User.has_discount will always return either True or False. Did you mean Account.discount_id?


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch
