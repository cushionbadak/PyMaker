Natural Text
Say we have an object we write to binary file using pickle. Let's say the object graph looks like this:Now the context objects are large datastructures and all instances of qux are the same. Therefore we decided to leave these contexxt objects out of the pickle process with:for the classes to which foo, bar and baz belong (and in fact all other classes in our design).When we load() the object back into memory, we want all context references to be set back to our given context. One can do this by walking over the object tree recursively, but we are wondering whether there is a more elegant solution in pickle that fills in the context values itself when loading the data back into memory?
If the .context is of type Context, instead of setting context to None, you could adapt the code from the section Persistence of External Objects in the pickle documentation:


Answer URL
https://docs.python.org/3/library/pickle.html#persistence-of-external-objects
https://docs.python.org/3/library/pickle.html#object.__setstate__
