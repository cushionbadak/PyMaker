Natural Text
I would like to make a list of objects which I define, then use the in keyword (which calls __contains__) to determine if said object exists in the Python list. Here is a minimal example with comments:Shouldn't the in keyword iterate over the Python list and use the __contains__ method to determine existence of the object?Extra kudos if calls to lists index() function are also operational.UpdateThanks to @user2357112, Looks like the answer is implementing the equivalence operator __eq__. Adding the following bit to the Foo class in the previous example fixes the issues I was having.
__contains__ is the method that's called on the container, not on the elements. You need to implement __eq__ instead:If you are going to store Foo in other containers (like set), remember to implement __hash__.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__eq__
