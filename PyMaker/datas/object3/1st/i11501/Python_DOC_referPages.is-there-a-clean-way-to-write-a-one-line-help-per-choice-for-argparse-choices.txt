Natural Text
With python argaparse "choices" the default help looks like this:Which works if it's obvious how to pick one, but not so great if each choice needs its own mini-help.Is there any way to write one line help per choice in a clean way, something along these lines:
argparse doesn't support this format. Here is my solution. It isn't nice, but it works.Try to use Sub-commands(subparsers) is the better idea.
@julivco's answer produces this help:The argparse handling of choices is deliberately simple.  It tests with value in choices, and iterates through it to construct the {...} string.  There are bug/issues looking at improving the string formatting, but no one has asked for/suggested this sort of help formatting.====================Here's a custom Action subclass.  It behaves like the usual store, but borrows help formatting ideas from the subparser Action class. It expects choices to be a dictionary (that could easily be changed to a list of lists or tuples).output looks like:


Answer URL
https://docs.python.org/3/library/argparse.html#sub-commands
