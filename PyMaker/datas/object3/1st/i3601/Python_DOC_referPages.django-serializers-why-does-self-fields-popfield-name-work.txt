Natural Text
Referring to the following link as an example (and plenty of other examples exist elsewhere):http://www.django-rest-framework.org/api-guide/serializers/#dynamically-modifying-fieldsIt's understood that Django serializer fields are defined typically using a tuple, which is immutable:However, the accepted way to dynamically change serializer fields involves using a pop (self.fields.pop(field_name)) How do fields get defined? Is there a pre-processing step in Django serializers?
Look at:https://github.com/encode/django-rest-framework/blob/3fcc076d9124fc202be1a4379b6b753209c7afbe/rest_framework/serializers.py#L354How do fields get defined? It must be clear now.Is there a pre-processing step in Django serializers?Yes. This "step" is called metaclassAnd Serializers, Models, Forms are metaclasses.
You can override the serializer init method and set the fields attribute dynamicaly, based on the query params. You can access the request object trouth the context, passed to the serializer.Here I created a reusable mixin, that does the dynamic fields modification.from rest_framework import serializersclass DynamicFieldsModelSerializer(serializers.ModelSerializer):    """    A ModelSerializer that takes an additional fields argument that    controls which fields should be displayed.    """


Answer URL
https://docs.python.org/3/reference/datamodel.html#metaclasses
