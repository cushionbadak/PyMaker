Natural Text
I tested using Python to translate a curl to get some data.The above works fine. It returns json data.It seems ["This is message one."] is a list. I want to use a variable that loads a file to replace this list.I tried:But it returned error below.Can you help? How can I have valid response.text?Thanks.update:The content of f contains only five lines below:
The reason your existing code fails is that str applied to a list of strings will only rarely give you valid JSON. They're not intended to do the same thing. JSON only allows double-quoted strings; Python allows both single- and double-quoted strings. And, unless your strings all happen to include ' characters, Python will render them with single quotes:If you want to get the valid JSON encoding of a list of strings, don't try to trick str into giving you valid JSON by accident, just use the json module:But, even more simply, you shouldn't be trying to figure out how to construct JSON strings in the first place. Just create a dict and json.dumps the whole thing:Being able to do this is pretty much the whole point of JSON: it's a simple way to automatically serialize all of the types that are common to all the major scripting languages.Or, even better, let requests do it for you by passing a json argument instead of a data argument:This also automatically takes care of setting the Content-Type header to application/json for you. You weren't doing thatâ€”and, while many servers will accept your input without it, it's illegal, and some servers will not allow it.For more details, see the section More complicated POST requests in the requests docs. But there really aren't many more details. 
tldr;toStr = json.dumps(file_in_list)ExplanationAssuming your file contains something like String_AString_BYou need to ensure that toStr is:Enclosed by [ and ]Every String in the list is enclosed by quotation marks. So your raw json (as a String) is equal to '{"text":["String_A", "String_B"], "id":"en-es"}'


Answer URL
https://docs.python.org/3/library/json.html
