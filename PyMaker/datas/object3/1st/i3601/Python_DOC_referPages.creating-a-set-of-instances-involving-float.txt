Natural Text
I have a class having list of floats x (and y, generated from x, so if x is equivalent, y is also equivalent). Once initialized, the instance does not change. I would like to make a set of the instances (to use .add()), so I tried to make the class hashable:But because of the floating point inaccuracy, the set will recognize two very close instances as different. I would like to set the __eq__ to be something like but this does not solve the floating point problem.I could use a tuple (x,y) for this problem, but I do not need to compare y, and the real class I work on is a little more complicated.
You could use math.isclose from the math module in the standard library to compare floats, and, perhaps, round (or truncate) the value used to produce the hash to the number of decimals used by default by isclose. (this last value could be parametrized) 


Answer URL
https://docs.python.org/3/library/math.html
