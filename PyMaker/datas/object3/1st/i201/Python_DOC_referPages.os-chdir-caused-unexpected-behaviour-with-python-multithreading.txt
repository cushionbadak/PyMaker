Natural Text
I'm new to multi-threading in Python. In my code, I called a function which changes its working directory with chdir() as follows.Expected behavior is,thread1 : Create "hiDir1" directory, create "hello.txt" inside "hiDir1" and print "Hello Andrew" in "hello.txt"thread2 : Create "hiDir2" directory, create "hello.txt" inside "hiDir2" and print "Hello Michael" in "hello.txt"When I ran the code for the first time, it ran without errors. All files were generated correctly. But "hiDir2" was inside "hiDir1".Without deleting the generated files, I ran it for the second time. Both directories were there. But only "hiDir2" had the correct text file with correct message printed on file. "hiDir1" didn't have the text file. Following error was popped. When I ran it for 3rd time without deleting the files, vice versa of the second time run occurred. Both directories were there. But only "hiDir1" had the text file with correct output. 'hiDir2' was empty. Following error message was there. When I ran this repeatedly, 2nd and 3rd occurrences occurred exactly one after other.(How can this happen? It should give the same output each time, isn't it?)As I understood, the issue is with 'chdir()'. So I rearranged the code getting rid of 'chdir()' as follows.Then, there was no issue. Code ran as expected. Is there anything wrong with os.chdir() when used in python multi-threading? Is this a bug in python threading module?Thanks.
How about this:Demo time:https://docs.python.org/3/library/pathlib.html


Answer URL
https://docs.python.org/3/library/pathlib.html
