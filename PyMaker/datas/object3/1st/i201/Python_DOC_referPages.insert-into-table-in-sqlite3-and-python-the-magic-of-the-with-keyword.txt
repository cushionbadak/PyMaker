Natural Text
I am following this sqlite3 for python tutorial.I am trying to insert a row into a table with this script:I can run it with no errors but the row is not inserted.Although, the row is inserted when using with:Does anyone know whats happening?UPDATEI found in docs.python.orgthat after one or more execute statements one does commit as inand everything goes fine.But still, I would much appreciate some technical explanation of with keyword
But still, I would much appreciate some technical explanation of with  keywordThe reason why you should not commit() when using the database connection as  a context manager (with keyword), is because there's a mechanism that auto-commit in such case, if the transaction succeed (meaning that there's no exception raised).It is explained in the sqlite3 API doc:Using the connection as a context managerConnection objects can be used as context managers that automatically  commit or rollback transactions. In the event of an exception, the  transaction is rolled back; otherwise, the transaction is committed:


Answer URL
https://docs.python.org/3/library/sqlite3.html#using-the-connection-as-a-context-manager
https://docs.python.org/3/library/pdb.html
