Natural Text
I am trying to use subprocess.popen to execute another python script that creates a listening socket. I want to pass it a default number for the port to bind on. I also want to catch if the port is already in use and the bind fails. If it fails then I want to call subprocess.popen again and pass it another number to try and bind to.first.pystart.py
A couple of things:Just returning 1 from a function called won't make your process's exit code 1.Either do sys.exit(stuff()) or just call sys.exit(1) in stuff().You can wait for a subprocess to succeed or fail with p.wait(), after which you can look at p.returncode.In your case, you'll probably want to do something likeAnd, of course, you could do this with just threads instead of subprocesses.


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.Popen.wait
