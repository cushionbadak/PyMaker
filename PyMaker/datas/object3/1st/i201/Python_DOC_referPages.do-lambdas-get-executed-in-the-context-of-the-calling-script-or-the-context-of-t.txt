Natural Text
If the following function is defined in a different file and returned and executed in a separate file, will it give the file name of where it was defined? Or where it was called?
This will use the filename where it was defined, i.e. File1.py. The import system populates the __file__ attribute on each module object during module loading. Docs here.Note that there is no supported way to get the calling module's filename (File2.py) here, that's only possible with hacks. Avoid.
As wim said, the function gets executed in such a way that __file__ will return the name of the file the function is present in (File1.py).It is however possible to achieve what you want, although again as wim said it is a bit hacky. You can do this by looking at the frame records in the call stack using inspect.stack:File1.py:File2.py:Output:The first [1] indicates to look at the second frame in the call stack (the first frame being the location that called inspect.stack, the second being the location that called that), the second [1] gets the filename from the frame.


Answer URL
https://docs.python.org/3/reference/import.html#import-related-module-attributes
https://docs.python.org/3/library/inspect.html#inspect.stack
