Natural Text
I have a CookieJar instance and I want to get a well-formed Cookie: HTTP header from its content.I had a look at Python modules source code but it amounts to ~ 3/4 functions and 20 sloc, I'm looking for a more elegant solution.Note: I really want the header, not to make a urllib request with that cookies, and I know of HTTPCookieProcessor but it doesn't fit my needs (see above).EDIT: If I was able to obtain a single Cookie (different thing, different module) object with the contents of the cookiejar, then it would be as easy as .output(header="Cookie:"). However,The cookielib and Cookie modules do not depend on each other.
Since Python uses duck typing, you could instead pass in your own object to add_cookie_header; the documentation even lists the methods you would need to implement (get_full_url, get_host, etc.), although it's probably just simpler to create a temporary urllib.request.Request object and then fetch the cookie from it and do what you want with it.(Of course, you could call internal methods like _cookie_attrs but I assume you know why that's a bad ideaâ€”it's brittle to depend on implementation details like that.)


Answer URL
