Natural Text
Currently I'm writing a unittest for my class function.the problem I'm having now is at the self.assertRaises part of my code. I'm not sure if that is how it's done but when I run the unittest, it produces an error Index out of range. By right, it should be "OK". List is my class and List(3) creates an array based list. so when i test1.append(i), it is now [0,1,2].test1[2] is a method of calling the getitem function in my class similar to self[index]. I'm wondering if I'm assert raising correctly? self.assertEqual is fine.
You should use the with statement when you're asserting for exceptions being thrown
Arguments are evaluated before the function is called, so when you use test1[4] it's executed before the self.assertRaises is called. So it's not able to catch the exception.That's also the reason why the 2-argument form has the signature assertRaises(exception, msg=None), the second argument here is the "msg" to match, not the function that is to be called. So it wouldn't have done the correct thing in any case.You could use the context manager:Or use the multiple argument form:


Answer URL
https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertRaises
