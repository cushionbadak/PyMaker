Natural Text
I am in need of a function that retricts the input of the user to numeric values.I've been looking for an answer but the one I've found does not allow for '-', '+' and ','(comma).Here's the code for the validation method:Again, this only seems to work with numbers, but restricts commas and plus and minus signs, which is not intended.How could this be fixed?
The right tool is definitely the re module.Here is a regular expression that should do the job:Let's break it down:Now, your validate function only has to return True if the input matches that regex, and False if it does not.Some tests:EditI understand now that you want to check in real-time if the input is valid.So here is an example of what you can do:The validate function now checks more or less the same thing, but more loosely.Then if the regex results in a match, some additional checks are performed:Allow the input to be empty;Prevent the input to have more than one '+'/'-', and more than one ',';Ignore a match against the empty string, because the pattern allows it, so "a" would result in a match but we don't want it.The command is registered, and works with the '%P' parameter, that corresponds to the string if the input were accepted.Please not however that forcing the input to be always correct is somewhat harsh, and might be counter-intuitive.A more commonly used approach is to update a string next to the entry, and have the user know when their input is valid or invalid.


Answer URL
https://docs.python.org/3/library/re.html
