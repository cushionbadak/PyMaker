Natural Text
I want a logging module that parses the log message and sends it to a database for later analysis (I'm using the Elasticsearch database). My current implementation uses the logging module and has all the standard debug levels. To do this, I need access to the log message. Is there a method in Python's logging module that would get me access to the message?I feel like this boils down to writing a log handler that fits within Python's logging module. Any ideas?
Python 2Within makeRecord, you could add a call to a function like store_message, whose behavior you define.Python 3.2+You can write your own record factory, which you can use to store messages as they occur.You would add your call to store_message into your record_factory.Then, when you use something like logging.info('foo'), it will pass through store_message, then resume its normal behavior by writing to its out-stream. You may want to consider renaming record_factory to something more descriptive like stored_record_factory.


Answer URL
https://docs.python.org/3/library/logging.html#logging.LogRecord
https://docs.python.org/3/library/logging.html#logging.LogRecord
https://docs.python.org/3/library/logging.html
