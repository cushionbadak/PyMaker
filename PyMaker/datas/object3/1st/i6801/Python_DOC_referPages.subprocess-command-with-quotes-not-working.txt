Natural Text
My subprocess command is not working with quotes.When I execute python file.py I get a empty line:It works fine in bash as you can see:What is wrong?
I don't think the problem is the quotes at all.The command is doing tail -f, which by definition never terminates (it keeps tailing the file(s)). When you call it at the shell, you immediately see some output (maybe, depending on whether the grep matches). But it probably doesn't return to the prompt, because the tail is still running.If you really want to be following the file, then you shouldn't be using communicate() as that expects a terminating process. You have to keep reading from stdout (and stderr, to be safe!) until the process dies.But I suspect that all you need to do is to remove the -f on the tail:If you remove the -f, then communicate() is exactly the right call to use.Or, you can just use the check_output helper:
You need to run communicate() on Popen instance. It should look likeIf you need unicode string instead of bytes use decode():Update:Because of -f flag to tail you should get output live:It's not best method, more you can find in this topic.


Answer URL
https://docs.python.org/3/library/stdtypes.html#bytes.decode
