Natural Text
I can't get the following script to work without throwing an EOFError exception:I've read this question which seems to be related: Python STDIN User Input IssueI think that tells me I need to clear the stdin buffer ? But I'm not sure how because print(sys.stdin.readline()) just outputs a newline and the EOFError is still there.I also tried using the sys.stdin.flush() method (found in this question: Usage of sys.stdout.flush() method) although I still don't understand what it does because I couldn't find it in the official documentation (3.6), the closest I found was this but it doesn't mention flush: https://docs.python.org/3/library/sys.htmlPlease bear in mind that I'm not a programmer nor do I have a CS education or background. I just write scripts to automate parts of my, otherwise non-technical, work. So if you know any good beginner ressource on how stdin/stdout works in the shell with Python please do tell.
By piping input, Python is opening sys.stdin as a FIFO.  Otherwise, Python will open sys.stdin to /dev/tty or equivalent.You can verify this with:Run this twice, once piping in data, once not.I get:So your EOF occurs because the FIFO sys.stdin is opened to is empty.You can reopen sys.stdin to /dev/tty, however.Which would work fine:
You can't really "clear" the standard input (stdin).  It is there, available for reading and many input functions read until end of file (EOF, or the end of standard input).  The "flush" operation is for standard output.In your case, the json.load(sys.stdin) operation will read the entire standard input (and then it will be closed).  At that point, no more input is available. If you both want to read input data AND have interactive input from the user, consider reading your data from a file and using standard input only for interactive user input.


Answer URL
https://docs.python.org/3/library/sys.html
