Natural Text
I'm making a program which contains uses a lot of time.sleep()... I was wondering if there was a way I could disable thetime.sleep()s temporarily (for example, if a certain argument is passed, time.sleep()s don't run)
Edit: hogwash removed. modules are singletons. TIL.
If your program does not need to use the time module for anything else you could make a new python file called time.py and just write one line in it that reads pass. Save and place that in the same directory as your other file. additionally if you made a variable and multiplied it to every time.sleep. eg: time.sleep(100*x) you could set the variable to zero and to remove the sleeps or to 1 to make them normal
I don’t see why you have to go through so much trouble. You can simply save the original time.sleep, override the time.sleep when you want to disable it. For certain places that you wanted time.sleep to take place no matter what,  just use the backup time.sleep instead. Furthermore, as Charles Duffy suggested, using pytest’s monkeypatch to mock time.sleep is the preferred way to go.


Answer URL
https://docs.python.org/3/library/unittest.mock.html
