Natural Text
I cloned a library from git and I just managed to use the savePlayerDictionary method.I stored the json file and everything looks fine.BUTWhen I try to use the loadPlayerDictionary, I get the error:My code:where player_data.to_json() is implemented as:The code I run is:
You are encoding your player data to JSON, then encoding the whole dictionary mapping names to that JSON data to JSON again, resulting in double-encoded JSON data for the values of that mapping.When you decode, you only decoded the name-data mapping, not the data for each player. You'd need to decode that separately:It'd be easier if you just not encoded in to_json():(I used the vars() function as a cleaner function to get the same dictionary).If all you are doing is persisting your player data, then consider using the pickle module instead; it is faster and more versatile, no need to have a separate song and dance with __dict__ attributes. There is a wrapper module called shelve that builds on pickle to create a persisted dictionary for objects even.


Answer URL
https://docs.python.org/3/library/functions.html#vars
https://docs.python.org/3/library/pickle.html
https://docs.python.org/3/library/shelve.html
