Natural Text
I want to upload an image on Google Cloud Storage from a python script. This is my code:if gcs_image = open('img.jpg', 'r') the code works and correctly save my image on Cloud Storage. How can I directly upload a bytes image? (for example from an OpenCV/Numpy array: gcs_image = cv2.imread('img.jpg'))
If you want to upload your image from file.but if you want to upload bytes directly:note that target_key is prefix and the name of the uploaded file.
MediaIoBaseUpload expects an io.Base-like   object and raises following error:upon receiving a ndarray object. To solve it I am using TemporaryFile and numpy.ndarray().tofile()Be aware that googleapiclient is non-idiomatic and maintenance only(itâ€™s not developed anymore). I would recommend using idiomatic one.


Answer URL
https://docs.python.org/3/library/io.html#io.IOBase
