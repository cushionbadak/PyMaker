Natural Text
What I have: I have the list List123=[-13,3,12,1] and the 2-by-4-matrix Matrix123=numpy.zeros((2,4), dtype=Decimal).What I want: I want to change all entries of the matrix to any entry of the list and then print it to the terminal. There are 4^(2*4)=65536 possible combinations. I want to print every combination.How I do it now: Here is the my current code:My question: What is a more compact way to write this in only a few lines of code? I need to do the same for a 23-by-27 Matrix. That would mean that I have to write code for 23*27=621 for-loops manually, if I don't find a more compact way.
You can use itertools.product:It will output all the possible solution of length 8 with -13, 3, 12 and 1. matrix will be a tuple with 8 numbers, being the possible solutions. If you need it to output the result in the real numpy.matrix form, you can create them on the fly (even though it will take more time).Or using reshape to improve readability (Thanks to @MenglongLi)It will gave you 65536 results as expected.
I highly recommend you to use itertools in python build-in tools:Here's a pure recursion function version:In both way, you have 65536 results.
Using np.meshgrid:Of course, if your shape is (23,27), this will cause a memerror even if len(list) = 2 as all those permutations would fill all the storage on earth a ridiculous number of times over, and printing them all would take until the heat death of the universe.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.product
