Natural Text
DJANGO APPI have interface for sending e-mail in Django:I have also another interafces for ie. for SMS:In my_app.utils.com there are functions defined:and categories are methods of above classes.QUESTIONIs it possible to call new instance of CommunicationMail every time I call com.mail.email_category...? The problem is that it is the same object instance every call, so ie. when running in parallel as a task, they share properties and overlaps.
This would be the recommended structure:where my_app.utils.com is:If you really wanted to keep the com.mail.email_category1 notation, Python would let you, of course, being the dynamic language that it is (__getattr__ documentation):But use the first method! “Why,” you ask.For one, it is makes it clear what you are doing: You are instantiating a new instance and calling a method. This is not clear with the __getattr__ hackery.Second, you can assign the freshly instantiated instance to a variable mail1 and then call mail1.email_category1(subject, template, ...) or whatever. You have no such normal, expected flexibility with the __getattr__ hackery.
Python modules are singleton, so it will only import it once, so mail = CommunicationMail() is executed once.you can:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__getattr__
