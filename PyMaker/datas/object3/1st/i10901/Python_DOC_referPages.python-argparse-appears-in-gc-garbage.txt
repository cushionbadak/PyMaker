Natural Text
I'm trying to debug a memory leak in a python application and I can see a lot of non collected object belonging to the module argparse Here a minimal script reproducing the errorand I got the following outputI can't find any report of such a problem in argparse, am I doing something wrong?
This lineIs equivalent to sayingAnd by setting DEBUG_SAVEALL,When set, all unreachable objects found will be appended to garbage rather than being freed.In fact, these would have been freed, had you not set DEBUG_LEAK.  (Try your code it without setting DEBUG_LEAK)The flag you likely want is gc.DEBUG_UNREACHABLE, which displays information about objects that are unreachable (and should probably be freed) but cannot be freed by the garbage collector.You could also look at DEBUG_COLLECTABLE to help identify circular references that can be freed.


Answer URL
https://docs.python.org/3/library/gc.html#gc.DEBUG_LEAK
https://docs.python.org/3/library/gc.html#gc.DEBUG_SAVEALL
https://docs.python.org/3/library/gc.html#gc.DEBUG_UNCOLLECTABLE
