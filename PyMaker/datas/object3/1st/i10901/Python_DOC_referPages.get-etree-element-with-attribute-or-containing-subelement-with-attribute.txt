Natural Text
I have an XML file to parse, and I need to find elements by id.In the example code, I need to find the name of the driver, but I don't know whether my id is for the vehicle, engine, or block. I would like a solution which would work with arbitrary xml inside of vehicle (but existence of driver is guaranteed).What have I triedI was trying to get the elements by their id, and then, if they weren't vehicle tags, navigate up the tree to find it, but it seems python's elem.find() returns None if the result is outside elem.Looking at the docs, they have this example:But I don't see how to make that work for any descendant, as opposed to a decendant on a specific level.
Note: All the snippets below use lxml library. To install, run: pip install lxml.You should use root.xpath(..) not root.findall(..).If you want to extract driver's name from a given ID, you'd do:UPDATE: To get the driver's name for a given id nested at any level deeper, you'd do:
If you know the id, but don't know if this id is from vehicle, engine or block, you can approach it with an XPath expression, but you would have to use lxml.etree instead of xml.etree.ElementTree (it has very limited XPath support). Use the ancestor-or-self axis:This would print:Bob Johnson if input_id would be 16 or 532 or 113Dave Edwards if input_id would be 452 or 212 or 381Complete working example:Prints:


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element%22the%20docs%22
