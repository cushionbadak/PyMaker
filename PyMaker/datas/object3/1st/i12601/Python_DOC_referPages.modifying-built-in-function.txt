Natural Text
Let's consider any user-defined pythonic class. If I call dir(obect_of_class), I get the list of its attributes:You can see 2 types of attributes in this list:built-in attributes, user defined.I need to override __dir__ so, that it will return only user defined attribltes. How I can do that? It is clear, that if in overridden function I call itself, it gives me infinite recursion. So, I want to do somethig like this:but evade the infinite recursion.In general, how can I modify a built-in function if I don't want to write it from scratch but want to modify the existing function?
Use super to call parent's implementation of __dir__; avoid the recursion:
Do you want to do it on your custom class or globally for dir() function?First approach (class-only):Basically what's done here is calling __dir__() of superclass (not class itself) and filtering it in subclass.Second approach (shadowing global dir function):Here all calls to dir() would be filtered. As you can see - it'll work for all types, including built-in types.


Answer URL
https://docs.python.org/3/library/functions.html#super
https://docs.python.org/3/library/functions.html#super
