Natural Text
I am trying to compile a simple cython module using the following setup.py:I have the following folder structure:If I run the following:I get an extra c_ext subfolder like this:But if I remove the __init__.py file, I get the verifier_c.so file in the same folder as verifier_c.pyx.I did not find where this behavior is documented, but I would like to keep verifier_c.so in the same folder as verifier_c.pyx but without having to delete __init__.py each time I run setup.py. How can I achieve that?
As mentioned in the comments, the setup.py should not live inside your package. As far as I know the build_ext commands has no option (apart from --inplace) to specify a target path. You can find some documentation here. Also this question deals with a similar topic.To adapts the required package structure your package would have to look like:You will get an extension that lives in the verifier package:You can then import verifier_c from the verifier package. For example from myfile.py this would look like:You can manage a separate package (and folder) for each Cython extension or create one sub folder that contains all of them. You have to pass the other modules to cythonize as well. It can handle a glob pattern, list of glob patterns or a list of Distutils.Extensions objects. The latter can be handy to specify cython compiler directives I hope this help :)


Answer URL
https://docs.python.org/3/library/glob.html
