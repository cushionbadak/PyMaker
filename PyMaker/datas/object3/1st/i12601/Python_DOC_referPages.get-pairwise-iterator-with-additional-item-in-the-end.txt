Natural Text
The goal: e.g. given finite iterator p0, p1, ..., pn turn into (p0, p1), (p1, p2), ..., (pn-1, pn), (pn, None) — iterator through pairs of consecutive items with special last item.pairwise() function exists in the documentation as example of itertools usage:But  I want additionally add yet another item to the end of iterator (if it is finite) with some default value for the second element of pair (e.g., None).How to efficiently implement this additional functionality?
Using itertools.zip_longest:When one of the input iterators runs out, zip_longest pads it with a filler value, which defaults to None.
As for adding (sn, None) at the end, as user2357112 already answered, you can just use zip_longest so one already exhausted iterator is not stopping the whole sequence (so the a iterator can still yield the last element).For all other situations, e.g. if you want to add further elements at the end, you can just make a generator function itself. All the itertools function are already lazy generators, only producing new results when you request the next element in the result, and you can easily consume those from within a generator.Let’s say, you need pairwise to yield a sentinel value (None, None) at the end, then you could simply yield the results from zip_longest and then yield another item:The yield from syntax actually came with Python 3.3. For earlier versions, especially Python 2, you would need to do that manually by looping over the items and yielding them again:
You can create a generator:Results:For an infinite iterable:


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.zip_longest
