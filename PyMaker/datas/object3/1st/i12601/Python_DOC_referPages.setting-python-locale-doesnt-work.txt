Natural Text
So I've been trying to set the Python locale. I want to because I want to use the weekday name in local language (using strftime('%A')). But currently the weekday is printed in English even though I tried setting the locale several ways. I am running this on a RPi2 with Ubuntu Mate. I have tried the solutions in this topic What is the correct way to set Python's locale on Windows?I tried explicitly setting locale to nl_NL.utf8:I also tried setting an empty string, a suggested in the last answer:In both cases when I tryI see nl_NL.utf8But I still get the weekday in English! Haven't been able to find much about this on the internetz except for the above topic and I couldn't get this fixed.Edit:I have tried all 3 options. The first one returns a weird result:It seems like nothing is saved. Am I wrong in assuming you set your locale once and then the system will remember this? The second option:Even though I am trying to get a Dutch weekday name I still get an English name in return. Besides that this method starts counting from sunday and not monday. Am I doing anything wrong? The third suggestion got me my weekday name, thanks! But I'm still wondering why the first doesn't work? I am using this script on my own device and would like to work with a correct global locale.Edit2:yes, calling locale.setlocale() in Python does not affect future python processes. Configure environment variables instead, see How to set all locale settings in Ubuntu.Ok! So that is why it didn't work. I assumed I had set the locale for any future use in Python, like an environment variable but then only for Python.I have a bash script creating files and this Python script should delete it after some time (learning to code, didn't know Python when I wrote the Bash script). Bash's "date" method seems to pick up the locale some way or the other. I'll go ahead and see what I can fix for Python. This is what I see when I type $ locale:
It seems like nothing is saved. Am I wrong in assuming you set your locale once and then the system will remember thisyes, calling locale.setlocale() in Python does not affect future python processes. Configure environment variables instead, see How to set all locale settings in Ubuntu.Bash's "date" method seems to pick up the locale some way or the other. date  calls setlocale(LC_ALL, "") at the start i.e., you need to call setlocale() at least once per process to enable $LANG locale instead of C locale.setlocale(LC_ALL, '') sets locale according to $LANG variable first, not $LANGUAGE (it is related but different: "The GNU gettext search path contains 'LC_ALL', 'LC_CTYPE', 'LANG' and 'LANGUAGE', in that order.").It is enough to set LC_TIME category (on Ubuntu):If setlocale() hasn't raised locale.Error: unsupported locale setting then the corresponding locale category is set successfully.You could also get the weekday name knowing its position (in the same python session where the locale is changed):A portable way, to print a weekday in a given locale without modifying a global state, is to use babel module:


Answer URL
https://docs.python.org/3/library/locale.html#locale.getdefaultlocale
