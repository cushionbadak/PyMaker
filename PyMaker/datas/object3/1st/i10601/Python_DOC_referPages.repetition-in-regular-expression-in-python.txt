Natural Text
I've got a file with lines for example:I need to take what is inside $$ so expected result is:My result:My solution:Any ideas how to improve my regexp? I was trying with * and + sign, but I'm not sure how to finally create it.I was searching for similar post, but couldnt find it :(
You can use re.findall with r'\$[^$]+\$' regex: See Python demoNote that you need to escape $s and remove the capturing group for the re.findall to return the $...$ substrings, not just what is inside $s.Pattern details:\$ - a dollar symbol (literal)[^$]+ - 1 or more symbols other than $\$ - a literal dollar symbol.NOTE: The [^$] is a negated character class that matches any char but the one(s) defined in the class. Using a negated character class here speeds up matching since .*? lazy dot pattern expands at each position in the string between two $s, thus taking many more steps to complete and return a match. And a variation of the pattern to get only the texts inside $...$s:See another Python demo. Note the (...) capturing group added so that re.findall could only return what is captured, and  not what is matched.
re.search finds only the first match. Perhaps you'd want re.findall, which returns list of strings, or re.finditer that returns iterator of match objects. Additionally, you must escape $ to \$, as unescaped $ means "end of line".Example:One more improvement would be to use [^$]* instead of .*?; the former means "zero or more any characters besides $; this can potentially avoid more pathological backtracking behaviour.
Your regex is fine. re.search only finds the first match in a line. You are looking for re.findall, which finds all non-overlapping matches. That last bit is important for you since you have the same start and end delimiter.


Answer URL
https://docs.python.org/3/library/re.html#re.search
https://docs.python.org/3/library/re.html#re.findall
