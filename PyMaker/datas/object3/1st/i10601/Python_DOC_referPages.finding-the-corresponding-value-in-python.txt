Natural Text
I want to find the name of the car which has maximum mpg.  I want to print 'Toyota' which has maximum mpg.  I want to do this in a Pythonic way.  I don't like to use pandas.Here is my code:This is my data:
Here are a couple of ways to improve your code:When you are working with files, it's always best to close() your file after working with it, or wrap your snippet of code in a with block.  This closes your file automatically.You are iterating multiple times through the lines in your file, which isn't necessary.  There are much more performant approaches to solve your problem.This code worked for me:
First, every object that supports iteration, can be converted directly to a list using the list function. Hence instead ofyou can do:Next, since dataset is a list of rows (each row is a list), you can use Python's max function to find the maximum row provided that the key to check against is the float value of the first number on each row, like so:max_row holds the row with maximum mpg
The simplies way:Note that if your csv contains an incorrect data then this will fail so in order to make it fault-tolerant you would have to write a manual loop over reader instead of max and validate each row inside.Also if you've already loaded the file then you can use next and max on lists as follows:
You mentioned that you don't like pandas, but, for completeness sake, here is how you could have used pandas.read_csv() to read the CSV file into a dataframe (which is quite convenient when dealing with tabular data) and then get the carname value for the maximum mpg value:Prints 'Toyota' for the provided sample CSV.
Using for loop iterator...Using list comprehensions:...Nasty one liner...


Answer URL
https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects
https://docs.python.org/3/reference/compound_stmts.html#the-with-statement
