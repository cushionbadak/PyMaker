Natural Text
According to Consumer Surveys docs, the questions[].images[].data field takes a bytes datatype.I'm using Python 3 for implementation, but the API is giving errors like Invalid ByteString or bytes type is not JSON serializable.I'm using the following code:img_data is part of the JSON payload that is being sent to the API.Am I missing something? what's the correct way to handle image data upload for questions? I looked into https://github.com/google/consumer-surveys/tree/master/python/src but there is not example of this part.Thanks
You need to use web-safe/URL-safe encoding. Here's some documentation on doing this in Python: https://pymotw.com/2/base64/#url-safe-variationsIn your case, this would look likeETA: In Python 3, the API expects the image data to be of type str so it can be JSON serialized, but the base64.urlsafe_b64encode method returns the data in the form of UTF-8 bytes. You can fix this by  converting the bytes to Unicode:


Answer URL
https://docs.python.org/3/library/urllib.parse.html
