Natural Text
I make a custom partial function as following:(Python 3.6.5 |Anaconda custom (64-bit)| (default, Mar 29 2018, 13:32:41) [MSC v.1900 64 bit (AMD64)])And it works for the buildin map:However, it doesn't work for multiprocessing. The pool.map hangs and without any output:What's wrong with my custom partial function?
This has nothing to do with your custom partial function.The problem is that, as explained in the docs, you need to put your top-level code in __main__ block:Otherwise, each child process in the pool will try to create another pool of 4 more children before doing anything else.Note that this only happens with the spawn and forkserver start methodsâ€”but Windows defaults to spawn (other platforms default to fork), so it happens to you.


Answer URL
https://docs.python.org/3/library/multiprocessing.html#the-spawn-and-forkserver-start-methods
