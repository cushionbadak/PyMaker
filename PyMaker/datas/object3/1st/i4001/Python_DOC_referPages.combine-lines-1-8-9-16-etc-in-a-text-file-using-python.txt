Natural Text
I have a large text file that looks like this:I need to read this txt file and merge lines1-8 onto a single line, save this line as a variable, then move on to lines9-16, merge onto a single line, save this line as a variable, etc. Any idea how to code this?Alternatively if there's a way to remove every '\n' except for every 8th '\n' that might even be easier, but I don't know how. 
Look at grouper in the itertools recipes in the docs:Now you can loop over every group of 8 lines:If you want to join each group together into a single string that you can write to a new file:If you want to turn all the internal newlines into spaces:The nice thing about doing things generator-style is that you can change your grouping rule without changing the rest of the code. For example, if you want to split on every line that matches a date format, as in Miguel Ortiz's answer:
Split by "\n" then make a list of chunks of 8 lines of data joined via "," (or whatever delimiter you want):
I like the answers, but I add mine which has more control about the content of the file and could be used in the future if the amount of lines in the input file varies, (of course you can add more control to cover more corner cases).This one will look for a line with date format, then associate the data to that date:Output:txt file


Answer URL
https://docs.python.org/3/library/itertools.html#itertools-recipes
