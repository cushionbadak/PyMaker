Natural Text
I  made a function which filters my list and it looks likeAs you imagine, the line marked does not work and I'm not really comfortable with the usage of python loops.What i want to do is to verify that my i element in my sortListD is formatted as 'YYYY-MM-DD', and remove it if not.my sortListD looks like this:The elements in bold are the one i want to remove.
If you just wanted a sequence of unique date strings, use a set comprehension to extract the unique last 10 characters of each directory name, and then see if each string starts with 2017:This uses two comprehensions, loops that produce a Python container object directly. The first, {....} produces a set (where all contained elements are unique), and the second produces a list. The if ... parts filter the loop to limit what is included.The above returns just those 10-character long tails of the directory names. If you wanted the whole directory name, then there is no need to use a set (names in a directory are already guaranteed to be unique) and you only need to slice in the list comprehension filter. We can make the directory test loop a generator expression to avoid creating an intermediary list:The startswith test is pretty simplistic, and there can easily be false positives. You may want to test for any valid date string of the form YYYY-MM-DD, including testing that the date actually exists. That's easiest done by having the datetime library try and parse the string; if this fails, you know you don't have a valid date:and use this instead of the .startswith() test:
Write a validation function and use that when walk through you list like this for example:Or to wrap it up in a function like in your example and adding the isdir()-condition as well:


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
