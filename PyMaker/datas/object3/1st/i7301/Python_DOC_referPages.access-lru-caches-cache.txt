Natural Text
General problem: How can I access a variable in a function's closure? Specific problem: How can I access the raw cache from a python function wrapped with functools.lru_cache()?If I memoize a function (example taken from the docs)...Here is where cache is defined: https://github.com/python/cpython/blob/f0851910eb8e711bf8f22165cb0df33bb27b09d6/Lib/functools.py#L491When fib() is memoized, lru_cache adds a cache_info() and cache_clear() function to the wrapper.  cache_clear() has access to cache and I have access to cache_clear() so can I somehow use that to access cache directly?
You can use cachier by Shay Palachy. You can tell it to cache to a pickle file.Alternatively, look at persistent_lru_cache developed by Andrew Barnert.


Answer URL
https://docs.python.org/3/library/functools.html#functools.lru_cache
