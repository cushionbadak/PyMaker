Natural Text
Django beginner here. I have been using the inbuilt login_required decorator. I want to override it for certain users who's referral urls match a certain pattern (e.g. all users originating from /buy_and_sell/). My purpose is to show a special login page to just these users, and a generic one to everyone else.I've been looking at various examples of writing custom decorators (e.g. here, here, here and here). But I find the definitions hard to grasp for a beginner. Can someone give me a layman's understanding (and preferably illustrative example) of how I can solve my problem?
There is user_passes_test decorator included in Django.You do not have to make your own decorator.Need Request in decorator To do that make a clone version of user_passes_test in your project or app and make change as follow,change test_func(request.user) to test_func(request) and you will get  whole request in your decorator function.Edit: In url.py ,
Here the best answer to understand python decorators : How to make a chain of function decorators?You can use login_url argument of login_required : Another way is to create a custom decorator, an example from the documentation of Django :


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#function
