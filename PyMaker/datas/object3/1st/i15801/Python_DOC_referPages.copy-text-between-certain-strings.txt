Natural Text
I have a ~8MB file that I want to split up. The file is structured like this:In this file I have ~50 so called-headers, which is the XYZ DATA File01 and so on. Between those headers is an undefined amount of text. I want to split up every header + following text in a single file. Therefore I am looking for the XYZ DATA, because this is always repeating in the original file. Every new file should have a filename matching the string in the second row after XYZ DATA.I was able to identify the rows with XYZ DATA, but then I only know how to write this line into a new file, but I want to write everything starting from XYZ DATA to the next XYZ DATA into a new file.For me this is a difficult thing to do. I don't want to have here the complete code for this, I want to have some hints. Does anyone have an idea what I have to do. Maybe a tutorial where I can look it up?
You should have a state variable. The variable can have one of three states (can be integer values that represent the state)starting - the state your program has initiallynew file - you have just read a XYZ DATA lineprocessing - you have read any line that is not an XYZ DATAWhile you loop through the file you set the state variable to a state. Initially it is "starting". When you read an XYZ DATA line, set the state to "new file" (the state could be an integer and some value like 2 represents "new file". When you set the state to "new file", save that line and if the state was not currently "starting" then close the output file. When you read a line and the state is "new file" set the state to "processing" and use the string split command to get the first field on that line. Use that filename to open the file and write the saved XYZ line and the current line. After the loop close your open files.


Answer URL
https://docs.python.org/3/howto/unicode.html
