Natural Text
I am reading data from a microcontroller via serial, at a baudrate of 921600.  I'm reading a large amount of ASCII csv data, and since it comes in so fast, the buffer get's filled and all the rest of the data gets lost before I can read it.  I know I could manually edit the pyserial source code for serialwin32 to increase the buffer size, but I was wondering if there is another way around it?I can only estimate the amount of data I will receive, but it is somewhere around 200kB of data.
There's a "Receive Buffer" slider that's accessible from the com port's Properties Page in Device Manager. It is found by following the Advanced button on the "Port Settings" tab. More info:http://support.microsoft.com/kb/131016 under heading Receive Bufferhttp://tldp.org/HOWTO/Serial-HOWTO-4.html under heading InterruptsTry knocking it down a notch or two.
Have you considered reading from the serial interface in a separate thread that is running prior to sending the command to uC to send the data?This would remove some of the delay after the write command and starting the read.  There are other SO users who have had success with this method, granted they weren't having buffer overruns.  If this isn't clear let me know and I can throw something together to show this.EDITThinking about it a bit more, if you're trying to read from the buffer and write it out to the file system even the standalone thread might not save you.   To minimize the processing time you might consider reading say 100 bytes at a time serial.Read(size=100) and pushing that data into a Queue to process it all after the transfer has completedPseudo Code Example
You do not need to manually change pyserial code.If you run your code on Windows platform, you simply need to add a line in your codeWhere 12800 is an arbitrary number I chose. You can make receiving(rx) and transmitting(tx) buffer as big as 2147483647aSee also:https://docs.python.org/3/library/ctypes.htmlhttps://msdn.microsoft.com/en-us/library/system.io.ports.serialport.readbuffersize(v=vs.110).aspxYou might be able to setup the serial port from the DLL            // Setup serialProperty ValueType: System.Int32The buffer size, in bytes. The default value is 4096; the maximum value is that of a positive int, or 2147483647And then open and use it in Python


Answer URL
https://docs.python.org/3/library/ctypes.html
