Natural Text
In this function I am trying to read a Fernet key from a file, or create one if the file doesn't contain a key.I am having difficulty reading the file. When the file is read the key is read in as:Yet I receive this error:In this line:Any help would be appreciated.
The problem here is how the key is being written to the file.Fernet.generate_key() returns a bytes instance:The key is being written to the file as is:If we look in the file, we can see the contents aren't what we expect - the b that indicates a python bytestring has been written to the file:csv.writer calls str on any values that aren't already strings.  If str is called on a bytes instance you get the stringified repr of the bytes instances rather than the decoded value of the bytes instance, which is what you want.So the solution is to call the bytes instance's decode method before csv.writer receives it.This gives us the file contents that we want:And the rest of the code works as expected:One debugging tip.  When using print() to debug your code, it's sometimes better to print an object's repr, rather than the result of calling str on the object (which is what print() does).  This is especially the case if the object is a string.  For example:


Answer URL
https://docs.python.org/3/library/csv.html#csv.writer
https://docs.python.org/3/library/functions.html#repr
