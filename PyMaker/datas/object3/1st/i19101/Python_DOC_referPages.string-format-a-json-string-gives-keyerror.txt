Natural Text
Why does this code give a KeyError?Error message:
You need to double the outer braces; otherwise Python thinks { "File".. is a reference too:Result:If, indicentally, you are producing JSON output, you'd be better off using the json module:Note the lowercase true in the output, as required by the JSON standard.
To extend on Martijn Pieters  answer and comment:According to MArtijn' comment, escaping the {..} pairs that are not placeholders is they way to go with nested dictionaries. I haven't succeded in doing that, so I suggest the following method.For nested dictionaries I tried doubling up on any { and } of the nested dictionaries.a='{{"names":{{"a":"{name}"}}}}' a.format(name=123) output:output: '{"names":{"a":"123"}}'But this makes using format to change values inside a json string, a over-complex method, so I use a twist on the format command.I replace ${param_name} in a json string. For example:My predefined JSON looks like this:I provide this dictionary as values to replace instead of the parametersAnd use this code to do the replacment


Answer URL
https://docs.python.org/3/library/string.html#template-strings
