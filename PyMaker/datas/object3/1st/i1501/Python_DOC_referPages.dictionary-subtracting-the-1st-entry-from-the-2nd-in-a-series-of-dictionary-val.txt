Natural Text
I have a dictionary like this, with thousands more keys than shown, and hundreds of values for each letter a, b, c: I want to subtract the 1st value from the 2nd value for every entry, and sum across all a, all b, and all c. For example, for the cat entry of a, the operation is (5-3) + (7-2). The preferred output is (.csv): I can get a particular animal and letter difference usingI'm not sure how to get this for every entry in a smart way that doesn't require a lot of manual entry, and then output it into the above form.
It can be written quite sunccintly with pandas if you can use that library.Usually putting lists into dataframes is not such a good idea, but we only do some mild processing and then save the result to a csv file.This results in the file
You can define a separate method to get the sum of all differences between the 2nd and 1st elements of all lists in a list and then generate your result with a "dictionary comprehension":OutputTo write this to a CSV file, you can use the csv module:Output
If you find yourself having to do a certain calculation over and over, then that's when it's probably best to write a function.  Here's a function that takes a dictionary like dictex, an animal name, and a letter, and returns the individual calculation for you:Here's a function that goes through the entire dictionary, calculates the values for each animal and letter, then finally returns the result in a list of lists that looks like this:  [ ['cat',7,9,10], ['dog',8,10,9], ... ] etc. The reason why I used the format above, is because it makes it much easier to write the result to a csv file.  Just take each list you got from the previous function, join everything together with commas in between, and write it as a row to the file:Keep in mind that dictionaries in Python are NOT ordered.  So your resulting file is not necessarily going to have your animal rows in the same order as they appear in your original dictionary.


Answer URL
https://docs.python.org/3/library/csv.html#csv.writer
