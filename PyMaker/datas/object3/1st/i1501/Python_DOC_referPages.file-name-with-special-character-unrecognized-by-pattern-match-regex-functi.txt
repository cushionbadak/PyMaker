Natural Text
I'm working with Python 3.6.5 on a Winows 10.I can not verify if a file exists in a directory or not.The problem seems to come from the special character "^".When I run the code below, the "WITHOUT_CIRCUMFLEX" and "^WITH_CIRCUMFLEX" files are well listed by the os.listdir () function.However, the file "^ WITH_CIRCUMFLEX" is not recognized by the function pattern.match (file) ... while it exists!Would anyone have an idea to solve this problem?Thanks for your helpimport pandas as pdimport os.pathimport regexpath = "C:\Users\David\test"list_name = ['WITHOUT_CIRCUMFLEX', '^WITH_CIRCUMFLEX']df_empty = pd.DataFrame()for name in list_name:    df_empty.to_pickle('{path}\{name}.pkl'.format(**locals()))    pattern = regex.compile('{name}.pkl'.format(**locals()))# Check if file already existcheck = Falsefor file in os.listdir(path):    print("I found this file\t" + file)    if pattern.match(file):        check = Trueif check is True:    print("\t" + name + " file exist" + "\n")else:    print("\t" + name + " does not exist")
^ is a regex meta character, so it'll not match a literal ^ character in text. You'd need to escape such characters:If your inputs are generated or taken from another source, use the regex.escape() function to escape meta characters for you:However, if you are looking to match files, you currently are not using any of the reasons you'd use a regular expression. Your pattern will at best match any filename that ends with {name}.pkl. You'd be much better off using the glob module:
^ is a regex metacharacter, so you have to escape it. The easiest way to do this is to use the regex.escape function, which automatically escapes metacharacters in an arbitrary string.So instead of use 


Answer URL
https://docs.python.org/3/library/glob.html
https://docs.python.org/3/library/re.html#re.escape
