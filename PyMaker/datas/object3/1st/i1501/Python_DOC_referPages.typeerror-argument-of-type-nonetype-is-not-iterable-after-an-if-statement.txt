Natural Text
I am trying to get the 2-letter state code for a city from user input, but getting the "TypeError: argument of type 'NoneType' is not iterable" error message.. Not sure how to fix it to get the right results? This is the line that's giving the error message: Below is the full code:
I can only guess but looks like it's because of this particular code block -Your json.loads(str(data)) raises an Exception due to some error, since it is being caught by except, you assign And in the next line you do an in comparison on js but js is None or NoneType, you can not iterate over NoneType, therefore -And here's more about the in operator of Python
In the code:You're telling Python that if an exception is thrown in json.loads you want to set js to None. Then in the following if-statement, you reference js directly. The problem here is that an exception was indeed thrown but your code following this check does not take that into account. To fix your problem, you should change your if-statement to be:assuming you want the statements inside the if-statement to execute on error.As an aside, please don't inline try or except or if statements. It makes your code very difficult to follow.
It's pretty obvious: if there's any exception with loading the JSON information, you set js to None, but immediately try to use it as a sequence.  Adding the print statement makes this clear:Output:Instead, issue and error message and loop back for another try:Output:


Answer URL
https://docs.python.org/3/reference/expressions.html#membership-test-operations
