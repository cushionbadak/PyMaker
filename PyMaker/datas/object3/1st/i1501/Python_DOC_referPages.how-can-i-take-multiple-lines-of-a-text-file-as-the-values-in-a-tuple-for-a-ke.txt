Natural Text
I'm trying to read a text file and then create a dictionary using the data in that file. An example of the text would be:I need to take the first line as the key for my dictionary, and the second, third, and fourth lines as the value for that key. So far, my code looks like this: But this returns something weird:Clearly, the function is taking the first value of each line as a key, which is not what I want. I need the output to look like this:Can anyone help me figure out how to accomplish this, or specifically how to take multiple lines from the text file to use as a value in my dictionary?
This should be a shorter and hopefully more intuitive way to do it:When you open the file here, we are using the with context manager and splitting the file by blocks separated by empty newlines using Python's standard module library's itertools.groupby. Then for every block, use the first item as a key in the dictionary and put every subsequent item in a tuple. It also returns integer pairs as a list and returns an empty list if it does not meet the expected number of lines as per your example.Another interesting scenario to consider is when you have missing lines between your keys and values, where the solution above will not provide the proper output, for example:For this scenario, we expect the data to be chunks of 5, including the newline. Then we can utilize a grouper function from the Python recipe here, to grab 5 rows at a time from the file. We can also use a helper function to explicitly return your data from your integer pairs accordingly.This will work for files with missing lines where the row number indicates the data chunk or structure.
option 1Looking at your example it seems, that there have to be two lists after the name. If the 2nd one is empty, you want to have an empty list there. So you forced already this structure of "5 lines define a dictionary entry" on your data.. You might as well use it when reading it:Which results in exactly what you want.The "if not n%d==0:" part adds empty lines until there is a total which is a multiple of 5. This way the "belle" entry is added even tough there are only 24 lines in your data file. option 2If you do not really need that empty list there, you might work from here:output:I know this is not quite your output. But as I said: you can work from here if these empty lists are not important.
A solution similar to Maik Kahnt's, it also includes the empty list for Elsa and also depends on having 5 lines for each record.Output was:
We can define helper functions to do the string and data manipulation, and just populate the dictionary with in a simple loop. The following does just that. Note, you can change newline appropriately for your platformNow the actual data processing code:
It is your fellow student at UTM, taking the exact same course and currently working on this very assignment. Let me tell you a couple things: Professors and TAs do have a StackOverflow account(s) and they will catch you! Posting assignment questions and asking for answers is an academic offence and you will definitely get called into your instructor's office to explain why they found an assignment question on StackOverflow! If it is available on the internet, either the TAs or the Instructors will surely find it and catch you. Well just so you know: Doing this will in no shape or form help you understand the concepts for the final exam which is soon!To sum up, you can anything in this world, but note that some things you decide to do aren't the right or the most honest thing you can do.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools-recipes
