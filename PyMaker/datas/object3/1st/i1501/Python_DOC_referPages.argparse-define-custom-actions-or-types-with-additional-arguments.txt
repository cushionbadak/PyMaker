Natural Text
I'm developing a toolbox containing several python scripts. For several of them some arguments may be numeric values. Depending of the script some may require a value v to be between -1 and 1, or 0 and 1 or 1 and 10 or ... An example could be a page width from an output diagram which should be always positive.I can check all the time if v is in the required range. I could also for each of these range define an Action or a type using argparse. An example is given using a new type:And add it later to the parser:Now, if the value is a correlation coefficient (or anything in a range) would it be possible using action or types to write something more general using:That could later be added like:I have tried in several ways but whithout success.Thank you
Per the documentation:type= can take any callable that takes a single string argument and  returns the converted valueTherefore, to use it like type=ranged_num(-1,1), your ranged_num function must return a function itself. A function that returns a function (or accepts a function as an argument, or both) is often referred to as a "higher-order function".Here's a minimal example:Now ranged_num creates and returns a function, type_func, that is responsible for handling the string coming from the command line.


Answer URL
https://docs.python.org/3/library/argparse.html#type
