Natural Text
Using argparse, is there any way to update the "choices" option of an argument  after it was added to the parser ? Argparse documentation doesn't yield much about updating the choicesI tried using 'parser.add_argument' with the new 'choices_list', but it creates duplicate arguments. Using Python 3.7
The argument itself has a choices attribute, but it's easiest if you save a reference to the argument instead of trying to retrieve it from the parser itself. (Otherwise, you have to scan through the private attribute parser._actions and try to identify which one you need.)
Looking at https://github.com/python/typeshed/blob/master/stdlib/2and3/argparse.pyiI don't use pycharm, but I'm puzzled as to why it would complain about add_argument, but not about add_argument_group.The argparse docs doesn't mention the returned Action object, but that's because users don't usually need to access it.  But when tested interactively it's pretty obvious:Previous SO answers have pointed out that the Actions are also available in 'hidden' _actions list.  But in Python, that '_' is just an informal convention; the interpreter doesn't enforce privacy.What's displayed is the string representation of the Action object.  Those are the most commonly used attributes. The documentation for argparse is not a formal API reference; it's too incomplete for that.  It's more of a advanced how-to document, more involved than a tutorial, but not as complete as a formal specification.


Answer URL
https://docs.python.org/3/library/argparse.html#choices
