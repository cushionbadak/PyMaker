Natural Text
For lack of a better title, this is what I got so far.As expected, this code throws an error:For whatever reason, I tried the following:This code will output:Now, I am sure there's a simple explanation to this and there's no need for panic or start to believe in ghosts..But I've played around with it but can't make sense of it. What's the explanation of this behavior - does it have a name? How come a newly created instance can have a value that is about to be set 2 rows under?Expected value: Always crashing - Because I purposely placed a print with a not-defined key at the top.Python: 3.5.1 (Windows 8)
As you can see from the data model documentation, the first argument to __new__ is the class (conventionally cls), not the instance (conventionally self). Therefore you are setting class attributes on the cordinate class (note that that's a typo, and class names should be CamelCased) not each instance. As long as the first call to __new__ succeeds, those attributes are set on the class for all subsequent calls.If you want to set instance attributes in __new__, do it once you have the instance, e.g.:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__new__
