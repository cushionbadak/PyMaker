Natural Text
I have two scripts, scraper.py and db_control.py. In scraper.py I have something like this:And in db_control.py:Theoretically, scrapper should be started unknown-times until enough of data have been obtained. But when new is not imidiatelly > 15 then this error occurs:But scripts works just fine if I run scrap() only once. So I guess there is some problem with recreating loop = asyncio.get_event_loop(), I have tried this but nothing changed. How I can fix this? Of course those are just snippets of my code, if you think problem can be elsewhere, full code is available here.
Methods run_until_complete, run_forever, run_in_executor, create_task, call_at explicitly check the loop and throw exception if it's closed.Quote from docs - BaseEvenLoop.close:This is idempotent and irreversibleUnless you have some(good) reasons, you might simply omit the close line:If you want to have each time a brand new loop, you have t create it manually and set as default:


Answer URL
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.BaseEventLoop.run_until_complete
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.BaseEventLoop.run_forever
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.BaseEventLoop.run_in_executor
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.BaseEventLoop.create_task
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.BaseEventLoop.call_at
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.BaseEventLoop.close
