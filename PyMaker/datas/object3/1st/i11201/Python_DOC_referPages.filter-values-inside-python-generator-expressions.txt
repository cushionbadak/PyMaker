Natural Text
I have a dictionary dct for which I want each of its values to be summed provided their corresponding keys exist in a specified list lst.The code I am using so far is:In the above generator expression I would like to handle the KeyError in case a key from the list is not found inside the dictionary. I cannot seem to find how to implement (syntax-wise) either a try-except approach, nor an if-else approach inside this generator expression.In case a key from the list is not found inside the dictionary, then it should carry on getting the other values. The end result of the sums should not be affected by any missing keys. In case none of the keys exist, then zero should be the sum's result.
Well, there are few options, preferred one is to use dict.get():Also one of the option is to filter lst before iteraring over it:And you can use reduce function on filtered list as an alternative to sum:Now let's find fastest approach with timeit:So the fastest option is to sum items via if statement within generator expressionGood Luck !
You have two options:Checking if the key existsor using getwhere dct.get(k, 0) returns dct[k] if k is a key in dct or 0 if not.
You can simply use .get() to attempt to get the value for the key from the dictionary, and should it not be found will return None, or your provided default parameter which would be 0 in this case. Should some (or all) of the keys not exist, the sum will still function properly. 

You can use the get-method of dictionaries, to provide a default value if not found:


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.get
https://docs.python.org/3/library/stdtypes.html#dict.get
