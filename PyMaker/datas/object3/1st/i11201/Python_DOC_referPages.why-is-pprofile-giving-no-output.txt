Natural Text
I'm new to python and I'd like to use pprofile, but I don't get it running. For examplegives me the errorI've tried to run pprofiler as a module, like described here: https://github.com/vpelletier/pprofile , using the following script:Running this script gives no output. Changing the script in the following waygives the OutputHow du I get the line-by-line table-output, shown on https://github.com/vpelletier/pprofile?I'm using Python 3.4.3, Version 2.7.3 is giving the same output (only Total duration) on my System.Do I have to install anything?Thanks a lot!
pprofile author here.To use pprofile as a command, you would have to install it. The only packaging I have worked on so far is via pypi. Unless you are using a dependency-gathering tool (like buildout), the easiest is probably to setup a virtualenv and install pprofile inside it:Besides this, there is nothing else to install: pprofile only depends on python interpreter features (more on this just below).Then you can run it like:Another way to run pprofile would be to fetch the source and run it as a python script rather than as a standa alone command:Then, about the surprising output: I notice your shebang mentions "sc_python3" as interpreter. What implementation of python interpreter is this ? Would you have some non-standard modules loaded on interpreter start ?pprofile, in deterministic mode, depends on the interpreter triggering special events each time a line changes, each time a function is called or each time it returns, and, just for completeness, it also monitors when threads are created as the tracing function is a thread local. It looks like that interpreter does not trigger these events. A possible explanation would be that something else is competing with pprofile for these events: only one function can be registered at a time. For example code coverage tools and debuggers may use this function (or another closely related one in standard sys module, setprofile). Just for completeness, setprofile was insufficient for pprofile as it only triggers events on function call/return.You may want to try the statistic profiling mode of pprofile at the expense of accuracy (but for an extreme reduction in profiler overhead), although there pprofile has to rely on another interpreter feature: the ability to list the call stack of all running threads, sadly expected to be less portable than other features of the standard the sys module.All these work fine in CPython 2.x, CPython 3.x, pypy and (it has been contributed but I haven't tested it myself) IronPython.


Answer URL
https://docs.python.org/3/
