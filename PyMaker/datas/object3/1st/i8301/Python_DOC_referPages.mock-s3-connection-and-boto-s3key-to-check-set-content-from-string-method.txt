Natural Text
I am doing unit test with python mock. I've gone through blogs and python docs related to mocking but confuse about mocking the test case.Here is the snippet for which I want to write test case.The agenda is to test the method "set_contents_from_string()" using mock.
As you are testing some private methods I have added them to a module which I called s3.py that contains your code:Next, in another module test_s3.py, I tested your code taking into account that for Unit Tests all interactions with third parties, such as network calls to s3 should be patched:As you can see from the tests I am not testing that set_contents_from_string is doing what is supposed to do (since that should already be tested by the boto library) but that is being called with the proper arguments. If you still doubt that the boto library is not properly testing such call you can always check it yourself in boto Github or boto3 GithubSomething else you could test is that your are handling the different exceptions and edge cases in your code properly.Finally, you can find more about patching and mocking in the docs. Usually the section about where to patch is really useful.Some other resources are this blog post with python mock gotchas or this blog post I wrote myself (shameless self plug) after answering related pytest, patching and mocking questions in Stackoverflow.
came up with solution that worked for me, Posting it here, may be helpful for someone.


Answer URL
https://docs.python.org/3/library/unittest.mock.html
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
