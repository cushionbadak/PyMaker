Natural Text
Hello I am having a problem which I guess is really simple. I have the following class:and I get the error: TypeError: unsupported operand type(s) for *: 'PositiveIntegerField' and 'int' How can I solve this problem?
First: calculation_of_components is a static method of class.In your code no_modules is a result of function calculation_of_components. Probably You need a function:
The problem is you're calling calculation_of_components at the creation time of the model class, when the fields have yet to take any value.You can solve this by making no_modules a property so calculation_of_components does not get called at the creation of the model class, when the fields have no value:You can then access no_modules like a regular model field:Pro-Tip: you can use integer division // in your calculation and avoid calling int: a * 1000 // b 
This error means the type of objects you're trying to multiply (*) are different objects, you cannot multiply PositiveIntegerField with int. You mixed PositiveIntegerField object with int object. You can make PositiveIntegerField appears in multiplication expressions by defining __mul__ operator overloading method in your class so when an instance of PositiveIntegerField appears with multiplication expression Python automatically overloads __mul__ method. In python 2.X __coerce__ gets called when different types of objects appear in such expressions in order to coerce them to a common type. Though, the use of __coerce__ isn't recommended. Some classes that may be used in mathematical operations use __int__ to return an integer representing their values when needed: 


Answer URL
https://docs.python.org/3/library/functions.html#property
