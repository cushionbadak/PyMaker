Natural Text
I am trying to utilize a PriorityQueue from the queue class. However, i'm having issues putting custom objects into my PQ. I have implemented the __cmp__ function below:I want the PriorityQueue to be sorted by the priority field, as assigned in my init function:However, when I run the code to insert a State object into the PQ, I get this error: TypeError: '<' not supported between instances of 'State' and 'State'Here is the code that runs the PQ.Where OPEN is the priorityQueue.Any help would be greatly appreciated... as it should be pretty straightforward to insert a value into a PQ. 
In Python 3 you need to define __lt__ and __eq__ instead of __cmp__.See https://docs.python.org/3.1/library/stdtypes.html#comparisons.
Instead of __cmp__ you need to implement one of the __lt__, __le__, __gt__, or __ge__ methods and use the  functools.total_ordering decoratorfunctools.total_ordering(cls) Given a class defining one or more rich  comparison ordering methods, this class decorator supplies the rest.  This simplifies the effort involved in specifying all of the possible  rich comparison operations:The class must define one of __lt__(), __le__(), __gt__(), or  __ge__(). In addition, the class should supply an __eq__() method.However, a better solution to that would be putting a tuples (priority, state_object) into the queue, as they suggest in docs for PriorityQueueThe lowest valued entries are retrieved first (the lowest valued entry  is the one returned by sorted(list(entries))[0]). A typical pattern  for entries is a tuple in the form: (priority_number, data).The pitfall of the first approach is that you can modify priority of items that are already in queue and possibly observe unexpected behavior. In the second approach this is not an issue, since tuples are immutable.


Answer URL
https://docs.python.org/3/library/functools.html#functools.total_ordering
https://docs.python.org/3/library/queue.html#queue.PriorityQueue
