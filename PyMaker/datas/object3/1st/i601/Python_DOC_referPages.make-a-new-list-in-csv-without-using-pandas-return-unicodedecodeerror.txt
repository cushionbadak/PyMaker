Natural Text
I am trying to make a new list in my existing csv file (not using pandas).Here is my code: The CSV file was downloaded from the Rolling Stone's Top 500 albums data set on data.world.My logic is to create an empty list named album and have all the records in this list. But it seems the line of for row in reader has some issue.the error message I got is: Can anyone let me know what I did wrong? 
You need to open the file in the correct codec; UTF-8 is not the correct one. The dataset doesn't specify it, but I have determined that the most likely codec is mac_roman:The original Kaggle dataset doesn't bother to document it, and the various kernels that use the set all just clobber the encoding. It's clearly a 8-bit Latin-variant (the majority of the data is ASCII with a few individual 8-bit codepoints).So I analysed the data, and found there are just two such codepoints in 9 rows:The 0x89 byte appears in just one line:That's clearly Elton John's 1972 Honky Château album, so the 0x89 byte must represent the U+00E2 LATIN SMALL LETTER A WITH CIRCUMFLEX codepoint.The 0xCA bytes all appear to represent an alternative space character, they all appear righ after commas in the genre and subgenre columns (with one album exception):These 0xCA bytes are almost certainly representing the U+00A0 NO-BREAK SPACE codepoint.With these two mappings, you can try to determine what 8-bit codecs would make the same mapping. Rather than manually try out all Python's codecs I used Tripleee's 8-bit codec mapping to see what codecs use these mappings. There are only two:0x89â‎ (U+00E2):  mac_arabic, mac_croatian, mac_farsi, mac_greek, mac_iceland, mac_roman, mac_romanian, mac_turkish0xca‎ (U+00A0):     mac_centeuro, mac_croatian, mac_cyrillic, mac_greek, mac_iceland, mac_latin2, mac_roman, mac_romanian, mac_turkishThere are 6 encodings that are listed in both sets:Of these, Mac OS Roman mac_roman codec is probably the most likely to have been used as Microsoft Excel for Mac used Mac Roman to create CSV files for a long time. However, it doesn't really matter, any of those 6 would work here.You may want to replace those U+00A0 non-breaking spaces if you want to split out the genre and subgenre columns (really the genre and style columns if these were taken from Discogs).


Answer URL
https://docs.python.org/3/library/codecs.html
