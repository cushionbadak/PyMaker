Natural Text
I know how to do this with a single object in a pickle file or with a single object missing, but I don't know how to do something like this if more than 1 object is missing from the pickle file.What I got now:What I'd like to achieve:Problem with this is that it looks quite messy and doesn't work correctly if 'user1' doesn't exist while 'user2' does (because it immediately goes to exception). Is there a better, more pythonic way of doing something like this? AFAIK python documentation tells us that try statement is the way to go when it comes to stuff like this but as you can see above I don't know how to implement this idea properly (unless I'd use a separate try statement for every object in the file, which would lead to tons of code).
Pickle files are written sequentially. Since the length of an object's pickle can vary, it is generally not possible to replace one pickle by another in-place inside an existing file, any more than you could replace a short line inside a text file with a longer one.Your existing code reads the same pickle into user1, user2 and user3, so I am unsure how you would get different values from the exact same expression.Consider instead using the shelve module, which acts like an on-disk dictionary in many ways, and which allows you to very easily test for the presence or absence of specific keys.Here's some code that should give you a hint as to how to proceed:


Answer URL
https://docs.python.org/3/library/shelve.html
