Natural Text
I'm getting the following unicode encoding error .When I'm running the program presented below, I'm getting a unicode encoding-related errorThe error is given belowI'm trying to download a portion of a website using xhtml2pdf. To do that I used bs4 and scrape the site and store it. Then save it into pdf by using xhtml2pdf.Most of the time it worked like charm. But for this instance it is giving me error. Link to the full code in github is given below Link to full code is available herexhtml2pdf is encoding with ascii, Since my html file contain non ascii characters it is showing error. And I don't know how to change the encoder in xhtml2pdf. Omitting non-ascii character is not not an option. If I ignore it then link to the image will be corrupted and image will not show in pdf.complete traceback 
The problem is that the retrieved html contains img tags some of whose src attributes are urls which contain the '\u2019' ('RIGHT SINGLE QUOTATION MARK') character. xhtml2pdf is passing these urls to python's http.client module without escaping them first. http.client tries to encode the urls as ASCII before retrieving them, and the error happens.This can be worked around by escaping the urls in the retrieved html before generating the pdf. urllib.parse provides the tools to do this.The answers to this question provide some background information on unicode and urls.


Answer URL
https://docs.python.org/3/library/http.client.html
https://docs.python.org/3/library/urllib.parse.html
