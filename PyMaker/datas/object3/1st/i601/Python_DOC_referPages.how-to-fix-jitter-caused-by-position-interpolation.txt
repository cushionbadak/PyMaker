Natural Text
I want to interpolate the position of an object over a duration of time, I'm using pygame. When the game wants to move the object to a position it calls interpolate_position with the position it wants and how long it wants for the interpolation to take. updateis called in a basic game loop.This code is part of GameObject class:Update is called like this:My code works fine sometimes but other times when the object is supposed to be still it goes back and forth in some direction by one pixel. My main guess would be some sort of rounding error. What can I do to fix this? Thanks in advance.
If you want to clamp val to the range [0, 1], then I would prefer to use min() and max():self.start_lerp is continuously incremented till it "reaches" self.total_lerp_time.So the condition self.start_lerp - self.total_lerp_time <= 2 * dt is the wrong way around.It has to be:Or even better using the built-in function abs(), which would even work for negative values:
The error occurred because the destination and the current position were the same. I added a check to prevent that and everything now works.


Answer URL
https://docs.python.org/3/library/functions.html#min
https://docs.python.org/3/library/functions.html#max
https://docs.python.org/3/library/functions.html#abs
https://docs.python.org/3/reference/expressions.html
