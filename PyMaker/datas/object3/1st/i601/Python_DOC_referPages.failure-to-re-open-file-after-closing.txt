Natural Text
I have been working with some code that is meant to print a poem. The goal of the code is to make borders that will fit the poem's size. But that does not pertain to my issue. I have been trying to get the code to reprint a file, line for line, but ValueError: I/O operation on closed file. is all that is returned.I've attempted to get around this by reopening the file after it's closed, and reopening it after the def poemprint(poem): function has completed. But both methods have failed. I don't know where to go from here.Note: quit() is a defined function to stop the code entirely.This is what I should be seeing after asking for the Harlem poem for the second time:Instead, I'm getting:
Your steps are:You open a file in harlem variableYou call poemprint function with harlem argument. This harlem is referenced as poem inside of the function.You close the file that poem references to (it is harlem outside of the function)You create a new variable harlem that exists only inside of the functionAfter the function is done, you have harlem as a closed fileThis happens because harlem in the poemprint and the one outside are different objects.Short example:You can read more about this in mgilson's answer on a question that covers similar problem and in the Python documentation.How to fix:Instead of opening the files, keep their names.Then modify the function to get the filename as the argument and to open the file inside of the function.Now it should work.Here's the full code:


Answer URL
https://docs.python.org/3/tutorial/classes.html
