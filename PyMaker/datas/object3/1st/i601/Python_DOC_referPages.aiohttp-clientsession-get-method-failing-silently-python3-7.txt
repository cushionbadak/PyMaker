Natural Text
I'm making a small application that attempts to find company website URLs by searching for their names via Bing. It takes in a big list of company names, uses the Bing Search API to obtain the 1st URL, & saves those URLs back in the list. I'm having a problem with aiohttp's ClientSession.get() method, specifically, it fails silently & I can't figure out why. Here's how I'm initializing the script. Keep an eye out for worker.perform_mission():The worker.perform_mission() method does the following (scroll to the bottom and look at _split_up_request_like_they_do_in_the_docs()):And finally my output is:Can anyone help me figure out why print('Session.get() successfully called.'), isn't triggering?...or maybe help me ask this question better?
Take a look at this part:You create a bunch of tasks, but you don't await these tasks are finished. It means _execute itself will be done right after tasks are created, long before these tasks are finished. And since you run event loop until _execute done, it will stop shortly after start.To fix this, use asyncio.gather to wait multiple awaitables are finished:


Answer URL
https://docs.python.org/3/library/asyncio-task.html#asyncio.gather
