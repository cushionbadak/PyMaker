Natural Text
I tried to run the following script to know what's inside the namespace returned by command.parse_args().If I run a "complete" command (like ./test.py 1) everything is ok and the Namespace is displayed.But if I do something like ./test.py -h it fails and stops at args = command.parse_args(), print("Test2") isn't called.I got no error. But the rest of the script isn't interpreted.Why?Is there some kind of error this way?Is ./test.py -h invalid for some reason (Even if it seems to work fine)?Does args = command.parse_args() cause an exit before the script's end?
By default, help options are added to the argument parser. Then, when the help argument is passed, the help action is invoked which will print the help, and then end the program execution.If you donâ€™t want that to happen, you need to set the add_help argument to False but that will also stop the argument parser from providing a help functionality.The exit behavior is pretty obvious if you actually look at the help text that is printed:
Take a look at argparse.py source code.https://github.com/python/cpython/blob/master/Lib/argparse.py#L1007The argparse has the default help -h, which is an action to show the help and exit.The _HelpAction.__call__ handle this action.


Answer URL
https://docs.python.org/3/library/argparse.html#add-help
https://docs.python.org/3/library/argparse.html
https://docs.python.org/3/library/argparse.html#action
