Natural Text
I need to convert an XML ElementTree to a String after altering it. It's the toString part that isn't working.I've tried various versions of the below line, with ET or ElementTree as various names, and importing toString, etc. etc,I have seen Convert Python ElementTree to string and some others, but I'm not sure how to apply it to my example.
This should work:-
How do I convert ElementTree.Element to a String?For a solution that works in both Python 2 & 3, use .tostring() and .decode().Example usageOutput:ExplanationDespite what the name implies, ElementTree.tostring() doesn't return a string by default. The default behavior is to generate a bytestring. While this wasn't an issue in Python 2, the two types were made more distinct in Python 3.In Python 2 you could use the str type for both text and binary data.  Unfortunately this confluence of two different concepts could lead to  brittle code which sometimes worked for either kind of data, sometimes  not. [...]To make the distinction between text and binary data clearer and more pronounced, Python 3 [...] made text and binary data distinct types that cannot blindly be mixed together.Source: Porting Python 2 Code to Python 3We can resolve this ambiguity by using decode() to explicitly convert our bytestring into regular text. This ensures compatibility with both Python 2 and Python 3.For Python 2 & 3 compatibility: ElementTree.tostring(xml).decode()For Python 3 compatibility: ElementTree.tostring(xml, encoding='unicode', method='xml')For reference, I've included a comparison of .tostring() results between Python 2 and Python 3. Thanks to Martijn Peters for pointing out that the str datatype changed between Python 2 and 3.Why not use str()?In most scenarios, using str() would be the "cannonical" way to convert an object to a string. Unfortunately, using this with Element returns the object's location in memory as a hexstring, rather than a string representation of the object's data.


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.tostring
https://docs.python.org/3/library/stdtypes.html#bytes.decode
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.tostring
https://docs.python.org/3/howto/pyporting.html#text-versus-binary-data
https://docs.python.org/3/library/stdtypes.html#bytes.decode
https://docs.python.org/3/library/stdtypes.html#str
