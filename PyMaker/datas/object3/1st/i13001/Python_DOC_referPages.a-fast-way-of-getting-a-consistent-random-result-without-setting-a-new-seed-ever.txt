Natural Text
I'm learning the basics of Pygame and I'm slowly trying to get a mini RPG game built bit by bit. I've done a very basic implementation of getting tiles to display from coordinates and the camera location, however it's just block colours at the moment, so I wanted to vary the colour a bit.I tried something to the effect of this code below, which works, but it's very slow:I'm positive there should be a better way to do this, just could do with a pointer in the right direction.Also, I subtract the camera location from (x, y) to get where the blocks should be on screen. Would there be a faster way to do this? That by itself when very zoomed out is not particularly fast.
Fleshing out my comment from above - if you're looking for a consistent value for any given x, y pair, what you need is a hash function. From Wikipedia:A hash function is any function that can be used to map data of arbitrary size to data of fixed size.In your case, where you're essentially looking for an offset as a small integer value, something like this should do the trick:This probably won't give you a very uniform distribution of values, but itshould be sufficient for your needs. You could always tweak it a bit for aesthetics. Maybe add one to x and y before multiplying to avoid a glut of zeroes, that sort of thing.As a side note, you might be able to improve performance a bit with some caching:lru_cache is pretty new, I think it was introduced in Python 3.3 but there are backports available for Python 2 if needed.


Answer URL
https://docs.python.org/3/library/functools.html#functools.lru_cache
