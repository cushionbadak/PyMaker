Natural Text
The Train status API I use recently added two additional key value pairs (has_arrived, has_departed) in the JSON object, which caused my script to crash.Here's the dictionary:Not surprisingly, I got the following error:If I am not mistaken, I think this is because the boolean value in the JSON response is false/true whereas Python recognizes False/True.Is there any way around it?PS: I tried converting the JSON response of has_arrived to string and then converting it back to a boolean value, only to find out that I'll always get a True value if there's any character in the string.I am kinda stuck here.
Even though Python's object declaration syntax is very similar to JSON syntax, they're distinct and incompatible. As well as the True/true issue, there are other problems (eg Json and Python handle dates very differently, and python allows comments while Json does not).The solution is to convert from one to the other.Python's json library can be used to parse (read) the Json in a string and convert it into a python object...You can convert python objects to json too...Example:And a second example showing how the True/true conversion happens. Note also the changes to quotation, and how the comment is stripped...Output:
Instead of doing eval on the answer, use the json module.


Answer URL
https://docs.python.org/3/library/json.html
