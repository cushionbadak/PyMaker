Natural Text
I am having a really hard time figuring out how to pass a large byte array of data from C to an arbitrary Python3 function. For reference, here are some documentation links on the subject:https://docs.python.org/3.5/extending/embedding.htmlMost of the information in the docs seems to assume that I am passing data from Python to C. I need to do the opposite. I found the a reference to the API function PyBuffer_FromContiguous – but it is not documented anywhere (that I can find). The function prototype is here:Basically I have two questions:Is this the right way to construct a Py_buffer object? Is this even the right approach?Once the Py_buffer is constructed, how do I associate the Py_buffer with a PyObject that can be set to a input tuple/argument for a call to a python function?Here is a code sample for what I am attempting (updated to include the data_s typedef):… I would really appreciate any leads on these issues.
The problem was that I was not finding the right API call for what I needed. Here is the call (in case anyone cares) that solves this problem: Py_BuildValue and is documented here:https://docs.python.org/3/extending/extending.html#building-arbitrary-values


Answer URL
https://docs.python.org/3/extending/extending.html#building-arbitrary-values
https://docs.python.org/3/c-api/buffer.html#c.PyBuffer_FillInfo
