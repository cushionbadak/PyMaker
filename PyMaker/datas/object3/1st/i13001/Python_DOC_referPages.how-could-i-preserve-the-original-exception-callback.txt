Natural Text
Currently, if I execute sample.py I can get the exception information on the exported text file.However, once the exception happens the program won't show the exception and the screen,and it won't execute the following code. So I didn't see the string "you should check the result on export file" on the terminalHow could I get what i want . thanks~exception_hook.pysample.py
In Python 2.7, this is the documentation of sys.excepthook():This function prints out a given traceback and exception to sys.stderr.When an exception is raised and uncaught, the interpreter calls sys.excepthook with three arguments, the exception class, exception instance, and a traceback object. In an interactive session this happens just before control is returned to the prompt; in a Python program this happens just before the program exits. The handling of such top-level exceptions can be customized by assigning another three-argument function to sys.excepthook.(The documentation is substantially the same in 3.x.)It is not reasonably possible (without fiddling with bytecode and implementation details, or doing highly complex AST transforms on your code) to resume execution right where the exception happened.  It is possible to get the "standard" behavior of printing a traceback, by calling the original sys.excepthook() function:This will print a traceback as normal, in addition to whatever customization you've installed.  It will not allow you to resume where the exception originated, however.  If you want to handle exceptions on a case-by-case basis, you need to use try/except instead.
and it won't execute the following code. So I didn't see the string  "you should check the result on export file" on the terminalI think you are trying to do something too complex when you actually need a try-except block.


Answer URL
https://docs.python.org/3/library/sys.html#sys.excepthook
