Natural Text
I would like to match dotall and non-greedy. This is what I have:However, this is not being non-greedy. This data is not matching as I expected:and I cannot understand why.What I think I am stating in the above regex is:start with "img", then allow 0 or more any character including new line, then look for at least 1 "onmouseover", then allow 0 or more any character including new line, then an "a"Why doesn't this work as I expected?KEY POINT: dotall must be enabled
It is being non-greedy.It is your understanding of non-greedy that is not correct.A regex will always try to match.Let me show a simplified example of what non-greedy actually means(as suggested by a comment):This will match:as few repetitions of 'a' as possible (in this case 2)followed by a 'b'and as few repetitions of 'c' as possible (in this case 0)so the only match is 'aab'.And just to conclude:Don't use regex to parse HTML. There are libraries that were made for the job. re is not one of them.
First of all, your regex looks a little funky: you're saying match "img", then any number of characters, "onmouseover" at least once, but possibly repeated (e.g. "onmouseoveronmouseoveronmouseover"), followed by any number of characters, followed by "a".This should match from img src="icon_ all the way to onmouseover="Cha. That's probably not what you want, but it's what you asked for.Second, and this is significanly more important:DON'T USE REGULAR EXPESSIONS TO PARSE HTML.And in case you didn't understand it the first time, let me repeat it in italics:DON'T USE REGULAR EXPESSIONS TO PARSE HTML.Finally, let me link you to the canonical grimoire on the subject:  You can't parse [X]HTML with a regex


Answer URL
https://docs.python.org/3/library/re.html
