Natural Text
Hi I am trying to migrate some code to python 3 but am having the following problem.Python 2Python 3The reason is that I have Existing data created with the following codeI need to read the data which I can do using python2 but not python3
chr in Python3.x is similar to unichr in Python 2.x.If you want a byte string, use bytes:or bytearray:
That is an exact duplication. For certain definitions of "exact".The differences you see are:The chr() in Python 3 is actually the Python 2 unichr(). This is probably why the character now is printed correctly."Types" is an old thing from way back in Python before 2.2. The str class is called "type" in Python 2 for backwards compatibility reasons. It's now called "class" just like all other classes.There are also a difference you do not see:The Python 2 and Python 3 str class are not entirely compatible. The Python 3 one is actually more like Python 2's unicode class. But this is not a relevant difference in your example.
To add another view on why it may not work as expected. The number used as a parameter of chr in Python 3 is expected to be a Unicode code point. Now it depends on how the data.dat content was encoded during writing and how it is decoded when reading back. I have noticed, that you are reading the file in a text mode. Then, in Python 2, you may want to use the standard Python 2 module codecs to read the content correctly. Possibly, use codecs.open() instead of the plain open().


Answer URL
https://docs.python.org/3/library/functions.html#chr
https://docs.python.org/3/library/functions.html#bytes
https://docs.python.org/3/library/functions.html#bytearray
