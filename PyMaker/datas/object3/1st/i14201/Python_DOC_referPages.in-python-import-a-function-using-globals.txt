Natural Text
I have function "read_csv" which I use often in other Python scripts. Instead of copying it to the beginning of every Python script I use it in, I'd like to save it in a separate file and import it. The function is defined as follows:The function reads a csv file containing column headers and numbers beneath it, and writes the numbers as arrays into the 'workspace' with names derived from the column headers. I've saved the code above as "read_csv_nDI.py". In the same directory, I try the following script:where 'test.csv' is a CSV file which should work:However, if I run the above script and type the dir() command, I don't see the variables "RO_T", "ZEZ2A_T", etc. that I would expect to see. On the other hand, if I simply add a lineafter the function definition in the same Python script, it works and I do see those variables after running the script. Why does it only work if the function definition is in the same script?
globals gives you the global variables in the file where you call it, so it is always giving you the global variables of the file where your read_csv is defined.Cluttering your global namespace like that may not be the best idea.  It is probably better to just return your entire array.  Also, I recommend you look at the pandas package, which can easily read a CSV into a DataFrame object that works like a numpy array but is even more convenient for most purposes.


Answer URL
https://docs.python.org/3/library/csv.html
