Natural Text
My friend and I are making chess AIs in Python, but we're running into a mysterious problem with enums. We encode the piece types in an enum like so:Piece.py:We ask the AI for a piece (for promoting a pawn for instance) and call recognise_type:ai.py:bug.py:So far so good; running bug.py outputs the following:But here's the thing. The name of this package is 'Chess', but if in ai.py we change import Piece to from Chess import Piece (for instance if we want to put ai.py in a different package), then something goes wrong. Running bug.py now gives:What's happening here? Why does including the package name in the import statement break enum comparison?
As far as Python is concerned, you are importing a different module; you have Piece and you have Chess.Piece. Python will create separate module objects for these two modules, each with a separate enum class. The values on those classes are never going to test as equal.If all your modules are part of the Chess package then you should not treat the files in that package as top-level modules. That means you should not add that directory to your Python path (explicitly or implictly by using a script in that directory).


Answer URL
https://docs.python.org/3/library/enum.html#comparisons
