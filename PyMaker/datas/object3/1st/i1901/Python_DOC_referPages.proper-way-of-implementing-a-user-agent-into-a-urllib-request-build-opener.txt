Natural Text
I'm trying to set the user agent for my urllib request:and finally:What would be the best way to set the user-agent header to
With urllib we have two options, as far as I know.  build_opener returns a OpenerDirector object, which has an addheaders attribute. We can change the user-agent and other headers with that attribute.Alternatively, we can install the OpenerDirector object to the global opener with install_opener and use urlopen to submit the request. Now can use Request to set the headers.  Personally, I prefer the second method because it is more consistent. Once we install the opener all requests will have the same handlers, and we can continue using urllib the same way. However, if you don't want to use those handlers for all requests you should choose the first method and use addheaders to set headers for a specific OpenerDirector object.  With requests things are simpler.  We can use the session.heders attribute if we want to change the user-agent or other headers for all requests,  or use the headers parameter if we want to set headers for a specific request only.  


Answer URL
https://docs.python.org/3/library/urllib.request.html#urllib.request.OpenerDirector
https://docs.python.org/3/library/urllib.request.html#urllib.request.install_opener
