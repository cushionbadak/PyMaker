Natural Text
I am trying to replace two separate lines in a file using regular expressions. Each 'with open("release.spec", "w")' statement works if used on it's own, but if used together, It only updates the second one, and not the first. Why does it not substitute on both lines? What would an easier method be to write both statements, preferable in one open write statement? If I try something like the following, it duplicates each line.
Each time you open a file in a w based mode, the file is truncated (emptied, reduced to zero bytes) and you're rewriting it from scratch. So you perform the first replacement, writing the results to the file (but not keeping them in memory), close the file, then reopen it for write and throw away everything you just wrote.The solution is to perform each replacement one at a time in memory, then write once. Using your attempted code, but removing the double-write in favor of storing the first stage of substitution in memory, then reusing it for the next stage:


Answer URL
https://docs.python.org/3/library/functions.html#open
