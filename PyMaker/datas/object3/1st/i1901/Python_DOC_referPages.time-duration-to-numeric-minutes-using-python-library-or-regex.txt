Natural Text
I have a free form time duration strings containing hour and minute values one of then could be optionalI have to convert them to number of minutes. First searched for Python library which converts times and duration but the string format does not allow to use such approachThen I tried with regex to extract the number groups:which worked for most cases when hour and minute values are present or when only the minute value is present (since I made the first group optional) This regex fails when the hour is single digit (1 hour).Also because I am extracting only digits groups without the descriptive text (hour(s) and/or min(s) the calculation is wrong when there is only the hour value (with two digits) - like 10 hours and it wrongly is extracted as the 2nd group as minutes.
You can use re.findall with the following regex:This outputs:
You can try using dateutil and RegexDemo:Output:
I wrote this simple snippet that parses all your cases. Ask if you had any problem.Output:Code:
Other answers is fine, another way to do this with regex (if you really want to):This way it may make more sense you you (this is the main problem with a lot of regex engineering. I'd suggest to try out any regex you choose at some resource like https://regex101.com/ to have some testing and description.


Answer URL
https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior
