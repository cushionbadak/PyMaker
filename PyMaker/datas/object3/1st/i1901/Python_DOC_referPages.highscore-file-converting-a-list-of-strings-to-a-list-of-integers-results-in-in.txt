Natural Text
So I have been creating a dice game, where to end with there is a name and score which must be stored in a text document. But then the top 5 highscores and names are printed.Here is my current code:So I have stored the score and name, splitting all values with a comma. I have successfully read it from the txt file and extracted the numbers from the original list, into a new one - to then order - however when trying to oder, it orders the numbers as strings, so I edited my code so it ordered as integers. But this is when the problems came, the list was a list of strings to it could not be ordered as ints. So i usedHowever this isnt working either, and is giving me the same error code as without it.this is the error (I have searched how to correct it but nothing i have tried has worked)Was wondering if anyone knew  how to resolve the issue.
You might want to switch to better style of writing files using with open(...):. Your error stems from a non-empty piece of line after the last , that you could .strip().Maybe read about the csv-module and create a csv-style highscore - file:https://docs.python.org/3/library/csv.html#csv.writerhttps://docs.python.org/3/library/csv.html#csv.readerFilecontent after writing:Content of scores_from_file after reading (its sorted due to sorted write):
You could create a new list with integers, skipping empty strings:This could work instead of the forloop that you use.Note: the new numdata list will be shorter because it skips empty strings.
The simplest fix to this could be to not have a ' after the last score name pair:The error you are getting occurs when you try to convert a num-numerical string into a int. Something like '.
The code now works, as the final , of the txt line was causing it to be identified as a blank str- interfering with the integers extracted. Although this may cause a new issue if the text document is rest- it works for now. Thanks all
Just replace data[::2] with data[:-1:2]This is because content.split(",") is creating an empty string in the last element of data list
I think that this issue is possibly caused by this row:According to that line, you are iterating over the list, picking only the odd indices from it.Lets take the following example:According to your logic, you are picking first and third elements from the list. As you see, the third value is empty string, hence it cannot be cast to int.You can use:as it will return the first two values in the newly created list, or alternatively you can change the following lines:with:This comprehension will return a list with all the strings that are not empty.After that you can make pairs from each name/score like this:And sort it as follows:Below you can find an example to see how it works:Note that the code above sorts the pairs by the score value, even if the scores are strings.Also if it's important for you to have the scores as integers you add the following line after the sorting:Hope that this helps!
You are seperating score and value with ',' and also seperating different entries with comma.Then your input will store into text file like this.  34,one,56,two,44,three,55,four,67,five,65,six,At the end ',' will also store after each entry.When you used split function it will create an empty string as last element which can't be converted into string.So in the code change


Answer URL
https://docs.python.org/3/library/csv.html#csv.writer
https://docs.python.org/3/library/csv.html#csv.reader
