Natural Text
Well I hope this is a problem you didn't see before.I paste the code here:I didn't change anything so everyone can reproduce the problem. Now you see encoded_login has been successfully a string. But if you really run it, you should get 'Basic ' + encoded_login as a byte error. Here is the error I get:How interesting and what a magic!. The string concat + has been converted to byte concate. Do you repo this and can you share your ideas of what is the reason? Thanks 
The binascii.b2a_base64 function appends a newline to its output: the docs state:Convert binary data to a line of ASCII characters in base64 coding.  The return value is the converted line, including a newline char. The  newline is added because the original use case for this function was  to feed it a series of 57 byte input lines to get output lines that  conform to the MIME-base64 standard.A newline is not permitted in header values, that's why you get the error message.  The exception reports the header value as bytes because the python http client code converts the request to bytes for transmission across the network.Use the base64 module functions - for example base64.b64encode - to avoid the newline being added.


Answer URL
https://docs.python.org/3/library/binascii.html
https://docs.python.org/3/library/base64.html
