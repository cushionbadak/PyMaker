Natural Text
I have a bit of code that receives a WiFi password from a Raspberry Pi. The Pi dishes out a new code every 2 minutes. The script below checks the password and updates the connection with the new password if needed.Here is the output, with the error message I am seeing after I disconnect:
You should receive a socket disconnection exception, or empty data (as you tested in the if) in case of a disconnection.If you do not receive the exception (which is kinda awkward) you may use the select (low-level) or the selectors (high-level) modules in order to see if you receive data on the line.You may set a 2 minute timeout which afterwards the select() function will throw an exception.UPDATE:In order to catch the timeout exception, wrap your code like this:UPDATE 2:Seems like you're trying to catch socket.socket.timeout while you need to catch socket.timeout. I believe you used this line on top: from socket import *. If so, try catching timeout and not socket.timeout. That's the reason from ... import * is not recommended.


Answer URL
https://docs.python.org/3/library/select.html
https://docs.python.org/3/library/selectors.html
