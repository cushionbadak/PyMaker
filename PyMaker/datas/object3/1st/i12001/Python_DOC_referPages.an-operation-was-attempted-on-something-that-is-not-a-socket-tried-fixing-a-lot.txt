Natural Text
Before you say this is a duplicate, I have looked at many articles on this and still can't fix it.I am making a very basic chat client and server python program.However after connecting through my client, it says 'Connected' on the server console, but disconnects immediately on the chat one with the error 'OSError: [WinError 10038] An operation was attempted on something that is not asocket'CHATSERVER
From select's documentation:File objects on Windows are not acceptable, but sockets are. On  Windows, the underlying select() function is provided by the WinSock  library, and does not handle file descriptors that donâ€™t originate  from WinSock.This rules out using sys.stdin.Alternatives:Use Cygwin (No modifications to code needed)Create a thread that waits on sys.stdin (like here)Go the full Windows route and use WaitForMultipleObjectsUse some library that abstracts these details away, I like libuv but haven't used it with pythonAnother thing: Don't use select with a zero timeout in an infinite loop. This busy waiting is really inefficient. Instead omit the timeout to have select block till a descriptor becomes ready.


Answer URL
https://docs.python.org/3/library/select.html#select.select
