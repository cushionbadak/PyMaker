Natural Text
If I import a Python module that is already using argparse, however, I would like to use argparse in my script as well ...how should I go about doing this?I'm receiving a unrecognized arguments error when using the following code and invoking the script with a -t flag:Snippet:Error:
You need to guard your imported modules withagainst it running initialization code such as argument parsing on import. See  What does if __name__ == "__main__": do?.So, in your conflicting_module doinstead of just creating the parser globally.If the parsing in conflicting_module is a mandatory part of application configuration, consider usingin your main module and passing rest to conflicting_module, where you'd pass either None or rest to parse_args:That is still a bit bad style and actually the classes and functions in conflicting_module would ideally receive parsed configuration arguments from your main module, which would be responsible for parsing them.


Answer URL
https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.parse_known_args
