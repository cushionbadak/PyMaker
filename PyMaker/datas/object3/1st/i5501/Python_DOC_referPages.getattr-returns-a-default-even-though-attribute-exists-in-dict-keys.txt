Natural Text
I have a file containing some json which I load and loop through the "servers" items and pass them to a send_alert() method (items marked "REDACTED" are not the real code/output):I expect the gmail item to be skipped because it should render False or None for the 'login-name'... so I am really just processing the yahoo item:when send_alert is called, I receive the following output:I would like to use getattr, versus testing (if "login-name" in server:) or try-excepting the values.  I have done this in other cases with success.  However, this has me stumped.  getattr() is returning the default value of None, even though a valid key item seems to exist.  What is wrong?I tried some of the suggested "Questions that may already have your answer" and none have given me any help.  This one seemed promising but was either never answered or the answer (provided by the asker) does not apply to my case: Python 3 AttributeError even though attribute exists  (i.e., I tried to deepcopy the single dictionary item server before passing it to send_alert)The output is the same for both Python 2 and 3.
getattr gets the attributes of an object, not the value associated with a key in a mapping.getattr(server, 'login-name', None) is trying to access the attribute server.login-name, not the value server['login-name']You can instead use the dict.get method


Answer URL
https://docs.python.org/3/library/functions.html#getattr
https://docs.python.org/3/library/stdtypes.html#dict.get
