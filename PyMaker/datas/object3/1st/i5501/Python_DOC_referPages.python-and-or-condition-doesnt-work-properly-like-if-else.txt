Natural Text
I'm working with python and i realize that itsn't reliable while sometimes and or statement doesn't work properly without reasonI tested with this function and it prints:After changing to exclude_list = column_exclude_list if type=='list' else column_exclude_edit, it works.What's wrong between these two short-hand conditions?
You haven't accounted for the case where column_exclude_list is empty. An empty list is a false-y value:Because column_exclude_list is a false value, the and operator produces an empty list and the or operator produces the other operand.This doesn't mean that and and or are broken or work differently in Python than they do in other languages. You just haven't considered that in a <test> and <true expression> or <false expression> construct, that the <true expression> is still used to determine the outcome of the whole. This applies to all boolean logic, not just Python.Don't use and and or for a conditional expression. Use an actual conditional expression, so <true expression> if <test> else <false expression>:Like and and or, this lazily evaluates either one of the two operand expressions based on the outcome of the if test. If column_exclude_list is empty, it'll still be returned, because it's value is not used to determine the outcome of further boolean testing.


Answer URL
https://docs.python.org/3/reference/expressions.html#conditional-expressions
