Natural Text
I have a C function that takes an object as argument:I would like to use this function in Python. I'm trying to parse this argument but can't find the way to. In Python:
Each Python object has a reference to its type: For a pPyObj (of type PyObject*), it can be accessed with pPyObj->ob_type.This should point to an instance of PyTypeObject.At this point, the answer very depends on where the resp. PyTypeObject is "constructed".Case A: Objet is a Wrapper Object Written in CThis is the case, where "I feel at home" (as I got my knowledge about Python rather exclusively by writing extensions in C/C++). There should/must exist a static instance of PyTypeObject which is registered in Python initially. Just get and pass its address.Case B: Objet is an Object of a non-C LibraryHmm... That's IMHO the most difficult case. You have to retrieve the address of the resp. PyTypeObject instance. This probably could be done retrieving the resp. dictionaries of Python. I cannot say in detail as I've no experience regarding this.I guess a good start regarding this is to (re-)search about PyModule_GetDict() together with PyImport_Import().Case C: Objet is an Object of a Built-In Type of PythonLast but not least â€“ the trivial case. In this case, I wouldn't use O because there are a lot of other designators for the built-in types.


Answer URL
https://docs.python.org/3/c-api/typeobj.html
https://docs.python.org/3/c-api/module.html#c.PyModule_GetDict
https://docs.python.org/3/c-api/import.html#c.PyImport_Import
