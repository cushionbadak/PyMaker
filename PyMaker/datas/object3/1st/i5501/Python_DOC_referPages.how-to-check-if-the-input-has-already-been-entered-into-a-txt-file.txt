Natural Text
I have written code that creates a text file (if it doesn't exist) and asks you to input a name and an age to record peoples names and ages. I would like to add an elif into my code so that I can update peoples ages. For example if a text file held the name Paul and their age was 46 and I typed in Paul when asked to input a name, I'd like it to just ask for an updated age.Here is my attempt that simply doesn't work.Code:Text File:
The best solution is to read all the file, keep it in memory using a dict then update the dict every time  you add a name. When you decide to stop (input 'end') overwrite the file with the  new values in the dict
The following solves your immediate problem with the code you posted, however for the goal you described you should think about: This code only checks the first line of your file but you want to check if the name is anywhere in the file.readlines(1) returns a list with one element (the first line). So what you need is:Note the line1[0] and the name in line1[0] (you need this because your line contains not only the name but additional text). 
A bit longer then Joe's solution, but I like functions more. I did not correct your code, because certain parts were missing - rewriting seemed a better option keeping to stuff you did use. After gianluca answer "what" to do I implemented an example of that for you.I use the with open(...) as f: instead of your type of file reading as it automatically will close/flush/dispose of the filehandle when leaving the following block. Its the recommed way to operate with files. Dictionariesis a data structure for fast key/value access and better suited to your problem then simple strings.See also reading-and-writing-files Reading the whole fileinput loop until done, modifying the dictthen (if needed) saving it.Breaking up funcionality into funcitons is that have a limited scope and are easier to understand helps keep the code cleaner. 
The steps:if the file exists (could use try...except or os.path):Create a dictionary of name: age pairs of people already in thereelse:Create an empty dictionarybegin a loopinput nameif name == "end" break out of loopinput ageset name entry in the dictionary to age (will override if not already set)continue loopingopen the file again, but in write ("w") mode so it is blankedloop through each person in the dictionary (old and new)write to the file their name and age (separated by a space) and then a new-lineHere's what that looks like:And it works!


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#dictionaries
https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files
