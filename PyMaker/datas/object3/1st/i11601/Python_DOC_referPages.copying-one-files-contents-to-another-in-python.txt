Natural Text
I've been taught the best way to read a file in python is to do something like:But I have been thinking.  If my goal is to copy the contents of one file completely to another, are there any dangers of doing this:Is it possible for this to behave in some way I don't expect?Along the same lines, how would I handle the problem if the file is a binary file, rather than a text file.  In this case, there would be no newline characters, so readline() or for line in file wouldn't work (right?).EDIT Yes, I know about shutil.  There are many better ways to copy a file if that is exactly what I want to do.  I want to know about the potential risks, if any, of this approach specifically, because I may need to do more advanced things than simply copying one file to another (such as copying several files into a single one).
The only potential problem with your output.write(input.read()) version is if the size of the file is too large to hold all of it in memory. You can use a loop that reads smaller batches.This will work for both text and binary files. But you need to add the b modifier to the modes for portable operation on binary files.
Please note that the shutil module also contains copyfileobj(), basically implemented like Barmar's answer.Or, to answer your question:would be my suggestion. It avoids re-implementing the buffering mechanism and, should the implementation of the standard library improve, your code wins as well.On Unix, there also is a syscall for copying data from one file descriptor to another. It is called sendfile and used mostly for sending data from an open file to a socket (serving HTTP requests, etc.).You could use it for copying data between regular files as well though.By using a syscall the kernel copies the content without the need of copying buffers to and from userland.There is a python package, pysendfile, implementing it. You could use it like:
While this may not completely answer your question, but for plain copying without any other processing of file contents, you should consider other means, e.g. the shutil module:


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.copyfileobj
