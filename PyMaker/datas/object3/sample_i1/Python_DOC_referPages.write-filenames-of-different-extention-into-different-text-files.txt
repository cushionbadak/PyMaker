Natural Text
I m trying this code. How do I write all files in my system with ex. doc extention into a file named all_docs.txt in my desktop? file.write() inside for loop only write the last line of each extention into the files.
You need to open the log file in append mode (a) and not in write mode (w), because with w the file gets truncated (all content deleted) before anything new is written to it.You can look into the docs of open(). This answer also has an overview of all the file modes.Does it work with a for you?
According to https://docs.python.org/2/library/functions.html#open the "w+" operation truncates the file.Modes 'r+', 'w+' and 'a+' open the file for updating (reading and writing); note that 'w+' truncates the file. 
The mode w+ for open causes to truncate the file, this is the reason for losing the lines, and only the last one will stay there.An other little problem can be that this method of joining the path and the file name is not portable. You should user os.path.join for that purpose.An other issue can be the week performance which you can have in case of many directories and files.In your code you run through the filenames in the directory for each extension and open the output file again and again.One more issue can be the checking of the extension. In most cases the extension can be determined by checking the ending of the file name, but sometimes it can be misleading. E.g. '.doc' is an extension however in a filename 'Medoc' the ending 'doc' is just 3 letters in a name.So I give an example solution for these problems:


Answer URL
https://docs.python.org/3/library/functions.html#open
