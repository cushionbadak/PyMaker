Natural Text
I would like to move in python files and directories in one directory to another directory with overwrite ability.I started with the following code:So for the moment, I only try to move the files and I get the following errors:I guess this is because I have dirs and files but then how will I move directories too? And how to make sure it can overwrite the files in the other folder?Hope you can help.
The reason this fails:… is that  just returns a list of filenames. So, each element is a string, and you're trying to unpack that string into two variables. Compare this:It's the exact same error in every case—you can't fit 8 things into 2 variables.Meanwhile, if  is just returning filenames, how do you know ones are the names of regular files, are which are the names of directories? You have to ask—e.g., by using .So:(But note that this can still be confusing if you have symlinks…)Meanwhile, what does "do regular file stuff" mean?Well, assuming you don't have a directory (or a symlink to a directory) with the same name as the file you're trying to move there, as the docs for  say,  or  will be used. If you're not on Windows, this is perfect—if you have permission to overwrite the target you will, otherwise you'll get a permissions error. But if you are on Windows,  will fail if the target already exists.If you're on 3.3 or later, you can solve this by copying the  source* and using  instead, as the  docs imply. Otherwise, you will have to delete the target before renaming the source.* Some stdlib modules—including —are meant to serve as sample code as well as usable helpers. In those cases, at the top of the module's docs, there will be a Source code: link.And what about "do directory stuff"? Well, if you move a directory  to a target , and  already exists as a directory, you're going to end up moving to .This shouldn't be surprising, as it's exactly the same thing  on Unix and  on Windows do, which is what  is trying to simulate.So, what you need to do here is delete the target (this time using ) before moving the source.Which means the simplest thing to do may be to not distinguish files and directories, Windows and Unix, or anything else; just do this:
This because os.listdir(path) return array according documentation here. So you should modify you code as following for moving files and directories. 

(Python 3.6)From a previous answer (can't add comment)I think that the lineShould readOtherwise it will always return  and move the sub folders as well.


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.move
https://docs.python.org/3/library/os.html#os.rename
