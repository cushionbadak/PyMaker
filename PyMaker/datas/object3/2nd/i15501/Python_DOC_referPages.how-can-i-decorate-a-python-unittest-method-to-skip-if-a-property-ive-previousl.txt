Natural Text
I'm writing a TestCase in Python using unittest, that looks something like this:However, this doesn't seem to work, I assume because  cannot use  outside the body of the function declaration. I know I can check the value of  inside the  function and use  instead, but this is less elegant. Are there any other options?
You could write your own decorator to which you pass the name of the flag:Then in your class you would define the test method like this:Whether this is better than just checking in the method depends on the situation.  If you are doing this with many methods, it could be better than writing the check in every one.  On the other hand, if you're doing that, you might want to group them together and do one check to skip the entire suite.
If you can move the  test outside of your  method, then that's a solution:Another (more elegant option) would then be:However if this isn't possible for you, then there isn't a more elegant solution than to somehow use .  and  are evaluated at class declaration time (they set a  attribute on your method to indicate it shouldn't run, which is later looked at prior to running the test). Your  method just hasn't run yet at that point.
I would add to the answer by BrenBarn that if you're using  that you'll need to decorate the  function with . Without this, the test function would technically be  and this would not be invoked by , as by default test methods need to start with .


Answer URL
https://docs.python.org/3/library/unittest.html
