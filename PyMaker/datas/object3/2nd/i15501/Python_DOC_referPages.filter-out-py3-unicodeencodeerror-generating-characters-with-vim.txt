Natural Text
This has bothered me for a while. I have large amounts of data exported from other programs or Internet sources. I try to separate these data into strings or rstrings and then filter the strings.I cannot copy any "illegal characters" into this field, so I can't put any example code. I also cannot copy these characters into the Python3 interpreter (they're switched to '?').I can copy/import them into Vim, though they appear as black squares. Copying the imported data into Notebook and saving as *.txt eliminates most of the problems, but not all. I don't care--much--about saving the characters. Deleting them would be fine, although simply ignoring them would be even better.
Let's assume your data is in UTF-8.  If this is wrong, we'll probably lose a lot of valid Unicode characters, so you may need to change this assumption.  In particular, if every other character looks invalid, try UTF-16 (both LE and BE).That will pull the entire contents of the file into a string, ignoring anything that's not valid UTF-8.  You can then do with the string as you please.If the file is very large, you may want to open a new file for writing and pass both files to ; that will push the data into the new file without consuming massive amounts of memory.


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.copyfileobj
