Natural Text
How does  know to represent itself as 1 when accessed by a list, but not by a dict?  Don't both magic methods go through ?  The usage shown for lists could go through  instead so what is the raison d'être for  anyway?
Dict and List does not implement  the same way. Dict objects uses a comparison () on  of objects as key to use in .To make  usable for dict you have to implement both hash and eq.
@BenoîtLatinier was correct when he said:Dict and List does not implement  the same way.However, I'd like to add a little more information. According to the documentation:Called to implement , and whenever Python needs to losslessly convert the numeric object to an integer object (such as  in slicing, or in the built-in ,  and   functions). Presence of this method indicates that the numeric object  is an integer type. Must return an integer.The part I bolded is important.   Indexing and slicing on a list are both handled by the same method (namely, ).  So, if  is called for slicing, it will likewise be called for indexing since we are using the same method.  This means that:is roughly equivalent to:For the dictionary however,  is not being called (there is no reason to call it since you cannot slice a dictionary).  Instead, doing  is telling Python to find a key in the dictionary that is the  instance itself.  Since this doesn't exist, a  is raised.Perhaps a demonstration will be helpful:As for why  exists in the first place, the reason is thoroughly listed in PEP 0375.  I won't repeat all of it here, but basically it is so that you can allow arbitrary objects to serve as integers, which is needed in slicing as well as a few other applications.
Another example to understand it further, here _MolsToGridSVG takes a list argument. I wanted to limit the list to some length. Now here for python list, slice indices have to be used. The following implementation solved it. Basically here index is getting used for Python List.Also one needs to remember that  has to be integer.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__index__
