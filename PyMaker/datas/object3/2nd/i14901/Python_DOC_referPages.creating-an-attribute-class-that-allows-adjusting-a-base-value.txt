Natural Text
I want to create an  class so I can do stuff like:Now when I doIt actually doesn't change the real value, but it keeps 's base value at 100, while giving it an adjustment of +10.Here's what I tried, but it works using  and  which is not wanted:But I  want to be able to do this:Is this possible?
Below are four approaches that might meet your needs.DescriptorsDescriptors allow you to provide direct attribute access while hiding the underlying implementation.Output:The problem with this approach is that you have no easy way to access the internals of the descriptor.  So in this case, you can't ever inspect the  list.  You can, however, directly assign  to it as if it were a normal attribute.Note: As noted by Veedrac in the comments, these attributes are defined at the class level and will be shared between all instances of the  class.  For this reason alone it's not a solution whatsoever, but it wasn't a great solution in any case.Normal Tracker ObjectsYou can use a class that implements the "augmented assignment" magic methods  and Output:The problem with this approach is that you can't directly assign to the attribute without overriding it.  In other words,  will override the value of the  attribute to be equal to X -- you lose whatever was there previously.But with this approach, you can access the  list:  Note that  is an instance of , not a numeric type like you may expect (try ).  You have a number of ways to access/extract the numeric value, in the example I use the  type conversion (possible since I implemented ).Descriptor + Tracker ObjectUsing a combination of the two above methods, you can use all of the syntax you listed.Output:Here, the descriptors aren't keeping track of the base and adjustment list themselves, rather you're using them as a proxy to interface with  obejcts.  With this you can do both direct assignment (e.g. ) and access the underlying initial base / adjustments (e.g. ).Properties + Tracker ObjectsJust as in the previous example, we use  objects to hold the state of the attributes.  But in this example, instead of using an explicit descriptors, you can use properties to shield the attribute.Output:This example is basically the same as the previous one, just less lines of code since it makes use of properties, and functions exactly the same.
Check out propertieshttps://docs.python.org/3/library/functions.html#propertyIn the example below a property is being used as a decorator.Every time the health attribute is retrieved the getter function (the function marked with the  decorator) is called. Similarly when the health attribute is set the setter function (the function marked with the  decorator) is called.outputs


Answer URL
https://docs.python.org/3/library/functions.html#property
