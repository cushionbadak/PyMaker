Natural Text
I design GUI in Qt Designer, then I load UI-file in my Puthon3 script with the loadUiType method:All works fine. Then I make a little revolution in my form design and it includes a lot of renaming. So I take that UI-file of Qt Designer (XML file) and edit it in a text editor. Maybe I make some typo mistakes. Now I get a message during the start of Python script, on the line self.setupUi(self):File "string", line 671, in setupUi TypeError: argument 1 has unexpected type 'QRadioButton'So, some goes wrong in the process of importing the XML file. But the error type tells me not enough to find the error.I double check all my QRadioButton widgets. No idea.I open Ui with the Designer - it opens without error messages.I convert UI into PY (pyiuc5) - no errors.The  file is here.What can be the way to find the error in such a closed process as setupUI?
In this .ui file the widgets have the same name as the main window's slots. As we subclass the main window, both the widgets and the slots are in the same namespace, so command  in compiled .ui file overwrite slot 
Look at the output generated by , at line 671. It should be inside the  method. That's what the error is referring to.  is generating a Python file on-the-fly. You then attempt to execute it, and it fails at runtime.Nitpick: Try removing all of the connections from the .ui file. They don't belong there and make the code much harder to maintain, unless the connections are between widgets within the same file. Simply name  slots in the following format: on_WIDGET_SIGNAL, where WIDGET is the name of the widget, and SIGNAL is the name of the signal, e.g. .
To answer the specific question about how to debug a file loaded by :When you use a method like , it creates the same module that is normally generated by . But instead of writing this module to disk, it calls  on it, so that the code will be executed dynamically, and the resulting  object can be returned directly.However, the generated code is not quite identical. When using , some comment lines are added to the top of the file, and these need to be removed so that the traceback information lines up correctly. To be more specific, the extra lines need to be replaced by a single blank line, so that the top of the module looks like this:With that done, the original traceback now gives line 671 as this one:And the  now makes sense, because  (a radio-button) is now shadowing  (a slot), due to some bad renaming.


Answer URL
