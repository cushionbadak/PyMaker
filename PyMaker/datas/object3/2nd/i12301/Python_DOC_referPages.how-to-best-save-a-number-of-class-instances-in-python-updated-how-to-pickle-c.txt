Natural Text
I'm totally unexperienced in Python persistence.I tried to use pickles to store some agents for my simulation. I got the message "TypeError: can't pickle SwigPyObject objects"I switched to shelves. I got the same error.Here is my code. I have 5 lists of objects, each list contains many instances of a given classI open up a shelve. And try to save each instance from my 5 lists using a generic keyAnd then I get the same pickle errorSorry if it sounds simple. But I have never used python storage before (just saving to csv and reading from it).Thanks.Here is my Class for an agent:class Agent(object):Maybe the problem is a class that contains GDAL/OSGEO geometry?Here is the code for Govern. region is a shapefile ogr.objectThe other classes are similar.Families and Firms have dictionaries in their init()Here is how I create some firms, for exampleOk. After all the debate, I guess the problem is the object generated from OSGEO/GDAL. I use: from osgeo import ogrSo, the question should be changed to: how to pickle class instances that contains osgeo.ogr objects?
Under the hood  uses , so if your objects can not be pickled,  can't work with them. There might be a way to store the information from each object so that it can later be used to reconstruct that object through object instantiation, but we'd need to know the details of the object, and how to create one.Or, possibly, the objects provide a method to dump them.The objects being of class  suggests that the objects exist externally to Python, in a C/C++ library.If possible, provide details of the classes.


Answer URL
https://docs.python.org/3/library/pickle.html#pickle-inst
