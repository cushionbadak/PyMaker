Natural Text
I've been playing around with  and trying to understand how exactly the  argument works. From what I understand, the initializer function is called for each process, so I assumed the arguments to it (i.e. ) would have to be pickled across process boundaries. I know that the  method of a pool also uses pickling for its arguments, so I assumed that anything that works as an argument for the initializer should also work as an argument for mapping.However, when I run the following piece of code,  gets called just fine, but then  throws an exception about not being able to pickle the module. (There's nothing special about using the current module as the argument; it was just the first non-pickleable object that came to mind.) Does anyone know what could be behind this difference?
Initialize doesn't require pickling, but the  call does. Maybe this will shed some light…  (here I'm using  instead of  to give better pickling and interactivity).Cool. The threading  works… (because it doesn't need to pickle anything).  How about when we are shipping both  and  using serialization?So let's look at pickling :So, you can't pickle a module… ok, can we do better using ?The answer is yes -- the module starts to pickle, however, fails due to the contents in the module… so it looks like it works for everything in  except when there's an instance of a  in  -- then it will fail.So, if your last two lines of code were replaced with this one, it will work:That's using , as it uses  under the covers.   will still fail to pickle here because  can't serialize a module.  Serialization is needed, as the object have to be sent to another python instance on another process. 


Answer URL
https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.pool
https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods
