Natural Text
I'm working on getting a subset of emojis from a text retrieved form an API. What I'd like to do is substitute each emoji for its description or name. I'm working on Python 3.4 and my current approach is accesing the unicode's name with unicodedata like this:And I'm substituting with re.sub:I've tried re.search and then accessing matches and replacing strings (don't work with regex) but haven't been able to solve this. Is there a way of getting a callback for each substitution that re.sub does? Any other route is also appreciated.
You can pass a callback function to : From the documentation:Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement repl. If the pattern isn’t found, string is returned unchanged. repl can be a string or a function; [...] If repl is a function, it is called for every non-overlapping occurrence of pattern. The function takes a single match object argument, and returns the replacement string.So just use  as the callback:
You can pass in a function as the repl parameter of It is passed the match object and returns what you want to spit out:
No so clean, but works:result : FACE WITH TEARS OF JOY  and all of this SMILING FACE WITH OPEN MOUTH AND COLD SWEAT
In Python 3.5+, there is  error handler. You could use it to convert several emoticons at once:There are more Unicode characters that are emoji than the regex pattern indicates e.g., ♥ (U+2665 BLACK HEART SUIT).


Answer URL
https://docs.python.org/3/library/re.html#re.sub
https://docs.python.org/3/library/re.html#re.sub
