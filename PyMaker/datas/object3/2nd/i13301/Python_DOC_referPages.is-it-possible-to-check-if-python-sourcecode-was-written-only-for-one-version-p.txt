Natural Text
I make some source code analysis and need to know if the source code was written only for one version (python 2 or python 3). Ideally without starting the script with both runtimes and check if it raises an exception. I dont want to check which runtimes are installed like here.Maybe I am looking for some sort of linter, which tests for typical python 2 code like print "hello"instead of print("hello")This is my problem I read a file like this for example:which works fine under python 3 and raises an error for python2Maybe with the compiler but it is marked as deprecatedAny thoughts for solving this problem or any known linter which tells me if the code is python 2 or 3 ? Or is running the file with both runtimes my only option?Thanks
You cannot reliably detect that code was written for Python 3 only.If code uses  as a statement you can be certain it will only work on Python 2. Similarly, code using  is only going to run on Python 2.But it is possible to write polyglot Python code; code that'll run on both Python 2 and 3, by using  statements;  will let you use the  function on Python 2, for example.Your best bet is to go through the major Python 3 syntax changes, and create a series of heuristics to make an educated guess about the Python version.The Python-Future project has a helpful cheatsheet that probably is of help here too.


Answer URL
https://docs.python.org/3/whatsnew/3.0.html#common-stumbling-blocks
