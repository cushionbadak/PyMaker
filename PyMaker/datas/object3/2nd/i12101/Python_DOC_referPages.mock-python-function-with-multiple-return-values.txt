Natural Text
I have a python function that returns multiples values. My function:I want to give my own values to the returned values from FunctionIWantToTest. So, I'm trying to test the 2nd function with nosetest, but I don't know how to mock the return of myExampleFunction.I tried this:But it doesn't work. When I launch nosetests I read this message:Any idea? I use python 2.7.3
You need to set the  of the mock, not .You can do this when you instantiate it:
Just wanted to share how to get this to work with . I put together a simplified version to showcase how to use  for your use case. behaves differently than return_value, where when you provide a  with a list with entries, what you are stating actually is that, each time your mocked method is called it will return each item in the list as its return value. This is actually why you are getting ValueError: too many values to unpack (expected 3), because by doing this: You are saying, for each call to my mocked method, return 1, then the next time I call the method, return 2, then return 3. With that in mind, if you set up your , like this: What you are now saying, is that, for when you call side_effect, the first item in the list is what will be returned. Which, in effect is: Alternatively, you can do this: Which mimics out the method you are testing by taking two args and returning the three values it should return. So, with this in mind, your test can be structured as: 


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock
