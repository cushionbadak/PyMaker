Natural Text
I'd like to build a  to map given argument with constant defined in my code.Suppose I have the followingWhat can I put in lieu of ?The best I could do with  was:Note that the constants are saved into tw odifferent attributes  and , witch suits me not :(
The simplest way is to take advantage of the  option in  like @hpaulj did although it can be generalized with a factory function:then in lieu of  just use :And then everything will work as you want it to in your example.The following is the first answer I posted, it is still valid but isn't nearly as simple as the above solution.An alternate method is to make a class that inherits from  and override  to modify the result as it is generated:this way the rest of your (example) program would look like this:Add extra options like this:or extra arguments like this:as well any added arguments that are not specified in  are left alone so it is very easy to implement.
This is an interesting question. To the best of my knowledge,  does not support this directly.If you find this pattern occurs often, you can write a small utility class that does this for you, by transforming  into a dictionary via :You can use it as follows. Say your parser is defined by:Then you can define a  via:and use it like so:
This would be a good case for a custom  parameter:It will produce a namespace likeand error message (if given ) like:I tried adding  but the help message isn't right.  Use  and  to instruct your users.
I wouldn't create a new action or object: just use a  to store the constants, limit the values of  with  and use  to index the :The combination of  and the keys to the  essentially fixes your results of .And if you like to make things a bit clearer or easier, you can do reassign  to your  value after you parse the arguments:and now  equates directly to .


Answer URL
https://docs.python.org/3/library/argparse.html
