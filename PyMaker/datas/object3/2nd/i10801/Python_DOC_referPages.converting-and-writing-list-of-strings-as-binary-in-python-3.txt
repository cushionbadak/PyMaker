Natural Text
I'm trying to convert a Python 2.x version of this code:into Python 3.x version. If I run the above code in Python 3.x directly, I get an error like below, which is expected:Is there a way to write list of strings as bytes in Python 3.x? Or should I just write as a list of strings (and take the performance hit, maybe?)
You opened the file in binary mode, so you'd have to encode your bytes.If you drop the  part from the file mode (so open with  rather than ), you get an implementation of the  interface instead, which will encode strings for you given an encoding (the default is to use the result of , you probably want to supply an explicit  argument to the  call instead).The alternative would be for you to encode your strings manually, using the  method on each chunk. Leaving encoding to the  implementation is going to be a little faster however, because the I/O layer can encode without having to look up a method object on each  chunk, nor do the resulting bytes have to be boxed in a Python  object again.Also, for encodings that require a byte order mark, it is best to leave writing that marker to the file implementation.However, if you could produce  objects in the first place, you'd avoid having to encode at all.
Just don't open the file in binary mode:Hope it helps!


Answer URL
https://docs.python.org/3/library/io.html#io.TextIOBase
https://docs.python.org/3/library/stdtypes.html#str.encode
