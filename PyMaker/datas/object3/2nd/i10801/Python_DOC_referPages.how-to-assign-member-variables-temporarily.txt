Natural Text
I often find that I need to assign some member variables temporarily, e.g.but I wish I could simply writeor evenCan Python's decorators or other language features enable this kind of pattern? (I could modify 's class as needed)
Context managers may be used for it easily.Quoting official docs:Typical uses of context managers include saving and restoring various  kinds of global state, locking and unlocking resources, closing opened  files, etc.It seems like saving and restoring state is exactly what we want to do here.Example:
I think a  should do what you want:
You can also do this natively using  and . Simplistic example:
 provides this functionality, specifically look at the context-manager usage of .  It's in core libraries in python3, and available on pypi for older python.Setup:Usage demo:
Goofy solutionStill goofy but less so solution


Answer URL
https://docs.python.org/3/library/contextlib.html
https://docs.python.org/3/library/unittest.mock.html#patch-object
