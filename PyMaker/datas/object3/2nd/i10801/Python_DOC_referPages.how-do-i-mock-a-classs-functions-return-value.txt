Natural Text
I have a method in Python that looks like this (in ):I'm trying to write a unit test for this (I've already tested ), and so for this is what I have ():When I run this test, I get the following:OK, so  is returning . I tried placing the following line after  in .During the test, I get this:I'm quite new to unit testing and am quite nebulous on using , but my understanding is that  should have made it so that the  method of the  class would return each of the  contents in turn. What it is doing I have no idea.I think what I'm trying to do here is clear, but I can't seem to figure out how to override the  method so that my unit test is only testing this one function instead of having to deal with  as well.
 is instantiated as a context manager.  to mock it you have to refer to its  method.What you're trying to do is very clear, but the context manager adds complexity to the mocking. One trick is that when a mock registers all calls made to it, in this example it is saying it has a call at:This can guide you in registering your mocked object, replace all  with 


Answer URL
https://docs.python.org/3/library/unittest.mock.html#calling
