Natural Text
I am trying to get the pending data size in output buffer after calling my socket's sendall(). I am using TCP (non-blocking) socket in a class. My code for send message function in the class is as follows:On calling to this function, an Error is occurring as follows:   I checked for the same Error, but as per the document of python linked as https://docs.python.org/3/library/fcntl.html#fcntl.ioctl I am using the same method. But still the Error is OccurringCan any one help me with this??I am using platform kernel v 3.18.7 -7+and python v 2.7.3
From  documentation:Send data to the socket... Unlike send(), this method continues to send data from string until either all data has been sent or an error occurs. None is returned on success. On error, an exception is raised, and there is no way to determine how much data, if any, was successfully sent.With that being said,  will always be  and it will send the whole . Otherwise, an exception will be raised and you won't be able to see how much data it managed to send.On the other hand, I found Guido van Rossum's email where he states that you shouldn't use sendall with a non-blocking socket. Searching for this question in the internet seems to confirm this claim.It's  that may not send all the message. In this case you don't need to use  as well, because  returns the number of bytes it sent. You can use it like this (plus some non-blocking checks perhaps):


Answer URL
https://docs.python.org/3/library/fcntl.html#fcntl.ioctl
