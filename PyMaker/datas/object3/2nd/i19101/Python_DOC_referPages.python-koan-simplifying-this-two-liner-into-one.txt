Natural Text
I wan to turn this two lines of code into one. It's bothering me that a small statement to increment a dictionary takes two lines. I'm sure this problem has bothered someone too.
...but there is nothing wrong in the fact that the statement takes two lines. There are some python coding guidelines (PEP8) and they strongly encourage core readability. By putting those statements into a single line you lower the readability.From PEP8:While sometimes it's okay to put an if/for/while with a small body on  the same line, never do this for multi-clause statements. Also avoid  folding such long lines!
This essentially uses dict.update to update the dictionary with values from another dictionary. And that other dictionary is built using a dictionary comprehension. Unfortunately, to get the  effect, we have to read the value explicitely again in the expression.But I would argue a lot if it would be better than using a simple and clear for-loop for this.On the other hand, as you seem to be just counting exceptions, you might want to consider using a Counter for your dictionary. Itâ€™s essentially an improved dictionary (meaning that you can use it just like a normal dictionary) but it comes with a few features that makes it perfect when counting things. For example, you could simplify above statement to just this:Or as you are just adding  for each, you can just pass the iterable  directly:This would also have the benefit that  exceptions which do not exist in  yet, are automatically initialized. To create a Counter from your existing dictionary, you can just pass the original dictionary to the Counter constructor:
Use a collections.Counter:or, if  is already defined to be a ,


Answer URL
