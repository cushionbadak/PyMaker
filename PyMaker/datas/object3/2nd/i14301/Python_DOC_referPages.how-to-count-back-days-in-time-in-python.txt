Natural Text
I'm trying to format a bunch of dates separated by pipes ("|") for the purposes of a web API query I am making, counting backwards in time seven days and adding each of those dates to a composite string. I read the documentation and piece together that a combination of date.today() and datetime.timedelta is what I need. I write the method:I expect to get the following output:SomePage/June 2, 2015|SomePage/June 1, 2015|SomePage/May 31, 2015|SomePage/May 30, 2015|SomePage/May 29, 2015|SomePage/May 28, 2015|SomePage/May 27, 2015|SomePage/May 26, 2015Instead I get the following output:SomePage/June 2, 2015|SomePage/June 1, 2015|SomePage/June 31, 2015|SomePage/June 30, 2015|SomePage/June 29, 2015|SomePage/June 28, 2015|SomePage/June 27, 2015|SomePage/June 26, 2015I am seeing that using  here just naively loops back the day field in the date class object, instead of operating on the entire date. I have two questions:Why is this implemented this way?What do I do to instead get what I want?Edit: On second look, the function I wrote won't even be able to handle moving between years. Seriously, what's a better way of doing this? The datetime documentation (https://docs.python.org/3/library/datetime.html#datetime.timedelta.resolution) is absurdly dense.
No, that is not at all what timedelta does. It does exactly what you would expect.The error is simply in your code: you always print the month from , rather than from .A much better way of printing the formatted date would be to use a single call to :
You could consider using arrow to handle the dates, it will make your life easier.Output is


Answer URL
https://docs.python.org/3/library/datetime.html#datetime.timedelta.resolution
