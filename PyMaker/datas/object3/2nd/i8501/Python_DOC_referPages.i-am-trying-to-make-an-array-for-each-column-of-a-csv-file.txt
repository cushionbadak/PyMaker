Natural Text
I have an excel document that I have exported as CSV. It looks like this:I have a class called "Category" that has a name variable. My code makes a category for each of the first line strings, but now I need to add each item to the column that it is supposed to go in.As the code runs, it gives an output for each item that says:Which is what it should be doing. Every item says that it is being sent to the correct category. At the end, however, instead of having each item be in the category that it claims, every category has every item, and instead of this:And so on and so forth, for each of the categories. I get this:I don't know what is going wrong. There is nothing in between those two lines of code that could possibly be messing it up.
The problem is that you defined class level variables for , not instance variables. That was mostly harmless forbecause that created instance variables for each object that mask the class variable. Butis different. It got the single class level  list and added the data regardless of which instance happened to be active at the time.The solution is to use instance variables created in . Also, you were doing too much work reassembling things into strings then breaking them out again. Just process the columns as the rows are read.
3 comments: You aren't taking into account the first field - you take an empty string  and the first thing you do is add a comma. This is pushing everything one field over. You would need to test if you are on the first row.You are opening a csv ... then twisting it back to a text file. This is looks like it is because a csv will field-separate the values and you want to do this manually later on. If you open the file as a text file in the first place and read it using , you don't need the first part of the code (unless you have done something very strange to your csv; since we don't have a sample to examine I can't comment on that).will give you the correctly formatted  string.This is a good use-case for , which will give you the fields in a structured format. See this StackOverflow question as an example and the documentation.
Try using below statement for reading csv.wherein data[0] will have all category names


Answer URL
https://docs.python.org/3/library/csv.html#csv.DictReader
