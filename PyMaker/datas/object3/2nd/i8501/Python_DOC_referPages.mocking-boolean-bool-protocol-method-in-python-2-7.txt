Natural Text
As part of my unittests, I am testing some responses using the fantastic Requests library. Something cool you can do with this library is test a response for a  OK status code by simply calling:The way this works behind the scenes is Requests updates the  protocol method of the response returned according to the type of status code.What I'd like to do is to be able to mock the response object of  well enough so that I can not only patch the methods/attributes I'm interested in checking (, ) but also to be able to return  whenever I choose to.The following isn't working for me, as once I call  from the sample code above, it returns the Mock object  which evaluates to .I thought the answer might lie in Magic Mocking the protocol method's return value, but read here that  is only supported for Python 3.0.
In python2.7, you should mock  instead of .


Answer URL
https://docs.python.org/3/library/unittest.mock.html#magic-mock
