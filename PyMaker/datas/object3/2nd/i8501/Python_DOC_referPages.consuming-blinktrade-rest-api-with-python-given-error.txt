Natural Text
I'm new with python. Just few hours learning it.I'm trying to consume an REST API to get some account infos...Here is my request:And here is the error:Traceback (most recent call last):   File "foxbit.py", line 51, in        getAccountData()   File "foxbit.py", line 30, in getAccountData      signature = hmac.new(b'TDDh8djV3NwXt53gSrScDul6o6w3HnnZsHuh6HTF9SA', msg=nonce,  digestmod=hashlib.sha256).digest()   File  "C:\Python\Python35\lib\hmac.py", line 144, in new      return HMAC(key, msg, digestmod)   File "C:\Python\Python35\lib\hmac.py", line 84, in init      self.update(msg)   File "C:\Python\Python35\lib\hmac.py", line 93, in update      self.inner.update(msg) TypeError: object supporting the buffer API requiredI'm trying consume this API:on  methodwith no success.I'm wanna create and python app to watch my opened orders of Bitcoin.What was happening with this error?? On documentation, says i need do this to work:3 hours trying it and nothing! heheI need some help here.
The main problem is that you are not passing the nonce as a bytearray format when generating the signature.This is a change after python 3.4hmac now accepts bytearray as well as bytes for the key argument to  the new() function, and the msg parameter to both the new() function  and the update() method now accepts any type supported by the hashlib  module. (Contributed by Jonas Borgstr√∂m in bpo-18240.)https://docs.python.org/3/whatsnew/3.4.html#hmacPassing a  on nonce should work as expected.Also, you are forgetting the  header.You can follow this gist that has very useful python examples, it's actually built on python2, but you still can follow it, and it's very easy to get started.https://gist.github.com/pinhopro/60b1fd213b36d576505e As a BlinkTrade employee, don't hesite to ask me anything.


Answer URL
https://docs.python.org/3/whatsnew/3.4.html#hmac
