Natural Text
Why isn't it possible to use "await" in f-strings? Is there any way to coerce f-strings into evaluating the format expressions in the context of a coroutine function?
As of Python , this is not possible. It will be possible in  according to the messages on Issue 28942 -- await expressions in  on the Python bug tracker.As for the reason, the author of the PEP that introduced / expressions, Yury Selivanov, had this to say:I suspect the reason is that / aren't proper keywords in  3.5/3.6, and the hacks we have in tokenizer to recognize them aren't working in f-strings.I'll assign this issue to myself to make sure it's resolved in 3.7  once we make / keywords.and indeed, the tokenizer does seem to treat these specially.You were right to be puzzled by this as formatted strings are documented as supporting all valid Python expressions (with the appropriate limitations those expressions entail i.e  in an  function). I don't believe there's any way to circumvent this at the moment. You'll need to stick with the  route until the issue is resolved.


Answer URL
https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals
