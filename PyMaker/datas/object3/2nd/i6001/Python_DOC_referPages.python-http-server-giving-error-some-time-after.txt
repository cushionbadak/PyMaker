Natural Text
I coded a Python HTTP server as below and I run the server from the directory which this python file exist. I am typing "python myserver.py" in the cmd and server succesfully starts and reads the index.html in the directory but my problem is after some time my code gives the following error and closes the server Traceback (most recent call last):  File "myserver.py", line 20, in     requesting_file = string_list[1]IndexError: list index out of rangeHow can I fix this problem ?
 is not guaranteed to read the entire n bytes of the message in one go and can return fewer bytes than requested in some circumstances.Regarding your code it's possible that only the , or part thereof, is received without any space character being present in the received data. In that case  will return a list with one element, not two as you assume.The solution is to check that a full message has been received. You could do that by looping until sufficient data has been received, e.g. you might ensure that some minimum number of bytes has been received by checking the length of data and looping until the minimum has been reached.Alternatively you might continue reading until a new line or some other sentinel character is received. It's probably worth capping the length of the incoming data to avoid your server being swamped by data from a rogue client.Finally, check whether  returns the two values that you expect and handle accordingly if it does not. Furthermore, be very careful about the file name; what if it contains a relative path, e.g. ?


Answer URL
https://docs.python.org/3/library/socket.html#socket.socket.recvfrom
