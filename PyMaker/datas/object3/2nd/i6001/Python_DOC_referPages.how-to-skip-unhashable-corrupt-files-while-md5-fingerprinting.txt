Natural Text
The code below makes an md5/metadata fingerprint, but crashes on files with unknown corruption (e.g., files, that can be copied, mostly even opened, but that can not be hashed or zipped up [to disguise their corruption]).Question: How one makes this code to skip or ignore any and all problem files and just do the rest? Imagine 1 million files on 8 TB. Otherwise I leave it running and having no real-time monitoring of progress, 2 days later I find out that nothing got hashed because a couple problem files made the code hung.Part of the code (see full code below):Error:Full code:Trying this fix, no luck:
I agree with IMCoins and I'm very qurius on why except isn't catching the error.So first thing I would do is to go to the source where the OSError is being raised and try to catch it explicity.
Updated answer, for updated post.As stated earlier,  statement with exception type specified catches everything. So, in order to do what want... I'm afraid possible answer are either :To make a method that identifies corrupted files, and handles it properly.Make  statement that encapsulate every part of your code where there could be an error.Let me warn you about the second solution though, as sometimes, there are system errors that you do not want to avoid. I believe you should print the exception that you catch, in order to identify further problems you may encounter.Just so you know, as you may not : your error is not in a  statement. Your error is in (if I copied and pasted properly in my editor) line 196, , then line 76, As you also mentioned you are using python 3.x, I suggest you are looking into the  function (https://docs.python.org/3/library/contextlib.html#contextlib.suppress).I hope it helped you.


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.suppress
