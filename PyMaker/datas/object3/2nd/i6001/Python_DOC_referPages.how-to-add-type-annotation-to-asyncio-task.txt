Natural Text
I have a code which look like this:I am trying to add type annotations to the  function, but I can't fully understand hoe to annotate the  variable. Should it be ? Or maybe ?When I am using the  of , the output about the  variable is .The output of this program is:How should I document this function properly?
Usually you can get basic annotation for some variable with just printing it's type:While it'll show some inner  type, looks like we can treat it as regular :But as you noted we can also use more abstract type then  like  since  is (subclass of) :Our choice narrowed down now to  or one of its parent classes like  (including most extreme case -  which is parent class for any class and which mypy've proposed to you). is 's method and according to documentation will receive future object as it's parameter. It won't be any kind of  (like coroutine), but only  or some of it's subclasses like .When it comes to choosing type annotation, it makes sense to be most abstract about what your function can accept as an argument (working properly) and most concrete about what it can return. So choosing between  and  I would prefer  (assuming you aren't going to use  specific only attrs). According to this logic, final answer is:It all sounds a bit complecated and time consuming, but once you get an idea you'll be able to choose annotations much faster.


Answer URL
https://docs.python.org/3/library/asyncio-task.html#asyncio.Future.add_done_callback
