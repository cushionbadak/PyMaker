Natural Text
I have the following C code which I would use from a python script. This is just an excerpt of an auto-generated huge library which I'm not able to change, unfortunately. Here I just wanted to print the structure elements to a console to demonstrate what is going wrong.It is compiled and linked to a share library with:gcc -fPIC -c CFunc.c -o CFunc.o  gcc -shared -lrt -Wl,-soname,libCFunc.so.1 -o libCFunc.so CFunc.oSo I did the following implementation using ctypes:So I'm initializing the structure out of a list of given tuples, in this case just 2 and calling the C-function to see its output.Unfortunately the output is not as expected:2:    0: 00000000 79948ef0    1: 00007fe5 00000000  Any thoughts what I am missing ?
[Python 3]: ctypes - A foreign function library for Python.The structs from C and Python don't matchparams is an array not a pointerBecause of the above inconsistency, you overcomplicated things in Python:You don't have incomplete types, so your structures can be statically definedI restructured your code a bit.dll.h:dll.c:code.py:Output:


Answer URL
https://docs.python.org/3/library/ctypes.html#module-ctypes
