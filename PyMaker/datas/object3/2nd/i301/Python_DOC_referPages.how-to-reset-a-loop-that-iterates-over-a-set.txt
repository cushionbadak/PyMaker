Natural Text
How can I reset a loop that iterates over a set? A common answer for iterating over a list is to reset the index you are using to access the list, however sets do not support indices. The point is to be able to iterate over a large set of objects, perform some action against each element until a result matches the result I require. The functionality I am searching for is the ability to reset a loop. Meaning restart the iteration from the beginning to ensure I visit every element again for whatever reason. How can I reset the following loop?I'm using python 2.7 for this specific problem, but I'd also welcome python 3 solutions.
One way to do so would be by using iterators. You could define an iterator by simply calling  on your set, and call its  method on each iteration. When the condition is met, you can simply create again the iterator object from the set and repeat the process:
I would just convert the set to a list and use a while loop:
Here's a neat trick that takes any kind of iterable (including sets), and returns an instance of a  class (our short name for "resettable iterable").We can then use the re-iterable in a  loop as , just as we would use the original iterable in .Inside the  loop, whenever the conditions are right for re-setting the loop, we only have to call the  method on the re-iterable.Here's an example usage with a set  (but it could just as well have been a list or any other iterable):Here's the output (Note that the first time the user was prompted to reset, the user responded with a , causing the set to be iterated all over again. The second time the user was prompted to reset, the user responded with a , and the loop proceeded without getting reset):How does this work? The wrapper class ReIterable makes use of the protocol between a  loop and an iterable.Here's what the  class looks like (but you only need to know how to use the class, though, as shown above):Note:Besides the fact that it supports the reset operation, the  class essentially delegates all the iteration work to the original iterable or its iterator. The actual "resetting" involves junking the old iterator and getting a new one (as also in @yatu's answer).


Answer URL
https://docs.python.org/3/howto/functional.html
