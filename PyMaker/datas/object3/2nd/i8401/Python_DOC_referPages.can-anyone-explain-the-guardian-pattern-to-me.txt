Natural Text
Tried searching for guardian pattern but I couldn't find anything that answered my question so here I am again. In the book I am reading the author uses a line of code that he calls, "the guardian pattern" and I don't really understand how it works. here is the example and I would be grateful if someone could explain it to me.so why, if the length of the line > 0 and line[0] == '#' :does it not error if I just hit enter with nothing there. Wouldn't the line be 0 and thus line isn't > 0? if you put the orig code in which is it errors out when you just hit enter.
so why, if the length of the line > 0 and line[0] == '#' : does it not error if I just hit enter with nothing there.No, it does not throw an error. Python uses lazy evaluation, which enables short circuiting with the  operator. See the docs.In other words, the second part of the boolean expression, i.e., , only gets evaluated if the first part is .I believe this is the reason why that author calls this the guardian pattern, so that the first part of the expression avoids (guards) a possible error in the second part of the expression.If you remove that first part, like in the example you show, then you would be trying to access the first element of  (), when there is none elements in .
Wouldn't the line be 0 and thus line isn't > 0?If you just press enter line is  . An empty string. The length of this string  is 0 (thus causing your program to continue as soon as the first case of the  statement is evaluated. If you access the first index  of an empty line, it will throw an error. Thus, always check if you actually have a first index before accessing it...


Answer URL
https://docs.python.org/3/library/stdtypes.html
