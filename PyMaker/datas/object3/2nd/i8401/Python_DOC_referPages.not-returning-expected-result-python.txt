Natural Text
This question already has an answer here:Phone Number Regular Expression (Regex) in Python                    2 answers                They all return false now. How come? Why does the third 'if' statement not return proper value? It should return true for both first function call and third function call. How would I go about getting this to work? Checking for non-space in between digits 0 through 7 along with checking for hyphen, and returning false if either is not found. 
One of those two conditions must be True, so you're returning False regardless of the input.  I think you want an and there, as well as a character in the second condition (which is True under any input you give).
 always evaluates to something, so the expression  always evaluates to .So, the third if statement always runs the  statement.Deleting that part (making your if statement ) makes your program work properly for the first test case.Also, it looks like you're trying to make the dash optional - this'll break your hard-coded indices for the rest of the function, so you'll need an if block. Something like:General note: for this use case, look into using regular expressions, which will let you specify the format of a phone number without all this string indexing.The regex  works in this case.
It seems likely to me that the solution you are looking for is more general than one proposed.  Of course, if this looks too long, just look at my solution toward the bottom and refer back as needed, but I hope to be helpful.So, there are a few problems:First, as I understand it (and hopefully I'm right, otherwise the other answers are perfect) it looks like there are some basic categories of strings you want to accept:Fully hyphenated phone numbers like Non-hyphenated phone numbers like  Phone numbers with mixed hyphenation like  or  from your example above.Unfortunately only the fully hyphenated variety has 12 characters.Thus, the line  will immediately cause potential phone numbers having either mixed hyphenation or no hyphenation to berejected.Instead, staying consistent with your style, try .  This eliminates all strings that are simply too long ortoo short.Another problem, as addressed in the other answers, stems from your always  check: .  The secondexpression  will always have the value , meaning thefunction can only return .Perhaps the rationale for that approach involved believing that checking that the character at a particular index was  could allow one to treat the rest of the string as if the characters were one index further along, perhaps also feeling like a check that no other unwanted character is there.  Those are very speculative ideas on my part, but, either way, they  seem potentially reasonable but do not work.To proceed in a way similar to your original version, using variables to iterate through the string may be more useful than using literals, since we can have more flexibility that way in terms of which indices we investigate in which ways.  One variable, call it , can point to where you are in the string, while another, say , can point to where you need to stop to do another kind of check.I included a fully (I think) flexible version of your function, built mostly with the same approach and style that you used in mind.  I believe this version allows for the cases in which neither hyphen is present, as well as when just the second is missing, which I do not believe the solution by APerson above addressed (perhaps rightfully).If you did want the more flexible version, here is one possible implementation:Of course, as APerson mentioned, regular expressions are a much more concise way to solve pattern matching problems like this.  (They would make it trivial to deal with a more general phone number space with things like parentheses or spaces).If APerson's interpretation of the space of phone numbers is correct, thatanswer should be preferred. However, if I'm right, then the regex would be correct.


Answer URL
https://docs.python.org/3/howto/regex.html
https://docs.python.org/3/howto/regex.html
