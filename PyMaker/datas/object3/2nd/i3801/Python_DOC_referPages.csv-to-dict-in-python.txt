Natural Text
I have a csv-like file that wants to transfer into dict in Python. Heres the sample file:I roughly have an idea of how to handle this file, to goal is to easily access each record. Something like dict maybe:the usecase is I want to extract these data and load it into database. The [section-1] data will go to top-level table. And [section-2] data will be loaded into child table based on [section-1] info.I'm very new to Python. Do you think this is the right direction to convert this file? Can someone tell me how to do this? Thanks
If it were me, I'd parse the file into sections using , and then use a generator function to pass the resulting lines to  and  for the two sections, respectively.Here is an example:Input file:Output:
For parsing csv file you might want to use dataknead library. It works with Python 3 only.You can install it like this:  (pip3 if you have different Python versions)According to its documentation, let's assume you have a cities.csv like this:You can read it like this:The output of print(data) will be:I suggest you to parse one section firstly. Then you can decide how to divide file's section. Hope this helps.
If you are willing to use pandas you could do something like this. I am making a few assumptions about the data here. I am assuming size value equals the number of rows in your csv file. I am assuming you know the date and what you want to use as a name for the label.  This code will get you the rows in the csv file and create a dictionary for each row and put it in a list. 


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.startswith
https://docs.python.org/3/tutorial/classes.html#generators
https://docs.python.org/3/library/csv.html#csv.reader
https://docs.python.org/3/library/csv.html#csv.DictReader
