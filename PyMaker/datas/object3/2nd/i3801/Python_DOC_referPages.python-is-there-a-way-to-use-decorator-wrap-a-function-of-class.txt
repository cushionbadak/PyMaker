Natural Text
Finally I fix this ask use code like this:(2018-06-03)That's not pyhonic right?I'm new guy to python//////oldThere is error infoï¼šprt() missing 1 required positional argument: 'v'It seems need a parameter named 'self' but how can i pass it?//edit (2018-06-01)Thanks to all.I ask this cause I try write a python web framework.And I want route to a method of class like belowBut existing do like below.It's no need or nobody to do this in python?Now I fixed this problem use @staticmethod
Decorators are applied when the function is declared, so just before the class is created to which the functions are registered as methods.So  passed into your decorator is not bound to an instance, and you can't just call it without explicitly passing in an instance. Moreover, you don't have access to the instance stored in , that's created entirely outside of the decorator.You'd have to explicitly pass along the instance to call the method on:or register methods after creating an instance, in the  method. Methods are bound when you look them up as an attribute on an instance, via the decriptor protocol. Only bound methods have a reference to the instance that is to be bound to :If you do fix your registration to store bound methods, you'll need to take into account that the registration is now an extra reference to the instance, keeping it alive in memory even if all other references to the instance are removed. If this is an issue, you'd need to use weak references to the unbound function and the instance, not to the method, as methods are created dynamically and generally have no other references to them. See using python WeakSet to enable a callback functionality


Answer URL
https://docs.python.org/3/howto/descriptor.html
