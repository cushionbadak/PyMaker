Natural Text
this is a method that I made chained DB query calls.I should mock . I tried some but nothing worked. Here are my trials.In this attempt if I try to print  I get a  object which seems fine. But when I run  I got following error.Seems like I did something wrong while mocking. What is my mistake? I checked the documentation.
You're simply mocking the wrong thing, and asserting that the chain of calls should return an actual list with given items, not a magic mock object. Instead of , which would simply mock access to the attribute of the same name, you should be using the , as you've done in the final step. Given the chainyou should be mockingOn the other hand in  in the assertion you're doingso


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.return_value
