Natural Text
This question already has an answer here:Python 3 bytes formatting                    4 answers                I know this question has been asked before, but couldn't get it working for me though.What I want to do is sent a prefix with my message like so:This gives meI tried formatting with  and encoding but none of them worked.
You can't  a  literal. You also can't concatenate  objects with  objects. Instead, put the whole thing together as a , and then convert it to  using the proper encoding.Or if you're a fan of one-liners:According your comment on @Jan-Philip's answer, you need to specify how many bytes you're about to transfer? Given that, you'll need to encode the message first, so you can properly determine how many bytes it will be when you send it. The  function produces a proper byte-count when called on , so something like this should work for arbitrary text:
Edit: I think I misunderstood your question. Your issue is that you can't get the length into a bytes object, right?Okay, you would usually use the  module for that, in this fashion:This writes the length of the (binary!) message into a four byte integer object. The return value of  is this object (of type ). For decoding this on the receiving end you need to read exactly the first 4 bytes of your message into a bytes object. Let's call this . Decoding is done using , using the same format specifier (!i) in this case:Then you know exactly how many of the following bytes belong to the message: . Read exactly that many bytes, and decode the message. Old answer:In Python 3, the  operator returns what we want:


Answer URL
https://docs.python.org/3/library/stdtypes.html#bytes-and-bytearray-operations
