Natural Text
I'm using asyncio with the requests module to make an asynchronous HTTP request.I can make a GET request like this:However, I need to do support Basic HTTP Auth (described here) in the request.According to the documentation, url and auth are both named parameters for requests.get().But, if I run this (note the addition of url='' and auth = ''):I get this error:In the prototype for asyncio.run_in_executor(), additional arguments are supported:requests.get() clearly supports named parameters (get, auth, etc.). What's wrong?
Two ways to do that. Create a wrapper function, or just use a session to provide the auth.Using a session:Writing a wrapper function (note that I'm using  for clarity here, but that a  would obviously work too):
This is actually a design decision in . From the docstring of asyncio/base_events.py:Note the last sentence there.The asyncio PEP notes this as well, and recommends a lambda to work around it:This convention specifically does not support keyword arguments.  Keyword arguments are used to pass optional extra information about  the callback. This allows graceful evolution of the API without having  to worry about whether a keyword might be significant to a callee  somewhere. If you have a callback that must be called with a keyword  argument, you can use a lambda. For example:


Answer URL
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-pass-keywords
