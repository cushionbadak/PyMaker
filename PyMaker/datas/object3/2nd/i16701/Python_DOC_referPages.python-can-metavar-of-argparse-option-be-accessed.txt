Natural Text
I was wondering if there was a way to use the metavar from argparse be grabbed from elsewhere.  Example, there is a -f FILE option, and a -d DIR option. Can I make the help of -d grab the file.metavar or some such?Maybe:  I know this code is wrong (string doesn't have metavar and options doesn't get set until the parser.parse_args() is run), but I have a few other times I want to just grab the metavar without having a bunch of:  floating around.Thanks.EDIT: s/add_option/add_argument/
In  it is .  This method returns an  object (actually a subclass of that depending the  parameter).  You can access various parameters of that object, either to use, or even change.  For example:The  reads:usage: ipython [-h] [-f FILE] [-d DIR]I removed  since that is the default value (no big deal though).I changed the  values to use .  This is used to incorporate various  attributes.  Most commonly it is used for the . https://docs.python.org/3/library/argparse.html#helpThe help strings can include various format specifiers to avoid repetition of things like the program name or the argument default. The available specifiers include the program name, %(prog)s and most keyword arguments to add_argument(), e.g. %(default)s, %(type)s, etc.:I am using  to place  in the help line for .  It's not a common usage, but I don't see anything wrong with it.Note that  is used once when setting up the parser (to create the  help line), and then later when the  is formatted. style formatting can be use for but  style has to be used for .  Unless you didAfter creating both actions you even could use:But that's just ordinary Python coding.
According to the docs for the  argument, the help text can contain format specifiers like , , etc. You can write  and it will be expanded to the value of the metavar (or  if it's not specified).I don't think there's a way to grab another's argument metavar.


Answer URL
https://docs.python.org/3/library/argparse.html#help
