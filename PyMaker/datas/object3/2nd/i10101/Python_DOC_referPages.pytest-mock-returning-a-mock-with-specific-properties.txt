Natural Text
I found I often use same pattern in tests again and again:It would be used for testing (with patching) that type of code:Is any way to make that 'double mock' thing shorter?
You can do like this:
You should be able to do this by passing in a dictionary to the constructor, as described in the configure mock section of the docs, instead of configuring it after the MagicMock is created.I believe the following would achieve the desired result:


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.configure_mock
