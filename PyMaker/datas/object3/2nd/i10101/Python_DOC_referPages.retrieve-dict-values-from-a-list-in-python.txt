Natural Text
I have a dictionary where the values are lists of different lengths like so:I would like to convert it to a list of tuples for upload to a database:The most recent thing I have tried is:This does not work, but I can't tell why. Thanks for any help!
It feels like you're over-complicating it a bit...It should only require 2 loops:The first loop is over the dictionary items, the inner loop is over the values list.  For each value in the values list, just append a tuple that holds the key and the value to your resultant list.And, FWIW, there are lots of other spellings here:Or even a 1-liner:though I'm not a huge fan of the 1-line version...As for why your version doesn't work, let's take a look and find out:The first thing that we see is you have an extra loop.  For each key, you'll be hitting some of the values twice when you only want to hit them once.  You could fix it by removing the loop over :But, this is already a more verbose (and, IMHO, confusing) way to write it out than the options I've provided above.
You should avoid for loops in python where possible, its very inefficient. Use list comprehension as the most pythonic way to do this. stack is the name of the dict:

Using itertools and zip:or:itertools.repeat could also be used in place of itertools.cycle.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.cycle
https://docs.python.org/3/library/itertools.html#itertools.repeat
