Natural Text
I got a very useful answer for this problem here earlier this year, but there I could use pandas. Now I have to do it with pure Python.There is a dict like this:Now I want to convert this in a nested dict like this:How can I do this with an elegant diction comprehension? I just can't get my head around it.
I'd not do this with a dict comprenhesion. Just use a simple loop:Demo:To do the same with a dict comprehension is possible, but you need to then sort the keys and use  to group the keys on on the first tuple element. The sorting takes O(NlogN) time, and a simple loop like the above beats that easily.Still, for completeness sake:
Naive solution:Output:


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
https://docs.python.org/3/library/stdtypes.html#dict.setdefault
