Natural Text
I'd appreciate some help with threading, which I pretty new to. The example code is not exactly what I’m doing (‘notepad’ and ‘calc’ are just example commands), but a simplified version that shows my problem.I want to run two seperate threads that each run a different command a number of times. I would like the code to do this:Start the first instance of ‘notepad’ and ‘calc’ simultaneously(which it does) When I close an instance of ‘notepad’, to open thenext instance of ‘notepad’. When I close an instance of ‘calc’, toopen the next instance of ‘calc’.[edit] I want the script to wait until both threads have finished, as it needs to do some processing of the output from these.However, when I close an instance of ‘notepad’, the next instance of ‘notepad’ does not start until I’ve closed the current instance of ‘calc’ and vice versa. With a bit of de-bugging, it looks like the process (from Popen) for the closed instance of 'notepad' doesn't finish until the current 'calc' is closed.Running Python 2.7 on Windows 7Example Code:Thanks in advance :-)Nick
So the  method is apparently waiting for all processes created by  and executing  and started at nearly the same time to terminate. Since the  that runs  starts at nearly the same time as the  that runs , both  calls (one in  and one in ) wait until both processes term. Thus neither  loop advances until both processes term.Adding a delay between starting the two threads fixes the problem. So, leaving your original code unchanged and adding  between the two   produces the desired behavior.On my system, adding a delay of 0.0001 seconds reliably fixed the problem whereas a delay of 0.00001 did not.


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.check_output
