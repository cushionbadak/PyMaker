Natural Text
I have a class with a method that looks like this:The idea is that several of these are run in their own thread and at some point one thread does , which naturally stops all others. I want to switch to asyncio for this, because the tasks in  are mostly sleeping and doing IO. Thus, I got to:The problem is that the  cannot be waited on, so when it is set, there are at most 3 seconds to wait before the method completes. This is a problem, because the sleep time may be minutes. Currently, I am working around this by wrapping the  in an  and then cancelling it like .I want to ask if there is a better way to achieve the above? Is there a way I can wait on an  with a timeout somehow, similar to the ?
Is there a way I can wait on an  with a timeout somehow, similar to the ? makes it convenient to add timeout to any coroutine. An emulation of  with timeout could look like this:This allows a  almost exactly like the one that used :


Answer URL
https://docs.python.org/3/library/asyncio-task.html#asyncio.wait_for
https://docs.python.org/3/library/asyncio-sync.html
