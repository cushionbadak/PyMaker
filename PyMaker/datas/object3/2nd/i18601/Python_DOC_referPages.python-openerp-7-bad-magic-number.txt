Natural Text
I've been testing the OpenERP import on the products table.  I have 25k+ products to import and the OpenERP import is really, really slow... so, I came across a script that does a direct import into PostgresQL.  I tried it and I'm getting a "bad magic number" error.  I watched this vid:  http://www.firstclasscomputerconsulting.com/OpenERP/OpenERP70Videos/tabid/145/articleType/ArticleView/articleId/3/Import-data-into-OpenERP-7-using-direct-PostGRES-method.aspx  which uses the same script and I'm doing exactly the same thing.My import file looks like this:I created both the py file and the .csv using Zeus for windows.I read the other threads on this error on this site, but I didn't see any references to this problem in conjunction with OpenERP.Here's the script:Any suggestions?I copied the py file and the csv into my Python33 directory and tried from there, now I get a syntax error on the "print row[1]" line... wth?
The bad magic number error is not specific to OpenERP at all, it's related to Python internals.As you've probably read in other questions, it's often a symptom of using Python  files produced with a different version of Python. Have you made sure all to delete all the  or  files that you can find next to your Python script, as explained e.g. in this other question?If you've initially tried to run the script with Python 3 (and failed because of the syntax error), you need to delete these artifacts before you can run them with Python 2.As for the syntax error you get when you try to run the script with Python 3, it's because your script uses Python 2 syntax. In Python 3  is not a keyword anymore, it's builtin function that you need to call like a normal function:You can start with this guide if you want to convert your code to Python 3, but it's not trivial if you're not familiar with Python concepts like encoding, bytestrings vs unicode strings, etc., especially when file reading operations are involved, like here.In your script you would typically need to correct the  call and change the  to this form (as indicated in the documentation):


Answer URL
