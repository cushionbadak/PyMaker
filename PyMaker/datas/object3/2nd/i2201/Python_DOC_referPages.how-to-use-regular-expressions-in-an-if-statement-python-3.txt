Natural Text
EDIT: It seems my error was caused by a simple oversight on my part & should be and in python. Thanks for the help everyone!I'm trying to teach myself python and as such I want to make a simple script that calculates my hours worked for my current job. It seems I can't find any good sources on how to use regex expressions in conditional if and elif statements. What I'm trying to do is check if my start time has a period of am or pm and whether my end time has a period of am or pm this way depending on the combination I can add the total hours worked up accurately.To do this I am using regex to check the end of my input for am or pm. I then see which combination the times I sent in have, e.g. start_time = 8:00am and end_time = 11:23am so this should have matches for start_match_am and for end_match_amMy complete code is as follows:First I want to say I know I don't handle adding minutes together correctly at the moment, I wrote that when I was very tired and will be fixing when I get the regex to work. The issue specifically is happening at this line:The error I get is:This has really stumped me as the following posts on here specifically state this is how you use regex in conditional if statements:Python: How to use RegEx in an if statement?Regular Expression in conditional statement using Python 3If anyone can point out a simple mistake I'm making or let others in a similar situation to me know how to properly use regex in conditional if statements in python 3 it would be much appreciated!
re.search returns either a match object or None. First, call re.search and store its value in a variable and then test if it is None. Just make sure you test if it is not None, before you try to extract values from it.Also, you don't need to use  to check if something is equal to none, simply test it as if it were a boolean.Finally, you seem to want to extract data from a regular expression. If you want to do this, you can call  on the regex to get the content of the match (actually the first group, but you read more about this on the regex page, this should work for your purposes). Then convert the result to whatever you need.  For example, you can find and extract the first number in a string and test if it is greater than some value like the following:Hope this helps.  Go check out the docs if you want to see more on regexes.Docs: https://docs.python.org/3/library/re.html
Please note that I'm aware that my answer is not an answer to your question - however, I feel like it's still important to tell you the following.Regex is a very powerful tool, which has it's target applications or problems to be solved with. But IMO, yours is not a regex topic.There is a library for python which can deal with date and time. Please consider using an approach like this one:Note that the major part of the program is because of the doubled error catching of user input. But still I think this is a very convenient way. And: your complicated calculation is just a simple substraction here...So this will lead to a program from user perspective like:Just watch through it, perhaps you'll like it and work on in this direction by yourself.And still, if you really have to test  because it's so interesting - there'll be other problems for that...


Answer URL
https://docs.python.org/3/library/re.html
