Natural Text
I use statistics.mean() to calculate mean from sampled distribution. However, in the following code, the returned value from the following value is rounded integer. If I use numpy.mean() instead, will get the correct float typed results. So what is going on here?
 does not support the  data type.From the docs for :Unless explicitly noted otherwise, these functions support int, float,  decimal.Decimal and fractions.Fraction. Behaviour with other types  (whether in the numeric tower or not) is currently unsupported. Mixed  types are also undefined and implementation-dependent. If your input  data consists of mixed types, you may be able to use map() to ensure a  consistent result, e.g. map(float, input_data).To get around this, you can do as suggested, and convert your data to  before passing to .Now for the underlying reason behind this behaviour:At the end of the source code for , there is a call to , which is meant to convert the returned value to an appropriate type (i.e. Fraction if inputs are fractions,  if inputs are  etc).A single line in  is meant to catch other data types, and ensure that the returned value is consistent with the provided data ( is the data type for each input value,  is the calculated mean):If your input is , then the  function tries to convert the calculated mean to  data type. NumPy happily converts a float to an int (rounded down I think). And hence the  function returns a mean rounded to the nearest integer, encoded as .If your input data is , then you won't have this problem.


Answer URL
https://docs.python.org/3/library/statistics.html
