Natural Text
I am trying to use ftplib to count the number of lines in a file. This is what I have come up with so far. But the line count is off by a few ( I get about 20 more ), How can I fix it / Is there a better simpler solution
You have to use , not .For :The  function is called for each block of data receivedWhile for :The  function is called for each line with a string argument containing the line with the trailing CRLF stripped.With  you get more, because if a block ends in a middle of a line, that line is counted twice.
As suggested, use , but if you must use , you will need to count on only each "\n", and not with each callback as well.


Answer URL
https://docs.python.org/3/library/ftplib.html#ftplib.FTP.retrlines
