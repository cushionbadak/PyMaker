Natural Text
Similar questions to this have been asked and answered but none dealt with this specific question.When running this code (Not this code exactly, this is just stripped down to the basic logic.) I get:SyntaxWarning: name 'EXAMPLE_GLOBAL' is used prior to global declaration  global EXAMPLE_GLOBALI was under the impression that to change the value of a global variable you must first specify that you were referencing the global variable when you went to a new scope. Do I need the second 'global EXAMPLE_GLOBAL' in order to make the change to the global or is using the same identifier enough?
I was under the impression that to change the value of a global variable you must first specify that you were referencing the global variable when you went to a new scopeYes, that's right. But conventionally, the global statement should go at the opening of that scope. In other words, put it at the top of your function.The documentation explicitly recommends against referring to a name in a block before using it in a global statement:Names listed in a global statement must not be used in the same code block textually preceding that global statement.In CPython, violating this principle only produces a warning instead of an error because the parser ignores the specific position of the global directive within a block, but that's an implementation detail and could change in the future.(Also note that you don't need the  statement on the first line. Every name at the top-level scope is already effectively global in that scope.)


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#the-global-statement
