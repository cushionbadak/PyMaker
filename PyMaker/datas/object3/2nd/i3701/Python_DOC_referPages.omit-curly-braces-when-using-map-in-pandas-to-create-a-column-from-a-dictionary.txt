Natural Text
I'm not sure if my title is clear enough, but I have the following issue: I want to use  to create a new column from a dictionary in my dataframe. This is working as intended, except for one problem: the function extracts a whole string with curly braces from the dictionary, instead of just the values. I googled extensively and couldn't find a tutorial that would lead to a different result or an answer to this question. Example:df:dict:Now I want to use .map to create a new column with values that correspond to col1, like this:Instead, what I get is this:This is the .map command that I use:I tried using , but that didn't have any effect and I guess that it doesn't have anything to do with numeric/string types of data.Any help would be appreciated, as a self-taught data analyst who is just starting out with Python, I still have trouble finding the answers in the documentation sometimes.
What's happening is your dictionary values are themselves dictionaries.So  will only map to dictionary values. It can't do anything else. There are some workarounds.Use itemgetter to extract valuesThis will extract the value for the "value" key in each dictionary.Restructure your dictionary before mappingConstruct a new dictionary with the key-mapping your desire before mapping your series.
Unless you intend to reconstruct your  before , the below approach would fit. Output:
That values in the dictionary are set to the column of dataframeThis should work fine.


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict
