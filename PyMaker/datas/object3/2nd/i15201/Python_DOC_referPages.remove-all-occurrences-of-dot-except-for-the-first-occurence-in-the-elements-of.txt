Natural Text
I have a list that I need to convert to floats. As the data is not inputted by me, there are elements that have an accidental extra period, for example . I need to be able to automatically remove all of the periods except for the first one that appears so that I don't get an error when I say .Sample list:As you can see,  has an extra decimal point. Of course, I will also need to strip the N in  but that is a separate problem.
I would do it like this:The function replaces the first occurrence of  with . Then, it removes all the ocurrences of . Finally, it replaces  back to .To apply it to all the elements of your list, write:
will split on . and rejoin only adding the first period ... it does not however do anything about 
You can use regular expressions:  means any digit,  means one or more,  matches the dot character. The parenthesis is capturing that part of the match, and later on in the  is used as  (meaning first capturing group). 
A small hack if your corrupted data contains only  at the end and more than one  ... Else you've gotta add more except clausesOutput
You can use regular expression to extract the numbers out of the list and convert them to floats right away.edit:Sorry, I haven't noticed, the digits following second decimal point are also valid. A new solution still expects the first dot is OK and all the rest are to be removed.One of the values contain N, so I suppose there might be also S which means it's southern, i.e. negative latitude. Therefore I implemented this assumption into code.Then just  it:
You can remove any letters using :You can do it in a single list comp but less efficiently:
What about this one?Output:Just being original... :)


Answer URL
https://docs.python.org/3/library/re.html
