Natural Text
I want to use different API keys for data scraping each time my program is run. For instance, I have the following 2 keys:and the following URL:When the program is run, I would like  to be using . Once it is run again, I would then like it to use  and so forth... i.e:First Run:Second Run:Sorry if this doesn't make sense, but does anyone know a way to do this? I have no idea.EDIT:To avoid confusion, I've had a look at this answer. But this doesn't answer my query. My target is to cycle between the variables between executions of my script.
Here is an example of how you can do it with automatic file creation if no such file exists:
I would use a persistent dictionary (it's like a database but more lightweight). That way you can easily store the options and the one to visit next.There's already a library in the standard library that provides such a persistent dictionary: :And each call to  will return the next option - no matter if you call it several times in the same execution or once per execution.The logic could be simplified if you never have more than 2 options:But I thought it might be worthwhile to have a way that can easily handle multiple options.
I would rely on an external process to hold which key was used last time, or even simpler I would count executions of the script and use a key if execution count is an odd number, or the other key for an even number.So I would introduce something like redis, which will also help a lot for other (future ?) features you may want to add in your project. redis is one of those tools that always give benefits at almost no cost, it's very practical to be able to rely on an external permanent storage - it can serve many purposes.So here is how I would do it:first make sure redis-server is running (can be started automatically as a daemon, depends on your system)install Python redis modulethen, here is some Python code for inspiration:That's it !


Answer URL
https://docs.python.org/3/library/shelve.html
