Natural Text
I have a simple program which looks through a file, finds any numbers inside, and adds them up into a variable called running_total.  My issue seems to be that my file name is the thing that is being read instead of its contents.  What am I missing?
 is a string denoting a filename when it comes out of the  function, and it remains a string. So when you iterate over it, you get the letters of the filename one by one.   When you call  that returns an object that can be iterated over to provide file content, but you are not currently giving that object a name or re-using it.  You really mean something like:...although the more idiomatic, Pythonic way is to use a  statement:Note that the variable  is an object whose class is called  (which is one of the reasons I've changed the variable names here).
I think you'll want to start the running total to a number that can be added to. Then, you need to get the file handle And the regex  makes rstrip unnecessary Also here https://stackoverflow.com/a/35592562/2308683
Use "with open() as" to read your file, because it should close automatically. Otherwise you need to explicitly tell it to close the file. Assigning running_total as None threw me errors, but giving it a value of 0 fixed this issue. Also, instead of using regex and stripping lines, just use isnumeric(). This also removes the second for loop you're using, which should be more efficient. I tested this with a txt file containing numbers on their own rows and numbers imbedded in words and it correctly found all instances. Edit: I just realized the poster wanted to sum all the numbers, not find all the instances. Changed  to . 


Answer URL
https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files
