Natural Text
Is there any way to delay the evaluation of a Mock side_effect.The problem here is that I'm trying to replace the 'wheel.make' method such that when it is called under test, mockfunc is instead called and one of the wheel attributes is set instead of running the usual method.Thing is - when I set the side_effect, the mockfunc call happens immediately, The rubber attribute is set to soft. I don't want this to happen until the method wheel.make is called.
According to  documentation it should be a callable, an iterable or an exception (class or object). Moreover I guess you want to replace a unboundmethod  in 's Class: to do these kind of patching you should use  or  as context or decorator as described here.Follow is a complete example of how to do it:And the output is


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
https://docs.python.org/3/library/unittest.mock.html#patch
https://docs.python.org/3/library/unittest.mock-examples.html#mocking-unbound-methods
