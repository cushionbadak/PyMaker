Natural Text
when using Python's stock XML tools such as  for XML writing, a file would always start off likeWhile this is perfectly legal XML code, and it's even recommended to use the header, I'd like to get rid of it as one of the programs I'm working with has problems here.I can't seem to find the appropriate option in , so I wondered if there are other packages which do allow to neglect the header.Cheers,Nico
Unfortunately  does not give you the option to omit the XML Declaration.But you can always serialise the document content yourself by calling  on the document's root element instead of the . Then you won't get an XML Declaration:...but then you also wouldn't get anything else outside the root element, such as the DOCTYPE, or any comments or processing instructions. If you need them, serialise each child of the document object one by one:I wondered if there are other packages which do allow to neglect the header.DOM Level 3 LS defines an  config parameter you can use to suppress it. The only Python implementation I know of is , which is thorough on standards support, but not at all fast.
If you want to use minidom and maintain 'prettiness', how about this as a quick/hacky fix:xml_without_declaration.py:
If you're set on using minidom, just scan back in the file and remove the first line after writing all the XML you need. 
You might be able to use a custom file-like object which removes the first tag, e.g:or something similar. This has the advantage the file doesn't have to be totally rewritten if the XML files are fairly large.
Purists may not like to hear this, but I have found using an XML parser to generate XML to be overkill. Just generate it directly as strings. This also lets you generate files larger than you can keep in memory, which you can't do with DOM. Reading XML is another story.
The header is print in . If you print the node directly, it won't print the header.
Just replace the first line with blank:


Answer URL
https://docs.python.org/3/library/xml.dom.minidom.html
