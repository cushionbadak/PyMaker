Natural Text
I get a  writing text with a special character to a file:My code:The data is probably some weird character from something like Microsoft Word that got pasted into the application's HTML form and it got persisted, now I am importing it. I can't even see it, shows as a diamond in my DB editor when I query it. It just has a placeholder in the text editor. The input should be more rigorously checked for character set compliance but it is not.Is there a way to encode the data to make any character digestable for I/O processing?Alternatively, is there a way to check whether my str is compliant to the character standard expected by file IO in order to do replacements of any data that violates it?
Your problem is that opening in text mode on your Windows system defaulted to the locale code page, , an ASCII superset that only encodes a tiny fraction of the Unicode range.To fix, supply a more comprehensive encoding that can support the whole Unicode range;  accepts a keyword argument to override the default encoding, so it's as simple as changing:toDepending on your needs, I'd choose either  or ; the former is more compact for mostly ASCII text, and is commonly seen everywhere, while the latter matches Microsoft's typical encoding for storing portable (non-locale dependent) text, so it's possible a few Windows-specific text editors would recognize it/handle it more easily.


Answer URL
https://docs.python.org/3/library/functions.html#open
