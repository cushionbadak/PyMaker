Natural Text
I'm try to write a python function that takes a dict with movie titles as keys and a list of performers in that movie as values, and returns a new dict with performers as keys and the movies they appear in as values. This code comes close, but returns something different for each run.Here is the original function call:Here is the code:Here is the output:I think its either iterating through the dict items in a different order each run, or saving data from one run to the next. Either way I can't seem to resolve it.
I don't really get why you're keeping a  list around. You can just use the ones you created previously in the  itself.Here's something I think will work:
prints:
The mistake in your code is that the  instance  is persisting from one loop iteration to the next. That's why (say) Alison Brie has The Lego Movie listed twiceâ€”it was really supposed to be added for another actor, but the  instance previously created for Alison Brie was still occupying the name slot .  In fact it looks like multiple actors might be sharing that same  instance.You can simplify the code a lot if you use the "default value" concept when accessing your dictionary.  This is either done by using the  class:or my preferred way would be with a vanilla  and its  method:Either way, you can treat each new movie uniformly without having to test explicitly for the actor's prior membership of .


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.setdefault
https://docs.python.org/3/library/collections.html#collections.OrderedDict
