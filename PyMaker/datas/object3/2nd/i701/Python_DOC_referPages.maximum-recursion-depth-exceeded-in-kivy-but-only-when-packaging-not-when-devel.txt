Natural Text
I am trying to pack an app that requires several imports, among those matplotlib.pyplotThe kivy app (simplified, but still working) is:This app works perfectly in python using spyder.However, when I try to pack it as an independent kivy app it gives me error maximum recursion depth exceeded.I am surprised and I do not know what the problem is because:1.There are no recursive functions in the app.2.Works perfectly in python spyder while developing it and testing it, the only problem is during packaging.3.I have tried multiple options, including commenting out several portions and, most surprising, when I comment out the import matplotlib.pyplot the app packages well. However I need matplotlib.pyplot for this app so taking it out is not an option.The above code works and packages well.Is it that there is some limit of the size of the files one can import to a kivy app? I have already tried to increase the recursion limit with sys.setrecursionlimit(high numbers) but it is not a solution to this problem. I am really lost. Any insight appreciated. Thank youEdit 2/4/2019:It has been suggested that the question: pyinstaller creating EXE RuntimeError: maximum recursion depth exceeded while calling a Python object is a duplicate and answers this question. Although this is definitively a related question and is helpful, my error occurs in the first stage of the creation of the kivy package:python -m PyInstaller --name touchtracer examples-path\demo\touchtracer\main.py
When we go into a recursion, there is a risk of stack overflow and the Cpython working under the hood does not take it upon itself to optimize tail recursion, so if you go too deep, you will move closer towards a stack overflow. Generally different Cpython/python flavors have different recursion permit depth, The version of python you have running locally has a more liberal depth limit (Generally because it is assumed developers have good enough computers that this can take place). But when you use tools to package your application they generally override the sys.setrecursionlimit to a more conservative value as they try to make sure you don't cause an stack overflow on systems with lower hardware.Sadly there is no silver bullet for this problem, you can try to look into your specific manager and change the limit (Not recommended) or you can try to convert your recursive blocks into iterative blocks.
Thank you so MUCH to everybody who tried to help. I found an answer and I hope it helps other people who tries to create a kivy package and there is a problem importing python module(s).Once you have your  script ready to package:1.Start with the instructions atand do the first step: This will give you the error of  or whatever error this gives to you originally. No worries. The purpose of this step is to create an initial  file.2.Open the  file and add all the extras that the  instructions give you at that is:3.In addition to that, add at the beginning of the spec file the following:4.Also add any imports in the hidden imports that you might need.5.Just follow the last step at that is:and get your app built


Answer URL
https://docs.python.org/3/library/sys.html#sys.setrecursionlimit
