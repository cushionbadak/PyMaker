Natural Text
Suppose I want to generate a list of the set of positive integers whose square is less than 100 in python.My initial thinking was to do something like thisHowever this code won't complete, as python goes through infinitely many numbers.There are two solutions to this as far as I can tell:Put in a bound on the range of integers to go over, so use range(1000) instead of count() above.Use a while loop, incrementing x and stopping the loop when x squared is greater than or equal to 100.Neither of these solutions are elegant or (as far as I can tell) pythonic. Is there a good way to handle cases like this ,when iterating over an infinite container but you know that the loop stops at some point.Thanks!
I'd use :Literally, take while the square is less than 100
This would be a use case for :For a slice of known bounds from a (infinite) generator (not all of those have such simple finite equivalents as ), use :That being said, and with a loop-based approach being perfectly legit as well, there is a hacky way of achieving it in one line without any library tools, by causing an "artificial" :don't do this in serious code though - not just because it will stop working in Python3.7 ;-)
If you were to use range, I would write it like this.You can change 100 to what you like or set it as a variable, but you know the list of numbers will end at the square root of your target number.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.takewhile
https://docs.python.org/3/library/itertools.html#itertools.islice
https://docs.python.org/3/library/exceptions.html#StopIteration
