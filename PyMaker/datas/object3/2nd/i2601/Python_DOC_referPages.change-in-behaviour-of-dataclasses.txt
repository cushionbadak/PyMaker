Natural Text
I am working on release 3.7.1 of the Transcrypt Python to JavaScript compiler.Part of the release procedure is a shipment test, in which Transcrypt is tested back to back with CPython.It used to run flawlessly with the beta's of CPython 3.7, but with the release there's a problem.The program:used to print (using CPython):but with the release it prints (again just using CPython):So it leaves out the class variable x from the representation.Can anyone tell my whether or not this change is intentional,and where I can find a discussion that justifies it?With this change Transcrypt behaves differently from CPython, which I don't want.So I wonder should I adapt Transcrypt or should I consider this a CPython regression and wait for it to be solved.
From the documentation:30.6.3. Class variablesOne of two places where  actually inspects the type of a  field is to determine if a field is a class variable as defined in PEP  526. It does this by checking if the type of the field is . If a field is a , it is excluded from  consideration as a field and is ignored by the dataclass mechanisms.  Such  pseudo-fields are not returned by the module-level   function.So, this appears to be an intentional change.


Answer URL
https://docs.python.org/3/library/dataclasses.html#class-variables
https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass
https://docs.python.org/3/library/dataclasses.html#dataclasses.fields
