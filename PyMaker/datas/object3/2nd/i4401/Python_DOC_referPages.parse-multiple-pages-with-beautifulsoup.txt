Natural Text
I've seen this answered in several places but can't seem to get it to work in my script below where I want to parse several pages until the end:My script should be inside the page loop but whenever I put it inside I'm getting indent errors. Does that mean I need to indent the entire script? Or is it the loop that does not work with my script?Regarding the template.html and css I can see that I need to populate a template with the scraped data but for example if I want to allocate each of the 5 elements in "value" of "auction" I can't seem to find a way of allocate each element separately. The current code seems to loop through each value but in the case where I need to give each value a different class tag then I need to differentiate all 5 elements which I can't figure out how to do.As you can see here I can append the tags but the same value is being repeated instead of looping through each value.
You can either put your script inside the page loop and construct the HTML between the requests or first get all the auctions, store them in some data structure, e.g. a list and then loop over it appending the rows to the HTML. I followed the second approach, because it was closer to what you already had. I refactored the code a bit and added:It breaks the loop after it fails to find an  tag with the  text inside, which means that's the last page. What I dislike is creating headers for the table and inserting styles programmatically. If I were you, I'd just create a "template" HTML that has all the styles, page title, table included and read it from the file. You could then just append the rows to the  of the table. You can also include links to the auctions instead of bare text.The following code works and produces an html with 1300+ auctions last time I checked:
So I managed to solve the second part of my problem with the code below. Instead of trying to modify the elements already in the "auction" object I just went straight to the source and added the tags when they were extracted.Another issue I encountered was adding a class to a div tag which need to be done by adding ** such as 


Answer URL
https://docs.python.org/3/library/collections.html#collections.namedtuple
