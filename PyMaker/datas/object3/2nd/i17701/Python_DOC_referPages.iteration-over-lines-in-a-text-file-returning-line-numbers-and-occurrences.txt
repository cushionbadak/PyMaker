Natural Text
I am attempting to write this code which can act as an index of sorts to sift through text files and return the occurrences of strings and which line they were on.  I'm getting closer, but I've run into an issue with my iteration and I can't figure out what to do.I filled my .txt file with generic terms so it looks like this:When I feed a list of strings such as:I get the following output:So it is giving me the term and line number for the first string in the list, but it isn't continuing on to the next string.  Any advice?  If I could possibly optimize the output to contain the line numbers to a single print that would appreciated.
Once file is read, the current file position is changed. Once the file position reached the end of the file, reading file yield empty string.You need to rewind the file positition using  to re-read the file.But, instead of rewinding, I would rather do as follow (using  and  operator): executes arbitrary expression. Instead of using , how about using  ?
Since when you reach the end of the file any attempt to read the file will yield an empty string, your program fails. One way to get over this is to use  and store the lines in a list:However, this is a bit inefficient for large files since it'll load the whole file into the buffer in memory. As an alternative, you can loop through the lines, and then call  when you're done. That way the seek is back to the beginning of the file, and you can reloop it again. It works this way:Also, as @falsetru mentioned in his answer, avoid using  since it evaluates any expression you put in there, and this cand lead to unexpected input problems. Use a  separated values, and then do .Hope this helps!
If you try to loop over a file object repeatedly, any attempt after the first will start at the end of the file and immediately halt. There are several ways you could handle this; you could change your algorithm to work in a single pass over the file, or you could save the file's contents to some other data structure and then analyze that instead of the file, or you could use  to return to the start of the file between loops.


Answer URL
