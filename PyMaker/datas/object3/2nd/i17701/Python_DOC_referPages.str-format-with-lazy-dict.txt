Natural Text
I want to use  and pass it a custom lazy dictionary. should only access the key in the lazy dict it needs.Is this possible?Which interface needs to be implemented by the lazy_dict?UpdateThis is not what I want:I need something like this:Need to run on Python2.7
For doing , especially the  part, the "lazy" dict is transformed into a regular one. Here happens the access to all keys, and  can't do anything about it.You could craft some proxy objects which are put in place of the elements, and on string access they do the "real" work.Something likeYou can put these elements into a dict, such asI didn't test this, but I think this fulfills your needs.After the last edit, it now works with  and  as well.
You can use the  method (Python 3 only). See the doc here.
If I understand your question correctly, you want to pass a custom dictionary, that would compute values only when needed. First, we're looking for implementation of :This shows that only key  is accessed;  is not, so you already have your lazy access. But also, any object attribute is usable for  this way, and using  decorator, you can access function results: Example of usage:But note that this also works, making the formating string a little bit specific, but avoid the need for  implementation.


Answer URL
