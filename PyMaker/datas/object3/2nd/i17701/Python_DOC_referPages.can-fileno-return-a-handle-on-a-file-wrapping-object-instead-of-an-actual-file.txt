Natural Text
As part of a python project I'm writing, I have an object that wraps up the stdout stream and a file. The  method on my class then writes to both the stream and the file. I then set sys.stdout to be my object so that any  call  - i.e.  - will both be written to stdout and to my logfile. This all works fine.Simplified, it looks a bit like this:This worked fine until I started using calls to the subprocess module. The Popen code, calls  on its stdout. Other questions suggest calling fileno on the wrapped object. But I have two wrapped objects. If I return either one, stdout is only written to that stream/file and not the other.Is there anything I can return from  that will allow  my class to write to both streams?
Short answer is, you cannot. Subprocess directly passes the stdout descriptor you give it to the process it creates. As your wrapper class is not an operating system file, it cannot be passed directly to the new process.You could use  to buffer the data, but in that case it would be better to just use the  value for stdout and use  to retrieve the data written to stdout by the process.


Answer URL
