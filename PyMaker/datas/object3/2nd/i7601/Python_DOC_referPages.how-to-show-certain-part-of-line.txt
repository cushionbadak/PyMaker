Natural Text
I have text "podaci.txt" file like this:Where  and  are pin codes.And code like this:How to show account balance for logged in user?My problem is that the python always show only accaunt balance of last user.For example, if I login as , it still will show  as my account
The problem with your code is that you don't keep the data of each line. Instead, you overwrite  with every iteration of your for loop. As a result, only the last value is kept, which corresponds to the last line in your file.You can do it like so:What we are doing here is the following:Open the file using a  statement, which you can read abouthere.Read all lines in the file and loop through them.Split each line using the  character as our delimiter.Check if the 4th item (index 3) in the list is same as .If so, return the 5th item, which is the balance. If not, return 0.Of course, this solution is far from ideal. I made it as simple as possible so that it is easy to understand. There are many ways to improve it. For instance, you should add some form of redundancy.What I have done here is I have added an extra  statement that makes sure that the line has the number of items that is expected of a valid entry. This way, reading a line that is empty or invalid won't cause an exception.The absolute best solution however (besides using a proper database) is to use a class to hold our entry data:This way, our data is much more organized, and adding features is much more simple. For the final example I have also modified the code to read the file and load the accounts only once, which would have been very hard to do without using a class.Just for fun, you can take it one step further by moving all the string processing to the actual class:
You loop through all lines of your file but always overwrite the account_balance.create your account_balance as dictionary like:and in the for loop store the balance in the correct field. to access the value use the key


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#the-with-statement
https://docs.python.org/3/tutorial/classes.html
