Natural Text
I am trying to work out a good regular expression for a python comment(s) that is located within a long string. So far I haveregex:string:I feel like there is a much better way to get all of the individual comments from the string, but I am not an expert in regular expressions. Does anyone have a better solution?
Get the comments from matched group at index 1.DEMOSample code:Matches:
Since this is a python code in the string, I'd use  module to parse it and extract comments:Prints:Note that the code in the string has a syntax error: missing  after the  function definition.Also, note that  module would not help here, since it doesn't preserve comments.
Regex will work fine if you do two things:Remove all string literals (since they can contain  characters).Capture everything that starts with a  character and proceeds to the end of the line.Below is a demonstration: removes anything of the form  or .  This saves you from having to worry about comments that are inside string literals. sets the dot-all flag, which allows  to match newline characters.Lastly,  gets everything that starts with a  character and proceeds to the end of the line.For a more complete test, place this sample code in a file named :The solution given above still works:


Answer URL
https://docs.python.org/3/library/re.html#re.sub
https://docs.python.org/3/library/re.html#re.DOTALL
https://docs.python.org/3/library/re.html#re.findall
