Natural Text
I am confused about these code: is announced as a list, it works well, while  in  will cause  error. Why? 
In your code  is the reference of the list and with  you try to access the 0th index of the  list. Hence, when you do:you are accessing the same  object defined outside the  function.But that's not the case with . When you do:You are trying to create a new  object and in this case  won't read the value of  from the outer scope. In order to access the  from the outer scope, you may use  keyword (available since Python 3.x). Hence, your code should be as:But since you are using Python 2.x and  is not available in it, you may do a workaround via using  to store  variable as:Please also take a look at:Assigning to variable from parent function: “Local variable referenced before assignment”UnboundLocalError in Python
First, you can access but not modify a variable which is beyond current scope. If you really want to do this, you have to use key word .Second,  is actually a reference of an instance of list object, so if you don't change what it refer, it is not a modification direct to this variable.Third,  is a real value, and changing it's value means a modification direct to this variable.You can test this by replace  with . It will cause exception too.
Because  assigns to , which implicitly creates  as a local variable in , which in turn makes all references to  in  refer to this local variable. So at this line:You're trying to read from a variable that hasn't been initialized yet. is different because  only reads from ; it never assigns to it:This reads from  to get the contained list, then modifies the first element.
you need to use nonlocal keyword because in python variable follow LEGB rules means it is first look for local, enclosing, global , Built-in scope. Here you are accessing enclosing variable so you should use nonlocal in front of variable.   


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#the-nonlocal-statement
