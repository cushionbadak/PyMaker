Natural Text
I would like to ask: how to write a python program to calculate 1 hour has been passed since we started a python program?I take an example:- We started the python program at 17:00:00- After running 1 hour (at 18:00:00), python program will print a message to inform 1 hour has been passed.I can figure out a python program. Firstly, I record the time at starting the program (called ), then I continuously record the next time (called ). If the ( -  == 1 hour), it prints a message.However it seems the program wastes so much CPU performance! I need a program that take less CPU performance.EDIT:I need as below.I have a thread name . It is a blocking thread. If event   is not set, this thread is blocked.During blocking time, if 1 hour has been passed, this thread print out a message.That is my expectation.Previously, I said that I continuously record next time (call ). It meant I intended change from blocking thread to non-blocking thread because I did not know how to print a message in blocked thread if 1 hour has been passed. But it seems non-blocking thread take so much CPU performance.This is my code:MY EXPECTATION: blocking thread
As it turned out you needed to use the timeout parameter of  and check if the event has been set upon return or not:This'll keep on printing the diagnostic message between hour(ish) intervals, if the Event is not set.  might behave badly if your system clock jumps backwards.
More details in documentation Thanks to @Ilja Everil√§ for the corrections and improvements
You could take advantage of multi-threading and create a separate thread that runs separately from the rest of the code. That thread simply sleeps for 1h and then prints "1h have been passed" then sleeps again for another hour.To put it in code form, you will need something like this:and in your main() add something like:of course there are many multi-threading libraries you can use to make the code look fancy. Like the  module.You can find more on this topic here:https://www.tutorialspoint.com/python3/python_multithreading.htm
I suggest after one hour you use where  being as high as possible without affecting your program.
start a thread which will call a function  after every hour and print message. you can write the code like this with your main function:import threadingThis will call the print function after every hour and print the message.


Answer URL
https://docs.python.org/3/library/threading.html?highlight=timer#threading.Timer
