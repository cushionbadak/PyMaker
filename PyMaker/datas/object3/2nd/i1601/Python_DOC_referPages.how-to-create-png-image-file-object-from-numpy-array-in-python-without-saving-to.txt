Natural Text
I need to submit PNG-images to a blackbox server with a http request. I use python3 to generate images in a numpy 64x64x3 array. What I currently do is:Generate imageSave image with scipy.misc.toimage to diskOpen saved image file from diskUse requests module to send http requests with the image opened image file object in itThis works perfectly fine, but I want to get rid of step 2 and 3, so I do not need to save my object to disk first and then load it again. Instead I would like to convert my numpy array in a file-object that is compatible with the http server and send it directly. (Like one you get from open() )I know it is easy to convert from numpy array to PNG-image with PIL for example, but I only find how to do that combined with saving to disk in one function.Thank you very much for any help!This is my code so far:I want this:
You can use an in memory iostream with savefig (https://docs.python.org/3/library/io.html#io.BytesIO)To verify that this worked  can be compared with the actual file as saved to disk.Edit You're looking at using scipy and pil rather than matplotlib but the answer should work the same, including the  keyword for saving.


Answer URL
https://docs.python.org/3/library/io.html#io.BytesIO
