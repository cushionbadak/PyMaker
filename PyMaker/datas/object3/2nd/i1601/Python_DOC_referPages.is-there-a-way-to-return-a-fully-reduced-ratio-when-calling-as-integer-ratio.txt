Natural Text
I noticed something strange when calling .as_integer_ratio() on some floats. for example:This will return a tuple:(2476979795053773, 1125899906842624)I was wondering if I could get it to return 11/5 directly somehow?
Floating point can't actually represent most values as typed. 2.2 is a convenient shorthand for the closest value to 2.2, but 2.2 doesn't actually exist:If you want decimal accurate representations, you'll need to use the  module instead of :
The answer by @ShadowRanger is correct. The value "2.2" is converted to the closest binary fraction. And  returns that binary fraction. However, there are other nearby rational numbers that result in the same binary representation when converted to a float. It is possible to find a simpler fraction using a Stern-Brocot tree. has an implementation of the Stern-Brocot algorithm and it is exposed as .


Answer URL
https://docs.python.org/3/library/decimal.html
