Natural Text
I'm trying to  a function defined in a different module from the module containing the testing code. If the function and its test are defined in the same module, I've found that the following works:Moreover, if I drop into the debugger in test function just before the  call, I see that  is a  instance, and that if I call it, it returns  (not ) as expected.I've tried to adapt this somewhat as follows. In the same directory, I've written a  containing just the definition of :and I've imported this function in the testing module and changed the  argument from  to :However, if I try to run this, I get an  because the  was not called:Indeed now if I drop into the debugger,  is an ordinary function and no longer a  instance, and it returns  instead of :Any idea why this is not working? I've consulted the docs (https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch) but to no avail so far...
I managed to get the example to work by, instead of  and calling , doing  followed by :Basically the  decorator determines a  and an , and internally replaces that attribute by a mock instance, along the lines ofIn the original example, the  function was being imported directly and was not an 'attribute' of the , so the patcher was not patching the intended object.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch
