Natural Text
So I've got about 5008 rows in a CSV file, a total of 5009 with the headers. I'm creating and writing this file all within the same script. But when i read it at the end, with either pandas pd.read_csv, or python3's csv module, and print the len, it outputs 4967. I checked the file for any weird characters that may be confusing python but don't see any. All the data is delimited by commas.I also opened it in sublime and it shows 5009 rows not 4967.I could try other methods from pandas like merge or concat, but if python wont read the csv correct, that's no use.This is one method i tried.Another way I tried isBut not matter what way I try the CSV file is the actual issue, python is writing it correctly but not reading it correctly.Edit: Weirdest part is that i'm getting absolutely no encoding errors or any errors when running the code...Edit2: Tried testing it with nrows param in first code example, works up to 4000 rows. Soon as i specify 5000 rows, it reads only 4967.Edit3: manually saved csv file with my data instead of using the one written by the program, and it read 5008 rows. Why is python not writing the csv file correctly?
I ran into this issue also. I realized that some of my lines had open-ended quotes, which was for some reason interfering with the reader.So for example, some rows were written as:and this led to rows being read incorrectly. (Unfortunately I don't know enough about how csvreader works to tell you why. Hopefully someone can clarify the quote behavior!)I just removed the quotes and it worked out.Edited: This option works too, if you want to maintain the quotes: 
My best guess without seeing the file is that you have some lines with too many or not enough commas, maybe due to values like . Please try setting . From Pandas documentation: http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html to see if it catches lines with errors in them, and my guess is that there will be 41 such lines. error_bad_lines : boolean, default True  Lines with too many fields (e.g. a csv line with too many commas) will by default cause an exception to be raised, and no DataFrame will be returned. If False, then these “bad lines” will dropped from the DataFrame that is returned. (Only valid with C parser)The  option seems to not quote fields and replace the current delimiter with escape_char + delimiter when writing, but you didn't paste your writing code, but on read it's unclear what this option does. https://docs.python.org/3/library/csv.html#csv.Dialect


Answer URL
https://docs.python.org/3/library/csv.html#csv.Dialect
