Natural Text
I want to read two different files from sys.stdin, I can read and write file but there is no separation from first and second file.When I run below code on cmd win 10 and python 3.6:Result is:I can print both files.My python code is:I run below command on cmd prompt:Result is:Do I need reset sys.stdin for next file?I used below ones but none of them was answer:Thank you in advanced for any help.
Let me try to explain.has only 1 output, not 2. What it does it 'streams' the content of  to  and then 'streams' the content of  to , wihtout any pause or seperator!!so only 1 'stream' of outputs, which then you redirect using the | to your pyton script:So  will receive 1 'stream' of inputs, it doesn't know any better or more.If you want to process the files seperately by , you can do the followingor on a one liner:Just remember that the  is actually running twice. So you need to adapt your python script for this.But while you are editing your python script...What you should do:If you want both file in your , then you should write some code to read both files in your python script. If it is csv structured data, then have a look at the csv module for reading and writing csv files[EDIT based on comment:]I could read multiple files it by pandas "pd.read_csv" , but my  problem is how can I do it by sys.stdin?You should really question why you are so focused on using . Reading it from within the python script is likely to be much more effective.If you must use  then you can deploy various, but external to python, headers, footers, separators. Once you have this defined and able to do so, then you can change the code in python to do various functions depending on what header/footer/separator is received from . This all sounds a bit complex and open for error. I would strongly advice you to reconsider the use of stdin as input for your script. Alternatively please update your question with the technical requirements and limitations you are facing which limits you to use stdin.[EDIT based on comment:]I want to load these files I Hadoop ecosystem and I am using Hadoop  streaming for thatSomehow, you need to "signal" your python script that it is processing a new file, with new information. Suppose you have 2 files, the first line need to be some sort of "header" indicating the file, and which function needs to execute on the remainder of the data, until a new "header" is received.so lets say that your "train" data is prefixed with the line  and your "test" data is prefixed with the line How you do that in your environment, is not part of the scope of this questionNow the redirection to stdin will send these two headers before the data. And you can have python to check for those, example:As you see at the code, you also need a "footer" to determine when the data has come to an end, in this example  is chosen. One way of sending header/footers, could be:and the three extra files, just contain the appropriate header or footer
Another solution is:s.txt is:s2.txt is:The key is two points:Using echo instead of cat in order to prevent concatenationThe link to study more: Difference between 'cat < file.txt' and 'echo < file.txt'Try to read in for loop for each new file by splitting each file and store in args.How to run code with sys.stdin as input on multiple text filesHappy bc I`ve done it :)


Answer URL
https://docs.python.org/3/library/csv.html
