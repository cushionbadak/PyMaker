Natural Text
How do I mock python method using python  which will return same value passed as argument,I tried,When I print the jinja template it displays test something like below,Orignal Jinja2 template has
 is only ever a fixed object to return, and you just told the mock that the result of a call is a function object.You want to use the  attribute instead:Setting  to a function causes it to be called with the same arguments as the mock. See the documentation:If you pass in a function it will be called with same arguments as the mock and unless the function returns the  singleton the call to the mock will then return whatever the function returns.Demo:
You directly passed the function object as return value, that's why it prints the function's (name and memory address). You need to pass the actual value you want as return, so:But if the function always return the value passed it is useless, creating a mock is already enough so may be just do:Then call your mock as you would.Sidenote: What is the purpose of the  usage instead of a name? Are you mocking gettext ? If not or would be cleaner to give the mock a name, the best IMO is to name the mock like the real function you are mocking for explicitness.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
