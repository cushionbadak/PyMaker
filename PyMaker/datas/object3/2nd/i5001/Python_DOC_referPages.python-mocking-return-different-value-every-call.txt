Natural Text
I am testing a method, , and within that method I call another method,  which I need to mock in order to unit-test the first mentioned method. My problem is that I need  to return a different value the third time it is called from within .I have been exploring  and  in order to do this.However, when  is called from within  the MagicMock class is returned, instead of the actual value.What should be returned:
You have set the return value of the call to a mock object. So thatâ€™s what will be returned! You set return values (side effects) for calls to that call result, so . Set the  argument in the  call:Or the  attribute on the mock object returned when entering the context manager:Capturing the mock object the  context manager creates with  is generally a good idea anyway as you now have access to it to assert if it was called. You can also pass in the  instance you created up front, just pass it in as the second argument, or use the name : will then replace  with that instance, and calling it will use the  list set.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
