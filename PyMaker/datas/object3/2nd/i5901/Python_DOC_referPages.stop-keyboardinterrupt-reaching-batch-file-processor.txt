Natural Text
I'm writing some code in Python 3 on Windows that looks like this:This works perfectly if run directly from the console with .However, if the call to Python was within a batch file, it ends up doing all the above but then still spamming the console with the 'terminate batch job' prompt.Is there a way to stop that happening? By fully eating the ^C within Python, jumping all the way out of the batch file or otherwise?
Use the  (More info here) command in the batch file, which will disable CTRL+C halting the fileEDIT: According to this site of the break command Newer versions of Windows (Windows ME, Windows 2000, Windows XP, and higher) only include this command for backward compatibility and turning the break off has no effect.I personally tested this, and can confirm, I will edit when I find a workaroundEDIT #2: If you could have a second batch script that runs  although, this is known to cause glitches with other nested batch filesThe flag to disable Ctrl+C is inherited by child processes, so Python will no longer raise a KeyboardInterrupt. Plus we still have bugs here in Python if reading from the console gets interrupted by Ctrl+C without getting a SIGINT from the CRT. The Python script should manually enable Ctrl+C via ctypes. Use import ctypes; kernel32 = ctypes.WinDLL('kernel32', use_last_error=True); success = kernel32.SetConsoleCtrlHandler(None, False)EDIT #3 As pointed by Eryksyn (in the comments), you can use cytpes to ENABLE it;EDIT #4: I think I found it, try this (Although it may not work) Can you use the threading import? 


Answer URL
https://docs.python.org/3/library/ctypes.html#module-ctypes
