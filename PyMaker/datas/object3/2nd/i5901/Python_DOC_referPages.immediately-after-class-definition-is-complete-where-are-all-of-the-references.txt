Natural Text
Four references to a class are produced when a class is created which that never had a  passed in the namespace argument of , aka a class with no functions that ever need the opcode . I can account for one, but since I can barely read C I can only speculate about the other 3. Most obviously, the first is the reference in the  of the module the class was defined in. Another I think one is in a cache in . After a while if the reference count of a class drops below 4 it is destroyed, which is a good thing for classes defined in in function since there's no way to delete it after the function has been executed. Also there is perhaps a reference in whatever  uses to generate mros. Finally, I'm guessing the last is somewhere zero argument  can access, and that is the real info I'm after: why does a function created outside a class definition not work with zero argument , even when it has  in its  and a cell with the class in its ? A  is still produced.Classes that had a  (I say had because I believe that name is eventually deleted) have 5 references upon creation, one more than not. Seeing as the cell containing the class object in the  of all functions that mention zero argument  or  are identical I think it's a good bet that the additional reference is used by the  descriptor to produce the  containing the cells.
Let's take a look with :We can see in this list that the 3 references you were missing are from the  and  descriptors and the class's . (It might not be obvious that the third entry is the , but we can confirm:)The  and  descriptors manage access to the  and  attributes of  instances, and they need a reference to  for type checking, to make sure they're only used on  instances.The  is the sequence of classes Python searches to resolve class attributes of , and to resolve instance attributes of  which are managed by a data descriptor or which don't have an entry in the instance .


Answer URL
https://docs.python.org/3/library/gc.html#gc.get_referrers
https://docs.python.org/3/reference/datamodel.html#implementing-descriptors
