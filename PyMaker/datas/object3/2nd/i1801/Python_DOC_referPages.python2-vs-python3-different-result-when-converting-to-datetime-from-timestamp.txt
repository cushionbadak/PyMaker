Natural Text
I am trying to port some code from python2 to python3.I am having trouble when converting some code using date/time manipulations.Python2.7Python3.6The result for  whereas for .Why is this difference, and how should I overcome this?
This is a little bit tricky. According to my knowledge, this only happen with python 3.6. For short, you need to call  after set  environment. I've encountered it sometime ago (I don't remember exactly), and I don't have pre-3.6 python to test, so please bear with me. I've just checked this issue on my colleague's , it works as expected (without putting )  The  docs say:Reset the time conversion rules used by the library routines. The environment variable TZ specifies how this is done. It will also set the variables tzname (from the TZ environment variable), timezone (non-DST seconds West of UTC), altzone (DST seconds west of UTC) and daylight (to 0 if this timezone does not have any daylight saving time rules, or to nonzero if there is a time, past, present or future when daylight saving time applies).  Just put the :EDITED: I've just made some search, this behavior had been (mistakenly) reported as a bug: datetime in Python 3.6+ no longer respects 'TZ' environment variable


Answer URL
https://docs.python.org/3/library/time.html#time.tzset
