Natural Text
I'm trying to append a nested lists with dichionaries from a txt-file into a new list. Everything I do, the content always become a string in the new list.Is it possible to read the data from the file as it is and append it to a list, as the nested list it is?Here is my code: The library.txt content looks like this. If someone could help me or point me in the right direction, I really appreciate it. Thx in advance
Some parts of your file are similar to JSON - the problem is: in total is is invalid JSON.This:is valid JSON for a 1-element list containing 5 dictionarys with 1 key/value each.The code below uses string splitting and magic to create "valid" parts from the demodata you posted and then uses JSON.loads(string) to create python objects from it. Its fragile - if you got any errors in your file it will output whats wrong and skip it.It hinges on splits on  - if you ever add those inside your data parts it will break and you have to fix it.Create demo file (one dataset is corrupt - missing } etc.):Parsing:Output:It may be worthwile to convert your data to valid json wich would simplify a lot:Output:


Answer URL
https://docs.python.org/3/library/json.html#json.loads
