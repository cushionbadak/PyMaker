Natural Text
So I have a big csv file, over 1gb.  There's a column with IP addresses in ipv4 and ipv6.  I want to convert the ipv6 addresses into numbers, but there are too many rows for libre calc.  So I'm wondering if it's possible to use python in the terminal to convert all the ipv6 addresses.  Also, I could split the file up into smaller pieces, then use libre calc, but same problem--I wouldn't know how to script that either.EDIT:I don't mind, it might get more complicated though. Also not sure how this should be formatted, but I hope people get the idea...So I have one table with IPv6 addresses like these examples:  There are a bunch of different rules that govern the formatting--way too hard for me.  I've heard that python has a function that will specifically return the conversion, but not sure about the rest (how to get the returned values back into the csv correctly, with formatting unbroken, etc.).  Anyway, here's a row from the other table:So the part I need to match is the first two numbers (first two columns), where there are several ranges fromSo I wanted to take the IPv6 addresses, convert them to IP numbers, then sort them into their respective ranges.
Yes, this is something you can do in Python. I'll demonstrate with a few short snippets and links to documentation that will fall short of a full solution in favor of empowering you with the resources that you need to put the pieces together yourself.First off, if you want to load one CSV file line-by-line and write to a second one this is how you would do it:The original on which this example was based and additional information about python's built-in CSV capabilities can be found here: https://docs.python.org/3/library/csv.html You will probably need to make adjustments depending on the exact formatting of your particular CSV file. Now, to convert IP addresses to numbers you can do something like the following:This example is adapted from what I found here:https://www.oreilly.com/library/view/python-cookbook/0596001673/ch10s06.htmlYou will have to modify it Also, if you want to learn more about the socket and struct modules here is the documentation:https://docs.python.org/3/library/socket.htmlhttps://docs.python.org/3/library/struct.htmlYou shouldn't need to split the file up since the CSV  object will only return one line at a time rather than reading in the whole file at once. Of course, you also probably want to actually do something with those numbers once you've read them in but since you didn't specify I'll figuring that out to you.Also note that I haven't tried any of this code. It's worth repeating here in the form of a metaphor: I'm trying to teach you to fish rather than just giving you fish. It's in your best interest to take this advice and wrestle with getting it to work yourself as that would be your first step toward actually being a programmer.


Answer URL
https://docs.python.org/3/library/csv.html
https://docs.python.org/3/library/socket.html
https://docs.python.org/3/library/struct.html
