Natural Text
I'm running the same code; the following works in Windows, but will run correctly on Ubuntu (16.04).I've tried to reinstalled all modules (including the same version of Python and  between both Windows and Ubuntu), the print of this code is correct on the Windows system:But when it run in Ubuntu, while it does print, it misses some print statements:When I debug the code in Ubuntu, I found that the main thread stops in the  call and never jumps to the  function. Then it breaks out.
You are using two different versions of the library, with the version on Windows being older than version 0.53. As of version 0.53, the  project differentiates callback behaviour between bound methods and regular functions.You are passing in bound methods ( and ), at which point the  argument is not passed in. Those methods are apparently expected to have access to the websocket already via their instance, probably because the expected use-case is to create a subclass from the socket class.This is unfortunately not documented by the project, and the change appears to have been causing problems for more people.So for version 0.53 and newer, drop the  argument from your callbacks:And you can discover issues like these by enabling logging; the  module logs exceptions it encounters in callbacks to the  logger. A quick way to see these issues is to enable tracing:which adds a logging handler just to that logging object, turns on  level reporting for that object and in addition enables full socket data echoing.Or you can configure logging to output messages in general with the  function:which lets you see  level messages and up.With using the latter option, the uncorrected version of the code prints out:You can verify the version of  you have installed by printing :


Answer URL
https://docs.python.org/3/library/logging.html#logging.basicConfig
