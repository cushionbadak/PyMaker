Natural Text
Am having problem with python smtplib when using a non ascii characters in from name. Part of the error code - is I have checked online for solutions and also looked around in stackoverflow with no solutions.Using same smtpon Other mail client with same From name it worked so I figured this can be solved with code since I can't edit the server config.Please help with a solution guide or example to help fix this.See snippet of code below with traceback.Traceback:
I am unable to reproduce your issue.  With the following augmented code, I have what appears to be a MCVE:But when I run it, Python produces a completely healthy, completely 7-bit US-ASCII message with all the parts encoded precisely like they should be for a legacy server which doesn't support SMTPUTF8.However, I will notice that instantiating a bare  as your top-level message is not really correct.  You should have a  object and then add MIME parts to that.  But this still uses the somewhat complex legacy Python  API; with the new API, which was introduced in 3.3 and became the preferred API in 3.6, you should start with an  and take it from there.Anyway, if you only have a single body part, you should not wrap it in a multipart message.  Simply create an email message and attach the text part directly to that. (It's not wrong per se to have a more complex MIME structure than you need, but it's silly to add unnecessary complexity and overhead.)


Answer URL
https://docs.python.org/3/library/email.compat32-message.html#email.message.Message
https://docs.python.org/3/library/email.message.html#email.message.EmailMessage
