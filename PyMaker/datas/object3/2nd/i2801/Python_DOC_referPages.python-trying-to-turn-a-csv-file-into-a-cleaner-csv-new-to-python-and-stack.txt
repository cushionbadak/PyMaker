Natural Text
I'm trying to run a .csv file through a python code in order to give me a new csv with better formatting. I could use help because the script that I have written is not working. I'm pretty new to this stuff.I'm adding two photos to this message, one is an example input file and the other is an example of the desired output file. Obviously, the output file would be much easier to use, to make pivot table, graphs, etc in excel. I think I'm getting stuck on the fields list, [0],2,2, etc. I'm also getting stuck on whether or not this should be a tab-delimited or comma-delimited file, because there are a lot of symbols in the document,randomly: ; , @ : - etc. input fileoutput file
As others have recommended, there is a built in CSV library that is going to be your best bet.There are a couple other things to point out though. First, there is a cleaner way to skip the header line. Instead of checking each time if the header titles are in the current line, just use this concept:This makes it so the first line you read (the headers) will do nothing except flip the boolean flag, and then from there on you don't have to worry.Also keep in mind csv files always have the delimiters even if the entries between them are blank, and split will always split on your delimiter regardless of whats in between. What this means is that  will always be  no matter what, it just might be empty. To see what I'm talking about, run this:You'll get an array back with 4 empty elements. So to fix your issue with fields, don't bother worrying about what is and isn't filled in, just always assign each variable the same field index (and handle empty entries if you need to).Finally, handling delimiters. You're on the right track, the easiest approach in my opinion is finding a character that is never used in the actual text. I recommend pipes or tildas () since these most likely will never come up in your fields. Another option is to preprocess the file and replace all commas with semi-colons, that way you can then use a regular comma as a delimiter. 


Answer URL
https://docs.python.org/3/library/csv.html
https://docs.python.org/3/library/csv.html
