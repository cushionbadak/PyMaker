Natural Text
Don't know if the issue is with the python, the telnet library or the router but I just can't seem to get the script running like it should.It's a simple script that will display the output of the routing table from the router, but somehow if you don't set the command for trap/debug it won't display/print anything at all.I'm new to programming and just started to learn python, please tell me where I'm making a mistake or is it simply the routers limitation?The script is fairly simple: This is what the output looks likeEDIT:I'm running it directly on my router using powershell i.e "py.exe C:\script.py" Also the script is written in python 3.0 if I need to mention, and the library is also for that.Here is the output as text as requested, it's all messy and without any order...
The problem is that you're calling :Read all data until EOF as bytes; block until connection closed.But the router hasn't closed the connection. It just sends you a bunch of bytes ending in this:And at that point, the router is waiting for another command. Until you tell it to quit, or close the connection yourself, you're never going to reach EOF.Which means your code is sitting there waiting for  to finish, which will never happen. Presumably, your code just hangs there until you hit Ctrl-C.What you probably want to do is read until the prompt again:And then maybe  the connection, or  or something that will make the router close the connection for you.


Answer URL
https://docs.python.org/3/library/telnetlib.html#telnetlib.Telnet.read_all
