Natural Text
I have the following piece of code:It is a computational model (I actually have more variables, this is a simplified version of the code), and during a certain period of time, the states of the model like SS_a have to update. Right now, the code works, but I want to make it more transparant, so you can extract a value of a certain state for a certain timestep.I tried to do this with a for loop, and to give an index to each state for each timestep like this:, but this did  not work because I can't add those values to a list.However, I wondered whether there is a possibility in the code I have now, with the while loop, to extract these values and make the model more declarative and transparant?Now another option is to use the following format:However, the result is as follows:But I am expecting the value to change. What can i do to improve this?
as you want to put in a list a new value that depend in the previous value put there, you can do it like in this examplewith append we add a element to the end of the listso in your code that isyou can even make your model more flexible by using arguments and default values, that way if you want to make some change just change how you call the model and not your code, for example like thiswith all those default values we preserve the original behavior, and if we want to do only a minor change like run that model until time 40 instead of 30 we simple call it as , you can also put a return of  so you can do some other manipulation later on, and we can also put a doct text to remember what each thing is in a easy way, like thisand that we tell you a nice message that explain the model and how to used it is you call help on it as you have several models, you can extract the commons part of each one in different pieces of code and make more general version of it so they can be used as lego block to build your different models, for example your original code can be broken like thisin this one that complicate formula is extracted in a independent function  as it only need 1 obligatory/variable parameter to work (everything else is a constant),  do the work of map time to the values of a function that is given to it as a parameter (because in python everything is a object, even a function, by the way this a generator function) and that function is required to receive 2 arguments time and the previous value (I include time because that make more sense to me, therefore model_fun also receive it but is ignored) and also handle the time stuff and finally  that do what its name imply. With all the pieces ready I can make as many models as I want and I don't have to repeat anything and the work is reduced to defining only the function, and I can use  functions to modify how I call a previous function like in  or define a new one like in , or make a totally new one and as long I follow the rules set by , as they said, the sky is the limit (or something like that).


Answer URL
https://docs.python.org/3/glossary.html#term-generator
https://docs.python.org/3/reference/expressions.html#lambda
