Natural Text
I'm working on a simple Git/Redmine glue script but I'm having some difficulty using optional arguments with the Python  module.With the following code:I'd expect a call like this:...to result in the user being prompted for an issue number. Instead I get:So why is the  not prevailing here?EditIf I call it like this:I get this:...which (based on the  around ) suggests to me it is understanding that is an optional argument but something is preventing it from working as I'd expect it to. Something to do with my use of  and calling methods with the arg parser perhaps?
If you print the contents of  before your function call like this:Then you can easily verify whether there is something wrong with the argument parser or not. With a call of the script without arguments (e.g. ), you get the following output:As you can see  actually is in that dictionary, and it did get the default value. So the error you are seeing is not because of the argument parser (it’s also not an argparse error, so the validation on the arguments—with  being optional—is absolutely correct).Instead, what’s going wrong is that the argument  is not passed to the positional argument when using . The reason that does not happen is actually quite simply:The dictionary key is ; the function expects a  (note the upper case ). So either change the function to use a lowercase , or change the argument parser to store the value in  instead.


Answer URL
https://docs.python.org/3/library/argparse.html#dest
