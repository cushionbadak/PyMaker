Natural Text
I am using this answer to print a progress barbut want it to print what exactly it is doing while it is progressing.I added a parameter called "current_task" to print_progress() and now would like it to perform as follows. How do I do this?FYI: I'm on on a Unix system: macOS Sierrashould  print thisCurrently downloading contacts  Progress |████████████████████████████████---------------------| 70%  Completethe subsequent call ofshould cause the progress bar to change in place to now look like thisCurrently downloading companies  Progress |████████████████████████████████████-------------| 80%  Complete
Here's a modified version of Greenstick's code that supports a header line. It uses an ANSI control sequence  to move the terminal cursor up 3 lines after it's printed the header & progress bar.This updated version works correctly on Python 2 (tested on 2.6.6) & Python 3 (tested on 3.6.0). It also erases the previous contents of the header line so you don't get stray characters if the current header is shorter than the previous one.Note that if you don't supply a header line you'll get a blank header line. Please make sure that the header line will actually fit on one line of your terminal, and definitely don't put any  chars in it!You could make this progress bar more versatile by using threading, as illustrated in this Scrolling Timer I wrote a few months ago.Here's a version of  that disables the cursor so we don't need that extra pace at the start of the cursor.  One problem with doing this is that if we terminate the program early (eg by hitting CtrlC) while the cursor is disabled, it will still be disabled after the program edits. On Linux, you can just send the ANSI sequence to turn the cursor back on with a simple Bash command: although it's easier to reset the terminal:Of course, we could also trap  and add a handler function to turn the cursor on before the program exits, but that adds extra complexity to the code.


Answer URL
https://docs.python.org/3/library/threading.html
