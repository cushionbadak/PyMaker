Natural Text
I'm trying to create a program that generates groups of students from a class but does not create groups that have been created before. Specifically, I need to create new student lab groups of 2 every week from the same set of students and I'm trying not to pair the same two students together more than once. The students which were paired in previous weeks will be given as an input somehow.The past groups need to have their mirror images excluded as well, ie if [1,2] is a past group, [2,1] is also a past group.My program is below. It solves the problem, but I guess it's highly inefficient. I'll accept completely different code if it's a better solution.
First, we need to convert the already existing groups into a set of tuples. Each need to be additionally sorted because that's the order that  would produce them. Thus.Then we can make a generator function that yields only elements that are not members of :
So basically you want to cover all items each time, where each item is selected only once and the order isn't important. SO I took a whole new different approach from before:I used the  that was mentioned in another answer, removed the excluded (and their mirrors) from the list and worked on that. Now the only trick is to make sure we do not select a pair that can create a no solution - as the remanding pairs cannot connect with it while covering all items. Therefore I use recursion and every step I try getting a solution with the pair and without until we find the solution.Enjoy
If you don't need to return the group randomly, then you may just remember the last group returned and keep "incrementing" the next group. Below sample code shows how you may do that for 50 students:
For N choose 2, I think I just heard your specification boil down to:Docs are at https://docs.python.org/3/library/itertools.html#itertools.permutationsFeel free to randomly permute the whole list before running it through that.Simply maintain a set describing previous lab assignments, and test a combination's membership in that set to reject repeat proposals.EDIT: thank you, Antti Haapala, for the combinations remarkhow do I search through this new set (that does not contain the discounted groups) and create a set ...I think I don't quite understand the question. Assume that  is a set with historic student pairs, where a pair always appears in sorted order. Then it's just a matter of interrogating the generator and filtering, yes?


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.permutations
