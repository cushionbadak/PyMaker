Natural Text
I wrote a small program in Python which output depends on the content of a few webpages. I have no control over these webpages and it could change in future. For so I am writing some tests.I wrote an integration test and I am trying to write a  in which I mock the function scrapping the webpages. In my test the function is called twice and returns the content of two different webpages each time. This implies that I need to mock it with a function returning two different things. I am doing it the following way:and furtherI am using a function wrapping a generator. It looks quite heavy and ugly to me. Is there a more pythonic way of doing so?
You can use the generator straight away as a generator is an iterator and side effect accepts an iterator: If side_effect is an iterable then each call to the mock will return  the next value from the iterableIn your example:Another simple example:


Answer URL
https://docs.python.org/3/library/unittest.mock.html#the-mock-class
