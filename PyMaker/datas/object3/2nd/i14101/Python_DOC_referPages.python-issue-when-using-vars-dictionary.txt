Natural Text
I have the following snippet:Which gives me  whereas the following code works fine:What's the difference here?
 without any argument acts like  and since a dictionary comprehension has its own scope it has no variable named  or .You can use  here. Without any argument it will execute in LEGB manner, or specify  dict explicitly to :But then again the correct way will be to create a dictionary from the start if you want to access variables using their names.
Its because of that in your code  returns a dictionary contains the local variables.actually based on documentation :Without an argument, vars() acts like locals() . see the following example :As you can see we have not any local variable within function  so vars returns an empty dictionary.And in your case as a more pythonic way you can create a dictionary of your objects :
It seems Python makes a closure in dictionary comprehension (say, )
Use  in the for loop performs as the second code you gave.We can figure out the new  within  loop in dict comprehension:


Answer URL
https://docs.python.org/3/library/functions.html#vars
https://docs.python.org/3/library/functions.html#locals
