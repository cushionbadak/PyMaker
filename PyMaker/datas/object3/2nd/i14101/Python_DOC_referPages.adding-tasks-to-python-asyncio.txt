Natural Text
I am trying to write a simple web crawler in order to test how the new asyncio module works, but there is something I'm getting wrong.  I am trying to initiate the crawler with a single URL.  The script should download that page, find any  tags on the page, and schedule them to be downloaded too.  The output I expect is a bunch of lines indicating the the first page has been downloaded, then subsequent pages in a random order (i.e. as they are downloaded) until all are done, but it seems that actually they are just downloaded sequentially.  I'm completely new to async in general and this module specifically so I'm sure there are just some fundamental concepts I'm missing.Here is my code so far:And here is the output:
Using asyncio doesn't magically make all your code asynchronous. In this case,  is blocking, so all your coroutines will wait for it.There is an async library called  that allows async http requests, although it isn't as user-friendly as .


Answer URL
