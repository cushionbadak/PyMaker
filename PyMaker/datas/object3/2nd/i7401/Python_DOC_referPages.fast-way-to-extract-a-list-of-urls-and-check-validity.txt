Natural Text
I am working on a chat bot. I want it to post matching data from an API whenever a link to a gallery on an imageboard is posted. The gallery link looks like this where 1234 is a positive number (id) and a6fb1049 is a hexadecimal String of fixed length 10 (token).Right now I am only able to process messages starting with a gallery link.I am looking for a fast way to process the message string, because every time a message is sent this will be invoked.I thought about using urllib.parse.urlparse and posixpath.split to split the string and checking the different substrings, but I feel like this is inefficient.Because I am really not good with Regex, this is all I came up with.It's fine if there is just one matching pattern, and it's right, but as soon as there are two links this is already failing.I would rather get all of the messages matching links in a list then iterate over the list and check the header of the page if the link is valid. Then create an API request to retrieve the data.The regular expressions to match URLs on Stackoverflow don't show how you only match such specific cases, so I am sorry if this is a newb question.
I don't understand why you wrote:  when at the same time you precisely know that "1234 is a positive number (id) and a6fb1049 is a hexadecimal String of fixed length 10" (<= or perhaps 8). Translating this sentence into a pattern is very easy and needs only simple notions: is the method to get several results ( returns only the first result, see the re module manual)You obtain a list of lists where each item contains matched parts enclosed by round brackets (capture groups), feel free to put them where you want.If you want to know if there are links that don't match the format you want, you can also use something like this:Then you only have to test is the group 2 is None or not to know if a link has the good format.


Answer URL
https://docs.python.org/3/library/re.html
