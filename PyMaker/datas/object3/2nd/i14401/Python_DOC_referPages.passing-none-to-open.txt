Natural Text
I have a context manager over a large chunk of logic that looks likeUnfortunately, there is an edge case where  might be . I still, however, want the  to execute. Is there an elegant way to handle this without removing the context manager? It looks like I might need to resort to using a  and manually calling  on the file. I don't mind just opening any file as in theory, I don't care about the content of the writes that occur. I do want to avoid creating too many temporary files that I write to, and I do want to avoid accidentally writing on personal files that might already be on disk.
Quick, hacky solution, since that seems to be what you're looking for:See: https://docs.python.org/2/library/os.html#os.devnull
You can create a custom function that either returns the file object, or a  object:Since StringIO is not a context manager in Python 2, you need to add a bit of boilerplate around it to make it work there. One way to do it would be to create a StringIO wrapper that is a context manager; a simpler way would be to just provide a new context manager that just uses the fileâ€™s context manager inside:


Answer URL
https://docs.python.org/3/library/io.html#io.StringIO
