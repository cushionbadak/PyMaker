Natural Text
I am trying to use  to get the similarity of two strings:  and :The ratio returned is , which is much lower than I expected because there is only one character different in the two strings.It seems that the ratio is calculated based on matching blocks. So I tried to run :But I expected the result to be:Can anyone help to explain why it didn't match from the first 3 numbers ?
 works by repeated application of  to as-yet-unmatched blocks of the two sequences. Quoting from the docstring for :In the case of the two sequences  and , the longest block in  matching a block in  is the single  at , and the earliest match for it in  is the first of two such possible matches, at .Once this match is decided, there are no longer any further matches such that, per the guarantee provided by , "The triples are monotonically increasing in i and in j".For instance, matching the as-yet-unmatched  at  with the as-yet-unmatched  at  would require that i decrease as j increases (or vice versa), in violation of the aforementioned guarantee.


Answer URL
https://docs.python.org/3/library/difflib.html#difflib.SequenceMatcher.get_matching_blocks
