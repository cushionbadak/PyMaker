Natural Text
I'm getting the name of a file in Django after an Image save :I do a clone of the file, an resize (is an image) and want to save the new file with a different name.I get the directory of the original file:the filename and extension:then create a and the I want to recreate the path:and the problem(slash-backslash before the filename):I'm working in Windows, bur the final deploy probably will be on Linux, so I want a fix indifferent of the OS.
so I want a fix indifferent of the OS.Unfortunately, you can't really have your cake and eat it.You say thatI'm working in Windows, bur the final deploy probably will be on LinuxThis implies you are running the program on Windows, but dealing with *nix file names (be it Linux, Unix, or mac OS).To do this completely os-independent ... you would need to split the original path on "/" to get all the sub components and then re-join them with .But then you need to deal with the fact that directory structures for absolute paths are very different between the two OS's - not to mention the leading drive specifier on Windows. This is less of an issue if you are only dealing with relative paths.In short, the root of your problem is that the database contains Linux-style paths and you are processing them on Windows. You would have a similar problem if it was the other way around.You need to choose your deployment platform and code for it.Alternatively, write your code to simply remove the extension from the full path and replace it with 
Since you don't actually care about the path in relation to the host OS (because you've chosen to store paths POSIX style in your DB), you can just use string joining: , or you could import the  module directly .You could also investigate PathLib, though that may be overkill for you.


Answer URL
https://docs.python.org/3/library/pathlib.html
