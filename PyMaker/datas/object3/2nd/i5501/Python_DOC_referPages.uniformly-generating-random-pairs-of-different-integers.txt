Natural Text
Task:Generate a pair of random numbers  (order doesn't matter:  is equivalent to ).The pair must consist of two distinct values: Pairs must be uniformly distributed. In other words, the probability is the same for all the possible pairs.Do this at a constant time.1st attemptConstant time? YES. Uniformly distributed? NOVisualizing the samples (by disregarding the order) :Samples visualization (not uniformly distributed)You can easily the effect of restricting the  to be larger than , meaning higher pairs have higher probability (opacity here expresses density).2nd attemptConstant time? NO. Uniformly distributed? YESVisualizing the samples:Samples visualization (uniformly distributed)PS: it's not a homework, I'm experimenting with stochastic optimization techniques that use random neighbor generation using a swap operation.
How about this?The value for  is equally distributed among all the possible values, and the value for  is equally distributed among all the remaining values, with the current value for  standing in as the maximum value (could also be the minimum value, just use  in this case).Graphical approximation:Random distribution of 1,000,000 pairs in range Instead of swapping  with , we could also shift all the values for  if , i.e. , yielding the same distribution. This way, the above could also be generalized to more than two values, by comparing the current value to all the previous values and shifting it up accordingly. This requires sorting the drawn values, though, so complexity is a bit higher, about O(kÂ²logk).Tested this again with small values for  and  and 1,000,000 iterations, and the results look correct.Or, you could just use . I don't know how exactly this is implemented, but it is very fast, even for large values for upper bound and  close to the maximum number of values.
I extended the method of @tobias_k above to  values.testing:Compared to a method using , this seems to be faster as long as 
Starting from Numpy 1.7.0 you can use  with :Here is the distribution of 10000 samples:


Answer URL
https://docs.python.org/3/library/random.html#random.sample
