Natural Text
I cut a part of the script that i tried to complete. I am expecting a new result for  after each iteration.  and  is result of  for each iteration and result is different at each iteration. But  brings the first result for each iteration. I guess something wrong with my approach, any idea?commandC is one line above of . I am writing bottom.
You're abusing the  module. The linecache is meant to be used for getting source code lines from Python source code:The linecache module allows one to get any line from a Python source file, while attempting to optimize internally, using a cache, the common case where many lines are read from a single file. This is used by the traceback module to retrieve source lines for inclusion in the formatted traceback.As the text implies the module will also retain the contents of the file in memory, and thus give correct output only on the first run. An easy remedy would be to invalidate the cache by usingThough a better thing to do would be to not use the linecache at all (it is not meant for this, and your files are constantly changing after all); instead just read all lines in using  and extract the last with , for example:


Answer URL
https://docs.python.org/3/library/linecache.html
