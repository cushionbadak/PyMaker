Natural Text
I have created a simple web app that intends to pull data from a sql database (specifically, forest fire occurrences and relevant metadata in the U.S.). I am able to query the database in Python using flask/sqlite3 and print the resulting list of tuples that match the query. However, I am unfamiliar with how I could take the resulting list of results and render it on a google map dynamically. So for every record returned there would be a marker with lat/long and then a dialog box displaying metadata. Relevant snippet:Printing "query" returns: So retrieving is working as intended. I know in the return statement I would need to specify what terms to render on html...I am just unsure how to iterate through all returned records to display one marker for each. I would greatly appreciate some direction. 
Rather than passing one result to the template, pass the entire collection.  Then use Jinja blocks to loop over the results.A basic example that just prints each fire name:If you already have a JSON compatible collection and need to pass the JSON to JavaScript code, you can use some built in Jinja filters.Unrelated, your query is open to injection attacks right now.  Rather than using string formatting to insert user input, you should use parameterized queries.A much more powerful solution is to use Flask-SQLAlchemy or another ORM instead to map tables to classes and build queries using functions rather than strings.Unrelated, you'll have a much easier time working with form data by using a form library such as Flask-WTF, which will render forms, and validate and convert input for you.


Answer URL
https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor.execute
