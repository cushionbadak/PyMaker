Natural Text
I am curious how Files work in python. How is file implemented so that it is able to be looped through like this: 
If you're using Python 2, the details are a little murky; alexmcf's answer covers the basics, and you can look up further details from there.If you're using Python 3, everything is documented in great detail in the  module, and comes with a reasonably readable pure Python implementation in the stdlib, all built on top of nothing more than a very simple "raw file" interface (which  implements on top of POSIX native file descriptors on Unix).The  ABC/mixin provides an  method based on the  method: (and its subclasses) supports the iterator protocol, meaning that an  object can be iterated over yielding the lines in a stream. Lines are defined slightly differently depending on whether the stream is a binary stream (yielding bytes), or a text stream (yielding character strings). See  below.And if you look inside the 3.5 source, it's as simple as you'd expect it to be:Of course in CPython 3.1+, there's a C accelerator that's used in place of that Python code if possible, but it looks pretty similar:The file objects returned by , and automatically created for things like , and most or all file objects created anywhere else in the stdlib (, etc.), are instances of  (for text files), or , , or  (for binary files), which all inherit this behavior from . There's nothing stopping a different file class from overriding  (or registering with  as an ABC instead of inheriting it), but I don't know of any that do.
For Python 2 ...How are files opened From the docs...File objects are implemented using Câ€™s stdio package and can be  created with the built-in  function.A File Object is it's own iterator from docs:A file object is its own iterator, for example iter(f) returns f  (unless f is closed). When a file is used as an iterator, typically in  a for loop (for example, for line in f: print line.strip()), the  next() method is called repeatedly.How is the iterable in a file object generated The iterator is generated by the newline character that is specified by the function . Python will by default recognise a number of newline formats.
It implements  interface, and calls  method on each iteration/call of  method.


Answer URL
https://docs.python.org/3/library/io.html
https://docs.python.org/3/library/io.html#i-o-base-classes
https://docs.python.org/3/library/io.html#io.TextIOWrapper
https://docs.python.org/3/library/io.html#io.BufferedRandom
