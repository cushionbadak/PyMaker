Natural Text
I hope I won't get trashed for this question. This is my first day with Python and all I've done so far is copy pasting and deducing from other snippets of code. I have no experience with code. I'm trying my hardest however this one I can't get past for the past few hours.I'm currently adjusting an Editorial (iOS app) workflow to fit my needs â€” namely: posting to my WordPress site, including the ability to choose from a list of all possible post formats (I have "standard" and "link" enabled).Here is the faulty bit from the relevant Python script:I'm getting the error: "string indices must be integers, not str"What is this supposed to do is later show me in a list my available formats. I've done this successfully with  and I know my problem is where the line with the  starts, I just have no idea how to solve it. I'm assuming by reading other topics that I need to cast, but I'm not even sure what  returns, or how to do that.Thanks in advance!Edit: I've now concluded that  returns a dictionary, but I have not a slightest idea on how to retrieve only one set of data (either the key or value) of this dictionary. Please help.
You're getting that error because "string indices must be integers, not str".Here, you are accessing the 'name'th element of , where  is of course a string and x is a string too, since  obviously returns a list of strings.So simply look at  and you should immediately see how to obtain the required data.UPDATE:OK, so you figured out that  is a dictionary (returned from ). In Python, if you iterate over a dictionary (your for-loop), you iterate through its keys. This is the standard behaviour.Look at this example:Of course you also need the values, not only the keys (you seem to look for an entry with the key ). One way is to iterate though the keys and items in one shot:So the  method of a dictionary returns for every iteration a key/value-pair, which you can unpack within the for loops definition.In your case, you can do the following:
Given that you are new, I would also suggest using the enumerate method and refactoring your code:The  would be the index for the name.If you wanna go even further, you can use the join method too:warning: This code is untested.
Read:http://python-wordpress-xmlrpc.readthedocs.org/en/latest/ref/methods.html#wordpress_xmlrpc.methods.posts.GetPostFormatsGetPostFormats return a dictionary so x iterates among the keys which are strings.Try:


Answer URL
https://docs.python.org/3/library/functions.html#enumerate
https://docs.python.org/3/library/stdtypes.html#str.join
