Natural Text
I have a PyUnicode object I'm trying to convert back to a C string (char *).The way I am trying to do it does not seem to be working. Here is my code:Is there another/better way I should be doing this?
If UTF-8 encoded  is OK, you should definitely use  (which requires Python 3.3):Also, do understand that is mandatory to check the return value of each and every  function call that you ever execute in your code. Here the  will return  if  is not a , or  causes .  will return  if  is not a  object. Ignore the return value and CPython crashes with  when the conditions are right.
You need to first convert your python PyUnicode to a non-unicode python string (read more here: https://docs.python.org/2/c-api/unicode.html#ascii-codecs) , then you can easily convert the result into  . Below is a pseudo code to help you proceed: 


Answer URL
https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_AsUTF8AndSize
