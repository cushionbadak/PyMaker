Natural Text
I have an application where people are asked to enter their user name and password. I want them to be able to just press enter to send the name and password. To do this, I've made this:Unfortunately this doesn't work as expected. The standard character for termination (Triggered by CTRL+G) is 7 and the enter character is 10, but with the above code, all other keys are still handled correctly but when I press enter, it just gives me a newline, instead of terminating the edit mode of the Textbox. What am I doing wrong?
Found this on the documentation:If validator is supplied, it must be a function. It will be called for each keystroke entered with the keystroke as a parameter; command dispatch is done on the result.So instead of running  yourself, just return the key you want to 'input'.Also, now you don't need to define  as a global variable, which is usually a good thing. :)If you'd be happy with just a one line input, you wouldn't have to handle the enter key yourself.On the documentation it sais this:Control-J -- Terminate if the window is 1 line, otherwise insert newline.So if you define the textbox's sub window with line count of 1 you don't need to handle the enter key yourself.I also gave the  a specific line and col count so the border is nicely around the textbox.
It helps to read the source code.  Here is a working validator:The validator has to return a character, which the  function checks with :and  only returns 0 for the two cases (a) ASCII BEL and (b) newline on a one-line window:


Answer URL
https://docs.python.org/3/library/curses.html#curses.window.subwin
