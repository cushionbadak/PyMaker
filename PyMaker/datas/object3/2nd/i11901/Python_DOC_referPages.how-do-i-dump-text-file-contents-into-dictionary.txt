Natural Text
Hi I'm using python 3 on mac and I'm trying to create a generic program to communicate with a range of different multimeters dependent on which text file is loaded. For example, I want a dictionary that will look something like this:This will eventually be used in conjunction with the pyvisa library in order to send commands to a meter.So, in order to make my program generic, I want this dictionary:to load a text file which has the following contents:As I will have it ready-formatted in the text file, I literally just want to dump it in the dictionary (all quotation marks, colons and commas will be in place). I'm doing it this way as different meters will have different commands, so I can just load a different text file if I'm using a different meter.Is the fact that my commands have colons gonna cause any problems?If theres a better way, I don't mind reformatting my text file. The main thing is that I make all of my text files following the same trend, doesn't really matter what that trent is as long as it works!ThanksEdit: those are indeed meant to be straight quotes 
I think perhaps a better way to format the file (to avoid dealing with comma line delimiters and colon field delimiters) is CSV. For example,This would allow you to read into your dictionary as follows:EDIT: Like @ShadowRanger suggested, this could be better for JSON than CSV. (It would allow you to keep your key-value format).The file could look like:and you code could be:
Well, without changing your existing file, since your keys and values are all legal  literals (assuming those smart quotes were a mistake), you could just let Python do the work using  or :
This assumes that all the quotes in the file are an actual  and not those other type of quotes. What this does is read the file, match a regex expression against it and fill the dictionary.


Answer URL
https://docs.python.org/3/library/ast.html#ast.literal_eval
https://docs.python.org/3/library/json.html#json.loads
