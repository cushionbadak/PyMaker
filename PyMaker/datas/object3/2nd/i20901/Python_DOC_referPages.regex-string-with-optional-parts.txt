Natural Text
I am trying to parse some docstrings. An example docstrings is:Both the  and  parts are optional. I want my regex to return as groups the description (first lines), the  part (if present) and the  part (if present).The regex I have now is:and works in case all three parts are present but fails as soon as  or the parts are not available. I have tried several variations with the non-greedy modifiers like but to no avail.Edit:  When the  and  parts are present, I actually would only like to match the text after  and  respectively.Thanks!
Try with:Just making the second and third groups optional by appending a , and making the qualifiers of the first two groups non-greedy by (again) appending a  on them (yes, confusing).Also, if you use the non-greedy modifier on the first group of the pattern, it'll match the shortest possible substring, which for  is the empty string. You can overcome this by adding the end-of-line character () at the end of the pattern, which forces the first group to match as few characters as possible to satisfy the pattern, i.e. the whole string when there's no  and no  sections, and everything before those sections, when present.Edit: OK, if you just want to capture the text after the  and  tokens, you'll have to tuck in a couple more groups. We're not going to use all of the groups, so naming them —with the  notation (another question mark, argh!)— is starting to make sense:
If you want to match the text after optional  and  sections, AND you don't want to use  to name your capture groups, you can also use, , the non-capturing version of regular parentheses.The regex would look like this:According to the Python3 documentation:A non-capturing version of regular parentheses. Matches whatever regular expression is inside the parentheses, but the substring matched by the group cannot be retrieved after performing a match or referenced later in the pattern.


Answer URL
https://docs.python.org/3/library/re.html#regular-expression-syntax
