Natural Text
When using multiprocessing.Queue, I've always wondered if it was better (faster) to:a) queue elements 1-by-1 orb) queue several larger objects (i.e. cache those smaller objects into a larger data structures in memory and then periodically queue the larger data structure).  I would expect b) to be faster since multiprocessing.Queue.put()/get() involves pickling which is known to be slow.  I'll share my test as an answer.
Here's the results:So queueing one large object of 1million entries was about 14x times faster than queueing it 1 million times.  (maybe no surprise since queueing involves pickling)And here's my code:It would be interesting to see how much of a speedup there would be with cPickle or dill pickle (https://pypi.org/project/dill/)UPDATE:@Chris brought up a good point about not making any assumptions here about pickling.  Here were the largest offenders (tottime) in cProfile:


Answer URL
https://docs.python.org/3/library/profile.html
https://docs.python.org/3/library/timeit.html
