Natural Text
I have two list comprehensions where conditions are defined in different places.However if i do this:it works.Now the confusing part is how the order is evaluated. What is the difference?
You have two different concepts confused here.An expression like  is a conditional expression. They can be chained, but the  is not optional - because this is a self-contained expression that evaluates to a single, specific value. The  is required because Python has to know what the expression evaluates to whenever it is not the case that .In a list comprehension, when you write things like , the  clause is used to filter the  values found ,  which elements of the resulting list are computed. There is no  permitted here because the purpose is entirely different.You can mix and match: . Now  is being used to decide which  values to compute a result for, and  is being used to decide whether to use  or  as the computed result for those s.
You are confusing two completely different constructs.Conditions for list comprehensions can be defined only at one plance, at the end, and they act like filters:The other construct you see is python's version of the ternary operator. It's not a filter, it just selects one of the expressions based on the logical value of a third expression:
from the docs:A list comprehension consists of brackets containing an expression  followed by a for clause, then zero or more for or if clauses. The  result will be a new list resulting from evaluating the expression in  the context of the for and if clauses which follow it.so, by definition the  comes after the .
For example, this:Is the equivalent of this:I.e. there is no  statement, but rather an  expression. So there's always something appended to the list on every step of the .However when you do this:And  statement will be used. And not all steps will append to the list. Translated into:


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#nested-list-comprehensions
