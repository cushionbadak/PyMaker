Natural Text
I'm trying to crawl a website to get the info about vehicles. I want to get all vehicles from that site. I want to repeat the process every day because every day there are new vehicles.There are a lot of cars, more than 100 thousand. Thus doing it once (in one process) would take too much time and it can't be done in that way.Thus I need to do it in more smaller processes instead of in one big process.If I understand correctly that can be done with IBM Cloud functions.I could for example for every make, and for every model of that make call an action to get the list of cars. That way I would have (instead of one big process) many smaller processes and it would take less time.The idea is as follows:Call an action which will get all  and loop through them. And for every make, first create and action and then call itThe code is as follows:The problem is in  loop. If there is only one make then it works fine. But if there are two or more it doesn't work. I get an error as follows:Any idea how can I do those requests inside for loop if there are two or more records?
Splitting the crawler process into separate action invocations is a sensible approach to running this work on IBM Cloud Functions.However, it would be better to have a single action that uses event parameters to determine the car make and model to crawl, rather than having a separate action for each make and model.The code above, which iterates over the model & model list, can then invoke that single action multiple times with different event parameters, rather than trying to creating a new action per item.
Were you able to resolve the issue?. For me it looks like the issue with your  library is not compatible to run inside Cloud Functions due to its asynchronous invocation behavior.According to Python documentation, you shouldn't use this library directly. Instead use highly recommended  module.http.client — HTTP protocol client Source code: Lib/http/client.pyThis module defines classes which implement the client side of the  HTTP and HTTPS protocols. It is normally not used directly — the  module urllib.request uses it to handle URLs that use HTTP and HTTPS.See also The Requests package is recommended for a higher-level HTTP  client interface.https://docs.python.org/3/library/http.client.html


Answer URL
https://docs.python.org/3/library/http.client.html
