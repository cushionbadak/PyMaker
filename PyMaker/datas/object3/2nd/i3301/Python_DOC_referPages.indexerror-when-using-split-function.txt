Natural Text
Please help with my code i am getting when i am using This works fine insteadappreciate your help My code so far:
You're reading the file as comma-separated values. So, look at this line:The values, separated by commas, are:So, your column 4 is . When you try to split that on commas, of course it doesn't have any, so you get back only one result, and then you ask for the second and third values that don't exist.You need to fix your CSV file to actually be a CSV file.That includes putting a comma after the  column, and after each column in the header.And, more importantly, it means not using commas inside columns when you're using the same commas to separate the columns. The result is at best ambiguous, and therefore it can't be parsed.Ways around this include:Quote the strings with commas in them.Escape the commas.Use a different separator within the column.Use a different separator between the columns.(You could almost use  as a column delimiter here, but that's really hacky, and any human editing your file is going to break it.)Here's an example that could work:Even with all that messy spacing (that you always get from human-edited files), this can be parsed cleanly and unambiguously with the right dialect parameters:Now, each row looks like this:… so now, you can  and get back:And then,  and  will work.However, you still have at least one more problem in your code. Your desired output includes columns 2 and 3, but you're explicitly leaving them out of the .While we're at it, there's no reason to try to cram 7 lines of code into one expression. So, why not just  the row once?And then, we can just modify  in-place:… and now:
If  does not contain any  then  will return a list with a single element, the entire string. In this case,  will obviously raise.  in case  is a list with a single element.


Answer URL
https://docs.python.org/3/library/csv.html#csv-fmt-params
