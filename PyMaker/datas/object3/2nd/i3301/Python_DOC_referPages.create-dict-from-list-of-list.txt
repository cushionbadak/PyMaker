Natural Text
I have a text file which I read in. This is a log file so it follows a particular pattern. I need to create a JSON ultimately, but from researching this problem, once it is in a dict it will be a matter of using  or . A sample of the text file is below. The dict structure which I am ultimatly looking for is I am ignoring the timestamp information in each list for now. This is a snippet of the code I am using, Which results in an undesired output, I need to dynamically populate the dict because I don't know the actual field/key names. 
Output
This is one of the rare cases where recursion in Python seems to be appropriate and helpful. The following function adds a  to the hierarchical dictionary  specified by the list of :The function works with the dictionaries of arbitrary depth. The rest is just the matter of calling the function:Result:You can modify the code to exclude certain levels (like the timestamp).
You could use a nested  here:Which gives the following:Note:  is a subclass of the builtin , so their is not reason to convert it to  in the end result. Additionally,  can also be serialized to JSON with . 
You can use :Output:
Check for the presence of keys:

Source : Result : 


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
https://docs.python.org/3/library/json.html#json.dumps
