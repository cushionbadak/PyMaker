Natural Text
I am new in python. I want to read one file and copy data to another file. my code is following. In code below, when I open the files inside the for loop then I can write all the data into dst_file. but it takes 8 seconds to write dst_file.To improve performance, I am trying to open the files outside of the for loop. but it is not working properly. it is writing only once (one iteration of for loop) in the . As shown below.   can someone please help me to find my mistake?
Files are iterators. Looping over them reads the file line by line. Until you reach the end. They then don't just go back to the start when you try to read more. A new  loop over a file object does not 'reset' the file.Either re-open the input file each time in the loop, seek back to the start explicitly, or read the file just once. You can seek back with , reopening means you need to use two  statements (one to open the output file once, the other in the  loop to handle the  source file).In this case, given that you build up the data to be written out to memory in one go anyway, I'd read the input file just once, keeping only the lines you need to copy. You can use multiple  loops over the same file object, the file position will change accordingly. That makes reading a series of lines from a match on one key string to another very simple. The  function makes it even easier:Note that I changed  to a list to avoid quadratic string copying; it is far more efficient to join a list of strings just once.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.takewhile
