Natural Text
I am using the Google Cloud NL API to analyse the sentiment of some descriptions. As for some rows the error keeps popping up, I would like to build a way around it instead of desperately trying to find the reason why this happens and erase the responsible rows. Unfortunately, I am relatively new to Python and am not sure how to properly do it.My code is the following:Would anyone be able to explain me how to wrap this for loop (or probably the latter part is sufficient) into the error/exception handling so that it simply "skips over" the one it can't read and continues with the next one? Also I want the 'description_list' to be only appended when the description is actually analysed (so not when it gets stuck in the error handling).Any help is much appreciated!! Thanks :)Edit: I was asked for a more complete error traceback:Traceback (most recent call last):
I agree with ThatBird that wrapping too much code in a try-block can make debugging internal errors complicated. I would suggest utilizing python's continue keyword.Essentially, you're explicitly catching Exceptions that are expected, and discarding that iteration if they occur and continuing to the next one. You should raise all other exceptions that are not expected.
In the traceback, look at the fourth line, it's the same line that is in your code and causing an exception. We always put try except around the code block that we think is going to cause an exception. Everything else is put outside the block.We try to get response from language client, it raises an exception saying InvalidArgument, we catch that. Now we know we don't need to do anything and we use continue, and move on to the next iteration. You probably will need to import InvalidArgument like -before using it in the code.You are right about continue. More about continue statement and how to handle exceptions in python.


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#continue
https://docs.python.org/3/tutorial/errors.html#handling-exceptions
