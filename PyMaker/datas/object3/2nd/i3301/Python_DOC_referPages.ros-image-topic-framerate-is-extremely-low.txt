Natural Text
I'm trying to get VREP vision sensor output processed with opencv via ROS api. I did manage to set up scene and get scripts running, but the problem is that I get somewhat like 4-5 fps even without actual processing (currently I just push images directly to output). This issue does not seem to depend on image resolution, since both 1024*512 and 128*128 captures result in exactly the same fps. This also is not a matter of blocking calls, although I'm posting single-theaded code, I do have quite complex multithreaded processing pipeline which performs rather well with actual cameras (~50 fps). Lua scripts on VREP's side do not seem to be a problem also, since I've  tried to play with video retranslation examples provided by vrep, and they seem to achieve rather satisfying fps. So it seems like image streaming is a bottleneck. Here's my sample script:I also have to mention that I run it with ros bridge, since I need processing done with python3, which is supported by ROS2 only, and VREP seems to work only with ROS1 (although I'm just starting to work with these systems, so I'm not confident in that case). 
I got a similar issue with a slow python. I used the flag  : https://docs.python.org/3/using/cmdline.html#cmdoption-owhich decreased the execution time.Also, a new issue has been filed: https://github.com/ros2/rosidl_python/issues/9 showing how conversion of message objects can be improved for python.


Answer URL
https://docs.python.org/3/using/cmdline.html#cmdoption-o
