Natural Text
*****EDITED WITH THE FULL CODE******I am trying to parse some Japanese code using Python (Version 3.5.3) and the MeCab library on MacOS.I have a txt file with the following text:石の上に三年I set my preferences on my textEdit to save using utf-8. So I believe the system is correctly saving it in the utf-8 format.I got the following error:Bellow goes my full code. Nothing missing.Has anyone any clue of why I am getting this error message?Funny fact: Sometimes it works. :OThanks in advance,Israel
The error is happening because you're feeding something that isn't valid UTF-8 into a UTF-8 decoder. This could be caused by splitting bytes rather than characters, or perhaps by incorrectly attempting to decode another encoding like JIS or EUC as if it were UTF-8. In Python it's generally sound to stick to unicode strings, and your system might switch to decoding text files if something has set the locale parameters. Even when you do have proper unicode strings splitting is a non-trivial issue as there are codes to modify others, such as accents. Japanese doesn't have much of that sort of thing, luckily (unless someone happens to encode po as ho+ring etc). One potential issue: Mecab's webpage states (per google translate) "Unless otherwise specified, euc is used." If Mecab is word splitting under the assumption it is reading EUC, it will mangle UTF-8. 
Solution:Apparently, the problem was with MeCab, not with the python code itself. This problem was that when you install it from the scratch, using make, sometimes it doesn't install properly but it doesn't raise any error.I am not sure about why, but if you wanna dig further and find out what is exactly happening, it would be great. I only know that I uninstalled and re-installed again using brew, and it worked. Similar stuff happened in other Macs from the office. I am using brew in OS X, so I will post the command I used to install it properly:Also, to install it on linux, use the following command:Hope this helps future people trying to tag Japanese words.
When you open the file, specify the encoding:BTW, when opening the file, use a context manager as shown in this example. 


Answer URL
https://docs.python.org/3/library/locale.html
https://docs.python.org/3/library/contextlib.html
