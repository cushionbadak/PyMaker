Natural Text
Simple question, when doing:Does this create the entire list and then return the selected indexes?If so, is there a way to only create the list from these indexes without creating the entire list?Thanks
Does this create the entire list and then return the selected indexes?Yes. We need a list for the slicing to slice.If so, is there a way to only create the list from these indexes without creating the entire list?Instead of building more list than you need and then slicing out the part you want, write your list comprehension to only generate the part you need. For example, instead ofwrite
Yes, the first expression (the list comprehension) has to complete before the second expression can be applied to the result.If your list comprehension only has a single loop and doesn't have any filters (no  code after the loop), then you can trivially apply the slice to the object you are looping over, instead:If the object you are iterating over is not a sequence but an iterator instead, use the  object to do the slicing:For nested loops or loops with a filter, moving those into a list comprehension inside the  object could help:Note:  still has to loop over  items of the first argument, it can't jump into the iteration sequence directly. This means that if that iterable is slow or  is very high, there is still a start-up cost. However, if the list comprehension  is expensive or  is significantly reducing the number of items you'd have to iterate over that you later ignore again,  will still give you a win.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.islice
