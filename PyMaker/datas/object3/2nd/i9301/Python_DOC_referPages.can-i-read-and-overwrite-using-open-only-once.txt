Natural Text
There are 1000 over html files.I want to do:read file.trim the specific line.over write the file (not appending).following code worked. but I thought using 'open' twice was wasteful. Can I write more simply?I tried:: this is addition.:  method returned .
Yes, open the file in  mode, and 'rewind' (seek back to start) after reading:I added a  call as well, because you are removing data from the file. Without that call, you would not replace all data in the file, you'd still have  bytes at the end.Your attempts failed because you did not seek back to the start when using  (so writing started at the point where reading stopped, i.e. the end of the file), and  truncates the file first (so sets the length to 0, dropping the contents).The alternative would be to use the  module; it lets you replace file contents in-place with a somewhat simpler approach:With , the old file is moved aside to a  backup for you, and printing directs output to a new file opened in the original location.


Answer URL
https://docs.python.org/3/library/io.html#io.IOBase.seek
https://docs.python.org/3/library/io.html#io.IOBase.truncate
https://docs.python.org/3/library/fileinput.html
https://docs.python.org/3/library/fileinput.html#fileinput.hook_encoded
