Natural Text
I have existing data in a file that looks like this:What i'd like to do is search the document for any line with a number value greater than 30 and print the line above that number.Here's what I have now :I know this isn't the cleanest script but i just want something that works. 
This is the approach I would take, which assumes your input data is regular:
If you want different approach , then collect data and values in a dict and then iterate over dict if key is large than 30 then fetch the value:output:step by step:First collect all values and num in dict :it will give :Now iterate over this dict and fetch value of that key if key >30
There's a couple problems with your approach. Here's my attempt:I haven't really tested it but it should work. It is similar to yours but it fixes a lot of your problems. First of all you don't need to use enumerate here. I'm not sure exactly what you were getting at with print(line -1) but you need to keep the previous line in a temp variable because our file is now an iterable, meaning you can't use indexing to grab lines like in a list. Also in startswith('1' or '2' or '3' or '4' or ... ) is equivalent to startswith('1'). You should read into exactly what or does.
You can use a combination of list comprehensions and itertools.compress to solve this.Your file format has to follow strictly what you posted here though.https://docs.python.org/3/library/itertools.html#itertools.compressCompress utilizes 2 lists and returns an iterator over list1 that includes only elements that have a  in the other list.Without itertools:
You can try this:Output:


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.compress
