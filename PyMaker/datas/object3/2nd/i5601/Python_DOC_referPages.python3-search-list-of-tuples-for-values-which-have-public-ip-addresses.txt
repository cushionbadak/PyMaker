Natural Text
I am attempting to write a script which pulls data from a sqlite3 db and outputs only specific data which is of interest.I have written a function:Which yields:My intention is to pull global/public IPs and the user affiliated with them and store this data as an ordered list/dict. I believe there may be duplicate entries, so I think the only way to do this is with a list.If the user shows only private or non route-able IP's, Id like for this data to be ignored. Initially I attempted to do this within the SQL query but this is only doable as far as I can tell with the REGEXP function which does not come shipped with sqlite3 by default and may cause others to have trouble using the script. I am now attempting this with just python ipaddress library. I convert the list of tuples into a list of lists and am trying something like this:This code obviously doesn't work but gives general idea of what I am trying to accomplish. I am struggling to come up with a clean way of doing this and would appreciate any feedback. Thanks for reading
I would do a few things, first I would prepare the data better by selecting only IP addresses.next you can process the prepared data using a set to ensure uniqueness, and using ipaddresssome people try to avoid list comprehensions because they can defeat their own purpose and become unreadable but I think this is an appropriate use.
I really appreciate the feedback fellas, but after some unit testing Ive actually created a solution that better answers my problem:I needed the user - ip relationship to be intact so I created a dict, thanks for steering me in the right direction however.


Answer URL
https://docs.python.org/3/library/ipaddress.html
