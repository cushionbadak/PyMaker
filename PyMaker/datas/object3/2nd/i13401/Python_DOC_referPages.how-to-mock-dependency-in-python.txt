Natural Text
I am new to python unit testing framework and lot of confusion in mocking dependency.I am trying to write unit tests for below member function of a class, ():How do we eliminate dependency ?Need to mock  ?How do we make sure  is assigned with  ?How to assign value  to variable ? which is in turn derived from  object.I tried writing below unit test. I am unable to check for fail and pass condition. I am not sure whether it is correct or not. Validation class uses  Class object and Node class uses some other class.How to make sure exception is raised or not depending on the condition?
Yes, you'd mock anything external to the unit of code under test. Here that means the  dictionary and the  class.The patch needs to be applied to the module your code is in;  is correct if  is the same module as ; see the Where to patch section as to why that is.I'm not sure that using  is all that helpful here; your  attributes are all instance attributes created in , so they are not available on the class, which is what informs the spec. See the section on autospeccing on how to overcome that if you really want to set a spec. is set from , you can use the  object to patch that dictionary for your needs.The  is simply handled by either setting the  attribute to an object with the right length, or by setting , since it is the  method that is called for the  function.So, to test, you'd do:


Answer URL
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
https://docs.python.org/3/library/unittest.mock.html#auto-speccing
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch.dict
