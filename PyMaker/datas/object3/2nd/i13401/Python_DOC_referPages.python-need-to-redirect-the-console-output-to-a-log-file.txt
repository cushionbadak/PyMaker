Natural Text
I am executing multiple "make" files from my python script. A sample script is as follows :and the output will be :Calling make fileStarting makecd src && make distcleanmake[1]: Entering directory  '/home/tejas/WLANrepo/src/3rdparty/redis-stable/src' rm -rf  redis-server redis-sentinel redis-cli redis-benchmark redis-check-dump  redis-check-aof *.o *.gcda *.gcno *.gcov redis.info lcov-html (cd  ../deps && make distclean)'I want the entire output to be redirected to a log file. I tried :but this will redirect only those statements that are under "print". But the output of the make file that gets called is not getting redirected.Python: python 2.7, OS: CentOS
You need to redirect output of processes executed by python (in your case, ). See documentation for subprocess module and specifically, the redirection parameters (, , ) of its methods. Depending on your needs you may completely discard subprocess output (), or collect it to a variable inside python process () or send it to another stream.
To capture regular output of the command we can use the  function. The synchronization is forced because the function must wait for the output of the called sub-process, however if it fails (returns the error message you want to capture) you will need to handle the  that is raised. Fortunately the  exception has an  attribute that stored the error message. The  will give log_info the output when the make instance exits cleanly and the  catches the error when it does not. Either way you cant move on until the  is written to the  file, so there should be no issues with synchronization I would also add that if you are writing this script for utility reasons like: Dang. I really need this compiled now and the makefiles that shipped with it aren't working I need to gather the output to debug this   Then go ahead and get it finished in whatever way is most useful or the quickest for you BUTIf you are really doing something more like:I need a setup script to automate building my software, and I will ship it with the software for the foreseeable future Then stop, don't re-invent the wheel you are looking for cmake. (and will log output for you as well)


Answer URL
https://docs.python.org/3/library/subprocess.html
