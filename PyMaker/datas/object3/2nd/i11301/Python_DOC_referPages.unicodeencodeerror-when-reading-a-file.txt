Natural Text
I am trying to read from rockyou wordlist and write all words that are >= 8 chars to a new file.Here is the code - Some words are not utf-8.Update
Your  error occurs during writing to  (in ).By default,  uses  that is ANSI codepage on Windows (such as ) that can't represent all Unicode characters and  character in particular.  is a one-byte encoding that can represent at most  different characters but there are a million () Unicode characters. It can't represent them all.Pass  that can represent all the desired data e.g.,  must work (as @robyschek suggested)—if your code reads  data without any errors then the code should be able to write the data using  too. Your  error occurs during reading  (). Not all byte sequences are valid utf-8 e.g.,  may fail. What to do depends on the application.If you expect the file to be encoded as utf-8; you could pass   parameter, to ignore occasional invalid byte sequences. Or you could use some other error handlers depending on your application.If the actual character encoding used in the file is different then you should pass the actual character encoding.  by themselves do not have any encoding—that metadata should come from another source (though some encodings are more likely than others:  can guess) e.g., if the file content is an http body then see A good way to get the charset/encoding of an HTTP response in Python Sometimes a broken software can generate mostly utf-8 byte sequences with some bytes in a different encoding.  can handle some special cases. You could also try  utility/library and see if it helps in your case e.g.,  may fix some utf-8 variations.


Answer URL
https://docs.python.org/3/library/codecs.html#error-handlers
