Natural Text
I'm performing data analysis on a large number of variables contained in an hdf5 file. The code I've written loops over a list of variables and then performs analyses and outputs some graphs. It would be nice to be able to use the code for combinations of variables (like  or ) without having to put in a bunch of if statements, i.e. execute the statement in the string when loading the variables from my hdf5 file. If possible, I would like to avoid using , but I'm not completely against it if that's the only efficient way to do what I want.   My hdf5 file looks something like this : And what I would like to do is this (this functionality doesn't exist in , so it bugs) : 
First you have to ask yourself: Do I know the arithmetic operations only at runtime or already at programming time?If you know it already now, just write a function in Python for it.If you know it only at runtime, you will need a parser. While there are libraries specialized on this out there (example), Python itself is already a parser. With exec you can execute strings containing Python code.Now all you need to define is some sort of grammar for specific language. You need some conventions. You have them already, it seems you want to convert  to . In order to make life easier I recommend.Put names of data sets in brackets.Then simply replace all terms in brackets by  and then execute the string with .The line using regular expression to match the variable names re.sub is actually not tested by me.And still another drawback. I'm not sure reading data sets from an hdf5 object is fast since the same data set may be read multiple times and if hdf5 is not caching it might be better to store the data sets intermediately before doing computation on them.


Answer URL
https://docs.python.org/3/reference/simple_stmts.html#grammar-token-exec%5Fstmt
