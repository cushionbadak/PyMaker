Natural Text
Today I wrote a Python script to process data and print them in customized format. It worked as expected under interactive Python. Then I moved on to try in Terminal to redirect the output to a text file, and encountered something unexpected.The particular example I tried was to arrange a list of data in columns, and print them in LaTeX tabular format. It works more or less like:When I tried to run the script in Terminal, I did this:But it turned out that the  part was shown as , which is not the same as under interactive Python.As I looked into the problem (or maybe the principles behind) more, I found that the behavior of the Python script processed by  is not the same under interactive Python.Under interactive Python:  gives However, in Terminal,  raises a :Terminal seems to give  when the number of backslash is 3 or 4. Number 5 or 6 raises an error. 7 backslashes give , which means there is no way to give  under this environment.I've searched for this issue for quite a while, but it seems very few talks about . Sorry in advance if I made a duplicate.
In terminal, saying:results in an error because the shell comes into play.  It translates  into  (see the error message carefully).Instead, saywhen running from the shell, i.e. supply the command in single quotes and arguments to  in double quotes.The equivalent of the command that you were executing in interactive mode would be:EDIT: This answer explains why a raw string cannot have an odd number of backslashes.Moreover, this is also explained in the official FAQ.
Your shell interprets the backslashes inside the double quotes as well.  You can use single quotes to avoid this; then you will have to change your single quotes in the python script to double quotes instead:You could have used  debugging in this case:  Simply write  before your shell command to see what is about to get executed:shows:
Your terminal does not recognise raw or regex strings, i.e.  as anything special and all backslashes need to be escaped by backslashes in the terminal, so:needs to be:andwould map to:


Answer URL
