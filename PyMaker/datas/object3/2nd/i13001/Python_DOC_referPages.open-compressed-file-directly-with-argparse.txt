Natural Text
Can I open a gzip file directly with argparse by changing the  to some gzip type?  It's not in the docs, so I'm not sure if argparse even suppoets compressed file types...
First, the  parameter is a function or other callable that converts a string into something else.  That's all. is factory class that ends up doing something close to:In other words, it converts the string from the commandline into an open file.You could write an analogous  function that opens a  file. is just a convenience, and an example of how to write a custom type function or class.  It's a convenience for small script programs that take an input file, do something, and write to an output file.  It also handles  argument, in the same way that shell programs handle stdin/out.The downside to the  is that it opens a file (creates if write mode), but does not provide an automatic close.  You have to do that, or wait for the script to end and let the interpreter do that.  And a 'default' output file will be created regardless of whether you need it or not.So a safer method is to accept the filename, possibly with some testing, and do the open/close later with your own  context.  Of course you could do that with gzip files just as well.
 also accepts an open file instead of a filename, so just pass the file object opened by  to  to get a file-like object that reads the uncompressed data.
No, argparse has no concept of file type unless you add a flag to indicate file type.On the other hand you can use python's gzip lib with a try block to read the file.


Answer URL
https://docs.python.org/3/library/gzip.html#gzip.open
https://docs.python.org/3/library/gzip.html
