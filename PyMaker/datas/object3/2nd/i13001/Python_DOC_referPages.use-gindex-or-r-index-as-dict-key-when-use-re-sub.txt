Natural Text
This question already has an answer here:Python Regex Sub - Use Match as Dict Key in Substitution                    1 answer                For example, I have the following string:Now I want to use  to replace  and . I know that I can use group to catch some string and then use  or  to use  it. But now I need use it as a dict key, I have this dict:And I wish I can get this:Also I tried:
You need to use the function form for  in this case. For your basic use case, it could be a simple as:If the logic is more complicated, a top-level  is the way to go. Basically, you pass a  instead of a , per the  docs:If repl is a function, it is called for every non-overlapping occurrence of pattern. The function takes a single match object argument, and returns the replacement string.
Python provides a  class (see also PEP 292) which can format strings very similar to kind you are working with. By default the  class recognizes  as the placeholder. If you change it to  (by subclassing ) then you can perform the substitutions by calling the  or  method:prints
If formatting your string differently is an option, you can do it this way:


Answer URL
https://docs.python.org/3/library/re.html#re.sub
https://docs.python.org/3/library/string.html#template-strings
https://docs.python.org/3/library/string.html#string.Template.substitute
https://docs.python.org/3/library/string.html#string.Template.safe_substitute
https://docs.python.org/3/library/re.html#re.sub
