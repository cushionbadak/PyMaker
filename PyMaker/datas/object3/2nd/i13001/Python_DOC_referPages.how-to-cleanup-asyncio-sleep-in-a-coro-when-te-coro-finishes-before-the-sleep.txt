Natural Text
I'am not able to cleanup the count_timer (sleep) below, when this counter is interrupted and finished by another timer event (the stop_future). Result:Update-1: cancel count_timer (wrapped in a future)Result:
 implements much of what you are trying to do. Combine it with  to prevent your Future from being cancelled when the timeout expires:Edit: In case it wasn't clear, this goes in the  loop, replacing the call to .Update by voscausa: showing the codeWith:Result:  
You've configured  to return upon the sooner of the timer finishing or the user cancelling the loop. It sounds like you want to cancel the  in the case that it wasn't the future that caused the  call to return. You can learn this simply by asking which of the two futures is done.


Answer URL
https://docs.python.org/3/library/asyncio-task.html#asyncio.wait_for
https://docs.python.org/3/library/asyncio-task.html#asyncio.shield
