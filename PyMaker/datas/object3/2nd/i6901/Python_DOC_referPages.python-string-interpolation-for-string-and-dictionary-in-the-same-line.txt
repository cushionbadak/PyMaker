Natural Text
I have a dictionary and a datetime object I converted to string. How do I print the datetime string and several items from the dictionary in the same line?For example:This is what I'm trying to print:Getting an error on the datetime string:Thanks!
Like others have said it is probably the best to use str.format(). The closest option with method str.format() to your question is code which Violet Red suggested in his answer:But if you really want or need to use the old way of formatting (using ) then you can try some of these options:Separating string into two or more stringsLike Eugene Yarmash explained in his answer you can't mix ordinary and mapping format specifiers in same string, but you could separate it to two (or more) strings like this:This will work but if you wanted to print  in the middle (something like this ) or if you have more ordinary and mapping format specifiers which are intertwined (something like this ). You could separate  into multiple strings like this:But then there is no point in string format in first place.First applying mapping than ordinary format specifiersThis method solves our problem of formatting string with ordinary and mapping format specifiers which are intertwined. I will explain this method on the example from OP. We have string  which we want to format. Like I said in first we apply mapping format specifiers:If we do this it will print out:This does not work, but what we can do is add parentheses  in every ordinary format specifier and update our dictionary with :This will print out:which we can easily format with .The question is how to  to your dictionary. You have two options, to use a function or to define your class for the dictionary object.1. Using functionAnd you use it like this:The result is exactly what we want:2. Creating classHere we don't actually add  to dictionary, but rather change its method  which is called when key can not be found in dictionary so it will retrun  for each mapping format specifier that is not in dictionary. It is used like this:It also prints out the desired result:
One way is to assign a name to your datetime arg:But actually it will work even without itthough it's better to use named values in formatted strings imo
You're better off using the  method:
You can't mix ordinary and mapping format specifiers in a single format string. You should use either or In Python 3.6+ you can use much more convenient and efficient f-strings for interpolation, e.g:where replacement fields are expressions evaluated at run time.
You can try this:


Answer URL
https://docs.python.org/3/whatsnew/3.6.html#pep-498-formatted-string-literals
