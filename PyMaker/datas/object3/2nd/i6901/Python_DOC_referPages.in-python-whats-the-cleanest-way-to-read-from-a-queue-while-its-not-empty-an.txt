Natural Text
I've just had a situation where a multi-threaded app I wrote was hanging at some point when it was interacting with a Queue, which was being populated by a library, in another thread.In the simplest form, I was just doingThe reason I had that, and no more (specifically leaving out ) was that I wasn't that experienced with multi-threading, or s in python, and that's what was in the sample code.In my situation, at some point after hours of operation, the app would hang, sometimes at , sometimes at , and sometimes after .When I read about others who'd had similar issues, it was only then that I learned about , and when I added that to my code, simply like,These hangs I was experiencing ceased.  I do a few queueing operations like this throughout the app, and I want a standardised way to handle running through the q , getting a row with , and calling .
The favourite method I've found for this, which I'm now using is a combination of a context manager to handle the  and  like,in combination with a generator function to handle the  check, and  the row back to you like,So now, instead of writing,I use,which I personally consider more elegant, and overall safer (because I won't forget about calling  as was the case before).


Answer URL
https://docs.python.org/3/reference/datamodel.html#context-managers
https://docs.python.org/3/library/queue.html#queue.Queue.get
