Natural Text
I'm currently trying to write a module of my own for using git. For this reason I would like to avoid using GitPython. My code for pushing at the moment is as follows:This tries to push to git by executing the command  to avoid having to work with stdin to pass the username and password to git. This works on the command line, but whenever I try running this code, I get the following output:Git seems to react this way whenever the  command is involved, even for something like . Using something like  and setting ,  still gives 128 and  gives nothing.Can anyone explain why this is happening, and provide a solution to my problem?---EDIT---Following some advice from here, I've run a bunch of git commands with . I've seen that  is the only command that I am using so far that has a  line.This makes me suspect the cause may lie in something else from the link above.I cannot run  from subprocess, even with the environment. I think it has to do with a race condition created by the lfs pre-push hook. Subprocess calls ,  calls ,  ends before lfs or lfs kills the stdout/return code. Git push works normally in the command line, so one would think that invoking it through suprocess would work the same, since the module literally sends the same commands to a shell environment.While the issue does not lie in lfs for me, perhaps it lies in that call to ? 
When I've had problems with running git using subprocess I've had to add  to my subprocess function call.In your case:You may want to read the security considerations found in the subprocess docs before you do that though.Subprocess Security Considerations


Answer URL
https://docs.python.org/3/library/subprocess.html#security-considerations
