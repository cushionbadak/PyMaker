Natural Text
I have this URL https://českébudějovice.mysite.com/ and it's a Czech city name. When someone accesses that url, I extract the subdomain and query for City model object. So I have City model in Django and can successfully query that city thru shell:However today I received an exception on Sentry on production saying that 'City matching query does not exist' and the URL is shown like this:Obviously, I don't have a City with the name 'xn--eskbudjovice-deb41c5g' hence I'm getting 'City matching query does not exist' error. I've been trying to convert that weird subdomain to the actual name but no luck. I've tried below:I'm using Cloudflare and I wonder if it's somehow converting url to that form instead of serving it as unicode to my server. 
This is called Punycode and it's a valid way of representing international domain names. You can decode the string using the 'idna' codec:If you're on Python 3, use codecs to decode punycode. 



Answer URL
https://docs.python.org/3/library/codecs.html
