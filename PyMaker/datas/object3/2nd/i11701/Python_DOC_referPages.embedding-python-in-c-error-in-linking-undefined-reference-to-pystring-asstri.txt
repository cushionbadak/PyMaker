Natural Text
I am trying to embed a python program inside a C program. My OS is Ubuntu 14.04I try to embed python 2.7 and python 3.4 interpreter in the same C code base (as separate applications). The compilation and linking works when embedding python 2.7 but not for the python 3.4. It fails during the linker stage.Here is my C code (just an example not real code)simple.cget_version.pyI compile the program using gcc. First with compiling and linking flags set to python 2.7 I run the compilation and linking by using following command:The flags expand as:python-config --cflags: python-config --ldflags: It works fine without any issues. When I try to compile the same with python3.4 flags it fails:The flags expand as:python-config --cflags: python-config --ldflags: Error message:I tried by changing the order in which linker objects are specified. But no luck. Any idea why this would be the case?Thanks for the help!!
Python 3 does not have  any more; the Python 3  correspond to Python 2  objects; the names of the functions for handling  in Python 3 are -prefixed in the C-API.Thus this line:could be changed to use  on Python 3:(Not that passing  to   will have undefined behaviour, so you'd want to check that a non-NULL pointer was returned)


Answer URL
https://docs.python.org/3/howto/cporting.html#str-unicode-unification
https://docs.python.org/3/c-api/unicode.html#c.PyUnicode_AsUTF8
