Natural Text
The question may be a bit convoluted, but let me give an example. PyQt does what I'm asking for in the  function. You can do this: has a keyword argument called . It's optional, and if omitted the name of the attribute is used (in this case ). I want to replicate that behavior. Any ideas on how I can do this?
This was really killing me here for a while. So I tried something just for the fun of it.Anyhow, my idea was that I should grab the line with code of the caller, and then compare that line to a list of all local names of the frame the call originated from. If I'd get a hit, that means that variable of local namespace is the one that called my class.However, issues start when you have to start considering, what exactly is a proper match and what isn't. That boils down to a parsing/matching problem. It's likely a strong regex that looks for assignment operator  could do the trick? I just did it with  string comparison function in python because I'm lazyBut like I said, I find all this little wonky and strange...Here's an example code of how a function retrieves the name of a variable/attribute that the result of called function is assigned to.Output of this is Obviously,  matches , and  because in names we have both of them and  just looks for the first and last matching index and would find a hit even in "nnnaattrnnnnnn".I do have to mention I doubt they did it the hammer to forehead style I did it in.... (I've not even tried experimenting with multiple assignemets, generator expressions, and other wild context in which your a variable could possibly be found)


Answer URL
https://docs.python.org/3/library/inspect.html
