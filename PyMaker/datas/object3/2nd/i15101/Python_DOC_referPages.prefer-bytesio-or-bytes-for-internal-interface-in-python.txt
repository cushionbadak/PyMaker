Natural Text
I'm trying to decide on the best internal interface to use in my code, specifically around how to handle file contents. Really, the file contents are just binary data, so bytes is sufficient to represent them.I'm storing files in different remote locations, so have a couple of different classes for reading and writing. I'm trying to figure out the best interface to use for my functions. Originally I was using file paths, but that was suboptimal because it meant that disk was always used (which meant lots of clumsy tempfiles).There are several areas of the code that have the same requirement, and would directly use whatever was returned from this interface. As a result whatever abstraction I choose will touch a fair bit of code.What are the various tradeoffs to using BytesIO vs bytes?Playing around I've found that using the File-Like interfaces (BytesIO, etc) requires a bit of administration overhead in terms of  etc. That raises a questions like:is it better to  before you start, or after you've finished?do you  to the start or just operate from the position the file is in?should you  to maintain the position?looking at something like  it doesn't do any seekingOne advantage I've found with using file-like interfaces instead is that it allows for passing in the fp to write into when you're retrieving data. Which seems to give a good deal of flexibility.Is there a good reason to prefer BytesIO over just using fixed bytes when designing an interface in python?
The benefit of  objects is that they implement a common-ish interface (commonly known as a 'file-like' object).  objects have an internal pointer (whose position is returned by ) and for every call to  the pointer advances  bytes. Ex.In your use case, both the  object and the  object are maybe not the best solutions. They will read the complete contents of your files into memory.Instead, you could look at  (https://docs.python.org/3/library/tempfile.html).


Answer URL
https://docs.python.org/3/library/tempfile.html
