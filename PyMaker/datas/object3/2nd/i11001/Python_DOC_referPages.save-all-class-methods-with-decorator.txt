Natural Text
i have a class and i want to all its methods in a list inside the class, i want it to work even if i have two methods with the same name, my problem is i can't access the class to put the methods there.lets say i have the decoratorand i have the classi want to be able to door something like thatI already read a lot of problems like this and it looks like what i want is not really possible since A is not exist when the decorator is called, but maybe there is a way to access its variables since the decorator runs inside it?
The class object itself is only constructed after the body statements (all the statements inside the  block have been executed. Decorators on the other hand are executed together with the function they are decorating.You could just in the list you want methods to be added to, to your decorator:and have the decorator use that list to append your methods:If you are using Python 3, then another option is for you to use a metaclass with a custom  class method that uses  to collect all attributes into lists first so you can still access them even if named the same. Your decorator then only needs to 'mark' each function object with an extra attribute or something. This is a little more involved.When you then want to call those functions, you are right that they are not bound and won't have  passed in for you. Either manually pass in , or bind the manually. Functions are descriptor objects, call their  method to bind them to an instance:Demo:


Answer URL
https://docs.python.org/3/reference/datamodel.html#preparing-the-class-namespace
