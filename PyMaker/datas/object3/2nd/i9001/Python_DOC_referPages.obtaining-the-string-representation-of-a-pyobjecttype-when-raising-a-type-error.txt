Natural Text
I am checking the types of user input like so:However, In the exception message, I would like to include the bad type the user has submitted, to make debugging for him easier.Is there a simple or otherwise idiomatic way to achieve this?The only way I can think of is the following:Which I suppose I could wrap in a macro:And used like such:
You could slightly misuse the  mechanism. The slight bit of non-neatness is that it outputs into a , so you have to get the item from the tuple too.This generates something like TypeError: must be str, not intNote: This is fine for Python 2 since  matches both  or  object (i.e. effectively ). For Python 3 it will only accept  (not ) so you might have to follow the documented advice and "to use the  format with  as converter." This gives an error ofTypeError: Can't convert 'int' object to str implicitlyAdditionally, it's a bit nicer because the  is a  that you can use directly instead of having to do 


Answer URL
https://docs.python.org/3/c-api/arg.html#strings-and-buffers
