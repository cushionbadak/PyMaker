Natural Text
I have some data with start and end times in it (datetime format), and I want to calculate duration in hours based on a more restricted date range. But so far, I've been unsuccessful. (Still very much an amateur with python.)Example: John Doe lived at 123 Main St from 1990-01-01T00:00:00.0 to 2016-12-31T23:59:59.0, but I want to know how many hours he lived there between October and December 2015.The code below will successfully calculates hours, but I haven't been able to successfully filter the datetimes, so that I only get hours between the dates of Oct 1, 2015 and Dec 31, 2015.
You need to do two things:Determine if your range needs adjusting; if someone didn't move to the place until after October 1st, then you need to pick the later date that they did actually start living at the house. The same applies for the end date.Then calculate the number of hours between the start and end date (adjusted as needed). Take into account that this may be 0!I'm leaving out converting values to  objects here; you have that down correctly already. So given  and  being the start and end times a person lives at an address, and  and  are the boundaries for which you want to know the number of hours:I took the  method rather than the  attribute here to make sure you incorporate durations fractions of a day in your hour count.Demo:This still holds true when  or  fall within the period:
I have this method that I have used for computing the working days (from Monday to Friday) in a period.Maybe changing the method in this way could work and you have just to multiply *24 the result obtaining the hours:I'm still a beginner, so probably someone will help you in a better way.


Answer URL
https://docs.python.org/3/library/datetime.html#datetime.timedelta.total_seconds
