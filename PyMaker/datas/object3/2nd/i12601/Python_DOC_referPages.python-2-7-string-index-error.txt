Natural Text
I'm writing a program to choose a random line from a text file using a while loop as a counter and then another variable to choose the random line:However, I get the following error when trying to run the program:
You need  not ; but actually you can highly simplify your code:Or, if you prefer the  version:
You're overwriting  on each iteration of the  loop. At the EOF  returns an empty string, therefore  raises the . You could use  instead (or just use the file object as an iterator):
The problem is here:You just re-defined the variable, so after that  loop end,  actually is the last line in your file.You can simply use  to read the file into a list line-by-line, and use  to choose an element in a list randomly. You don't need a counter and slice the list yourself.For example:However, if you also want to know how to fix your code, just put the output of  into a list like below:Note that if you don't want use  and , you still don't need that counter, you can also use  to get the length of your list instead of write a useless counter yourself.


Answer URL
https://docs.python.org/3/library/io.html#io.IOBase.readlines
https://docs.python.org/3/library/random.html#random.choice
https://docs.python.org/3/library/io.html#io.IOBase.readline
https://docs.python.org/3/library/functions.html#len
