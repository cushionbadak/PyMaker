Natural Text
Interrupting execution of python code withsometimes (but not always) drops me into ipdb without showing surrounding lines of code, even if I issue the  command. Ie, I get something likeinstead ofDoes anyone know how to show lines of code?Edit: If I tep into a new function (situated in another file), a single surrounding line each side does appear.
 is a wrapper around the stock python debugger pdb so in those cases where  can't show line numbers neither will  be able to do so. gets its source text from python module linecache. And there are various things that can foil it. The most obvious case is when there is no source file. This happens if you are evaluating a string. For example maybe are in the middle of  or . Along those same lines, you might have defined function via  and you are now in the middle of running that function. For example:The way you may be able to tell that you are in this kind of case is to adjust the stack frame and look at the calling context. So when that happens, run  or  (backtrace):If you see: The  thing means that you are in this situation. A backtrace may show something like: Other ways where the source might not exist may be that the source code was deleted, or maybe the bytecode was generated all by itself, or via an AST.There is another debugger for Python called trepan (for Python 3 see trepan3k) that tries a lot harder to find the source text. And it also tries to verify that the source code it shows matches what the Python interpreter is running by using more than just the basename part of the filename. The debugger can even reconstruct the Python source code when there is none! This magic is done via uncompyle6.So show this, here is an example for this simple Python program: Now we run the debugger: If this isn't enough, you can also disassemble the code to see that. And if you happen to know where the python source file is but for some reason the debugger can't find it on its own, you can tell it where the source code lives using . 


Answer URL
https://docs.python.org/3/library/pdb.html
https://docs.python.org/3/library/linecache.html
