Natural Text
I am working on an online project by Udacity. I am using  configured by them, to run the server containing the Database. Unfortunately when I tried to give the code persistence, the server returns an error everytime. I am new to python so please forgive any obvious mistakes.Here is the error :And this is the code that I have changed in forumdb.py :forum.py - this file renders the html bringing data from the DB : http://pastebin.com/ZiHWiiwrPlease help !
You're querying the WSGI environment with  (forum.py:68). I just ran a sample WSGI server (example code taken from the python docs), which outputs all the available environment-variables upon request:The output I'm getting when querying the test-server is (among a lot of other variables):You see that the CONTENT_LENGTH variable is empty. This seems to be the case in your application as well.If the env-dictionary is now queried with , The  is actually found, but it's value is an empty string - that's why the get() method returns '' and not your specified default value 0.Since an empty string can't be converted to an int, you're getting the ValueError.Try catching the exception and your code should work:
Your current error is happening because of the line in forum.py. Basically the key  exists and it is an empty string and an empty string can't be converted to an int. Change that line to Since you're new to Python there are a couple things you should know about the modified line First it is know as a conditional expression, second empty strings in Python are have a boolean value of False so whenenv.get('CONTENT_LENGTH') returns an empty string then length is assigned 0env.get('CONTENT_LENGTH') returns a non empty string or an integer then  converts that value to it's integer representationenv.get('CONTENT_LENGTH') returns a 0 (which has a boolean value of false) then 0 is assigned


Answer URL
https://docs.python.org/3/reference/expressions.html#conditional-expressions
