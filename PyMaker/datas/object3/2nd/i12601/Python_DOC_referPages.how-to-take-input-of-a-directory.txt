Natural Text
What I'm trying to do is troll through a directory of log files which begin like this "filename001.log" there can be 100s of files in a directoryThe code I want to run against each files is to check to make sure that the 8th position of the log always contains a number. I have a suspicion that a non-digit is throwing off our parser. Here's some simple code I'm trying to check this:My problem is:How do I tell it to read all the files in a directory? (The above really only works for 1 file at a time)If I find something is not a number I would like to write that character into a file in a different folder but of the same name as the log file. For example I find filename002.log has a "*" in one of the log lines. I would like folderB/filename002.log to made and the non-digit character to the written.Sounds sounds simple enough I'm just a not very good at coding.
To read files in one directory matching a given pattern and write to another, use the  module and the  functions to construct the output files:This will create empty files even if no bad entries are found. You can either wait until you're finished processing the files (and the  block is closed) and just check the file size for the output and delete it if empty then, or you can move to a lazy approach where you delete the output file before beginning iteration unconditionally, but don't open it; only if you get a bad value do you open the file (for append instead of write to keep earlier loops' output from being discarded), write to it, allow it to close.
Import os and use: . This will list all files in the directory, including subdirectories.Simply open a second file with the correct path. Since you already have filename from iterating with the above method, you only have to replace the directory. You can use  for that.


Answer URL
https://docs.python.org/3/library/glob.html#glob.iglob
