Natural Text
Are null bytes allowed in unicode strings?I don't ask about utf8, I mean the high level object representation of a unicode string.BackgroundWe store unicode strings containing null bytes via Python in PostgreSQL.The strings cut at the null byte if we read it again.
About the database side, PostgreSQL itself does not allow null byte () in a string on char/text/varchar fields, so if you try to store a string containing it you receive an error. Example:If you really need to store such information, then you can use  data type on PostgreSQL side. Make to sure to encode it correctly.
Python itself is perfectly capable of having both byte strings and Unicode strings with null characters having a value of zero. However if you call out to a library implemented in C, that library may use the C convention of stopping at the first null character.
Since a string is basically just data and a pointer, you can save null in it. However, since null represents the end of the string ("null terminator "), there is no way to read beyond the null without knowing the size ahead of reading. Therefore, seems that you ought to store your data in binary and read it as a buffer.Good luck! 


Answer URL
https://docs.python.org/3/c-api/unicode.html
