Natural Text
I need a help in my code, I am not able to do the binary file manipulation.code for creating the binary file:code for file manipulation:correct output:Exit from my code:the numbers -9, 20.5, 6, 10.8 are not being changed.I need this help.
code.py:Notes:Module documentation: [Python]: struct - Interpret bytes as packed binary dataStored values used many times in the code as variables. Example: the int format: Also used  to replace the value sizes that are read from file (as a coincidence both  and  are 4, but it's more general this way)Split the program in functions: - generates the file based on the  list - reads (and parses) file content and returns it as a list - reads the file content and replaces some of the values on the wayCalculates the new values that are going to replace old ones (e.g.  once, before the loop)The conditions (e.g. ) were reversed (got corrected in the meantime)By using  /  when converting the , if the  coming after it needs to be converted as well, it wouldn't be. Changed to 2 separate  statementsThe main flaw was the way how [Python]: seek(offset[, whence]) was performed: always to the beginning of the file. This is not correct: seek from the current position ():When changing the : seek back 8 bytes (the  and the ), write 4 bytes (which will move the file pointer 4 bytes forward) and then seek forward 4 more bytes (the  that comes after it) - so at the end the file pointer is in the same positionWhen changing the : simpler, seek back 4 bytes, and write 4 bytes (which will move the file pointer 4 bytes forward - where it was)- aggregates the aboveIn  and , the  and the  are read at once, so the 2 commented lines are equivalent to the line below themSome other minor changes, there could be more, but I don't want to overcomplicate the codeThe s are different because of precision loss during conversion, but if printed with one decimal only, will match the original onesOutput:


Answer URL
https://docs.python.org/3/library/struct.html#module-struct
https://docs.python.org/3/library/io.html#io.IOBase.seek
