Natural Text
So I have 2 files:  and a CSS file.What I want to do is to read from the config file the color attribute and replace it on the CSS file.Config file:CSS file:What I need to do is replace the CSS file  with the config file , how can I do this using Python file operations replacing only the  of the  tag and not the  tag?
You can use a combination of the  module for in-place file editing and the  regex module for doing search-and-replace on that specific  tag.Here's the code first:(Note that I used "config.txt" for the config file and "output.css" for the CSS file)For some explanation:The first  block is where we read the config file to get the  value. I am assuming here that it's placed on its own line (that's why I used ). I don't know what your config file looks like, so just tweak it based on what you need. Then, we store  into , formatted as an  string. We format it now to make it easy to search and replace later.The second  block does the in-place file search-and-replace. It uses  with the  parameter set to . From the docs:Optional in-place filtering: if the keyword argument  is  passed to  or to the  constructor, the file  is moved to a backup file and standard output is directed to the input  file (if a file of the same name as the backup file already exists, it  will be replaced silently). This makes it possible to write a filter  that rewrites its input file in place. If the backup parameter is  given (typically as ), it specifies the  extension for the backup file, and the backup file remains around; by  default, the extension is  and it is deleted when the output  file is closed.In this second  block, we read each line of the CSS file, replace parts of the string, then  it back to the same file ( redirects the  output to the file). It's best that the CSS file is not opened anywhere else when doing the in-place file editing.  Next step is to search for the  tag from each line. We do this with . I won't go into the long explanation on how to use regex (you'll have to read that on your own). I'll just describe the pattern used: h1 As described in the code comments, we can then get the  tag by using . The last step is to do the actual string replacement using the  read earlier and then printing it out to the file. Note that I optionally passed a  to , because by default  outputs include a newline. Again, I don't know what your CSS file looks like, so tweak as needed.


Answer URL
https://docs.python.org/3/library/fileinput.html
https://docs.python.org/3/library/re.html
https://docs.python.org/3/library/fileinput.html#fileinput.input
https://docs.python.org/3/library/re.html#re.match
https://docs.python.org/3/library/re.html#re.match.group
https://docs.python.org/3/library/stdtypes.html#str.replace
