Natural Text
Im writting a simple python code that should detect the my keystrokes but for some reason in detects space after everysingle keystroke.The code:Sample run:
It's not detecting space. Space is , not .What's happening is that you're using a wide-character terminal, but reading it as bytes, so you're seeing the UTF-16-LE bytes. In UTF-16-LE, an  is two bytes,  and . If you read those as if they were two ASCII characters instead of one UTF-16-LE character, you'll get  followed by .Notice that what you get back isn't actually , but . So you could buffer these up into a  or  and use  on it. But that defeats the purpose of reading one character at a time.The simplest fix is to use  instead of . This will mostly just do what you wantâ€”return a single-character  value like  rather than two separate single-byte  values.There may still be some problems with astral characters (everything above ) showing up as two separate surrogates instead of one single character, and "special keys" will still show up as a Unicode  or  followed by a keycode (or, if you have an older Python, possibly as a broken  with the keycode embedded in the character). But otherwise, it'll work the way you expected.


Answer URL
https://docs.python.org/3/library/msvcrt.html#msvcrt.getwch
