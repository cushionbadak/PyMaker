Natural Text
Trying to encode a json file using the utf catalog (utf-8-sig), with this codeBut it appears that the encoding argument is being ignored throwing this errorEdit: the datatype of the file data.json is , and here's the full stack:Edit2:Binary sample of the file using b'{"abandoned industrial site": ["Site that cannot be used for any  purpose, being contaminated b y pollutants."], "abandoned vehicle":  ["A vehicle that has been discarded in the envir'
As @tdelaney pointed out in comments, you are looking the wrong problem:The error in not on , nor in , not in the  iteractor, so it is not a decoding problem, between  and unicode string.But the problem is in . The problem is encoding, so it means that the error is between unicode string in python and a resulting binary encoding. In this case, the unicode string is converted into , but ascii cannot represent all original characters.There are two solutions:you can allow your terminal to accept UTF-8 characters. This could by done by setting e.g.  (supported only on few systems) or  or other locales (check on your system what locales support UTF-8).you force print to print only ascii, as proposed by @tdelaney . You may want to change  with  or . (see https://docs.python.org/3/library/codecs.html#codec-base-classes).There are also hybrid solution (but not really safe and portable on all systems) (like forcing python to output in a particular encoding), and many hacks, but it will make your code complex, so I do not recommend it (and you should wrap them in a new function).


Answer URL
https://docs.python.org/3/library/codecs.html#codec-base-classes
