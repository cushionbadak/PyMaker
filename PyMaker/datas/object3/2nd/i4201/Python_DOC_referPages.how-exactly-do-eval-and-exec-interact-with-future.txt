Natural Text
I want to know how  imports interact with  and  (and , I guess).Experimentation (with python 2) shows that module-level  imports do have an effect on code executed by  and :Output:But at the same time, code executed with  can perform its own  imports that only affect the code locally:Output:But experimentation can only get you so far. My questions are:Are these interactions well-defined and documented?Is there a way to disable module-level  imports in ,  and ?
Per the language reference:Code compiled by calls to the built-in functions  and   that occur in a module  containing a future statement will, by  default, use the new syntax or semantics associated with the future  statement.You can disable this behaviour in :The optional arguments flags and dont_inherit control which future  statements (see PEP 236) affect the compilation of source.For example:The other way around, disabling the usage of  imports in arbitrary code being executed/compiled, is not possible as far as I'm aware.


Answer URL
https://docs.python.org/3/library/functions.html#eval
https://docs.python.org/3/library/functions.html#exec
https://docs.python.org/3/library/functions.html#compile
https://docs.python.org/3/reference/simple_stmts.html#future-statements
https://docs.python.org/3/library/functions.html#compile
