Natural Text
I'm reading the Flask tutorial and learned that in large application structure the code is moved from single  file to 'application factory function'  in  file, then the server can be started like this:I wonder how does the last command work behind the scene, because there's no explicit call to this factory function anywhere in the code hence no app returned?Another Flask doc tries to explain why such project structure is used but in that case code in  creates  explicitly:python doc says:The init.py files are required to make Python treat the  directories as containing packages; this is done to prevent  directories with a common name, such as string, from unintentionally  hiding valid modules that occur later (deeper) on the module search  path. In the simplest case, init.py can just be an empty file, but  it can also execute initialization code for the package or set the  all variable, described later.The last sentence mentions about 'initialization code' which can be applied in the second case(and simple project structure with  file) but I failed to apply it to the first case.
In the flask source code, they check if a function called  exists.It evens says so in the documentation:Flask will automatically detect the factory (create_app or make_app) in myapp.


Answer URL
https://docs.python.org/3/tutorial/modules.html#packages
