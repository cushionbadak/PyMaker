Natural Text
I have defined a python-type using  etc… and I have defined a  to support the  feature… because my type has also a [list] like behavior… I would like to support the  feature too. my problem is that I miss a  entry to support this.my question… how can I do this?thanks
There's no  hook at Python level either. Like implementing the same behavior at Python level, you have to make instances of your class iterable.  will then iterate over your object to gather elements into a list.The C-level slots corresponding to  and  are  and , and they work pretty much like  and  do. If you haven't written an iterator class manually before, I suggest doing it in Python for practice before doing it in C (and remember that the iterator should be a different object from your list-like object).Aside from iteration, you should also implement the sequence protocol if your object really is supposed to be list-like.


Answer URL
https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_iter
https://docs.python.org/3/c-api/typeobj.html#c.PyTypeObject.tp_iternext
https://docs.python.org/3/c-api/typeobj.html#c.tp_as_sequence
