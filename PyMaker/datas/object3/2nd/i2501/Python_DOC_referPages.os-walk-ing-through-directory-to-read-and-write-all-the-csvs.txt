Natural Text
I have a bunch of folders and sub-folders with CSVs that have quotation marks that I need to get rid of, so I'm trying to build a script that iterates through and performs the operation on all CSVs.Below is the code I have.It correctly identifies what is and is not a CSV.  And it re-writes them all -- but it's writing blank data in -- and not the row data without the quotation marks.I know that this is happening around lines 14-19 but I don't know know what to do.
The problem is here:As soon as you do that second  in  mode, it erases the file. So, your  is looping over an empty file.One way to fix this is to you read the whole file into memory, and only then erase the whole file and rewrite it:You can simplify this quite a bit:Alternatively, you can write to a temporary file as you go, and then move the temporary file on top of the original file. This is a bit more complicated, but it has a major advantage—if you have an error (or someone turns off the computer) in the middle of writing, you still have the old file and can start over, instead of having 43% of the new file and all your data is lost:If you're not using Python 3.3+, you don't have . On Unix, you can just use  instead, but on Windows… it's a pain to get this right, and you probably want to look for a third-party library on PyPI. (I haven't used any of then, buy if you're using Windows XP/2003 or later and Python 2.6/3.2 or later,  looks promising.)


Answer URL
https://docs.python.org/3/library/os.html#os.replace
