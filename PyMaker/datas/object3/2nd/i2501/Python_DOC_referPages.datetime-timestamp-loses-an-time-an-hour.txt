Natural Text
I encountered this issue but found the solution after a bit of research. I have posted my answer below to show my findings. If anyone has alternative suggestions please post them.I needed to convert a  object to a Unix timestamp. I tried using the datetime.timestamp. I found the result was 1 hour behind what I expected. I was able to replicate this issue with the following.dt now equals Then:Which gives  (which is different from our original timestamp). If we convert it back to datetimeWe get:Which is an hour earlier than our original time.For context I am using Python 3 and based in Britain where we're currently using British summer time (1 hour ahead of UTC).My solution can be found below. If you think I have missed anything from my explanation or there's a better solution, please post your own answer.
I think you need a so called aware datetime object. Aware means it nows the time difference you have:Try it with that line of code, where  is your Unix timestamp.
The cause for this difference is actually shown in the datetime.timestamp documentation.Naive datetime instances are assumed to represent local time and this method relies on the platform C mktime() function to perform the conversion. Since datetime supports wider range of values than mktime() on many platforms, this method may raise OverflowError for times far in the past or far in the future.Because I am in UTC+1 (during British summer time) this is the timezone  uses to calculate the timestamp. This is where the mistake comes in. The documentation recommends a few ways to deal with this. I went with the following.By adding  to the end of  it specifies that this is done in the UTC timezone.  then knows to use the UTC time rather than whatever timezone my machine is running.People in America or other parts of the world will encounter this issue if not using the UTC timezone. If this is the case you can set  to whatever your timezone is. Also note that  is also clearly designed for people using the UTC timezone.


Answer URL
https://docs.python.org/3/library/datetime.html
