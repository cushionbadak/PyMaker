Natural Text
TL;DRMy question is simple - where is the code responsible to raise  on cpython3 following a call to  on ?BackgroundI'm getting sometimes  when trying to connect to S3 with ssl. this error occurs rarely so its tricky to reproduce it.What i've triedlooking at  gives me no further clues - we have to go deeper!:i've tried searching it on CPython repo but AFAICS nothing seems to raise it, i suspect its hidden in SSL implementation or on some mapping between  to  subclasses.my final goal is to write py2 & py3 compatible code for handling this exceptions ( is new on py3) by comparing the module's py2 & py3 versions that raises this error.Update - py2 & py3 catch for  subclassesmy question origins was to find a way to catch  and its subclasses on python2 & python3, so here it is:
 is raised when  is .  is how libc indicates whether or not an error occurred in a system call.You could search  in  to find out how this exception type get initialized and added to  dict.In the case of  raised ,  is implemented with , the actual ssl read is done with openssl's :as the error occurred,  will set  and .later, in : equals with:when  constructs with an , it will lookup a more specified subclass, by lookup  value in the aforementioned  dict:it actually returns and raises out a  exception.


Answer URL
https://docs.python.org/3/library/exceptions.html#ConnectionResetError
