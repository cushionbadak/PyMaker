Natural Text
I have a pre-defined list of words; e.g.:And I have a large corpus of .txt files, also imported into python as a list, e.g.:I want a formula that goes through the corpus line by line and tells me the amount of words from my wordlist that are contained in each line; i.e., exemplary output would be:I need no differentiation between the words in the wordlist.However, I want this to be a formula, so that I can easily apply it with different word lists or corpora.I have not found an answer on SO or elsewhere. What I have tried is:However, this gives me:Many thanks to anyone willing to help!
The problem is here: is a string, but  is a list of list of strings. The two aren't comparable.You can use  to flatten your nested list. You can also simplify your logic by calculating the lengths of  intersections:
Create a helper function like so:Then, use this on each word in your string of words you're looking for:
Consider also using  for this.Assuming you're using  already in and around whatever NLP you're doing, another option is to use 's  for this and then just go in after the fact to look at the vocabulary to see the counts:... where  will be a dict-like object that has counts per word.This latter method will scale nicely to other NLP-isms too (e.g. stopword removal, tf-idf weighting).


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable
