Natural Text
I have a very simple server which reads from a subprocess and passes the data to any opened websockets. The problem I'm running into is that my approach to reading from the subprocess seems to break aiohttp in a way that I can't seem to follow:Here's where things go wrong:So, my question is: how can I read lines from stdout in a loop in the background of my application? Thank you kindly for any pointers.
Please use asyncio subprocess API:Small neat: use shlex module to safely split a command line into a list of arguments.


Answer URL
https://docs.python.org/3/library/asyncio-subprocess.html#asyncio-subprocess
https://docs.python.org/3/library/shlex.html#shlex.split
