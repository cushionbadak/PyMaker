Natural Text
QUESTIONin my own project, i start a event loop in a thread, then cancel the task and close the loop in another thread safely. but i failed.after reading task-object, i still cannot understand how to wait a task really cancelled after Task.cancelPython Version:3.7.1OS: windowsbelow is my debug process.errors belowafter cancel, the event loop is still running.also, the doc task-object said Task.cancel() does not guarantee that the Task will be cancelledso i turn to stackoverflow, and read Kill tasks instead of awaiting them, and change pause method likeanother error happended this way didnot work.and now, i am really confused about how to wait a task cancelled then close the loop after Task.cancel.
There are several issues with your code: interacts with the event loop from outside the thread that runs the event loop. This is forbidden and must be replaced with calls to  and .The code creates a new event loop per business object. This is undesirable because the strong suite of asyncio is that it allows many coroutines inside a single event loop.The recommended pattern is to have a single event loop, and submit tasks to it using . Instead of stopping the whole loop when you want to cancel a task, you just cancel that specific task. For example:


Answer URL
https://docs.python.org/3/library/asyncio-task.html#task-object
https://docs.python.org/3/library/asyncio-task.html#task-object
