Natural Text
Is it possible to execute query for hive using jinjasql and pyhive?When I tried it I got following error.I can execute query with jinjasql as well as with pyhive but I need to use both together to prevent sql injection. Environment (all on the same VM.)Hortonworks Data Platform (HDPÂ®) 2.6.4 on Hortonworks Sandbox forVirtualBox Jinjasql 0.1.6PyHive 0.5.1Python 3.5.5
Pyhive supports list, tuple and dict in params. While jinjasql supports multiple param style, and as mentioned in the documentation hereIt should return a list, except for 'named' or 'pyformat' which would return a dictionary. Since Jinjasql creates a Ordereddict it is throwing this exception. Solution should be to use a param style which returns a list.Hope this helps :)UPDATE for python 3:In python 3 you will have to convert the parameters to list as dict.values() returns a view of the dictionary values.
As you mentioned that PyHive allows list for execute parameter I used list function following your suggestion to convet bind_params to a list.It can fetch record from hive. 


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict-views
