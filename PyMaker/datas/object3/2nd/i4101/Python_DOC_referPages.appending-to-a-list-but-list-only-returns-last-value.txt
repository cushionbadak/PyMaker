Natural Text
I have a spreadsheet of values for subway lines and their stops. Basically, I am trying to iterate over the CSV file so that when you input a train line it spits out all the stops. I am doing this by creating a dictionary where the key is the train line and the values are a list of the stops. I am telling the function to append but when I print it only shows the last value on the sheet. Thanks for your help! Update:As requested here are a few lines of the CSV file:
I think you're making this task a little more complicated than it needs to be. You don't really need a custom MTALines class, you can store the data for each stop in a dict, each line can be a list of those dicts, and each line list can live in the MTA dict. It's convenient to use a  for MTA, as that will automatically create new lists as needed. Also, there's no need to parse the CSV file data by hand, there's a  module for that. And by using its  class we can get it to read the data into a dict. It actually uses OrderedDict, to preserve the order of the fields. Here's my version of your code. I changed the name of the CSV file because I hate filenames with spaces in them. ;) Because we're using a defaultdict of lists for MTA if we try to look up a non-existent line we get an empty list.demo output
I think you may need a  to collect lists of  instances.It looks like your dict  may overwrite entries if the same  occurs multiple times.Try this:Now the 'problem' might be how to format an entry from the  collection:
Your problem is that you made __points as an instance variable. It will only be available for the instance. Obviously you will get the last stop or last instance value. For a quick fix, use __points as class variable like below.At the end you can use your list as 


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
https://docs.python.org/3/library/csv.html
https://docs.python.org/3/library/csv.html#csv.DictReader
