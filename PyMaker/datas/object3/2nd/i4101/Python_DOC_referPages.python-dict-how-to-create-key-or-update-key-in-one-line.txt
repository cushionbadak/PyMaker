Natural Text
My question is similar toPython dict how to create key or append an element to key?I want to create the following dictionary of dictionaries:I currently accomplish this using the following:Is there a way to do this using dict.setdefault() ?
Is there a way to do this using dict.setdefault() ?Of course! There's nothing magic about ; it just returns  if it exists, or sets  and returns  if not.Either way, what it returns is the (potentially new) dict in , so all you have to do is update it:Or, if you really like using  instead of just :For example:More generally, you could obviously rewrite your existing code to this:Whenever you can do that, you can use . (But notice that we're calling a mutating method or assigning to a key/index/member of  here, not just assigning a new value to . That's the key to it being useful.)Of course almost any time you can use , you can also use  (as demonstrated in CoryKramer's answer) (and vice-versa). If you want defaulting behavior all the time, use . Only use  if you want defaulting behavior just this once (e.g., you want defaulting while building the dict up, but you want s later when using it).
You can use collections.defaultdictThen you don't need the  statement, you can directly call , and if no  yet exists for that  a new one will be created before calling 


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
