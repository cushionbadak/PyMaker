Natural Text
I want to patch a library to catch the built-in ConnectionError (which inherits from OSError).So far so good. As it happens, the library has a "self-defined" Exception that is also called ConnectionError:I guess, if I now tried to catch a , doing something likeI would only catch the self-defined , which inherits from . (Disclaimer: I have to admit, I haven't tested that myself, as I didn't know how).How would I get Python to catch the built-in ?
Use the  module, the explicit name for the namespace where built-in names like  and  live.In Python 2, this would be , although Python 2 doesn't have . Note that  is its own weird thing; even if it looks like what you want, it's not.If you want code that works in both Python 2 and Python 3... well, the exception hierarchy looks pretty different in Python 2, and ConnectionError doesn't even exist, so it's not as simple as deciding whether to use  or . The / thing is easy enough to solve, at least.To import the right module depending on Python version, you can catch the  and import the other module:Pretending for a moment that Python 2 has ConnectionError, you could save a reference to the built-in  before shadowing the name:
Use the the  defined along with the other exceptions in the  library:


Answer URL
https://docs.python.org/3/library/exceptions.html#ConnectionError
https://docs.python.org/3/library/builtins.html
https://docs.python.org/3/library/exceptions.html#ConnectionError
https://docs.python.org/3/library/builtins.html
