Natural Text
I have written a bare minimal Python fastcgi script  for test:I can start the script  no problem. I can also establish connection to localhost:3001 with telnet.I then create an Nginx default configuration like this:With this bare minimal configuration on my local machine, I started nginx and try to access the http://localhost. Nginx default site fails (502 Bad Gateway). In the log message, I can only see error like this repeatedly:What is going wrong with my settings or code?
My MistakeIf you, like I did, followed the Python3 official HOWTO: Use Python in the web, installed flup-py3 1.0.2-1 and got confused. Don't be. It is not your mistake.There is nothing wrong with the code and settings above. The issue was how I installed flup-py3. This is how I installed it:which you SHOULD NOT do.The SolutionThe answer to your question (and mine) is simple. The "stable" version 1.0.2-1 doesn't work on Python 3 at all. So the official HOWTO fxxked up in a big way.Until the official stable version on pypi is updated, you should install your flup-py3 by either:or:The first one (hg) would be the development version of flup-py3 of the original developer Allan Saddi. While the second one (github version) is a copy created by Quentin Pradet. Both source include patches in 2012 - 2014 that fixes flup's compatibility issue.Related LinkOfficial hg mercurial repository by Allan SaddiGithub repository by Quentin PradetUpdates 2018 **The latest version of flup-py3 (>=1.0.3) has already fixed this issue. You can install that with pip normally.


Answer URL
https://docs.python.org/3/howto/webservers.html#setting-up-fastcgi
