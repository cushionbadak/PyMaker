Natural Text
I am trying to create a tar file from a list of files stored in a text file, I have working code to create the tar, but I wish to start the archive from a certain directory (app and all subdirectories), and remove the parents directories. This is due to the software only opening the file from a certain directory.package.list files are as below:If I omit the path in , it cannot find the files due to my program running from elsewhere. How do I tell the tar to start at a particular directory, or to add the files, but maintain the directory structure it got from the text file, e.g starting with  not all the parent dirsMy objective is to do this  but with Python on Windows.I have tried  from here: How to compress a tar file in a tar.gz without directory?, this strips out ALL the directories. I have also tried using  in the .add method, however this gives some weird results by breaking the directory structure and renames loads of files to Using Python 2.7
You can use 2nd argument for , it specified the name inside the archive.So assuming every path is sane something like this would work:Usage:In production, i'd advise to use appropriate module for path handling to make sure every slash and backslash is in right place.


Answer URL
https://docs.python.org/3/library/tarfile.html#tarfile.TarFile.add
