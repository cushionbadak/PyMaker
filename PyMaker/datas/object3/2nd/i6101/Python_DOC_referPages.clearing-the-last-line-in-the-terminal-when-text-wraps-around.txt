Natural Text
In my python program I want to print progress over a very long loop. I want to output specific information like percent complete etc..., but I don't want all this output to take up the whole screen. Ideally, I want to to print a progress line. Something like Then, when the next line prints, I want to simply overwrite this line. Currently I can do this by simply printing carriage return  before I print my message. This returns the cursor to the beginning of the line and then overwrites the line. Exactly what I want. The issue is when the terminal is too small for the entire line to fit, the line wraps around and the carriage return brings me to the beginning of the wrapped line, not the absolute beginning of the line. Is there a way that I can bring the cursor all the way back to the beginning of the correct line?  
You can use ANSI escape sequences for cursor movement, most notably:Position the Cursor: , or   puts the cursor at line L and column C.Move the cursor up N lines:  Move the cursor down N lines:  Move the cursor forward N columns:  Move the cursor backward N columns:  Save cursor position:  Restore cursor position:  Cursor position save/restore seem ideal for you case, but unfortunately these two codes are not honored by many terminal emulators.They work in  and  though (except when in the last line of terminal / scrolling output, as noted by @ThomasDickey in comments). Try:For other terminal emulators, you can try your luck with  to move cursor up for the required number of lines, and then move to column .If you know the length of your line, you can calculate how many rows does it span when (and if wrapped) with ( example, note the usage of  environment variable):and then move up with:In Python, you could use it like:Or, abstract all this with something like .Python solutionBased on the Move the cursor up N lines ANSI escape sequence (that should work in most terminal emulators), and a cross-Python compatible code for terminal width detection (in Python3 you can use ), here's a proof-of-concept demo that works with scrolling output, adapts to line length and changing terminal width:


Answer URL
https://docs.python.org/3/library/curses.html#module-curses
