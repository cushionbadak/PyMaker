Natural Text
As a follow up on this question, I have a trivial script which starts a  to read in a  file. While doing that I want to it count from 1 to 9 using a  loop. For some reason even though I used  it still blocks and waits for the  method to execute. According to the documentation:If wait is False then this method will return immediately and the resources associated with the executor will be freed when all pending futures are done executingIf I were to do this:It counts from 1 to 9 first and then prints out the employees, the delay is because of sleep while reading the employees. Like so:How do I achieve the same output using the  without blocking? 
I'd recommend that you don't use a  statement. A  statement closes by calling the  method of a context manager. A context manager is any class that implements an  and  method. So after everything is run within a  statement, it calls  on the context manager that was passed in.In this case,  is a context manager.  is a subclass of . So by referencing 's class definition, we see that in its  method it calls .That call to  is the problem. If you follow the how the context manager works, since  is the last thing in your  statement,  is going to be called directly after. And that means that  will be called. So that's what is blocking you.You have two options to fix this. The first one is to subclass  and rewrite the  method.The second option is to do something like this:
Probably due to this little snippet: "You can avoid having to call this method explicitly if you use the  statement, which will shutdown the  (waiting as if  were called with  set to )"https://docs.python.org/3/library/concurrent.futures.html


Answer URL
https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor.shutdown
https://docs.python.org/3/reference/compound_stmts.html#with
https://docs.python.org/3/library/concurrent.futures.html
