Natural Text
I am working on a site using Flask that is pulling data from an API, processing it into JSON, and then dynamically loading it throughout the site as needed. I am having an issue with matching the URL appropriately while at the same time efficiently loading what data I need. Here is my main file:First, I'd prefer to not have to pass each html page all of my data. Is there some way to pull only what is needed and ignore the rest?Second, I would like to pass a dictionary object i.e. How could this be achieved, and is it possible without having to use a for-loop through all of my data?I'm happy to load my html pages if needed.
Assuming the basic structure of your parsed json data looks like this (a dictionary with lists of dictionaries):You could rewrite:This extracts the card set we are looking for by the dictionary key, according to the assumed data structure above.Then in the template, instead of , pass the  and rewrite the other route:This uses list comprehension to extract a list of  (everything that has the cardId we are looking for) from our selected , and should be a list with a single element. We return the first element to the template for rendering.Now this obviously does not do any error checking, for example the dictionary key we passed might be wrong and not be found, the cardId might not be found, or more interestingly there might be more than one result for the cardId we passed.But this would be the general idea on how to approach this.Also note I've left out  for clarity in the example, I'm assuming this are card sets that are forbidden, or for testing purposes.For this case, you'd want to check the dictionary key first before looking up the set, and show an error page or something maybe:Disclaimer: This is coming purely from memory and it is late, so there might be an error here or there...


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
