Natural Text
I was working on making a wrapper object that would take an instance of an arbitrary class and then automatically wrap all of its own magic methods to simply use the magic method (and value) of the wrapped object. For some reason, this doesn't work:I thought maybe the partial wasn't working properly with the distinction between the type's method and an instance method, but when I directly call my wrapper's magic add, it works properly. (This is tested in CPython 3.3)
Special methods are always looked up on the type of the instance (here the class object), not on the instance.  Otherwise a  on a class would be used when you tried to print the representation of the class itself;  would use the correct magic method, while  would raise an exception because  was not provided.You'll need to implement these special methods directly on the wrapper, propagating any exceptions that might be raised when called on the wrapped object.


Answer URL
