Natural Text
I need to test a instance method that calls .  In the first test case, I set  to return a string, as expected.  This works wonderfully.However, I also need to test the case in which an  is thrown from this function.  How can I make  raise an arbitrary exception?This is my approach so far:
Assign the exception to :From the  documentation:This can either be a function to be called when the mock is called, or an exception (class or instance) to be raised.Demo:When using  as a context manager, a new mock object is produced; assign to that mock object:
I found Martijn's answer a little hard to generalize, so here is what I hope is a simpler answer less tied to the OPs initial code:


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
