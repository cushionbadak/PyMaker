Natural Text
I have an empty array.I want to assign a value like this: This produces a KeyError as array[key] does not exist yet.What do I do? I tried the following...TypeError: 'NoneType' object does not support item assignmentI tried:TypeError: list indices must be integers, not strI tried:TypeError: list indices must be integers, not strSo what do I do?
You could use , passing the default factory as :To apply further levels of nesting, you can create a  that returns s to a n-th depth of nesting, using a function, preferably anonymous, to return the nested default dict(s):Example shows nesting up to depth 
You are using a  list literal not a  dict literal:But this isn't very useful in a loop.In a loop you could test if  is not in  - which is a cheap operation ( lookup):But you can use  to do the same thing and give  a default value if it doesn't already have a value, e.g.:And if this looks ugly, then you can always use .
I have used this alternative way before (edit: although I preferred Moses Koledoye answer):
You could use a nested  like this, goes arbitrarily deep automatically:(I indented the output for readability.)Originally saw that from severb.
Can the below codes be used as a different method?


Answer URL
https://docs.python.org/3/library/collections.html#collections.defaultdict
