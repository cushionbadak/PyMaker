Natural Text
When I logging an error in a decorator, the logging  is not what I want.logging.conf:Nomally, logging an error in file :Debug message on console:The above logging (/home/lizs/test/app.py) is what I want. But when I use a decorator:::The debug message:Now, the logging  is a pathname of the decorator (/home/lizs/test/decorators.py).How to set the logging  to  when I use decorator.
Your problem is that your exception handler is one level upper than where the exception was initially raised, so you will have to examine the stacktrace and manually build a LogRecord with the correct file/line information:
Solution:Try this:app.py:decorators.py:Explanation:According to docs here you can pass a dictionary as  argument to populate the  of the  created for the logging event with user-defined attributes. These custom attributes can then be used as you like.Thus, because we can't modify  directly, this approach with  is most straight possible.Links:


Answer URL
https://docs.python.org/3/library/logging.html#logging.Logger.debug
https://docs.python.org/3/library/inspect.html#inspect.getsourcefile
https://docs.python.org/3/library/inspect.html#inspect.trace
https://docs.python.org/3/library/logging.html#logging.Logger.debug
https://docs.python.org/3/library/inspect.html#inspect.getsourcefile
