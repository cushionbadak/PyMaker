Natural Text
I try to walk through folder and create folder depending of file extension and after that copying all relevant files in this one. But for an unexpected reason, only one file is copied and script switch at the next one. I think the base is good, because folder is properly created and one file is copied. So why all others are not copied??Someone can help me to figure it out why?
You have several errors here.  File and directory operations are tricky and you need to be very careful with then.You should use os.path.join to build a file path.When you split a filename on ".", the returned value is a list, not a string.  That's your variable  - not a well-chosen name.  Your expression  will always be False, since the str() function will not reconstitute a simple string from the list.Filenames can contain more than 1 dot.  When you use  as your directory name, you are assuming there are no such filenames in your case.  If you use  you will always get the last piece of the filename.If you call mkdir/makedirs on a directory that already exists, an OSError exception is raised at that point.  Then no file copying takes place.shutil.copy2 copies ONE file, even though you call it through a function named .You catch an OSError but don't do anything with it unless it's 17, whatever that is.  So you won't know if your script is catching errors or not.You want your main loop to be something like this:
Use .You won't even have to walk the file tree with that. Just set the top level directory as the source.From the docs:Recursively copy an entire directory tree rooted at src, returning the destination directory. The destination directory, named by dst, must not already exist; it will be created as well as missing parent directories. Permissions and times of directories are copied with copystat(), individual files are copied using shutil.copy2().


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.copytree
