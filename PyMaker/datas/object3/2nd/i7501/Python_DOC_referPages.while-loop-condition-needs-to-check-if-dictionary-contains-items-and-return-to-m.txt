Natural Text
I have the following code:https://repl.it/JRi4/2in which I am trying to implement a while loop in the searchplayer() sub. Basically, I need to check to see if the dictionary player_info is full, and only then continue with the search. If it is empty (no items in player_info) then it needs to print "Add player details" and return to the mainmenu()The code in question is here:I have tried the following, that does not work:ErrorThe error suggests player_info is not defined, but it has been declared as a global variable
After trying your entire code, what I advise you to do here is switch your  with this one:one more thing, you didn't ask about it but you should add a checker for the type of input when asking from user to make decisions by handling exceptions as follows:it is useful to prevent your app from crashing by mistake when i input strings instead of int.if you don't want to use recursion you could do this:and change:with:( i just chose  to take off  from the code because it was generating some warning )and take off  for all your methods. that should do it nicelyso your entire code should be like this (I'm not familiar with repl.it sorry):Hope that helped
Assuming your  really is defined globally, here's a code to loop until a name is entered which exists in the  dictionary, or to fail with explanation if  is empty initially:Update. To remove recursion you must wrap your menu with an infinite loop (you're exiting with , or simply with , if this is called directly from ):Now you can simply remove all occurrences of calls to  from choice handling functions (last line in , ,  and ).
your code will work perfectly if your code execute  because here is  variable declared. If you want to access other function first than it will sure show you and . so better you declare the  variable first. I mean in  as your code described.Update: as your below comment.as your first question  variable worked fine from any sub but  has to know the variable is declared .Example from your code: when your program run your just give the choice  for executing . It will run and enter input as you instructed and when time to come access the  it will show an error. Because  has not get yet any . and I am again saying  variable can access from any sub but  has to know this variable is . If  know any how the variable is  then you can  it any where. That's why I was suggesting you to declare the variable as  in the  function. You can declare it anywhere or any function but execute the function first that's why python know the variable is . I also mentioned that  and explained it why.


Answer URL
https://docs.python.org/3/tutorial/errors.html
