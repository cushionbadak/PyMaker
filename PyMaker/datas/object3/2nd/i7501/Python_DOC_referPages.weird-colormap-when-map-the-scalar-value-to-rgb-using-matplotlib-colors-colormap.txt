Natural Text
I am trying to get RGB hex strings from a input scalar given a specific matplot lib colormap. I use matplotlib.get_cmap() to get the matplotlib.colors.Colormap object, and pass a scalar withing range (0, 1) to this map to get the RGBA value then plot that color. But sometimes the colors gets plotted are different from those plotted by imshow(). Am I doing something stupid here?Code for reproductionActual outcomeoutput imageExpected outcomeAs implemented in the code, the left plot is plotted as imshow(). Right plot is plotted dots with the color from the colormap object according to the input scalar. If my understanding is right, the colors at the same grid cell should be identical. But clearly different at high and low values. Matplotlib version    Operating System: windows 7 64-bit    Matplotlib Version: 2.0.2    Python Version: 3.5.3    numpy: 1.13.0  
In your format function, you're left aligning, not right aligning, causing the weird value jumps.  See this line:And the docs for .  Fixed version:Note the incorrect RGB to hex conversions in your original:
While the other answer explain well why the code from the question fails, I would like to note that there is no need to convert colors to hex at all and you may directly use the colormap to colorize the points in the plot.You may either decide to loop over the points and directly supply the applied colormap value to the  argument of the plot. (middle plot)Or you may use a scatter plot and supply the  to its  argument, together with the colormap, and, if needed, a normalization. (right plot)


Answer URL
https://docs.python.org/3/library/string.html#format-string-syntax
