Natural Text
-- EDIT:Okay thanks to you guys, and especially randomir I adjusted the loop as follows:Now this codes runs almost all the time perfectly but once in a while I receive an error (which I do not know how to replicate, since it probably depends on what the API transmits to the program.The error says: So I interpret the error that sometimes the variable buy_active has no type and hence cannot be interpreted with ">". However, I do not see how this can happen. It probably has something to do with the len(list(filter(... approach. I also tried to define buy_active = 1 so it enters the loop at least once. But this does not solve the problem. Hence I guess this operator sometimes deliveres a NoneType character.Does anybody has a suggestion what the problem could be?BestSaltyJOriginal:I just started programming in python 2.7 (for this particular code I would like to stay on 2.7) where I encountered a problem. Since I am very new to programming, I cannot figure out how to solve my problem. I hope you can help.I want to handle some input from an API about my open orders at an online exchange.Over the API I receive a list with nested dictionnaries. One Example (for 2 orders is below).The API produces a list with one dictionnary for every open order. Now I want to basically make my code go through all dic. looking for the string "LIMIT_BUY".My current code does this for up to 2 orders. But it is probably highly inefficient and also cannot cope with orders > 2:At the end of the loop the buy_active variable should  be "1" if there is any buy order or 0 if there is no order or only selling orders.What I would like is a most efficient (in terms of time) code to look through the list with any number of entries.Can somebody help me?:)Thanks alot! I just started coding 4 days ago, so please be nice :)BestSaltyJ
Welcome to the wonderful art of coding!You've encountered your first repetitive task so it seems. This might be the time to look into for-loops or while-loops. They allow you to repeat tasks.For example, though greatly simplified:
You could use any() function and list comprehension (to filter the list).The list comprehension, creates a new list of True values, when  "OrderType" equals "LIMIT_SELL".
This would be the imperative programming approach, simply looping over values in  list:We use a  loop to iterate over items in the list, and then we safely inspect each item (which is a dictionary) - to see if it contains a key , and if does, is it equal to . When we find the first such item, we set  to , and abort any further processing (we know there is at least one item, so no point in looping over other items).And this would be the functional programming approach:The boolean variable  will be  if at least one  was found as a value for , same as in previous approach.Here we use the built-in function called  to evaluate function  over each item in  collection of dictionaries. The  will extract  from each dictionary, and the result of the mapping will be a list of all s, like this: .We now apply  on that list, and with partially applied  operator we check if any of the items is equal to . That filters-out all that are not, producing a list: .After that, we simply check the length of the list, and declare  is  if the list is not empty.


Answer URL
https://docs.python.org/3/library/functions.html#any
