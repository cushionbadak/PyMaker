Natural Text
So I'm kind of new in Python. I'm doing a log in form that redirects you to a python script running in a linux server to authenticate the user. I'm using multiple commands at once to see if the user is in the database. The command is echo "$password" | login -p -h 192.0.. $user >/dev/null 2>&1and when I echo $? it supposed to return a 0 if it's in the database or a 1 if it's not.In the python script I have this:and out comes up to be 0 always even if the input is wrong. Is there something wrong that I'm doing with the PIPE? What I know is that the problem is not when I'm passing the variables because I am getting the right variables. The problem must be in the chaining. I would appreciate your help. Thank you.
 is a shell variable, it's not going to be meaningful here (each subprocess is run in its own subshell with ; the  from  is only visible in its shell, not the one you try to  in).But  objects already provide their exit status, so you don't need to run anything at all. You're also trying to use  to split commands with shell elements illegally (you either pass a single string and , or a sequence of arguments with ; mixing them is illegal). You can shave off a lot of processes here too, and avoid running commands that would include the password in their command line:Note:  is new in 3.3; if you're on older Python, substitute:or just change it to  and ignore the captured stdout output.
Well, that approach doesn't work in bash, either:Skip , and instead of , run . After that, simply check .


Answer URL
https://docs.python.org/3/library/subprocess.html#subprocess.DEVNULL
