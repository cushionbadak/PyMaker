Natural Text
I have written a plugin that sends a signal to activate my code. However, it doesn't send the user-request object to my code. I am looking for a way to retrieve the current request without modifying the main application. I cannot find any documentation related to global request (like  in PHP).I would like to know if there are any variable to do like that in Python/Django.
As I know it, you define your Django view using a number of methods like:The parameter  contains information about the HTTP request.  for example, returns the client's IP address.If your plugin has something to do with requests, its classes and function probably will be instantiated/called from your view. This means you need to pass it the current  object, as it makes no sense to have a global request object around. In PHP, this is possible, as every request causes the whole code to be executed from scratch, but in Django requests are dispatched by a server and passed around in the framework using  objects. Also refer to this part of the Django documentation for more information.
Django doesn't provide a global request object (it would actually be a thread local, not a global).  But there are a few techniques you can use to get the same effect yourself: http://nedbatchelder.com/blog/201008/global_django_requests.html
AFAIK it is not available, except you make it available.You can copy+paste the snippets provided in the other answers, or you can use this library: https://pypi.python.org/pypi/django-crequestMiddleware to make current request always available.
you can attach it to current request via middleware and retrieve it backhttps://github.com/jedie/django-tools/blob/master/django_tools/middlewares/ThreadLocal.py
Based on Ned Batchelder's reply I've compiled a solution. Although I wouldn't recommend it for anything but debugging/troubleshooting. There's a better solution on the linked page.Put module  at a project root:Then in any other file:You might want to make sure you don't introduce reference cycles. I haven't understood under which particular conditions I must do what exactly. Not that it matters in my case. But your mileage might vary.


Answer URL
https://docs.python.org/3/library/inspect.html#the-interpreter-stack
