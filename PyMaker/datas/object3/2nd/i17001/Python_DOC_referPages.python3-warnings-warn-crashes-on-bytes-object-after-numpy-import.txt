Natural Text
I'm looking for an explanation (and ideally also a workaround) for a really weird numpy importing problem. Here is a minimal code example: Reproducible for both python3.3 and python3.2, numpy-v1.8.0 and today's numpy snapshot from github. Output:Now with numpy import:Output:
Numpy installs a warnings filter, and such filters are matched against warning text with a regular expression.The fact that your initial warning with a  object worked was just a coincidence, the API only supports string warnings. That you see the exception is not the fault of Numpy, any warnings filter with a message component will trigger it:The work-around is to use the API as designed, with string warnings (or instances of the  exception), not  objects.


Answer URL
https://docs.python.org/3/library/exceptions.html#Warning
