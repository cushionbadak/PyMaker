Natural Text
I have the following project structure:I set  to one directory above server (for example  contains server,  is set ).The main file is ; it imports modules:When I run  directly it works perfectly.However when I call  it fails, despite the fact that it is explicitly recommended to avoid Python path hell, but it fails to find the the module, with an ugly message:Why does the module import fail to import submodules?How to properly setup sub-packages?
The behaviour is entirely correct;  is not a top-level module. However, when you use , Python also adds  to the Python search path, so now  is a top-level module. You should never directly run files in a package.Import  relative to the current package:or use fully-qualified imports:Also see the Interface Options section of the Python Setup and Usage section in the fine manual:If the script name refers directly to a Python file, the directory containing that file is added to the start of , and the file is executed as the  module.Note that the  switch takes a python identifier, not a filename, so use:leaving of the  extension.


Answer URL
https://docs.python.org/3//using/cmdline.html#interface-options
