Natural Text
I'm writing a python script that takes text from the clipboard using a pyqt QClipboard object.The script parses the pasted text as a 2D list breaking into rows at line breaks.I use windows and in most programming languages I'm used to checking of a '\n' character to identify a line break. The problem I'm hitting is that this script needs to work cross platform and it's not working right on a Mac and after doing some digging I've discovered that a Mac line ending is classed as '\r\n' in pythonHow can I identify the line endings consistently cross platform?At the moment I have two separate areas that look for line endingsThis one looks for a straggling EOL character and removes it:While this splits the text at each EOLThis works fine on windows but not on mac. How can I get these lines to work correctly on both systems, or is there as way I can convert the pasted text into a specific platform's line ending style before running these lines?Is my only option to branch into two separate handling procedures after doing a string search for '\r\n' in an 'if'?
This is what splitlines is for:which will split the text into lines in a platform-independant way. The eol characters will be stripped from the lines, unless you pass  as an argument.


Answer URL
