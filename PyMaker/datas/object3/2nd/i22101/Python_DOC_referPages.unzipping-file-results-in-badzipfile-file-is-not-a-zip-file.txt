Natural Text
I have two zip files, both of them open well with Windows Explorer and 7-zip. However when i open them with Python's zipfile module [ zipfile.ZipFile("filex.zip") ], one of them gets opened but the other one gives error "".I've made sure that the latter one is a valid Zip File by opening it with 7-Zip and looking at its properties (says 7Zip.ZIP). When I open the file with a text editor, the first two characters are "PK", showing that it is indeed a zip file.I'm using Python 2.5 and really don't have any clue how to go about for this. I've tried it both with Windows as well as Ubuntu and problem exists on both platforms.Update: Traceback from Python 2.5.4 on Windows:Basically when the  function is called for getting data from End of Central Directory" record, the comment length checkout fails [ endrec[7] == len(comment) ]. The values of locals in the  function are as following:
files named file can confuse python - try naming it something else. if it STILL wont work, try this code:
astronautlevel's solution works for most cases, but the compressed data and CRCs in the Zip can also contain the same 4 bytes. You should do an  (not ), seek to pos+20 and then add write  to the end of the file (tell zip applications that the length of the 'comments' section is 0 bytes long).
I run into the same issue. My problem was that it was a gzip instead of a zip file. I switched to the class  and it worked like a charm.
I had the same problem and was able to solve this issue for my files, see my answer at zipfile cant handle some type of zip data?
Show the full traceback that you got from Python -- this may give a hint as to what the specific problem is. Unanswered: What software produced the bad file, and on what platform?Update: Traceback indicates having problem detecting the "End of Central Directory" record in the file -- see function _EndRecData starting at line 128 of C:\Python25\Lib\zipfile.pySuggestions:(1) Trace through the above function(2) Try it on the latest Python(3) Answer the question above.(4) Read this and anything else found by  that appears to be relevant
Sometime there are zip file which contain corrupted files and upon unzipping the zip gives badzipfile error. but there are tools like 7zip winrar which ignores these errors and successfully unzip the zip file. you can create a sub process and use this code to unzip your zip file without getting BadZipFile Error.
Have you tried a newer python, or if that is too much trouble, simply a newer zipfile.py? I have successfully used a copy of zipfile.py from Python 2.6.2 (latest at the time) with Python 2.5 in order to open some zip files that weren't supported by Py2.5s zipfile module.


Answer URL
https://docs.python.org/3/library/gzip.html#module-gzip
