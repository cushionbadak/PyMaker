Natural Text
I'm writing a REST client for elgg using python, and even when the request succeeds, I get this in response:Looking at the header, I see ('content-length', '5749'), so I know there is a page there, but I can't use .read() to see it because the exception comes up. What does ResponseNotReady mean and why can't I see the content that was returned?
Make sure you don't reuse the same object from a previous connection. You will hit this once the server keep-alive ends and the socket closes.
Previous answers are correct, but there's another case where you could get that exception:Making multiple requests without reading any intermediate responses completely.For instance:and so on.
I was running into this same exception today, using this code:I didn't notice that I was using  rather than ; I was mixing my interfaces.   is raised because I haven't actually sent the request yet.
Additionally, errors like this can occur when the server sends a response without a Content-Length header, which will cripple the state of the HTTP client if Keep-Alive is used and another request is sent over the same socket.
This can also occur if a firewall blocks the connection.
Unable to add comment to @Bokeh 's answer; as I do not have the requisite reputation yet on this platform.So, adding as answer: Bokeh's answer worked for me.I was trying to pipeline multiple requests sequentially over the same connection object. For few of the responses I wanted to process the response later, hence missed to read the response.From my experience, I second Bokeh's answer:response.read() is a must after each request. Even if you wish to process response or not.From my standpoint this question would have been incomplete without Bokeh's answer. Thanks @Bokeh


Answer URL
https://docs.python.org/3/library/http.client.html
