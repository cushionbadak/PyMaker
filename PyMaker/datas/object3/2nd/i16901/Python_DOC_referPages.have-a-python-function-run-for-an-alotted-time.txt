Natural Text
I have a python script that pulls from various internal network sources. With how our systems are set up we will initiate a urllib pull from a network location and it will get hung up waiting forever for a response on certain parts of the network. I would like my script to check that if it hasnt finished the pull in lets say 5 minutes it will pass the function and attempt to pull from the next address, and record it to a bad directory repository(so we can go check out which systems get hung up, there's like over 20,000 IP addresses we are checking some with some older scripts running on them that no longer work but will still try and run when requested, and they never stop trying to run)Im familiar with having a script pause at a certain pointWhat Im thinking from a psuedo code perspective (not proper python just illustrating the idea)Update: a specific option for this dealing with urls timeout for urllib2.urlopen() in pre Python 2.6 versionsFound this answer which is more in line with the overall problem of my question:kill a function after a certain time in windows
Your code as is doesn't seem to describe what you were saying. It seems you want the / check inside your while loop. On top of that, you would want to loop over the ip addresses and not over a time period as your code is currently written (otherwise you will keep requesting the same ip address every time). Instead of keeping track of time yourself, I would suggest reading up on  - specifically the  parameter. Once set, that function call will throw a  exception once the time limit is reached. Surround that with a / block catching that error and then handle it appropriately.


Answer URL
https://docs.python.org/3/library/urllib.request.html#urllib.request.urlopen
