Natural Text
The  command allows you to do something like this:And it will error out (skipping removal) if the contents of that dir have other file systems mounted in them.Is there a module in Python that allows me to specify a similar behavior? If not, what would be the alternative to enforce such a constraint?
There is no module that does this for you; you'll have to write it yourself.But the  module provides everything you need to write it.*First,  can walk an entire directory tree. You can  each directory and either skip those whose  is different from the root's, or you can  each directory and skip those that are true.This is almost exactly what  is doing under the covers, except that of course it's using  (or one of its predecessors, on older systems) rather than a Python function.There are two tricky bits.First, unlike  and similar functions,  doesn't stat the files (or, worse, it does stat the files, but doesn't give you the results), so you have to call  explicitly on each . (Or use a third-party module like , , , etc.)Second, you have to go top-down to prune the walk (in top-down mode, if you remove dirs from the  argument,  will not recurse into them), but you have to go bottom-up to remove the files before removing the directories. With APIs like , which allow both pre-visiting and post-visiting in the same traversal, this isn't a problem, but  makes you choose one or the other.But this should be enough for you to get started on this. If you get stuck, you can always ask a new question.* Well,  and .


Answer URL
