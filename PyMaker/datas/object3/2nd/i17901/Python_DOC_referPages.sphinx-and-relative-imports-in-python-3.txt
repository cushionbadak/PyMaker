Natural Text
I have a directory with a python package as follows:and I'm using sphinx with autodocs for documenting the app (in python 3.3).Now, in the  (inside ), I haveI  into , runwhich gives me SystemError: Parent module '' not loaded, cannot perform relative importto all the modules that have a I have a clean virtualenv installation of Sphinx using after I created the (clean) environment for python 3.3.What am I missing?I was moving the project from python 2.* to python 3.* when this happened. All the project is working, but this...
Your  directory is a package. A package is a directory with  and other files inside it.If you put a package directory on your , all kinds of things go wrong.Let's take an example:If you have  on your  (because it's your current working directory, or because you do it explicitly, or because you've installed things correctly to your ), then  is a package,  is a module, and, within ,  is that module. So, everything works.If you have  on your , then  is not a package,  is a module, and, within ,  isn't anything. So, you can't use relative imports.If you have both on your , then  is a package,  and  are both different modules (with the same contents, executed twice), and within ,  is a module, but within ,  isn't anything. This will cause you no end of problems.So, most likely, the fix you want is this:If there are other packages, or directories full of Python code that aren't packages, in  that you don't want to autodoc (e.g., a  directory with ), then you will need to restructure your directories to put  into some directory that doesn't have any other Python code in it, like this:Alternatively, if you didn't want  to be a package, but rather to be a sys.path root directory, then kill the , and leave  directly in . But in that case, you can't use intra-package relative imports; all of the modules in  are top-level modules, and have to be imported as such.The Packages section of the tutorial (and the rest of the chapter above it) explains some of this, but there's probably better introductory documentation out there.For full details, in 3.3+, The import system has everything, nicely organized; for older versions, the reference docs are muddy, incomplete, and scattered; you have to start at The  statement, and then read The Knights Who Say Neeeow ... Wum ... Ping! (which is basically a PEP but 1.5 didn't have PEPs yet), and possibly even the  documentation, if you can find it, plus various PEPs and minor change log entries that explain how things have changed between 1.5 and 2.7 or 3.2 or whatever.


Answer URL
