Natural Text
Consider:This outputsThat is,  has an internal iterator and  consumes the first line and  reads all other lines till the end of file. Is this expected/guaranteed from a language point of view? The only information I found is from docs.python.org,If you want to read all the lines of a file in a list you can also use  or .which I feel is ambiguous.
Two reasons to believe that  reading from the current position instead of from the beginning of the file is 'guaranteed':Per the docs,  returns a file object which per the glossary means something that implements the contract defined in the  module. The  module docs tell us that  willRead and return a list of lines from the stream.Note also that the term "stream position" is used frequently throughout the  docs. I suppose I have to admit that the docs don't 100% unambiguously and explicitly say that  will start reading from the current stream position rather than from the beginning of the file (or the middle, or a random position, or a position that varies depending upon the day of the week). However, I think it's fair to say that - given that it's established in the  docs that streams have positions - any interpretation other than reading from the current stream position would be perverse, even if we didn't have any real-life implementations to look at.It's what CPython does, and CPython is widely understood to be Python's official reference interpreter (as noted in the docs at, for example, https://docs.python.org/devguide/#other-interpreter-implementations).Maybe that argument isn't quite as formal or rigorous as an equivalent argument could be that looked at the specs of, say, C, C++, or ECMAScript. If that troubles you, then too bad, because you're not going to find that level of formality in the Python world. Python's docs are its specification, but they're also documentation meant for ordinary developers working in the language, and as a consequence don't define behaviour quite as anally as the formal standards of other languages tend to. When in doubt, interpret the docs in the most natural way and presume that Python will follow the principle of least astonishment, and if that doesn't provide enough certainty, trust the CPython reference interpreter.
When they mention that trick in the documentation, they don't expect that you fiddle with the iterator first.Yes, this is expected (and useful, when you want to skip a title line for instance, then read the rest of the lines).If you want to be sure to read all the lines just rewind the file prior to calling :The documentation is a bit scarce about  not rewinding the file. I did quite a lot of googling, it just seems implied & natural. If you're not still convinced, you have to take a look at the source code ( from Python 3.6.1 source):I stopped pasting just after the readline loop started. On the line above, we see that the code is using the current  value of the object. And it is not reset in the beginning of the code.
That's what the readlines() is supposed to do.


Answer URL
https://docs.python.org/3/library/functions.html#open
https://docs.python.org/3/glossary.html#term-file-object
https://docs.python.org/3/library/io.html
https://docs.python.org/3/library/io.html#io.IOBase.readlines
