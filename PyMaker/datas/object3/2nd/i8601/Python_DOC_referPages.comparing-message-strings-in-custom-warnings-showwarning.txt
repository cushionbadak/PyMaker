Natural Text
I am attempting to perform a custom action when I see a very specific warning. The warning is a  with the message . I want all other warnings, including all other s with different messages, to be propagated and printed to  as usual.The only way I could find to do this is to replace  with a custom implementation, as in the following test script:This script prints out the following output:I find this output surprising because the first line indicates that the message is in fact , so the second line should read , and the  rather than the  should be executed. However, it seems that the two strings are not identical for some reason.Why is this happening? Why is the "custom action"  not being triggered? I have tried replacing all three occurrences of  with just  in the script to eliminate the possibility of a typo. The exact same result happens.I am using Python 3.5.2 on Anaconda 2.4.0 on a CentOS 7 server, so str vs. unicode should not be a problem.
Figured out the answer on a hunch a couple of minutes after posting:The reason that the comparison fails is that  is not a string, but the actual warning object, whose string representation (via ) happens to just be the warning message.An additional printout,  demonstrates this fact:The correct comparison is .The only reason that I am keeping this question and answer around is that there does not appear to be anything in the documentation of  to explicitly describe this behavior.


Answer URL
https://docs.python.org/3/library/warnings.html#warnings.showwarning
https://docs.python.org/3/library/warnings.html#warnings.showwarning
