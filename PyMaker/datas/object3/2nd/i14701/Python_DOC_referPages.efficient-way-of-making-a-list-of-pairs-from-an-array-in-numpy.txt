Natural Text
I have a  array  (with  shape) of integers like:I want to transform the array into an array of pairs:so first element makes a pair with other elements in the same sub-array. I have already a  solution:but since looping over numpy array is not efficient, I tried  as the solution. I can do the slicing for every column as:I can repeat this for all columns. My questions are:How can I append  to ,... such that the shape is ?If number of columns is not small (in this example ), how can I find  elegantly?What are the alternative ways to achieve the final array? 
The cleanest way of doing this I can think of would be:This will make two copies of the data, so it will not be the most efficient method. That would probably be something like:
Like , I first tried a  of the 1st column followed by reshaping, but then decided it was simpler to make 2 intermediary arrays, and  them:producingThere probably are other ways of doing this sort of rearrangement.  The result will copy the original data in one way or other.  My guess is that as long as you are using compiled functions like  and , the time differences won't be significant.  
Suppose the  array isYou can get the array of pairs asThe output would be


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.combinations
