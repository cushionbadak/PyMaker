Natural Text
With abstract base classes, Python provides a way to know the behavior of objects without actually trying it out. In the standard library, we have some ABCs defined for containers in collections.abc. For example, one can test that an argument is iterable:I was hoping that there would be one such ABC for deciding whether instances of a class can be compared but couldn't find one. Testing for the existence of  methods is not sufficient. For example, dictionaries cannot be compared but  is still defined (same with  actually).So my question is: is there a simple way to do it without doing the comparisons themselves and catching the ?My use case is similar to a sorted container: I'd like to raise an exception when I insert the first element and not to wait for a second element. I thought about comparing the element with itself, but is there a better approach:
No, there is no such ABC, because an ABC only dictates what attributes are there. ABCs cannot test for the nature of the implementation (or even if those attributes are actually methods).The presence of comparison methods (, , ,  and ) does not dictate that the class is going to be comparable with everything else. Usually you can only compare objects of the same type or class of types; numbers with numbers for example.As such, most types* implement the comparison methods but return the  sentinel object when comparing with other incompatible types. Returning  signals to Python to give the right-hand value a say in the matter too. If  returns  then  is tested too.The base  provides default implementations for the methods, returning :which is exactly what  does:Numbers, however, only return  when the other type is not comparable:As such, your best choice is to simply catch the  thrown when values are not comparable.* I am not aware of any types in the Python 3 standard library that do not implement the comparison methods at this time.


Answer URL
https://docs.python.org/3/library/abc.html
https://docs.python.org/3/library/collections.abc.html#module-collections.abc
