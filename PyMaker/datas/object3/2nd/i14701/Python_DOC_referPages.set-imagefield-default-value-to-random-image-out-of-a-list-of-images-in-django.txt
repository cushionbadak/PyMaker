Natural Text
I have some images inside the static directory and want to create a model that has a ImageField. I want to set the default field to any one of those  images. I have tried using this - 
Here I'm taking some assumptions,1. Your default images are inside the  directory2. Inside the  directory, all files are imagesWhat is the major trick here ?Django needs a valid file path only to create or update a file entry (image is also a file). So, what we're doing here is, list out all the files (assuming those are only images) and picking up one entry randomly using  and retun an absoulute path (something like ) to the  argumentUPDATE-1I've created a minimal example in Django 2.1.1 which can be found in follwing git repoRepopsitory link -> django2X1. clone the repository,create a virtual env and install the dependencies (provided a  file)2.create a new superuser or use mine (username -> , pass-> )3.run the server and login to django admin : (screenshot-1)4. Create a new  instance (again and again)That's itUPDATE-2I've made few changes in my minimal example, which are1. Created a simple object creation (here, the  model object) while every django startup (checkout )2. Added  and  to the  fileNow, start your project (it will create 3 objects per every startup) and go to http://127.0.0.1:8000/admin/sample/post/. Then open any instance and click on the image link (screenshot-2) and it will open the image (screenshot-3)
My solution is to override the model save method and check if the model is being created for the first time and also check if the postImage image field is empty. If so populate the postImage field with contents of a Radom image. Django will handle the restIf we use the path of the Radom image directly in our model we will end up like serving some of the post model files from the media folder and some other from the static directory which is not recommended. Instead, we feed the image file content to the postImage field and Django will save the image to media folder and thus we can serve all our model images from media folder itself. WolaCodeThe following code is tested in Python 3.6Please add the code to your models.pyAlso no need to set ‘/media’ in upload_to path. Django will read media path from settings variableThe best practice is to move those set of default images out of static directory to another folder probably another folder with name resources or any another meaningful name since the static directory contents will change frequently as the project grows


Answer URL
https://docs.python.org/3/library/random.html#random.choice
