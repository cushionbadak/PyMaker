Natural Text
I have a python script which runs another python script as a subprocess. The original script communicates with the subprocess using stdin and stdout. I cannot get the subprocess to reply to messages from the original process.As a minimal example, say I have a script asker.py that wants to get an answer from answerer.py. Asker sends a message to stdin of answerer, and answerer has to send a message back, which asker will print.asker.py looks like this:answerer.py looks like this:I'm not seeing anything get printed by asker.py. Instead, it just hangs on the  call. If I run answerer.py directly from the command line, it replies to input that I type in just fine, so how do I get it to reply to asker?
The subprocess isn't actually writing anything to its own stdout, so nothing is reaching the parent.The documentation for sys.stdout notesWhen interactive, stdout and stderr streams are line-buffered. Otherwise, they are block-buffered like regular text files.That means that when you , it goes into an in-memory buffer, and sits there until it's explicitly flushed, some amount of output data is produced (I think 4 KB is typical), or the program exits normally.The best fix would be to update your subprocess script to something like
Flush  not :Or test without  so the answerer.py gets terminated and  gets flushed automatically.Tested on


Answer URL
https://docs.python.org/3/library/sys.html#sys.stdout
