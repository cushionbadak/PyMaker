Natural Text
I wrote this code to find a missing positive integer from a given list, but still, it returns  in some cases.For example, given the array , the function should return 3, as it is the missing element in the consecutive sequence (1 2 3 4 5).What am I doing wrong?
You need to be aware that  is causing some problem.Given this example:It looks pretty clear that the desired answer is , but your function is giving . It's because  and thus, your loop condition is , which effectively enumerates  from 1 to 3.Since you want to find out the missing number, you might as well stop the loop when  reaches the largest number in the list, rather than the length of the list, so:would be right.
If you sort the list or approximate a sorted list using the  function, you can make use of a list comprehension:We're basically saying, look at the sequence of numbers beginning with the  value of  to the  value of , and if any of those values are not in the original  list, return those. This will return multiple missing values, e.g.:Note: you mentioned "positive" integers, and not sure if that was a strict requirement or not, but this doesn't account for negative values.I think we can account for that:For example:
With the  inside the loop, there's only an off-by-one error. If  has a length of , and  is missing from , but  exist in , then the function will return . This can be fixed by looping to . By your definition of what a missing-positive integer is, this can be found through some math. Take the length of the list and add one and define it as . Use the equation to sum contiguous positive integers and save it into . Find the sum of . The difference of  and  will be the missing integer since we're guaranteed that only one integer can be missing. To keep with the behavior of your function, if the missing number ends to be , then we know there are no missing numbers, so return .
Well, this works the best to find missing element from the list.
Seems to work fine.  Here's an alternative:
Find missing numbersUsing range(start, stop) we can build a sorted list which already contains all the numbers. Now it's just matter of finding the missing values in your list.Our  will be made using the lower and higher values of your list. .Or as a list comprehension in one line:Example:Find non-negative missing numbersBut you said "find a missing positive integer", so you don't want negatives ones.Just change the  part of  to . will use  to give you the bigger number between 0 and your lower actual value, so negative ones are replaced by 0.Example:Find non-negative missing number after the lower non-negative numberBut as said before, you only said: "find a missing positive integer", so at first, I understood you don't want negatives ones.But, what if you only want the missing (as my first idea) non-negative values (as the second idea) after the lower non-negative value (new idea)?Easy!Just change the  part of  to . will look for the lower non-negative value in your list.Example:


Answer URL
https://docs.python.org/3/library/functions.html#func-range
