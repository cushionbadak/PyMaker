Natural Text
I am working on 2 large files. The master file has 2 fields say customer name and second field is customer ID. I have a second file which is a subset of the first file and has only customer names. I wish to find the customer ID of the names which exist in my the subset file. The first file has 30 million lines and the second file has 5 million lines.I am trying to do it using dictionary but it is taking huge time.Can you please suggest me a better way to do it.Here is the snippet from my code and few lines from my files.Master file#John 2343245Karim 126754Rob 6543289Vijay 2247861Sam 2649860....Subset second fileSamRobJohn
A better way is to put all the data from the master file into a database and then look up the values based on the keys from the second file:
Another potential solution (likely slower than ForceBru's but hey it was fun to code XD) is to use threads to drastically cut down on time:You could up the number of threads to say 100-200 maybe and let them crank away! This will be very computationally expensive though as you have a maximum number of iterations of nearly 125,000,000,000,000 worst case. That's pretty exaggerated though because the  statement should cut a significant amount of those iterations out. And if it's running in 100 threads then you can possibly divide the number by 100 after reducing it from the  already (Assuming you are not already maxing CPU usage in which case multiprocessing would be superior). Still though LOOOOTS of computations with this method.This is essentially doing the same thing your initial script is doing, but running it many times faster by dividing and conquering!


Answer URL
https://docs.python.org/3/library/sqlite3.html
