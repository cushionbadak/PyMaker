Natural Text
I have the following file and the second file Running the file  gives the correct output.Now in the second file, I'm just importing the function not the class, although successful execution of my function requires the class as well.When importing the function does Python automatically import everything else which is needed to run that function, or does it automatically search for the class in the current directory?
As @DavidZ already mentioned the whole Python file gets compiled when we import it. But another special thing happens when a function body is parsed, a function knows which variables it should look for in local scope and which variables it should look for in global scope(well there are free variables too).  So, here  must be fetched from global scope.But how to identify this global scope when we import app.py in another  file?Well, each function has a special attribute  attached to it which contains its actual global namespace. Hence, that's the source of :So, app's module dictionary and  point to the same object:Due to this even if you define another variable named  in  after importing  it will still access the actual .From data-model page::A reference to the dictionary that holds the function’s global  variables — the global namespace of the module in which the function  was defined.
Python does not automatically do any of these things.When you import something from a module (in this case, the  module), Python first runs all the code in the corresponding file (). The code in the file  which you've written does two things:define the class define the function When the function  runs, Python looks for  in the module that  is part of, and only there. (Well, it also checks local variables defined in the function , but you don't have any of those except .) Specifically, it looks for . If you alter your  to do the same search:you will see that  is the class you defined in .If you put the definition of class  in yet another file, and if you don't import that file, Python will not run it. This shows that Python does not automatically import dependencies. In particular, suppose  containsand  containsand  is unchanged. You'll get an error because Python has not run the code to define the class .


Answer URL
https://docs.python.org/3/reference/import.html#the-module-cache
