Natural Text
I've heard that  makes objects faster by avoiding a dictionary lookup. My confusion comes from Python being a dynamic language. In a static language, we avoid a dictionary lookup for  by doing a compile-time optimisation to save the index in the instruction we run.  Now, in Python,  could just as easily be another object that has a dictionary or a different set of attributes. It seems like we'll still have to do a dictionary lookup - the only difference seems to be that we only need one dictionary for the class, rather than a dictionary for each object.With this rational,How does  avoid a dictionary lookup?Does slots make accessing objects faster?
 does not (significantly) speed up attribute access:The goal of using  is to save memory; instead of using a  mapping on the instance, the class has descriptors objects for each and every attribute named in  and instances have the attribute assigned wether or not they have an actual value:So python still has to look at the class for each attribute access on an instance of  (to find the descriptor). Any unknown attribute (say, ) will still result in Python looking through the class MRO to search for that attribute, and that includes dictionary searches. And you can still assign additional attributes to the class:The slot descriptors are created when the class is created, and access memory assigned to each instance to store and retrieve a reference to the associated value (the same chunk of memory that tracks instance reference counts and a reference back to the class object). Without slots, a descriptor for  is used accessing a reference to a  object in the same manner.
It might speed up a program where you instantiate lots of objects of the same class, genuinely never change what attributes they have, and cache misses on all those duplicate dictionaries present a real performance problem.This is really just a special case of the general situation where saving space sometimes saves time as well, where cache is the limiting factor.So, it probably won't make accessing one object faster, but may speed up accessing many objects of the same type.See also this question.


Answer URL
https://docs.python.org/3/howto/descriptor.html
