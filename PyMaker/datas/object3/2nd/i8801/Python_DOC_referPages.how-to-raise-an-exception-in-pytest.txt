Natural Text
I have written a code in views.py And I have written a test case to cover total functionality of the code. To test the "except" part I have written the following code where it will raise "OSError",But, I am getting this errorHow to raise "OSError" to cover the except part in test cases.By the way I am using django-framework
Best thing would probably be to just mock the method to throw the exception you need, instead of going through all the trouble of actually creating conditions in which  would be thrown. A toy example:Now as I said, it's only a toy example, so for your own project with different structure and all you will most likely need a bit different setup (given the information you provided it's hard to know how exactly it will look). For example, if you're expecting that some call will throw an  exception inside your , then you will need to mock the call in the module  is located in. Good places to start reading up on mocks:Docks quick guidePatch documentation (pay particularly close attention to 'where to patch' part)Useful in-depth example on stack-overflow. As it is a bit more sophisticated than my proof-of-concept example, it will probably resemble what you're trying to achieve.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#quick-guide
https://docs.python.org/3/library/unittest.mock.html#patch
https://docs.python.org/3/library/unittest.mock.html#id5
https://docs.python.org/3/library/unittest.mock.html#quick-guide
