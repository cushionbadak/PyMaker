Natural Text
Does anyone have an example on how to do a multipart post in Python 3.4 without using a 3rd party library like requests?  I am having issues porting my old Python 2 code to Python 3.4.Here is the python 2 encoding code:The I figured out I can replace the mimetools.choose_boundary() with the following:For the _get_content_type3() method, I am doing the following:When I change the StringIO to BytesIO in using Python3.4, the data never seems to be put into the POST method.Any suggestions?
Yes,  would work:This uses a  object to make header formatting and encoding easier ( objects don't support formatting operations; you'll have to wait for Python 3.5 which adds  support).If you insist on using the  package for the whole job, take into account that you'll need twice the memory; once to hold the  objects, and again to hold the written result:The result is otherwise basically the same, with the addition of some  and  headers.


Answer URL
https://docs.python.org/3/library/io.html#io.TextIOWrapper
