Natural Text
I am trying to catch a warning that is raised as an error by applying the  filter of .  A minimum working example is given below:This works fine, but if I want to chain this so that the traceback from the warning is included, I get the following :It seems that even though I am raising a class derived from  (i.e. the ), the information from the traceback from the  seems to be tricking Python into thinking I am still raising the .Is this the expected behavior?  If so, is there a good workaround?I am on Python 3.4.3.
You are trying to use the traceback object as the exception: returns a tuple of ; you'd want index 1 here (remember Python counts indices from !):Much better, capture the exception instance in a variable directly:That way you don't have to count out tuple indices.When you set the warnings filter to , the exceptions are subclasses of the  exception class, which inherits from , see the Exception Hierachy section.


Answer URL
https://docs.python.org/3/library/sys.html#sys.exc_info
https://docs.python.org/3/library/exceptions.html#Warning
https://docs.python.org/3/library/exceptions.html#exception-hierarchy
