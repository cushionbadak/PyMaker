Natural Text
I have lists of numbers that I'd like to group by similarity. The order of the numbers in the list is fixed and important to preserve.As an example, here's a visualisation of what I'm trying to achieve:The black line represents the list of numbers I have. The green lines represent the groupings I would like to identify in this example list.The order of numbers in the list is important and cannot be changed (e.g. cannot sort ascending or descending). The numbers in the list are not contiguous (i.e. there isn't likely to be a list of , but probably would be something like ).Is there a method to do this?Edit: example values, and desired groupings:would result in an approximate grouping ofIn the grouping above, you could argue that  could belong to the first or second group. If visualised as I did in the example above, the groupings would be represented by the green lines. My lists are actually several hundred to several thousand values in length.
Output :This ensures that each item from a group does not exceed  to the mean of the group. If it does, a new group is started.
You may use  - it combines consecutive elements with same result of given key function ( in this case):
You can use  to categorize your data based on a specific difference ( in this case) with those preceding item.Here I used  in order to preserver the unique items in a specific order.Demo :
A numpy version:Or:
https://en.wikipedia.org/wiki/K-means_clusteringk-means clustering is a method of vector quantization, originally from signal processing, that is popular for cluster analysis in data mining. k-means clustering aims to partition n observations into k clusters in which each observation belongs to the cluster with the nearest mean, serving as a prototype of the cluster. This results in a partitioning of the data space into Voronoi cells.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
https://docs.python.org/3/library/functions.html#round
