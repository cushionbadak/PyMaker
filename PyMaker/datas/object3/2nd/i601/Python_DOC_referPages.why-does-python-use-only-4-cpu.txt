Natural Text
I have a Python script that counts the occurrences of every k-long substring in a very large text. This is how it does it, after having stored and deduplicated the substrings:I was surprised to see that this script uses only 4% CPU on average. I have a 4-core, 8-thread CPU, but no core is used at more than single-digit percentages. I would have expected the script to use 100% of one core, since it doesn't do IO.Why does it use so little computing power, and how can I improve that?
Your snippet is likely a memory bandwidth limited program. You do next to no computation in that loop. However most cpu monitoring programs report 100% for a program that just accesses memory. I am puzzled too.If you want to see more of what is happening i recommend you play with the excellent perf tool in linux.You could start by looking at page faults


Answer URL
https://docs.python.org/3/library/collections.html#collections.Counter
