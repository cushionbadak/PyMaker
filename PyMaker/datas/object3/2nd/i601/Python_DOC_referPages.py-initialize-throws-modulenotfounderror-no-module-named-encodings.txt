Natural Text
I am trying to run the Embedding Python in Another Application example found at https://docs.python.org/3/extending/embedding.html#very-high-level-embedding on my MacOS. While I can get the program to compile with my Anaconda distribution of Python3.7 and SCons, running it always throws the following error:I've tried the advice given at this StackOverflow post How can I troubleshoot Python "Could not find platform independent libraries <prefix>", by setting my PYTHONHOME variable to /usr/local, my Anaconda root directory, and the parent directory of the Python executable. I've also tried setting my PYTHONPATH variable to each of the folders. However, setting PYTHONHOME will cause my Anaconda installation of Python to crash with the message:I don't have any Python virtual environments set up and Python runs fine outside of this embedding example and setting the PYTHONHOME variable. Additionally the parent folder of the Anaconda Python binary is the first folder in my PATH variable, so I know Py_Initialize won't find the default MacOS installation of Python first. I've tried uninstalling and reinstalling Anaconda but the same error persists. The following code is my SConstruct file used to compile the example.Any help or advice is appreciated. Thank you.
It will depend on how the python libraries are setup. I am assuming that they are using RPATH which in that case you can make your environment like this:in that config folder there should be some dynamic libraries, which you can run the otool on:Which should print how the library is being linked by the linker.You can find more information here:https://stackoverflow.com/a/31824839/1644736https://wincent.com/wiki/@executable_path,_@load_path_and_@rpath


Answer URL
https://docs.python.org/3/extending/embedding.html#very-high-level-embedding
https://docs.python.org/3/extending/embedding.html#compiling-and-linking-under-unix-like-systems
