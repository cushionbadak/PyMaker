Natural Text
I am trying to extract a password protected .zip which has a .txt document (Say  for this case). Now  has text in it thus its not 0kb in size. Its placed in a .zip (For the sake of the thread lets name this .zip ) with the password  for the sake of this thread. That password is stored among other words and names within another .txt (Which we'll name it as  for the sake of  this question). Now if I run the code below by doing  (Assuming all these files are in the same folder as ) my program displays  as the correct password for the  among the other words/passwords in  and extracts the  but the  is empty and has the size of 0kb.Now my code is as follows:However if I another zip () with the same method as  with only difference being  is in a folder which the folder is zipped alongside  I do get the same results as  but this time  extracted along the folder it was in, and  was intact; the text in it and the size of it was intact.So to solve this I tried reading zipfile's documentation where I found out that if a password doesn't match the .zip it throws a . So I did changed  in the code to  and got this error when trying to unzip :The same results happpen though; password was found in ,  was extracted but  was empty and 0kb in size. So I ran the program again, but for  this time and got this as a result:Again, same results; where the folder was extracted successfully and  was also extracted with the text inside it and the size of it was intact.I did take a look at this similar thread, as well as this thread but they were no help. I also checked zipfile's documentation but it wasn't helpful regarding the issue.I am not sure what is the cause of my issue or how to fix it and would like some help regarding it.EDITNow after implementing  for some unknown and weird reason; the program can read/process a small word list/password list/dictionary but can't if its large(?). What I mean by that is that say a .txt document is present in ; named  with the text . The same .txt is present in  aswell, but this time placed in a folder named  then zipped/password protected. The password is  for both of the zips. Do note that each .zip was generated using  compression method and  encryption in 7zip.Now that password is in  (35/52 lines) and in  for  (1968/3106 lines). Now if you do  in your CMD (or IDE of your choice); it will create a folder named  and place  with the sentence we previously set. Same goes for  but  will be in  folder which is inside the  folder. No trouble extracting the .zips in this instance. But if you try the same thing with  i.e  in your CMD (or IDE of your choice) it will create the  folder both of the zips; just like  but this time  will be empty for both of them for some unknown reason.My code and all necessary files are as follows:Program.pyzipv1.zipzipv2.zipJohn The Ripper Jr.txtJohn The Ripper.txtJohn The Ripper v2.txtI am unsure why this is happening and cannot find an answer for this issue anywhere. Its totally unknown from what I can tell and I can't find a way to debug or solve this issue. This continues to occur regardless of different word/password lists. Tried generating more .zips with the same  but with different passwords from different word lists/password lists/dictionaries. Same method; a larger and smaller version of the .txt was used and same results as above were achieved.BUT I did find out that if I cut out the first 2k words in  and make a new .txt; say ; the .zip is extracted successfully,  folder appears and  is present with the text inside it. So I believe it has to do with the lines after the password is at. So in this case ; where the script doesn't stop after ? I am not sure why does this work though. It isn't a solution but a step towards the solution I guess...Any help would be seriously appreciated.EDIT 2So I tried using a "pool terminating" code:Now if I use this both zips are extracted successfully, just like the previous instances. BUT this time 's   is intact; has the message inside it. But the same thing cannot be said regarding  as its still empty.
Sorry for the long pause ... It seems you've got yourself into a bit of a pickle.1. InvestigationThe scenario is complex (quite far away from an MCVE


Answer URL
https://docs.python.org/3/library/zipfile.html
https://docs.python.org/3/library/zipfile.html
