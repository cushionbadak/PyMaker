Natural Text
Is it possible to use an Image as a key in a dict in Python? where 1-6 are png files. I am new to python and I keep reading that it is super flexible and anything can be stored in and as anything. Yet I am getting an errorTypeError: unhashable type: 'PngImageFile'thanks.
An object must be hashable if it is to be used as a dictionary key. I.e. it must have (or inherit) a  method.I am not sure what you are trying to achieve, but if you needed values associated with your images, you could for instance use their filenames as keys:
The general rule for a dictionary key is that you want it to be immutable. If you make a change to the key object the internal data structure of the dict will get messed up.Images are very mutable, you can change a pixel at any time. Mutable objects don't bother to implement the  method because it would be useless. That's what the error message is telling you.It's better to use a proxy for the image. One good suggestion in another answer is to use the filename of the image, but that assumes that each image comes from a file and there aren't any duplicate images with different filenames. Another would be to freeze the contents of the image into something immutable like a bytestring, but that would be extremely inefficient because the bytestring would be large. You can cure that problem by using a cryptographic hash to produce a string that is unique for each image input.This technique is useful for more than just s. I've used it for database keys for mp3 cover images, since many files will share an image.


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__hash__
https://docs.python.org/3/reference/import.html#pyc-invalidation
