Natural Text
I run my Python script with is a folder here and  is a module. At some point I'd like to restart the script with this code:I use this code because it worked perfectly for my other scripts that I don't execute with the  argument. So the above code will be executed at some point and then I get this error:Which sounds correct since  is just a folder and not a module. I played around with various versions of  to see if Iâ€™m able to restart it but nothing really works.So my question is, how can I restart my script if I run it the way I do?This is a minimal version of my folder structure:I execute  from the root folder.
 does not start with . The module name is removed from the  list altogether while resolving the  module filename ( is set to  until there is a filename) and then  is replaced with the full filename of the module.From the  switch documentation:If this option is given, the first element of  will be the full path to the module file (while the module file is being located, the first element will be set to ).In effect, Python is simulating running a script, as if you ran ; only the  context is kept so you can still use package-relative imports such as .So to recreate your original command-line, use  as the argument list beyond :You can't use , unfortunately, as that has been set to  when using . However, the  object set on your module does know what the full qualified name is for the current module, so we can re-use that here.Note that even though there is no  file in , by using  you are telling Python that  is really an implicit namespace package. If that wasn't the intention here, then don't use  to load your script.Demo:


Answer URL
https://docs.python.org/3/using/cmdline.html#cmdoption-m
https://docs.python.org/3/reference/import.html#main-spec
https://docs.python.org/3/whatsnew/3.3.html#pep-420-implicit-namespace-packages
