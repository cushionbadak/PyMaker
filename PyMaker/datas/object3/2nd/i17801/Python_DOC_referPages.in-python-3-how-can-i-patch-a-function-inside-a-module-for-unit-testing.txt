Natural Text
I have decorated methods that send timings to a hosted graphite instance they look like what is belowviews.pyI have a util file that defines the decoratorutil.pyI have some unit teststest.pyNow the problem is that call to . It invokes the send_timing decorator which in turn makes a network connection. This makes my tests volatile and non-deterministic. Is there an easy way (python 3.3) to patch  with a dummy or mock globally for all my tests?
You want to use  decorator factory in your decorator:This adds an attribute on the returned wrapper function, letting you access the original unwrapped function:You can use the  value here to mock , or use it directly in your unit tests.


Answer URL
