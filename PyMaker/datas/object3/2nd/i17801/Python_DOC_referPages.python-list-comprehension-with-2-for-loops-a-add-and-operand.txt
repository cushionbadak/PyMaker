Natural Text
I want to create a list which is the combination of incoming + outgoing.  E.g  should be added to ,  should be added to  and so on.  A list called  will be produced and have the exact same structure as  and  (e.g a list of 5 lists of 10 elements).  The code which does this is below:This works fine.  But I would like it as a list comprehension.The above doesn't work, can someone explain why this failed and give an example of a correct list comprehension.
You want to use  here to combine your lists into pairs:The outer loop pairs up the rows from  and  into pairs, so  together with ,  with incoming[1]`, etc.The inner loop then pairs up the paired rows, putting  and  together into a tuple, followed by  and , and so on. The inner loop produces one row of summed values.Demo:Your specific code doesn't work because you cannot use assignment statements (enhanced or otherwise) inside an expression. The  part of your code cannot be used like that.Another problem is that  was just another reference to , not a copy. You altered the same list via a different reference to it.
You need something likeYour attempted list comprehension doesn't work because it tries to assign to  before the structure of  (i.e. list of lists) is set up. Your earlier code works because  is  (note: not a copy, it is a reference to the same object), so the structure is there.
Firstly flatten both lists using a nested loop-comprehension and then use the built-in  function in-conjunction with  the  and  functionsSo Try this:


Answer URL
