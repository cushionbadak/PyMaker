Natural Text
I'm attempting to save data from several lists in XML format, but I cannot understand how to make the XML display properly. An example of my code right now is as follows:My Current Output is written in one very jumbled fashion, all on a single line as follows:It looks like the  function within  is adding proper indentation, as well as  breaks as I would want, but it doesn't seem to be getting interpreted correctly during output; it write on a single line.The output I'm trying to get is as follows:Ideally, I'd like for my output to be viewed as a valid XML document, and display in proper nested format.
Your "Current Output" is the representation (internal python representation) of the bytestring generated by , and seems that in Python3  prints the representation instead of the actual string.Hopefully the solution is quite simple: just pass the desired encoding to , ie:
I've only used the base ET module in Python and can't find an lxml download for python 3.5 (which I'm on) in order to test it, but the b before the line indicates bytes and a quick glance at the documentation indicates that tostring() has an encoding keyword, so you should just need to set that to unicode or utf-8.I'll also mention that you don't need to set "i" before your for-loop (python will create the "i" it needs for the for-loop), though I- personally- would zip the lists and iterate the items in the lists themselves (though that's not going to have any real impact on the code in this situation).


Answer URL
https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.tostring
