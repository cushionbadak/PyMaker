Natural Text
I'm using a dictionary to count how many times different items appear in a dataset. In the init of the class, I create the property as a dictionary like thisThe first time I find any particular item, I would get a KeyError if I try to do this because the item isn't in the dictionary yetso I ended up creating a function that checks if an entry is already in the dictionary and if not, adds it for the first timeHowever, this is not working as intended if I find a second occurrence of an item in a dataset. Let's say there are two 'elephant' in my dataset. When I print  to the console this is what I getand I get this error when adding the second occurrenceQuestion: what's the right way to check if the key's already in the dictionary (with an explanation as to why the  is changing to a )
You can use a :The first time an item is accessed, its value will take a default of A  is returned because you're not returning anything in your  branch
The return at the end of the except block must be moved out.  That way, x is returned for both casesHere is a test run first with outdented return, then with it where you have it in your OP:As you can see, the second version returns None since there is no return from the _count_occurrences try block


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.get
https://docs.python.org/3/library/collections.html#collections.Counter
