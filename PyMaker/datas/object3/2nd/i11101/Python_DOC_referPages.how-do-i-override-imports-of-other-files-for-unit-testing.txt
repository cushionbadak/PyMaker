Natural Text
I am currently attempting to write unit tests for my Main.py's  functionHere is a simplified version of my Main.py:In my  I want to import  and fake the  class in such a way that I can hit  and I found that i can assert  with the following:but I am having trouble overriding the Thoughts?So far I have tried the following within :Another example for demonstration:foo.py:bar.py:
when you use the importit import the name directly into the module, so monkeypatching  won't help, you need to override  directly in the main file:Do know that unittest has helper functions for this in the  subpackage, I believe you could do something like:This would work in your first example with  since the class that needs to be patched is not used in the global scope although  uses  as soon as it is loaded so you would need to patch it before even loading :However in this case  would not be reverted at the end of the  block because it can't be caught by unittest... I really hope your actual use case doesn't use the stuff to be patched at module level.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch
