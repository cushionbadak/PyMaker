Natural Text
I'm trying to write a page in Django which gets start and finish times for a certain task using JavaScript and POSTs it using AJAX. Since JavaScript doesn't seem to have a very good way of formatting dates, I'm sending just sending a date string like  to be parsed as a string by Python.Here is my function for parsing the string:And the view uses it like so:When I import the function in the Python REPL, it works just fine:But when I run it through , it breaks:Something about the Django environment seems to be breaking everything, and I can't seem to find what it is. Am I missing something obvious? Any suggestions would be appreciated.
I think you are hitting this bug in Python:The documentation for %Z says it matches  among others, but in practice it doesn't.Further down in the thread someone points out that:Looking at the code, the only timezone strings it recognizes are utc, gmt, and whatever is in time.tzname (EST and EDT, in my case).(which might be why it works for you in REPL.)The  timezone name is what it causing it to fail. You can confirm this by stripping it out. Try running this in Django shell and it will work:Possible solutions: strip out the last part of the time string before attempting to parse it; or use dateutil which works well:


Answer URL
https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior
