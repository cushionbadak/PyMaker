Natural Text
EDIT:As requested, here is the problem I am trying to solve:I have files in a directory that do not have extensions. Based on the output of the "file" command I want to assign the corresponding extension. So my dictionary is assigning strings that can be in this output, to the extensions (eg "ASCII": "txt") but can't know if it will be the exact output. For example :That is what the code I wrote was designed to do, but maybe there are better solutionsI have a dictionnary of strings with keys that have common strings :Sometimes, I have to fetch a value, if the search word is within the key. I use this code:But when the key I am looking for appears in multiple possible keys, the value I get is not always the same, in this example it can be either "value1" or "value2".I noticed the list returned, is not always ordered the same way.Is there a way I can make this return always the value that corresponds to the longest key matched (here would be "value1")?
Dicts, up to Python 3.7, are unordered by specification, meaning the code should not rely on an internal order for dictionaries.The work around this is simply to sort the output of your dict interation. In your snippet, that can be done simply by changing the call to  by a call to :
The longest key in all matches. A sorted with lambda may help.This gets each match in a list of lists and uses sorted and key=lambda... on the length of the 1st item in each list (which is the saved key name). It will sort shortest key name to longest. Get the last list and the last item of that list to get the value of value1.


Answer URL
https://docs.python.org/3/library/collections.html#collections.OrderedDict
