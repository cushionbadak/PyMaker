Natural Text
I would like to write a list of Python dictionaries into a file. However, I need the dictionaries (and lists within) to remain dictionaries, i.e. when I load the file for processing I want them to use dictionaries and not have to work with strings.Here is my sample code which write the data as strings, is there a way to retain the origin Python data structures (in real code the list data has hundreds of dictionaries, each of which may have hundreds of lists as values). I cannot simple pickle the data, for a number of reasons (one of which is the file needs to be human readable).At the moment I read the data file using pandas in the following manner to process the data.
Starting with Python 2.6 you can use ast.literal_eval.If whole column of your pandas DataFrame is a dict, then you can save it to CSV normaly (with separator other than ) and then map this dictionary-like column strings into dictionaries:Naturally you can ignore dataframe part - you can transform them also in loop or whatever way you like. Important parts are:  and using non-comma separator (because you use commas in dict-like strings).
Just use  instead of CSV to write your data to a file https://docs.python.org/3/library/pickle.htmlPickle will correctly serialize and recover a whole host of data types, including date-times and most user-defined classes out of the box. However, if you will need to to manually edit the files with third party tools, or want it to be human readable, it might not be the best choice.If you only need numbers, None, Booleans, lists and dictionaries, and would prefer a human-readable text file, then JSON can be a good choice. Python's  module uses the same inteface as picle, with the  and  callables to write and read to a file. On the code snippet above, just replace  by  and it will work the same with the prescribed data types. Moreover,check the docs so that the json serialization output is padded with nice indentation in order to be truly readable:  https://docs.python.org/3/library/json.html
I think what you try to do is data serialization. I think one of most common and well known serialization format is JSON. And there is a python module to read and write json files called jsonHere is a sample function to write dump data into json file (similar to the one written by @jsbueno in another answer) 


Answer URL
https://docs.python.org/3/library/ast.html#ast.literal_eval
https://docs.python.org/3/library/pickle.html
https://docs.python.org/3/library/json.html
