Natural Text
I am creating a program that automatically generates my reports in LaTeX, where I have to escape special LaTeX characters. Basically, whenever I read  or  or , etc, I have to replace it by ,  and , respectively.I naively tried to do , yet it adds a double backslash, as shown below:Is there any way to avoid doubling escape characters?
You're seeing the double backslash because you're getting the representation of the string, not the output. In the representation, it prints an backslash because  is a protected character and therefore must be escaped. This is because it is used in special characters (e.g. , ) and usage might be confused.. When the string is actually printed or saved, those double backslashes should be printed properly as a single backslash.For example, comparetoIn the first string, the second quotation mark is being escaped by the backslash. This shows why you generally can't use raw backslashes in strings. In the second string, the second backslash is being escaped by the first. The two backslashes get interpreted as a single one.But the representation of the second string still shows both backslashes. This behavior is the same as other special characters such as , where it can be a bit easier to see the issue. Just as  is the special character that means ,  is the special character that means .To actually answer your question, the way you're doing it should work properly, but you probably don't want to do it quite that way. This is because creating a string with  doesn't make this escaping issue clear. It seems like it is a special character  in the same way that  is a special character, but because there is no character defined like that, the python interpreter is smart enough to replace the single backslash with a double backslash. But you generally don't want to rely on that behavior.A better way to do it is to explicitly escape the backslash with another one or to use a raw string, where no escaping is allowed. All of these will give the same result.
You can try re.sub.It will give the expected result.


Answer URL
https://docs.python.org/3/library/functions.html#repr
