Natural Text
Can someone explain this to me, and/or direct me on the right/pythonic way of doing this?  Python 2.7.Ultimately, I am trying to loop through dictionary countsD:and for the match in a corresponding dictionary d:add the count of items as a value to the corresponding matching key, to create finally this countsDIf I do this with the aboveReturned is this, which is what I wantHOWEVER, if one of the values for a key only contains 1 value (entirely possible), like (see "cc"):and then run the same for loop, I get an error on the "cc" key:HOWEVER again, if I make that "cc" key have an empty value (), then all is fine again.And in typing the title for this post just now, I was referred to Count number of values in dictionary for each key for an answer.  Great, one line!  But again, for a key with just one value, it fails.  This good:this not, see key "cc"So, what gives??  I feel like I am missing something stupid...Thanks for any help!
This is happening because when you save a value like  with only one value, it is just saved as an  and is no longer a tuple, which means it does not have a  function. You can just add a check of the value's , such as:This way, you will not try to access the length property of an , and will not get your error.
In python, a single-item tuple (called a singleton) is written as , so the  in your input should be written as  instead; otherwise it would be considered an integer of .From 's documentation:A special problem is the construction of tuples containing 0 or 1  items: the syntax has some extra quirks to accommodate these. Empty  tuples are constructed by an empty pair of parentheses; a tuple with  one item is constructed by following a value with a comma (it is not  sufficient to enclose a single value in parentheses). Ugly, but  effective.


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences
