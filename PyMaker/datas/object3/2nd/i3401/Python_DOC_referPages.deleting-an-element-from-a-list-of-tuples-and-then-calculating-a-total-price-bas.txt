Natural Text
I was trying to solve a homework question that involves processing an order based on a list of tuples which contain the name of item, quantity, and price per item. The total is calculated by taking the 1st and 2nd indices of each tuple in the list after the item is removed and then summing the products for each tuple in the list remaining. I have to do these things within the process_order() function, but I keep on running into issues when I'm trying to remove one tuple from the list because the while loop keeps running and deletes all the elements always making the total equal to 0. The starting code is like this:
Here it is,
I decided to add a second answer in response to this comment under BcK's answer:Also, I'm not allowed to change any of the code below the process_order() function.This... is technically doable, but the question is subsequently kind of strange to me. In order for the code below the definition of  to work without modification, you have to make a change to how you define . I find this strange because changing  is only permissible due to the fact that it's "technically above the definition of " which seems like a pretty weak excuse to me.The crux of the problem with  is the intuitive answer would be:The reason this solution doesn't work is because assigning a variable within a scope (in this example, the  segment of ) creates a reference that supersedes the reference of any "higher" scopes. This means that  either cannot be assigned within the scope of  (technically achievable given the current restrictions, but requiring a bit of hackery), or a reference to the  variable that exists in the outer scope needs to make its way into the inner scope.The simplest way to achieve the latter is to use the global keyword. I really, really don't like the  keyword (and there are people who agree with me), but for whatever reason it keeps popping up, so here's how you would use it (as well as an alternative way of writing  for your learning pleasure).All that being said, I would sooner assume that there was some miscommunication in the assignmet; changing the  loop to match BcK's example would make significantly more sense, in my opinion.


Answer URL
https://docs.python.org/3/reference/executionmodel.html#resolution-of-names
https://docs.python.org/3/reference/simple_stmts.html#global
