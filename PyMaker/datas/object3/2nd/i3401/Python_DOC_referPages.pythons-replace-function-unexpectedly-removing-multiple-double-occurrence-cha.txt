Natural Text
I have a block of code that should remove every letter from that a string whose index is divisible by 3:The string "Python" for example produces "yton" as expected. I have tested this with a dozen or so strings with the correct output, except for one curious case:The string "Hello" produces "eo" instead of "elo". Upon closer inspection, python is removing double-occurences, such as "ll". Why would this be?
This is what  does:Return a copy of the string with all occurrences of substring old replaced by new. If the optional argument count is given, only the first count occurrences are replaced.You're actually relying on exactly that behavior in your  call.When you don't want that, don't use . (In fact, almost any use of  has exactly this problem, so watch out whenever you find yourself writing that.)For example, you can just use slicing:Or, maybe even better, just build up a list of characters and  them at the end:… which you can even condense into a one-liner:If you're really not allowed to use , you can do the same logic—just less efficient and idiomatic—with string concatenation:Or, just for fun, put all the complexity in the ranges and slicing so you don't even need the :
This is because the  method replaces every occurrence of the string with the replacement string. When you replace , the third character of , it also replaces the other  with .
By calling  you are invoking replace on the entire string , which replaces all occurrences of , unless you pass a third parameter to  to limit the number of times the replacement happens.Try this in stead:I think you could also just skip using replace and more precisely change that one character, changing the code under your  to:


Answer URL
https://docs.python.org/3/library/stdtypes.html#str.replace
