Natural Text
I have my script that exits through the  when CTLC+C is pressed as follows:However, when the script is running as systemd and I call , the 'exiting' message is not logged to the syslogger, so I know that the  is not executed. The  and  do not seem to be issued on service stop. What is issued by the systemctl so I could catch it in the  portion of my script?Also, do I need to care for proper threads exit when calling , or it will handle my script nicely?
You can specify the  option in the systemd config file that specifies what signal is sent to the process to exit it. Then you can modify the python script to capture the specified signal using the  module and perform your exit code accordingly.As for the other threads, it depends on how critical they are and how they are instantiated. If they are instantiated as daemonic and there is no consequence to them simply terminating at any given time, you can just let them die. Otherwise you should explicitly code the logic to shut them down properly when the signal is received.


Answer URL
https://docs.python.org/3/library/signal.html
