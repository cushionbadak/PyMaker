Natural Text
I want to download an xls file by clicking the button "Export to excel" from the following url: https://apps.tampagov.net/CallsForService_Webapp/Default.aspx?type=TPD. More specifically the button: name = "ctl00$MainContent$btndata". I've already been able to do this using selenium, but, I plan on building a docker image with this script and running as a docker container because this xls is regularly updated and I need the most current data on my local machine and it doesn't make sense to have a browser open that often to fetch this data. I understand there are headless versions of chrome and firefox although I don't believe they support downloads. Also, I understand that web get will not work in this situation because the button is not a static link to the resource. Maybe there's a completely different approach for downloading and updating this data to my computer?
First: I removed  because 'requests' is enough.Some issues you have:You don't need to create one nested tuple then apply , uses one dictionary instead that is one reason why requests is so popular.You'd better populate all parameters for the  request. like below what I did, otherwise, the request may be rejected by the backend.I added one simple codes to save the content to the local.PS: for those form parameters, you can get their values by analysis the html responsed from . Also you can customize the parameters as you need, like page size etc.Below is a working sample:
Find out the URL you need to fetch as @Sphinx explains, and then simulate it using something similar to:Take a look at the documentation of .


Answer URL
https://docs.python.org/3/library/urllib.request.html#module-urllib.request
