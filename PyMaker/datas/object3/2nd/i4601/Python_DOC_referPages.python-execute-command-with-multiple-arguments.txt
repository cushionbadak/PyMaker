Natural Text
I want to run the following command using Python on a Mac OS X computer:Here is what I have tried:The command works fine from a terminal but I get an error from the Python script:I have tried several variants of python shell functions ( for example), but I have a problem in each case.
There are a number of things that users often take for granted when using a shell. Some examples are:Variable expansion ()Input/output redirection ()Pipes ()Subshell creation ()All of these are features that the shell sets up before passing the actual command to the system. Python's  module does not do any of these things for you automatically, but it does give you the tools to emulate them.You have correctly redirected your output to a pipe for your Python process to pick up. However, the subshell created by  is not something that will get processed the way you want without a shell. There are two simple workarounds.The quick and dirty solution is to pass the entire command line in as a string to  and set :This will pass the string to a shell instead of directly to the system, thereby giving you access all the behaviors that you expect from a shell. This approach has major security problems, and is not generally recommended. However, it is very easy, and it will get you started.Implement the convenience of  in your code directly by capturing the output of  to a string using . This is lengthier, but probably more robust and portable in the long run. It is certainly the option I would chose in a production environment:Since you are setting up your own pipes, you don't need to call  any more (you never did really,  would have worked fine), and  needs to be a separate argument.
 adds quotes  to the argument . You can check by Output:


Answer URL
https://docs.python.org/3/library/subprocess.html
https://docs.python.org/3/library/subprocess.html#popen-constructor
https://docs.python.org/3/library/subprocess.html#frequently-used-arguments
https://docs.python.org/3/library/subprocess.html#subprocess.run
