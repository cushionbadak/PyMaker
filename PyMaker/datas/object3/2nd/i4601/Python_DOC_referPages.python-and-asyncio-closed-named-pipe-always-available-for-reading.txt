Natural Text
I am working on a script that reads data through a named pipe from another piece of software. I would like to read data only when available, and I was trying to use  from .I noticed that, on Linux, the reader I registered is called continuously after the pipe is closed. On macOS, this doesn't happen.This puzzles me, because after the writing end of the pipe has hung up, I would not expect the reading end to be available for reading, especially because clearly there can be no data.This script illustrates the problem:On OSX, this is the behavior I observe:While on Linux:So, why is a closed pipe available for reading although it has no data?Also, in my understanding,  would trigger when the stream can be read from and there is some data to read; is this interpretation correct?Python and OS versions:Python 3.6.4 (MacPorts), macOS High Sierra 10.13.3 (17D102)Python 3.6.1 (manually compiled) CentOS Linux release 7.4.1708 (Core) Python 3.5.2 (from repo) Linux Mint 18.2 Sonya
In python reading an empty data is a sign for socket/pipe closing.Also please switch the pipe to non-blocking mode:


Answer URL
https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.add_reader
