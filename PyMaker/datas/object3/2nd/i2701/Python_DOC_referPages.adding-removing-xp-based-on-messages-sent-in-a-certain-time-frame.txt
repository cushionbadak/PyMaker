Natural Text
People are spamming channels to gain "XP" (I've used dollars instead) and I was trying to add XP (dollars) if the user doesn't spam, but remove a bit more if they spam the channel. Right now the code is adding dollars, but it seems to be adding +2 dollars each time and not removing dollars if the user spams the channel. I used  to make sure it's the user and not the bot
You're missing  inThis  should work fine  It kept catching a KeyError because of this and adding money instead of going inside the if statement and removing itThis should fix time issue you were having:The way to detect if someone sent a message in a certain timeframe after their last message is to check if the current_time_of_message - time_of_last_message < desired_amount_of_time  The current_time_of_message is time.time()The time_of_last_message is the value in your {userID:time}dictionaryThe desired amount is the amount of time it has to pass between 2messages before they're not considered spam anymoreIn this case, you've set it to 2 and I've left it as is  You kept checking based on the same value (You would set your dictionary time to time.time() and compare it to time.time() 2 lines below it)Instead, it's better to store that value in a variable and compare using if/elif


Answer URL
https://docs.python.org/3/library/time.html#time.time
