Natural Text
I have a data set with categorical and numerical features on which I want to apply some transformations followed by XGBClassifier. Link to data set: https://www.kaggle.com/blastchar/telco-customer-churnAs the transformations are different for the numerical and categorical features, I used sklearn_pandas and its DataFrameMapper.To perform one-hot encoding on the categorical features, I want to use DictVectorizer. But to use DictVectorizer, I first need to convert the dataframe into a dict, which I try to do with a custom transformer Dictifier.When I run the Pipeline I get the error 'builtin_function_or_method' object is not iterable. Does anyone know what might be causing this error? Error trace
This seems like a bug in .  wraps the dataframe you supply in a DataWrapper object as seen in source code here:which is apparently done to handle older versions of  which did not handle pandas DataFrames well.  returns a  instance when divided into train and test.But then it is not handled correctly during  of  as given in source code hereHere, X is not a DataFrame, but a list object, so  is not a list the actual index of pandas as intended, but actually a function of  and hence the error you got.But since newer sklearn  handles DataFrame correctly, you dont have to use the other import. Change it from:to this:So now you wont get that error anymore.But, still further down the code, you will get another error about:This is because you wrap both your  objects into a  by doing this:and then do this:Your  expects a DataFrame to be passed to it, so that it can call  on it, but the previous step in pipeline  will not preserve the DataFrame, it will convert that into a numpy array.Generally,  and  don't work well together. I would advise you to remove the  altogether and instead combine your both  into a single object. This will effectively work as you wanted  to work.Something like this:
Let show just part of the code as I doAnd Pipeline


Answer URL
https://docs.python.org/3/tutorial/datastructures.html#more-on-lists
