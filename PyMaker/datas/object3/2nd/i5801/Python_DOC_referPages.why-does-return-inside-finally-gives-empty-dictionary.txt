Natural Text
I want to keep a track of exceptions inside a dictionary and return the same. However when I do so, finally block gives me an empty dictionary. The logic pretty much works for scalars. Can someone explain the behavior please.In scalar context:With dictionary: 
You caused another exception to be raised in the exception handler, which is swallowed because there is a  handler that returns from the function.You can't just concatenate an exception object and a string, so an additional  is raised, and the assignment to the dictionary is never reached.Converting the exception to a string first works:From the  statement documentation:If  is present, it specifies a ‘cleanup’ handler. The  clause is executed, including any  and  clauses. If an exception occurs in any of the clauses and is not handled, the exception is temporarily saved. The  clause is executed. If there is a saved exception it is re-raised at the end of the  clause. If the  clause raises another exception, the saved exception is set as the context of the new exception. If the  clause executes a  or  statement, the saved exception is discarded[.](Bold emphasis mine).
The line  raises an error which is discarded because you returned from . Due to the error the assignment to the dictionary  is never performed giving the impression that nothing happens.This is stated in the documentation for :If finally is present, it specifies a ‘cleanup’ handler. The   clause is executed, including any except and else clauses. If an  exception occurs in any of the clauses and is not handled, the  exception is temporarily saved. The finally clause is executed. If  there is a saved exception it is re-raised at the end of the finally  clause. If the finally clause raises another exception, the saved  exception is set as the context of the new exception. If the finally  clause executes a return or break statement, the saved exception is  discarded.(Emphasis mine)Without an error (i.e  you get the expected behavior:


Answer URL
https://docs.python.org/3/reference/compound_stmts.html#the-try-statement
https://docs.python.org/3/reference/compound_stmts.html#the-try-statement
