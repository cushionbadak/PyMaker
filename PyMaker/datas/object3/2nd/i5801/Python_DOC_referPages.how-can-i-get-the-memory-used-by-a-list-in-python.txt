Natural Text
There are more than a million subreddits on Reddit, according to redditmetrics.com.I wrote a script that repeatedly queries this Reddit API endpoint until all the subreddits are stored in an array, :The script has been running for close to ten hours, and it's about halfway done (it gets rate-limited every three or four requests). When it's finished, I expect an array like this:Approximately how much space in memory will this list take up?
This depends on your Python version and your system, but I will give you a hand figuring out about how much memory it will take. First thing is first,  only returns the memory use of the object representing the container, not all the elements in the container.Only the memory consumption directly attributed to the object is  accounted for, not the memory consumption of objects it refers to.If given, default will be returned if the object does not provide  means to retrieve the size. Otherwise a TypeError will be raised. calls the objectâ€™s  method and adds an  additional garbage collector overhead if the object is managed by the  garbage collector.See recursive sizeof recipe for an example of using   recursively to find the size of containers and all their contents.So, I've loaded up that recipe in an interactive interpreter session:So, a CPython list is actually a heterogenous, resizable arraylist. The underlying array only contains pointers to Py_Objects. So, a pointer takes up a machine word worth of memory. On a 64-bit system, this is 64 bits, so 8 bytes. So, just for the container a list of size 1,000,000 will take up roughly 8 million bytes, or 8 megabytes. Building a list with 1000000 entries bears that out:The extra memory is accounted for by the overhead of a python object, and the extra space that a the underlying array leaves at the end to allow for efficient  operations.Now, a dictionary is rather heavy-weight in Python. Just the container:So a lower bound on the size of 1 million dicts is: 288000000 bytes. So, a rough lower bound:So you can expect about about 0.3 gigabytes worth of memory. Using the recipie and a more realistic :So, about 0.3 gigs. Now, that's not a lot on a modern system. But if you wanted to save space, you should use a  or even better, a :Or, in gigabytes: works just like a , but you can access the fields with names:


Answer URL
https://docs.python.org/3/library/sys.html#sys.getsizeof
