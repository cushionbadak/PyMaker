Natural Text
i have settings.py file that looks like:this file is stored at external cloud storage.I have a process the get the url to this file, and load it into memory (not to disk). when loading it into memory it will be string type and looks like:How for example i can get the values from this string? i mean, how can i get a dictionary where key=verb name from file, and value = value from file? is there any pythonic way for this?so my dictionary will look like:
Your requirement is very specific but this kind of requirements do arise. So, I tried to solve this using method below:This solution works great for the string you provided but it might(or not) fail in some complex cases. But this solution gives a good starting point of how to start. You might need to make some modifications to make it work for complex cases.Now coming to the program, the important parts here to understand are:and The pattern  in  means, split the string on character  but only if it is not after  or  or  and not before . This regex is created to not split  line character in dict strings.Not the second part  builds on top of the above regex step as above step doesn't break the dict string. The resulting dict part of string after split is:With  the task of parsing dict, nested dict and list inside it very easy. That it!One more thing, do not use eval as one of the solution suggests here, it's a security risk.You can read more about  here
One way is to use the  function to execute the text. I don't know of a way to 'automate' the dictionary creation.


Answer URL
https://docs.python.org/3/library/ast.html
