Natural Text
Getting some practice playing with dictionaries and file i/o today when a file gave me an unexpected output that I'm curious about. I wrote the following simple function that just takes the first line of a text file, breaks it into individual words, and puts each word into a dictionary:Simple enough, in every case it produces exactly the expected output. Every case except for one. I have one text file that was created by piping the output of another python script to a text file via the following shell command:When I use textFile.txt with my dictionary script, I get an output that looks like:What is this output called? Why does piping the output of the script to a text file via the command line produce a different type of string than any other text file? Why are there no visible differences when I open this file in my text editor? I searched and searched but I don't even know what that would be called as I'm still pretty new.
Your file is UTF-16 encoded. The first 2 characters is a Byte Order Marker (BOM)  and . Also you will notice that each character appears to take 2 bytes, one of which is .You can use the codecs module to decode for you:Or, if you are using Python 3 you can supply the  argument to .
I guess the problem you met is the 'Character Code' problem.In python, the default character code is asciiï¼Œso when you use the open() fuction to read the file, the value will be explain to ascii code.But, the output may not know what the character code means, you need to decode the output message to see it 'normal like'.As normal, the system use the utf-8 code to read, you can try to decode(item, 'utf-8').And you can search for more information about character code, ascii, utf-8, unicode and the transfer method of them.Hope can helping.
To read utf-16 encoded file you could use  module:The advantage compared to  is that it supports the universal newline mode like the builtin , and  is the builtin  in Python 3.


Answer URL
https://docs.python.org/3/glossary.html#term-universal-newlines
