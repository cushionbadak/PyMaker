Natural Text
I am trying to get Python  to perform a certificate check but to ignore hostname mismatches.(This is needed since the host might be accessed via public IP, private IP, hostname, or FQDN, and I don't want to rely on the certificate to have all those valid fields)According to the official documentation, I can use a custom opener with an  that disables hostname checking (https://docs.python.org/3/library/urllib.request.html)However, due to Python Issue18543 (http://bugs.python.org/issue18543),  will ignore installed opener if any ca* argument is specified.My question is:What is the best way to work around this Issue? Should I try to override the  method? If so, how is this done in a pythonic way?Any other alternatives? I don't really want to rewrite and maintain a lot of the base code.My code so far (not working) is below:Running the code gives certificate error about hostname mismatch.This problem has also been discussed here:http://www.gossamer-threads.com/lists/python/bugs/1005966?do=post_view_threadedAnd particularly this post suggest a workaround:http://www.gossamer-threads.com/lists/python/bugs/1006048?do=post_view_threaded#1006048
It seems that this is no trivial task, and that most solutions would not be reliable in the long run.I want to post the solution I chose to solve this problem.First, I chose to use the urllib3 library (https://pypi.python.org/pypi/urllib3).From the docs, I found easiest to use the PoolManager:Note that assert_hostname=False is ignored in urllib3 verison 1.10:https://github.com/shazow/urllib3/issues/524


Answer URL
https://docs.python.org/3/library/urllib.request.html
