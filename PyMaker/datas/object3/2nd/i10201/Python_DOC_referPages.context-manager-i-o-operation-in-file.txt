Natural Text
I am using a context manager to wrap the text which would show in terminal and write to file at the same time.I faced this problem and got the solution, please checkWriting terminal output to terminal and to a file?Cannot change the functions (etc. func1 and func2) problem is after the 'with' statement any output as sys.stdout.write its showing value error: I/O operation in closed filesample code:
You don't really need (or want) to use  here. If the goal is to convert any write to  to a write to both  and your log file, you need to backup  on  and restore it on , but don't explicitly pass  to the constructor, and don't use the  return to replace , because that bypasses the / code. Instead, have  and  do the replacing work for you:Now, usage is just:Note: If you're targeting Python 3.4 or higher, I'd recommend implementing the class with just , and then using  to avoid reinventing the wheel:Note: All the above aside, usually, you want to just use the  module and logger methods for stuff like this. You can pre-configure different loggers, some that go to , some that go to a log file and , some that go just to log files, and use the appropriate one when needed.
You are overwriting , just chose a real name for your file like  or whatever but .Example:EDITSince you don't really want to write on the standard output, pass your  instance as parameter to your methods.Do the same for func2.


Answer URL
https://docs.python.org/3/library/logging.html
