Natural Text
I am trying to use the Python 3.5 C API to execute some code that includes constructing a class.  Specifically this:The problem I have is that it errors like this:So somehow I need my module to include , but I am not sure how (I guess that I would also miss other things you get by default when using Python too) - is there a way to include all this built-in stuff in my module?Here is my code so far:so  is  and it is calling .
Their are (at least) two ways to solve this it seems...Way 1Instead of:You can import the  module and get it's globals dictionary like this:This way is described like so:BUT PyEval_GetGlobals will return null it it is not called from within   Python. This will never be the case when extending Python, but when Python   is embedded, it may happen. This is because PyRun_* define the global   scope, so if you're not somehow inside a PyRun_ thing (e.g. module called   from python called from embedder), there are no globals. In an embedded-python situation, if you decide that all of your PyRun_*   calls are going to use  as the global namespace,   PyModule_GetDict(PyImport_AddModule("")) will do it.Which I got from the question embedding I found over on this Python list.Way 2Or as an alternative, which I personally prefer to importing the main module (and found here), you can do this to populate the new dictionary you created with the built-in stuff which includes :


Answer URL
https://docs.python.org/3/c-api/
