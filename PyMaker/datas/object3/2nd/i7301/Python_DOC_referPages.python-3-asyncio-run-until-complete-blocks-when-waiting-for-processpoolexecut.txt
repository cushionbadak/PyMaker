Natural Text
I'm trying to combine TCP echo client and server for testing automation into single module using ProcessPoolExecutor() and it works as expected. The only issue is I can't finish event loop. I can see debug output of last line of executor's target run_client(), but looks like executor itself still blocks.The code:Output:After this output it hands in msg loop waiting for IO.Looking forward for your help. Sorry, I'm one-day-asyncioist :)
You can't use the same event loop for your client running in a subprocess, you need a new loop:


Answer URL
https://docs.python.org/3/library/asyncio-eventloops.html#asyncio.new_event_loop
