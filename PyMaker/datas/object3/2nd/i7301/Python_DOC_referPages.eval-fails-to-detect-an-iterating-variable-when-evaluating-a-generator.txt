Natural Text
Consider the following code:The output of this is:The first eval uses the iterator  in a plain eval, and it works.The second eval uses a static variable  when evaluating a generator, and it works. The third eval combines the two ideas - it uses an iterator variable when evaluating a generator, and it fails to detect the variable and raises an error. Why does this happen?
A genexp, like , creates its own scope.So do list comprehensions, at least in Python 3.Nested scopes inside an  don't see variables from the locals used for the .That means that in this line:The  lookup inside the  happens in a nested scope, so it doesn't see the  variable from the local variables of the scope where the  occurred.


Answer URL
https://docs.python.org/3/library/functions.html#exec
