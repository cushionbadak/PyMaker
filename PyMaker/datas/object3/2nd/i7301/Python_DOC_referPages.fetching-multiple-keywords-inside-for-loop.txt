Natural Text
Looking to find a list of keywords inside a  loop, I'm getting this error:TypeError: unhashable type: 'list'An excerpt of my code is as follows:
Starting with this:First, you need to match any one key. Use the  joining operator.  looks for  or  or . Create the object outside the loop:Here, I use  to escape any possible regex metacharacters. May not work if your existing pattern has any meta characters. Now loop through , calling  on each item. Don't use , call it directly:This gives:For complicated patterns with their own meta characters, you should probably compile each pattern separately in a pattern list:You'll then modify your loop slightly:This also works, giving:But it is slower, because of the nested loop.As a closing comment, if your keys are simple strings, I would just go with , because that also does the same thing, checking if a string begins with a certain sub string:Magically, this also gives:
I think what you're trying to do is the following:This uses each element of  as the regex to match against each string element in . As COLDSPEED noted, compiling in a loop for a single use defeats the purpose of compiling it at all, so just use them directly in match instead. Then, instead of , just build a finalized list in the loop itself.


Answer URL
https://docs.python.org/3/library/re.html#re.escape
