Natural Text
The goal is to write csv files for each Invoice from a webpage. I'm trying to do this with a webscraper, mainly using seleniumEach Invoice has its own number, date, close_date, amount, and list of RecordsEach Record in an Invoice has its own id, description, storage, weight, price, and quantityI was able to successfully print out to the console all of the data I need. Like so:I did this with these:I assigned values to each attribute from html elements like this (I'll just use the "number" attribute as an example)From what I've seen online, it's not super obvious how to make a csv file out of the objects I usedI found this: Writing list of objects to csv fileThat guy basically says I should use namedtuples, which to my understanding are kind of like stripped-down objects made on a budget. With those, I (should) have an easier time making csv files. So I made this:Already alarm bells are going off. Can I have a list of namedtuples be an attribute for a namedtuple? I need one csv file per Invoice. Each invoice has only one number, date, close_date, and amount. However, it can have a ton of Records. My thought process is telling me I need to have a list of Records attached to each Invoice.I tried assigning values to a Invoice that is a namedtuple and had trouble.The other Invoice values of date, close_date, and amount go into index [1], [2], and [3]. I leave [4] as None since that's where the list of Records for the Invoice should go.The "extend()" ends up making my Invoice list into a string, which looks like it could be useful for making a dictionary (which I might need if I make a csv the hard way - I think with the right namedtuple it's almost as easy as saying "write this data to a csv"), but I need to be able to attach a list of Records to each individual Invoice - I can't do that with a string.Here are what I think my options are:make Invoice a regular object and make Record a regular object -> make csv out of thesemake Invoice a namedtuple and Record a namedtuple ->make csv out of thesemake one a namedtuple and the other a regular object -> make csv out of theseNothing is glaringly obvious to me at the moment. TL;DR: I'm trying to figure out how to write csv files from data. Should I stick with trying to make csvs out of namedtuples, or try and figure out how to do it with object attributes instead? How would I do either?
I think one of the most straightforward solutions here is to implement like  and  methods for  class and then write each object into csv with built-in .Of course, if you're on Python 3.6 and higher, data classes are much more elegant way to do it, but the idea remains the same.Then you can write the objects to csv like following:


Answer URL
https://docs.python.org/3/library/dataclasses.html
