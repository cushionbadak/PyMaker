Natural Text
I have data in the database and I want to export it to CSV file.The data is in Japanese and for further use, I need it to be encoded in UTF-8This is my script to get the data and write in the CSV fileI can create the CSV file, and the data is exported in UTF-8, but my CSV file's data was like this:In my research I found that my data was written in byte object (may be I'm wrong here). I need the data to be written in UTF-8 without I know that I can use  to make it into the string, but I cannot apply that to Can you give me any suggestions?
 just takes a list of whatever you've got,1 calls  on each element, and puts them together into a line of CSV.So, if what you've got is  objects, then it's going to call  on them and get strings like .The solution is to give it strings.The simplest way to do it is by decoding those :I know that I can use  to make it into the string, but I cannot apply that to Sure you can. I don't know what your columns are, so I'll make up my own example:That's really all there is to it.What if your code has absolutely no idea what the columns in the database are? Well, in that case, you have to get a little bit clever. As long as we know that all of the  columns are really Unicode text in disguise as UTF-8, you can just switch on the type:That's a bit ugly, but reading  from a database where you have no idea what the columns are is inherently an ugly problem.However, there's probably a much better solution.MySQL Connector/Python turns all , , and similar columns into Unicode  values by default.2 But , , and similar columns are always returned as .If this column is meant to represent Unicode text, set it to a text type instead of a binary one in the database. Then you won't have a problem in the first place—in this script, or in any other tools.1. Actually, it appears to be illegal to call it with a list of anything but strings and numbers, according to the docs. But practically, it takes anything at all; it just doesn't do anything very useful with any types besides strings and numbers…2. That is, unless you explicitly pass it a  in the  call or similarly set it elsewhere.


Answer URL
https://docs.python.org/3/library/csv.html#writer-objects
