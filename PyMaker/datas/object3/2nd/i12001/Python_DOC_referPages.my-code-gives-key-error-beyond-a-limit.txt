Natural Text
I was solving Project Euler problem 34My code gives is as follows:It works fine until 140 and then gives:I printed the list too and found there is no problem there.Where am I going wrong?
You're not using  correctly.This:  applied to [1, 4, 0] will (try to) calculate:resulting in this index error (factDict[1] + factDict[4] being equal to 25).According to the doc:The left argument, x, is the accumulated valueSo if you use factDict[x] you will replace the accumulated value by its factorial (not what you want).So you have to leave x 'alone'.Then, to initialize to something "neutral", you can just use 0, this way, it will actually compute (for 140): So finally:Moreover I changed the last test in  since you're looking for numbers equal to the sum of their factorials, not being a divisor of the sum of their factorials. (As stated in the comments, you can use the test you like).PS this doesn't give a lot of results:
the reduce method does not work as you intend. Visit https://docs.python.org/2/library/functions.html#reducein that expression x is the accumulated value and y is the update value from the iterable (listNum).When the exception occures, the value of listNum is [1,4,0]. the calculations made by the reduce function at that moment is then :A way to correct this is to set an initializer into the reduce function like this.Note that this code will display numbers which are devided by the sum of the factorial of thier digits.


Answer URL
https://docs.python.org/3/library/functools.html#functools.reduce
