Natural Text
I've seen this question asked here, but the answers given did not work in my case and was marked duplicate. does not work for  in Python 3. throws a .None of these work for non- inputs and other files being used as stream.Adding a hook does not work:  and using  in the hook.I dug in the source code () and saw that  was being used internally to load a buffer. No shell or other piping shenanigans.
What worked for me was simply setting . The  documentation does state "The optional size argument, if given, is an approximate bound on the total number of bytes in the lines returned." In practice, I get exactly one new line every time rather than having to fill a buffer.


Answer URL
