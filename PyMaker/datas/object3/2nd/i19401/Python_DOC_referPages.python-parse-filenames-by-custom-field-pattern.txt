Natural Text
Started learning python this week, so I thought I would use it rather than excel to parse some fields out of file paths.I have about 3000 files that all fit the naming convention./Household/LastName.FirstName.Account.Doctype.Date.extensionFor example one of these files might be named: Cosby.Bill..Profile.2006.docand the fullpath is /Volumes/HD/Organized Files/Cosby, Bill/Cosby.Bill..Profile.2006.docIn this case: Cosby, Bill would be the Household Where the household (Cosby, Bill) is the enclosing folder for the actual fileBill would be the first nameCosby would be the last nameThe Account field is ommittedProfile is the doctype2006 is the datedoc is the extensionAll of these files are located at this directory /Volumes/HD/Organized Files/ I used terminal and ls to get the list of all the files into a .txt file on my desktop and I am trying to parse the information from the filepaths into categories like in the sample above. Ideally I would like to output to a csv, with a column for each category. Here is my ugly code:    It seems to work ok, but I run into problems when there is another enclosing folder, it then shifts all my fields about.. for example when rather than the file residing at /Volumes/HD/Organized Files/Cosby, Bill/its at /Volumes/HD/Organized Files/Resigned/Cosby, Bill/I know there has got to be a less clunky way to go about this.
Here's a tool more practical than your function  :resultEDIT 1Here's another very practical tool : regex   resultEDIT 2I wonder where was my brain when I posted my last edit. The following does the job as well:
From what I can gather, I believe this will work as a solution, which won't rely on a previously compiled list of filesThis uses the os library to "walk" the list of households. Then for each "household", it will gather a file listing. It this takes this list, to generate records in a csv file, breaking apart the name of the file, using the period as a delimiter.It makes use of the csv library to generate the output, which will look somewhat like;If the extension is not needed, then it can be ommited by changing the line:towhich tells it to only use up until the last part of the filename, then remove the "Extension" string from headerRow.Hopefully this helps
It's a bit unclear what the question is but meanwhile, here is something to get you started:Output:Another interpretation is that you would like to store each field in a parameterand that an additional path screws things up...This is what  looks like in the for-loop:The solution then might be to work backwards.Assign  to ,  to  and so on.


Answer URL
