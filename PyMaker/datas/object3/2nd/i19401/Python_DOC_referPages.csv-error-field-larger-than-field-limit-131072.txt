Natural Text
I have a script reading in a csv file with very huge fields:However, this throws the following error on some csv files:
The csv file might contain very huge fields, therefore increase the : works for Python 2.x and 3.x.  would only work with Python 2.x (SO: what-is-sys-maxint-in-python-3)UpdateAs Geoff pointed out, the code above might result in the following error: . To circumvent this, you could use the following quick and dirty code (which should work on every system with Python 2 and Python 3):
This could be because your CSV file has embedded single or double quotes. If your CSV file is tab-delimited try opening it as:
Below is to check the current limitOut[20]: 131072Below is to increase the limit. Add it to the codeTry checking the limit againOut[22]: 100000000Now you won't get the error "_csv.Error: field larger than field limit (131072)"
csv field sizes are controlled via [Python 3]: csv.field_size_limit([new_limit]):Returns the current maximum field size allowed by the parser. If new_limit is given, this becomes the new limit.It is set by default to 128k or 0x20000 (131072), which should be enough for any decent .csv:However, when dealing with a .csv file (with the correct quoting and delimiter) having (at least) one field longer than this size, the error pops up. To get rid of the error, the size limit should be increased (to avoid any worries, the maximum possible value is attempted).Behind the scenes (check [GitHub]: python/cpython - (master) cpython/Modules/_csv.c for implementation details), the variable that holds this value is a C long
Sometimes, a row contain double quote column. When csv reader try read this row, not understood end of column and fire this raise.Solution is below:
Find the cqlshrc file usually placed in .cassandra directory.In that file append,
I just had this happen to me on a 'plain' CSV file. Some people might call it an invalid formatted file. No escape characters, no double quotes and delimiter was a semicolon.A sample line from this file would look like this:First cell; Second " Cell with one double quote and leading  space;'Partially quoted' cell;Last cellthe single quote in the second cell would throw the parser off its rails. What worked was:


Answer URL
https://docs.python.org/3/library/csv.html#csv.field_size_limit
