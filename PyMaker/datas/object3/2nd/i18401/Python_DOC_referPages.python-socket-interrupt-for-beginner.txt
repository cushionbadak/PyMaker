Natural Text
I'm building a network music player with my Raspberry Pi and I'm trying to come up with a scheme that will allow me to send a "command" to my Pi that will allow it to do various things over the network (such as transport control).This is what I'm thinking on the receiver (in sort-of pseudo-code):Is there some basic code for beginners I can look at?
You'll need to use the  module and the  module.To set up the socket, you'll need toUse  to create a socket. You'll probably want to use the  address family. For TCP, use ; for UDP, use . the socket to the interface and port you want to listen on.For TCP, call  on the socket. 5 is the typical backlog value used.If you're using TCP, you've just created a listening socket. In order to actually receive data, you'll need to accept a connection using . With a connected socket you can  or  data.UDP is similar, except accepting is not necessary and you'll use  and  rather than  and .These methods block, however, and if I understand you correctly, you don't want that.  lets you wait for an event to occur on any of a given set of sockets. You can also provide a zero timeout if you want to just check if there is some activity. Once it has detected activity, you can usually perform the appropriate action once without blocking.Once you're done with sockets, be polite and  them after shutting down any connected sockets.
You could consider using sockets to communicate between the music player and server. The recv() call (typically used with TCP sockets) or recvfrom() call (typically used with UDP sockets) are blocking -- so they should provide a nice blocking context to your nothingIsRecvd case and would allow you to get rid of the "while True" loop. You can find examples on Python Library reference: http://docs.python.org/release/2.5.2/lib/socket-example.html


Answer URL
