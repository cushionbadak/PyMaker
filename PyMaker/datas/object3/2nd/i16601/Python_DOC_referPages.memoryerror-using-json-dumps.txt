Natural Text
I would like to know which one of  or  are the most efficient when it comes to encoding a large array to json format.Can you please show me an example of using ?Actually I am making a Python CGI that gets large amount of data from a MySQL database using the ORM SQlAlchemy, and after some user triggered processing, I store the final output in an Array that I finally convert to Json.But when converting to JSON with : I get the following error: So, my guess is using  to convert data by chunks. Any ideas on how to do this? Or other ideas besides using ?
You can simply replacebyThis should "stream" the data into the file.
The  module will allocate the entire JSON string in memory before writing, which is why  occurs.To get around this problem, use :However note that this will generally take quite a while, since it is writing in many small chunks and not everything at once.Special case:I had a Python object which is a list of dicts. Like such:I could  individual objects, but the dumping whole list generates a  To speed up writing, I opened the file and wrote the JSON delimiter manually:You can probably get away with something like that if you know your JSON object structure beforehand. For a general use, just use .


Answer URL
https://docs.python.org/3/library/json.html#json.JSONEncoder.iterencode
