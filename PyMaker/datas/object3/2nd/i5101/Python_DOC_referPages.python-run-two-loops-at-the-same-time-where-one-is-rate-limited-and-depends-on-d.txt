Natural Text
I have a problem in python where I want to run two loops at the same time. I feel like I need to do this because the second loop needs to be rate limited, but the first loop really shouldn't be rate limited. Also, the second loop takes an input from the first.I'm looking fro something that works something like this:
There are two basic approaches with different tradeoffs: synchronously switching between tasks, and running in threads or subprocesses. First, some common setup:Now, the synchronous approach. It has the advantage of being much simpler, and easier to debug, at the cost of being a bit slower. How much slower depends on the details of your tasks. How it works is, we run a tight loop that calls the fast job every time, and the slow job only if enough time has passed. If the fast job is no longer producing work and the queue is empty, we quit.If you feel like this doesn't work fast enough, you can try the  approach. You can use the same structure for working with threads or processes, depending on whether you import from  or  itself. We use a  for communication instead of .As you can see, there's quite a lot more machinery for you to implement, but it will be somewhat faster. Again, how much faster depends a lot on your tasks. I'd try all three approaches - synchronous, threaded, and multiprocess - and see which you like best.
You need to do 2 things:Put the function require data from the other on its own processImplement a way to communicate between the two processes (e.g. Queue)All of this must be done thanks to the GIL.


Answer URL
https://docs.python.org/3/library/multiprocessing.html
