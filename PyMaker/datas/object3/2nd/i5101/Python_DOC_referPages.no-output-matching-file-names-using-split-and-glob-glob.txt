Natural Text
I am trying to find all files in a bunch of subdirectories that have either the form: or The part of the file name  can take the form  through  or higher depending on the number files with matching  segments. There is not  if there are no duplicate task names.  The script can successfully enter the directories and I can break the file name into chunks by separating at Where  will give the output:or, if there is no : I can also break out the part I want to check to see whether it is a run number or not:  Returns, e.g.:, if there is a run number, or, if there is no run number.  BUT, my problem is that I can't seem to list out only those files that have a run number:  Gives me no output at all.  I'm at a loss as to why I can't find the matching sting.Edit 1:path to files is  There are multiple sub-num directories in clean_nii and multiple ses-num directories in each sub-num directory. Each ses-num directory contains some or all of the following sequence directories: "anat", "func", or "fmap" in which are the files.  Edit 2: I'm not a programmer. Please don't assume I know what you're talking about, even if it's "basic". I'm trying.
You are using the wrong syntax for the glob, and you are using globbing incorrectly. Your  call wants to match a literal  string after a single digit, and you are trying to use a function that produces a list of files to test if a string matches a pattern.The correct pattern to match your files would be:Glob patterns are not regular expressions. See the wikipedia article on glob syntax, and the  module for details.Next,  looks up files on the filesystem, and returns a list of matching filenames. The above pattern has no path information so only lists files in the local working directory. You'd have to use  to match specific files in a directory, at which point the list will consist of full paths. You should not compare that list with a single string,  is never going to be equal to a list of matching filenames.If you want to see if your string matches a specific globbing pattern, you'd use the  function:Now you are actually testing if your filename part consists of the string  at the start, followed by two digits.Next, your  loop iterates over individual characters of the  string. You are repeating this loop  times, without any need to repeat anything. You ignore the  variable, you are just doing needless extra work.Next, your code is still doing more work than it needs to.  will already list filenames in directories, yet your code lists them redundantly with a  call. Either prune your  list after you found those specific subdirectories, or test  for a matching subdirectory and process  instead:I used the  function to filter out matching names from the  list produced by .Alternatively, stick to  if you want to process all files in the directory and only test specific files in the larger list for your pattern:


Answer URL
https://docs.python.org/3/library/fnmatch.html
https://docs.python.org/3/library/fnmatch.html#fnmatch.fnmatch
https://docs.python.org/3/library/fnmatch.html#fnmatch.filter
