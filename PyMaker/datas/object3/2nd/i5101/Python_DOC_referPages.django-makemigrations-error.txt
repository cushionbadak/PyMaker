Natural Text
Hi,I ran into an encoding error with Python Django.In my views.py, I have the following:I got the following error:SyntaxError at /hello3_template/  Non-ASCII character '\xe5' in file D:\WinPython-32bit-2.7.5.3\django_test\article\views.py on line 19, but no encoding declared; see http://www.python.org/peps/pep-0263.html for details (views.py, line 19)I look up that link, but I am still puzzled on how to resolve it.Could you help?Thanks,smallbeeAs lalo points out, the following line has to be on the topThank you, all.
Well, here you are:Put  at top of file, it define de encoding. The docs says:Python will default to ASCII as standard encoding if no other      encoding hints are given.So, you code must begin:Hope helps
If you read PEP 263, it clearly says:To define a source code encoding, a magic comment must be placed into the source files either as first or second line in the fileâ€¦(The original proposal said that it had to be the first line after the #!, if any, but presumably it turned out to be easier to implement with the "first or second line" rule.)The actual reference docs describe the same thing, in a less friendly but more rigorous way, for 3.3 and 2.7.A "magic comment" that appears later in the file is not magic, it's just a comment to mislead your readers without affecting the Python compiler.UTF-8 for  is , so those are the bytes in the file. In recent Python versions (including 2.7 and all 3.x), the default encoding is always ASCII unless the file starts with a UTF BOM (as some Microsoft editors like to do); even in 2.3-2.6 it's usually ASCII; in earlier versions it's Latin-1. Trying to interpret  will fail with the exact exception you saw.


Answer URL
