Natural Text
I have 2D numpy array something like this:and a boolean array:Now, when I try to slice arr based on boolarr, it gives meOutput:But I am looking to have a 2D array output instead. The desired output is
An option using  is to start by adding up rows in the :Then mask the array as you do:And use  to split the flat array according to the  of  (as the function expects the indices where to split the array): General solution  Examples Lets have a look at some examples:Or for the following arrays:
Your desired output is not a 2D array, since each "row" has a different number of "columns". A functional non-vectorised solution is possible via :
Here's one way to do it with  instead:
You may be looking for something as simple as a masked array. You can use the mask to create an array that masks out the desired values, so that they are not affected by further operations and don't affect the results of calculations:Notice that the mask must be flipped since it's the invalid elements that are masked. The result will look like
should be competitive in speed.  (It's a little faster if we omit the outer  wrap, returning just a list of arrays.)But realistic time tests are needed to be sure.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.compress
