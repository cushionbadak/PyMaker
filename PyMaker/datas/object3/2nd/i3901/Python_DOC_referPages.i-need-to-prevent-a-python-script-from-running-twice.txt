Natural Text
I need to prevent a python script from running more than once. So far I have: Problem is the sys.exit() never gets called even if the file is there. Maybe this is a platform dependent way of doing things? I just need to write a lockfile, check for its existence and if it's not there or stale, create a new one. Ideas?
Writing a file will create a new file if none exist; you could instead try to read the file first: if there is none, an error is raised and a file a file written; if there is a file, the program exits.If you need something more sophisticated, you could look up the atexit module
You can check if you file exists by using  (docs here). If it does, then you can use the  you mentioned before. If you need something more than , try the  module @Reblochon suggested. The script will then assume the file is ready to lock and the method will report its success back to the user via a boolean.


Answer URL
https://docs.python.org/3/library/atexit.html
https://docs.python.org/3/library/os.path.html#os.path.exists
