Natural Text
I am pretty new to programming so I hope someone can help me in "regular" language haha!I looked at similar questions on this forum and other sites, but I still can't figure out what I am doing wrong. This is the function where I get an error messsage. The rest of my code works fine.I keep getting the following message:UnboundLocalError: local variable 'number' referenced before assignmentBut the variable has been set inside my function so I would think it would work. It also works when I give the wrong input (so a string in this case) right away. It does not work when I first give a string like: hkjadhjkasThen this script will ask me again since it will run again. If i put in like the number 20 after that it will give this error. But at my first try giving in 20 it will work. So this error does not appear all the time. So what am I not doing right? Thank you in advance for helping me.
Your problem is that after recursing in your  block, you keep running the original function as if the exception had not occurred, but the original function failed to set .That is, this code:tries to parse and assign to , prints the error, invokes  recursively, then when that finishes, it continues on as if the error had not occurred, causing  to read , without having set it.If the goal is to use the recursive call's result, just change your code from:to:A similar change would be needed in the other place you recursively call .I'd also recommend limiting your  to something more specific than "all possible exceptions"; as is, you'll ignore the user hitting Ctrl-C, the system running out of memory, etc. I'd suggest using  which is the only exception that  itself would raise while parsing a string, rather than blindly catching all errors and assuming it was invalid input.


Answer URL
https://docs.python.org/3/library/exceptions.html
