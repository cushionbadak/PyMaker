Natural Text
Why this code throws "StopIteration":and this works?
This behavior is because of two things:The right-hand side of an assignment statement is evaluated before the left-hand side.Generator objects can be iterated over only once.To explain further, when this code is executed:this part:will be evaluated before this part:Moreover, placing  in  will cause the generator to be iterated over entirely and thus exhausted.  When  is then evaluated afterwards, a  exception is raised because  is now empty.This code however is different:It will execute  before executing .  Meaning,  will still have some items in it when it is converted to a list.
As per the language reference for assignment statements,An assignment statement evaluates the expression list (remember that this can be a single expression or a comma-separated list, the latter yielding a tuple) and assigns the single resulting object to each of the target lists, from left to right.So, the expression on the right hand side is evaluated first. So,  is executed first and that exhausts the generator and then you are doing  which tries to iterate an already exhausted generator. That is why  is raised.


Answer URL
