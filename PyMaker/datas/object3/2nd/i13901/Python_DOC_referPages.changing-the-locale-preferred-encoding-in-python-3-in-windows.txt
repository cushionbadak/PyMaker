Natural Text
I'm using Python 3 (recently switched from Python 2). My code usually runs on Linux but also sometimes (not often) on Windows. According to Python 3 documentation for , the default encoding for a text file is from  if the  arg is not supplied. I want this default value to be  for a project of mine, no matter what OS it's running on (currently, it's always UTF-8 for Linux, but not for Windows). The project has many many calls to  and I don't want to add  to all of them. Thus, I want to change the locale's preferred encoding in Windows, as Python 3 sees it.I found a previous question"Changing the "locale preferred encoding"", which has an accepted answer, so I thought I was good to go. But unfortunately, neither of the suggested commands in that answer and its first comment work for me in Windows. Specifically, that accepted answer and its first comment suggest running  and , and I've tried both. Please see transcript below from my cmd window:Note that even after both suggested commands, my opened file's encoding is still  instead of the intended .
As of python3.5.1 this hack looks like this:All files opened thereafter will assume the default encoding to be .
i know its a real hacky workaround, but you could redefine the  function like so:if you run this early on, all files opened after (at lest in my testing on a win xp machine) open in utf-8, and as this overrides the module method this would apply to all platforms.


Answer URL
https://docs.python.org/3/library/functions.html#open
