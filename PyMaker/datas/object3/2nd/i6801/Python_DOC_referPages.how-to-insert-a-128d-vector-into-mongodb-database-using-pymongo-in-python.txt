Natural Text
I'm trying to insert an 128d vector which I generated for a face in a image containing multiple faces into MongoDB collection(vectors). I'm using the famous dlib library for generating the 128d vector. When I try to insert this vector into mongodb collection I got "cannot encode object error". The error is as below.I did try to convert this 128d vector to list, np array but no help.Is there a way to insert 128d vector as it is using pymongo in MongoDB since I want compare 128d vectors for similarity later on.The part of the code where I'm trying to insert vector into mongodb is as below.your help is really appreciated. Thanks.
I just converted it to a list to save in DB.Retrieval: After fetching it from DB, convert back to dlib vector
The PyMongo method insert_one() does not accept arbitrary object. Please see also PyMongo Tutorial: Inserting a DocumentYou should convert your vector object into a document. Please see MongoDB Data Modelling Introduction as a starter guide. For example, you could design as below: Make sure to take into consideration on how you're going to query it later. What's the field that you could use to retrieve the data later. See also MongoDB IndexesAn alternative could also be storing the Python pickle of the object. Example:As you can see there are various ways to design the schema, play around with different designs and see what suits your application best. 


Answer URL
https://docs.python.org/3/library/pickle.html
