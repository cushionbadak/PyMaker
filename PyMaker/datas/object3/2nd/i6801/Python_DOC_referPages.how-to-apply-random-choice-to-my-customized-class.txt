Natural Text
I am reading Fluent Python. Code 1-1, here it constructs a class with namedtuples and implements  and . but later the author uses random.choice to choose a card from deckhow is this working? I don't think deck is a sequence.
Implementing  makes your class iterable. Watch:If a class does not have an  method but a  method, Python, when forced to do so, constructs an iterator from an instance that tries to access its elements via . It starts at index 0 and ends as soon as an  is thrown.However, since  instances don't have a  method, they formally don't count as sequences yet and  would complain withHowever, once we give it a  method instances count as sequences, and that's all that  wants according to its documentation.choice(self, seq) method of random.Random instance      Choose a random element from a non-empty sequence.
 takes a random element from a non-empty sequence. If you implement , python can use that to treat your object as a sequence by indexing and that's what it does. 
 is indeed not a list, but as stated by documentation, any object whose class implements  can be treated as a list-like object, e.g. a sequence. Since implementing  allows you things like , you can call  because what  does is it generates a random number  betwen 0 and  and returns .


Answer URL
https://docs.python.org/3/glossary.html#term-sequence
