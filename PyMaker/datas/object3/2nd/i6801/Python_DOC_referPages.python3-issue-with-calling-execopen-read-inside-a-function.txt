Natural Text
I'm having an issue with running a python script in a python script that i simply do not understand:Assume we have 2 files in the same directory: 'init.py' and 'text.py'init.py:test.py:If I run test.py now, I getinit.py was runX = 5However, if I change test.py into:I get:init.py was run Traceback (most recent call last):  File "test.py", line 5, in File "test.py", line 3, in func_callNameError: name 'X' is not definedCan someone explain to me why this leads to different results?Is there a workaround for this?My goal is to initializes most of my variables by running a python script and accessing the variables set up in that python script.
According to exec_documentation:If exec gets two separate objects as globals and locals, the code will be executed as if it were embedded in a class definition.Inside method globals() and locals() are different objects:output:In global level this objects are equal:Output:So If you want to do it via method, you need to pass the same object to exec. For your code it would look like this:Nevertheless, as I mentioned in comment, create file with consts and import it. Try to avoid using exec/eval at all costs, unless you are 100% sure what you are doing.


Answer URL
https://docs.python.org/3/library/functions.html#exec
