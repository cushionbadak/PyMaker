Natural Text
I tried implementing this formula: http://andrew.hedges.name/experiments/haversine/The aplet does good for the two points I am testing:Yet my code is not working.The distance it returns is 5447.05546147. Why?
It's because in Python, all the trig functions use radians, not degrees.You can either convert the numbers manually to radians, or use the  function from the math module:The distance is now returning the correct value of  km.Edit: Just as a note, if you've stumbled across this post because you just need a quick and easy way of finding the distance between two points, I recommend you use the approach recommended in Kurt's answer below -- see his post for rationale.
Update: 04/2018: Note that Vincenty distance is deprecated since GeoPy version 1.13 - you should use geopy.distance.distance() instead!The answers above are based on the Haversine formula, which assumes the earth is a sphere, which results in errors of up to about 0.5% (according to ). Vincenty distance uses more accurate ellipsoidal models such as WGS-84, and is implemented in geopy. For example,will print the distance of  kilometers using the default ellipsoid WGS-84. (You can also choose  or one of several other distance units).
For people (like me) coming here via search engine and just looking for a solution which works out of the box, I recommend installing . Install it via  and use it like this to get the haversine distance:An alternative package is .If you don't want dependencies, you can use:


Answer URL
