Natural Text
I have this code:I get this error for , but not for :Why can  use variables defined outside of the function, whilst  cannot?
That's because  reassigns the global variable .   on the other hand just uses it.  Remember that  is the same as .Unless you explicitly tell it otherwise, Python treats all variables used within a function as being local.  Furthermore, since there is no variable  defined within the local scope of , it throws the error.If you want to reassign a global variable within a function, you have to put:at the top of your function to explicitly declare  to be global.  So, to make  work, it should be rewritten to this:
This piece:not only uses global variables, but also tries to modify them (or more accurately: assign different value to global variable ).To make it work, you can just declare this variable as global:
I'd like to point out that most of the time, this:is bad practice, and you want to use parameters instead:Also, here: is redundant, the variable is increased by the calling of the function.Also this part of the Python FAQ is relevant and useful.
In  you are shadowing your global . Since it is not assigned before you attempt to add to it, you get an error.A possible solution is to use  in the  function like so
If you assign into a variable, python will consider the variable local and won't bother looking for a global variable of the same name. Use  as suggested in other answers.


Answer URL
