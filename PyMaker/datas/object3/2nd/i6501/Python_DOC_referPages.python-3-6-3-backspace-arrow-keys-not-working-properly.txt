Natural Text
In shells like the interactive python shell, you can usually use the arrow keys to move around in the current line or get previous commands (with arrow-up) etc.But after I ssh into another machine and start  there, I get sessions like:where the last character comes from arrow-up. Or, using arrow-left:How can I fix this?In the regular bash, arrow keys work fine. The weird behavior is just in the interactive python (or perl etc.) shell.
Looks like readline is not enabled. Check if  variable is defined, for me it points to  and that file is executed by the python process before going interactive, which setups readline/history handling.Thanks to @chown here is the docs on this: http://docs.python.org/2/tutorial/interactive.html
I've solved this issue by installing  package:
On OS X, I have different problem.When I using system python shell, the keys is no problem, but problem in virtualenv. I'd try to reinstall/upgrade virtualenv/readline and nothing fixed.While I try to  in problem python shell, get this error message:Cause there is  but not , so I make a symbol link:Problem has been solved!
On OS X, Xcode updates sometimes break . Solution:If the problem still persists, try to remove  using  and install it using :
install readline-devel package. recompile python with readline moduleBingo!
On OS X, using python 3.5 and virtualenvIn the interpreter do: Now arrow keys should work properly. Additional information...Note that as of Oct 1, 2015 - readline has been DEPRECATED (source https://github.com/ludwigschwardt/python-readline)Use gnureadline instead (see: https://github.com/ludwigschwardt/python-gnureadline)If I install readline instead of gnureadline using python 3.5, I receive errors after attempt to import in the interpreter: 
Here are the steps which worked for me in ubuntu 12.04 for python 3.3.1) open teminal and write 2) download the source file of python 3.3.2 from http://www.python.org/ftp/python/3.3.2/Python-3.3.2.tar.xz3) extract it and navigate to the Python-3.3.2/ directory in a shell4) execute the following command:
I had problems with shell history(tab/arrows commands) of Python 3.6.x  on Ubuntu 16.04 LTS.Python 3.6.x was installed from source.What solved for me was install the module "gnureadline" as said by user12345, using this command line::)
Was impacted after upgrading Mac to High Sierra, this successfully resolved it for me:
On CentOS, I fix this by and then recompile python 3.4.On OpenSUSE, I fix this byfollowing Valerio Crini's answer.Perhaps "pip3 install readline" is a general solution. Haven't tried on my CentOS.
I fixed this by doing the following:yum install readline-develpip install readlineI encountered another error here:I fixed this by installing :After that I managed to run  successfully which solved the escape characters in my python shell.FYI, I'm using RedHat
If you use Anaconda Python, you can fix this by running:Worked for me!
Did you call ssh with the -t parameter to tell ssh to allocate a virtual terminal for you?From the man page:-t   Force pseudo-tty allocation. This can be used to execute arbitrary screen-based programs on a remote machine, which can be very useful, e.g. when implementing menu services. Multiple -t options force tty allocation, even if ssh has no local tty.Additionally you may also have to set the TERM environment variable on the server correctly as suggested in another post.
Have you tried using a different SSH client? Some SSH clients have special, built-in keymappings for different remote processes. I ran into this one a lot with emacs.What client are you using? I'd recommend trying Putty and SecureCRT to compare their behavior.
For those using conda, installing the readline package from conda-forge channel will fix the problem:
I have run into this issue recently and after reading a lot about  (does not work for mac osx) and  and not being satisfied, this is now my setup which enables using arrow keys in any python console:install gnureadline using now you can either do  (a step omitted in many tutorials) and arrow keys should work as expected. To make them work automatically follow the following steps:create (or append to) file : append to file : 
How's your env variable $TERM set [a] when things work fine and [b] when they don't?  Env settings are often the key to such problems.
Try getting a key code library running on the server. If that does not work try to download a library with read-key ability.
I was trying build Python 2.7 on Ubuntu 14.0. You will need libreadline-dev. However, if you get it from apt-get, the current version is 6.3, which is incompatible with Python 2.7 (not sure about Python 3). For example, the data type "Function" and "CPPFunction", which were defined in previous versions of readline has been removed in 6.3, as reported here:https://github.com/yyuu/pyenv/issues/126That is to say you need to get the source code of an earlier version of readline. I installed libreadline 5.2 from apt-get for the library, and get the source code of 5.2 for the header files. Put them in /usr/include. Finally the issue has been resolved. 
readline module has been deprecated which will cause invalid pointer error in latest python versions when executing quit() or exit() in python shell. instead


Answer URL
https://docs.python.org/3/using/cmdline.html#envvar-PYTHONSTARTUP
