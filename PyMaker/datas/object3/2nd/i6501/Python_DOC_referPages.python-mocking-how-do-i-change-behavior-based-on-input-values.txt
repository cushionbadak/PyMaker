Natural Text
I have a class that I am trying to cover with tests in python.I have a dependency that's being injected into the class. I don't really care about the internals of the dependency here, and want to mock it. So I instantiate the class in my tests, injecting the dependency:Later when I want to test the class , I want the dependency to return a different value based on what parameters were passed to it. So in the code under test, I might have something likebut I also want the dependency to return something else when called with a different value.Ideally (and I have seen this in other frameworks), I would be able to configure the mock to return different values, for example (how I would like it to work)
You can use the  attribute to set a callable that returns different values according to its arguments.(The  singleton is used to signal that the normal mock return value is used for arguments not in the dict.)


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.side_effect
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.DEFAULT
