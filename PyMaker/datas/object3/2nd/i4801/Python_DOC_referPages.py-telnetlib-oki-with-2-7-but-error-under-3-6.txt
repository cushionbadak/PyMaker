Natural Text
My case is similar to connect Google.com by python 'telnetlib' With python Anaconda 2.7.10 shell I have the blow script that works well:which gives back:If I now move to Python Anaconda 3.6.3 the same script as above I have the below error:Do you have a suggestions for this ? I red some documentation about the telnetlib but so far did not yet come to a solution :-(. Any idea about what I might try to do ?Thank you so much ! Fabio.
The problem, ultimately, comes down to the difference in how strings are defined in Python 2 and Python 3. If you have never read about this you can look up some material online, for example this.  works with  objects (Telnet generally works with 7-bit ASCII characters), strings ( objects) in Python 3 are text representation without an specific encoding (until you call their  method to convert them to ). When you call the  method with a regular string, it checks wether it contains , which is the bytes object  (255); since the two objects (the argument and ) have different types, it fails.The fix, obviously, is to use only  objects all along (like strings, but prefixed with ):The good thing is, you can also use -prefixed strings in Python 2 (from Python 2.6), they'll just be regular Python 2 strings, so the code works for both versions. You can also look into tools like  to make code porting to Python 3 easier (more on the topic here).
I'm guessing telnet will want to work in bytes and not the unicode you have. Maybe try to encode?


Answer URL
https://docs.python.org/3/library/telnetlib.html
https://docs.python.org/3/library/stdtypes.html#str.encode
https://docs.python.org/3/library/telnetlib.html#telnetlib.Telnet.write
https://docs.python.org/3/library/2to3.html
