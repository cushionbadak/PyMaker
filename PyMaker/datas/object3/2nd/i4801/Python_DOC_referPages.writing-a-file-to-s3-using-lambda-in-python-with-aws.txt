Natural Text
In AWS, I'm trying to save a file to S3 in Python using a Lambda function. While this works on my local computer, I am unable to get it to work in Lambda. I've been working on this problem for most of the day and would appreciate help. Thank you.In S3, there is a bucket  containing the folder  where the file should be saved. The type of  is bytes.From AWS, the error from the current set-up above is  In fact, my goal is to save the file to the csv folder under a unique name, so  might not be the best approach. Any guidance?In addition, I've tried to use  and  instead of  also to no avail. The error with  is  The documentation suggests that using 'rb' is the recommended usage, but I do not understand why that would be the case. Also, I've tried  but receive .
You have a writable stream that you're asking boto3 to use as a readable stream which won't work.Write the file, and then simply use bucket.upload_file() afterwards, like so:
Assuming Python 3.6. The way I usually do this is to wrap the bytes content in a BytesIO wrapper to create a file like object. And, per the boto3 docs you can use the-transfer-manager for a managed transfer:If that doesn't work I'd double check all IAM permissions are correct.


Answer URL
https://docs.python.org/3/library/io.html#binary-i-o
