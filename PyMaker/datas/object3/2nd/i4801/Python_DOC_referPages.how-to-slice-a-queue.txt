Natural Text
I have a queue which I process in a loopThe idea is to empty the queue, process its content and wait a moment before checking the content again.I sometimes hit a race condition where the queue is alimented while I  an element and I end up with a growing  which is never processed further.One solution would be to check  size and process it when the size is right. This does not work if I have not that many events getting in the queue and  never reaching the correct size - but I need the events (whatever is their number) to be processed and not wait until enough accumulate.The second solution is to build a check based on the size and on the time  is idle -- this overly complicates the code.One good solution would be to "get up to  elements from the queue at once". I could not find anything like that in the documentation. Is there a way to pop several elements at once from the queue (Ã  la slicing for a list)?
 blocks by default; source of infinite loop.Remove and return an item from the queue. If optional args block is  true and timeout is None (the default), block if necessary until an  item is available. If timeout is a positive number, it blocks at most  timeout seconds and raises the Empty exception if no item was  available within that time. Otherwise (block is false), return an item  if one is immediately available, else raise the Empty exception  (timeout is ignored in that case).You should use,  or  to prevent block. Or use  wait at most  when queue is empty.Solution mentioned in your question sound good:
The workaround I am using now, until a better idea/solution:I may make 1000 useless attempts to get an element (queue empty), or have all of them (even when the queue grows), or anything in between


Answer URL
https://docs.python.org/3/library/queue.html#queue.Queue.get
https://docs.python.org/3/library/queue.html#queue.Queue.get_nowait
