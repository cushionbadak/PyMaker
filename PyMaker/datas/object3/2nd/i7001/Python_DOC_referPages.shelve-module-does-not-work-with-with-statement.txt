Natural Text
I'm trying to use the shelve module in python, and I'm trying to combine it with the "with" statement, but when trying to do that I get the following error:The following error is raised:Although doing this way:No error is raised, and the output is the one that is expected. What is the problem with the first syntax ? I was watching a python course in which the instructor uses the first version without any problems.
You need to understand what the purpose of  is used for. It is basically used to automatically handle setup and cleanup of objects it is called with, provided those objects support the use of such setup and cleanup functions. In particular, the object for setup is the  function, and the teardown equivalent is the  function. Here's an example:And, now instantiate an object of  with :As you see,  will compulsorily call these setup/teardown methods, and if they're missing, an  will be raised because an attempt to call  a non-existent instance method is made. It's the same with your  object - it doesn't have an  method defined in its class, so using  will not work.According to the documentation, support for the context manager was added from version 3.4 and onwards. If the context manager does not work, that would mean your version is older.


Answer URL
https://docs.python.org/3/library/shelve.html#shelve.Shelf
https://docs.python.org/3/library/shelve.html#shelve.Shelf
