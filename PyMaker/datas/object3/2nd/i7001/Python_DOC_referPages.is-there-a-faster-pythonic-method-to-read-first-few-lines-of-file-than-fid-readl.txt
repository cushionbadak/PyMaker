Natural Text
I have to open several thousand files, but only read the first 3 lines.Currently, I am doing this:Which yields the result:The slowest run took 10.20 times longer than the fastest. This could  mean that an intermediate result is being cached. 10000 loops, best of  3: 59.2 µs per loopAn alternate solution would be to convert the fid to a list:The slowest run took 4.92 times longer than the fastest. This could  mean that an intermediate result is being cached. 10000 loops, best of  3: 374 µs per loopYikes!! Is there a faster way to only read the first 3 lines of these files, or is readline() the best?  Can you respond with alternatives and timings please?  But at the end-of-the-day I have to open thousands of individual files and they will not be cached.  Thus, does it even matter (looks like it does)? (603µs uncached method readline vs. 1840µs list method)Additionally, here is the readlines() method:The slowest run took 7.17 times longer than the fastest. This could  mean that an intermediate result is being cached. 10000 loops, best of  3: 334 µs per loop
You can slice an iterable with :(I changed the  up a bit because it’s slightly unusual to read files in binary mode by line, but you can revert that.)


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.islice
