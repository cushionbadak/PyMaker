Natural Text
So, I searched for how to initialize a list in python with a number of cells.I found this syntaxok, but I got massively gotcha-ed by this and looked for the cause of the bug this was creating for over an hour. The instances of  are somehow linked, as if the cells had a reference to a single instance of !But this is only true for some types. See:output:As a side question: Why is this so inconsistent and why does the duplicate design exist the first place?So, how can I do the initialization with a number of s without this weird duplicate behavior?
Use a list comprehension:It's a common gotcha with mutable types:
In the first case, you put the abstraction of the type int into each list element.  Then you changed one of those locations.In the second case, you put a reference to a Counter into each list element.  Then you changed the Counter, not an individual list element.  You didn't touch any of the references, merely the object to which they point.In the second case, try doing the same thing you did in the first:Does this un-confuse you?


Answer URL
https://docs.python.org/3/reference/datamodel.html
