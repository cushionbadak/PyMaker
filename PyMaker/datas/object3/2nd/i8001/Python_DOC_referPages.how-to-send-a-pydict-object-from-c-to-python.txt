Natural Text
I have a c++ map that I need to send to a python script for processing. I figured that I should put it in a PyDict and then send it. The problem s that my script doesn't receive it correctly my c++and my simple script the output is so rather than printing the dictionary something like  it prints a smiley face I would really appreciate an answer using the default python API (using python.h) not any other library
With the  you're telling it that the argument is a  but it's actually a dictionary (a ). If you use  it will be correctly interpreted as a . The format string of  is interpreted as per  and so is documented here.The smiley face is just a re-interpretation of whatever is in the memory of the dict as a string.Other than that you should be checking the return values of the Python API functions ( usually indicates an error) and there look to be some s that you never decref, so you're leaking memory.


Answer URL
https://docs.python.org/3/c-api/arg.html#c.Py_BuildValue
