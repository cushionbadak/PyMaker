Natural Text
A test file named == a.py ==It is ok when it runs alone. But there is problem in following case:Run python a.py | morePress ctrl+c to exitThen I got Exception OSError: OSError(22, 'Invalid argument') in <_io.TextIOWrapper name='' mode='w' encoding='cp936'> ignoredI have catch the OSError already around the os.sys.stdout.buffer operations, but it still goes wrong.If i don't use os.sys.stdout.buffer.flush, then there's no error message. If I just use print(), everything is OK.So how to write bytes to the stdout correctly?I am using Windows 7 64 bit and Python 3.3.0 32 bit.
You can use  to reopen stdout with different mode. You can get the file number for stdout with .Example:


Answer URL
https://docs.python.org/3/library/os.html#os.fdopen
https://docs.python.org/3/library/io.html#io.IOBase.fileno
