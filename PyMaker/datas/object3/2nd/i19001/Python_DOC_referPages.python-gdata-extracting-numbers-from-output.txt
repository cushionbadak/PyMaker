Natural Text
I'm still new to Python and I've been working with a script to get system info from my Raspberry Pi, like cpu temp and such and import it to a google doc spreadsheet. My goal is to extract the numbers from the output, which is in the form . I need the numbers alone to be able to graph the data over time...I'm using:This above gives the standard result. I've tried tinkering with re.findall(), but can't get either the right placement or right combination of conditions (r,'/d+', s and other things) to get it to return only the number 54.1... I basically end up with "Insert Row Failed"Any guidance would be appreciated. Thanks!
You were on the right track using ; your best bet (assuming the decimal can be arbitrary, etc.) is something like this:The regex captures any combination of numbers and decimal places (e.g.  would get matched); you could restrict it if necessary to only allow a single decimal place, but that's more work than it appears to be worth, if you can trust that the data you're getting back is well-formed. If you do want the number to be more precise, you could compile the regex like this (for at least one numeral preceding the decimal place and exactly one following it):Again, we capture the expression using the parentheses (captured groups are returned by findall), but this time, increase the specificity of what we're looking for. This will capture any number like  but not  and not  If you find that you need to broaden it out a bit but still want only one decimal place:That will capture any number with at least one numeral proceeding and following the decimal, so  would match but  would not and  would not.As an alternative to using , you might use , which returns match objects. Then your usage would look something like this (using the direct method, rather than pre-compiling the string:One of the things this makes clearer than the way I had  above is that if nothing is captured, you have an issue, and you need to figure out how to handle it.You can look at other ways to vary that up at Regular-Expressions.info, easily the best site I've found on the web for a quick resource on the topic.
Well, I've already spent too much time messing with this. I couldn't seem to get the  to give me anything. I tried dozens of combinations of  with no luck.Then I started looking at the replace() method. And it might not be the slickest way to go, but I know the output will always be in the form  of "temp=XX.X'C" (with X being numbers), so I just ended up doing this:and it worked! It shows up in the Google Spreadsheet as a number just as I needed.Thanks for the help on this anyway, I'll keep trying to implement  in other applications and maybe I'll find out why I couldn't get it to work with this.


Answer URL
