Natural Text
When I use Python's argparse or optparse command line argument parser, any unique prefix of an argument is considered valid, e.g.works with , ,  for the help option as well as  and  for the force option.Can this behavior  be turned off somehow? I want to get an error message for incomplete arguments.
The ability to disable abbreviated long options was only added in Python 3.5. From the  documentation:The  method by default allows long options to be abbreviated to a prefix, if the abbreviation is unambiguous (the prefix matches a unique option) ... This feature can be disabled by setting allow_abbrev to .So if you're on Python 3.5, you can create your parser with :If you're on optparse or pre-3.5 argparse, you just have to live with abbreviated options.
Prior to Python 3.5, you would have to monkeypatch an undocumented  method. Don't actually use this; it is untested and may not work with all versions (or any version) of Python. For entertainment purposes only.
For those of us still stuck on python2.7 for whatever reason, this is a minimal change to locally disable prefix matching:Now instead of using argparse.ArgumentParser, just use SaneArgumentParser. Unlike chepner's answer, this does not require any modification to the argparse module. It is also a much smaller change. Hopefully other people stuck in python's past will find this useful.


Answer URL
https://docs.python.org/3/library/argparse.html#argument-abbreviations-prefix-matching
