Natural Text
I have written a data container class which essentially contains a numpy ndarray member along with methods to generate time_series masks/cross-sectional masks, fetch the date index (row#) in ring-buffer mode, handle resizing keeping in mind that the data may be a ring buffer, and implement restrictions on the shape/dimensions, etc.As a result of my class implementation, now that I've to access the data wrapped by this object by explicitly referring to the *.data member. This is cumbersome and I'd like to implement the [] operator in my class such that when called on a instance of my class, it refers to the same operation on the underlying ndarray object. How can I achieve this?Now, if I'd like to use this container elsewhere, I have to use it as such:The fact that I need to explicitly refer to arr.data every time I use this is too cumbersome and error-prone (I'm forgetting the .data suffix in so many places).Is there any way I can add a few operators such that slicing and indexing on  actually operates on  implicitly?
You need to implement the  and  magic functions.A complete overview for the magic methods can be found here:https://docs.python.org/3/reference/datamodel.html#object.getitemWhich will give you this result:InheritanceIf you just want to modify or add behaviour of np.ndarray, you could inherit from it. This is a little more complicated than for normal python classes, but implementing your case should be not that hard:For more info, see this:http://docs.scipy.org/doc/numpy/user/basics.subclassing.html


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__getitem__
