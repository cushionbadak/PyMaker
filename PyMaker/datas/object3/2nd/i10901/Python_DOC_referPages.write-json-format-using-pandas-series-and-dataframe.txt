Natural Text
I'm working with csvfiles. My goal is to write a json format with csvfile information. Especifically, I want to get a similar format as miserables.jsonExample:According with the information I have the format would be:However, with the code I used the output looks as follow: source must be Germany. This is one of the main problems, because there are more cities with that issue. Besides this, the information is correct. I just want to remove several list inside the format and replace null to correct country.This is the code I used using  and .Any suggestion to solve this problem are appreciate!Thanks
Consider removing the  around the scalar value, country. By doing so and then upsizing the dictionaries of series into a dataframe, you force  (later converted to  in json) into the series to match the lengths of other series. You can see this by printing out the dfForce dataframe:To resolve, simply keep country as scalar in dictionary of series:By the way, you do not need a dataframe object to output to json. Simply use a list of dictionaries. Consider the following using an Ordered Dictionary collection (to maintain the order of keys). In this way the growing list dumps into a text file without appending which would render an invalid json as opposite facing adjacent square brackets  are not allowed.


Answer URL
https://docs.python.org/3/library/collections.html#collections.OrderedDict
