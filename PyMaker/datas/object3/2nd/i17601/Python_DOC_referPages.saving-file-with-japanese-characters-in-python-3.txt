Natural Text
I'm trying to make a python script that will upload a file to a folder. Everything is working fine except I tried saving a file with a name in Japanese text, and it was cut off. It comes out like somefile__.zip, the underscores being where the Japanese text was. At the top of the file I set coding: utf-8 but this doesn't have any effect. Is it an issue with the secure filename function or am I missing something? My file manager can display files with Japanese characters in the name just fine, so it isn't an issue with that. 
I can't be sure this is right without more info and I would make this a comment but I don't have enough rep yet.I think you're problem is the  function. I realised this a Django question really. I searched for the secure_filename and found that is from Werkzeug. In the documentation it says that the  function returns a ASCII only string. This is probably your problem.If you remove that function then you can check if it works.If you really need to make the filename secure you might have to write your own code to do it or find some other library to use.It also may be that the function is returning an empty filename and so you could use it but it is your responsibility to check that and deal with it.


Answer URL
