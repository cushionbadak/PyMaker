Natural Text
I've written a for-loop using map, with a function that has a side-effect. Here's a minimal working example of what I mean:So it's clear that , which is mapped onto the non-negative numbers under 1000, has the side-effect of populating a dictionary, which is later used for something else.Now, given the way that the above code has been structured, the expected output of  is , since  returns an iterator, and not a list (unlike python2.x). So if I really want to see the changes applied to , then I would have to iterate over that map object until completion. One way I could do so is:But that doesn't seem very elegant. I could call  on the map object, but that would require O(n) memory, which is inefficient. Is there a way to force a full iteration over the map object?
You don't want to do this (run a  just for the side effects), but there is a   recipe that applies here:The  object, configured to a maximum size of 0, consumes the  iterable with no additional memory use. The  object is specifically optimized for this use-case.


Answer URL
