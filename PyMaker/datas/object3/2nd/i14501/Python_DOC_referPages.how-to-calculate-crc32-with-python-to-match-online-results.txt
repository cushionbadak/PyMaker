Natural Text
I'm trying to calculate/generate the CRC32 hash of some random strings using Python but they do not match the values I generate from online sources. Here is what I'm doing on my PC,Another approach,The fact that the above results are identical tells me that I'm calling the function correctly. But, if I go to the following online sources,http://www.lammertbies.nl/comm/info/crc-calculation.htmlhttp://crc32-checksum.waraxe.us/ http://www.md5calc.com/   (select CRC32B from drop-down)For the string "hello-world" they all give the same value = b1d4025bDoes anyone know what I need to do, to get matching results?As I was typing this question it occurred to me that I might need to convert my Python result to hex,Unfortunately, that hasn't helped either. :(
Python is doing a signed 32-bit CRC.Those sites are doing an unsigned 32-bit CRC.The values are the same otherwise, as you can see from this:One quick way to convert from 32-bit signed to 32-bit unsigned is:*Or, in hex: or  or  or  and so on are all equivalent ways to do the same bit-twiddling; it just comes down to which one you find most readable.* This only works in languages that do floored integer division, like Python (); in languages that do truncated integer division, like Java (), you'll still end up with a negative number. And in languages that don't even require that division and mod go together properly, like C, all bets are off—but in C, you'd just cast the bytes to the type you want…
zlib.crc32 documentation suggests using the following approach "to generate the same numeric value across all Python versions and platforms".The result is  as expected.
It seems that python is returning an signed integer (hence the negative number), whereas the others are returning an unsigned integer.I have tried using a modulus with 2^32, and it gave the same value as these sites.


Answer URL
https://docs.python.org/3/library/zlib.html#zlib.crc32
https://docs.python.org/3/library/binascii.html#binascii.crc32
