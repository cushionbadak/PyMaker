Natural Text
Hey guys am new to python development and i tried to undrstand the use of ..The code i have wrote isWhen i run the code it gaves me output  along with an attribute error.I know with works with context managers and is  a context manager ??..  Can you guys please explain me why this error occurs ..Thanx for the help..
The problem is that, while  is a context mananger,  isn't. is just whatever you return from the  method. In this case, you don't return anything, so it's .If you want  to return , you could—just add  to the end of the method. But this is kind of strange. You wouldn't normally expect using  in a  statement to "close" . That would be like  closing the file . (There are some use cases where that might make sense, but not in general.)Or, there's no reason  and  can't both be totally separate context managers. It's hard to think of a case where you'd want this, but if you did, you could return an instance of some other class—or use the  decorator:But more likely, what you actually wanted is something like this:But in that case, you probably want to change the  method to . Whatever it returns is what's going to end up in .So, for example:Now, the  constructs and initializes an  instance (you don't have an , so that does nothing), then calls its  method, which returns that instance, then assigns the result to . Then it runs  and . And then (whether there was an exception or not) it calls .


Answer URL
https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager
