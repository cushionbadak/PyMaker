Natural Text
I'm using argparse with optional parameter, but I want to avoid having something like this : script.py -a 1 -b -a 2Here we have twice the optional parameter 'a', and only the second parameter is returned. I want either to get both values or get an error message.How should I define the argument ?[Edit]This is the code:
 action will collect the values from repeated use in a listproducing an  namespace like:After parsing you can check , and accept or complain about the number of values.   can be used to issue an argparse style error message.You could implement similar functionality in a custom Action class, but that requires understanding the basic structure and operation of such a class.  I can't think anything that can be done in an Action that can't just as well be done in the appended list after.https://stackoverflow.com/a/23032953/901925 is an answer with a no-repeats custom .Why are you using  with flagged arguments like this?  Without a  parameter this is nearly useless (see the  section in the docs).Another similar SO: Python argparse with nargs behaviour incorrect


Answer URL
https://docs.python.org/3/library/argparse.html#nargs
