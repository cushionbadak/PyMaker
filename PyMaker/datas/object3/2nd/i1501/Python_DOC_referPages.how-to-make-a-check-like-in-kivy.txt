Natural Text
I donâ€™t understand how to do assignment checking to a variable, as it is done in Kivy.I know how this is done for class properties, and it looks like thisIn Kivy can do:I takeRenamed the question because it did not correspond to what was happening
I assume you want to do some checks on assignments, like type checking in the kivy case. Your example looks to me very unidiomatic, I'd write it the following way:How does it work? Actually it's a bit complicated, but here is a good ressource.  returns a descriptor which basically means that  is translated to  (which then calls something "equivalent" to ). It just says "instead of storing an assigned value, call this function".How is the kivy case different? Assume we have the following class:The behavior is very similar to the python code before, but the setter and getter methods are defined by kivy and not here in the class. But if you assign a value to a Bar instance  a setter is called . The setter does not only check for types but also emits events if the value changed.You can also create properties with getters and setters already provided by implementing a descriptor. You need to implement  and :(The documentation speaks from get, set, delete and set_name, but I think in the common case one can get away with only implementing set and get.)
If you want to check the value, you simply add check code to your . For example, if you want  to be limited to  or , you can modify your  as:This code is a slight modification of  check code.


Answer URL
https://docs.python.org/3/reference/datamodel.html#implementing-descriptors
https://docs.python.org/3/reference/datamodel.html#implementing-descriptors
