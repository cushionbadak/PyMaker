Natural Text
I have previously done the following to fetch a version string:Now, when  has been deprecated in Python 3 (I'm on 3.7.1), what would be a nice replacement for  which will just require the std library?This seems a little convoluted to me AND  is actually deprecated:EDIT #1:This is discussed in Import arbitrary python source file. (Python 3.3+) and one of the solutions which came up there is:
If you're simply looking to import the version, I usually opt to use  that are offered from ; I believe you can use the following:You can also pass  as a , which will tell the function to ignore import errors and return  if any errors are encountered.
The "comfortable" way to import a module is to use .  This is, for all practical purposes, just like using the  statement.  However, it cannot import arbitrary files which are not in , so it doesn't work for your use case.To import a file directly, the  documentation provides this recipe:Finally, a bit of advice: I recommend putting the version string in a separate text file called (say) , and loading it from  and anything else which needs to know the version.  That way, you don't need to execute Python code to read the version number.  You can load data from such files by using  in , and replace  with a suitable value when calling from another module, or open the file directly.   returns ; you may want to call  on the return value to convert it into a string.( may seem a roundabout way to do it, but it's required if your code is imported from a ZIP file or installed in some other exotic way.  If your code is in a namespace package or was installed in a particularly unusual fashion,  may fail to work and return , so you should check for that case and avoid crashing on it.)


Answer URL
https://docs.python.org/3/library/importlib.html#importlib.import_module
https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly
https://docs.python.org/3/library/pkgutil.html#pkgutil.get_data
https://docs.python.org/3/library/stdtypes.html#bytes.decode
https://docs.python.org/3/library/zipimport.html
https://docs.python.org/3/glossary.html#term-namespace-package
