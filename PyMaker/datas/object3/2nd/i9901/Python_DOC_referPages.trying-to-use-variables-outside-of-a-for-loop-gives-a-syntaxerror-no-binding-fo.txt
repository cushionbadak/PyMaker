Natural Text
I want to use  and  outside the loop but I am getting an error
 can only applied in functions that have a nested scope. You only get a nested scope when you define your function inside of another function.Python doesn't have block scopes; the  loop doesn't create a new scope, so you don't need to use  in a loop. Your variables are available throughout the rest of the function. Just drop the  statements altogether:In Python, only functions, class definitions and comprehensions (list, set, and dict comprehensions as well as generator expressions) get their own scope, and only functions can act as a parent scope for closures (nonlocal variables).There is also a bug in your code; if you pass in a list where the first value is also the maximum value in the list,  is set to  and then never changes. You won't ever find the second-highest value in that case, because only for the very first  will  be true. You'd also need to test if  is greater than  in that case:As a side note: you don't need to use trailing underscores in your local variables. Of all the local names used, only  would potentially shadow the built-in  function, but since you don't use that function at all, using  instead of  in your function is not actually a requirement. I'd personally drop all the trailing  underscores from all the names in the function. I'd also use different names; perhaps  and .Last but not least, you could just use the  function to get those two largest values, efficiently:You may want to add some length checks there; if  is true, what should happen instead?


Answer URL
https://docs.python.org/3/library/heapq.html#heapq.nlargest
