Natural Text
I have the following situation.I have a test that initiates a  object but I want to mock the new  instance of  inside the constructor of . This is what i did so far:I'm guessing because  constructor takes params - its not a simple patch.
You are mocking  correctly, but forgot to take into account it is called to produce an instance. The  would be looked up on the call result (on the instance):Mock doesn't care that you produced an instance or that  is a bound method, only that you call .You can then make assertions if the class was called with the correct parameters, if you so desire:Demo:I included  to show that  is included; that's the  instance being used to provide the  method call.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#where-to-patch
