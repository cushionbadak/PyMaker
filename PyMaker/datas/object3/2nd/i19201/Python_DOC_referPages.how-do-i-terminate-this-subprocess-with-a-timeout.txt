Natural Text
I know the question on terminating a subprocess call has been asked a few times, including here but, trying to follow those answers, I can't seem to get mine to exit if the script hangs (in my case I am executing a phantomjs script). For instance, if I try to load a non-existent jquery file in my phantom code, the script will hang, even though I have a timeout. Here's my code:My phantomjs script (a work in progress):
I think your problem might be that p.communicate() will "Wait for process to terminate" , meaning your timer never actually gets to start if the script hangs.Move your call to communicate to after the start of the timer (and change process.kill() to p.kill() in the kill_proc function) and I think it will do what you want.As my comment above mentions, Python 3.3's subprocess module functions have a timeout parameter that makes this all happen automatically.


Answer URL
