Natural Text
So I'm making a Yu-Gi-Oh database program. I have all the information stored in a large text file. Each monster is chategorized in the following way: Here's an actual example:So I made a program that searches this large text file by name and it returns the information from the text file without the '|'. Here it is:Now I'm trying to edit my program so I can search for the name of the monster and choose which attribute I want to display. So it'd appear likeAny clues as to how I can do this?
First, this is a variant dialect of CSV, and can be parsed with the  module instead of trying to do it manually. For example:You might also prefer to use , so each row is a  (keyed off the names in the header row, or manually-specified column names if you don't have one):Then, to select a specific attribute:Howeverâ€¦ I'm not sure this is a good design in the first place. Do you really want to re-read the entire file for each lookup? I think it makes more sense to read it into memory once, into a general-purpose structure that you can use repeatedly. And in fact, you've almost got such a structure:Then you can build additional indexes, like a multi-map of monsters by location, etc., if you need them.All this being said, your original code can almost handle what you want already.  is a . If you just build a map from attribute names to indices, you can do this:
You could look at the  class in . You will want to make each entry a  with your fields as attributes. The namedtuple might look like:As shown in the collections documentation, namedtuple and csv work well together:The mechanics around search can be very complicated. For example, if you want a really fast search built around an exact match, you could build a dictionary for each attribute you're interested in:You could also do a  search:I recommend against trying to search the file itself. This is an extremely complex kind of search to do and is typically left up to database systems to implement this kind of functionality. If you need to do this, consider switching the application to sqlite or another lightweight database.


Answer URL
