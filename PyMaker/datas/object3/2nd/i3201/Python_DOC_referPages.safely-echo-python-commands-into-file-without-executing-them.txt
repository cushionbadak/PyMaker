Natural Text
So I have a python file with a ton of lines in it that I want to read into python then echo into another file over a socket. Assuming I have file foo.pyThen I try and open the file, read all the lines, and echo each line into a new file. Something along the lines of However, when I do this, the command is executed in the remote shell. So my question:How do I safely echo text into a file without executing any keywords in it?What have I tried?Adding single quotes around lineAdding single quotes around line and then a backslash to single quotes in lineThings I've considered but haven't tried yet:Base64 encoding the line until on the remote machine then decoding it (I don't want to do this because there's no guarentee it'll have this command) I know this is odd. Why am I doing this?I'm building a pentesting reverse shell handler. 
 will:Return a shell-escaped version of the string s. The returned value is a string that can safely be used as one token in a shell command line, for cases where you cannot use a list.Much safer than trying to quote a string by yourself.


Answer URL
https://docs.python.org/3/library/shlex.html#shlex.quote
