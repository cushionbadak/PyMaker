Natural Text
I have a Python script:However, when I attempt to run my script, Python raises an :I kept playing around with my program, and I was also able to produce three other errors:What do these errors mean? What am I doing wrong? How can I fix my code?
Why does indentation matter?In Python, indentation is used to delimit blocks of code. This is different from many other languages that use curly braces  to delimit blocks such as Java, Javascript, and C. Because of this, Python users must pay close attention to when and how they indent their code because whitespace matters.When Python encounters a problem with the indentation of your program, it either raises an exception called  or .A little historyThe historical reasons for why Python uses indentation vs the arguably more commonly accepted curly braces  is outlined in an article of the history of Python by Guido van Rossum - the creator of Python:Python’s use of indentation comes directly from ABC, but this idea didn’t originate with ABC--it had already been promoted by Donald Knuth and was a well-known concept of programming style. (The occam programming language also used it.) However, ABC’s authors did invent the use of the colon that separates the lead-in clause from the indented block. After early user testing without the colon, it was discovered that the meaning of the indentation was unclear to beginners being taught the first steps of programming. The addition of the colon clarified it significantly: the colon somehow draws attention to what follows and ties the phrases before and after it together in just the right way.How do I indent my code?The basic rule for indenting Python code (considering that you treat the entire program as a "basic block") is: The first statement in a basic block, and each subsequent statement after it must be indented by the same amount.So technically the following Python program is correct:However, as you can probably tell from above, randomly indenting your code makes is extremely hard to read and follow the flow of the program. It's better to be consistent and follow a style.PEP8 - The Python style guide - recommends that four spaces per indentation level should be used:Use 4 spaces per indentation level. That is, each statement that is starting a new block and each subsequent statement in the new block, should be indented four spaces from the current indentation level. Here is the above program indented according to the PEP8 style guide:Can I still use tabs?Python realizes that some people still prefer tabs over spaces and that legacy code may use tabs rather than spaces, so it allows the use of tabs as indentation. PEP8 touches on this topic:Spaces are the preferred indentation method.Tabs should be used solely to remain consistent with code that is already indented with tabs. Note however the one big caveat is not to use both tabs and spaces for indentation. Doing so can cause all kinds of strange hard to debug indentation errors. Python expands tabs to the next 8th column, but if your editor is set to a tab size of 4 columns, or you you use spaces as well as tabs, you can easily produce indented code that looks fine  in your editor, but Python will refuse to run. The Python 3 compiler explicitly rejects any program containing an ambiguous mixture of tabs and spaces, usually by raising a . However, by default, mixing tabs and spaces is still allowed in Python 2, but it is highly recommended not to use this "feature". Use the  and  command line flags to force Python 2 to raise a warning or (preferably) an error respectively. PEP8 also discusses this topic:Python 3 disallows mixing the use of tabs and spaces for indentation.Python 2 code indented with a mixture of tabs and spaces should be converted to using spaces exclusively.When invoking the Python 2 command line interpreter with the -t option, it issues warnings about code that illegally mixes tabs and spaces. When using -tt these warnings become errors. These options are highly recommended!What does "IndentationError: unexpected indent" mean?ProblemThis error occurs when a statement is unnecessarily indented or its indentation does not match the indentation of former statements in the same block. For example, the first statement in the program below is unnecessarily indented:In this example, the  line in the  block does not match the indentation of any former statement:FixThe fix for this error is to first make sure the problematic line even needs to be indented. For example, the above example using  can be fixed simply be unindenting the line:However, if you are sure the line does need to be indented, the indentation needs to match that of a former statement in the same block. In the second example above using , we can fix the error by making sure the line with  is indented at the same level as the former statements in the  body:What does "IndentationError: expected an indented block" mean?ProblemThis error occurs when Python sees the 'header' for a compound statement, such as  or  but the compound statement's body or block is never defined. For example in the code below we began an  statement, but we never define a body for the statement:In this second example, we began writing a  loop, but we forget to indent the  loop body. So Python still expects an indented block for the  loop body:Comments don't count as bodies:FixThe fix for this error is to simply include a body for the compound statement.As shown above, a common mistake by new users is that they forget to indent the body. If this is the case, make sure each statement meant to be included in the compound statement's body is indented at the same level under the compound statement's beginning. Here is the above example fixed:Another common case is that, for some reason, a user may not want to define an actual body for the compound statement, or the body may be commented out. In this case, the  statement can be used. The  statement can be used anywhere Python expects one or more statements as a placeholder. From the documentation for :pass is a null operation — when it is executed, nothing happens. It is useful as a placeholder when a statement is required syntactically, but no code needs to be executed, for example:Here is the above example with the  statement fixed by using the  keyword:What does "IndentationError: unindent does not match any outer indentation level" mean?ProblemThis error occurs when you unindent a statement, but now the indentation level of that statement does not match that of any former statement. For example, in the below code we unindent the second call to . However, the indentation level does not match that of any former statement:This error is especially hard to catch because even one space will cause your code to fail.FixThe fix is to ensure that when you unindent a statement, the indentation level matches that of a former statement. Consider the above example once again. In the example, I want the second call to print to be in the first  statements body. So I need to make sure that that line's indentation level matches that of the former statements in the first  statement's body:I'm still getting an IndentationError but my program appears to be correctly indented. What do I do?If your program visually appears to have correct indentation, but your still getting an  you have most likely mixed tabs with spaces. This will sometimes cause Python to raises strange errors. See the subsection Special cases under What does "TabError: inconsistent use of tabs and spaces in indentation" mean? for an more in-depth explanation of the problem.What does "TabError: inconsistent use of tabs and spaces in indentation" mean?ProblemThis error only occurs when you attempt to mix tabs and spaces as indentation characters. As said above, Python will not allow your program to contain a mix of tabs and spaces, and will raise the specific exception  if it finds you have. For example, in the program below, a mix of tabs and spaces is used for indentation:Here is a picture which visually shows the whitespace in the above program. Gray dots are spaces, and gray arrows are tabs:We can see we have indeed mixed spaces and tabs for indentation.Special casesNote Python will not always raise a  if you mix tabs and spaces into your program. If the program indentation is unambiguous, Python will allow tabs and spaces to be mixed. For example:And sometimes Python simply chokes on the mixture of tabs and spaces and erroneously raises an  exception when a  would be more appropriate. Another example:As you can see, running your code this way can create mysterious errors. Even though the program visually appears to be fine, Python became confused trying to parse the tabs and spaces used for indention and errored out.These are excellent examples that demonstrate why to never mix tabs and spaces and make use of the  and  interpreter flags when using Python 2.FixIf your program is short, probably the easiest and quickest fix is to simply re-indent the program. Make sure each statement is indented by four spaces per indention level (see How do I indent my code?).However, if you already have a large program that you've mixed tabs and spaces into, there are automated tools that can be used to convert all of your indentation to just spaces.Many editors such as PyCharm and SublimeText have options to automatically convert tabs to spaces. There are also several on-line tools such as Tabs To Spaces or Browserling that allow you to quickly re-indent your code. There are also tools written in Python. autopep8 for example can automatically re-indent your code and other indentation errors as well.Even the best tools though will sometimes not be able to fix all of your indentation errors and you'll have to fix them manually. That's why it's important to always properly indent your code from the start.A note about "SyntaxError" related indentation problemsAlthough not often, sometimes certain  exceptions are raised due to incorrect indentation.  For example, look at the code below:When the above code is run, a :Although Python raises a , the real problem with the above code, is that the second  statement should be indented. Because the second  isn't indented, Python doesn't realize that the previous  statement and the  statement are meant to be connected.The fix for this type of error is to simply correctly re-indent your code. To see how to properly indent your code, see the section How do I indent my code?.I'm still having a hard time with Python's indentation syntax. What do I do?Don't get discouraged if you're still struggling. It can take time to get use to Python's whitespace syntax rules. Here are some tips to help:Get an editor that will tell you when you have an indentation error. Some goods ones are as said above are, PyCharm, SublimeText, and Jupyter Notebook.When you indent your code, count out loud to yourself how many times you press the space-bar (or tab key). For example, if you needed to indent a line by four spaces, you would say out loud "one, two, three, four" while simultaneously pressing the space-bar each time. It sounds silly, but it helps train your brain to think about how deep you're indenting your code.If you have an editor, see if it has an option to automatically convert tabs to spaces.View others' code. Browse github or Stackoverflow and see examples of Python code.Just write code. That's the single best way to get better. The more you write Python code, the better you'll get.Resources usedhttps://en.wikipedia.org/https://docs.python.org/3/http://python-history.blogspot.com/2009/02/early-language-design-and-development.htmlhttps://www.python.org/dev/peps/pep-0008/
Sublime Text 3If it happens that you code in Sublime Text 3, this could help you with indentations problemesIn Sublime Text, while editing a Python file:Sublime Text menu > Preferences > Settings - Syntax Specific :Python.sublime-settings
You see, you have a tiny error.You were supposed to do:As you can see your print is only indented 3 spaces, it is supposed to be indented 4 spaces.
Quick fix for Sublime users:Press Ctrl-H to access Find and Replace In Find: Type 4 spacesIn Replace: Copy and paste a tab from somewhere in your codeClick Replace All


Answer URL
https://docs.python.org/3/library/exceptions.html#IndentationError
https://docs.python.org/3/library/exceptions.html#TabError
https://docs.python.org/3/reference/simple_stmts.html#grammar-token-pass_stmt
https://docs.python.org/3/reference/simple_stmts.html#the-pass-statement
https://docs.python.org/3/
