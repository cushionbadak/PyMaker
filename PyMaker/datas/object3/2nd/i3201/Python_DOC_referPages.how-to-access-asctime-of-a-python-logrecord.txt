Natural Text
I have a logger and a class DuplicateFilter that filters messages that already were logged once. I would like to include the time when the logging happened into my filter but when I try to access the property asctime I get: Here a small example how I set up my logger:Now my records look like this:  They clearly have an asctime and I explicitly set the asctime property in the constructor of my Formatter. The only question similar to mine I found says To have message and asctime set, you must first call self.format(record) inside the emit methodbut doesn't the logging.Formatter do that when you specify the log string the way I did with ?EDIT: running.t was right, I just didn't understand what the documentation meant. I solved it by adding my formater to my filter and calling the format function at the beginning:
In filter objects section of pyton logging module documentation I found following note: Note that filters attached to handlers are consulted before an event is emitted by the handler, whereas filters attached to loggers are consulted whenever an event is logged (using debug(), info(), etc.), before sending an event to handlers. This means that events which have been generated by descendant loggers will not be filtered by a loggerâ€™s filter setting, unless the filter has also been applied to those descendant loggers.Your filter is added to logger, while formatters are added to handlers. So in my opinion your  method is applied before any of formatter you specified.BTW, shouldn't your  inherit from ?


Answer URL
https://docs.python.org/3/library/logging.html#filter-objects
