Natural Text
I have a list named  In this list, all elements are equal to an element from another list called . I want the element from  to be replaced by the element that comes AFTER the same element from . How would I do this? looks like this: looks like this:I have tried this:But it just replaces all element of rule.start with In the end, I want to evaluate all elements as commands, that looks like this: and this: 
First, this would be much easier to write, and a lot more efficient, if you had a dictionary, mapping keys to values, instead of a list of alternating keys and values. You can do that as a one-liner:But if you don't understand how that works, you can do this, which you should be able to understand (based on your code).Or, even better, if possible, change your code to build a dict instead of a list of alternating values in the first place.Now, once you have this, your loop becomes dead simple, and very hard to get wrong:I'm using  so you don't have to keep track of  manually, and I'm using the  method instead of looping over all the keys and values, which is the tricky part that you got lost in.Or, even more simply:But, if you want to know what's wrong with your attempt:You start off . For each , you increment  by 2 . Otherwise, it stays at 1. So, the first time , you're going to have , so you're going to assign  to . If you move the  outside the loop, that will fix this problem.You also have a similar problem with  being in the wrong place. It should be updated for every ; instead, it's updated for every  and  that match, which could be 0 times or (theoretically) 3 times.Getting this stuff right is a big source of errors, which is exactly why  exists.
I would be tempted to start by rewriting com.empty as a dict, which is what you really want here. Then it's pretty easy:of course, this fails if you have a key in rule.start which is not in com.empty - I'll let you dot the i's and cross the t's to make it safe for your use


Answer URL
https://docs.python.org/3/library/functions.html#enumerate
https://docs.python.org/3/library/stdtypes.html#dict.get
