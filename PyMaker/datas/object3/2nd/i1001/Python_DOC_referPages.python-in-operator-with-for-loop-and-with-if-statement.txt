Natural Text
I am using python in operator with for loop and with if statement. My question is how is in implemented, that it behaves differently in this two cases: it iterates when using for loop and it checks if some element exists when using with if statement? Does this depend on implementation of for and if?
The keyword "in" in python solves different purposes based on "for" and "if". please look at this related link in stack overflow for more clarity 
The reason is that  is something different from just . iterates over . calls .
The  keyword is an operator usually:It corresponds to the  special method. The expression  corresponds to . Note that both  and  are names that are looked up.In a  statement,  is not an operator. It is part of the  syntax and separates the loop variable name from the iterable.Note that  only  is a name that is looked up.  is a name to bind to, similar to an assignment statement.Python syntax has several constructs where the leading keyword defines the meaning of following keywords. For example, the  keyword has a different meaning in  and :It helps to think about such keywords not by implementation but by meaning. For example,  always means that " is contained by ".
Membership testing with  is implemented via the method  (see Documentation). The different behaviour comes from the keyword before,  and  in your case.Iteration with  is implemented such, that the method  is called and its return value is written to the iteration variable as long as the condition after the key word  is true. Membership testing in general is just a condition.CodeExecutionCodeExecution
In many languages you'll find keywords that have multiple uses. This is simply an example of that. It's probably more helpful to think in terms of statements than thinking about the  keyword like an operator.The statement   is a boolean-valued statement taking (assuming  is some appropriate collection)  if and only if the value of  is in the collection . It is implemented with the  member function of .The statement  starts a loop, where each iteration  takes a different value from the collection . This is implemented using the  member function of  and  on the resulting iterator object.There are other statements where the  keyword can appear, such as list comprehension or generator comprehension. 


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__contains__
