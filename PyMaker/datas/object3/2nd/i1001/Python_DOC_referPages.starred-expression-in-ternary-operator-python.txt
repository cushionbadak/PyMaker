Natural Text
I wrote a python program to print the ascii value of up to every 3 numbers in a string or  if the length is not divisible by three. I was golf the code when I ran into a . Code:But this works:Putting a space before the  or after the  doesn't work. I could just use  but it's one character longer. My question is why can't I use a starred expression in a ternary operator?
Because the  has to apply to the whole expression that produces the set of arguments, not a part of it, and not conditionally. Internally, CPython uses different bytecodes for calling with unpacking vs. normal calls, so your conditional would require it to change the byte code to call  based on the arguments to , essentially rewriting what you wrote into pseudocode like:which is beyond the compiler's capability.If you wanted to make this work, you could do the following:which ensures the whole ternary evaluates to an unpackable sequence and unpacks whatever survives unconditionally, avoiding the confusion.
keep it outside of the ternary


Answer URL
https://docs.python.org/3/reference/grammar.html
