Natural Text
I'm a beginner.Could you tell me why this script works even though the  variable is not defined in the  case?The script compares a list of ARP table  (which I get from a  paramiko ssh connection), and my ip list . I just want to print the IP MAC, and if the IP is not in the ARP list table to . Output
The name  is still valid at that point. It has the last value that it got assigned in the  loop. However, there's no need to actually have that  test following the loop. Python  and  loops take an optional  clause which is entered if the loop terminates normally, i.e. it isn't exited early due to a  statement (or a  statement). So we can re-write that code as:I suppose you expected a  loop to create a new scope, with the loop index and other variables created in the loop only existing in that scope. In some languages (especially those closely related to C) a new block creates a new scope, but that doesn't happen in Python with normal  loops. Python is more conservative with creating scopes, because they aren't as "cheap" to do as they are in C. A function definition creates a new local scope, and so does a class definition. However, a generator expression does run in its own scope, and so does a list comprehension in Python 3, in Python 2 a list comprehension runs in the scope of the surrounding code.You can read about scopes and namespaces in the official tutorial.BTW, you should seriously consider migrating to Python 3, Python 2 reaches its official End of Life some time in 2020.
even though the "i" variable is not defined in the (ip not in i) case? It is actually defined - by the   statement. 


Answer URL
https://docs.python.org/3/tutorial/classes.html#python-scopes-and-namespaces
