Natural Text
So splitting a list using  is a fairly easy.Works as expected. But using a common python idiom of ing up the iterator multiple times to step through 2 at a time seems to break things.Adding a  shows the expected nested iterable , but I'm obviously missing something as to why the  object is empty. Can anyone shed some light?I get an even weirder result if I have an uneven list and use :Update: Simple fix is to use :
The  documentation warns you thatThe returned group is itself an iterator that shares the underlying iterable with groupby(). Because the source is shared, when the groupby() object is advanced, the previous group is no longer visible.When your  produces a  pair, it advances the  iterator past the first group, rendering the first group unusable. You need to materialize the group before advancing:
Because as soon as you get to the next item in  it discards any previous encountered -generators.The latest items they will be visible:The documentation contains a Warning about this behaviour:The returned group is itself an iterator that shares the underlying iterable with groupby(). Because the source is shared, when the groupby() object is advanced, the previous group is no longer visible. So, if that data is needed later, it should be stored as a list.So by using  you actually advanced the iterator by 2 (even if the latest result is dumped in ) and the first one (your ) is not avaiable anymore!


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
