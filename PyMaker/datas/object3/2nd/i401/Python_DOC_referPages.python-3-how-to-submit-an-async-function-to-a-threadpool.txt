Natural Text
I want to use both  from  and async functions. My program repeatedly submits a function with different input values to a thread pool. The final sequence of tasks that are executed in that larger function can be in any order, and I don't care about the return value, just that they execute at some point in the future.So I tried to do thiswhere the function submitted is:where  and  are async functions.The problem with this is that I get the error:  and if I remove the await, I get another error saying I need to add .I guess I could make everything use threads, but I don't really want to do that.
I recommend a careful readthrough of Python 3's asyncio development guide, particularly the "Concurrency and Multithreading" section.The main conceptual issue in your example that event loops are single-threaded, so it doesn't make sense to execute an async coroutine in a thread pool.  There are a few ways for event loops and threads to interact:Event loop per thread.  For example:Execute blocking code in an executor. This allows you to use async futures instead of concurrent futures as above.Use threadsafe functions to submit tasks to event loops across threads.  For example, instead of creating a run loop for each thread you could run all async coroutines in the main thread's run loop:Note: This is pretty confusing so I don't recommend it, but I included it for completeness's sake.


Answer URL
https://docs.python.org/3/library/asyncio-dev.html
