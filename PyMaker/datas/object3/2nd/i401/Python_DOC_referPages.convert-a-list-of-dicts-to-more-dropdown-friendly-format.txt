Natural Text
I am trying to create a friendly format for multiple dependent HTML dropdowns.How can I convert the dictionary  so it looks like the dictionary ?I would rather NOT use Pandas for this, just pure Python, as I will need to translate the solution to JavaScript as well (nevertheless, I have tried converting  into a dataframe, applying various orientations, but none have given me the output I want).
You can do this using nothing but basic dictionaries with setdefault:Output:If you need it faster, look for 's which have no overhead of creating the default-object every time:
Loop through the list and process each dictionary, adding each entry to the proper place in your output, creating new dictionaries and lists when necessary.Result:Or, with :The result:
These are some utility functions I like to use all the time:With them, the answer becomes:
Here's a version that does a minimal amount of  look ups (by using  and checking for ) and the minimal creation of empty s and s (by not using something like , where the possible default is always created). For the size of data, this probably makes no difference, but others beat me to my original answer, so thought this might be nice to see.You can easily see where objects are created with:


Answer URL
https://docs.python.org/3/library/stdtypes.html#dict.setdefault
https://docs.python.org/3/library/collections.html#collections.defaultdict
