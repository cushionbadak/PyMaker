Natural Text
I have a list of GeoNames city names I use to export place names from a table of text. How can I match a multi-segment name (e.g. "Santa Barbara", "Los Angeles", etc.) from the list of city names with the text? Cities names that have more than one word are not recognized.The code which I have tried is:City names:Description: 
Good work putting the effort before asking for help. Here are my changes to your code. I retained your code and commented it out so that you know what I was doing. Using regular expressions is the best bet for you in this situation. I am using the same loops as you used. I did not split the description. Instead, I ran through the entire description looking for the city names using the regular expression module. I also did not use list for storedMatches. Using a set will make sure you are not adding duplicates. Checking if the city was already added is one more check you don't need. I used Python 3.7.I used  to import the regular expression module.Update: Added ignore case to re.search.I improved the code above to remove unnecessary loops and confusion in variable names. I don't have the source file, so couldn't test it. If I find any issues, I will update it later.This code has the csv delimiter set to  instead of a , as I was using it for cities.Test files.cities_key.txtadrl_title_desc.csvCode output@itsme, now, this should not go wrong with Python 3.x. I fixed the error with  (missed + sign). You were not able to find any matches because when you use  for some reason it retains line endings. I used  to remove them. I had to use  in open file dialogue as the csv writer was creating a new line after each row. You can see that in my sample, you can't find a city for key 2 and key 3 as the cities were not separated as words from the rest of the text.


Answer URL
https://docs.python.org/3/library/re.html#re.search
