Natural Text
Hope you can help. I'm trying to iterate over a .csv file and delete rows where the first character of the first item is a #. Whilst my code does indeed delete the necessary rows, I'm being presented with a "string index out of range" error. My code is as below:As far as I can tell, I have no empty rows that I'm trying to iterate over. 
Check if the string is empty with  before trying to index:Or simply use  as your condition
You are likely running into an empty string.Perhaps try `if row and row[0][0] != '#':
Then why don't you make sure you don't bump into any of those even if they exist by checking if the line is empty first like so:Also when working with *.csv files it is good to have a look at them in a text editor to make sure the delimiters and end_of_line characters are like you think they are. The sniffer is also a good read.Cheers
Why not provide working code (imports included) and wrap as usual the physical resources in context managers?Like so:Some notes:The closing of the files is automated by leaving the context blocks, the names are better chosen, as input is well a keyword ... you may want to include empty lines, I only read you want to strip comment lines from the question, so detect these and continue. it is row[0] that is the first columns string and that startswith # natively mapped to the best matching simple string "method".In case you also might want to strip empty lines, than one could use the following condition to instead:and you should be ready to go.HTHTo answer a comment on the above code line that causes also the skipping of blank input "Lines". In Python we have left to right (lazy evaluation) and short circuit for boolean expressions so:
I suspect that there are lines with an empty first cell, so  tries to access the first character of the empty string.You should try:


Answer URL
https://docs.python.org/3/library/csv.html#csv.Sniffer
