Natural Text
I am trying to distribute a  I wrote such that I can share it easily. It boils down to copying a text file to the proper configuration direction (which is known for any architecture) during installation. I want to be able to install using either  or . Currently I do not seem to get either of the two ways robust (see current approach below).Installing with  does not seem to invoke the copying at all.Installing with  works well on my machine, but ReadTheDocs gives me the following error:What is the proper way to copy configuration files during installation in a robust way? Current approachFile structureUpload to PyPi
First of all, based on the project structure you've provided, you're not specifying the  correctly. If  is a package and  a directory inside it containing the  files (what I assume from your code), then your  configuration line should be:As described in Building and Distributing Packages with Setuptools:The  argument is a dictionary that maps from package names to lists of glob patterns. The globs may include subdirectory names, if the data files are contained in a subdirectory of the package.So your package is  and  is the file to be included in package data for .Your second issue () is simple: in the  function, you never check if the parent directory of the file exists before writing the file. You should be able to reproduce this locally by removing the directory  (or moving it temporarily).The fix is also quite simple, actually there are lots of them. Use whatever you want to create missing directories. is suitable for both  and :My preferred one is using , but it is available only since Python 3.4:


Answer URL
https://docs.python.org/3/library/pathlib.html
