Natural Text
I have a csv file with 1000+ emailadreses which I want to hash using a SHA256 HMAC and a shared key, encoded to Base64.There was a similiar problem here, but I can't adapt the solution to work for me. I am new to python and I don't know where to change the code in order to make use of the shared key. This is the slightly adapted code from the answer:The input file (.csv) looks like this:And with the code above, the output file looks like this:But since I do want to use a HMAC with secret key and sha256, the above solution doesn't work for me and I don't know how to incorporate this approach. The key would be something like this: I was trying to do something like this, but for the whole file:Thus, my question is how I can incorporate the HMAC SHA 256 hashing wile using the a secret key, in the above code? I just can't figure out which parameters to change?
I don't think you need to trouble yourself with the dictionary; you don't have a variable number of columns here, you are applying your transformation to just one column.It'll be easier to follow if you just put your working HMAC method into a function:This now neatly produces a Base64 string with a HMAC digest from an email address and your (encoded) secret:Now you can apply that to the  column values, and write out the new CSV with the results:Demo:


Answer URL
https://docs.python.org/3/library/hashlib.html
