Natural Text
I'm coding my first project in Python and what I found frustrating about Python and PyTest is that it's complicated to make the directory structure and importing modules working.I have a directory structure like this:Obviously, the names of the files are different than in the above example.When I want to import a class File2 from file2.py in file1.py or main.py, then in file1.py or main.py I write:The content of my context.py file is:This is how the content of one of the tests files (for example 'test_file1.py') look like more or less:And when I run football/main.py, it works.But when I run pytest, I get the error more or less like that:So it imports correctly the 'file1.py' file but when that file imports 'file2.py' it raises the error that it can't import (although this import works when I run football/main.py without tests).So how should all those imports be to make it all work and have no errors during tests?
You will need to add  to your Football/football directory for python package discovery. Then, one thing you could do is add a setup.py at your project's root level and within that use find_packages() to recursively find packages to add to the python path. You'll then have to pip install your project into the virtual environment before running your tests. Tools like tox make accomplishing these steps easier by automatically setting up the virtual environment before calling your test commands. Another option is to use the monkeypatch fixture (a pytest builtin) and modify the PYTHONPATH for your tests. You could put this in your tests/conftest.py. Still you would need to create an  in your Football/football  directory. 


Answer URL
https://docs.python.org/3/distutils/setupscript.html
