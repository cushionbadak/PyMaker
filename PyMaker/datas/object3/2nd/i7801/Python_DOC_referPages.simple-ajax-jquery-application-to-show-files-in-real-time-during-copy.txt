Natural Text
While studying Ajax/jQuery, I am trying to setup this test environment:the server recursively copy a full folder form one location toanother; the client should display the list of copied files, oneby one, in real time until the copy ends;in the client thereshould be a button to abort the copy operation.Can you pls point me to a simple skeleton of this problem, or give me any clue?Thanks, I appreciate.
Some general ideas for the client:It needs to establish a session. This is both so that it can see the file copy progress of the files it is copying and no other (possibly malicious) third party can see it. This can be done with some sort of a token. This can be stored as a cookie and the server can read this to see what session the request is from.You need the client to keep requesting the state at a steady interval. This is called polling.So, all your client has to do is request to establish a session, request which folder needs to be copied (Possibly needing to request a directory tree), and then make a request for which folder needs to be copied where, and keep making requests for the progress every few seconds or minutes until it is done. In the mean time, if the user wishes to cancel it, send a cancel request to some endpoint.On the server side, there are many technologies to do this.  is the most popular, but this seems like a smaller project, so might I recommended .As for the actual task,  is what you are looking for. It takes a custom copy function, which you can specify to update a sessions "currently copying" file when a new file needs to be copied:To get the percentage of how much of the file has been copied, compare the size of the file that is being copied to to the file it is being copied from.Another way to get the percentage of copying,  on a directory to generate all the file names, then open the files and copy it in chunks. Update the progress every few chunks. Note that this is very error prone.


Answer URL
https://docs.python.org/3/library/shutil.html#shutil.copytree
https://docs.python.org/3/library/os.html#os.walk
