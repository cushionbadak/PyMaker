Natural Text
I want to create a simple log-in account program in Python using the "CSV" library. Here is the code:Here is how my CSV file looks like. The first column is the usernames and the second one is the passwords:When I tried to test my program in IDLE, I noticed an unusual log-in issue.If I log in with the correct credentials, then the program works perfectly fine:If I log in with incorrect log in details, the program works as expected:But here is the issue. After entering incorrect log in details, the program asks the user to try again. This is done with a "while loop" in my code. Yet when I "try again", but with the correct details, the program thinks the log-in details are incorrect:Here is the same issue with another user from the csv file:I would love it if anyone could let me know what is wrong with my code. Please also show the full updated code along with an explanation for why the code in the answer is working and the difference between it and mine.Thank you.
It looks like that  running only oncetry change the order of your codeTry to open the file inside the  like this:should work fine because you close the file before each iteration
 goes through the file line by line, once.  After the file is exhausted, it doesn't do anything. You can instead load it into memory as a dictionary (provided it is not too large, otherwise you probably need a DB):If you're doing this for anything serious, consider hashing the passwords and using  instead of  for reading passwords.
csv.reader(%filename%) is generator. Python generators can be processed only once. So when your enter incorrect details generator goes up to last row and found nothing. When your code return to "while True" reader will be empty and "for row in reader:" will not return any values.Correct (or at least working) version should be something like this:


Answer URL
https://docs.python.org/3/library/getpass.html#getpass.getpass
