Natural Text
I'm writing a program to iterate my Robocopy-Log (>25 MB). It's by far not ready, cause I'm stuck with a problem.The problem is that after iterating ~1700 lines of my log -> I get an "UnicodeError":The program looks as follows:If I reduce the txt file to 1000 lines then the program works.If I delete line 1500 to 3000 and run again, I get again the unicode error around line 1700.So have I made an error or is this some memory limiting problem of Python?
Given your data & snippet, I would be surprised if this is a memory issue. It's more likely the encoding: Python is using your system's default encoding to read the file, which is "cp1252" (the default MS Windows encoding), but the file contains byte sequences/bytes which cannot be decoded in that encoding. A candidate for the file's actual encoding might be "latin-1", which you can make Python 3 use by sayingA possibly similar issue is Python 3 chokes on CP-1252/ANSI reading. A nice talk about the whole thing is here: http://nedbatchelder.com/text/unipain.html
Python decodes all file data to Unicode values. You didn't specify an encoding to use, so Python uses the default for your system, the  Windows Latin codepage.However, that is the wrong encoding for your file data. You need to specify an explicit codec to use:What encoding to use exactly, is unfortunately something you need to figure out yourself. I used UTF-8 as an example codec.Be aware that some versions of RoboCopy have problems producing valid output.If you don't yet know what Unicode is, or want to know about encodings, see:The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!) by Joel SpolskyThe Python Unicode HOWTOPragmatic Unicode by Ned BatchelderThe reason you see the error crop up for different parts of your file is that your data contains more than one codepoint that the cp1252 encoding cannot handle.


Answer URL
