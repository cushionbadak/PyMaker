Natural Text
Is it possible to modify code below to have printout from 'stdout 'and 'stderr':printed on the terminal (in real time),and finally stored in outs and errs variables?The code:Thanks to @unutbu, special thanks for @j-f-sebastian, final function:
You could spawn threads to read the stdout and stderr pipes, write to a common queue, and append to lists. Then use a third thread to print items from the queue.The reason for using the third thread -- instead of letting the first two threads both print directly to the terminal -- is to prevent both print statements from occurring concurrently, which can result in sometimes garbled text.  The above calls , which prints to stdout and stderr at random:This solution borrows code and ideas from J. F. Sebastian, here.Here is an alternative solution for Unix-like systems, using :This solution uses code and ideas from Adam Rosenfield's post, here.
To capture and display at the same time both stdout and stderr from a child process line by line in a single thread, you could use asynchronous I/O:


Answer URL
https://docs.python.org/3/library/sys.html#sys.stderr
