Natural Text
I have trouble in adding one value of dictionary when conditions met, For example I have this list of dictionaries:Then output should look like this:Quantity should be added only if plu and price are the same, it should ignore key:values other than that (ex. stock). What is the most efficient way to do that?@editI tried:But it works only on plu and then I get only quantity value when making html table in django, other are empty
You need to sort/ the combined key, not just one key. Easiest/most efficient way to do this is with . To preserve an arbitrary  value, you'll need to use the group twice, so you'll need to convert it to a sequence:Alternatively, if  is guaranteed to be the same for each unique / pair, you can include it in the  to simplify matters, so you don't need to listify the groups:Optionally, you could create  at top level (like the ) and change  to  which pushes work to the C layer in CPython, and can be faster if your groups are large.The other approach is to avoid sorting entirely using  (or , though  makes the intent more clear here):then convert back to your preferred form with:This should be faster for large inputs, since it replaces  sorting work with   operations (which are roughly  cost).
Using  will make this a trivial problem:And finally, if you want to, port it back to  (though I would argue  give you a lot more functionality to handle the data elements):


Answer URL
https://docs.python.org/3/library/operator.html#operator.itemgetter
https://docs.python.org/3/library/collections.html#collections.Counter
https://docs.python.org/3/library/collections.html#collections.defaultdict
