Natural Text
I was trying to use itertools.groupby to help me group a list of integers by positive or negative property, for example:input will return However if I:But if I don't  the groupby object, it will work fine:What I don't understand is, a groupby object is a iterator composed by a pair of key and  object, a call of  of a groupby object should not consume the  object?And even if it did consume, how did I get  from the second element?
Per the docs, it is explicitly noted that advancing the  object renders the previous group unusable (in practice, empty):The returned group is itself an iterator that shares the underlying iterable with . Because the source is shared, when the  object is advanced, the previous group is no longer visible. So, if that data is needed later, it should be stored as a list.Basically, instead of -ifying directly with the  constructor, you'd need a listcomp that converts from group iterators to s before advancing the  object, replacing:with:The design of most  module types is intended to avoid storing data implicitly, because they're intended to be used with potentially huge inputs. If all the groupers stored copies of all the data from the input (and the  object had to be sure to retroactively populate them), it would get ugly, and potentially blow memory by accident. By forcing you to make storing the values explicit, you don't accidentally store unbounded amounts of data unintentionally, per the Zen of Python:Explicit is better than implicit.


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
