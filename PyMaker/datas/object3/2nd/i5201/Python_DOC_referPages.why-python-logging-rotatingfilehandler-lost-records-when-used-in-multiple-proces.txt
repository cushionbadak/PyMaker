Natural Text
Recently I've realize that my application generate less log records than I expected. After some experiments I've found that problem is in  RotatingFileHandler and multiprocessing. Output:What did I do wrong?
As it is well explained, Although logging is thread-safe, and logging to a single file from multiple threads in a single process is supported, logging to a single file from multiple processes is not supportedIn a few words,  simply closes and deletes the file from one process, then opens a new file. But other processes don't know about a new file descriptor and see that previous have been closed. Only the process who managed to rotate the file first continues logging.In my answer to the similar question I've proposed to use  daemon to rotate files aside of these processes. It does not close the file descriptor, but just truncates the file. Thus file remains the same and other processes can continue logging.


Answer URL
https://docs.python.org/3/howto/logging-cookbook.html#logging-to-a-single-file-from-multiple-processes
