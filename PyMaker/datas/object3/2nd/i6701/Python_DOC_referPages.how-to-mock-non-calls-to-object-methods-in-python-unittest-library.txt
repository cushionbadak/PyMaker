Natural Text
I've got a really useful python method like this:when I want to test it to make sure I called , I do:but what do I do when I want to test not calling  when the return value of  doesn't evaluate to True?If I tried making another unit test with:this would blow up. 
You need to create a second mock object (instead of setting ), but the widget needs to be falsey to prevent the function from entering the if condition.In Python, an object is always "truthy" unless is has a zero-length, or it has a  method that returns :object.__bool__(self)Called to implement truth value testing and the built-in operation ; should return  or . When this method is not defined,  is called, if it is defined, and the object is considered true if its result is nonzero. If a class defines neither  nor , all its instances are considered true.Probably the "right way" to add a  method to your mock object would be to use , which comes with many of the Python "magic methods" pre-defined. But you'll also have to change the return value to , like so:


Answer URL
https://docs.python.org/3/reference/datamodel.html#object.__bool__
