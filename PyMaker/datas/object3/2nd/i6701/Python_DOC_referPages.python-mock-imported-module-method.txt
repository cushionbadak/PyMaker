Natural Text
I have to test if the method pyautogui.click() is called. This is my Player.py file:And this is my test file:I tried with  and also many other things but I really cannot find how to assert that pyautogui.click() is called once.
You're looking for unittest.mock.patch. Patch replaces an imported module with a mock version for the duration of a test. The most important thing to understand about it is that you have to patch something where it is imported, not where it lives. That means you patch , not  itself. You should read "Where to Patch" in the docs.You can add the patch decorator to your test function and pass it what you want to replace with a mock. The string you pass it should be a relative path from where you're running your tests (usually the root directory of your project). I'll assume both of your files are in the same folder, and you run your tests from that folder.The patch decorator will then pass your test function an instance of MagicMock as the argument after . You can name it whatever you'd like. I'll call it  in the sample below. Inside your function, you can make assertions like you normally would.


Answer URL
https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch
https://docs.python.org/3/library/unittest.mock.html#id5
https://docs.python.org/3/library/unittest.mock.html
