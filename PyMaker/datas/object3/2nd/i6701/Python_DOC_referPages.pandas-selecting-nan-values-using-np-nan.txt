Natural Text
So I found out that the float NaN apparently doesn't equal itself. My question is how to deal with it. Let's start with a dataframe:So test1 and test2 aren't the same. Many others have mentioned that we should use . My question is, is it safe to just use ? For example, if I need to create a new column using np.where, can I simply do:Or should I always use  like so:
You should always use  or  if you suspect there could be s.For example suppose you have an -dtype column (unfortunately these aren't uncommon):Then using  won't give you correct results:While  still works correctly:Given that  support isn't explicitly mentioned in  nor  it might just be an implementation detail that it correctly "finds" NaNs. And implementation details are always bad to rely on. They could change anytime...Aside from this, it always pays off to be explicit. An explicit  or  check should be (in my opinion) preferred.


Answer URL
https://docs.python.org/3/library/timeit.html
