Natural Text
My question is a specification of how can i validate username password for mongodb authentication through pymongo?.I'm trying to connect to a MongoDB instance using PyMongo 3.2.2 and a URL that contains the user and password, as explained in MongoDB Docs. The difference is that the password I'm using contains a '@'.At first I simply tried to connect without escaping, like this:prefix = 'mongodb://'user = 'user:passw_with_@_'suffix = '@127.0.0.1:27001/'conn = pymongo.MongoClient(prefix + user + suffix)Naturally I got the following error: So I tried escaping the user:pass part using urllib.quote() like this:prefix = 'mongodb://'user = urllib.quote('user:passw_with_@_')suffix = '@127.0.0.1:27001/'conn = pymongo.MongoClient(prefix + user + suffix)but then I got a: (Important to say that using a GUI MongoDB Management Tool (Robomongo, if that matters) I'm able to connect to the MongoDB using the (real) address and credentials.)Printing user variable in the code above generated a  String (that is '@' became '%40') and according to wikipedia that's the expected escaping.I even tried escaping the @ with single and double backslashes ( and ), but those failed with the InvalidURI exception.TL;DR;My question is: How do I escape a '@' in the password part of a MongoDB URL?
You should be able to escape the password using . Although you should only quote/escape the password, and exclude the  ;otherwise the  will also be escaped into . For example: The above snippet was tested for MongoDB v3.2.x, Python v2.7, and PyMongo v3.2.2. The example above assumed in the MongoDB URI connection string: The user is created in the  database. The host  running on is 127.0.0.1 (localhost) The port  assigned to is 27001For Python 3.x, you can utilise urllib.parse.quote() to replace special characters in your password using the  escape. For example: 
Python 3.6.5 - PyMongo 3.7.0 version for connecting to an mlab instance:This is the only way I have managed to connect to the mlab MongoDB instance without using flask-pymongo spun up app, I needed to create fixtures for unit tests.Python 3.6.5 - PyMongo 3.7.0 localhost version:


Answer URL
https://docs.python.org/3/library/urllib.parse.html#urllib.parse.quote
