Natural Text
I have following code to select the values which are not contained in the another list.Expected outcome should be like this:But I get all unmatched values. How can I get the expected outcome as I showed above.
You should be using  within your loop. Infact you may achieve it using below list comprehension as:Here  will return  if any of string in  is present as substring in . As soon as it finds the match, it will short-circuit the iteration (without checking for other matches) and will return the result as . In case if you are not interested in using , you may get the same result with the below  loop as:which will print your desired output:
You would need to test all values in  before you can conclude none of those match.Rather than loop over  first, loop over  and test that value with each of the  values; the  function makes that easier and more efficient:More efficient still would be to split out the ISBN portion, and test against a set:This avoids looping over  altogther; set membership testing takes O(1) constant time; for N skus and M ISBN values, this makes a O(N) loop (vs O(NM) loop with ).Either version can be converted to a list comprehension to produce a list of matches; the preferred set version then becomes:Demo of the latter:
If you remove matches from a set, then the left over set is what you are after:Code:Test Code:Results:


Answer URL
https://docs.python.org/3/library/functions.html#any
https://docs.python.org/3/library/functions.html#any
https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions
