Natural Text
I was looking for some approach in Python / Unix Command to shuffle large data set of text by grouping based on first words value like below-Input Text:So it would be randomly shuffled but keep the group together like belowOutput Sample-I found solution by normal shuffling, but I am not getting the idea to keep the group while shuffling.
It is possible to do it using collections.defaultdict. By identifying each line by its first sequence you can sort through them easily and then only sample over the dictionary's keys, like so:Hope this helps in your endeavor.
You could also store each line from the file into a nested list:Which gives:Then you could group these lists by the first item with :Which gives a list of your grouped items:Then you could shuffle this with :Which gives a randomized list of your grouped items intact:And now all you have to do is flatten the final list and write it to a new file, which you can do with :Which a gives new shuffled version of your file:


Answer URL
https://docs.python.org/3/library/itertools.html#itertools.groupby
https://docs.python.org/3/library/random.html#random.shuffle
https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable
