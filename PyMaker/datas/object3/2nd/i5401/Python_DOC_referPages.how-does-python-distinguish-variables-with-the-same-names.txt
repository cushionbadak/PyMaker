Natural Text
This question already has an answer here:Scope of python variable in for loop                    10 answers                I don't understand how python deals with variables with same names in a program, especially in  loops.The following is a python programThe outcome is as followsI don't understand why I get the above-mentioned outcome. In my opinion, when  is 0, the program will execute , so  becomes 2, and is printed out. Then the  finishes one loop so that  is increased by 1. So after the first loop,  should become 3. I test my opinion using the following C++ program, the result is exactly what I expect.The outcome is as follows:Why is the result of python program looks like that?To further exploit the reasons, I add more  sentences to the python program as follows:Then the outcome becomes:It seems python treat 's differently in different parts of the program. It implicitly declares another variable named . But why? And what is the rule of python to decide whether to declare a new variable implicitly?
It doesn't matter how you modify  inside the loop, the next iteration a new value will be fetched from the  object and the value of  will be overwritten.So the Python loopis not equivalent to the C loopwhich uses the current value of  to calculate the new value. Instead it's more equivalent towhere  doesn't consider the current value of  at all.
Python simply draws elements from the iterable produced by  and binds  to each of these elements, that's it. So, what Python is doing is:As you can see, you can modify  the way you want, but it will be set equal to  right on the next iteration.
This is what you get when you run  in a python (2.7) shell:So what your code is doing is the same asWhich means  is set to the next value in the array at each iteration, regardless of what you did with  in the previous iterationObs:As was pointed out, in python 3  actually creates a range object , which will function like the list above in your example but isn't exactly the same thing. It's an object that stores only the start, stop and step values so as not to store the whole list, and calculates items as needed.For the purpose of understanding what's going on in your question they're gonna be pretty much the same


Answer URL
https://docs.python.org/3/library/stdtypes.html?highlight=range#range
