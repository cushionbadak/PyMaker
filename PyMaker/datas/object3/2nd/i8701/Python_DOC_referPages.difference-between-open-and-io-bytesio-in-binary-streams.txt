Natural Text
I'm learning about working with streams in Python and I noticed that the IO docs say the following:The easiest way to create a binary stream is with open() with 'b' in the mode string:In-memory binary streams are also available as BytesIO objects:What is the difference between  as defined by  and  as defined by . In other words, what makes a "In-memory binary stream" and how is that different from what  does?
For simplicity's sake, let's consider writing instead of reading for now.So when you use  like say:After executing that a file called  will be created, containing . The data wont be kept in memory after it's written to the file (unless being kept by a name).Now when you consider  instead:Which instead of writing the contents to a file, it's written to an in memory buffer. In other words a chunk of RAM. Essentially writing the following would be the equivalent:In relation to the example with the with statement, then at the end there would also be a .The key difference here is optimization and performance.  is able to do some optimizations that makes it faster than simply concatenating all the  one by one.Just to prove it here's a small benchmark:Concat:  1.3529 secondsBytesIO: 0.0090 secondsBesides the performance gain, using  instead of concatenating has the advantage that  can be used in place of a file object. So say you have a function that expects a file object to write to. Then you can give it that in-memory buffer instead of a file.The difference is that  simply loads and returns the contents of ; whereas,  again is just a buffer containing some data.Since  is just a buffer - if you wanted to write the contents to a file later - you'd have to do:Also, you didn't mention a version; I'm using Python 3. Related to the examples: I'm using the with statement instead of calling 
Using  opens a file on your hard drive. Depending on what mode you use, you can read or write (or both) from the disk.A  object isn't associated with any real file on the disk. It's just a chunk of memory that behaves like a file does. It has the same API as a file object returned from  (with mode , allowing reading and writing of binary data). (and it's close sibling  which is always in text mode) can be useful when you need to pass data to or from an API that expect to be given a file object, but where you'd prefer to pass the data directly. You can load your input data you have into the  before giving it to the library. After it returns, you can get any data the library wrote to the file from the  using the  method. (Usually you'd only need to do one of those, of course.)
read bytes from file from disk disk and assign such value to object referenced as 'f' which is kept by Python in memory.assign bytes stream value to object referenced as 'f' which is kept by Python in memory. 


Answer URL
https://docs.python.org/3/library/io.html
