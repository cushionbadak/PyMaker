Natural Text
I would like to write a Python script to automate the process of adding the dependencies of a npm package to my Open Build Service project. I have a shell function:this is the Python script I have at the moment (the  file being imported is the  of the npm package):I would like to pass the  variable to the  shell function (i.e., I would like this Python loop to run the shell command  on every iteration). How do I do this?
Functions are good for interactive use, but this seems like a case where you want a stand-alone script instead.If you want to have a function you can load into your  or similar, you could do something like the Python  idiom in the script file, too.  But renaming the file to the name of the command and getting rid of the function would seem like the simplest way to achieve your end goal here.Save this as, say,  and  it.  Make sure  is in your , too.(Note the addition of proper quotes for good measure.)Now, you can call it from Python, as with any regular external command.The choice between  and  will depend on whether the script returns a useful exit code.  It doesn't at the moment, so actually  would be sufficient; on the other hand, you should fix that, and use  to have Python tell you when some part of the shell script failed.Minimally, adding  to the shell script will make it check for errors, and abort if anything fails; but this often requires refactoring to avoid terminating on non-fatal errors (like  not returning a result -- this is technically an error, but often an acceptable part of normal flow).
Using Python string concatenation with  is a great security risk, a key  for example would delete all your files.Python's  module is much more suited for this use:
Just input key into  as well.


Answer URL
https://docs.python.org/3/library/subprocess.html
