Natural Text
I'm using Python 3.x. Could someone please explain to me what  in the below block of code is?When I ran the above code,  produced this:I don't understand this. I can see that it's related to the with statement, but it doesn't really look like a variable.So what is ? Is it a variable, or something else? If it is a variable, what data type is it?
Yes,  is a variable, referencing whatever the context manager produced by  returned. It happens to be the same object. In other words,  references a file object.You could also have done this, to the same effect here:so the file is automatically closed. That's because file objects are context managers; they support the context manager protocol. Technically speaking, the  target variable is bound to the the return value of , but a file object returns itself from that method, and the  method closes the file. See the  compound statement documentation.Now, when you print an object that doesn't have a string representation, it'll print using the  function:so yes, this is just another object, one with a custom, helpful representation. File objects implement the  hook to produce this:The name of the file object may also be confusing here. That's because file objects in Python are part of a series of objects defined by the  module; a  object wraps a buffer (here a , which in turn will wrap the raw, binary file object in the form of a  object:This is all just tech detail you don't normally need to worry about. Each object performs a specific function, and someone needing to do more advanced I/O wrangling can mix and match these.
That's the text representation of an object when it doesn't have its own  or .   is a variable which points to an object of that was created in the with statement.
It is the object that is returned by the  context manager call. The  is a file-like object that you can do things with like read, write, seek, and close. When you do this:The method  gets called, and whatever it returns gets assigned to the variable/name . So yes, in your example  is indeed a variable that has been assigned to whatever object has been returned by the  context manager. In this case it is a  object. This is why when you do:You get: ...which is just the string representation of that kind of object. You can manually get the same object this way:Note that the object returned by  is the same object you would get from . This is because the  method of the  object just returns . However, this is not always the case with other objects. If you find all of this confusing I suggest reading up a bit more about the . 


Answer URL
https://docs.python.org/3/reference/datamodel.html#with-statement-context-managers
https://docs.python.org/3/reference/compound_stmts.html#with
https://docs.python.org/3/reference/datamodel.html#object.__repr__
https://docs.python.org/3/library/io.html
https://docs.python.org/3/library/io.html#io.TextIOWrapper
https://docs.python.org/3/library/io.html#io.BufferedReader
https://docs.python.org/3/library/io.html#io.FileIO
https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects
https://docs.python.org/3/reference/compound_stmts.html#with
