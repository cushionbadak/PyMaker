Natural Text
I've written a neovim plugin (not the important part) that uses a python subprocess as background daemon. I send data to stdin and return data from stdoutBasics of the plugin are hereStarting the serverSending a request to stdinAs the code is now, everything works as expected. But now I'm seeing the  locks up when the returned content length is quite high, around 33K. In this while block I'm trying to extract the actual content from stdout, but it cannot return the data, only locking up at the content length.Is there possibly a better way of handling this so that the subprocess does not get locked up?
My guess is that the pipe gets filled up with so much data, that the subprocess gets blocked, while your code is blocked because it's trying to read which leads to a deadlock.Why not poll the data instead of block reading?Check out the documentation of  for waiting for IO completion.


Answer URL
https://docs.python.org/3/library/select.html
