Natural Text
I use this code to create an async subprecess,then get message from stdout.EveryThing is good,what i read from pipe is a 2k jpg 2 fpsï¼Œthe Image byte size is 11059200,but the max size when i read is always 8192,So i try this to get one time.It seems OK.start22018-06-12T19:44:30.902742+08:00  end2018-06-12T19:44:30.909693+08:00  2018-06-12T19:44:30.916675+08:00If the pipe is transform big file,the process will not enable to handle data  immediately,So the program always broke.I want to know,Why the packet receive from pipe is awlay 8192,Can I read like a normal Subprocess.Pipe.read(bufsize=width*height*3)?Any Good Suggest for this Question?the image
the Image byte size is 11059200,but the max size when i read is always 8192 reads at most the specified number of bytes, but can return fewer bytes, as much as is returned by the underlying system call. This is normally a feature, because it allows you to process the data as it arrives, while still enforcing an upper bound on the amount of data kept in memory at once.In your code you want to wait until the whole image is ready, which you can do by calling  instead of :


Answer URL
https://docs.python.org/3/library/asyncio-stream.html#asyncio.StreamReader.read
https://docs.python.org/3/library/asyncio-stream.html#asyncio.StreamReader.readexactly
