Natural Text
I'm trying to create a function in my script that zips the contents of a given source directory () to a zip file (). For example, , where  is a directory, and  doesn't exist yet. I do not want to zip the directory itself, this makes all the difference in my case. I want to zip the files (and subdirs) in the directory. This is what I'm trying:This creates a zip that is essentially . For example, if I zipped , extracting the zip creates a directory with "path" in it, with "to" in that directory, etc.Does anyone have a function that doesn't cause this problem?I can't stress this enough, it needs to zip the files in the directory, not the directoy itself.
The  method takes an optional  argumentthat specifies what the name of the file should be inside the zipfile.You can use this to strip off the path to  at the beginning. Here Iuse  to make sure that both  and thefilename returned by  have a common prefix.With a directory structure like this:The script prints:And the contents of the resulting zip file are:
Use the  parameter to control the name/path in the zip file.For example, for a zip file that contains only files, no directories:Or to invent a new directory inside the zip file:
From what I can tell you are close.  You could use  and  to make sure you are grabbing the right path name:Then using  you can make sure you are in the parent so the paths are relative.This creates:If do not want to include the name "dst" you can just do  and then .Hope that helps.


Answer URL
